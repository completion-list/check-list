(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sm={exports:{}},_u={};var Tx;function vM(){if(Tx)return _u;Tx=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:l}}return _u.Fragment=e,_u.jsx=t,_u.jsxs=t,_u}var xx;function _M(){return xx||(xx=1,Sm.exports=vM()),Sm.exports}var y=_M(),wm={exports:{}},ke={};var Sx;function bM(){if(Sx)return ke;Sx=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=x&&U[x]||U["@@iterator"],typeof U=="function"?U:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,k={};function F(U,ne,ue){this.props=U,this.context=ne,this.refs=k,this.updater=ue||M}F.prototype.isReactComponent={},F.prototype.setState=function(U,ne){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ne,"setState")},F.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function z(){}z.prototype=F.prototype;function X(U,ne,ue){this.props=U,this.context=ne,this.refs=k,this.updater=ue||M}var le=X.prototype=new z;le.constructor=X,P(le,F.prototype),le.isPureReactComponent=!0;var ce=Array.isArray;function oe(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function O(U,ne,ue){var fe=ue.ref;return{$$typeof:r,type:U,key:ne,ref:fe!==void 0?fe:null,props:ue}}function j(U,ne){return O(U.type,ne,U.props)}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function L(U){var ne={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return ne[ue]})}var N=/\/+/g;function Re(U,ne){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):ne.toString(36)}function Ne(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(oe,oe):(U.status="pending",U.then(function(ne){U.status==="pending"&&(U.status="fulfilled",U.value=ne)},function(ne){U.status==="pending"&&(U.status="rejected",U.reason=ne)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ee(U,ne,ue,fe,Q){var Y=typeof U;(Y==="undefined"||Y==="boolean")&&(U=null);var pe=!1;if(U===null)pe=!0;else switch(Y){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(U.$$typeof){case r:case e:pe=!0;break;case v:return pe=U._init,ee(pe(U._payload),ne,ue,fe,Q)}}if(pe)return Q=Q(U),pe=fe===""?"."+Re(U,0):fe,ce(Q)?(ue="",pe!=null&&(ue=pe.replace(N,"$&/")+"/"),ee(Q,ne,ue,"",function(Ue){return Ue})):Q!=null&&(D(Q)&&(Q=j(Q,ue+(Q.key==null||U&&U.key===Q.key?"":(""+Q.key).replace(N,"$&/")+"/")+pe)),ne.push(Q)),1;pe=0;var je=fe===""?".":fe+":";if(ce(U))for(var be=0;be<U.length;be++)fe=U[be],Y=je+Re(fe,be),pe+=ee(fe,ne,ue,Y,Q);else if(be=S(U),typeof be=="function")for(U=be.call(U),be=0;!(fe=U.next()).done;)fe=fe.value,Y=je+Re(fe,be++),pe+=ee(fe,ne,ue,Y,Q);else if(Y==="object"){if(typeof U.then=="function")return ee(Ne(U),ne,ue,fe,Q);throw ne=String(U),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return pe}function he(U,ne,ue){if(U==null)return U;var fe=[],Q=0;return ee(U,fe,"","",function(Y){return ne.call(ue,Y,Q++)}),fe}function ye(U){if(U._status===-1){var ne=U._result;ne=ne(),ne.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=ne)}if(U._status===1)return U._result.default;throw U._result}var Le=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Fe={map:he,forEach:function(U,ne,ue){he(U,function(){ne.apply(this,arguments)},ue)},count:function(U){var ne=0;return he(U,function(){ne++}),ne},toArray:function(U){return he(U,function(ne){return ne})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return ke.Activity=b,ke.Children=Fe,ke.Component=F,ke.Fragment=t,ke.Profiler=a,ke.PureComponent=X,ke.StrictMode=i,ke.Suspense=p,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ke.__COMPILER_RUNTIME={__proto__:null,c:function(U){return I.H.useMemoCache(U)}},ke.cache=function(U){return function(){return U.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(U,ne,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var fe=P({},U.props),Q=U.key;if(ne!=null)for(Y in ne.key!==void 0&&(Q=""+ne.key),ne)!C.call(ne,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&ne.ref===void 0||(fe[Y]=ne[Y]);var Y=arguments.length-2;if(Y===1)fe.children=ue;else if(1<Y){for(var pe=Array(Y),je=0;je<Y;je++)pe[je]=arguments[je+2];fe.children=pe}return O(U.type,Q,fe)},ke.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},ke.createElement=function(U,ne,ue){var fe,Q={},Y=null;if(ne!=null)for(fe in ne.key!==void 0&&(Y=""+ne.key),ne)C.call(ne,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Q[fe]=ne[fe]);var pe=arguments.length-2;if(pe===1)Q.children=ue;else if(1<pe){for(var je=Array(pe),be=0;be<pe;be++)je[be]=arguments[be+2];Q.children=je}if(U&&U.defaultProps)for(fe in pe=U.defaultProps,pe)Q[fe]===void 0&&(Q[fe]=pe[fe]);return O(U,Y,Q)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(U){return{$$typeof:d,render:U}},ke.isValidElement=D,ke.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:ye}},ke.memo=function(U,ne){return{$$typeof:m,type:U,compare:ne===void 0?null:ne}},ke.startTransition=function(U){var ne=I.T,ue={};I.T=ue;try{var fe=U(),Q=I.S;Q!==null&&Q(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(oe,Le)}catch(Y){Le(Y)}finally{ne!==null&&ue.types!==null&&(ne.types=ue.types),I.T=ne}},ke.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ke.use=function(U){return I.H.use(U)},ke.useActionState=function(U,ne,ue){return I.H.useActionState(U,ne,ue)},ke.useCallback=function(U,ne){return I.H.useCallback(U,ne)},ke.useContext=function(U){return I.H.useContext(U)},ke.useDebugValue=function(){},ke.useDeferredValue=function(U,ne){return I.H.useDeferredValue(U,ne)},ke.useEffect=function(U,ne){return I.H.useEffect(U,ne)},ke.useEffectEvent=function(U){return I.H.useEffectEvent(U)},ke.useId=function(){return I.H.useId()},ke.useImperativeHandle=function(U,ne,ue){return I.H.useImperativeHandle(U,ne,ue)},ke.useInsertionEffect=function(U,ne){return I.H.useInsertionEffect(U,ne)},ke.useLayoutEffect=function(U,ne){return I.H.useLayoutEffect(U,ne)},ke.useMemo=function(U,ne){return I.H.useMemo(U,ne)},ke.useOptimistic=function(U,ne){return I.H.useOptimistic(U,ne)},ke.useReducer=function(U,ne,ue){return I.H.useReducer(U,ne,ue)},ke.useRef=function(U){return I.H.useRef(U)},ke.useState=function(U){return I.H.useState(U)},ke.useSyncExternalStore=function(U,ne,ue){return I.H.useSyncExternalStore(U,ne,ue)},ke.useTransition=function(){return I.H.useTransition()},ke.version="19.2.4",ke}var wx;function Ld(){return wx||(wx=1,wm.exports=bM()),wm.exports}var B=Ld();const Wt=Yt(B);var Ax="popstate";function EM(r={}){function e(a,l){let{pathname:c="/",search:d="",hash:p=""}=Ua(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),U_("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=a.location.href,m=p.indexOf("#");d=m===-1?p:p.slice(0,m)}return d+"#"+(typeof l=="string"?l:Hu(l))}function i(a,l){cr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return xM(e,t,i,r)}function St(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function cr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TM(){return Math.random().toString(36).substring(2,10)}function Rx(r,e){return{usr:r.state,key:r.key,idx:e}}function U_(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ua(e):e,state:t,key:e&&e.key||i||TM()}}function Hu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ua(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function xM(r,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",p=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let k=v(),F=k==null?null:k-m;m=k,p&&p({action:d,location:P.location,delta:F})}function x(k,F){d="PUSH";let z=U_(P.location,k,F);t&&t(z,k),m=v()+1;let X=Rx(z,m),le=P.createHref(z);try{c.pushState(X,"",le)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;a.location.assign(le)}l&&p&&p({action:d,location:P.location,delta:1})}function S(k,F){d="REPLACE";let z=U_(P.location,k,F);t&&t(z,k),m=v();let X=Rx(z,m),le=P.createHref(z);c.replaceState(X,"",le),l&&p&&p({action:d,location:P.location,delta:0})}function M(k){return SM(k)}let P={get action(){return d},get location(){return r(a,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Ax,b),p=k,()=>{a.removeEventListener(Ax,b),p=null}},createHref(k){return e(a,k)},createURL:M,encodeLocation(k){let F=M(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:x,replace:S,go(k){return c.go(k)}};return P}function SM(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),St(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Hu(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function II(r,e,t="/"){return wM(r,e,t,!1)}function wM(r,e,t,i){let a=typeof e=="string"?Ua(e):e,l=ji(a.pathname||"/",t);if(l==null)return null;let c=NI(r);AM(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=PM(l);d=jM(c[p],m,i)}return d}function NI(r,e=[],t=[],i="",a=!1){let l=(c,d,p=a,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&p)return;St(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=ki([i,v.relativePath]),x=t.concat(v);c.children&&c.children.length>0&&(St(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),NI(c.children,e,x,b,p)),!(c.path==null&&!c.index)&&e.push({path:b,score:kM(b,c.index),routesMeta:x})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of OI(c.path))l(c,d,!0,p)}),e}function OI(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=OI(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function AM(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:MM(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var RM=/^:[\w-]+$/,CM=3,IM=2,NM=1,OM=10,DM=-2,Cx=r=>r==="*";function kM(r,e){let t=r.split("/"),i=t.length;return t.some(Cx)&&(i+=DM),e&&(i+=IM),t.filter(a=>!Cx(a)).reduce((a,l)=>a+(RM.test(l)?CM:l===""?NM:OM),i)}function MM(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function jM(r,e,t=!1){let{routesMeta:i}=r,a={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],m=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=fd({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),x=p.route;if(!b&&m&&t&&!i[i.length-1].route.index&&(b=fd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:ki([l,b.pathname]),pathnameBase:BM(ki([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=ki([l,b.pathnameBase]))}return c}function fd(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=VM(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:b},x)=>{if(v==="*"){let M=d[x]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const S=d[x];return b&&!S?m[v]=void 0:m[v]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:r}}function VM(r,e=!1,t=!0){cr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function PM(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ji(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}var LM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function UM(r,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof r=="string"?Ua(r):r,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=Ix(t.substring(1),"/"):l=Ix(t,e)):l=e,{pathname:l,search:zM(i),hash:FM(a)}}function Ix(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Am(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qM(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _0(r){let e=qM(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function b0(r,e,t,i=!1){let a;typeof r=="string"?a=Ua(r):(a={...r},St(!a.pathname||!a.pathname.includes("?"),Am("?","pathname","search",a)),St(!a.pathname||!a.pathname.includes("#"),Am("#","pathname","hash",a)),St(!a.search||!a.search.includes("#"),Am("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;a.pathname=x.join("/")}d=b>=0?e[b]:"/"}let p=UM(a,d),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var ki=r=>r.join("/").replace(/\/\/+/g,"/"),BM=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),zM=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,FM=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,HM=class{constructor(r,e,t,i=!1){this.status=r,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function GM(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function $M(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var DI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kI(r,e){let t=r;if(typeof t!="string"||!LM.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,a=!1;if(DI)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=ji(c.pathname,e);c.origin===l.origin&&d!=null?t=d+c.search+c.hash:a=!0}catch{cr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MI=["POST","PUT","PATCH","DELETE"];new Set(MI);var KM=["GET",...MI];new Set(KM);var sl=B.createContext(null);sl.displayName="DataRouter";var Ud=B.createContext(null);Ud.displayName="DataRouterState";var WM=B.createContext(!1),jI=B.createContext({isTransitioning:!1});jI.displayName="ViewTransition";var YM=B.createContext(new Map);YM.displayName="Fetchers";var QM=B.createContext(null);QM.displayName="Await";var Gn=B.createContext(null);Gn.displayName="Navigation";var tc=B.createContext(null);tc.displayName="Location";var Dr=B.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var E0=B.createContext(null);E0.displayName="RouteError";var VI="REACT_ROUTER_ERROR",XM="REDIRECT",JM="ROUTE_ERROR_RESPONSE";function ZM(r){if(r.startsWith(`${VI}:${XM}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ej(r){if(r.startsWith(`${VI}:${JM}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new HM(e.status,e.statusText,e.data)}catch{}}function tj(r,{relative:e}={}){St(al(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(Gn),{hash:a,pathname:l,search:c}=nc(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:ki([t,l])),i.createHref({pathname:d,search:c,hash:a})}function al(){return B.useContext(tc)!=null}function zi(){return St(al(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(tc).location}var PI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LI(r){B.useContext(Gn).static||B.useLayoutEffect(r)}function T0(){let{isDataRoute:r}=B.useContext(Dr);return r?mj():nj()}function nj(){St(al(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(sl),{basename:e,navigator:t}=B.useContext(Gn),{matches:i}=B.useContext(Dr),{pathname:a}=zi(),l=JSON.stringify(_0(i)),c=B.useRef(!1);return LI(()=>{c.current=!0}),B.useCallback((p,m={})=>{if(cr(c.current,PI),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=b0(p,JSON.parse(l),a,m.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ki([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,l,a,r])}B.createContext(null);function rj(){let{matches:r}=B.useContext(Dr),e=r[r.length-1];return e?e.params:{}}function nc(r,{relative:e}={}){let{matches:t}=B.useContext(Dr),{pathname:i}=zi(),a=JSON.stringify(_0(t));return B.useMemo(()=>b0(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function ij(r,e){return UI(r,e)}function UI(r,e,t,i,a){St(al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=B.useContext(Gn),{matches:c}=B.useContext(Dr),d=c[c.length-1],p=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let z=b&&b.path||"";BI(m,!b||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let x=zi(),S;if(e){let z=typeof e=="string"?Ua(e):e;St(v==="/"||z.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${z.pathname}" was given in the \`location\` prop.`),S=z}else S=x;let M=S.pathname||"/",P=M;if(v!=="/"){let z=v.replace(/^\//,"").split("/");P="/"+M.replace(/^\//,"").split("/").slice(z.length).join("/")}let k=II(r,{pathname:P});cr(b||k!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),cr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=uj(k&&k.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:ki([v,l.encodeLocation?l.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:ki([v,l.encodeLocation?l.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),c,t,i,a);return e&&F?B.createElement(tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},F):F}function sj(){let r=pj(),e=GM(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=B.createElement(B.Fragment,null,B.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:l},"ErrorBoundary")," or"," ",B.createElement("code",{style:l},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:a},t):null,c)}var aj=B.createElement(sj,null),qI=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=ej(r.digest);t&&(r=t)}let e=r!==void 0?B.createElement(Dr.Provider,{value:this.props.routeContext},B.createElement(E0.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?B.createElement(oj,{error:r},e):e}};qI.contextType=WM;var Rm=new WeakMap;function oj({children:r,error:e}){let{basename:t}=B.useContext(Gn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=ZM(e.digest);if(i){let a=Rm.get(e);if(a)throw a;let l=kI(i.location,t);if(DI&&!Rm.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Rm.set(e,c),c}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function lj({routeContext:r,match:e,children:t}){let i=B.useContext(sl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Dr.Provider,{value:r},t)}function uj(r,e=[],t=null,i=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t?.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);St(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,p=-1;if(t)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:x,errors:S}=t,M=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||M){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let m=t&&i?(v,b)=>{i(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:$M(t.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,x)=>{let S,M=!1,P=null,k=null;t&&(S=c&&b.route.id?c[b.route.id]:void 0,P=b.route.errorElement||aj,d&&(p<0&&x===0?(BI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,k=null):p===x&&(M=!0,k=b.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,x+1)),z=()=>{let X;return S?X=P:M?X=k:b.route.Component?X=B.createElement(b.route.Component,null):b.route.element?X=b.route.element:X=v,B.createElement(lj,{match:b,routeContext:{outlet:v,matches:F,isDataRoute:t!=null},children:X})};return t&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?B.createElement(qI,{location:t.location,revalidation:t.revalidation,component:P,error:S,children:z(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:m}):z()},null)}function x0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cj(r){let e=B.useContext(sl);return St(e,x0(r)),e}function hj(r){let e=B.useContext(Ud);return St(e,x0(r)),e}function dj(r){let e=B.useContext(Dr);return St(e,x0(r)),e}function S0(r){let e=dj(r),t=e.matches[e.matches.length-1];return St(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function fj(){return S0("useRouteId")}function pj(){let r=B.useContext(E0),e=hj("useRouteError"),t=S0("useRouteError");return r!==void 0?r:e.errors?.[t]}function mj(){let{router:r}=cj("useNavigate"),e=S0("useNavigate"),t=B.useRef(!1);return LI(()=>{t.current=!0}),B.useCallback(async(a,l={})=>{cr(t.current,PI),t.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var Nx={};function BI(r,e,t){!e&&!Nx[r]&&(Nx[r]=!0,cr(!1,t))}B.memo(gj);function gj({routes:r,future:e,state:t,onError:i}){return UI(r,void 0,t,i,e)}function q_({to:r,replace:e,state:t,relative:i}){St(al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=B.useContext(Gn);cr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=B.useContext(Dr),{pathname:c}=zi(),d=T0(),p=b0(r,_0(l),c,i==="path"),m=JSON.stringify(p);return B.useEffect(()=>{d(JSON.parse(m),{replace:e,state:t,relative:i})},[d,m,i,e,t]),null}function Aa(r){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yj({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){St(!al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof t=="string"&&(t=Ua(t));let{pathname:m="/",search:v="",hash:b="",state:x=null,key:S="default"}=t,M=B.useMemo(()=>{let P=ji(m,d);return P==null?null:{location:{pathname:P,search:v,hash:b,state:x,key:S},navigationType:i}},[d,m,v,b,x,S,i]);return cr(M!=null,`<Router basename="${d}"> is not able to match the URL "${m}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:B.createElement(Gn.Provider,{value:p},B.createElement(tc.Provider,{children:e,value:M}))}function zI({children:r,location:e}){return ij(B_(r),e)}function B_(r,e=[]){let t=[];return B.Children.forEach(r,(i,a)=>{if(!B.isValidElement(i))return;let l=[...e,a];if(i.type===B.Fragment){t.push.apply(t,B_(i.props.children,l));return}St(i.type===Aa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=B_(i.props.children,l)),t.push(c)}),t}var Jh="get",Zh="application/x-www-form-urlencoded";function qd(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function vj(r){return qd(r)&&r.tagName.toLowerCase()==="button"}function _j(r){return qd(r)&&r.tagName.toLowerCase()==="form"}function bj(r){return qd(r)&&r.tagName.toLowerCase()==="input"}function Ej(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Tj(r,e){return r.button===0&&(!e||e==="_self")&&!Ej(r)}var Hh=null;function xj(){if(Hh===null)try{new FormData(document.createElement("form"),0),Hh=!1}catch{Hh=!0}return Hh}var Sj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cm(r){return r!=null&&!Sj.has(r)?(cr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zh}"`),null):r}function wj(r,e){let t,i,a,l,c;if(_j(r)){let d=r.getAttribute("action");i=d?ji(d,e):null,t=r.getAttribute("method")||Jh,a=Cm(r.getAttribute("enctype"))||Zh,l=new FormData(r)}else if(vj(r)||bj(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(i=p?ji(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||Jh,a=Cm(r.getAttribute("formenctype"))||Cm(d.getAttribute("enctype"))||Zh,l=new FormData(d,r),!xj()){let{name:m,type:v,value:b}=r;if(v==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,b)}}else{if(qd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Jh,i=null,a=Zh,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function w0(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Aj(r,e,t,i){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&ji(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function Rj(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cj(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Ij(r,e,t){let i=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await Rj(l,t);return c.links?c.links():[]}return[]}));return kj(i.flat(1).filter(Cj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ox(r,e,t,i,a,l){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,d=(p,m)=>t[m].pathname!==p.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,m)=>c(p,m)||d(p,m)):l==="data"?e.filter((p,m)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Nj(r,e,{includeHydrateFallback:t}={}){return Oj(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Oj(r){return[...new Set(r)]}function Dj(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function kj(r,e){let t=new Set;return new Set(e),r.reduce((i,a)=>{let l=JSON.stringify(Dj(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function FI(){let r=B.useContext(sl);return w0(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Mj(){let r=B.useContext(Ud);return w0(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var A0=B.createContext(void 0);A0.displayName="FrameworkContext";function HI(){let r=B.useContext(A0);return w0(r,"You must render this element inside a <HydratedRouter> element"),r}function jj(r,e){let t=B.useContext(A0),[i,a]=B.useState(!1),[l,c]=B.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:b}=e,x=B.useRef(null);B.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let P=F=>{F.forEach(z=>{c(z.isIntersecting)})},k=new IntersectionObserver(P,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[r]),B.useEffect(()=>{if(i){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[i]);let S=()=>{a(!0)},M=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,x,{}]:[l,x,{onFocus:bu(d,S),onBlur:bu(p,M),onMouseEnter:bu(m,S),onMouseLeave:bu(v,M),onTouchStart:bu(b,S)}]:[!1,x,{}]}function bu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Vj({page:r,...e}){let{router:t}=FI(),i=B.useMemo(()=>II(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?B.createElement(Lj,{page:r,matches:i,...e}):null}function Pj(r){let{manifest:e,routeModules:t}=HI(),[i,a]=B.useState([]);return B.useEffect(()=>{let l=!1;return Ij(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),i}function Lj({page:r,matches:e,...t}){let i=zi(),{future:a,manifest:l,routeModules:c}=HI(),{basename:d}=FI(),{loaderData:p,matches:m}=Mj(),v=B.useMemo(()=>Ox(r,e,m,l,i,"data"),[r,e,m,l,i]),b=B.useMemo(()=>Ox(r,e,m,l,i,"assets"),[r,e,m,l,i]),x=B.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let P=new Set,k=!1;if(e.forEach(z=>{let X=l.routes[z.route.id];!X||!X.hasLoader||(!v.some(le=>le.route.id===z.route.id)&&z.route.id in p&&c[z.route.id]?.shouldRevalidate||X.hasClientLoader?k=!0:P.add(z.route.id))}),P.size===0)return[];let F=Aj(r,d,a.unstable_trailingSlashAwareDataRequests,"data");return k&&P.size>0&&F.searchParams.set("_routes",e.filter(z=>P.has(z.route.id)).map(z=>z.route.id).join(",")),[F.pathname+F.search]},[d,a.unstable_trailingSlashAwareDataRequests,p,i,l,v,e,r,c]),S=B.useMemo(()=>Nj(b,l),[b,l]),M=Pj(b);return B.createElement(B.Fragment,null,x.map(P=>B.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),S.map(P=>B.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),M.map(({key:P,link:k})=>B.createElement("link",{key:P,nonce:t.nonce,...k,crossOrigin:k.crossOrigin??t.crossOrigin})))}function Uj(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var qj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qj&&(window.__reactRouterVersion="7.13.0")}catch{}function Bj({basename:r,children:e,unstable_useTransitions:t,window:i}){let a=B.useRef();a.current==null&&(a.current=EM({window:i,v5Compat:!0}));let l=a.current,[c,d]=B.useState({action:l.action,location:l.location}),p=B.useCallback(m=>{t===!1?d(m):B.startTransition(()=>d(m))},[t]);return B.useLayoutEffect(()=>l.listen(p),[l,p]),B.createElement(yj,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var GI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$I=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x,...S},M){let{basename:P,unstable_useTransitions:k}=B.useContext(Gn),F=typeof m=="string"&&GI.test(m),z=kI(m,P);m=z.to;let X=tj(m,{relative:a}),[le,ce,oe]=jj(i,S),I=Hj(m,{replace:c,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:k});function C(j){e&&e(j),j.defaultPrevented||I(j)}let O=B.createElement("a",{...S,...oe,href:z.absoluteURL||X,onClick:z.isExternal||l?e:C,ref:Uj(M,ce),target:p,"data-discover":!F&&t==="render"?"true":void 0});return le&&!F?B.createElement(B.Fragment,null,O,B.createElement(Vj,{page:X})):O});$I.displayName="Link";var Gu=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...m},v){let b=nc(c,{relative:m.relative}),x=zi(),S=B.useContext(Ud),{navigator:M,basename:P}=B.useContext(Gn),k=S!=null&&Yj(b)&&d===!0,F=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,z=x.pathname,X=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(z=z.toLowerCase(),X=X?X.toLowerCase():null,F=F.toLowerCase()),X&&P&&(X=ji(X,P)||X);const le=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ce=z===F||!a&&z.startsWith(F)&&z.charAt(le)==="/",oe=X!=null&&(X===F||!a&&X.startsWith(F)&&X.charAt(F.length)==="/"),I={isActive:ce,isPending:oe,isTransitioning:k},C=ce?e:void 0,O;typeof i=="function"?O=i(I):O=[i,ce?"active":null,oe?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(I):l;return B.createElement($I,{...m,"aria-current":C,className:O,ref:v,style:j,to:c,viewTransition:d},typeof p=="function"?p(I):p)});Gu.displayName="NavLink";var zj=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Jh,action:d,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x,...S},M)=>{let{unstable_useTransitions:P}=B.useContext(Gn),k=Kj(),F=Wj(d,{relative:m}),z=c.toLowerCase()==="get"?"get":"post",X=typeof d=="string"&&GI.test(d),le=ce=>{if(p&&p(ce),ce.defaultPrevented)return;ce.preventDefault();let oe=ce.nativeEvent.submitter,I=oe?.getAttribute("formmethod")||c,C=()=>k(oe||ce.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:a,state:l,relative:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x});P&&t!==!1?B.startTransition(()=>C()):C()};return B.createElement("form",{ref:M,method:z,action:F,onSubmit:i?p:le,...S,"data-discover":!X&&r==="render"?"true":void 0})});zj.displayName="Form";function Fj(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KI(r){let e=B.useContext(sl);return St(e,Fj(r)),e}function Hj(r,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let m=T0(),v=zi(),b=nc(r,{relative:l});return B.useCallback(x=>{if(Tj(x,e)){x.preventDefault();let S=t!==void 0?t:Hu(v)===Hu(b),M=()=>m(r,{replace:S,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});p?B.startTransition(()=>M()):M()}},[v,m,b,t,i,e,r,a,l,c,d,p])}var Gj=0,$j=()=>`__${String(++Gj)}__`;function Kj(){let{router:r}=KI("useSubmit"),{basename:e}=B.useContext(Gn),t=fj(),i=r.fetch,a=r.navigate;return B.useCallback(async(l,c={})=>{let{action:d,method:p,encType:m,formData:v,body:b}=wj(l,e);if(c.navigate===!1){let x=c.fetcherKey||$j();await i(x,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||p,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||p,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,t])}function Wj(r,{relative:e}={}){let{basename:t}=B.useContext(Gn),i=B.useContext(Dr);St(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...nc(r||".",{relative:e})},c=zi();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ki([t,l.pathname])),Hu(l)}function Yj(r,{relative:e}={}){let t=B.useContext(jI);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=KI("useViewTransitionState"),a=nc(r,{relative:e});if(!t.isTransitioning)return!1;let l=ji(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ji(t.nextLocation.pathname,i)||t.nextLocation.pathname;return fd(a.pathname,c)!=null||fd(a.pathname,l)!=null}var Im={exports:{}},mn={};var Dx;function Qj(){if(Dx)return mn;Dx=1;var r=Ld();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:p,containerInfo:m,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mn.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,v)},mn.flushSync=function(p){var m=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=v,i.d.f()}},mn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},mn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},mn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,b=d(v,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:S}):v==="script"&&i.d.X(p,{crossOrigin:b,integrity:x,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},mn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},mn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,b=d(v,m.crossOrigin);i.d.L(p,v,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},mn.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=d(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},mn.requestFormReset=function(p){i.d.r(p)},mn.unstable_batchedUpdates=function(p,m){return p(m)},mn.useFormState=function(p,m,v){return c.H.useFormState(p,m,v)},mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},mn.version="19.2.4",mn}var kx;function Xj(){if(kx)return Im.exports;kx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Im.exports=Qj(),Im.exports}var Nm={exports:{}},Om,Mx;function Jj(){if(Mx)return Om;Mx=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Om=r,Om}var Dm,jx;function Zj(){if(jx)return Dm;jx=1;var r=Jj();function e(){}function t(){}return t.resetWarningCache=e,Dm=function(){function i(c,d,p,m,v,b){if(b!==r){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Dm}var Vx;function e4(){return Vx||(Vx=1,Nm.exports=Zj()()),Nm.exports}var t4=e4();const R=Yt(t4),n4="modulepreload",r4=function(r){return"/check-list/"+r},Px={},Ye=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let m=function(v){return Promise.all(v.map(b=>Promise.resolve(b).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var c=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");a=m(t.map(v=>{if(v=r4(v),v in Px)return;Px[v]=!0;const b=v.endsWith(".css"),x=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${x}`))return;const S=document.createElement("link");if(S.rel=b?"stylesheet":n4,b||(S.as="script"),S.crossOrigin="",S.href=v,p&&S.setAttribute("nonce",p),document.head.appendChild(S),b)return new Promise((M,P)=>{S.addEventListener("load",M),S.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return a.then(d=>{for(const p of d||[])p.status==="rejected"&&l(p.reason);return e().catch(l)})},WI=(r,e,t)=>{const i=r[e];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((a,l)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(l.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})};var km={exports:{}},Mm={};var Lx;function i4(){if(Lx)return Mm;Lx=1;var r=Ld();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var t=typeof Object.is=="function"?Object.is:e,i=r.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,d=r.useDebugValue;return Mm.useSyncExternalStoreWithSelector=function(p,m,v,b,x){var S=a(null);if(S.current===null){var M={hasValue:!1,value:null};S.current=M}else M=S.current;S=c(function(){function k(ce){if(!F){if(F=!0,z=ce,ce=b(ce),x!==void 0&&M.hasValue){var oe=M.value;if(x(oe,ce))return X=oe}return X=ce}if(oe=X,t(z,ce))return oe;var I=b(ce);return x!==void 0&&x(oe,I)?(z=ce,oe):(z=ce,X=I)}var F=!1,z,X,le=v===void 0?null:v;return[function(){return k(m())},le===null?void 0:function(){return k(le())}]},[m,v,b,x]);var P=i(p,S[0],S[1]);return l(function(){M.hasValue=!0,M.value=P},[P]),d(P),P},Mm}var Ux;function s4(){return Ux||(Ux=1,km.exports=i4()),km.exports}var a4=s4(),o4=B.version.startsWith("19"),l4=Symbol.for(o4?"react.transitional.element":"react.element"),u4=Symbol.for("react.portal"),c4=Symbol.for("react.fragment"),h4=Symbol.for("react.strict_mode"),d4=Symbol.for("react.profiler"),f4=Symbol.for("react.consumer"),p4=Symbol.for("react.context"),YI=Symbol.for("react.forward_ref"),m4=Symbol.for("react.suspense"),g4=Symbol.for("react.suspense_list"),R0=Symbol.for("react.memo"),y4=Symbol.for("react.lazy"),v4=YI,_4=R0;function b4(r){if(typeof r=="object"&&r!==null){const{$$typeof:e}=r;switch(e){case l4:switch(r=r.type,r){case c4:case d4:case h4:case m4:case g4:return r;default:switch(r=r&&r.$$typeof,r){case p4:case YI:case y4:case R0:return r;case f4:return r;default:return e}}case u4:return e}}}function E4(r){return b4(r)===R0}function T4(r,e,t,i,{areStatesEqual:a,areOwnPropsEqual:l,areStatePropsEqual:c}){let d=!1,p,m,v,b,x;function S(z,X){return p=z,m=X,v=r(p,m),b=e(i,m),x=t(v,b,m),d=!0,x}function M(){return v=r(p,m),e.dependsOnOwnProps&&(b=e(i,m)),x=t(v,b,m),x}function P(){return r.dependsOnOwnProps&&(v=r(p,m)),e.dependsOnOwnProps&&(b=e(i,m)),x=t(v,b,m),x}function k(){const z=r(p,m),X=!c(z,v);return v=z,X&&(x=t(v,b,m)),x}function F(z,X){const le=!l(X,m),ce=!a(z,p,X,m);return p=z,m=X,le&&ce?M():le?P():ce?k():x}return function(X,le){return d?F(X,le):S(X,le)}}function x4(r,{initMapStateToProps:e,initMapDispatchToProps:t,initMergeProps:i,...a}){const l=e(r,a),c=t(r,a),d=i(r,a);return T4(l,c,d,r,a)}function S4(r,e){const t={};for(const i in r){const a=r[i];typeof a=="function"&&(t[i]=(...l)=>e(a(...l)))}return t}function z_(r){return function(t){const i=r(t);function a(){return i}return a.dependsOnOwnProps=!1,a}}function qx(r){return r.dependsOnOwnProps?!!r.dependsOnOwnProps:r.length!==1}function QI(r,e){return function(i,{displayName:a}){const l=function(d,p){return l.dependsOnOwnProps?l.mapToProps(d,p):l.mapToProps(d,void 0)};return l.dependsOnOwnProps=!0,l.mapToProps=function(d,p){l.mapToProps=r,l.dependsOnOwnProps=qx(r);let m=l(d,p);return typeof m=="function"&&(l.mapToProps=m,l.dependsOnOwnProps=qx(m),m=l(d,p)),m},l}}function C0(r,e){return(t,i)=>{throw new Error(`Invalid value of type ${typeof r} for ${e} argument when connecting component ${i.wrappedComponentName}.`)}}function w4(r){return r&&typeof r=="object"?z_(e=>S4(r,e)):r?typeof r=="function"?QI(r):C0(r,"mapDispatchToProps"):z_(e=>({dispatch:e}))}function A4(r){return r?typeof r=="function"?QI(r):C0(r,"mapStateToProps"):z_(()=>({}))}function R4(r,e,t){return{...t,...r,...e}}function C4(r){return function(t,{displayName:i,areMergedPropsEqual:a}){let l=!1,c;return function(p,m,v){const b=r(p,m,v);return l?a(b,c)||(c=b):(l=!0,c=b),c}}}function I4(r){return r?typeof r=="function"?C4(r):C0(r,"mergeProps"):()=>R4}function N4(r){r()}function O4(){let r=null,e=null;return{clear(){r=null,e=null},notify(){N4(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=r;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:r=a,function(){!i||r===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:r=a.next)}}}}var Bx={notify(){},get:()=>[]};function XI(r,e){let t,i=Bx,a=0,l=!1;function c(P){v();const k=i.subscribe(P);let F=!1;return()=>{F||(F=!0,k(),b())}}function d(){i.notify()}function p(){M.onStateChange&&M.onStateChange()}function m(){return l}function v(){a++,t||(t=e?e.addNestedSub(p):r.subscribe(p),i=O4())}function b(){a--,t&&a===0&&(t(),t=void 0,i.clear(),i=Bx)}function x(){l||(l=!0,v())}function S(){l&&(l=!1,b())}const M={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:m,trySubscribe:x,tryUnsubscribe:S,getListeners:()=>i};return M}var D4=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k4=D4(),M4=()=>typeof navigator<"u"&&navigator.product==="ReactNative",j4=M4(),V4=()=>k4||j4?B.useLayoutEffect:B.useEffect,pd=V4();function zx(r,e){return r===e?r!==0||e!==0||1/r===1/e:r!==r&&e!==e}function jm(r,e){if(zx(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;const t=Object.keys(r),i=Object.keys(e);if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(!Object.prototype.hasOwnProperty.call(e,t[a])||!zx(r[t[a]],e[t[a]]))return!1;return!0}var P4={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},L4={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},U4={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},JI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},q4={[v4]:U4,[_4]:JI};function Fx(r){return E4(r)?JI:q4[r.$$typeof]||P4}var B4=Object.defineProperty,z4=Object.getOwnPropertyNames,Hx=Object.getOwnPropertySymbols,F4=Object.getOwnPropertyDescriptor,H4=Object.getPrototypeOf,Gx=Object.prototype;function F_(r,e){if(typeof e!="string"){if(Gx){const l=H4(e);l&&l!==Gx&&F_(r,l)}let t=z4(e);Hx&&(t=t.concat(Hx(e)));const i=Fx(r),a=Fx(e);for(let l=0;l<t.length;++l){const c=t[l];if(!L4[c]&&!(a&&a[c])&&!(i&&i[c])){const d=F4(e,c);try{B4(r,c,d)}catch{}}}}return r}var G4=Symbol.for("react-redux-context"),$4=typeof globalThis<"u"?globalThis:{};function K4(){if(!B.createContext)return{};const r=$4[G4]??=new Map;let e=r.get(B.createContext);return e||(e=B.createContext(null),r.set(B.createContext,e)),e}var Vi=K4(),W4=[null,null];function Y4(r,e,t){pd(()=>r(...e),t)}function Q4(r,e,t,i,a,l){r.current=i,t.current=!1,a.current&&(a.current=null,l())}function X4(r,e,t,i,a,l,c,d,p,m,v){if(!r)return()=>{};let b=!1,x=null;const S=()=>{if(b||!d.current)return;const P=e.getState();let k,F;try{k=i(P,a.current)}catch(z){F=z,x=z}F||(x=null),k===l.current?c.current||m():(l.current=k,p.current=k,c.current=!0,v())};return t.onStateChange=S,t.trySubscribe(),S(),()=>{if(b=!0,t.tryUnsubscribe(),t.onStateChange=null,x)throw x}}function J4(r,e){return r===e}function Z4(r,e,t,{pure:i,areStatesEqual:a=J4,areOwnPropsEqual:l=jm,areStatePropsEqual:c=jm,areMergedPropsEqual:d=jm,forwardRef:p=!1,context:m=Vi}={}){const v=m,b=A4(r),x=w4(e),S=I4(t),M=!!r;return k=>{const F=k.displayName||k.name||"Component",z=`Connect(${F})`,X={shouldHandleStateChanges:M,displayName:z,wrappedComponentName:F,WrappedComponent:k,initMapStateToProps:b,initMapDispatchToProps:x,initMergeProps:S,areStatesEqual:a,areStatePropsEqual:c,areOwnPropsEqual:l,areMergedPropsEqual:d};function le(I){const[C,O,j]=B.useMemo(()=>{const{reactReduxForwardedRef:xe,...He}=I;return[I.context,xe,He]},[I]),D=B.useMemo(()=>{let xe=v;return C?.Consumer,xe},[C,v]),L=B.useContext(D),N=!!I.store&&!!I.store.getState&&!!I.store.dispatch,Re=!!L&&!!L.store,Ne=N?I.store:L.store,ee=Re?L.getServerState:Ne.getState,he=B.useMemo(()=>x4(Ne.dispatch,X),[Ne]),[ye,Le]=B.useMemo(()=>{if(!M)return W4;const xe=XI(Ne,N?void 0:L.subscription),He=xe.notifyNestedSubs.bind(xe);return[xe,He]},[Ne,N,L]),Fe=B.useMemo(()=>N?L:{...L,subscription:ye},[N,L,ye]),U=B.useRef(void 0),ne=B.useRef(j),ue=B.useRef(void 0),fe=B.useRef(!1),Q=B.useRef(!1),Y=B.useRef(void 0);pd(()=>(Q.current=!0,()=>{Q.current=!1}),[]);const pe=B.useMemo(()=>()=>ue.current&&j===ne.current?ue.current:he(Ne.getState(),j),[Ne,j]),je=B.useMemo(()=>He=>ye?X4(M,Ne,ye,he,ne,U,fe,Q,ue,Le,He):()=>{},[ye]);Y4(Q4,[ne,U,fe,j,ue,Le]);let be;try{be=B.useSyncExternalStore(je,pe,ee?()=>he(ee(),j):pe)}catch(xe){throw Y.current&&(xe.message+=`
The error may be correlated with this previous error:
${Y.current.stack}

`),xe}pd(()=>{Y.current=void 0,ue.current=void 0,U.current=be});const Ue=B.useMemo(()=>B.createElement(k,{...be,ref:O}),[O,k,be]);return B.useMemo(()=>M?B.createElement(D.Provider,{value:Fe},Ue):Ue,[D,Ue,Fe])}const oe=B.memo(le);if(oe.WrappedComponent=k,oe.displayName=le.displayName=z,p){const C=B.forwardRef(function(j,D){return B.createElement(oe,{...j,reactReduxForwardedRef:D})});return C.displayName=z,C.WrappedComponent=k,F_(C,k)}return F_(oe,k)}}var eV=Z4;function tV(r){const{children:e,context:t,serverState:i,store:a}=r,l=B.useMemo(()=>{const p=XI(a);return{store:a,subscription:p,getServerState:i?()=>i:void 0}},[a,i]),c=B.useMemo(()=>a.getState(),[a]);pd(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==a.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,c]);const d=t||Vi;return B.createElement(d.Provider,{value:l},e)}var H_=tV;function I0(r=Vi){return function(){return B.useContext(r)}}var ZI=I0();function e2(r=Vi){const e=r===Vi?ZI:I0(r),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var nV=e2();function rV(r=Vi){const e=r===Vi?nV:e2(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var iV=rV(),sV=(r,e)=>r===e;function aV(r=Vi){const e=r===Vi?ZI:I0(r),t=(i,a={})=>{const{equalityFn:l=sV}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:d,subscription:p,getServerState:m}=c;B.useRef(!0);const v=B.useCallback({[i.name](x){return i(x)}}[i.name],[i]),b=a4.useSyncExternalStoreWithSelector(p.addNestedSub,d.getState,m||d.getState,v,l);return B.useDebugValue(b),b};return Object.assign(t,{withTypes:()=>t}),t}var Ea=aV();const t2=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();const oV=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const lV=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());const $x=r=>{const e=lV(r);return e.charAt(0).toUpperCase()+e.slice(1)};var uV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cV=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const hV=B.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},p)=>B.createElement("svg",{ref:p,...uV,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:t2("lucide",a),...!l&&!cV(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,v])=>B.createElement(m,v)),...Array.isArray(l)?l:[l]]));const Ie=(r,e)=>{const t=B.forwardRef(({className:i,...a},l)=>B.createElement(hV,{ref:l,iconNode:e,className:t2(`lucide-${oV($x(r))}`,`lucide-${r}`,i),...a}));return t.displayName=$x(r),t};const dV=[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]],fV=Ie("accessibility",dV);const pV=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],mV=Ie("archive",pV);const gV=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],yV=Ie("book-open",gV);const vV=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]],_V=Ie("book-text",vV);const bV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],EV=Ie("check",bV);const TV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xV=Ie("chevron-down",TV);const SV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wV=Ie("chevron-right",SV);const AV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],RV=Ie("circle-alert",AV);const CV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],IV=Ie("circle-question-mark",CV);const NV=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],OV=Ie("cloud",NV);const DV=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],kV=Ie("dna",DV);const MV=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],jV=Ie("download",MV);const VV=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],PV=Ie("eye-off",VV);const LV=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UV=Ie("eye",LV);const qV=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],BV=Ie("fish",qV);const zV=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],FV=Ie("gem",zV);const HV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],GV=Ie("globe",HV);const $V=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],KV=Ie("history",$V);const WV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],YV=Ie("info",WV);const QV=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],XV=Ie("leaf",QV);const JV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ZV=Ie("loader-circle",JV);const e3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],t3=Ie("lock",e3);const n3=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],r3=Ie("log-in",n3);const i3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],s3=Ie("log-out",i3);const a3=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],o3=Ie("map",a3);const l3=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],u3=Ie("menu",l3);const c3=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],h3=Ie("minimize-2",c3);const d3=[["path",{d:"M5 12h14",key:"1ays0h"}]],f3=Ie("minus",d3);const p3=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],m3=Ie("monitor",p3);const g3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],y3=Ie("pencil",g3);const v3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_3=Ie("plus",v3);const b3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],E3=Ie("search",b3);const T3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],x3=Ie("settings",T3);const S3=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],w3=Ie("shopping-cart",S3);const A3=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],R3=Ie("smartphone",A3);const C3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],I3=Ie("star",C3);const N3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],O3=Ie("trash-2",N3);const D3=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],k3=Ie("trash",D3);const M3=[["path",{d:"M8 19a4 4 0 0 1-2.24-7.32A3.5 3.5 0 0 1 9 6.03V6a3 3 0 1 1 6 0v.04a3.5 3.5 0 0 1 3.24 5.65A4 4 0 0 1 16 19Z",key:"oadzkq"}],["path",{d:"M12 19v3",key:"npa21l"}]],j3=Ie("tree-deciduous",M3);const V3=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],P3=Ie("tree-pine",V3);const L3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],U3=Ie("triangle-alert",L3);const q3=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],B3=Ie("undo-2",q3);const z3=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],F3=Ie("undo",z3);const H3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],G3=Ie("upload",H3);const $3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}],["path",{d:"m7.9 7.9 2.7 2.7",key:"hpeyl3"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}],["path",{d:"m13.4 10.6 2.7-2.7",key:"264c1n"}],["circle",{cx:"7.5",cy:"16.5",r:".5",fill:"currentColor",key:"nkw3mc"}],["path",{d:"m7.9 16.1 2.7-2.7",key:"p81g5e"}],["circle",{cx:"16.5",cy:"16.5",r:".5",fill:"currentColor",key:"fubopw"}],["path",{d:"m13.4 13.4 2.7 2.7",key:"abhel3"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],K3=Ie("vault",$3);const W3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Y3=Ie("x",W3),Bd={className:R.string,onClick:R.func,title:R.string},js={Check:EV,ChevronDown:xV,ChevronRight:wV,AlertTriangle:U3,BookText:_V,BookOpen:yV,Vault:K3,Lock:t3,Settings:x3,Trash2:O3,Trash:k3,ShoppingCart:w3,Archive:mV,Menu:u3,Search:E3,X:Y3,EyeOff:PV,Info:YV,Cloud:OV,Download:jV,Upload:G3,History:KV,LogIn:r3,LogOut:s3,Minimize2:h3,Monitor:m3,Loader2:ZV,Undo2:B3,Undo:F3,Plus:_3,Minus:f3,Pencil:y3,AlertCircle:RV,Star:I3,Globe:GV,Eye:UV,Accessibility:fV,Smartphone:R3,Gem:FV,TreePine:P3,TreeDeciduous:j3,Leaf:XV,Map:o3,Fish:BV,Dna:kV,HelpCircle:IV},Ze=(r,e="HelpCircle")=>{const t=({className:i="",...a})=>{const l=js[r]||js[e];if(!l)return null;const c=["lucide-icon",i].filter(Boolean).join(" ");return y.jsx(l,{className:c,size:"1.05em",strokeWidth:2.5,...a})};return t.propTypes=Bd,t},n2=({className:r="",...e})=>{const t=js.Check||js.HelpCircle;if(!t)return null;const i=["lucide-icon",r].filter(Boolean).join(" ");return y.jsx(t,{className:i,size:"1.05em",strokeWidth:4.5,...e})};n2.propTypes=Bd;const r2=({className:r="",...e})=>{const t=js.ChevronDown||js.HelpCircle;if(!t)return null;const i=["lucide-icon",r].filter(Boolean).join(" ");return y.jsx(t,{className:i,size:"1.05em",strokeWidth:4.5,...e})};r2.propTypes=Bd;const i2=({className:r="",...e})=>{const t=js.ChevronRight||js.HelpCircle;if(!t)return null;const i=["lucide-icon",r].filter(Boolean).join(" ");return y.jsx(t,{className:i,size:"1.05em",strokeWidth:4.5,...e})};i2.propTypes=Bd;const Q3=Ze("AlertTriangle"),X3=Ze("BookText","BookOpen"),J3=Ze("Vault","Lock"),Z3=Ze("Settings"),eP=Ze("Trash2","Trash"),tP=Ze("ShoppingCart"),nP=Ze("Archive"),rP=Ze("Menu"),iP=Ze("Search"),sP=Ze("X"),aP=Ze("EyeOff"),oP=Ze("Info"),lP=Ze("Cloud"),uP=Ze("Download"),cP=Ze("Upload"),hP=Ze("History"),dP=Ze("LogIn"),fP=Ze("LogOut"),pP=Ze("Minimize2"),mP=Ze("Monitor"),gP=Ze("Loader2"),yP=Ze("Undo2","Undo"),vP=Ze("Plus"),_P=Ze("Minus"),bP=Ze("Pencil"),EP=Ze("AlertCircle"),TP=Ze("Star"),xP=Ze("Globe"),SP=Ze("Eye"),wP=Ze("Smartphone"),AP=Ze("Gem"),RP=Ze("TreePine","TreeDeciduous"),CP=Ze("Leaf"),IP=Ze("Map"),NP=Ze("Fish"),OP=Ze("Dna"),dn=n2,N0=r2,zd=i2,Fd=Q3,ka=X3,Hd=J3,rc=Z3,O0=eP,G_=tP,DP=nP,kP=rP,MP=iP,Sn=sP,ed=aP,D0=oP,td=lP,jP=uP,VP=cP,s2=hP,PP=dP,LP=fP,UP=pP,Kx=mP,Vs=gP,qP=yP,Bo=vP,k0=_P,Gd=bP,ic=EP,a2=TP,BP=xP,zP=SP,FP=wP,Wx=AP,HP=RP,GP=CP,$P=IP,KP=NP,WP=OP,YP=(r,e,t)=>({type:"TOGGLE_ITEM",game:r,category:e,title:t}),QP=r=>({type:"TOGGLE_RELIC",relic:r}),Yx=(r,e,t)=>({type:"CLEAR_ITEMS",game:r,category:e,titles:t}),XP=(r,e,t)=>({type:"ADD_ITEM",game:r,category:e,item:t}),JP=(r,e,t)=>({type:"ADD_BUILD_ITEM",game:r,category:e,item:t}),ZP=(r,e,t)=>({type:"ADD_VOID_ITEM",game:r,category:e,item:t}),e5=(r,e,t)=>({type:"REMOVE_ITEM",game:r,category:e,title:t}),t5=(r,e,t)=>({type:"REMOVE_BUILD_ITEM",game:r,category:e,title:t}),n5=(r,e,t)=>({type:"REMOVE_VOID_ITEM",game:r,category:e,title:t}),r5=(r,e,t)=>({type:"INCREMENT_ITEM",game:r,category:e,title:t}),i5=(r,e,t)=>({type:"DECREMENT_ITEM",game:r,category:e,title:t}),s5=(r,e,t,i,a)=>({type:"UPDATE_ITEM",game:r,category:e,title:t,notes:i,count:a}),a5=(r,e,t,i)=>({type:"UPDATE_BUILD_ITEM",game:r,category:e,title:t,item:i}),o5=r=>({type:"SET_SEARCH_VALUE",value:r}),l5=r=>({type:"SET_VISIBILITY_FILTER",filter:r}),u5=r=>({type:"SET_RELIC_VISIBILITY",filter:r}),Jt={SHOW_ALL:"SHOW_ALL",SHOW_ACTIVE:"SHOW_ACTIVE"},c5=r=>({type:"UPLOAD_STATE",state:r});class o2 extends Wt.Component{renderItems(e,t){return y.jsx("ul",{className:"list-none p-0 m-0",children:e.map((i,a)=>this.renderItem(i,a,t))})}handleItemClick(e){return t=>{const i=typeof e=="object"&&e!==null?e.key||e.title:e;this.props.onItemClick(i),t.stopPropagation()}}handleClearClick(e){return t=>{this.props.onClear(e.map(i=>typeof i=="object"&&i!==null?i.key||i.title:i)),t.stopPropagation()}}renderLocation(e){return!e||!e.length||e===""?null:(Array.isArray(e)?e:[e]).map((i,a)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:i},a))}renderItem(e,t,i){if(!e||e.hidden)return null;const a=e.readOnly;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(e).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const l=this.props.visibilityFilter===Jt.SHOW_ACTIVE&&e.checked,c=typeof e=="string"||e instanceof String?e:e.title,d=!!e.items,p=e.checked?"text-green-500":"text-gray-400",m=e.tags?e.tags.map((x,S)=>x==="missable"?y.jsx("span",{title:x,className:"text-red-600 ml-1 inline-block font-normal",children:y.jsx(Fd,{})},S):null):null,v=e.hint?y.jsxs("span",{className:"opacity-40 text-sm italic font-normal",children:[" ",e.hint]}):null,b=!e.items&&!(a||i);return y.jsx("li",{className:`py-0.5 rounded-sm ${l?"opacity-40":""} ${d?"mt-1.5":""}`,children:y.jsxs("div",{className:"flex items-start",children:[!(a||i)&&y.jsx("div",{className:`mr-1 shrink-0 flex items-center h-[1.35em] ${p} ${b?"cursor-pointer":""}`,onClick:b?this.handleItemClick(e):void 0,children:e.items?e.checked?y.jsx(dn,{}):y.jsx(N0,{}):e.checked?y.jsx(dn,{}):y.jsx(zd,{})}),y.jsxs("div",{className:"grow",children:[y.jsxs("div",{className:"leading-tight",children:[e.items&&e.readOnly?y.jsxs("span",{className:"underline font-bold text-gray-900 text-base",children:[c,v,m]}):i?y.jsxs("span",{className:"font-normal text-gray-700 text-sm",children:[c,v,m]}):y.jsxs("span",{className:"font-bold text-gray-900 text-base",children:[c,v,m]}),e.url?y.jsx("a",{href:e.url,title:"wiki",className:"ml-1 text-gray-500 opacity-70 hover:opacity-100 inline-block",target:"_blank",rel:"noopener noreferrer",onClick:x=>x.stopPropagation(),children:y.jsx(ka,{})}):null,e.isVaulted?y.jsx("span",{title:"Vaulted",className:"ml-1 text-gray-500 inline-block",children:y.jsx(Hd,{})}):null,e.partOf?y.jsx("span",{title:`Part of ${e.partOf.join(", ")}`,className:"ml-1 text-gray-500 inline-block",children:y.jsx(rc,{})}):null,e.items&&e.props&&e.props.includes("clearable")?y.jsx("span",{title:"Clear",className:"ml-1 text-red-600 opacity-70 hover:opacity-100 cursor-pointer inline-block",onClick:this.handleClearClick(e.items),children:y.jsx(O0,{})}):null]}),e.description?Array.isArray(e.description)?e.description.map((x,S)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:x},S)):y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:e.description}):null,this.renderLocation(e.location),e.items&&e.items.length?y.jsx("div",{className:"ml-2",children:this.renderItems(e.items,a)}):null]})]})},t)}render(){return!this.props.items||!this.props.items.length?y.jsx("div",{className:"text-gray-500 italic",children:"No items"}):y.jsx("div",{className:"mb-4",children:this.renderItems(this.props.items)})}}o2.propTypes={items:R.arrayOf(R.oneOfType([R.string,R.shape({title:R.string,url:R.string,icon:R.string,description:R.oneOfType([R.string,R.arrayOf(R.string)]),location:R.oneOfType([R.string,R.arrayOf(R.string)]),checked:R.bool,items:R.array,tags:R.arrayOf(R.string),hint:R.string,readOnly:R.bool,hidden:R.bool,key:R.string,isVaulted:R.bool,partOf:R.arrayOf(R.string),props:R.arrayOf(R.string)})])),onItemClick:R.func.isRequired,onClear:R.func.isRequired,visibilityFilter:R.string,searchFilter:R.string};const Ts={TYPE:"type",INTRODUCED:"introduced",NONE:"none"},h5=r=>{if(!r)return null;const e=String(r).trim();if(!e)return null;const t=e.split(/\s+/);if(t.length<2)return`https://wiki.warframe.com/w/${encodeURIComponent(e.replace(/\s+/g,"_"))}`;const i=t[0],a=t.slice(1).join(" "),c=`Update_${a.split(".")[0]}`.replace(/\s+/g,"_"),d=`${i}_${a}`.replace(/\s+/g,"_");return`https://wiki.warframe.com/w/${encodeURIComponent(c)}%23${encodeURIComponent(d)}`},d5=r=>{if(!r)return null;const e=String(r).trim();if(!e)return null;const t=e.replace(/\s+/g,"_");return`https://wiki.warframe.com/w/${encodeURIComponent(t)}`};class l2 extends Wt.Component{constructor(e){super(e),this.state={groupBy:Ts.TYPE}}handleGroupByChange(){return e=>{this.setState({groupBy:e.target.value})}}renderItems(e,t){return y.jsx("ul",{className:"list-none p-0 m-0",children:e.map((i,a)=>this.renderItem(i,a,t))})}handleItemClick(e){return t=>{const i=typeof e=="object"&&e!==null?e.key||e.title:e;this.props.onItemClick(i),t.stopPropagation()}}handleClearClick(e){return t=>{this.props.onClear(e.map(i=>typeof i=="object"&&i!==null?i.key||i.title:i)),t.stopPropagation()}}renderLocation(e){return!e||!e.length||e===""?null:(Array.isArray(e)?e:[e]).map((i,a)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:i},a))}renderItem(e,t,i){if(!e||e.hidden)return null;const a=e.readOnly;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(e).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const l=this.props.visibilityFilter===Jt.SHOW_ACTIVE&&e.checked,c=typeof e=="string"||e instanceof String?e:e.title,d=!!e.items,p=e.checked?"text-green-500":"text-gray-400",m=e.tags?e.tags.map((S,M)=>S==="missable"?y.jsx("span",{title:S,className:"text-red-600 ml-1 inline-block font-normal",children:y.jsx(Fd,{})},M):null):null,v=e.hint?y.jsxs("span",{className:"opacity-40 text-sm italic font-normal",children:[" ",e.hint]}):null,b=!e.items&&!(a||i),x=e.url||(e.items?null:d5(c));return y.jsx("li",{className:`py-0.5 rounded-sm ${l?"opacity-40":""} ${d?"mt-1.5":""}`,children:y.jsxs("div",{className:"flex items-start",children:[!(a||i)&&y.jsx("div",{className:`mr-1 shrink-0 flex items-center h-[1.35em] ${p} ${b?"cursor-pointer":""}`,onClick:b?this.handleItemClick(e):void 0,children:e.items?e.checked?y.jsx(dn,{}):y.jsx(N0,{}):e.checked?y.jsx(dn,{}):y.jsx(zd,{})}),y.jsxs("div",{className:"grow",children:[y.jsxs("div",{className:"leading-tight",children:[e.items&&e.readOnly?y.jsxs("span",{className:"underline font-bold text-gray-900 text-base",children:[c,v,m]}):i?y.jsxs("span",{className:"font-normal text-gray-700 text-sm",children:[c,v,m]}):y.jsxs("span",{className:"font-bold text-gray-900 text-base",children:[c,v,m]}),x?y.jsx("a",{href:x,title:"wiki",className:"ml-1 text-gray-500 opacity-70 hover:opacity-100 inline-block",target:"_blank",rel:"noopener noreferrer",onClick:S=>S.stopPropagation(),children:y.jsx(ka,{})}):null,e.isVaulted?y.jsx("span",{title:"Vaulted",className:"ml-1 text-gray-500 inline-block",children:y.jsx(Hd,{})}):null,e.incarnon?y.jsx("span",{title:"Incarnon Genesis",className:"ml-1 text-amber-600 inline-block",children:y.jsx(WP,{})}):null,e.unobtainable?y.jsx("span",{title:"Unobtainable",className:"ml-1 text-rose-600 inline-block",children:y.jsx(ic,{})}):null,e.partOf?y.jsx("span",{title:`Part of ${e.partOf.join(", ")}`,className:"ml-1 text-gray-500 inline-block",children:y.jsx(rc,{})}):null,e.items&&e.props&&e.props.includes("clearable")?y.jsx("span",{title:"Clear",className:"ml-1 text-red-600 opacity-70 hover:opacity-100 cursor-pointer inline-block",onClick:this.handleClearClick(e.items),children:y.jsx(O0,{})}):null]}),e.description?Array.isArray(e.description)?e.description.map((S,M)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:S},M)):y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:e.description}):null,this.renderLocation(e.location),e.items&&e.items.length?y.jsx("div",{className:"ml-2",children:this.renderItems(e.items,a)}):null]})]})},t)}collectLeafItems(e,t=[],i=null){return Array.isArray(e)&&e.forEach(a=>{if(a){if(typeof a=="string"||a instanceof String){t.push({item:a,groupTitle:i});return}if(a.items&&a.items.length){this.collectLeafItems(a.items,t,a.title||i);return}t.push({item:a,groupTitle:i})}}),t}getItemTitle(e){return typeof e=="string"||e instanceof String?e:e.title}getGroupedItems(){const e=this.props.items||[],t=this.props.enableIntroducedGrouping!==!1,i=this.state.groupBy===Ts.INTRODUCED&&!t?Ts.TYPE:this.state.groupBy;if(i===Ts.TYPE)return e;const l=this.collectLeafItems(e).slice().sort((p,m)=>this.getItemTitle(p.item).localeCompare(this.getItemTitle(m.item)));if(i===Ts.NONE)return l.map(({item:p})=>p);const c={},d={};return l.forEach(({item:p,groupTitle:m})=>{const b=(typeof p=="object"&&p!==null&&p.introduced?.parent?p.introduced.parent:null)||m||"Unknown";c[b]||(c[b]=[]),c[b].push(p);const x=typeof p=="object"&&p!==null?p.introduced?.name:null,S=typeof p=="object"&&p!==null?p.introduced?.date:null;if(!d[b])d[b]={name:x||null,date:S||null,sourceGroupTitle:m||null};else{if(!d[b].name&&x&&(d[b].name=x),S){const M=d[b].date;(!M||S<M)&&(d[b].date=S)}!d[b].sourceGroupTitle&&m&&(d[b].sourceGroupTitle=m)}}),Object.keys(c).sort((p,m)=>{const v=d[p]?.date||"",b=d[m]?.date||"";return v&&b&&v!==b?v.localeCompare(b):p.localeCompare(m)}).map(p=>{const m=d[p]||{},v=m.sourceGroupTitle||(p!=="Unknown"?`Update ${p}`:p),b=m.name||v,x=h5(b),S=m.date||null;return{title:b,url:x,description:S,checked:c[p].every(M=>M&&M.checked),items:c[p]}})}render(){if(!this.props.items||!this.props.items.length)return y.jsx("div",{className:"text-gray-500 italic",children:"No items"});const e=this.getGroupedItems();return y.jsxs("div",{className:"mb-4 relative",children:[y.jsx("div",{className:"absolute right-0 top-0 z-10",children:y.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-500 bg-white/90 px-1.5 py-0.5 rounded-md",children:[y.jsx("span",{children:"Group by"}),y.jsxs("select",{value:this.state.groupBy,onChange:this.handleGroupByChange(),className:"border border-gray-200 rounded-md px-2 py-1 text-sm text-gray-700 bg-white",children:[y.jsx("option",{value:Ts.TYPE,children:"Type"}),this.props.enableIntroducedGrouping!==!1&&y.jsx("option",{value:Ts.INTRODUCED,children:"Introduced"}),y.jsx("option",{value:Ts.NONE,children:"None"})]})]})}),this.renderItems(e)]})}}l2.propTypes={items:R.arrayOf(R.oneOfType([R.string,R.shape({title:R.string,url:R.string,icon:R.string,description:R.oneOfType([R.string,R.arrayOf(R.string)]),location:R.oneOfType([R.string,R.arrayOf(R.string)]),checked:R.bool,items:R.array,tags:R.arrayOf(R.string),hint:R.string,readOnly:R.bool,hidden:R.bool,key:R.string,isVaulted:R.bool,partOf:R.arrayOf(R.string),props:R.arrayOf(R.string),incarnon:R.bool,unobtainable:R.bool,introduced:R.shape({name:R.string,date:R.string,parent:R.string})})])),onItemClick:R.func.isRequired,onClear:R.func.isRequired,visibilityFilter:R.string,searchFilter:R.string,enableIntroducedGrouping:R.bool};var Vm,Qx;function u2(){if(Qx)return Vm;Qx=1;var r=typeof Cs=="object"&&Cs&&Cs.Object===Object&&Cs;return Vm=r,Vm}var Pm,Xx;function kr(){if(Xx)return Pm;Xx=1;var r=u2(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return Pm=t,Pm}var Lm,Jx;function ol(){if(Jx)return Lm;Jx=1;var r=kr(),e=r.Symbol;return Lm=e,Lm}var Um,Zx;function f5(){if(Zx)return Um;Zx=1;var r=ol(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,a=r?r.toStringTag:void 0;function l(c){var d=t.call(c,a),p=c[a];try{c[a]=void 0;var m=!0}catch{}var v=i.call(c);return m&&(d?c[a]=p:delete c[a]),v}return Um=l,Um}var qm,eS;function p5(){if(eS)return qm;eS=1;var r=Object.prototype,e=r.toString;function t(i){return e.call(i)}return qm=t,qm}var Bm,tS;function qa(){if(tS)return Bm;tS=1;var r=ol(),e=f5(),t=p5(),i="[object Null]",a="[object Undefined]",l=r?r.toStringTag:void 0;function c(d){return d==null?d===void 0?a:i:l&&l in Object(d)?e(d):t(d)}return Bm=c,Bm}var zm,nS;function hr(){if(nS)return zm;nS=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return zm=r,zm}var Fm,rS;function M0(){if(rS)return Fm;rS=1;var r=qa(),e=hr(),t="[object AsyncFunction]",i="[object Function]",a="[object GeneratorFunction]",l="[object Proxy]";function c(d){if(!e(d))return!1;var p=r(d);return p==i||p==a||p==t||p==l}return Fm=c,Fm}var Hm,iS;function m5(){if(iS)return Hm;iS=1;var r=kr(),e=r["__core-js_shared__"];return Hm=e,Hm}var Gm,sS;function g5(){if(sS)return Gm;sS=1;var r=m5(),e=(function(){var i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})();function t(i){return!!e&&e in i}return Gm=t,Gm}var $m,aS;function c2(){if(aS)return $m;aS=1;var r=Function.prototype,e=r.toString;function t(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return $m=t,$m}var Km,oS;function y5(){if(oS)return Km;oS=1;var r=M0(),e=g5(),t=hr(),i=c2(),a=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,p=c.toString,m=d.hasOwnProperty,v=RegExp("^"+p.call(m).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b(x){if(!t(x)||e(x))return!1;var S=r(x)?v:l;return S.test(i(x))}return Km=b,Km}var Wm,lS;function v5(){if(lS)return Wm;lS=1;function r(e,t){return e?.[t]}return Wm=r,Wm}var Ym,uS;function Ba(){if(uS)return Ym;uS=1;var r=y5(),e=v5();function t(i,a){var l=e(i,a);return r(l)?l:void 0}return Ym=t,Ym}var Qm,cS;function h2(){if(cS)return Qm;cS=1;var r=Ba(),e=(function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}})();return Qm=e,Qm}var Xm,hS;function $d(){if(hS)return Xm;hS=1;var r=h2();function e(t,i,a){i=="__proto__"&&r?r(t,i,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[i]=a}return Xm=e,Xm}var Jm,dS;function _5(){if(dS)return Jm;dS=1;function r(e,t,i,a){for(var l=-1,c=e==null?0:e.length;++l<c;){var d=e[l];t(a,d,i(d),e)}return a}return Jm=r,Jm}var Zm,fS;function b5(){if(fS)return Zm;fS=1;function r(e){return function(t,i,a){for(var l=-1,c=Object(t),d=a(t),p=d.length;p--;){var m=d[e?p:++l];if(i(c[m],m,c)===!1)break}return t}}return Zm=r,Zm}var eg,pS;function d2(){if(pS)return eg;pS=1;var r=b5(),e=r();return eg=e,eg}var tg,mS;function E5(){if(mS)return tg;mS=1;function r(e,t){for(var i=-1,a=Array(e);++i<e;)a[i]=t(i);return a}return tg=r,tg}var ng,gS;function ui(){if(gS)return ng;gS=1;function r(e){return e!=null&&typeof e=="object"}return ng=r,ng}var rg,yS;function T5(){if(yS)return rg;yS=1;var r=qa(),e=ui(),t="[object Arguments]";function i(a){return e(a)&&r(a)==t}return rg=i,rg}var ig,vS;function Kd(){if(vS)return ig;vS=1;var r=T5(),e=ui(),t=Object.prototype,i=t.hasOwnProperty,a=t.propertyIsEnumerable,l=r((function(){return arguments})())?r:function(c){return e(c)&&i.call(c,"callee")&&!a.call(c,"callee")};return ig=l,ig}var sg,_S;function pn(){if(_S)return sg;_S=1;var r=Array.isArray;return sg=r,sg}var Iu={exports:{}},ag,bS;function x5(){if(bS)return ag;bS=1;function r(){return!1}return ag=r,ag}Iu.exports;var ES;function Wd(){return ES||(ES=1,(function(r,e){var t=kr(),i=x5(),a=e&&!e.nodeType&&e,l=a&&!0&&r&&!r.nodeType&&r,c=l&&l.exports===a,d=c?t.Buffer:void 0,p=d?d.isBuffer:void 0,m=p||i;r.exports=m})(Iu,Iu.exports)),Iu.exports}var og,TS;function Yd(){if(TS)return og;TS=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(i,a){var l=typeof i;return a=a??r,!!a&&(l=="number"||l!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<a}return og=t,og}var lg,xS;function j0(){if(xS)return lg;xS=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return lg=e,lg}var ug,SS;function S5(){if(SS)return ug;SS=1;var r=qa(),e=j0(),t=ui(),i="[object Arguments]",a="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",p="[object Function]",m="[object Map]",v="[object Number]",b="[object Object]",x="[object RegExp]",S="[object Set]",M="[object String]",P="[object WeakMap]",k="[object ArrayBuffer]",F="[object DataView]",z="[object Float32Array]",X="[object Float64Array]",le="[object Int8Array]",ce="[object Int16Array]",oe="[object Int32Array]",I="[object Uint8Array]",C="[object Uint8ClampedArray]",O="[object Uint16Array]",j="[object Uint32Array]",D={};D[z]=D[X]=D[le]=D[ce]=D[oe]=D[I]=D[C]=D[O]=D[j]=!0,D[i]=D[a]=D[k]=D[l]=D[F]=D[c]=D[d]=D[p]=D[m]=D[v]=D[b]=D[x]=D[S]=D[M]=D[P]=!1;function L(N){return t(N)&&e(N.length)&&!!D[r(N)]}return ug=L,ug}var cg,wS;function Qd(){if(wS)return cg;wS=1;function r(e){return function(t){return e(t)}}return cg=r,cg}var Nu={exports:{}};Nu.exports;var AS;function V0(){return AS||(AS=1,(function(r,e){var t=u2(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,l=a&&a.exports===i,c=l&&t.process,d=(function(){try{var p=a&&a.require&&a.require("util").types;return p||c&&c.binding&&c.binding("util")}catch{}})();r.exports=d})(Nu,Nu.exports)),Nu.exports}var hg,RS;function P0(){if(RS)return hg;RS=1;var r=S5(),e=Qd(),t=V0(),i=t&&t.isTypedArray,a=i?e(i):r;return hg=a,hg}var dg,CS;function f2(){if(CS)return dg;CS=1;var r=E5(),e=Kd(),t=pn(),i=Wd(),a=Yd(),l=P0(),c=Object.prototype,d=c.hasOwnProperty;function p(m,v){var b=t(m),x=!b&&e(m),S=!b&&!x&&i(m),M=!b&&!x&&!S&&l(m),P=b||x||S||M,k=P?r(m.length,String):[],F=k.length;for(var z in m)(v||d.call(m,z))&&!(P&&(z=="length"||S&&(z=="offset"||z=="parent")||M&&(z=="buffer"||z=="byteLength"||z=="byteOffset")||a(z,F)))&&k.push(z);return k}return dg=p,dg}var fg,IS;function L0(){if(IS)return fg;IS=1;var r=Object.prototype;function e(t){var i=t&&t.constructor,a=typeof i=="function"&&i.prototype||r;return t===a}return fg=e,fg}var pg,NS;function p2(){if(NS)return pg;NS=1;function r(e,t){return function(i){return e(t(i))}}return pg=r,pg}var mg,OS;function w5(){if(OS)return mg;OS=1;var r=p2(),e=r(Object.keys,Object);return mg=e,mg}var gg,DS;function A5(){if(DS)return gg;DS=1;var r=L0(),e=w5(),t=Object.prototype,i=t.hasOwnProperty;function a(l){if(!r(l))return e(l);var c=[];for(var d in Object(l))i.call(l,d)&&d!="constructor"&&c.push(d);return c}return gg=a,gg}var yg,kS;function ll(){if(kS)return yg;kS=1;var r=M0(),e=j0();function t(i){return i!=null&&e(i.length)&&!r(i)}return yg=t,yg}var vg,MS;function za(){if(MS)return vg;MS=1;var r=f2(),e=A5(),t=ll();function i(a){return t(a)?r(a):e(a)}return vg=i,vg}var _g,jS;function R5(){if(jS)return _g;jS=1;var r=d2(),e=za();function t(i,a){return i&&r(i,a,e)}return _g=t,_g}var bg,VS;function C5(){if(VS)return bg;VS=1;var r=ll();function e(t,i){return function(a,l){if(a==null)return a;if(!r(a))return t(a,l);for(var c=a.length,d=i?c:-1,p=Object(a);(i?d--:++d<c)&&l(p[d],d,p)!==!1;);return a}}return bg=e,bg}var Eg,PS;function U0(){if(PS)return Eg;PS=1;var r=R5(),e=C5(),t=e(r);return Eg=t,Eg}var Tg,LS;function I5(){if(LS)return Tg;LS=1;var r=U0();function e(t,i,a,l){return r(t,function(c,d,p){i(l,c,a(c),p)}),l}return Tg=e,Tg}var xg,US;function N5(){if(US)return xg;US=1;function r(){this.__data__=[],this.size=0}return xg=r,xg}var Sg,qS;function sc(){if(qS)return Sg;qS=1;function r(e,t){return e===t||e!==e&&t!==t}return Sg=r,Sg}var wg,BS;function Xd(){if(BS)return wg;BS=1;var r=sc();function e(t,i){for(var a=t.length;a--;)if(r(t[a][0],i))return a;return-1}return wg=e,wg}var Ag,zS;function O5(){if(zS)return Ag;zS=1;var r=Xd(),e=Array.prototype,t=e.splice;function i(a){var l=this.__data__,c=r(l,a);if(c<0)return!1;var d=l.length-1;return c==d?l.pop():t.call(l,c,1),--this.size,!0}return Ag=i,Ag}var Rg,FS;function D5(){if(FS)return Rg;FS=1;var r=Xd();function e(t){var i=this.__data__,a=r(i,t);return a<0?void 0:i[a][1]}return Rg=e,Rg}var Cg,HS;function k5(){if(HS)return Cg;HS=1;var r=Xd();function e(t){return r(this.__data__,t)>-1}return Cg=e,Cg}var Ig,GS;function M5(){if(GS)return Ig;GS=1;var r=Xd();function e(t,i){var a=this.__data__,l=r(a,t);return l<0?(++this.size,a.push([t,i])):a[l][1]=i,this}return Ig=e,Ig}var Ng,$S;function Jd(){if($S)return Ng;$S=1;var r=N5(),e=O5(),t=D5(),i=k5(),a=M5();function l(c){var d=-1,p=c==null?0:c.length;for(this.clear();++d<p;){var m=c[d];this.set(m[0],m[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,Ng=l,Ng}var Og,KS;function j5(){if(KS)return Og;KS=1;var r=Jd();function e(){this.__data__=new r,this.size=0}return Og=e,Og}var Dg,WS;function V5(){if(WS)return Dg;WS=1;function r(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}return Dg=r,Dg}var kg,YS;function P5(){if(YS)return kg;YS=1;function r(e){return this.__data__.get(e)}return kg=r,kg}var Mg,QS;function L5(){if(QS)return Mg;QS=1;function r(e){return this.__data__.has(e)}return Mg=r,Mg}var jg,XS;function q0(){if(XS)return jg;XS=1;var r=Ba(),e=kr(),t=r(e,"Map");return jg=t,jg}var Vg,JS;function Zd(){if(JS)return Vg;JS=1;var r=Ba(),e=r(Object,"create");return Vg=e,Vg}var Pg,ZS;function U5(){if(ZS)return Pg;ZS=1;var r=Zd();function e(){this.__data__=r?r(null):{},this.size=0}return Pg=e,Pg}var Lg,ew;function q5(){if(ew)return Lg;ew=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Lg=r,Lg}var Ug,tw;function B5(){if(tw)return Ug;tw=1;var r=Zd(),e="__lodash_hash_undefined__",t=Object.prototype,i=t.hasOwnProperty;function a(l){var c=this.__data__;if(r){var d=c[l];return d===e?void 0:d}return i.call(c,l)?c[l]:void 0}return Ug=a,Ug}var qg,nw;function z5(){if(nw)return qg;nw=1;var r=Zd(),e=Object.prototype,t=e.hasOwnProperty;function i(a){var l=this.__data__;return r?l[a]!==void 0:t.call(l,a)}return qg=i,qg}var Bg,rw;function F5(){if(rw)return Bg;rw=1;var r=Zd(),e="__lodash_hash_undefined__";function t(i,a){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=r&&a===void 0?e:a,this}return Bg=t,Bg}var zg,iw;function H5(){if(iw)return zg;iw=1;var r=U5(),e=q5(),t=B5(),i=z5(),a=F5();function l(c){var d=-1,p=c==null?0:c.length;for(this.clear();++d<p;){var m=c[d];this.set(m[0],m[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,zg=l,zg}var Fg,sw;function G5(){if(sw)return Fg;sw=1;var r=H5(),e=Jd(),t=q0();function i(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return Fg=i,Fg}var Hg,aw;function $5(){if(aw)return Hg;aw=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Hg=r,Hg}var Gg,ow;function ef(){if(ow)return Gg;ow=1;var r=$5();function e(t,i){var a=t.__data__;return r(i)?a[typeof i=="string"?"string":"hash"]:a.map}return Gg=e,Gg}var $g,lw;function K5(){if(lw)return $g;lw=1;var r=ef();function e(t){var i=r(this,t).delete(t);return this.size-=i?1:0,i}return $g=e,$g}var Kg,uw;function W5(){if(uw)return Kg;uw=1;var r=ef();function e(t){return r(this,t).get(t)}return Kg=e,Kg}var Wg,cw;function Y5(){if(cw)return Wg;cw=1;var r=ef();function e(t){return r(this,t).has(t)}return Wg=e,Wg}var Yg,hw;function Q5(){if(hw)return Yg;hw=1;var r=ef();function e(t,i){var a=r(this,t),l=a.size;return a.set(t,i),this.size+=a.size==l?0:1,this}return Yg=e,Yg}var Qg,dw;function B0(){if(dw)return Qg;dw=1;var r=G5(),e=K5(),t=W5(),i=Y5(),a=Q5();function l(c){var d=-1,p=c==null?0:c.length;for(this.clear();++d<p;){var m=c[d];this.set(m[0],m[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,Qg=l,Qg}var Xg,fw;function X5(){if(fw)return Xg;fw=1;var r=Jd(),e=q0(),t=B0(),i=200;function a(l,c){var d=this.__data__;if(d instanceof r){var p=d.__data__;if(!e||p.length<i-1)return p.push([l,c]),this.size=++d.size,this;d=this.__data__=new t(p)}return d.set(l,c),this.size=d.size,this}return Xg=a,Xg}var Jg,pw;function tf(){if(pw)return Jg;pw=1;var r=Jd(),e=j5(),t=V5(),i=P5(),a=L5(),l=X5();function c(d){var p=this.__data__=new r(d);this.size=p.size}return c.prototype.clear=e,c.prototype.delete=t,c.prototype.get=i,c.prototype.has=a,c.prototype.set=l,Jg=c,Jg}var Zg,mw;function J5(){if(mw)return Zg;mw=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return Zg=e,Zg}var ey,gw;function Z5(){if(gw)return ey;gw=1;function r(e){return this.__data__.has(e)}return ey=r,ey}var ty,yw;function eL(){if(yw)return ty;yw=1;var r=B0(),e=J5(),t=Z5();function i(a){var l=-1,c=a==null?0:a.length;for(this.__data__=new r;++l<c;)this.add(a[l])}return i.prototype.add=i.prototype.push=e,i.prototype.has=t,ty=i,ty}var ny,vw;function tL(){if(vw)return ny;vw=1;function r(e,t){for(var i=-1,a=e==null?0:e.length;++i<a;)if(t(e[i],i,e))return!0;return!1}return ny=r,ny}var ry,_w;function nL(){if(_w)return ry;_w=1;function r(e,t){return e.has(t)}return ry=r,ry}var iy,bw;function m2(){if(bw)return iy;bw=1;var r=eL(),e=tL(),t=nL(),i=1,a=2;function l(c,d,p,m,v,b){var x=p&i,S=c.length,M=d.length;if(S!=M&&!(x&&M>S))return!1;var P=b.get(c),k=b.get(d);if(P&&k)return P==d&&k==c;var F=-1,z=!0,X=p&a?new r:void 0;for(b.set(c,d),b.set(d,c);++F<S;){var le=c[F],ce=d[F];if(m)var oe=x?m(ce,le,F,d,c,b):m(le,ce,F,c,d,b);if(oe!==void 0){if(oe)continue;z=!1;break}if(X){if(!e(d,function(I,C){if(!t(X,C)&&(le===I||v(le,I,p,m,b)))return X.push(C)})){z=!1;break}}else if(!(le===ce||v(le,ce,p,m,b))){z=!1;break}}return b.delete(c),b.delete(d),z}return iy=l,iy}var sy,Ew;function g2(){if(Ew)return sy;Ew=1;var r=kr(),e=r.Uint8Array;return sy=e,sy}var ay,Tw;function rL(){if(Tw)return ay;Tw=1;function r(e){var t=-1,i=Array(e.size);return e.forEach(function(a,l){i[++t]=[l,a]}),i}return ay=r,ay}var oy,xw;function iL(){if(xw)return oy;xw=1;function r(e){var t=-1,i=Array(e.size);return e.forEach(function(a){i[++t]=a}),i}return oy=r,oy}var ly,Sw;function sL(){if(Sw)return ly;Sw=1;var r=ol(),e=g2(),t=sc(),i=m2(),a=rL(),l=iL(),c=1,d=2,p="[object Boolean]",m="[object Date]",v="[object Error]",b="[object Map]",x="[object Number]",S="[object RegExp]",M="[object Set]",P="[object String]",k="[object Symbol]",F="[object ArrayBuffer]",z="[object DataView]",X=r?r.prototype:void 0,le=X?X.valueOf:void 0;function ce(oe,I,C,O,j,D,L){switch(C){case z:if(oe.byteLength!=I.byteLength||oe.byteOffset!=I.byteOffset)return!1;oe=oe.buffer,I=I.buffer;case F:return!(oe.byteLength!=I.byteLength||!D(new e(oe),new e(I)));case p:case m:case x:return t(+oe,+I);case v:return oe.name==I.name&&oe.message==I.message;case S:case P:return oe==I+"";case b:var N=a;case M:var Re=O&c;if(N||(N=l),oe.size!=I.size&&!Re)return!1;var Ne=L.get(oe);if(Ne)return Ne==I;O|=d,L.set(oe,I);var ee=i(N(oe),N(I),O,j,D,L);return L.delete(oe),ee;case k:if(le)return le.call(oe)==le.call(I)}return!1}return ly=ce,ly}var uy,ww;function nf(){if(ww)return uy;ww=1;function r(e,t){for(var i=-1,a=t.length,l=e.length;++i<a;)e[l+i]=t[i];return e}return uy=r,uy}var cy,Aw;function y2(){if(Aw)return cy;Aw=1;var r=nf(),e=pn();function t(i,a,l){var c=a(i);return e(i)?c:r(c,l(i))}return cy=t,cy}var hy,Rw;function v2(){if(Rw)return hy;Rw=1;function r(e,t){for(var i=-1,a=e==null?0:e.length,l=0,c=[];++i<a;){var d=e[i];t(d,i,e)&&(c[l++]=d)}return c}return hy=r,hy}var dy,Cw;function _2(){if(Cw)return dy;Cw=1;function r(){return[]}return dy=r,dy}var fy,Iw;function z0(){if(Iw)return fy;Iw=1;var r=v2(),e=_2(),t=Object.prototype,i=t.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(c){return c==null?[]:(c=Object(c),r(a(c),function(d){return i.call(c,d)}))}:e;return fy=l,fy}var py,Nw;function b2(){if(Nw)return py;Nw=1;var r=y2(),e=z0(),t=za();function i(a){return r(a,t,e)}return py=i,py}var my,Ow;function aL(){if(Ow)return my;Ow=1;var r=b2(),e=1,t=Object.prototype,i=t.hasOwnProperty;function a(l,c,d,p,m,v){var b=d&e,x=r(l),S=x.length,M=r(c),P=M.length;if(S!=P&&!b)return!1;for(var k=S;k--;){var F=x[k];if(!(b?F in c:i.call(c,F)))return!1}var z=v.get(l),X=v.get(c);if(z&&X)return z==c&&X==l;var le=!0;v.set(l,c),v.set(c,l);for(var ce=b;++k<S;){F=x[k];var oe=l[F],I=c[F];if(p)var C=b?p(I,oe,F,c,l,v):p(oe,I,F,l,c,v);if(!(C===void 0?oe===I||m(oe,I,d,p,v):C)){le=!1;break}ce||(ce=F=="constructor")}if(le&&!ce){var O=l.constructor,j=c.constructor;O!=j&&"constructor"in l&&"constructor"in c&&!(typeof O=="function"&&O instanceof O&&typeof j=="function"&&j instanceof j)&&(le=!1)}return v.delete(l),v.delete(c),le}return my=a,my}var gy,Dw;function oL(){if(Dw)return gy;Dw=1;var r=Ba(),e=kr(),t=r(e,"DataView");return gy=t,gy}var yy,kw;function lL(){if(kw)return yy;kw=1;var r=Ba(),e=kr(),t=r(e,"Promise");return yy=t,yy}var vy,Mw;function uL(){if(Mw)return vy;Mw=1;var r=Ba(),e=kr(),t=r(e,"Set");return vy=t,vy}var _y,jw;function cL(){if(jw)return _y;jw=1;var r=Ba(),e=kr(),t=r(e,"WeakMap");return _y=t,_y}var by,Vw;function rf(){if(Vw)return by;Vw=1;var r=oL(),e=q0(),t=lL(),i=uL(),a=cL(),l=qa(),c=c2(),d="[object Map]",p="[object Object]",m="[object Promise]",v="[object Set]",b="[object WeakMap]",x="[object DataView]",S=c(r),M=c(e),P=c(t),k=c(i),F=c(a),z=l;return(r&&z(new r(new ArrayBuffer(1)))!=x||e&&z(new e)!=d||t&&z(t.resolve())!=m||i&&z(new i)!=v||a&&z(new a)!=b)&&(z=function(X){var le=l(X),ce=le==p?X.constructor:void 0,oe=ce?c(ce):"";if(oe)switch(oe){case S:return x;case M:return d;case P:return m;case k:return v;case F:return b}return le}),by=z,by}var Ey,Pw;function hL(){if(Pw)return Ey;Pw=1;var r=tf(),e=m2(),t=sL(),i=aL(),a=rf(),l=pn(),c=Wd(),d=P0(),p=1,m="[object Arguments]",v="[object Array]",b="[object Object]",x=Object.prototype,S=x.hasOwnProperty;function M(P,k,F,z,X,le){var ce=l(P),oe=l(k),I=ce?v:a(P),C=oe?v:a(k);I=I==m?b:I,C=C==m?b:C;var O=I==b,j=C==b,D=I==C;if(D&&c(P)){if(!c(k))return!1;ce=!0,O=!1}if(D&&!O)return le||(le=new r),ce||d(P)?e(P,k,F,z,X,le):t(P,k,I,F,z,X,le);if(!(F&p)){var L=O&&S.call(P,"__wrapped__"),N=j&&S.call(k,"__wrapped__");if(L||N){var Re=L?P.value():P,Ne=N?k.value():k;return le||(le=new r),X(Re,Ne,F,z,le)}}return D?(le||(le=new r),i(P,k,F,z,X,le)):!1}return Ey=M,Ey}var Ty,Lw;function E2(){if(Lw)return Ty;Lw=1;var r=hL(),e=ui();function t(i,a,l,c,d){return i===a?!0:i==null||a==null||!e(i)&&!e(a)?i!==i&&a!==a:r(i,a,l,c,t,d)}return Ty=t,Ty}var xy,Uw;function dL(){if(Uw)return xy;Uw=1;var r=tf(),e=E2(),t=1,i=2;function a(l,c,d,p){var m=d.length,v=m,b=!p;if(l==null)return!v;for(l=Object(l);m--;){var x=d[m];if(b&&x[2]?x[1]!==l[x[0]]:!(x[0]in l))return!1}for(;++m<v;){x=d[m];var S=x[0],M=l[S],P=x[1];if(b&&x[2]){if(M===void 0&&!(S in l))return!1}else{var k=new r;if(p)var F=p(M,P,S,l,c,k);if(!(F===void 0?e(P,M,t|i,p,k):F))return!1}}return!0}return xy=a,xy}var Sy,qw;function T2(){if(qw)return Sy;qw=1;var r=hr();function e(t){return t===t&&!r(t)}return Sy=e,Sy}var wy,Bw;function fL(){if(Bw)return wy;Bw=1;var r=T2(),e=za();function t(i){for(var a=e(i),l=a.length;l--;){var c=a[l],d=i[c];a[l]=[c,d,r(d)]}return a}return wy=t,wy}var Ay,zw;function x2(){if(zw)return Ay;zw=1;function r(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==void 0||e in Object(i))}}return Ay=r,Ay}var Ry,Fw;function pL(){if(Fw)return Ry;Fw=1;var r=dL(),e=fL(),t=x2();function i(a){var l=e(a);return l.length==1&&l[0][2]?t(l[0][0],l[0][1]):function(c){return c===a||r(c,a,l)}}return Ry=i,Ry}var Cy,Hw;function ac(){if(Hw)return Cy;Hw=1;var r=qa(),e=ui(),t="[object Symbol]";function i(a){return typeof a=="symbol"||e(a)&&r(a)==t}return Cy=i,Cy}var Iy,Gw;function F0(){if(Gw)return Iy;Gw=1;var r=pn(),e=ac(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function a(l,c){if(r(l))return!1;var d=typeof l;return d=="number"||d=="symbol"||d=="boolean"||l==null||e(l)?!0:i.test(l)||!t.test(l)||c!=null&&l in Object(c)}return Iy=a,Iy}var Ny,$w;function mL(){if($w)return Ny;$w=1;var r=B0(),e="Expected a function";function t(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var l=function(){var c=arguments,d=a?a.apply(this,c):c[0],p=l.cache;if(p.has(d))return p.get(d);var m=i.apply(this,c);return l.cache=p.set(d,m)||p,m};return l.cache=new(t.Cache||r),l}return t.Cache=r,Ny=t,Ny}var Oy,Kw;function gL(){if(Kw)return Oy;Kw=1;var r=mL(),e=500;function t(i){var a=r(i,function(c){return l.size===e&&l.clear(),c}),l=a.cache;return a}return Oy=t,Oy}var Dy,Ww;function yL(){if(Ww)return Dy;Ww=1;var r=gL(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,i=r(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(e,function(c,d,p,m){l.push(p?m.replace(t,"$1"):d||c)}),l});return Dy=i,Dy}var ky,Yw;function sf(){if(Yw)return ky;Yw=1;function r(e,t){for(var i=-1,a=e==null?0:e.length,l=Array(a);++i<a;)l[i]=t(e[i],i,e);return l}return ky=r,ky}var My,Qw;function vL(){if(Qw)return My;Qw=1;var r=ol(),e=sf(),t=pn(),i=ac(),a=r?r.prototype:void 0,l=a?a.toString:void 0;function c(d){if(typeof d=="string")return d;if(t(d))return e(d,c)+"";if(i(d))return l?l.call(d):"";var p=d+"";return p=="0"&&1/d==-1/0?"-0":p}return My=c,My}var jy,Xw;function S2(){if(Xw)return jy;Xw=1;var r=vL();function e(t){return t==null?"":r(t)}return jy=e,jy}var Vy,Jw;function oc(){if(Jw)return Vy;Jw=1;var r=pn(),e=F0(),t=yL(),i=S2();function a(l,c){return r(l)?l:e(l,c)?[l]:t(i(l))}return Vy=a,Vy}var Py,Zw;function ul(){if(Zw)return Py;Zw=1;var r=ac();function e(t){if(typeof t=="string"||r(t))return t;var i=t+"";return i=="0"&&1/t==-1/0?"-0":i}return Py=e,Py}var Ly,eA;function af(){if(eA)return Ly;eA=1;var r=oc(),e=ul();function t(i,a){a=r(a,i);for(var l=0,c=a.length;i!=null&&l<c;)i=i[e(a[l++])];return l&&l==c?i:void 0}return Ly=t,Ly}var Uy,tA;function w2(){if(tA)return Uy;tA=1;var r=af();function e(t,i,a){var l=t==null?void 0:r(t,i);return l===void 0?a:l}return Uy=e,Uy}var qy,nA;function _L(){if(nA)return qy;nA=1;function r(e,t){return e!=null&&t in Object(e)}return qy=r,qy}var By,rA;function A2(){if(rA)return By;rA=1;var r=oc(),e=Kd(),t=pn(),i=Yd(),a=j0(),l=ul();function c(d,p,m){p=r(p,d);for(var v=-1,b=p.length,x=!1;++v<b;){var S=l(p[v]);if(!(x=d!=null&&m(d,S)))break;d=d[S]}return x||++v!=b?x:(b=d==null?0:d.length,!!b&&a(b)&&i(S,b)&&(t(d)||e(d)))}return By=c,By}var zy,iA;function bL(){if(iA)return zy;iA=1;var r=_L(),e=A2();function t(i,a){return i!=null&&e(i,a,r)}return zy=t,zy}var Fy,sA;function EL(){if(sA)return Fy;sA=1;var r=E2(),e=w2(),t=bL(),i=F0(),a=T2(),l=x2(),c=ul(),d=1,p=2;function m(v,b){return i(v)&&a(b)?l(c(v),b):function(x){var S=e(x,v);return S===void 0&&S===b?t(x,v):r(b,S,d|p)}}return Fy=m,Fy}var Hy,aA;function of(){if(aA)return Hy;aA=1;function r(e){return e}return Hy=r,Hy}var Gy,oA;function TL(){if(oA)return Gy;oA=1;function r(e){return function(t){return t?.[e]}}return Gy=r,Gy}var $y,lA;function xL(){if(lA)return $y;lA=1;var r=af();function e(t){return function(i){return r(i,t)}}return $y=e,$y}var Ky,uA;function SL(){if(uA)return Ky;uA=1;var r=TL(),e=xL(),t=F0(),i=ul();function a(l){return t(l)?r(i(l)):e(l)}return Ky=a,Ky}var Wy,cA;function H0(){if(cA)return Wy;cA=1;var r=pL(),e=EL(),t=of(),i=pn(),a=SL();function l(c){return typeof c=="function"?c:c==null?t:typeof c=="object"?i(c)?e(c[0],c[1]):r(c):a(c)}return Wy=l,Wy}var Yy,hA;function wL(){if(hA)return Yy;hA=1;var r=_5(),e=I5(),t=H0(),i=pn();function a(l,c){return function(d,p){var m=i(d)?r:e,v=c?c():{};return m(d,l,t(p,2),v)}}return Yy=a,Yy}var Qy,dA;function AL(){if(dA)return Qy;dA=1;var r=$d(),e=wL(),t=Object.prototype,i=t.hasOwnProperty,a=e(function(l,c,d){i.call(l,d)?l[d].push(c):r(l,d,[c])});return Qy=a,Qy}var RL=AL();const md=Yt(RL),CL={BLUEPRINT:"BP","CHASSIS BLUEPRINT":"CH","SYSTEMS BLUEPRINT":"SYS","NEUROPTICS BLUEPRINT":"NEU"},IL={Common:"bg-yellow-900",Uncommon:"bg-slate-700",Rare:"bg-yellow-500"},NL={Common:"border-yellow-900",Uncommon:"border-slate-700",Rare:"border-yellow-500"},fA=r=>{if(!r)return null;const e=String(r).trim();if(!e)return null;const t=e.replace(/\s+/g,"_");return`https://wiki.warframe.com/w/${encodeURIComponent(t)}`};class R2 extends Wt.Component{handleItemClick(e){return t=>{this.props.onItemClick(e),t.stopPropagation()}}renderAcquisition(e){if(e.location)return y.jsx("td",{className:"py-1 px-3 align-top border-l border-gray-100 text-gray-700 text-sm leading-snug",children:Array.isArray(e.location)?y.jsx("ul",{className:"list-disc list-inside m-0 p-0",children:e.location.map((t,i)=>y.jsx("li",{children:t},i))}):e.location});if(e.relics){const t=md(e.relics,"part"),i=Object.getOwnPropertyNames(t).map((a,l)=>y.jsxs("tr",{className:"border-none",children:[y.jsx("td",{className:"py-0 px-1 w-8 text-xs font-bold text-gray-500",children:CL[a.toUpperCase()]}),y.jsx("td",{className:"py-0.5 px-1 flex flex-wrap gap-1",children:t[a].map((c,d)=>{const p=IL[c.rarity]||"bg-gray-400",m=NL[c.rarity]||"border-gray-400",v=c.isVaulted?`border-2 ${m} !bg-transparent !text-inherit opacity-70`:`${p} border-2 ${m} text-white`;return y.jsx("span",{className:`px-1 rounded-[2px] text-[10px] font-bold uppercase ${v}`,title:c.isVaulted?"Vaulted":void 0,children:c.name},d)})})]},l));return y.jsx("td",{className:"py-1 px-3 align-top border-l border-gray-100",children:y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:i})})})}return y.jsx("td",{className:"py-1 px-3 border-l border-gray-100"})}renderBody(){const e=this.props.items.map((t,i)=>{const a=this.props.visibilityFilter===Jt.SHOW_ACTIVE&&t.checked;return this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(t).toLowerCase().includes(this.props.searchFilter.toLowerCase())?null:y.jsxs("tr",{className:`${t.checked?"bg-green-50":""} ${a?"opacity-30":""} transition-colors`,children:[y.jsx("td",{className:"py-1 px-3 align-top w-40",children:y.jsxs("div",{className:"flex items-center gap-1.5",children:[t.checked&&y.jsx(dn,{className:"text-green-500 shrink-0"}),y.jsx("span",{className:"font-bold text-gray-900 text-base",children:t.title})]})}),y.jsx("td",{className:"py-1 px-2 align-top w-20 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center gap-2",children:[t.url||fA(t.title)?y.jsx("a",{href:t.url||fA(t.title),title:"wiki",className:"text-gray-500 opacity-70 hover:opacity-100",target:"_blank",rel:"noopener noreferrer",children:y.jsx(ka,{})}):null,t.market?y.jsx("a",{href:t.market,title:"market",className:"text-gray-500 opacity-70 hover:opacity-100",target:"_blank",rel:"noopener noreferrer",children:y.jsx(G_,{})}):null,t.isVaulted?y.jsx(Hd,{className:"text-red-600",title:"Vaulted"}):null]})}),y.jsx("td",{className:"py-1 px-3 align-top w-48",children:t.items?y.jsx("div",{className:"flex flex-col gap-0.5",children:t.items.map((l,c)=>{const d=typeof l=="string"||l instanceof String?l:l.title;return y.jsxs("span",{className:"flex items-center gap-1.5 whitespace-nowrap text-sm text-gray-700",children:[y.jsx("div",{className:`cursor-pointer ${l.checked?"text-green-500":"text-gray-400 hover:text-gray-600"}`,onClick:this.handleItemClick(d),children:l.checked?y.jsx(dn,{}):y.jsx(zd,{})}),y.jsx("span",{className:"font-medium",children:l.short?l.short:l.title})]},c)})}):null}),this.renderAcquisition(t)]},i)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:e})}render(){return y.jsx("div",{className:"overflow-x-auto border-t border-gray-100",children:y.jsx("table",{className:"w-full border-collapse",children:this.renderBody()})})}}R2.propTypes={items:R.arrayOf(R.shape({title:R.string,short:R.string,market:R.string,description:R.string,location:R.oneOfType([R.string,R.arrayOf(R.string)]),checked:R.bool})),onItemClick:R.func.isRequired,visibilityFilter:R.string,searchFilter:R.string};var Xy,pA;function OL(){if(pA)return Xy;pA=1;var r=S2(),e=/[\\^$.*+?()[\]{}|]/g,t=RegExp(e.source);function i(a){return a=r(a),a&&t.test(a)?a.replace(e,"\\$&"):a}return Xy=i,Xy}var DL=OL();const Ra=Yt(DL);var Jy,mA;function kL(){if(mA)return Jy;mA=1;var r=U0();function e(t,i){var a=[];return r(t,function(l,c,d){i(l,c,d)&&a.push(l)}),a}return Jy=e,Jy}var Zy,gA;function ML(){if(gA)return Zy;gA=1;var r=v2(),e=kL(),t=H0(),i=pn();function a(l,c){var d=i(l)?r:e;return d(l,t(c,3))}return Zy=a,Zy}var jL=ML();const Ca=Yt(jL);var ev,yA;function VL(){if(yA)return ev;yA=1;var r=sf();function e(t,i){return r(i,function(a){return t[a]})}return ev=e,ev}var tv,vA;function PL(){if(vA)return tv;vA=1;var r=VL(),e=za();function t(i){return i==null?[]:r(i,e(i))}return tv=t,tv}var LL=PL();const Ia=Yt(LL);var UL=za();const ni=Yt(UL);var qL=w2();const xr=Yt(qL);var nv,_A;function BL(){if(_A)return nv;_A=1;var r=U0(),e=ll();function t(i,a){var l=-1,c=e(i)?Array(i.length):[];return r(i,function(d,p,m){c[++l]=a(d,p,m)}),c}return nv=t,nv}var rv,bA;function zL(){if(bA)return rv;bA=1;function r(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}return rv=r,rv}var iv,EA;function FL(){if(EA)return iv;EA=1;var r=ac();function e(t,i){if(t!==i){var a=t!==void 0,l=t===null,c=t===t,d=r(t),p=i!==void 0,m=i===null,v=i===i,b=r(i);if(!m&&!b&&!d&&t>i||d&&p&&v&&!m&&!b||l&&p&&v||!a&&v||!c)return 1;if(!l&&!d&&!b&&t<i||b&&a&&c&&!l&&!d||m&&a&&c||!p&&c||!v)return-1}return 0}return iv=e,iv}var sv,TA;function HL(){if(TA)return sv;TA=1;var r=FL();function e(t,i,a){for(var l=-1,c=t.criteria,d=i.criteria,p=c.length,m=a.length;++l<p;){var v=r(c[l],d[l]);if(v){if(l>=m)return v;var b=a[l];return v*(b=="desc"?-1:1)}}return t.index-i.index}return sv=e,sv}var av,xA;function C2(){if(xA)return av;xA=1;var r=sf(),e=af(),t=H0(),i=BL(),a=zL(),l=Qd(),c=HL(),d=of(),p=pn();function m(v,b,x){b.length?b=r(b,function(P){return p(P)?function(k){return e(k,P.length===1?P[0]:P)}:P}):b=[d];var S=-1;b=r(b,l(t));var M=i(v,function(P,k,F){var z=r(b,function(X){return X(P)});return{criteria:z,index:++S,value:P}});return a(M,function(P,k){return c(P,k,x)})}return av=m,av}var ov,SA;function GL(){if(SA)return ov;SA=1;var r=C2(),e=pn();function t(i,a,l,c){return i==null?[]:(e(a)||(a=a==null?[]:[a]),l=c?void 0:l,e(l)||(l=l==null?[]:[l]),r(i,a,l))}return ov=t,ov}var $L=GL();const G0=Yt($L);var lv,wA;function KL(){if(wA)return lv;wA=1;var r=kr(),e=function(){return r.Date.now()};return lv=e,lv}var uv,AA;function WL(){if(AA)return uv;AA=1;var r=/\s/;function e(t){for(var i=t.length;i--&&r.test(t.charAt(i)););return i}return uv=e,uv}var cv,RA;function YL(){if(RA)return cv;RA=1;var r=WL(),e=/^\s+/;function t(i){return i&&i.slice(0,r(i)+1).replace(e,"")}return cv=t,cv}var hv,CA;function QL(){if(CA)return hv;CA=1;var r=YL(),e=hr(),t=ac(),i=NaN,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;function p(m){if(typeof m=="number")return m;if(t(m))return i;if(e(m)){var v=typeof m.valueOf=="function"?m.valueOf():m;m=e(v)?v+"":v}if(typeof m!="string")return m===0?m:+m;m=r(m);var b=l.test(m);return b||c.test(m)?d(m.slice(2),b?2:8):a.test(m)?i:+m}return hv=p,hv}var dv,IA;function XL(){if(IA)return dv;IA=1;var r=hr(),e=KL(),t=QL(),i="Expected a function",a=Math.max,l=Math.min;function c(d,p,m){var v,b,x,S,M,P,k=0,F=!1,z=!1,X=!0;if(typeof d!="function")throw new TypeError(i);p=t(p)||0,r(m)&&(F=!!m.leading,z="maxWait"in m,x=z?a(t(m.maxWait)||0,p):x,X="trailing"in m?!!m.trailing:X);function le(N){var Re=v,Ne=b;return v=b=void 0,k=N,S=d.apply(Ne,Re),S}function ce(N){return k=N,M=setTimeout(C,p),F?le(N):S}function oe(N){var Re=N-P,Ne=N-k,ee=p-Re;return z?l(ee,x-Ne):ee}function I(N){var Re=N-P,Ne=N-k;return P===void 0||Re>=p||Re<0||z&&Ne>=x}function C(){var N=e();if(I(N))return O(N);M=setTimeout(C,oe(N))}function O(N){return M=void 0,X&&v?le(N):(v=b=void 0,S)}function j(){M!==void 0&&clearTimeout(M),k=0,v=P=b=M=void 0}function D(){return M===void 0?S:O(e())}function L(){var N=e(),Re=I(N);if(v=arguments,b=this,P=N,Re){if(M===void 0)return ce(P);if(z)return clearTimeout(M),M=setTimeout(C,p),le(P)}return M===void 0&&(M=setTimeout(C,p)),S}return L.cancel=j,L.flush=D,L}return dv=c,dv}var JL=XL();const lf=Yt(JL),NA={Common:"bronze",Uncommon:"grey",Rare:"yellow"},Eu={red:{bg:"bg-red-600",border:"border-red-600",text:"text-red-600",icon:"text-red-600"},orange:{bg:"bg-orange-500",border:"border-orange-500",text:"text-orange-500",icon:"text-orange-500"},yellow:{bg:"bg-yellow-500",border:"border-yellow-500",text:"text-yellow-500",icon:"text-yellow-500"},olive:{bg:"bg-lime-600",border:"border-lime-600",text:"text-lime-600",icon:"text-lime-600"},green:{bg:"bg-green-500",border:"border-green-500",text:"text-green-500",icon:"text-green-500"},teal:{bg:"bg-teal-500",border:"border-teal-500",text:"text-teal-500",icon:"text-teal-500"},blue:{bg:"bg-blue-600",border:"border-blue-600",text:"text-sky-700",icon:"text-sky-700"},violet:{bg:"bg-violet-600",border:"border-violet-600",text:"text-violet-600",icon:"text-violet-600"},purple:{bg:"bg-purple-600",border:"border-purple-600",text:"text-purple-600",icon:"text-purple-600"},pink:{bg:"bg-pink-500",border:"border-pink-500",text:"text-pink-500",icon:"text-pink-500"},bronze:{bg:"bg-yellow-900",border:"border-yellow-900",text:"text-yellow-900",icon:"text-yellow-900"},grey:{bg:"bg-slate-700",border:"border-slate-700",text:"text-slate-700",icon:"text-slate-700"},black:{bg:"bg-gray-900",border:"border-gray-900",text:"text-gray-900",icon:"text-gray-900"}},OA=["red","olive","yellow","green","teal","blue","orange","violet","purple","pink","bronze","grey","black"],Tu={isLoading:!1,results:[],value:"",hovered:[],activeIndex:0};class I2 extends Wt.Component{constructor(e){super(e),this.state=Tu,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=lf(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(Tu)}handleKeyDown(e){const{results:t,activeIndex:i,value:a}=this.state;if(e.key==="ArrowDown"&&t.length){e.preventDefault(),this.setState({activeIndex:(i+1)%t.length});return}if(e.key==="ArrowUp"&&t.length){e.preventDefault(),this.setState({activeIndex:(i-1+t.length)%t.length});return}if(e.key==="Enter"){if(t.length&&t[i]){e.preventDefault(),this.handleResultSelect(e,{result:t[i]});return}a&&(e.preventDefault(),this.debouncedSearch.cancel(),this.props.onItemAdd({title:a,arbitrary:!0}),this.setState(Tu))}}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleVisibilityToggle(){return()=>{const e=this.props.relicVisibility===Jt.SHOW_ALL?Jt.SHOW_ACTIVE:Jt.SHOW_ALL;this.props.onRelicVisibilityToggle(e)}}handleSearchChange(e,{value:t}){if(this.setState({isLoading:!0,value:t,activeIndex:0}),t.length<1){this.setState(Tu);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(Tu);return}const t=new RegExp(Ra(e),"i"),i=Ia(this.props.voidDrops).map(l=>l.title),a=l=>t.test(l.title)&&!i.includes(l.title);this.setState({isLoading:!1,results:Ca(this.props.items,a),activeIndex:0})}resultRenderer({title:e}){return y.jsx("div",{children:e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e})},"content")}renderTypeIcon(e){const t=Eu[e],i=t?t.icon:"text-gray-400";return y.jsx(a2,{className:`text-xs align-middle mr-1 ${i}`})}renderItemsTable(){const e=Ia(this.props.voidDrops),t=[];let i;if(!e.length)return null;const a=G0(e,["item","arbitrary","title"],["asc","desc","asc"]).map(l=>{let c=l.title,d=[];t.includes(l.item)||t.push(l.item),l.count&&(c=`${c} x${l.count}`);const p=l.item&&this.props.primeChecked&&this.props.primeChecked[l.item],m=l.relics||[],v=l.arbitrary||!l.relics?[]:m.map(b=>{const x=b.name,S=xr(this.props,["markedRelics",x,"available"]);let M=null;S===!0?M=y.jsx(dn,{className:"mr-1 text-[0.9em]"}):S===!1&&(M=y.jsx(ed,{className:"mr-1 text-[0.9em]"}));const P=NA[b.rarity],k=Eu[P]||Eu.grey,F=b.isVaulted?`border-2 ${k.border} !bg-transparent !text-inherit opacity-70`:`${k.bg} ${k.border} border-2 text-white`,z=S===!1?"opacity-30":"";return y.jsxs("span",{className:`cursor-pointer inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-bold uppercase tracking-tight mr-1 mb-1 transition-colors ${F} ${z}`,onClick:this.handleRelicClick(x),children:[M,`${x}${b.isBaro?" [Baro]":""}`]},x)});if(!l.arbitrary&&l.item){const b=`${l.item.replace(/\s+/g,"_")}`,x=`https://wiki.warframe.com/w/${encodeURIComponent(b)}`,S=`https://warframe.market/items/${l.title.toLowerCase().split(" ").join("_")}`;i=OA[t.indexOf(l.item)%OA.length],d=[y.jsx("a",{href:x,title:"wiki",target:"_blank",rel:"noreferrer",className:"hover:opacity-70",children:y.jsx(ka,{className:"text-gray-400"})},"wiki"),y.jsx("a",{href:S,title:"market",target:"_blank",rel:"noreferrer",className:"hover:opacity-70 ml-1",children:y.jsx(G_,{className:"text-gray-400"})},"market")]}else if(l.arbitrary){const b=`https://warframe.market/items/${l.title.toLowerCase().split(" ").join("_")}`;d=[y.jsx("a",{href:b,title:"market",target:"_blank",rel:"noreferrer",className:"hover:opacity-70",children:y.jsx(G_,{className:"text-gray-400"})},"market")]}return y.jsxs("tr",{className:`hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors ${this.state.hovered.includes(c)?"bg-gray-50":""}`,children:[y.jsx("td",{className:"py-1 px-2 align-middle",children:y.jsxs("div",{className:"flex items-center flex-wrap",children:[this.renderTypeIcon(i),y.jsx("span",{className:`mr-2 ${p?"line-through opacity-60":""}`,children:c}),y.jsx("span",{className:"mr-3 inline-flex items-center",children:d}),y.jsx("div",{className:"inline-flex flex-wrap items-center mt-0.5",children:v})]})}),y.jsx("td",{className:"py-1 px-2 text-right align-middle",children:y.jsx(Sn,{className:"cursor-pointer text-red-600 hover:opacity-80",onClick:this.handleItemRemove(l.title)})})]},c)});return y.jsx("table",{className:"w-full border-collapse mb-4","data-testid":"items-table",children:y.jsx("tbody",{children:a})})}renderRelicsTable(){const e=Ia(this.props.voidDrops);if(!e.length)return null;const t={Lith:{},Meso:{},Neo:{},Axi:{},Vanguard:{},Requiem:{}};e.forEach(a=>{a.arbitrary||!a.relics||a.relics.forEach(l=>{if(!t[l.tier])return;t[l.tier][l.name]||(t[l.tier][l.name]=[]);const c={title:a.title,rarity:l.rarity,isVaulted:l.isVaulted};l.isBaro&&(c.isBaro=l.isBaro),t[l.tier][l.name].push(c)})});const i=["Lith","Meso","Neo","Axi","Vanguard","Requiem"];return y.jsxs("div",{className:"mt-4","data-testid":"relics-list",children:[y.jsxs("div",{className:"relative flex items-center mb-4",children:[y.jsx("div",{className:"grow border-t border-gray-200"}),y.jsx("span",{className:"shrink mx-4 text-gray-400 text-sm font-bold uppercase tracking-widest leading-none",children:"Relics to run"}),y.jsx("div",{className:"grow border-t border-gray-200"})]}),y.jsx("div",{className:"bg-white p-2 mb-2",children:i.map((a,l)=>ni(t[a]).length===0?null:y.jsxs(Wt.Fragment,{children:[l>0&&ni(t[i[l-1]]).length>0&&y.jsx("div",{className:"h-1"}),y.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 border-b border-gray-50 pb-1",children:a}),y.jsx("div",{className:"flex flex-wrap",children:this.renderGroupedRelicsList(t[a])})]},a))})]},"relics-container")}handleMouseOver(e){return()=>{this.setState({hovered:e})}}handleMouseOut(){return()=>{this.setState({hovered:[]})}}handleRelicClick(e){return()=>{this.props.onRelicToggle({title:e})}}renderGroupedRelicsList(e){return ni(e).sort().map(t=>{const i=e[t],a=i[0],l=t;let c=null;i.length>1&&(c=y.jsx("span",{className:"ml-1 opacity-70 font-normal",children:`x${i.length}`}));let d=null;const p=xr(this.props,["markedRelics",l,"available"]);if(p===!0?d=y.jsx(dn,{className:"mr-1 text-green-500"}):p===!1&&(d=y.jsx(ed,{className:"mr-1 text-red-600"})),a.isVaulted&&this.props.relicVisibility===Jt.SHOW_ACTIVE&&p!==!0)return null;const m=a.isVaulted?null:y.jsx("a",{href:`https://wiki.warframe.com/w/${t.replace(" ","_")}`,target:"_blank",rel:"noreferrer",onClick:M=>M.stopPropagation(),className:"mr-1 hover:opacity-70 flex items-center",children:y.jsx(ka,{className:"text-sky-700 text-[0.9em]"})}),v=NA[a.rarity],b=Eu[v]||Eu.grey,x=a.isVaulted?`border-2 ${b.border} !bg-transparent !text-inherit opacity-70`:`${b.bg} ${b.border} border-2 text-white`,S=p===!1?"opacity-30":"";return y.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-lg font-bold uppercase tracking-tight mr-1 mb-1 cursor-pointer transition-colors ${x} ${S}`,onClick:this.handleRelicClick(l),children:[d,m,y.jsx(BP,{className:"mr-1 opacity-70 text-[0.9em]"}),t,a.isBaro?" [Baro]":"",c]},t)})}render(){const{isLoading:e,value:t,results:i,activeIndex:a}=this.state;return y.jsxs("div",{children:[ni(this.props.voidDrops).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(ic,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing prime part name to add it to the list."})]}),y.jsxs("div",{className:"flex gap-2 mb-4",children:[y.jsxs("div",{className:"relative grow",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search prime parts...",value:t,onChange:l=>this.handleSearchChange(l,{value:l.target.value}),onKeyDown:this.handleKeyDown}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vs,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((l,c)=>y.jsx("div",{className:`px-3 py-2 cursor-pointer border-b border-gray-100 last:border-0 ${c===a?"bg-gray-100":"hover:bg-gray-50"}`,onClick:d=>this.handleResultSelect(d,{result:l}),children:this.resultRenderer(l)},c))})]}),y.jsx("button",{onClick:this.handleVisibilityToggle(),className:`px-3 py-2 border rounded-md transition-colors font-bold flex items-center justify-center min-w-[40px] ${this.props.relicVisibility===Jt.SHOW_ALL?"border-blue-600 text-sky-700 hover:bg-blue-50":"border-red-600 text-red-600 hover:bg-red-50"}`,title:this.props.relicVisibility===Jt.SHOW_ALL?"Hide vaulted":"Show all",children:this.props.relicVisibility===Jt.SHOW_ALL?y.jsx(zP,{}):y.jsx(ed,{})})]}),this.renderItemsTable(),this.renderRelicsTable()]})}}I2.propTypes={items:R.arrayOf(R.object),voidDrops:R.object,onItemAdd:R.func.isRequired,onItemRemove:R.func.isRequired,onRelicToggle:R.func.isRequired,markedRelics:R.object,relicVisibility:R.string,onRelicVisibilityToggle:R.func.isRequired,primeChecked:R.object};var fv,DA;function ZL(){if(DA)return fv;DA=1;var r=ol(),e=Kd(),t=pn(),i=r?r.isConcatSpreadable:void 0;function a(l){return t(l)||e(l)||!!(i&&l&&l[i])}return fv=a,fv}var pv,kA;function $0(){if(kA)return pv;kA=1;var r=nf(),e=ZL();function t(i,a,l,c,d){var p=-1,m=i.length;for(l||(l=e),d||(d=[]);++p<m;){var v=i[p];a>0&&l(v)?a>1?t(v,a-1,l,c,d):r(d,v):c||(d[d.length]=v)}return d}return pv=t,pv}var mv,MA;function e6(){if(MA)return mv;MA=1;function r(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}return mv=r,mv}var gv,jA;function N2(){if(jA)return gv;jA=1;var r=e6(),e=Math.max;function t(i,a,l){return a=e(a===void 0?i.length-1:a,0),function(){for(var c=arguments,d=-1,p=e(c.length-a,0),m=Array(p);++d<p;)m[d]=c[a+d];d=-1;for(var v=Array(a+1);++d<a;)v[d]=c[d];return v[a]=l(m),r(i,this,v)}}return gv=t,gv}var yv,VA;function t6(){if(VA)return yv;VA=1;function r(e){return function(){return e}}return yv=r,yv}var vv,PA;function n6(){if(PA)return vv;PA=1;var r=t6(),e=h2(),t=of(),i=e?function(a,l){return e(a,"toString",{configurable:!0,enumerable:!1,value:r(l),writable:!0})}:t;return vv=i,vv}var _v,LA;function r6(){if(LA)return _v;LA=1;var r=800,e=16,t=Date.now;function i(a){var l=0,c=0;return function(){var d=t(),p=e-(d-c);if(c=d,p>0){if(++l>=r)return arguments[0]}else l=0;return a.apply(void 0,arguments)}}return _v=i,_v}var bv,UA;function O2(){if(UA)return bv;UA=1;var r=n6(),e=r6(),t=e(r);return bv=t,bv}var Ev,qA;function D2(){if(qA)return Ev;qA=1;var r=of(),e=N2(),t=O2();function i(a,l){return t(e(a,l,r),a+"")}return Ev=i,Ev}var Tv,BA;function k2(){if(BA)return Tv;BA=1;var r=sc(),e=ll(),t=Yd(),i=hr();function a(l,c,d){if(!i(d))return!1;var p=typeof c;return(p=="number"?e(d)&&t(c,d.length):p=="string"&&c in d)?r(d[c],l):!1}return Tv=a,Tv}var xv,zA;function i6(){if(zA)return xv;zA=1;var r=$0(),e=C2(),t=D2(),i=k2(),a=t(function(l,c){if(l==null)return[];var d=c.length;return d>1&&i(l,c[0],c[1])?c=[]:d>2&&i(c[0],c[1],c[2])&&(c=[c[0]]),e(l,r(c,1),[])});return xv=a,xv}var s6=i6();const K0=Yt(s6);class M2 extends Wt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",count:this.props.count||0,modalOpen:!1},this.handleNotesChange=this.handleNotesChange.bind(this),this.handleCountChange=this.handleCountChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleNotesChange(e){this.setState({notes:e.target.value})}handleCountChange(e){const t=e.target.value;if(t===""||t===void 0)this.setState({count:0});else{const i=parseInt(t,10);!isNaN(i)&&i>=0&&this.setState({count:i})}}handleSave(){this.props.onSave(this.state.notes.trim(),this.state.count),this.handleClose()}handleOpen(){this.setState({modalOpen:!0,notes:this.props.notes||"",count:this.props.count||0})}handleClose(){this.setState({modalOpen:!1})}render(){return y.jsxs(y.Fragment,{children:[y.jsx(Gd,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.url?y.jsx("a",{href:this.props.url,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:this.props.title}):this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(Sn,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto",children:[this.props.category&&y.jsxs("p",{className:"mb-4 text-sm",children:[y.jsx("strong",{children:"Category:"})," ",this.props.category]}),y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"todo-count",className:"block text-sm font-bold text-gray-700 mb-1",children:"Count"}),y.jsx("input",{id:"todo-count",type:"number",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",value:this.state.count,onChange:this.handleCountChange,min:"0"})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"todo-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"todo-notes",autoFocus:!0,className:"w-full h-64 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleNotesChange})]})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(dn,{})," Save"]})})]})})]})}}M2.propTypes={title:R.string.isRequired,category:R.string,url:R.string,notes:R.string,count:R.number,onSave:R.func.isRequired};const W0=r=>{if(!r||typeof r!="string")return r;const e=r.split(/(\n)/g),t=[],i=/(https?:\/\/[^\s]+)/g;return e.forEach((a,l)=>{a===`
`?t.push(y.jsx("br",{},`br-${l}`)):a!==""&&a.split(i).forEach((d,p)=>{d.match(i)?t.push(y.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"text-sky-700 hover:underline",children:d},`link-${l}-${p}`)):d!==""&&t.push(d)})}),t},xu={isLoading:!1,results:[],value:"",activeIndex:0};class j2 extends Wt.Component{constructor(e){super(e),this.state=xu,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=lf(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(xu)}handleKeyDown(e){const{results:t,activeIndex:i,value:a}=this.state;if(e.key==="ArrowDown"&&t.length){e.preventDefault(),this.setState({activeIndex:(i+1)%t.length});return}if(e.key==="ArrowUp"&&t.length){e.preventDefault(),this.setState({activeIndex:(i-1+t.length)%t.length});return}if(e.key==="Enter"){if(t.length&&t[i]){e.preventDefault(),this.handleResultSelect(e,{result:t[i]});return}a&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:a}),this.setState(xu))}}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return(t,i)=>{this.props.onItemUpdate(e,t,i)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t,activeIndex:0}),t.length<1){this.setState(xu);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(xu);return}const t=new RegExp(Ra(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:Ca(this.props.items,i),activeIndex:0})}resultRenderer({title:e,category:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:t})]},"content")}renderTable(){const e=K0(Ia(this.props.todoItems),["category","title"]);if(!e.length)return null;const t=e.map((i,a)=>{let l=i.title;i.count&&(l=`${l} x${i.count}`);const c=i.url||(i.title?`https://wiki.warframe.com/w/${i.title.split(" ").join("_")}`:"https://wiki.warframe.com");return y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsx("a",{href:c,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:l})}),y.jsx("td",{className:"py-1 px-2 text-gray-500",children:i.category}),y.jsx("td",{className:"py-1 px-2 text-gray-500 italic text-sm",children:W0(i.notes)}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1",children:[y.jsx(M2,{title:i.title,category:i.category,url:i.url,notes:i.notes,count:i.count,onSave:this.handleItemUpdate(i.title)}),y.jsx(Bo,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(i.title)}),y.jsx(k0,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(i.title)}),y.jsx(Sn,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(i.title)})]})]},`${i.category||""}-${i.title}-${a}`)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:t})})}render(){const{isLoading:e,value:t,results:i,activeIndex:a}=this.state;return y.jsxs("div",{children:[ni(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(ic,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyDown:this.handleKeyDown}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vs,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((l,c)=>y.jsx("div",{className:`px-3 py-2 cursor-pointer border-b border-gray-100 last:border-0 ${c===a?"bg-gray-100":"hover:bg-gray-50"}`,onClick:d=>this.handleResultSelect(d,{result:l}),children:this.resultRenderer(l)},c))})]}),this.renderTable()]})}}j2.propTypes={items:R.arrayOf(R.object),todoItems:R.object,onItemAdd:R.func.isRequired,onItemRemove:R.func.isRequired,onItemIncrement:R.func.isRequired,onItemDecrement:R.func.isRequired,onItemUpdate:R.func.isRequired};class $_ extends Wt.Component{constructor(e){super(e),this.state={title:this.props.title||"",itemName:this.props.itemName||"",notes:this.props.notes||"",auraMods:this.props.auraMods||[],mods:this.props.mods||[],arcanes:this.props.arcanes||[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0,modalOpen:this.props.forceOpen||!1},this.handleTitleChange=this.handleTitleChange.bind(this),this.handleItemNameChange=this.handleItemNameChange.bind(this),this.handleNotesChange=this.handleNotesChange.bind(this),this.handleAuraModSearchChange=this.handleAuraModSearchChange.bind(this),this.handleModSearchChange=this.handleModSearchChange.bind(this),this.handleArcaneSearchChange=this.handleArcaneSearchChange.bind(this),this.handleAuraModKeyDown=this.handleAuraModKeyDown.bind(this),this.handleModKeyDown=this.handleModKeyDown.bind(this),this.handleArcaneKeyDown=this.handleArcaneKeyDown.bind(this),this.handleAddAuraMod=this.handleAddAuraMod.bind(this),this.handleRemoveAuraMod=this.handleRemoveAuraMod.bind(this),this.handleAddMod=this.handleAddMod.bind(this),this.handleRemoveMod=this.handleRemoveMod.bind(this),this.handleAddArcane=this.handleAddArcane.bind(this),this.handleRemoveArcane=this.handleRemoveArcane.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){if(e.key==="Escape")this.handleClose();else if(e.key==="Enter"){if(e.target.tagName==="TEXTAREA")e.shiftKey||(e.preventDefault(),this.handleSave());else if(e.target.tagName==="INPUT"){if(e.target.dataset.searchInput==="true")return;e.preventDefault(),this.handleSave()}}}componentDidMount(){this.state.modalOpen&&document.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleTitleChange(e){this.setState({title:e.target.value})}handleItemNameChange(e){this.setState({itemName:e.target.value})}handleNotesChange(e){this.setState({notes:e.target.value})}handleAuraModSearchChange(e){const t=e.target.value;if(this.setState({auraModSearch:t,activeAuraModIndex:0}),t.length<1){this.setState({auraModResults:[]});return}const i=new RegExp(Ra(t),"i"),a=Ca(this.props.availableMods,l=>i.test(l)&&!this.state.auraMods.includes(l)).slice(0,10);this.setState({auraModResults:a})}handleModSearchChange(e){const t=e.target.value;if(this.setState({modSearch:t,activeModIndex:0}),t.length<1){this.setState({modResults:[]});return}const i=new RegExp(Ra(t),"i"),a=Ca(this.props.availableMods,l=>i.test(l)&&!this.state.mods.includes(l)).slice(0,10);this.setState({modResults:a})}handleArcaneSearchChange(e){const t=e.target.value;if(this.setState({arcaneSearch:t,activeArcaneIndex:0}),t.length<1){this.setState({arcaneResults:[]});return}const i=new RegExp(Ra(t),"i"),a=Ca(this.props.availableArcanes,l=>i.test(l)&&!this.state.arcanes.includes(l)).slice(0,10);this.setState({arcaneResults:a})}handleAuraModKeyDown(e){const{auraModResults:t,activeAuraModIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeAuraModIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeAuraModIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddAuraMod(t[i])))}handleModKeyDown(e){const{modResults:t,activeModIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeModIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeModIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddMod(t[i])))}handleArcaneKeyDown(e){const{arcaneResults:t,activeArcaneIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeArcaneIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeArcaneIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddArcane(t[i])))}handleAddAuraMod(e){this.setState(t=>({auraMods:[...t.auraMods,e],auraModSearch:"",auraModResults:[]}))}handleRemoveAuraMod(e){this.setState(t=>({auraMods:t.auraMods.filter(i=>i!==e)}))}handleAddMod(e){this.setState(t=>({mods:[...t.mods,e],modSearch:"",modResults:[]}))}handleRemoveMod(e){this.setState(t=>({mods:t.mods.filter(i=>i!==e)}))}handleAddArcane(e){this.setState(t=>({arcanes:[...t.arcanes,e],arcaneSearch:"",arcaneResults:[]}))}handleRemoveArcane(e){this.setState(t=>({arcanes:t.arcanes.filter(i=>i!==e)}))}handleSave(){this.state.title.trim()&&(this.props.onSave({id:this.props.id||`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,title:this.state.title.trim(),itemName:this.state.itemName.trim(),notes:this.state.notes.trim(),auraMods:this.state.auraMods,mods:this.state.mods,arcanes:this.state.arcanes,category:"builds"}),this.handleClose(),!this.props.id&&!this.props.title&&this.setState({title:"",itemName:"",notes:"",auraMods:[],mods:[],arcanes:[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0}))}handleOpen(){this.setState({modalOpen:!0,title:this.props.title||"",itemName:this.props.itemName||"",notes:this.props.notes||"",auraMods:this.props.auraMods||[],mods:this.props.mods||[],arcanes:this.props.arcanes||[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0})}handleClose(){this.setState({modalOpen:!1})}render(){const{trigger:e}=this.props;return y.jsxs(y.Fragment,{children:[e?Wt.cloneElement(e,{onClick:this.handleOpen}):y.jsx(Gd,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left text-gray-900",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.title?y.jsxs(y.Fragment,{children:["Edit Build: ",y.jsx("span",{className:"text-sky-700",children:this.props.title}),this.props.itemName&&y.jsx("a",{href:`https://wiki.warframe.com/w/${this.props.itemName.split(" ").join("_")}`,target:"_blank",rel:"noreferrer",className:"ml-2 text-xs text-gray-400 hover:text-sky-700 font-normal align-middle",children:"(wiki)"})]}):"Add New Build"}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(Sn,{className:"text-gray-400"})})]}),y.jsx("div",{className:"p-4 grow overflow-y-auto",children:y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"build-title",className:"block text-sm font-bold text-gray-700 mb-1",children:"Build Name"}),y.jsx("input",{id:"build-title",type:"text",autoFocus:!this.props.title,className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",placeholder:"e.g. Speed Run, High Strength",value:this.state.title,onChange:this.handleTitleChange})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"build-item",className:"block text-sm font-bold text-gray-700 mb-1",children:"Item"}),y.jsx("input",{id:"build-item",type:"text",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",placeholder:"e.g. Gauss, Ignis Wraith",value:this.state.itemName,onChange:this.handleItemNameChange})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Aura/Exilus Mods"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.auraMods.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-50 text-cyan-700 text-xs font-bold rounded border border-blue-100 uppercase",children:[t,y.jsx(Sn,{className:"w-3 h-3 cursor-pointer hover:text-cyan-900",onClick:()=>this.handleRemoveAuraMod(t)})]},i)),this.state.auraMods.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No mods added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search aura/exilus mods to add...",value:this.state.auraModSearch,onChange:this.handleAuraModSearchChange,onKeyDown:this.handleAuraModKeyDown})}),this.state.auraModResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.auraModResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeAuraModIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddAuraMod(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(Bo,{className:`text-gray-400 ${i===this.state.activeAuraModIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Mods"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.mods.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-50 text-indigo-700 text-xs font-bold rounded border border-blue-100 uppercase",children:[t,y.jsx(Sn,{className:"w-3 h-3 cursor-pointer hover:text-indigo-900",onClick:()=>this.handleRemoveMod(t)})]},i)),this.state.mods.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No mods added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search mods to add...",value:this.state.modSearch,onChange:this.handleModSearchChange,onKeyDown:this.handleModKeyDown})}),this.state.modResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.modResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeModIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddMod(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(Bo,{className:`text-gray-400 ${i===this.state.activeModIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Arcanes"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.arcanes.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-50 text-purple-700 text-xs font-bold rounded border border-purple-100 uppercase",children:[t,y.jsx(Sn,{className:"w-3 h-3 cursor-pointer hover:text-purple-900",onClick:()=>this.handleRemoveArcane(t)})]},i)),this.state.arcanes.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No arcanes added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search arcanes to add...",value:this.state.arcaneSearch,onChange:this.handleArcaneSearchChange,onKeyDown:this.handleArcaneKeyDown})}),this.state.arcaneResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.arcaneResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeArcaneIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddArcane(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(Bo,{className:`text-gray-400 ${i===this.state.activeArcaneIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"build-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"build-notes",className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none text-sm",value:this.state.notes,onChange:this.handleNotesChange})]})]})}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(dn,{})," ",this.props.title?"Update Build":"Add Build"]})})]})})]})}}$_.propTypes={id:R.string,title:R.string,itemName:R.string,notes:R.string,auraMods:R.arrayOf(R.string),mods:R.arrayOf(R.string),arcanes:R.arrayOf(R.string),availableMods:R.arrayOf(R.string),availableArcanes:R.arrayOf(R.string),onSave:R.func.isRequired,trigger:R.element,forceOpen:R.bool};const V2=({builds:r,onBuildAdd:e,onBuildRemove:t,onBuildUpdate:i,mods:a,arcanes:l})=>{const c=K0(Ia(r),["itemName","title"]),d=md(c,v=>v.itemName||"Other"),m=ni(d).sort().map(v=>{const b=d[v],x=`https://wiki.warframe.com/w/${v.split(" ").join("_")}`;return y.jsxs(Wt.Fragment,{children:[y.jsx("tr",{className:"bg-gray-50 border-t border-b border-gray-100",children:y.jsx("td",{colSpan:"3",className:"py-1.5 px-3 font-bold text-gray-700 text-[10px] uppercase tracking-wider",children:v!=="Other"?y.jsx("a",{href:x,target:"_blank",rel:"noreferrer",className:"hover:underline",children:v}):v})}),b.map((S,M)=>{const P=S.id||S.title;return y.jsxs("tr",{className:"border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-4 align-top",children:y.jsx("div",{className:"flex flex-col",children:y.jsx($_,{id:S.id,title:S.title,itemName:S.itemName,notes:S.notes,auraMods:S.auraMods,mods:S.mods,arcanes:S.arcanes,availableMods:a,availableArcanes:l,onSave:k=>i(P,k),trigger:y.jsx("span",{className:"text-sky-700 font-bold hover:underline cursor-pointer",children:S.title})})})}),y.jsx("td",{className:"py-1 px-2 align-top",children:y.jsxs("div",{className:"flex flex-col gap-1",children:[S.auraMods&&S.auraMods.length>0&&y.jsx("div",{className:"grid grid-cols-4 gap-1",children:[...S.auraMods||[]].map((k,F)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-cyan-800 text-[10px] font-bold rounded border border-blue-100 uppercase truncate",title:k,children:k},F))}),S.mods&&S.mods.length>0&&y.jsx("div",{className:"grid grid-cols-4 gap-1",children:[...S.mods||[]].map((k,F)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-indigo-800 text-[10px] font-bold rounded border border-blue-100 uppercase truncate",title:k,children:k},F))}),S.arcanes&&S.arcanes.length>0&&y.jsx("div",{className:"flex flex-wrap gap-1",children:S.arcanes.map((k,F)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-purple-50 text-yellow-700 text-[10px] font-bold rounded border border-purple-100 uppercase",children:k},F))}),S.notes&&y.jsx("div",{className:"text-gray-500 italic text-sm",children:W0(S.notes)})]})}),y.jsx("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1 align-top",children:y.jsx(Sn,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:()=>{window.confirm(`Are you sure you want to delete the build "${S.title}"?`)&&t(P)}})})]},`${P}-${M}`)})]},v)});return y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"flex justify-end",children:y.jsx($_,{availableMods:a,availableArcanes:l,onSave:e,trigger:y.jsx("button",{className:"px-4 py-2 bg-black text-white rounded-md font-bold text-sm",children:"Add Build"})})}),c.length>0?y.jsx("div",{className:"overflow-hidden",children:y.jsx("table",{className:"w-full border-collapse bg-white",children:y.jsx("tbody",{children:m})})}):y.jsx("div",{className:"py-10 text-center text-gray-400 italic",children:'No builds added yet. Click "Add Build" to start.'})]})};V2.propTypes={builds:R.object,onBuildAdd:R.func.isRequired,onBuildRemove:R.func.isRequired,onBuildUpdate:R.func.isRequired,mods:R.arrayOf(R.string),arcanes:R.arrayOf(R.string)};const a6={red:{icon:"text-red-600"},orange:{icon:"text-orange-500"},yellow:{icon:"text-yellow-500"},olive:{icon:"text-lime-600"},green:{icon:"text-green-500"},teal:{icon:"text-teal-500"},blue:{icon:"text-sky-700"},violet:{icon:"text-violet-600"},purple:{icon:"text-purple-600"},pink:{icon:"text-pink-500"},bronze:{icon:"text-yellow-900"},grey:{icon:"text-slate-700"},black:{icon:"text-gray-900"}},FA=["red","olive","yellow","green","teal","blue","orange","violet","purple","pink","bronze","grey","black"],HA={"/Lotus/Types/Recipes/Weapons/WeaponParts/GrineerCombatKnifeHeatsink":"Sheev Heatsink","/Lotus/Types/Recipes/Weapons/WeaponParts/GrineerCombatKnifeHilt":"Sheev Hilt","/Lotus/Types/Recipes/Weapons/WeaponParts/GrineerCombatKnifeBlade":"Sheev Blade","/Lotus/Types/Recipes/Weapons/SnipetronVandalBlueprint":"Snipetron Vandal Blueprint","/Lotus/Types/Recipes/Weapons/WeaponParts/SnipetronVandalBarrel":"Snipetron Vandal Barrel","/Lotus/Types/Recipes/Weapons/WeaponParts/SnipetronVandalReceiver":"Snipetron Vandal Receiver","/Lotus/Types/Recipes/Weapons/WeaponParts/SnipetronVandalStock":"Snipetron Vandal Stock","/Lotus/Types/Recipes/Weapons/LatronWraithBlueprint":"Latron Wraith Blueprint","/Lotus/Types/Recipes/Weapons/WeaponParts/LatronWraithBarrel":"Latron Wraith Barrel","/Lotus/Types/Recipes/Weapons/WeaponParts/LatronWraithReceiver":"Latron Wraith Receiver","/Lotus/Types/Recipes/Weapons/WeaponParts/LatronWraithStock":"Latron Wraith Stock","/Lotus/Types/Recipes/Weapons/StrunWraithBlueprint":"Strun Wraith Blueprint","/Lotus/Types/Recipes/Weapons/WeaponParts/StrunWraithBarrel":"Strun Wraith Barrel","/Lotus/Types/Recipes/Weapons/WeaponParts/StrunWraithReceiver":"Strun Wraith Receiver","/Lotus/Types/Recipes/Weapons/WeaponParts/StrunWraithStock":"Strun Wraith Stock","/Lotus/Types/Recipes/Weapons/KarakWraithBlueprint":"Karak Wraith Blueprint","/Lotus/Types/Recipes/Weapons/WeaponParts/KarakWraithBarrel":"Karak Wraith Barrel","/Lotus/Types/Recipes/Weapons/WeaponParts/KarakWraithReceiver":"Karak Wraith Receiver","/Lotus/Types/Recipes/Weapons/WeaponParts/KarakWraithStock":"Karak Wraith Stock","/Lotus/Types/Recipes/Weapons/TwinVipersWraithBlueprint":"Twin Vipers Wraith Blueprint","/Lotus/Types/Recipes/Weapons/WeaponParts/TwinVipersWraithBarrel":"Twin Vipers Wraith Barrel","/Lotus/Types/Recipes/Weapons/WeaponParts/TwinVipersWraithReceiver":"Twin Vipers Wraith Receiver","/Lotus/Types/Recipes/Weapons/WeaponParts/TwinVipersWraithLink":"Twin Vipers Wraith Link","/Lotus/Types/Recipes/Weapons/DeraVandalBlueprint":"Dera Vandal Blueprint","/Lotus/Types/Recipes/Weapons/WeaponParts/DeraVandalBarrel":"Dera Vandal Barrel","/Lotus/Types/Recipes/Weapons/WeaponParts/DeraVandalReceiver":"Dera Vandal Receiver","/Lotus/Types/Recipes/Weapons/WeaponParts/DeraVandalStock":"Dera Vandal Stock","/Lotus/Types/Items/Research/ChemComponent":"Detonite Injector","/Lotus/Types/Items/Research/EnergyComponent":"Fieldron","/Lotus/Types/Items/Research/BioComponent":"Mutagen Mass","/Lotus/Types/Items/MiscItems/InfestedAladCoordinate":"Mutalist Alad V Nav Coordinate","/Lotus/Types/Items/MiscItems/ZanukaCaptureTarget":"Zanuka Hunter Nav Coordinate"};class P2 extends Wt.Component{constructor(e){super(e),this.state={invasions:[],invasionsLoading:!0,invasionsError:null}}componentDidMount(){this.fetchInvasions()}async fetchInvasions(){try{const e=await fetch("https://oracle.browse.wf/worldState.json");if(!e.ok)throw new Error("Failed to fetch invasions");const i=(await e.json()).Invasions||[];i.sort((a,l)=>{const c=parseInt(a.Activation?.$date?.$numberLong||"0");return parseInt(l.Activation?.$date?.$numberLong||"0")-c}),this.setState({invasions:i,invasionsLoading:!1})}catch(e){this.setState({invasionsError:e.message,invasionsLoading:!1})}}handleInvasionItemClick(e){return t=>{this.props.onItemClick(`invasions.${e}`),t.stopPropagation()}}isInvasionItemChecked(e){if(!this.props.checkedInCategory)return!1;const t=`invasions.${e}`;return Object.prototype.hasOwnProperty.call(this.props.checkedInCategory,t)}renderItems(e,t,i){return y.jsx("ul",{className:"list-none p-0 m-0",children:e.map((a,l)=>this.renderItem(a,l,t,i))})}buildItemMap(e,t=new Map){return!e||!e.length||e.forEach(i=>{!i||typeof i!="object"||(i.title&&!t.has(i.title)&&t.set(i.title,i),i.key&&!t.has(i.key)&&t.set(i.key,i),i.items&&i.items.length&&this.buildItemMap(i.items,t))}),t}handleItemClick(e){return t=>{const i=typeof e=="object"&&e!==null?e.key||e.title:e;this.props.onItemClick(i),t.stopPropagation()}}handleClearClick(e){return t=>{this.props.onClear(e.map(i=>typeof i=="object"&&i!==null?i.key||i.title:i)),t.stopPropagation()}}renderLocation(e){return!e||!e.length||e===""?null:(Array.isArray(e)?e:[e]).map((i,a)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:i},a))}formatDuration(e){const t=Math.max(0,Math.floor(e/6e4)),i=t%60,a=Math.floor(t/60),l=a%24,c=Math.floor(a/24),d=[];return c&&d.push(`${c}d`),(l||c)&&d.push(`${l}h`),d.push(`${i}m`),d.join(" ")}getResetCountdown(e){if(!e||e.scheduleType)return null;const t=e.scheduleAnchorUtc||e.scheduleAnchor;if(!t||!e.interval)return null;const i=new Date(t);if(Number.isNaN(i.getTime()))return null;const a=this.parseInterval(e.interval);if(!a)return null;const l=new Date;if(l<i)return`Resets in ${this.formatDuration(i.getTime()-l.getTime())}`;const d=(l.getTime()-i.getTime())%a,p=a-d;return`Resets in ${this.formatDuration(p)}`}formatDurationVerbose(e){const t=Math.max(0,Math.floor(e/1e3)),i=t%60,a=Math.floor(t/60),l=a%60,c=Math.floor(a/60),d=c%24,p=Math.floor(c/24),m=[];return p&&m.push(`${p} ${p===1?"day":"days"}`),(d||p)&&m.push(`${d} ${d===1?"hour":"hours"}`),(l||d||p)&&m.push(`${l} ${l===1?"minute":"minutes"}`),m.push(`${i} ${i===1?"second":"seconds"}`),m.join(" ")}getScheduleInfo(e){if(!e||!e.scheduleType)return null;const t=e.scheduleAnchorUtc||e.scheduleAnchor;if(!t)return null;const i=new Date(t);if(Number.isNaN(i.getTime()))return null;const a=new Date;if(e.scheduleType==="availability-window"){const l=this.parseInterval(e.interval),c=this.parseInterval(e.duration||"48h");if(!l||!c)return null;if(a<i){const m=i.getTime()-a.getTime();return{statusText:`Will appear in ${this.formatDuration(m)}`,isPresent:!1}}const d=(a.getTime()-i.getTime())%l;if(d<c){const m=c-d;return{statusText:`Present for the next ${this.formatDuration(m)}`,isPresent:!0}}const p=l-d;return{statusText:`Will appear in ${this.formatDuration(p)}`,isPresent:!1}}if(e.scheduleType==="rotation"){const l=this.parseInterval(e.interval);if(!l||!e.rotations||!e.rotations.length)return null;if(a<i){const S=i.getTime()-a.getTime(),M=e.rotations.length,P=e.rotations[M-1];return{statusText:`${P.title}. Time left until ${e.rotations[0].title}: ${this.formatDurationVerbose(S)}`,currentRotation:P}}const c=a.getTime()-i.getTime(),d=e.rotations.length,p=Math.floor(c/l)%d,m=e.rotations[p],v=e.rotations[(p+1)%d],x=i.getTime()+(Math.floor(c/l)+1)*l-a.getTime();return{statusText:`${m.title}. Time left until ${v.title}: ${this.formatDurationVerbose(x)}`,currentRotation:m}}return null}parseInterval(e){if(!e)return null;if(typeof e=="number")return e;const t=String(e).trim().match(/^(\d+)\s*(ms|s|m|h|d|w)$/i);if(!t)return null;const i=Number(t[1]);switch(t[2].toLowerCase()){case"ms":return i;case"s":return i*1e3;case"m":return i*60*1e3;case"h":return i*60*60*1e3;case"d":return i*24*60*60*1e3;case"w":return i*7*24*60*60*1e3;default:return null}}getScheduleStatus(e){const t=this.getScheduleInfo(e);return t?t.statusText:null}isScheduleReadOnly(e){const t=this.getScheduleInfo(e);return t?t.isPresent===!1:!1}getCompletedIfIdentifiers(e){return!e||!e.completedIf?[]:Array.isArray(e.completedIf)?e.completedIf:[e.completedIf]}isItemCompleted(e,t,i=new Set){if(!e)return!1;if(e.checked)return!0;const a=this.getCompletedIfIdentifiers(e);if(!a.length||i.has(e))return!1;i.add(e);const l=a.some(c=>{const d=t.get(c);return d?this.isItemCompleted(d,t,i):!1});return i.delete(e),l}isCompletedByDependencies(e,t){const i=this.getCompletedIfIdentifiers(e);return i.length?i.some(a=>{const l=t.get(a);return l?this.isItemCompleted(l,t,new Set([e])):!1}):!1}renderItem(e,t,i,a){if(!e||e.hidden)return null;const l=e.readOnly,c=this.isCompletedByDependencies(e,a),d=e.checked||c;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(e).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const p=this.props.visibilityFilter===Jt.SHOW_ACTIVE&&d,m=typeof e=="string"||e instanceof String?e:e.title,v=!!e.items,b=d?"text-green-500":"text-gray-400",x=e.tags?e.tags.map((z,X)=>z==="missable"?y.jsx("span",{title:z,className:"text-red-600 ml-1 inline-block font-normal",children:y.jsx(Fd,{})},X):null):null,S=e.hint?y.jsxs("span",{className:"opacity-40 text-sm italic font-normal",children:[" ",e.hint]}):null,M=this.getScheduleStatus(e),P=this.getResetCountdown(e),k=this.isScheduleReadOnly(e),F=!e.items&&!(l||i||c||k);return y.jsx("li",{className:`py-0.5 rounded-sm ${v?"mt-1.5":""}`,children:y.jsxs("div",{className:"flex items-start",children:[!(l||i||k)&&y.jsx("div",{className:`mr-1 shrink-0 flex items-center h-[1.35em] ${b} ${F?"cursor-pointer":""} ${p?"opacity-40":""}`,onClick:F?this.handleItemClick(e):void 0,children:e.items?d?y.jsx(dn,{}):y.jsx(N0,{}):d?y.jsx(dn,{}):y.jsx(zd,{})}),y.jsxs("div",{className:"grow",children:[y.jsxs("div",{className:"leading-tight",children:[e.items&&e.readOnly?y.jsxs("span",{className:`underline font-bold text-gray-900 text-base ${p?"opacity-40":""}`,children:[m,S,x]}):i?y.jsxs("span",{className:`font-normal text-gray-700 text-sm ${p?"opacity-40":""}`,children:[m,S,x]}):y.jsxs("span",{className:`font-bold text-gray-900 text-base ${p?"opacity-40":""}`,children:[m,S,x]}),e.url?y.jsx("a",{href:e.url,title:"wiki",className:"ml-1 text-gray-500 opacity-70 hover:opacity-100 inline-block",target:"_blank",rel:"noopener noreferrer",onClick:z=>z.stopPropagation(),children:y.jsx(ka,{})}):null,e.isVaulted?y.jsx("span",{title:"Vaulted",className:"ml-1 text-gray-500 inline-block",children:y.jsx(Hd,{})}):null,e.partOf?y.jsx("span",{title:`Part of ${e.partOf.join(", ")}`,className:"ml-1 text-gray-500 inline-block",children:y.jsx(rc,{})}):null,e.items&&e.props&&e.props.includes("clearable")?y.jsx("span",{title:"Clear",className:"ml-1 text-red-600 opacity-70 hover:opacity-100 cursor-pointer inline-block",onClick:this.handleClearClick(e.items),children:y.jsx(O0,{})}):null]}),e.description?Array.isArray(e.description)?e.description.map((z,X)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:z},X)):y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:e.description}):null,P?y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:P}):null,M?y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:M}):null,this.renderLocation(e.location),e.items&&e.items.length?y.jsx("div",{className:"ml-2",children:this.renderItems(e.items,l,a)}):null]})]})},t)}render(){if(!this.props.items||!this.props.items.length)return y.jsx("div",{className:"text-gray-500 italic",children:"No items"});const e=this.buildItemMap(this.props.items);return y.jsxs("div",{className:"mb-4",children:[this.renderItems(this.props.items,void 0,e),y.jsxs("div",{className:"relative flex items-center mb-4 mt-4",children:[y.jsx("div",{className:"grow border-t border-gray-200"}),y.jsxs("span",{className:"shrink mx-4 text-gray-400 text-sm font-bold uppercase tracking-widest leading-none",children:["Invasions",y.jsx("a",{href:"https://browse.wf/live",title:"wiki",className:"ml-1 text-gray-500 opacity-70 hover:opacity-100 inline-block",target:"_blank",rel:"noopener noreferrer",onClick:t=>t.stopPropagation(),children:y.jsx(ka,{})})]}),y.jsx("div",{className:"grow border-t border-gray-200"})]}),y.jsxs("div",{children:[this.state.invasionsLoading&&y.jsx("div",{className:"text-gray-500 italic",children:"Loading invasions..."}),this.state.invasionsError&&y.jsxs("div",{className:"text-red-600",children:["Error: ",this.state.invasionsError]}),!this.state.invasionsLoading&&!this.state.invasionsError&&this.state.invasions.length===0&&y.jsx("div",{className:"text-gray-500 italic",children:"No active invasions"}),!this.state.invasionsLoading&&!this.state.invasionsError&&this.state.invasions.length>0&&y.jsx("ul",{className:"list-none p-0 m-0",children:(()=>{const t=[],i=[];this.state.invasions.forEach((l,c)=>{const d=l._id?.$oid||`invasion-${c}`,p=l.Activation?.$date?.$numberLong;let m="";p&&(m=new Date(parseInt(p)).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})),l.AttackerReward?.countedItems&&l.AttackerReward.countedItems.forEach(v=>{const b=HA[v.ItemType]||v.ItemType.split("/").pop();i.push({id:`${d}-attacker`,invasionId:d,name:b,count:v.ItemCount,displayText:`${v.ItemCount}x ${b}`,date:m})}),l.DefenderReward?.countedItems&&l.DefenderReward.countedItems.forEach(v=>{const b=HA[v.ItemType]||v.ItemType.split("/").pop();i.push({id:`${d}-defender`,invasionId:d,name:b,count:v.ItemCount,displayText:`${v.ItemCount}x ${b}`,date:m})}),t.includes(d)||t.push(d)});const a=new Set;return i.map(l=>{const c=this.isInvasionItemChecked(l.name),d=t.indexOf(l.invasionId),p=FA[d%FA.length],m=a6[p],v=m?m.icon:"text-gray-400",b=!a.has(l.invasionId);return b&&a.add(l.invasionId),y.jsx("li",{className:"py-0.5 rounded-sm",children:y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:`mr-1 shrink-0 flex items-center justify-center h-[1.35em] w-[1.35em] cursor-pointer ${b?v:""}`,onClick:this.handleInvasionItemClick(l.name),children:b&&y.jsx(a2,{className:"text-xs align-middle"})}),y.jsx("div",{className:"grow",children:y.jsxs("div",{className:"leading-tight",children:[y.jsx("span",{className:`font-bold text-gray-900 text-base ${c?"line-through opacity-40":""}`,children:l.displayText}),l.date&&y.jsx("span",{className:"ml-2 text-gray-600 opacity-60 text-sm font-normal",children:l.date})]})})]})},l.id)})})()})]})]})}}P2.propTypes={items:R.arrayOf(R.oneOfType([R.string,R.shape({title:R.string,url:R.string,icon:R.string,description:R.oneOfType([R.string,R.arrayOf(R.string)]),location:R.oneOfType([R.string,R.arrayOf(R.string)]),checked:R.bool,items:R.array,tags:R.arrayOf(R.string),hint:R.string,readOnly:R.bool,hidden:R.bool,key:R.string,isVaulted:R.bool,partOf:R.arrayOf(R.string),props:R.arrayOf(R.string),completedIf:R.oneOfType([R.string,R.arrayOf(R.string)]),schedule:R.string,scheduleAnchorUtc:R.string,scheduleAnchor:R.string,interval:R.oneOfType([R.string,R.number]),duration:R.oneOfType([R.string,R.number]),scheduleType:R.oneOf(["availability-window","rotation"]),rotations:R.arrayOf(R.shape({title:R.string,items:R.array}))})])),onItemClick:R.func.isRequired,onClear:R.func.isRequired,visibilityFilter:R.string,searchFilter:R.string,checkedInCategory:R.object};class L2 extends Wt.Component{handleItemClick(e){return t=>{this.props.onItemClick(e),t.stopPropagation()}}renderBody(){const e=this.props.items.map((t,i)=>{const a=this.props.visibilityFilter===Jt.SHOW_ACTIVE&&t.checked;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(t).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const l=t.Tier?t.Tier[4]:null;return y.jsxs("tr",{className:`${t.checked?"bg-green-50":""} ${a?"opacity-30":""} border-b border-gray-100 last:border-0`,children:[y.jsx("td",{className:"py-1 px-3 align-middle text-gray-900",children:y.jsx("div",{className:"flex items-center gap-1.5",children:y.jsx("span",{className:"text-base leading-tight",children:t.title})})}),y.jsx("td",{className:"py-1 px-2 align-middle",children:y.jsxs("div",{className:"flex items-center gap-2",children:[t.crafting?y.jsx(rc,{className:"text-gray-400"}):null,t.canAppearInChest?y.jsx(DP,{className:"text-gray-400"}):null]})}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Popular)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Popular + Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Popular)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Popular + Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm text-center",children:l}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t.Culture})]},i)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:e})}render(){return y.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:y.jsxs("table",{className:"w-full border-collapse bg-white",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-3 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Name"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Props"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (P)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (P+R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (P)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (P+R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Tier"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Culture"})]})}),this.renderBody()]})})}}L2.propTypes={items:R.arrayOf(R.shape({title:R.string,"Perfect Price":R.number,"Perfect Price (Popular)":R.number,"Perfect Price (Rich)":R.number,"Perfect Price (Popular + Rich)":R.number,"Max Price":R.number,"Max Price (Popular)":R.number,"Max Price (Rich)":R.number,"Max Price (Popular + Rich)":R.number,Tier:R.string,Culture:R.string,maxStack:R.number,minChestStack:R.number,maxChestStack:R.number,canAppearInChest:R.bool,crafting:R.bool})),onItemClick:R.func.isRequired,visibilityFilter:R.string,searchFilter:R.string};class U2 extends Wt.Component{formatWorkshopReason(e){const t=e.filter(l=>l!=="Workshop"),i={1:"I",2:"II",3:"III",4:"IV",5:"V"};return t.map(l=>{const c=l.match(/^(?:Level )?(\d+)(?:\s+-\s+.+)?$/);if(c){const d=parseInt(c[1],10);return i[d]||l}return l}).join(" ")}formatProjectReason(e){return e.filter(i=>i!=="Goals").map(i=>i.startsWith("Project: ")?i.substring(9):i).filter(i=>!i.match(/^.+\s+\d+\/\d+$/)).join(" ")}extractNeededItems(){const e=[],t={};if(this.props.goalsItems&&this.props.goalsChecked){const i=(a,l=[])=>{!a||!Array.isArray(a)||a.forEach(c=>{const d=[...l,c.title];if(c.key&&!Object.prototype.hasOwnProperty.call(this.props.goalsChecked,c.key)){const m=c.title.match(/^(\d+)x\s+(.+)$/),v=m?parseInt(m[1],10):1,b=m?m[2]:c.title;e.push({title:b,quantity:v,url:c.url,key:c.key}),t[b]||(t[b]={workshop:[],projects:[],quests:[]});const x=l[0],S=d.slice(0,-1);if(x==="Workshop"){const M=this.formatWorkshopReason(S),P=`${v}x ${M}`;t[b].workshop.push(P)}else if(x&&x.startsWith("Project:")){const M=this.formatProjectReason(S),P=`${v}x ${M}`;t[b].projects.push(P)}}c.items&&i(c.items,d)})};this.props.goalsItems.forEach(a=>{a.items&&i(a.items,[a.title])})}return this.props.questsItems&&this.props.questsChecked&&this.props.questsItems.forEach(i=>{const a=i.title;if(!a)return;!Object.prototype.hasOwnProperty.call(this.props.questsChecked,a)&&Array.isArray(i.required_items)&&i.required_items.forEach(c=>{if(c.title){const d=c.quantity||1;e.push({title:c.title,quantity:d,url:c.url}),t[c.title]||(t[c.title]={workshop:[],projects:[],quests:[]});const p=`${d}x ${i.title}`;t[c.title].quests.push(p)}})}),{neededItems:e,itemReasons:t}}handleKeepCheckbox(e){return()=>{const t=`resource-${e}`;this.props.onItemClick(t)}}getRarityClass(e){if(!e)return"border-gray-500";switch(e.toLowerCase()){case"common":return"border-gray-500";case"uncommon":return"border-green-500";case"rare":return"border-blue-600";case"epic":return"border-purple-600";case"legendary":return"border-orange-500";default:return"border-gray-500"}}renderCellValue(e){return Array.isArray(e)?y.jsx("ul",{className:"list-none m-0 p-0",children:e.map((t,i)=>y.jsx("li",{className:"leading-tight mb-0.5 last:mb-0",children:t},i))}):e}renderBody(){const{neededItems:e,itemReasons:t}=this.extractNeededItems(),i=new Map;e.forEach(c=>{const d=i.get(c.title)||0;i.set(c.title,d+c.quantity)});const l=[...this.props.items].sort((c,d)=>{const p=`resource-${c.title}`,m=`resource-${d.title}`,v=Object.prototype.hasOwnProperty.call(this.props.checkedList,p),b=Object.prototype.hasOwnProperty.call(this.props.checkedList,m),x=i.has(c.title),S=i.has(d.title);if(v&&!b)return-1;if(!v&&b)return 1;if(!v&&!b){if(x&&!S)return-1;if(!x&&S)return 1}return(c.title||"").localeCompare(d.title||"")}).map((c,d)=>{const p=this.props.visibilityFilter===Jt.SHOW_ACTIVE&&c.checked;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(c).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const m=this.getRarityClass(c.rarity),v=`resource-${c.title}`,b=Object.prototype.hasOwnProperty.call(this.props.checkedList,v),x=p?"opacity-30":"",S=c.icon?y.jsx("img",{src:c.icon,alt:c.title,className:"w-12 h-12 mx-auto object-contain"}):null,M=i.get(c.title)||null,P=t[c.title]||{workshop:[],projects:[],quests:[]},k=P.workshop.length>0?P.workshop:null,F=P.quests.length>0?P.quests:null,z=P.projects.length>0?P.projects:null;return y.jsxs("tr",{className:`${c.checked?"bg-green-50":""} ${x} hover:bg-black/[0.01] transition-colors border-b border-gray-100 last:border-0`,children:[y.jsx("td",{className:`py-1 px-2 text-center align-middle cursor-pointer ${b?"bg-green-500/10":""}`,onClick:this.handleKeepCheckbox(c.title),children:y.jsx("div",{className:`w-4 h-4 mx-auto border rounded-[2px] flex items-center justify-center ${b?"bg-green-500 border-green-500":"bg-white border-gray-300"}`,children:b&&y.jsx(dn,{className:"text-[10px] text-white"})})}),y.jsx("td",{className:"py-1 px-2 align-middle text-center",children:y.jsx("div",{className:"w-12 h-12 flex items-center justify-center mx-auto",children:c.url?y.jsx("a",{href:c.url,title:"wiki",target:"_blank",rel:"noopener noreferrer",className:"block w-full h-full",children:S}):S})}),y.jsx("td",{className:`py-1 px-3 align-middle font-bold text-gray-900 border-l-4 ${m}`,children:y.jsxs("div",{className:"flex items-center gap-1.5",children:[c.checked&&y.jsx(dn,{className:"text-green-500 shrink-0"}),y.jsx("span",{className:"text-base leading-tight",children:c.title})]})}),y.jsx("td",{className:`py-1 px-2 text-center align-middle font-bold text-sm ${M?"bg-orange-400/10 text-orange-700":"text-gray-400"}`,children:M||""}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.recycles)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.sell_price)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(k)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(F)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(z)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.keep_for_crafting)})]},d)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:l})}render(){return y.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:y.jsxs("table",{className:"w-full border-collapse bg-white",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Keep"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Icon"}),y.jsx("th",{className:"py-2 px-3 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Name"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Needed"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Recycles"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Sell Price"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Workshop"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Quests"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Projects"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Crafting"})]})}),this.renderBody()]})})}}U2.propTypes={items:R.arrayOf(R.shape({title:R.string,icon:R.string,url:R.string,rarity:R.string,recycles:R.oneOfType([R.string,R.arrayOf(R.string)]),sell_price:R.oneOfType([R.number,R.string]),category:R.string,keep_for_crafting:R.oneOfType([R.number,R.string,R.bool,R.arrayOf(R.string)])})),checkedList:R.object.isRequired,goalsItems:R.array,goalsChecked:R.object,questsItems:R.array,questsChecked:R.object,onItemClick:R.func.isRequired,visibilityFilter:R.string,searchFilter:R.string};var Sv,GA;function o6(){if(GA)return Sv;GA=1;var r=Object.prototype,e=r.hasOwnProperty;function t(i,a){return i!=null&&e.call(i,a)}return Sv=t,Sv}var wv,$A;function l6(){if($A)return wv;$A=1;var r=o6(),e=A2();function t(i,a){return i!=null&&e(i,a,r)}return wv=t,wv}var u6=l6();const Vu=Yt(u6);var Av,KA;function Y0(){if(KA)return Av;KA=1;function r(e,t){var i=-1,a=e.length;for(t||(t=Array(a));++i<a;)t[i]=e[i];return t}return Av=r,Av}var Rv,WA;function c6(){if(WA)return Rv;WA=1;var r=nf(),e=$0(),t=Y0(),i=pn();function a(){var l=arguments.length;if(!l)return[];for(var c=Array(l-1),d=arguments[0],p=l;p--;)c[p-1]=arguments[p];return r(i(d)?t(d):[d],e(c,1))}return Rv=a,Rv}var h6=c6();const d6=Yt(h6);class q2 extends Wt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",modalOpen:!1},this.handleChange=this.handleChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleChange(e){this.setState({notes:e.target.value})}handleSave(){this.props.onSave(this.state.notes.trim()),this.handleClose()}handleOpen(){this.setState({modalOpen:!0})}handleClose(){this.setState({modalOpen:!1})}renderPlaces(){return this.props.places?y.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 mb-4 space-y-1",children:G0(this.props.places,"zone","area").map((e,t)=>y.jsx("li",{children:[e.zone,e.name].filter(i=>!!i).join(" - ")},t))}):null}render(){return y.jsxs(y.Fragment,{children:[y.jsx(Gd,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(Sn,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto flex flex-col",children:[this.renderPlaces(),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"ffxiv-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"ffxiv-notes",autoFocus:!0,className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleChange})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(dn,{})," Save"]})})]})})]})}}q2.propTypes={title:R.string.isRequired,places:R.array,notes:R.string,onSave:R.func.isRequired};const f6={red:"text-red-600",orange:"text-orange-500",yellow:"text-yellow-500",olive:"text-lime-600",green:"text-green-500",teal:"text-teal-500",blue:"text-sky-700",violet:"text-violet-600",purple:"text-purple-600",pink:"text-pink-500",brown:"text-amber-700",grey:"text-gray-500",black:"text-gray-900"},YA=["red","olive","yellow","green","teal","blue","orange","violet","purple","pink","brown","grey","black"],Su={isLoading:!1,results:[],value:""};class B2 extends Wt.Component{constructor(e){super(e),this.state=Su,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=lf(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(Su)}handleKeyPress(e){e.key==="Enter"&&this.state.value&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:this.state.value}),this.setState(Su))}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return t=>{this.props.onItemUpdate(e,t)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t}),t.length<1){this.setState(Su);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(Su);return}const t=new RegExp(Ra(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:Ca(this.props.items,i)})}formatPlaces(e,t=!1){return!e||!e.length?null:t?e.slice(0,1).map(i=>[i.zone,i.name].filter(a=>!!a).join(" - ")):e.map(i=>[i.zone,i.name].filter(a=>!!a).join(" - ")).join(" /// ")}resultRenderer({title:e,places:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:this.formatPlaces(t)})]},"content")}renderTypeIcon(e){switch(e.type){case"e":return y.jsx(FP,{className:"text-red-600 text-xs align-middle mr-1",title:"Enemy"});case"m":return y.jsx(Wx,{className:"text-yellow-500 text-xs align-middle mr-1",title:"Mining"});case"q":return y.jsx(Wx,{className:"text-yellow-500 text-xs align-middle mr-1 opacity-50",title:"Quarrying"});case"l":return y.jsx(HP,{className:"text-green-500 text-xs align-middle mr-1",title:"Logging"});case"h":return y.jsx(GP,{className:"text-green-500 text-xs align-middle mr-1",title:"Harvesting"});case"f":return y.jsx(KP,{className:"text-sky-700 text-xs align-middle mr-1",title:"Fish"});default:return null}}renderTable(){const e=Ia(this.props.todoItems);if(!e.length)return null;const t=[];e.forEach(c=>{const d=Vu(c,"places.0.zone")?xr(c,"places.0.zone"):xr(c,"notes");t.includes(d)||t.push(d)});let i=[];const a=md(e,"places.0.area");ni(a).sort().forEach(c=>{const d=a[c],p=md(d,"places.0.zone");ni(p).sort().forEach(m=>{const v=p[m];i=d6(i,G0(v,"places.0.name"))})});const l=i.map(c=>{let d=c.title;const p=Vu(c,"places.0.zone")?xr(c,"places.0.zone"):xr(c,"notes"),m=YA[t.indexOf(p)%YA.length],v=y.jsx($P,{className:`${f6[m]||"text-gray-400"} align-middle mr-1`});c.count&&(d=`${d} x${c.count}`);const b=`https://ffxiv.gamerescape.com/wiki/${c.title.split(" ").join("_")}`;let x;return c.places&&c.notes&&c.notes!==""?x=y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[v,this.formatPlaces(c.places,!0)]}),y.jsx("div",{className:"text-gray-500 text-xs italic",children:c.notes})]}):c.places?x=y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[v,this.formatPlaces(c.places,!0)]}):x=y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[v,c.notes]}),y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"shrink-0",children:this.renderTypeIcon(c)}),y.jsxs("div",{className:"ml-1",children:[y.jsx("a",{href:b,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline font-bold leading-tight block",children:d}),x]})]})}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1 align-top",children:[y.jsx(q2,{title:c.title,places:c.places,notes:c.notes,onSave:this.handleItemUpdate(c.title)}),y.jsx(Bo,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(c.title)}),y.jsx(k0,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(c.title)}),y.jsx(Sn,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(c.title)})]})]},d)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:l})})}render(){const{isLoading:e,value:t,results:i}=this.state;return y.jsxs("div",{children:[ni(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(ic,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item or enemy name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyPress:this.handleKeyPress}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vs,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((a,l)=>y.jsx("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-0",onClick:c=>this.handleResultSelect(c,{result:a}),children:this.resultRenderer(a)},l))})]}),this.renderTable()]})}}B2.propTypes={items:R.arrayOf(R.object),todoItems:R.object,onItemAdd:R.func.isRequired,onItemRemove:R.func.isRequired,onItemIncrement:R.func.isRequired,onItemDecrement:R.func.isRequired,onItemUpdate:R.func.isRequired};class z2 extends Wt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",count:this.props.count||0,modalOpen:!1},this.handleNotesChange=this.handleNotesChange.bind(this),this.handleCountChange=this.handleCountChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleNotesChange(e){this.setState({notes:e.target.value})}handleCountChange(e){const t=e.target.value;if(t===""||t===void 0)this.setState({count:0});else{const i=parseInt(t,10);!isNaN(i)&&i>=0&&this.setState({count:i})}}handleSave(){this.props.onSave(this.state.notes.trim(),this.state.count),this.handleClose()}handleOpen(){this.setState({modalOpen:!0,notes:this.props.notes||"",count:this.props.count||0})}handleClose(){this.setState({modalOpen:!1})}render(){return y.jsxs(y.Fragment,{children:[y.jsx(Gd,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.url?y.jsx("a",{href:this.props.url,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:this.props.title}):this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(Sn,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto",children:[this.props.category&&y.jsxs("p",{className:"mb-4 text-sm",children:[y.jsx("strong",{children:"Category:"})," ",this.props.category]}),y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"todo-count",className:"block text-sm font-bold text-gray-700 mb-1",children:"Count"}),y.jsx("input",{id:"todo-count",type:"number",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",value:this.state.count,onChange:this.handleCountChange,min:"0"})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"todo-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"todo-notes",autoFocus:!0,className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleNotesChange})]})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(dn,{})," Save"]})})]})})]})}}z2.propTypes={title:R.string.isRequired,category:R.string,url:R.string,notes:R.string,count:R.number,onSave:R.func.isRequired};const wu={isLoading:!1,results:[],value:"",activeIndex:0},QA="https://wiki.avakot.org/";class F2 extends Wt.Component{constructor(e){super(e),this.state=wu,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=lf(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(wu)}handleKeyDown(e){const{results:t,activeIndex:i,value:a}=this.state;if(e.key==="ArrowDown"&&t.length){e.preventDefault(),this.setState({activeIndex:(i+1)%t.length});return}if(e.key==="ArrowUp"&&t.length){e.preventDefault(),this.setState({activeIndex:(i-1+t.length)%t.length});return}if(e.key==="Enter"){if(t.length&&t[i]){e.preventDefault(),this.handleResultSelect(e,{result:t[i]});return}a&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:a}),this.setState(wu))}}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return(t,i)=>{this.props.onItemUpdate(e,t,i)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t,activeIndex:0}),t.length<1){this.setState(wu);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(wu);return}const t=new RegExp(Ra(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:Ca(this.props.items,i),activeIndex:0})}resultRenderer({title:e,category:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:t})]},"content")}renderTable(){const e=K0(Ia(this.props.todoItems),["category","title"]);if(!e.length)return null;const t=e.map((i,a)=>{let l=i.title;i.count&&(l=`${l} x${i.count}`);const c=i.url||(i.title?`${QA}${encodeURIComponent(i.title.replace(/\s+/g,"_"))}`:QA);return y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsx("a",{href:c,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:l})}),y.jsx("td",{className:"py-1 px-2 text-gray-500",children:i.category}),y.jsx("td",{className:"py-1 px-2 text-gray-500 italic text-sm",children:W0(i.notes)}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1",children:[y.jsx(z2,{title:i.title,category:i.category,url:i.url,notes:i.notes,count:i.count,onSave:this.handleItemUpdate(i.title)}),y.jsx(Bo,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(i.title)}),y.jsx(k0,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(i.title)}),y.jsx(Sn,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(i.title)})]})]},`${i.category||""}-${i.title}-${a}`)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:t})})}render(){const{isLoading:e,value:t,results:i,activeIndex:a}=this.state;return y.jsxs("div",{children:[ni(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(ic,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyDown:this.handleKeyDown}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vs,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((l,c)=>y.jsx("div",{className:`px-3 py-2 cursor-pointer border-b border-gray-100 last:border-0 ${c===a?"bg-gray-100":"hover:bg-gray-50"}`,onClick:d=>this.handleResultSelect(d,{result:l}),children:this.resultRenderer(l)},c))})]}),this.renderTable()]})}}F2.propTypes={items:R.arrayOf(R.object),todoItems:R.object,onItemAdd:R.func.isRequired,onItemRemove:R.func.isRequired,onItemIncrement:R.func.isRequired,onItemDecrement:R.func.isRequired,onItemUpdate:R.func.isRequired};var Cv,XA;function p6(){if(XA)return Cv;XA=1;var r=qa(),e=pn(),t=ui(),i="[object String]";function a(l){return typeof l=="string"||!e(l)&&t(l)&&r(l)==i}return Cv=a,Cv}var m6=p6();const Ss=Yt(m6);var Iv,JA;function Q0(){if(JA)return Iv;JA=1;var r=$d(),e=sc(),t=Object.prototype,i=t.hasOwnProperty;function a(l,c,d){var p=l[c];(!(i.call(l,c)&&e(p,d))||d===void 0&&!(c in l))&&r(l,c,d)}return Iv=a,Iv}var Nv,ZA;function g6(){if(ZA)return Nv;ZA=1;var r=Q0(),e=oc(),t=Yd(),i=hr(),a=ul();function l(c,d,p,m){if(!i(c))return c;d=e(d,c);for(var v=-1,b=d.length,x=b-1,S=c;S!=null&&++v<b;){var M=a(d[v]),P=p;if(M==="__proto__"||M==="constructor"||M==="prototype")return c;if(v!=x){var k=S[M];P=m?m(k,M,S):void 0,P===void 0&&(P=i(k)?k:t(d[v+1])?[]:{})}r(S,M,P),S=S[M]}return c}return Nv=l,Nv}var Ov,eR;function y6(){if(eR)return Ov;eR=1;var r=g6();function e(t,i,a){return t==null?t:r(t,i,a)}return Ov=e,Ov}var v6=y6();const xa=Yt(v6),_6=r=>{if(!r)return null;if(typeof r=="number")return r;const e=String(r).trim().match(/^(\d+)\s*(ms|s|m|h|d|w)$/i);if(!e)return null;const t=Number(e[1]);switch(e[2].toLowerCase()){case"ms":return t;case"s":return t*1e3;case"m":return t*60*1e3;case"h":return t*60*60*1e3;case"d":return t*24*60*60*1e3;case"w":return t*7*24*60*60*1e3;default:return null}},b6=(r,e)=>{let t=e?.anchorMs??null,i=e?.intervalMs??null;const a=r.scheduleAnchorUtc||r.scheduleAnchor;if(a){const l=Date.parse(a);Number.isNaN(l)||(t=l)}if(r.interval){const l=_6(r.interval);l&&(i=l)}return{anchorMs:t,intervalMs:i}},H2=(r,e=null,t=new Map)=>(Array.isArray(r)&&r.forEach(i=>{if(Ss(i)){e?.anchorMs&&e?.intervalMs&&t.set(i,e);return}if(!i)return;const a=b6(i,e);if(Array.isArray(i.items)&&i.items.length){H2(i.items,a,t);return}if(a?.anchorMs&&a?.intervalMs){const c=i.key||i.title;c&&t.set(c,a)}}),t),E6=(r,e)=>{if(!r)return{filteredChecked:r,expiredKeys:[]};if(!e||!e.size)return{filteredChecked:r,expiredKeys:[]};const t={},i=[],a=Date.now();return Object.keys(r).forEach(l=>{const c=r[l],d=e.get(l);if(!d||!Number.isFinite(d.anchorMs)||!Number.isFinite(d.intervalMs)){t[l]=c;return}if(typeof c!="number"){t[l]=c;return}if(d.intervalMs<=0){t[l]=c;return}const p=c-d.anchorMs,m=p>=0?Math.floor(p/d.intervalMs):-1,v=a-d.anchorMs,b=v>=0?Math.floor(v/d.intervalMs):-1;m===b?t[l]=c:i.push(l)}),{filteredChecked:t,expiredKeys:i}},G2=({configs:r})=>{const{gameName:e}=rj(),t=T0(),i=iV(),[a,l]=B.useState(null),[c,d]=B.useState(!0),p=Ea(Q=>Q.gameConfig),m=Ea(Q=>Q.visibilityFilter),v=Ea(Q=>Q.relicVisibility),b=Ea(Q=>Q.searchFilter),x=Ea(Q=>Q.todoItems),S=Ea(Q=>Q.voidDrops),M=Ea(Q=>Q.markedRelics),k=r.find(Q=>Q.name===e)?.format??"yaml",F=B.useRef(a),z=B.useRef(e);F.current=a,z.current=e,B.useEffect(()=>{d(!0),WI(Object.assign({"../game-configs/arcraiders.yaml":()=>Ye(()=>import("./arcraiders-CGcPX7Cr.js"),[]),"../game-configs/d2.yaml":()=>Ye(()=>import("./d2-BjSTgg9v.js"),[]),"../game-configs/demonsouls.yaml":()=>Ye(()=>import("./demonsouls-C91dXxDH.js"),[]),"../game-configs/desperadosiii.yaml":()=>Ye(()=>import("./desperadosiii-DUwKvpm_.js"),[]),"../game-configs/eldenring.yaml":()=>Ye(()=>import("./eldenring-CAX0gqaT.js"),[]),"../game-configs/ff14.yaml":()=>Ye(()=>import("./ff14-nq4HI0FR.js"),[]),"../game-configs/ff7.yaml":()=>Ye(()=>import("./ff7-CYGlgb_3.js"),[]),"../game-configs/hades.yaml":()=>Ye(()=>import("./hades-BkYqhHey.js"),[]),"../game-configs/lordsofthefallen.yaml":()=>Ye(()=>import("./lordsofthefallen-vi3erB2s.js"),[]),"../game-configs/moonlighter.yaml":()=>Ye(()=>import("./moonlighter-DWWSqXAQ.js"),[]),"../game-configs/nioh2.yaml":()=>Ye(()=>import("./nioh2-CN3uolYz.js"),[]),"../game-configs/remnant.yaml":()=>Ye(()=>import("./remnant-EWC1nFV0.js"),[]),"../game-configs/remnant2.yaml":()=>Ye(()=>import("./remnant2-Drru-4q0.js"),[]),"../game-configs/riskofrain2.yaml":()=>Ye(()=>import("./riskofrain2-Du4jsvq1.js"),[]),"../game-configs/seaofthieves.yaml":()=>Ye(()=>import("./seaofthieves-DDa2AQaY.js"),[]),"../game-configs/shadowgambit.yaml":()=>Ye(()=>import("./shadowgambit-Cy1gMF9x.js"),[]),"../game-configs/soulframe.yaml":()=>Ye(()=>import("./soulframe-BUEpWpF6.js"),[]),"../game-configs/warframe.yaml":()=>Ye(()=>import("./warframe-DC-liFAW.js"),[])}),`../game-configs/${e}.${k}`,3).then(Q=>{l(Q.default),d(!1)}).catch(Q=>{console.error("Failed to load config",Q),d(!1),l(null)})},[e,k]);const X=B.useMemo(()=>a?.renderer?Object.keys(a.renderer).filter(Q=>a.renderer[Q]==="warframe-resets"):[],[a]),le=B.useMemo(()=>{const Q={};return a?.categories&&X.forEach(Y=>{Q[Y]=H2(a.categories[Y])}),Q},[a,X]),ce=B.useMemo(()=>{const Q={};return X.forEach(Y=>{const pe=xr(p,[e,Y]);if(!pe)return;const je=le[Y],{filteredChecked:be,expiredKeys:Ue}=E6(pe,je);Q[Y]={filteredChecked:be,expiredKeys:Ue}}),Q},[p,e,X,le]);B.useEffect(()=>{X.forEach(Q=>{const Y=ce[Q];Y?.expiredKeys?.length&&i(Yx(e,Q,Y.expiredKeys))})},[i,e,X,ce]),B.useEffect(()=>{const Q=Y=>{if(Y.key<"1"||Y.key>"9"||Y.target.tagName==="INPUT"||Y.target.tagName==="TEXTAREA"||Y.metaKey||Y.ctrlKey)return;const pe=F.current;if(!pe?.categories)return;Y.preventDefault();const je=parseInt(Y.key,10)-1,be=Object.getOwnPropertyNames(pe.categories);if(je<be.length){const Ue=be[je];t(`/${z.current}/${Ue}`)}};return window.addEventListener("keydown",Q),()=>window.removeEventListener("keydown",Q)},[t]);const oe=B.useCallback(Q=>Y=>{i(YP(e,Q,Y))},[i,e]),I=B.useCallback(Q=>Y=>{i(Yx(e,Q,Y))},[i,e]),C=B.useCallback(Q=>Y=>{i(XP(e,Q,Y))},[i,e]),O=B.useCallback(Q=>Y=>{i(e5(e,Q,Y))},[i,e]),j=B.useCallback(Q=>Y=>{i(ZP(e,Q,Y))},[i,e]),D=B.useCallback(Q=>Y=>{i(n5(e,Q,Y))},[i,e]),L=B.useCallback(Q=>Y=>{i(JP(e,Q,Y))},[i,e]),N=B.useCallback(Q=>Y=>{i(t5(e,Q,Y))},[i,e]),Re=B.useCallback(Q=>(Y,pe)=>{i(a5(e,Q,Y,pe))},[i,e]),Ne=B.useCallback(Q=>Y=>{i(r5(e,Q,Y))},[i,e]),ee=B.useCallback(Q=>Y=>{i(i5(e,Q,Y))},[i,e]),he=B.useCallback(Q=>(Y,pe,je)=>{i(s5(e,Q,Y,pe,je))},[i,e]),ye=B.useCallback((Q,Y=new Map)=>(!Q||!Q.length||Q.forEach(pe=>{!pe||typeof pe!="object"||(pe.title&&!Y.has(pe.title)&&Y.set(pe.title,pe),pe.key&&!Y.has(pe.key)&&Y.set(pe.key,pe),pe.items&&pe.items.length&&ye(pe.items,Y))}),Y),[]),Le=B.useCallback((Q,Y,pe)=>!Q||!Q.completedIf?!1:(Array.isArray(Q.completedIf)?Q.completedIf:[Q.completedIf]).some(be=>Object.prototype.hasOwnProperty.call(pe,be)),[]),Fe=B.useCallback((Q,Y,pe,je=null)=>{const be=Q.map(Oe=>Ss(Oe)?Oe:{...Oe});let Ue=!0;return je||(je=ye(Q)),be.forEach((Oe,xe)=>{let He,ze=!1;if(Ss(Oe))He=Object.prototype.hasOwnProperty.call(Y,Oe),xa(be,xe,{title:Oe,checked:He});else{const Ae=Oe.key||Oe.title;He=Object.prototype.hasOwnProperty.call(Y,Ae),ze=Le(Oe,je,Y),xa(be,[xe,"checked"],He)}if(Oe.items){const Ae=Fe(Oe.items,Y,pe,je);xa(be,[xe,"items"],Ae.items),Ae.allChecked&&(He=!0,xa(be,[xe,"checked"],!0))}else pe.total++,(He||ze)&&pe.checked++;!He&&!ze&&(Ue=!1)}),{items:be,allChecked:Ue,counter:pe}},[ye,Le]),U=(Q,Y,pe)=>{const je=new Set(["primary","secondary","melee","companions","archwing"]),be=new Set(["primary","secondary","melee"]);if(a.renderer&&a.renderer[Y]==="warframe")return y.jsx(R2,{items:Q,onItemClick:oe(Y),visibilityFilter:m,searchFilter:b});if(a.renderer&&a.renderer[Y]==="ff14-todo"){const Ue={},Oe=`${e}-`;return Object.keys(x).forEach(xe=>{xe.startsWith(Oe)&&(Ue[xe]=x[xe])}),y.jsx(B2,{items:Q,todoItems:Ue,onItemAdd:C(Y),onItemRemove:O(Y),onItemIncrement:Ne(Y),onItemDecrement:ee(Y),onItemUpdate:he(Y)})}else{if(a.renderer&&a.renderer[Y]==="moonlighter")return y.jsx(L2,{items:Q,onItemClick:oe(Y),visibilityFilter:m,searchFilter:b});if(a.renderer&&a.renderer[Y]==="arcraiders"){const Ue=xr(p,[e,"Goals"]),Oe={total:0,checked:0};let xe=null;a.categories.Goals&&Ue?xe=Fe(a.categories.Goals,Ue,Oe).items:a.categories.Goals&&(xe=a.categories.Goals);const He=xr(p,[e,"quests"]);let ze=null;return a.categories.quests&&(ze=a.categories.quests),y.jsx(U2,{items:Q,checkedList:pe||{},goalsItems:xe,goalsChecked:Ue||{},questsItems:ze,questsChecked:He||{},onItemClick:oe(Y),visibilityFilter:m,searchFilter:b})}else if(a.renderer&&a.renderer[Y]==="void-planner"){const Ue={};return["primary","secondary","melee"].forEach(Oe=>{const xe=xr(p,[e,Oe]);xe&&Object.assign(Ue,xe)}),y.jsx(I2,{items:Q,voidDrops:S,onItemAdd:j(Y),onItemRemove:D(Y),onRelicToggle:Oe=>i(QP(Oe)),markedRelics:M,onRelicVisibilityToggle:Oe=>i(u5(Oe)),relicVisibility:v,primeChecked:Ue})}else if(a.renderer&&a.renderer[Y]==="warframe-todo"){const Ue=["warframes","primary","secondary","melee","companions","archwing","arcanes","mods"],Oe=[];Ue.forEach(ze=>{const Ae=a.categories[ze]||a.hidden_categories&&a.hidden_categories[ze];Array.isArray(Ae)&&Ae.forEach(ot=>{ze==="warframes"?Oe.push({title:ot.title,url:ot.url,category:ze}):Array.isArray(ot.items)?ot.items.forEach(qe=>{Oe.push({title:Ss(qe)?qe:qe.title,url:Ss(qe)?"":qe.url,category:ze})}):ot.title&&Oe.push({title:ot.title,url:ot.url,category:ze})})});const xe={},He=`${e}-`;return Object.keys(x).forEach(ze=>{ze.startsWith(He)&&(xe[ze]=x[ze])}),y.jsx(j2,{items:Oe,todoItems:xe,onItemAdd:C(Y),onItemRemove:O(Y),onItemIncrement:Ne(Y),onItemDecrement:ee(Y),onItemUpdate:he(Y)})}else if(a.renderer&&a.renderer[Y]==="soulframe-todo"){const Ue=[],Oe=(ze,Ae)=>{ze.forEach(ot=>{if(Ss(ot)){Ue.push({title:ot,url:"",category:Ae});return}if(ot){if(Array.isArray(ot.items)){Oe(ot.items,Ae);return}ot.title&&Ue.push({title:ot.title,url:ot.url,category:Ae})}})};Object.keys(a.categories||{}).forEach(ze=>{if(ze===Y)return;const Ae=a.categories[ze];Array.isArray(Ae)&&Oe(Ae,ze)});const xe={},He=`${e}-`;return Object.keys(x).forEach(ze=>{ze.startsWith(He)&&(xe[ze]=x[ze])}),y.jsx(F2,{items:Ue,todoItems:xe,onItemAdd:C(Y),onItemRemove:O(Y),onItemIncrement:Ne(Y),onItemDecrement:ee(Y),onItemUpdate:he(Y)})}else if(a.renderer&&a.renderer[Y]==="warframe-builds"){const Ue=[],Oe=[];return a.hidden_categories&&(Array.isArray(a.hidden_categories.mods)&&a.hidden_categories.mods.forEach(xe=>{Array.isArray(xe.items)&&xe.items.forEach(He=>{Ue.push(Ss(He)?He:He.title)})}),Array.isArray(a.hidden_categories.arcanes)&&a.hidden_categories.arcanes.forEach(xe=>{Array.isArray(xe.items)&&xe.items.forEach(He=>{Oe.push(Ss(He)?He:He.title)})})),y.jsx(V2,{builds:pe||{},onBuildAdd:L(Y),onBuildRemove:N(Y),onBuildUpdate:Re(Y),mods:Ue,arcanes:Oe})}else return a.renderer&&a.renderer[Y]==="warframe-resets"?y.jsx(P2,{items:Q,checkedInCategory:pe,onItemClick:oe(Y),onClear:I(Y),visibilityFilter:m,searchFilter:b}):e==="warframe"&&je.has(Y)?y.jsx(l2,{items:Q,onItemClick:oe(Y),onClear:I(Y),visibilityFilter:m,searchFilter:b,enableIntroducedGrouping:be.has(Y)}):y.jsx(o2,{items:Q,onItemClick:oe(Y),onClear:I(Y),visibilityFilter:m,searchFilter:b})}};if(c)return y.jsxs("div",{className:"flex items-center justify-center py-20 text-gray-500",children:[y.jsx(Vs,{className:"mr-3"}),y.jsx("span",{children:"Loading config..."})]});if(!a||!a.categories)return y.jsx("div",{children:"Empty config."});const ne=[],ue=[];let fe="";return Object.getOwnPropertyNames(a.categories).forEach(Q=>{fe||(fe=Q);let Y=xr(p,[e,Q]);const pe=ce[Q];pe?.filteredChecked&&(Y=pe.filteredChecked);let je;const be={total:0,checked:0};Y?je=Fe(a.categories[Q],Y,be).items:je=a.categories[Q];const Ue=be.total&&be.checked?(be.checked/be.total*100).toFixed(0):null,Oe=a.options&&a.options[Q]==="quantity_progress",xe=be.total&&be.checked?Oe?` ${be.checked}/${be.total}`:` ${Ue} %`:null;ne.push(y.jsxs(Gu,{to:`/${e}/${Q}`,className:"px-2.5 py-1 mr-1 border-b-[2px] border-transparent hover:text-gray-900 hover:border-gray-300 transition-colors [&.active]:border-black [&.active]:font-bold text-gray-600 flex items-baseline text-base",children:[Q.charAt(0).toUpperCase()+Q.slice(1),y.jsx("span",{className:"ml-1 text-[0.85em] text-gray-400 font-normal",children:xe})]},Q)),ue.push(y.jsx(Aa,{path:Q,element:U(je,Q,Y)},Q))}),[y.jsx("div",{className:"flex flex-wrap border-b border-gray-200 mb-2 list-none px-0 py-1",children:ne},"menu"),y.jsxs(zI,{children:[y.jsx(Aa,{index:!0,element:y.jsx(q_,{to:`/${e}/${fe}`,replace:!0})}),ue,y.jsx(Aa,{path:"*",element:y.jsx(q_,{to:`/${e}/${fe}`,replace:!0})})]},"switch")]};G2.propTypes={configs:R.arrayOf(R.shape({name:R.string.isRequired,title:R.string.isRequired,format:R.string})).isRequired};const T6=r=>WI(Object.assign({"../game-configs/arcraiders.yaml":()=>Ye(()=>import("./arcraiders-CGcPX7Cr.js"),[]),"../game-configs/d2.yaml":()=>Ye(()=>import("./d2-BjSTgg9v.js"),[]),"../game-configs/demonsouls.yaml":()=>Ye(()=>import("./demonsouls-C91dXxDH.js"),[]),"../game-configs/desperadosiii.yaml":()=>Ye(()=>import("./desperadosiii-DUwKvpm_.js"),[]),"../game-configs/eldenring.yaml":()=>Ye(()=>import("./eldenring-CAX0gqaT.js"),[]),"../game-configs/ff14.yaml":()=>Ye(()=>import("./ff14-nq4HI0FR.js"),[]),"../game-configs/ff7.yaml":()=>Ye(()=>import("./ff7-CYGlgb_3.js"),[]),"../game-configs/hades.yaml":()=>Ye(()=>import("./hades-BkYqhHey.js"),[]),"../game-configs/lordsofthefallen.yaml":()=>Ye(()=>import("./lordsofthefallen-vi3erB2s.js"),[]),"../game-configs/moonlighter.yaml":()=>Ye(()=>import("./moonlighter-DWWSqXAQ.js"),[]),"../game-configs/nioh2.yaml":()=>Ye(()=>import("./nioh2-CN3uolYz.js"),[]),"../game-configs/remnant.yaml":()=>Ye(()=>import("./remnant-EWC1nFV0.js"),[]),"../game-configs/remnant2.yaml":()=>Ye(()=>import("./remnant2-Drru-4q0.js"),[]),"../game-configs/riskofrain2.yaml":()=>Ye(()=>import("./riskofrain2-Du4jsvq1.js"),[]),"../game-configs/seaofthieves.yaml":()=>Ye(()=>import("./seaofthieves-DDa2AQaY.js"),[]),"../game-configs/shadowgambit.yaml":()=>Ye(()=>import("./shadowgambit-Cy1gMF9x.js"),[]),"../game-configs/soulframe.yaml":()=>Ye(()=>import("./soulframe-BUEpWpF6.js"),[]),"../game-configs/warframe.yaml":()=>Ye(()=>import("./warframe-DC-liFAW.js"),[])}),`../game-configs/${r}.yaml`,3).then(e=>e.default),x6=()=>{const[r,e]=B.useState("loading...");return B.useEffect(()=>{T6("warframe").then(t=>{e(t.dateUpdated)})},[]),y.jsxs("div",{className:"max-w-3xl mx-auto px-4 mt-4 text-base leading-relaxed text-gray-800",children:[y.jsxs("p",{className:"mb-4",children:["This site is purely client-side, everything is hosted on free GitHub pages. Your progress is saved in the cloud when you sign in, or stored locally in ",y.jsx("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage",className:"text-sky-700 hover:underline",children:"browser local storage"})," when signed out."]}),y.jsx("p",{className:"mb-4",children:'Data is persistent and can be synced across devices when signed in. You can also download/upload your state via the top nav menu or directly from the browser console (Application tab, look for "state" variable).'}),y.jsxs("p",{className:"mb-8 border-b border-gray-100 pb-4",children:["If you have any suggestions or find any mistakes: email me ",y.jsx("a",{href:"mailto:poehartgroove@gmail.com",className:"text-sky-700 hover:underline",children:"poehartgroove@gmail.com"}),"."]}),y.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-6 mb-4",children:"Data Sources:"}),y.jsxs("ul",{className:"list-disc list-outside ml-5 space-y-4 text-sm",children:[y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Arc Raiders:"})," Data compiled from official sources and community wikis."]})}),y.jsxs("li",{children:[y.jsxs("div",{children:[y.jsx("strong",{children:"Warframe:"})," Data sources: ",y.jsx("a",{href:"https://wf.snekw.com/",className:"text-sky-700 hover:underline",children:"wf.snekw.com"}),", "," ",y.jsx("a",{href:"https://warframe-web-assets.nyc3.cdn.digitaloceanspaces.com/uploads/cms/hnfvc0o3jnfvc873njb03enrf56.html",className:"text-sky-700 hover:underline",children:"Drop tables"}),", and "," ",y.jsx("a",{href:"https://github.com/WFCD/warframe-items",className:"text-sky-700 hover:underline",children:"WFCD/warframe-items"})]}),y.jsxs("div",{className:"text-gray-500 italic mt-1 text-xs",children:["Last update date: ",r]})]}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Remnant: From the Ashes:"})," ",y.jsx("a",{href:"https://remnantfromtheashes.wiki.fextralife.com/Remnant+From+The+Ashes+Wiki",className:"text-sky-700 hover:underline",children:"Remnant From The Ashes Wiki"})]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Remnant 2:"})," Data taken from ",y.jsx("a",{href:"https://remnant2.wiki.fextralife.com/Remnant+2+Wiki",className:"text-sky-700 hover:underline",children:"Remnant 2 Wiki"})," and community guides."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Nioh 2:"})," Smithing texts and arts taken from this ",y.jsx("a",{href:"https://docs.google.com/document/d/1dCPVlyB7avz7yJPzST4_JBSsCTLPaZFm97QwDzTiiu8/edit#heading=h.34si98irfbct",className:"text-sky-700 hover:underline",children:"Google doc"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Final Fantasy VII Remake:"})," Data taken from ",y.jsx("a",{href:"https://www.powerpyx.com/final-fantasy-vii-remake-wiki-strategy-guide/",className:"text-sky-700 hover:underline",children:"PowerPyx"})," and ",y.jsx("a",{href:"https://finalfantasy7remake.wiki.fextralife.com/Final+Fantasy+VII+Remake+Wiki",className:"text-sky-700 hover:underline",children:"Final Fantasy VII Remake Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Final Fantasy XIV:"})," Data taken from ",y.jsx("a",{href:"https://xivapi.com/",className:"text-sky-700 hover:underline",children:"XIVAPI"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Desperados III:"})," Guide taken from ",y.jsx("a",{href:"https://steamcommunity.com/sharedfiles/filedetails/?id=2133857369",className:"text-sky-700 hover:underline",children:"All Badges + Mission-by-Mission Achievements Guide by MMOtte"}),", ",y.jsx("a",{href:"https://psnprofiles.com/trophies/10788-desperados-iii",className:"text-sky-700 hover:underline",children:"psnprofiles"}),", and ",y.jsx("a",{href:"https://www.trueachievements.com/game/Desperados-III/achievements",className:"text-sky-700 hover:underline",children:"TrueAchievements"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Hades:"})," Data compiled from ",y.jsx("a",{href:"https://hades.fandom.com/wiki/Hades_Wiki",className:"text-sky-700 hover:underline",children:"Hades Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Risk of Rain 2:"})," Data compiled from ",y.jsx("a",{href:"https://riskofrain2.fandom.com/wiki/Risk_of_Rain_2_Wiki",className:"text-sky-700 hover:underline",children:"Risk of Rain 2 Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Moonlighter:"})," Data compiled from ",y.jsx("a",{href:"https://moonlighter.fandom.com/wiki/Moonlighter_Wiki",className:"text-sky-700 hover:underline",children:"Moonlighter Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Demon's Souls:"})," Data taken from ",y.jsx("a",{href:"https://demonssouls.wiki.fextralife.com/Demon's+Souls+Wiki",className:"text-sky-700 hover:underline",children:"Demon's Souls Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Diablo 2:"})," Data compiled from ",y.jsx("a",{href:"https://diablo2.diablowiki.net/",className:"text-sky-700 hover:underline",children:"Diablo Wiki"})," and community resources."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Elden Ring:"})," Data taken from ",y.jsx("a",{href:"https://eldenring.wiki.fextralife.com/Elden+Ring+Wiki",className:"text-sky-700 hover:underline",children:"Elden Ring Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Lords of the Fallen:"})," Checklist made with ",y.jsx("a",{href:"https://forum.psnprofiles.com/topic/151185-checklist-for-nearly-everything/",className:"text-sky-700 hover:underline",children:"psnprofiles community"}),". Data taken from the ",y.jsx("a",{href:"https://thelordsofthefallen.wiki.fextralife.com/",className:"text-sky-700 hover:underline",children:"fextralife wiki"}),". Special thanks to PSN: Adkov for contributions."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Shadow Gambit: The Cursed Crew:"})," Mostly taken from ",y.jsx("a",{href:"https://steamcommunity.com/app/1545560/guides/?browsefilter=trend&filetype=11&requiredtags[]=english",className:"text-sky-700 hover:underline",children:"Steam guides"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Sea of Thieves:"})," Data compiled from ",y.jsx("a",{href:"https://seaofthieves.fandom.com/wiki/Sea_of_Thieves_Wiki",className:"text-sky-700 hover:underline",children:"Sea of Thieves Wiki"})," and official sources."]})})]})]})},S6=()=>{};var tR={};const $2=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},w6=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const a=r[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],d=r[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],c=r[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},K2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,d=c?r[a+1]:0,p=a+2<r.length,m=p?r[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let x=(d&15)<<2|m>>6,S=m&63;p||(S=64,c||(x=64)),i.push(t[v],t[b],t[x],t[S])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray($2(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):w6(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const m=a<r.length?t[r.charAt(a)]:64;++a;const b=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||d==null||m==null||b==null)throw new A6;const x=l<<2|d>>4;if(i.push(x),m!==64){const S=d<<4&240|m>>2;if(i.push(S),b!==64){const M=m<<6&192|b;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class A6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R6=function(r){const e=$2(r);return K2.encodeByteArray(e,!0)},gd=function(r){return R6(r).replace(/\./g,"")},W2=function(r){try{return K2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function C6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const I6=()=>C6().__FIREBASE_DEFAULTS__,N6=()=>{if(typeof process>"u"||typeof tR>"u")return;const r=tR.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},O6=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&W2(r[1]);return e&&JSON.parse(e)},uf=()=>{try{return S6()||I6()||N6()||O6()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Y2=r=>uf()?.emulatorHosts?.[r],D6=r=>{const e=Y2(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Q2=()=>uf()?.config,X2=r=>uf()?.[`_${r}`];class k6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function cl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function J2(r){return(await fetch(r,{credentials:"include"})).ok}function M6(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[gd(JSON.stringify(t)),gd(JSON.stringify(c)),""].join(".")}const Pu={};function j6(){const r={prod:[],emulator:[]};for(const e of Object.keys(Pu))Pu[e]?r.emulator.push(e):r.prod.push(e);return r}function V6(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let nR=!1;function Z2(r,e){if(typeof window>"u"||typeof document>"u"||!cl(window.location.host)||Pu[r]===e||Pu[r]||nR)return;Pu[r]=e;function t(x){return`__firebase__banner__${x}`}const i="__firebase__banner",l=j6().prod.length>0;function c(){const x=document.getElementById(i);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,S){x.setAttribute("width","24"),x.setAttribute("id",S),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{nR=!0,c()},x}function v(x,S){x.setAttribute("id",S),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=V6(i),S=t("text"),M=document.getElementById(S)||document.createElement("span"),P=t("learnmore"),k=document.getElementById(P)||document.createElement("a"),F=t("preprendIcon"),z=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const X=x.element;d(X),v(k,P);const le=m();p(z,F),X.append(z,M,k,le),document.body.appendChild(X)}l?(M.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function L6(){const r=uf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function q6(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function B6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z6(){const r=bn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function F6(){return!L6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H6(){try{return typeof indexedDB=="object"}catch{return!1}}function G6(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const $6="FirebaseError";class Fi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=$6,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lc.prototype.create)}}class lc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?K6(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Fi(a,d,i)}}function K6(r,e){return r.replace(W6,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const W6=/\{\$([^}]+)}/g;function Y6(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ma(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=r[a],c=e[a];if(rR(l)&&rR(c)){if(!Ma(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function rR(r){return r!==null&&typeof r=="object"}function uc(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Q6(r,e){const t=new X6(r,e);return t.subscribe.bind(t)}class X6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");J6(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Dv),a.error===void 0&&(a.error=Dv),a.complete===void 0&&(a.complete=Dv);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function J6(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Dv(){}function kn(r){return r&&r._delegate?r._delegate:r}class ja{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ta="[DEFAULT]";class Z6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new k6;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t9(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:e9(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e9(r){return r===Ta?void 0:r}function t9(r){return r.instantiationMode==="EAGER"}class n9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Z6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qe||(Qe={}));const r9={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},i9=Qe.INFO,s9={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},a9=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),a=s9[e];if(a)console[a](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class X0{constructor(e){this.name=e,this._logLevel=i9,this._logHandler=a9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const o9=(r,e)=>e.some(t=>r instanceof t);let iR,sR;function l9(){return iR||(iR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u9(){return sR||(sR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eN=new WeakMap,K_=new WeakMap,tN=new WeakMap,kv=new WeakMap,J0=new WeakMap;function c9(r){const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(Ns(r.result)),a()},c=()=>{i(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&eN.set(t,r)}).catch(()=>{}),J0.set(e,r),e}function h9(r){if(K_.has(r))return;const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});K_.set(r,e)}let W_={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return K_.get(r);if(e==="objectStoreNames")return r.objectStoreNames||tN.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ns(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function d9(r){W_=r(W_)}function f9(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Mv(this),e,...t);return tN.set(i,e.sort?e.sort():[e]),Ns(i)}:u9().includes(r)?function(...e){return r.apply(Mv(this),e),Ns(eN.get(this))}:function(...e){return Ns(r.apply(Mv(this),e))}}function p9(r){return typeof r=="function"?f9(r):(r instanceof IDBTransaction&&h9(r),o9(r,l9())?new Proxy(r,W_):r)}function Ns(r){if(r instanceof IDBRequest)return c9(r);if(kv.has(r))return kv.get(r);const e=p9(r);return e!==r&&(kv.set(r,e),J0.set(e,r)),e}const Mv=r=>J0.get(r);function m9(r,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),d=Ns(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ns(c.result),p.oldVersion,p.newVersion,Ns(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const g9=["get","getKey","getAll","getAllKeys","count"],y9=["put","add","delete","clear"],jv=new Map;function aR(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jv.get(e))return jv.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=y9.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||g9.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),a&&p.done]))[0]};return jv.set(e,l),l}d9(r=>({...r,get:(e,t,i)=>aR(e,t)||r.get(e,t,i),has:(e,t)=>!!aR(e,t)||r.has(e,t)}));class v9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_9(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function _9(r){return r.getComponent()?.type==="VERSION"}const Y_="@firebase/app",oR="0.14.7";const Pi=new X0("@firebase/app"),b9="@firebase/app-compat",E9="@firebase/analytics-compat",T9="@firebase/analytics",x9="@firebase/app-check-compat",S9="@firebase/app-check",w9="@firebase/auth",A9="@firebase/auth-compat",R9="@firebase/database",C9="@firebase/data-connect",I9="@firebase/database-compat",N9="@firebase/functions",O9="@firebase/functions-compat",D9="@firebase/installations",k9="@firebase/installations-compat",M9="@firebase/messaging",j9="@firebase/messaging-compat",V9="@firebase/performance",P9="@firebase/performance-compat",L9="@firebase/remote-config",U9="@firebase/remote-config-compat",q9="@firebase/storage",B9="@firebase/storage-compat",z9="@firebase/firestore",F9="@firebase/ai",H9="@firebase/firestore-compat",G9="firebase",$9="12.8.0";const Q_="[DEFAULT]",K9={[Y_]:"fire-core",[b9]:"fire-core-compat",[T9]:"fire-analytics",[E9]:"fire-analytics-compat",[S9]:"fire-app-check",[x9]:"fire-app-check-compat",[w9]:"fire-auth",[A9]:"fire-auth-compat",[R9]:"fire-rtdb",[C9]:"fire-data-connect",[I9]:"fire-rtdb-compat",[N9]:"fire-fn",[O9]:"fire-fn-compat",[D9]:"fire-iid",[k9]:"fire-iid-compat",[M9]:"fire-fcm",[j9]:"fire-fcm-compat",[V9]:"fire-perf",[P9]:"fire-perf-compat",[L9]:"fire-rc",[U9]:"fire-rc-compat",[q9]:"fire-gcs",[B9]:"fire-gcs-compat",[z9]:"fire-fst",[H9]:"fire-fst-compat",[F9]:"fire-vertex","fire-js":"fire-js",[G9]:"fire-js-all"};const yd=new Map,W9=new Map,X_=new Map;function lR(r,e){try{r.container.addComponent(e)}catch(t){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Qo(r){const e=r.name;if(X_.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;X_.set(e,r);for(const t of yd.values())lR(t,r);for(const t of W9.values())lR(t,r);return!0}function Z0(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Sr(r){return r==null?!1:r.settings!==void 0}const Y9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new lc("app","Firebase",Y9);class Q9{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}const hl=$9;function nN(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:Q_,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Os.create("bad-app-name",{appName:String(a)});if(t||(t=Q2()),!t)throw Os.create("no-options");const l=yd.get(a);if(l){if(Ma(t,l.options)&&Ma(i,l.config))return l;throw Os.create("duplicate-app",{appName:a})}const c=new n9(a);for(const p of X_.values())c.addComponent(p);const d=new Q9(t,i,c);return yd.set(a,d),d}function rN(r=Q_){const e=yd.get(r);if(!e&&r===Q_&&Q2())return nN();if(!e)throw Os.create("no-app",{appName:r});return e}function Ds(r,e,t){let i=K9[r]??r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(c.join(" "));return}Qo(new ja(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const X9="firebase-heartbeat-database",J9=1,$u="firebase-heartbeat-store";let Vv=null;function iN(){return Vv||(Vv=m9(X9,J9,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore($u)}catch(t){console.warn(t)}}}}).catch(r=>{throw Os.create("idb-open",{originalErrorMessage:r.message})})),Vv}async function Z9(r){try{const t=(await iN()).transaction($u),i=await t.objectStore($u).get(sN(r));return await t.done,i}catch(e){if(e instanceof Fi)Pi.warn(e.message);else{const t=Os.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(t.message)}}}async function uR(r,e){try{const i=(await iN()).transaction($u,"readwrite");await i.objectStore($u).put(e,sN(r)),await i.done}catch(t){if(t instanceof Fi)Pi.warn(t.message);else{const i=Os.create("idb-set",{originalErrorMessage:t?.message});Pi.warn(i.message)}}}function sN(r){return`${r.name}!${r.options.appId}`}const eU=1024,tU=30;class nU{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iU(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=cR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>tU){const a=sU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cR(),{heartbeatsToSend:t,unsentEntries:i}=rU(this._heartbeatsCache.heartbeats),a=gd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Pi.warn(e),""}}}function cR(){return new Date().toISOString().substring(0,10)}function rU(r,e=eU){const t=[];let i=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),hR(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),hR(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class iU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H6()?G6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Z9(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return uR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return uR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hR(r){return gd(JSON.stringify({version:2,heartbeats:r})).length}function sU(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}function aU(r){Qo(new ja("platform-logger",e=>new v9(e),"PRIVATE")),Qo(new ja("heartbeat",e=>new nU(e),"PRIVATE")),Ds(Y_,oR,r),Ds(Y_,oR,"esm2020"),Ds("fire-js","")}aU("");function aN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oU=aN,oN=new lc("auth","Firebase",aN());const vd=new X0("@firebase/auth");function lU(r,...e){vd.logLevel<=Qe.WARN&&vd.warn(`Auth (${hl}): ${r}`,...e)}function nd(r,...e){vd.logLevel<=Qe.ERROR&&vd.error(`Auth (${hl}): ${r}`,...e)}function oi(r,...e){throw tb(r,...e)}function Rr(r,...e){return tb(r,...e)}function eb(r,e,t){const i={...oU(),[e]:t};return new lc("auth","Firebase",i).create(e,{appName:r.name})}function Na(r){return eb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uU(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&oi(r,"argument-error"),eb(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tb(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return oN.create(r,...e)}function Ce(r,e,...t){if(!r)throw tb(e,...t)}function Oi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw nd(e),new Error(e)}function Li(r,e){r||Oi(e)}function J_(){return typeof self<"u"&&self.location?.href||""}function cU(){return dR()==="http:"||dR()==="https:"}function dR(){return typeof self<"u"&&self.location?.protocol||null}function hU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cU()||q6()||"connection"in navigator)?navigator.onLine:!0}function dU(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class cc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Li(t>e,"Short delay should be less than long delay!"),this.isMobile=P6()||B6()}get(){return hU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nb(r,e){Li(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class lN{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const pU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mU=new cc(3e4,6e4);function rb(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function dl(r,e,t,i,a={}){return uN(r,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=uc({key:r.config.apiKey,...c}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const m={method:e,headers:p,...l};return U6()||(m.referrerPolicy="no-referrer"),r.emulatorConfig&&cl(r.emulatorConfig.host)&&(m.credentials="include"),lN.fetch()(await cN(r,r.config.apiHost,t,d),m)})}async function uN(r,e,t){r._canInitEmulator=!1;const i={...fU,...e};try{const a=new yU(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Gh(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gh(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Gh(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw Gh(r,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw eb(r,v,m);oi(r,v)}}catch(a){if(a instanceof Fi)throw a;oi(r,"network-request-failed",{message:String(a)})}}async function gU(r,e,t,i,a={}){const l=await dl(r,e,t,i,a);return"mfaPendingCredential"in l&&oi(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function cN(r,e,t,i){const a=`${e}${t}?${i}`,l=r,c=l.config.emulator?nb(r.config,a):`${r.config.apiScheme}://${a}`;return pU.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class yU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Rr(this.auth,"network-request-failed")),mU.get())})}}function Gh(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Rr(r,e,i);return a.customData._tokenResponse=t,a}async function vU(r,e){return dl(r,"POST","/v1/accounts:delete",e)}async function _d(r,e){return dl(r,"POST","/v1/accounts:lookup",e)}function Lu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _U(r,e=!1){const t=kn(r),i=await t.getIdToken(e),a=ib(i);Ce(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:Lu(Pv(a.auth_time)),issuedAtTime:Lu(Pv(a.iat)),expirationTime:Lu(Pv(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Pv(r){return Number(r)*1e3}function ib(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return nd("JWT malformed, contained fewer than 3 sections"),null;try{const a=W2(t);return a?JSON.parse(a):(nd("Failed to decode base64 JWT payload"),null)}catch(a){return nd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function fR(r){const e=ib(r);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ku(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Fi&&bU(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function bU({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class EU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Z_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lu(this.lastLoginAt),this.creationTime=Lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bd(r){const e=r.auth,t=await r.getIdToken(),i=await Ku(r,_d(e,{idToken:t}));Ce(i?.users.length,e,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=a.providerUserInfo?.length?hN(a.providerUserInfo):[],c=xU(r.providerData,l),d=r.isAnonymous,p=!(r.email&&a.passwordHash)&&!c?.length,m=d?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Z_(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(r,v)}async function TU(r){const e=kn(r);await bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xU(r,e){return[...r.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function hN(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function SU(r,e){const t=await uN(r,{},async()=>{const i=uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,c=await cN(r,a,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return r.emulatorConfig&&cl(r.emulatorConfig.host)&&(p.credentials="include"),lN.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wU(r,e){return dl(r,"POST","/v2/accounts:revokeToken",rb(r,e))}class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=fR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await SU(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new zo;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ce(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ce(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return Oi("not implemented")}}function xs(r,e){Ce(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class wr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new EU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Z_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ku(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _U(this,e)}reload(){return TU(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await bd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sr(this.auth.app))return Promise.reject(Na(this.auth));const e=await this.getIdToken();return await Ku(this,vU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:S,providerData:M,stsTokenManager:P}=t;Ce(b&&P,e,"internal-error");const k=zo.fromJSON(this.name,P);Ce(typeof b=="string",e,"internal-error"),xs(i,e.name),xs(a,e.name),Ce(typeof x=="boolean",e,"internal-error"),Ce(typeof S=="boolean",e,"internal-error"),xs(l,e.name),xs(c,e.name),xs(d,e.name),xs(p,e.name),xs(m,e.name),xs(v,e.name);const F=new wr({uid:b,auth:e,email:a,emailVerified:x,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:k,createdAt:m,lastLoginAt:v});return M&&Array.isArray(M)&&(F.providerData=M.map(z=>({...z}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(e,t,i=!1){const a=new zo;a.updateFromServerResponse(t);const l=new wr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await bd(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ce(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?hN(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new zo;d.updateFromIdToken(i);const p=new wr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Z_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,m),p}}const pR=new Map;function Di(r){Li(r instanceof Function,"Expected a class definition");let e=pR.get(r);return e?(Li(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,pR.set(r,e),e)}class dN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dN.type="NONE";const mR=dN;function rd(r,e,t){return`firebase:${r}:${e}:${t}`}class Fo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=rd(this.userKey,a.apiKey,l),this.fullPersistenceKey=rd("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await _d(this.auth,{idToken:e}).catch(()=>{});return t?wr._fromGetAccountInfoResponse(this.auth,t,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Fo(Di(mR),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Di(mR);const c=rd(i,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(c);if(v){let b;if(typeof v=="string"){const x=await _d(e,{idToken:v}).catch(()=>{});if(!x)break;b=await wr._fromGetAccountInfoResponse(e,x,v)}else b=wr._fromJSON(e,v);m!==l&&(d=b),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Fo(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Fo(l,e,i))}}function gR(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vN(e))return"Blackberry";if(_N(e))return"Webos";if(pN(e))return"Safari";if((e.includes("chrome/")||mN(e))&&!e.includes("edge/"))return"Chrome";if(yN(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function fN(r=bn()){return/firefox\//i.test(r)}function pN(r=bn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mN(r=bn()){return/crios\//i.test(r)}function gN(r=bn()){return/iemobile/i.test(r)}function yN(r=bn()){return/android/i.test(r)}function vN(r=bn()){return/blackberry/i.test(r)}function _N(r=bn()){return/webos/i.test(r)}function sb(r=bn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function AU(r=bn()){return sb(r)&&!!window.navigator?.standalone}function RU(){return z6()&&document.documentMode===10}function bN(r=bn()){return sb(r)||yN(r)||_N(r)||vN(r)||/windows phone/i.test(r)||gN(r)}function EN(r,e=[]){let t;switch(r){case"Browser":t=gR(bn());break;case"Worker":t=`${gR(bn())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${hl}/${i}`}class CU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function IU(r,e={}){return dl(r,"GET","/v2/passwordPolicy",rb(r,e))}const NU=6;class OU{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??NU,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class DU{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yR(this),this.idTokenSubscription=new yR(this),this.beforeStateQueue=new CU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Di(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _d(this,{idToken:e}),i=await wr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Sr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sr(this.app))return Promise.reject(Na(this));const t=e?kn(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sr(this.app)?Promise.reject(Na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sr(this.app)?Promise.reject(Na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IU(this),t=new OU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await wU(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Di(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Di(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&lU(`Error while retrieving App Check token: ${e.error}`),e?.token}}function cf(r){return kn(r)}class yR{constructor(e){this.auth=e,this.observer=null,this.addObserver=Q6(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ab={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kU(r){ab=r}function MU(r){return ab.loadJS(r)}function jU(){return ab.gapiScript}function VU(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function PU(r,e){const t=Z0(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ma(l,e??{}))return a;oi(a,"already-initialized")}return t.initialize({options:e})}function LU(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Di);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function UU(r,e,t){const i=cf(r);Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=TN(e),{host:c,port:d}=qU(e),p=d===null?"":`:${d}`,m={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ce(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ce(Ma(m,i.config.emulator)&&Ma(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,cl(c)?(J2(`${l}//${c}${p}`),Z2("Auth",!0)):BU()}function TN(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function qU(r){const e=TN(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:vR(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:vR(c)}}}function vR(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function BU(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class xN{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,t){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function Ho(r,e){return gU(r,"POST","/v1/accounts:signInWithIdp",rb(r,e))}const zU="http://localhost";class Va extends xN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):oi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new Va(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ho(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ho(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ho(e,t)}buildRequest(){const e={requestUri:zU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=uc(t)}return e}}class ob{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hc extends ob{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ws extends hc{constructor(){super("facebook.com")}static credential(e){return Va._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";class Ni extends hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Va._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ni.credential(t,i)}catch{return null}}}Ni.GOOGLE_SIGN_IN_METHOD="google.com";Ni.PROVIDER_ID="google.com";class As extends hc{constructor(){super("github.com")}static credential(e){return Va._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";class Rs extends hc{constructor(){super("twitter.com")}static credential(e,t){return Va._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Rs.credential(t,i)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await wr._fromIdTokenResponse(e,i,a),c=_R(i);return new Xo({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=_R(i);return new Xo({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function _R(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ed extends Fi{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Ed(e,t,i,a)}}function SN(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ed._fromErrorAndOperation(r,l,e,i):l})}async function FU(r,e,t=!1){const i=await Ku(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Xo._forOperation(r,"link",i)}async function HU(r,e,t=!1){const{auth:i}=r;if(Sr(i.app))return Promise.reject(Na(i));const a="reauthenticate";try{const l=await Ku(r,SN(i,a,e,r),t);Ce(l.idToken,i,"internal-error");const c=ib(l.idToken);Ce(c,i,"internal-error");const{sub:d}=c;return Ce(r.uid===d,i,"user-mismatch"),Xo._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&oi(i,"user-mismatch"),l}}async function GU(r,e,t=!1){if(Sr(r.app))return Promise.reject(Na(r));const i="signIn",a=await SN(r,i,e),l=await Xo._fromIdTokenResponse(r,i,a);return t||await r._updateCurrentUser(l.user),l}function $U(r,e,t,i){return kn(r).onIdTokenChanged(e,t,i)}function KU(r,e,t){return kn(r).beforeAuthStateChanged(e,t)}function lb(r,e,t,i){return kn(r).onAuthStateChanged(e,t,i)}function WU(r){return kn(r).signOut()}const Td="__sak";class wN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Td,"1"),this.storage.removeItem(Td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const YU=1e3,QU=10;class AN extends wN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);RU()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,QU):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},YU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}AN.type="LOCAL";const XU=AN;class RN extends wN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}RN.type="SESSION";const CN=RN;function JU(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new hf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async m=>m(t.origin,l)),p=await JU(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];function ub(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}class ZU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const m=ub("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const x=b;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(x.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ri(){return window}function eq(r){ri().location.href=r}function IN(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function tq(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nq(){return navigator?.serviceWorker?.controller||null}function rq(){return IN()?self:null}const NN="firebaseLocalStorageDb",iq=1,xd="firebaseLocalStorage",ON="fbase_key";class dc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function df(r,e){return r.transaction([xd],e?"readwrite":"readonly").objectStore(xd)}function sq(){const r=indexedDB.deleteDatabase(NN);return new dc(r).toPromise()}function e0(){const r=indexedDB.open(NN,iq);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(xd,{keyPath:ON})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(xd)?e(i):(i.close(),await sq(),e(await e0()))})})}async function bR(r,e,t){const i=df(r,!0).put({[ON]:e,value:t});return new dc(i).toPromise()}async function aq(r,e){const t=df(r,!1).get(e),i=await new dc(t).toPromise();return i===void 0?null:i.value}function ER(r,e){const t=df(r,!0).delete(e);return new dc(t).toPromise()}const oq=800,lq=3;class DN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await e0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>lq)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(rq()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tq(),!this.activeServiceWorker)return;this.sender=new ZU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await e0();return await bR(e,Td,"1"),await ER(e,Td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>bR(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>aq(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ER(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=df(a,!1).getAll();return new dc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DN.type="LOCAL";const uq=DN;new cc(3e4,6e4);function kN(r,e){return e?Di(e):(Ce(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class cb extends xN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cq(r){return GU(r.auth,new cb(r),r.bypassAuthState)}function hq(r){const{auth:e,user:t}=r;return Ce(t,e,"internal-error"),HU(t,new cb(r),r.bypassAuthState)}async function dq(r){const{auth:e,user:t}=r;return Ce(t,e,"internal-error"),FU(t,new cb(r),r.bypassAuthState)}class MN{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cq;case"linkViaPopup":case"linkViaRedirect":return dq;case"reauthViaPopup":case"reauthViaRedirect":return hq;default:oi(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fq=new cc(2e3,1e4);async function jN(r,e,t){if(Sr(r.app))return Promise.reject(Rr(r,"operation-not-supported-in-this-environment"));const i=cf(r);uU(r,e,ob);const a=kN(i,t);return new Sa(i,"signInViaPopup",e,a).executeNotNull()}class Sa extends MN{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Sa.currentPopupAction&&Sa.currentPopupAction.cancel(),Sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=ub();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fq.get())};e()}}Sa.currentPopupAction=null;const pq="pendingRedirect",id=new Map;class mq extends MN{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=id.get(this.auth._key());if(!e){try{const i=await gq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}id.set(this.auth._key(),e)}return this.bypassAuthState||id.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gq(r,e){const t=_q(e),i=vq(r);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function yq(r,e){id.set(r._key(),e)}function vq(r){return Di(r._redirectPersistence)}function _q(r){return rd(pq,r.config.apiKey,r.name)}async function bq(r,e,t=!1){if(Sr(r.app))return Promise.reject(Na(r));const i=cf(r),a=kN(i,e),c=await new mq(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const Eq=600*1e3;class Tq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xq(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!VN(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Rr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Eq&&this.cachedEventUids.clear(),this.cachedEventUids.has(TR(e))}saveEventToCache(e){this.cachedEventUids.add(TR(e)),this.lastProcessedEventTime=Date.now()}}function TR(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function VN({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function xq(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VN(r);default:return!1}}async function Sq(r,e={}){return dl(r,"GET","/v1/projects",e)}const wq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Aq=/^https?/;async function Rq(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Sq(r);for(const t of e)try{if(Cq(t))return}catch{}oi(r,"unauthorized-domain")}function Cq(r){const e=J_(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Aq.test(t))return!1;if(wq.test(r))return i===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const Iq=new cc(3e4,6e4);function xR(){const r=ri().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function Nq(r){return new Promise((e,t)=>{function i(){xR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xR(),t(Rr(r,"network-request-failed"))},timeout:Iq.get()})}if(ri().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ri().gapi?.load)i();else{const a=VU("iframefcb");return ri()[a]=()=>{gapi.load?i():t(Rr(r,"network-request-failed"))},MU(`${jU()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw sd=null,e})}let sd=null;function Oq(r){return sd=sd||Nq(r),sd}const Dq=new cc(5e3,15e3),kq="__/auth/iframe",Mq="emulator/auth/iframe",jq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pq(r){const e=r.config;Ce(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?nb(e,Mq):`https://${r.config.authDomain}/${kq}`,i={apiKey:e.apiKey,appName:r.name,v:hl},a=Vq.get(r.config.apiHost);a&&(i.eid=a);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${uc(i).slice(1)}`}async function Lq(r){const e=await Oq(r),t=ri().gapi;return Ce(t,r,"internal-error"),e.open({where:document.body,url:Pq(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jq,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Rr(r,"network-request-failed"),d=ri().setTimeout(()=>{l(c)},Dq.get());function p(){ri().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}const Uq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qq=500,Bq=600,zq="_blank",Fq="http://localhost";class SR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hq(r,e,t,i=qq,a=Bq){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...Uq,width:i.toString(),height:a.toString(),top:l,left:c},m=bn().toLowerCase();t&&(d=mN(m)?zq:t),fN(m)&&(e=e||Fq,p.scrollbars="yes");const v=Object.entries(p).reduce((x,[S,M])=>`${x}${S}=${M},`,"");if(AU(m)&&d!=="_self")return Gq(e||"",d),new SR(null);const b=window.open(e||"",d,v);Ce(b,r,"popup-blocked");try{b.focus()}catch{}return new SR(b)}function Gq(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const $q="__/auth/handler",Kq="emulator/auth/handler",Wq=encodeURIComponent("fac");async function wR(r,e,t,i,a,l){Ce(r.config.authDomain,r,"auth-domain-config-required"),Ce(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:hl,eventId:a};if(e instanceof ob){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",Y6(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof hc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await r._getAppCheckToken(),m=p?`#${Wq}=${encodeURIComponent(p)}`:"";return`${Yq(r)}?${uc(d).slice(1)}${m}`}function Yq({config:r}){return r.emulator?nb(r,Kq):`https://${r.authDomain}/${$q}`}const Lv="webStorageSupport";class Qq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CN,this._completeRedirectFn=bq,this._overrideRedirectResult=yq}async _openPopup(e,t,i,a){Li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await wR(e,t,i,J_(),a);return Hq(e,l,ub())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await wR(e,t,i,J_(),a);return eq(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Li(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Lq(e),i=new Tq(e);return t.register("authEvent",a=>(Ce(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lv,{type:Lv},a=>{const l=a?.[0]?.[Lv];l!==void 0&&t(!!l),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Rq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bN()||pN()||sb()}}const Xq=Qq;var AR="@firebase/auth",RR="1.12.0";class Jq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Zq(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e7(r){Qo(new ja("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ce(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EN(r)},m=new DU(i,a,l,p);return LU(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Qo(new ja("auth-internal",e=>{const t=cf(e.getProvider("auth").getImmediate());return(i=>new Jq(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ds(AR,RR,Zq(r)),Ds(AR,RR,"esm2020")}const t7=300,n7=X2("authIdTokenMaxAge")||t7;let CR=null;const r7=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>n7)return;const a=t?.token;CR!==a&&(CR=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function i7(r=rN()){const e=Z0(r,"auth");if(e.isInitialized())return e.getImmediate();const t=PU(r,{popupRedirectResolver:Xq,persistence:[uq,XU,CN]}),i=X2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=r7(l.toString());KU(t,c,()=>c(t.currentUser)),$U(t,d=>c(d))}}const a=Y2("auth");return a&&UU(t,`http://${a}`),t}function s7(){return document.getElementsByTagName("head")?.[0]??document}kU({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=a=>{const l=Rr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",s7().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e7("Browser");var a7="firebase",o7="12.8.0";Ds(a7,o7,"app");var IR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ks,PN;(function(){var r;function e(I,C){function O(){}O.prototype=C.prototype,I.F=C.prototype,I.prototype=new O,I.prototype.constructor=I,I.D=function(j,D,L){for(var N=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)N[Re-2]=arguments[Re];return C.prototype[D].apply(j,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,C,O){O||(O=0);const j=Array(16);if(typeof C=="string")for(var D=0;D<16;++D)j[D]=C.charCodeAt(O++)|C.charCodeAt(O++)<<8|C.charCodeAt(O++)<<16|C.charCodeAt(O++)<<24;else for(D=0;D<16;++D)j[D]=C[O++]|C[O++]<<8|C[O++]<<16|C[O++]<<24;C=I.g[0],O=I.g[1],D=I.g[2];let L=I.g[3],N;N=C+(L^O&(D^L))+j[0]+3614090360&4294967295,C=O+(N<<7&4294967295|N>>>25),N=L+(D^C&(O^D))+j[1]+3905402710&4294967295,L=C+(N<<12&4294967295|N>>>20),N=D+(O^L&(C^O))+j[2]+606105819&4294967295,D=L+(N<<17&4294967295|N>>>15),N=O+(C^D&(L^C))+j[3]+3250441966&4294967295,O=D+(N<<22&4294967295|N>>>10),N=C+(L^O&(D^L))+j[4]+4118548399&4294967295,C=O+(N<<7&4294967295|N>>>25),N=L+(D^C&(O^D))+j[5]+1200080426&4294967295,L=C+(N<<12&4294967295|N>>>20),N=D+(O^L&(C^O))+j[6]+2821735955&4294967295,D=L+(N<<17&4294967295|N>>>15),N=O+(C^D&(L^C))+j[7]+4249261313&4294967295,O=D+(N<<22&4294967295|N>>>10),N=C+(L^O&(D^L))+j[8]+1770035416&4294967295,C=O+(N<<7&4294967295|N>>>25),N=L+(D^C&(O^D))+j[9]+2336552879&4294967295,L=C+(N<<12&4294967295|N>>>20),N=D+(O^L&(C^O))+j[10]+4294925233&4294967295,D=L+(N<<17&4294967295|N>>>15),N=O+(C^D&(L^C))+j[11]+2304563134&4294967295,O=D+(N<<22&4294967295|N>>>10),N=C+(L^O&(D^L))+j[12]+1804603682&4294967295,C=O+(N<<7&4294967295|N>>>25),N=L+(D^C&(O^D))+j[13]+4254626195&4294967295,L=C+(N<<12&4294967295|N>>>20),N=D+(O^L&(C^O))+j[14]+2792965006&4294967295,D=L+(N<<17&4294967295|N>>>15),N=O+(C^D&(L^C))+j[15]+1236535329&4294967295,O=D+(N<<22&4294967295|N>>>10),N=C+(D^L&(O^D))+j[1]+4129170786&4294967295,C=O+(N<<5&4294967295|N>>>27),N=L+(O^D&(C^O))+j[6]+3225465664&4294967295,L=C+(N<<9&4294967295|N>>>23),N=D+(C^O&(L^C))+j[11]+643717713&4294967295,D=L+(N<<14&4294967295|N>>>18),N=O+(L^C&(D^L))+j[0]+3921069994&4294967295,O=D+(N<<20&4294967295|N>>>12),N=C+(D^L&(O^D))+j[5]+3593408605&4294967295,C=O+(N<<5&4294967295|N>>>27),N=L+(O^D&(C^O))+j[10]+38016083&4294967295,L=C+(N<<9&4294967295|N>>>23),N=D+(C^O&(L^C))+j[15]+3634488961&4294967295,D=L+(N<<14&4294967295|N>>>18),N=O+(L^C&(D^L))+j[4]+3889429448&4294967295,O=D+(N<<20&4294967295|N>>>12),N=C+(D^L&(O^D))+j[9]+568446438&4294967295,C=O+(N<<5&4294967295|N>>>27),N=L+(O^D&(C^O))+j[14]+3275163606&4294967295,L=C+(N<<9&4294967295|N>>>23),N=D+(C^O&(L^C))+j[3]+4107603335&4294967295,D=L+(N<<14&4294967295|N>>>18),N=O+(L^C&(D^L))+j[8]+1163531501&4294967295,O=D+(N<<20&4294967295|N>>>12),N=C+(D^L&(O^D))+j[13]+2850285829&4294967295,C=O+(N<<5&4294967295|N>>>27),N=L+(O^D&(C^O))+j[2]+4243563512&4294967295,L=C+(N<<9&4294967295|N>>>23),N=D+(C^O&(L^C))+j[7]+1735328473&4294967295,D=L+(N<<14&4294967295|N>>>18),N=O+(L^C&(D^L))+j[12]+2368359562&4294967295,O=D+(N<<20&4294967295|N>>>12),N=C+(O^D^L)+j[5]+4294588738&4294967295,C=O+(N<<4&4294967295|N>>>28),N=L+(C^O^D)+j[8]+2272392833&4294967295,L=C+(N<<11&4294967295|N>>>21),N=D+(L^C^O)+j[11]+1839030562&4294967295,D=L+(N<<16&4294967295|N>>>16),N=O+(D^L^C)+j[14]+4259657740&4294967295,O=D+(N<<23&4294967295|N>>>9),N=C+(O^D^L)+j[1]+2763975236&4294967295,C=O+(N<<4&4294967295|N>>>28),N=L+(C^O^D)+j[4]+1272893353&4294967295,L=C+(N<<11&4294967295|N>>>21),N=D+(L^C^O)+j[7]+4139469664&4294967295,D=L+(N<<16&4294967295|N>>>16),N=O+(D^L^C)+j[10]+3200236656&4294967295,O=D+(N<<23&4294967295|N>>>9),N=C+(O^D^L)+j[13]+681279174&4294967295,C=O+(N<<4&4294967295|N>>>28),N=L+(C^O^D)+j[0]+3936430074&4294967295,L=C+(N<<11&4294967295|N>>>21),N=D+(L^C^O)+j[3]+3572445317&4294967295,D=L+(N<<16&4294967295|N>>>16),N=O+(D^L^C)+j[6]+76029189&4294967295,O=D+(N<<23&4294967295|N>>>9),N=C+(O^D^L)+j[9]+3654602809&4294967295,C=O+(N<<4&4294967295|N>>>28),N=L+(C^O^D)+j[12]+3873151461&4294967295,L=C+(N<<11&4294967295|N>>>21),N=D+(L^C^O)+j[15]+530742520&4294967295,D=L+(N<<16&4294967295|N>>>16),N=O+(D^L^C)+j[2]+3299628645&4294967295,O=D+(N<<23&4294967295|N>>>9),N=C+(D^(O|~L))+j[0]+4096336452&4294967295,C=O+(N<<6&4294967295|N>>>26),N=L+(O^(C|~D))+j[7]+1126891415&4294967295,L=C+(N<<10&4294967295|N>>>22),N=D+(C^(L|~O))+j[14]+2878612391&4294967295,D=L+(N<<15&4294967295|N>>>17),N=O+(L^(D|~C))+j[5]+4237533241&4294967295,O=D+(N<<21&4294967295|N>>>11),N=C+(D^(O|~L))+j[12]+1700485571&4294967295,C=O+(N<<6&4294967295|N>>>26),N=L+(O^(C|~D))+j[3]+2399980690&4294967295,L=C+(N<<10&4294967295|N>>>22),N=D+(C^(L|~O))+j[10]+4293915773&4294967295,D=L+(N<<15&4294967295|N>>>17),N=O+(L^(D|~C))+j[1]+2240044497&4294967295,O=D+(N<<21&4294967295|N>>>11),N=C+(D^(O|~L))+j[8]+1873313359&4294967295,C=O+(N<<6&4294967295|N>>>26),N=L+(O^(C|~D))+j[15]+4264355552&4294967295,L=C+(N<<10&4294967295|N>>>22),N=D+(C^(L|~O))+j[6]+2734768916&4294967295,D=L+(N<<15&4294967295|N>>>17),N=O+(L^(D|~C))+j[13]+1309151649&4294967295,O=D+(N<<21&4294967295|N>>>11),N=C+(D^(O|~L))+j[4]+4149444226&4294967295,C=O+(N<<6&4294967295|N>>>26),N=L+(O^(C|~D))+j[11]+3174756917&4294967295,L=C+(N<<10&4294967295|N>>>22),N=D+(C^(L|~O))+j[2]+718787259&4294967295,D=L+(N<<15&4294967295|N>>>17),N=O+(L^(D|~C))+j[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+L&4294967295}i.prototype.v=function(I,C){C===void 0&&(C=I.length);const O=C-this.blockSize,j=this.C;let D=this.h,L=0;for(;L<C;){if(D==0)for(;L<=O;)a(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<C;)if(j[D++]=I.charCodeAt(L++),D==this.blockSize){a(this,j),D=0;break}}else for(;L<C;)if(j[D++]=I[L++],D==this.blockSize){a(this,j),D=0;break}}this.h=D,this.o+=C},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var O=I.length-8;O<I.length;++O)I[O]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,O=0;O<4;++O)for(let j=0;j<32;j+=8)I[C++]=this.g[O]>>>j&255;return I};function l(I,C){var O=d;return Object.prototype.hasOwnProperty.call(O,I)?O[I]:O[I]=C(I)}function c(I,C){this.h=C;const O=[];let j=!0;for(let D=I.length-1;D>=0;D--){const L=I[D]|0;j&&L==C||(O[D]=L,j=!1)}this.g=O}var d={};function p(I){return-128<=I&&I<128?l(I,function(C){return new c([C|0],C<0?-1:0)}):new c([I|0],I<0?-1:0)}function m(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return k(m(-I));const C=[];let O=1;for(let j=0;I>=O;j++)C[j]=I/O|0,O*=4294967296;return new c(C,0)}function v(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return k(v(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=m(Math.pow(C,8));let j=b;for(let L=0;L<I.length;L+=8){var D=Math.min(8,I.length-L);const N=parseInt(I.substring(L,L+D),C);D<8?(D=m(Math.pow(C,D)),j=j.j(D).add(m(N))):(j=j.j(O),j=j.add(m(N)))}return j}var b=p(0),x=p(1),S=p(16777216);r=c.prototype,r.m=function(){if(P(this))return-k(this).m();let I=0,C=1;for(let O=0;O<this.g.length;O++){const j=this.i(O);I+=(j>=0?j:4294967296+j)*C,C*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(P(this))return"-"+k(this).toString(I);const C=m(Math.pow(I,6));var O=this;let j="";for(;;){const D=le(O,C).g;O=F(O,D.j(C));let L=((O.g.length>0?O.g[0]:O.h)>>>0).toString(I);if(O=D,M(O))return L+j;for(;L.length<6;)L="0"+L;j=L+j}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function P(I){return I.h==-1}r.l=function(I){return I=F(this,I),P(I)?-1:M(I)?0:1};function k(I){const C=I.g.length,O=[];for(let j=0;j<C;j++)O[j]=~I.g[j];return new c(O,~I.h).add(x)}r.abs=function(){return P(this)?k(this):this},r.add=function(I){const C=Math.max(this.g.length,I.g.length),O=[];let j=0;for(let D=0;D<=C;D++){let L=j+(this.i(D)&65535)+(I.i(D)&65535),N=(L>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);j=N>>>16,L&=65535,N&=65535,O[D]=N<<16|L}return new c(O,O[O.length-1]&-2147483648?-1:0)};function F(I,C){return I.add(k(C))}r.j=function(I){if(M(this)||M(I))return b;if(P(this))return P(I)?k(this).j(k(I)):k(k(this).j(I));if(P(I))return k(this.j(k(I)));if(this.l(S)<0&&I.l(S)<0)return m(this.m()*I.m());const C=this.g.length+I.g.length,O=[];for(var j=0;j<2*C;j++)O[j]=0;for(j=0;j<this.g.length;j++)for(let D=0;D<I.g.length;D++){const L=this.i(j)>>>16,N=this.i(j)&65535,Re=I.i(D)>>>16,Ne=I.i(D)&65535;O[2*j+2*D]+=N*Ne,z(O,2*j+2*D),O[2*j+2*D+1]+=L*Ne,z(O,2*j+2*D+1),O[2*j+2*D+1]+=N*Re,z(O,2*j+2*D+1),O[2*j+2*D+2]+=L*Re,z(O,2*j+2*D+2)}for(I=0;I<C;I++)O[I]=O[2*I+1]<<16|O[2*I];for(I=C;I<2*C;I++)O[I]=0;return new c(O,0)};function z(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function X(I,C){this.g=I,this.h=C}function le(I,C){if(M(C))throw Error("division by zero");if(M(I))return new X(b,b);if(P(I))return C=le(k(I),C),new X(k(C.g),k(C.h));if(P(C))return C=le(I,k(C)),new X(k(C.g),C.h);if(I.g.length>30){if(P(I)||P(C))throw Error("slowDivide_ only works with positive integers.");for(var O=x,j=C;j.l(I)<=0;)O=ce(O),j=ce(j);var D=oe(O,1),L=oe(j,1);for(j=oe(j,2),O=oe(O,2);!M(j);){var N=L.add(j);N.l(I)<=0&&(D=D.add(O),L=N),j=oe(j,1),O=oe(O,1)}return C=F(I,D.j(C)),new X(D,C)}for(D=b;I.l(C)>=0;){for(O=Math.max(1,Math.floor(I.m()/C.m())),j=Math.ceil(Math.log(O)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),L=m(O),N=L.j(C);P(N)||N.l(I)>0;)O-=j,L=m(O),N=L.j(C);M(L)&&(L=x),D=D.add(L),I=F(I,N)}return new X(D,I)}r.B=function(I){return le(this,I).h},r.and=function(I){const C=Math.max(this.g.length,I.g.length),O=[];for(let j=0;j<C;j++)O[j]=this.i(j)&I.i(j);return new c(O,this.h&I.h)},r.or=function(I){const C=Math.max(this.g.length,I.g.length),O=[];for(let j=0;j<C;j++)O[j]=this.i(j)|I.i(j);return new c(O,this.h|I.h)},r.xor=function(I){const C=Math.max(this.g.length,I.g.length),O=[];for(let j=0;j<C;j++)O[j]=this.i(j)^I.i(j);return new c(O,this.h^I.h)};function ce(I){const C=I.g.length+1,O=[];for(let j=0;j<C;j++)O[j]=I.i(j)<<1|I.i(j-1)>>>31;return new c(O,I.h)}function oe(I,C){const O=C>>5;C%=32;const j=I.g.length-O,D=[];for(let L=0;L<j;L++)D[L]=C>0?I.i(L+O)>>>C|I.i(L+O+1)<<32-C:I.i(L+O);return new c(D,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,PN=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,ks=c}).apply(typeof IR<"u"?IR:typeof self<"u"?self:typeof window<"u"?window:{});var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var LN,Ou,UN,ad,t0,qN,BN,zN;(function(){var r,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof $h=="object"&&$h];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function a(h,_){if(_)e:{var T=i;h=h.split(".");for(var A=0;A<h.length-1;A++){var G=h[A];if(!(G in T))break e;T=T[G]}h=h[h.length-1],A=T[h],_=_(A),_!=A&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var T=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&T.push([A,_[A]]);return T}});var l=l||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,T){return h.call.apply(h.bind,arguments)}function m(h,_,T){return m=p,m.apply(null,arguments)}function v(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function b(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(A,G,J){for(var de=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)de[Ve-2]=arguments[Ve];return _.prototype[G].apply(A,de)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const _=h.length;if(_>0){const T=Array(_);for(let A=0;A<_;A++)T[A]=h[A];return T}return[]}function M(h,_){for(let A=1;A<arguments.length;A++){const G=arguments[A];var T=typeof G;if(T=T!="object"?T:G?Array.isArray(G)?"array":T:"null",T=="array"||T=="object"&&typeof G.length=="number"){T=h.length||0;const J=G.length||0;h.length=T+J;for(let de=0;de<J;de++)h[T+de]=G[de]}else h.push(G)}}class P{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(h){c.setTimeout(()=>{throw h},0)}function F(){var h=I;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class z{constructor(){this.h=this.g=null}add(_,T){const A=X.get();A.set(_,T),this.h?this.h.next=A:this.g=A,this.h=A}}var X=new P(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,oe=!1,I=new z,C=()=>{const h=Promise.resolve(void 0);ce=()=>{h.then(O)}};function O(){for(var h;h=F();){try{h.h.call(h.g)}catch(T){k(T)}var _=X;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}oe=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Re(h,_){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(Re,D),Re.prototype.init=function(h,_){const T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Re.Z.h.call(this)},Re.prototype.h=function(){Re.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),ee=0;function he(h,_,T,A,G){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!A,this.ha=G,this.key=++ee,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Le(h,_,T){for(const A in h)_.call(T,h[A],A,h)}function Fe(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function U(h){const _={};for(const T in h)_[T]=h[T];return _}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,_){let T,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(T in A)h[T]=A[T];for(let J=0;J<ne.length;J++)T=ne[J],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,_,T,A,G){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const de=Y(h,_,A,G);return de>-1?(_=h[de],T||(_.fa=!1)):(_=new he(_,this.src,J,!!A,G),_.fa=T,h.push(_)),_};function Q(h,_){const T=_.type;if(T in h.g){var A=h.g[T],G=Array.prototype.indexOf.call(A,_,void 0),J;(J=G>=0)&&Array.prototype.splice.call(A,G,1),J&&(ye(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Y(h,_,T,A){for(let G=0;G<h.length;++G){const J=h[G];if(!J.da&&J.listener==_&&J.capture==!!T&&J.ha==A)return G}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),je={};function be(h,_,T,A,G){if(Array.isArray(_)){for(let J=0;J<_.length;J++)be(h,_[J],T,A,G);return null}return T=$n(T),h&&h[Ne]?h.J(_,T,d(A)?!!A.capture:!1,G):Ue(h,_,T,!1,A,G)}function Ue(h,_,T,A,G,J){if(!_)throw Error("Invalid event type");const de=d(G)?!!G.capture:!!G;let Ve=ot(h);if(Ve||(h[pe]=Ve=new fe(h)),T=Ve.add(_,T,A,de,J),T.proxy)return T;if(A=Oe(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)L||(G=de),G===void 0&&(G=!1),h.addEventListener(_.toString(),A,G);else if(h.attachEvent)h.attachEvent(ze(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Oe(){function h(T){return _.call(h.src,h.listener,T)}const _=Ae;return h}function xe(h,_,T,A,G){if(Array.isArray(_))for(var J=0;J<_.length;J++)xe(h,_[J],T,A,G);else A=d(A)?!!A.capture:!!A,T=$n(T),h&&h[Ne]?(h=h.i,J=String(_).toString(),J in h.g&&(_=h.g[J],T=Y(_,T,A,G),T>-1&&(ye(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[J],h.h--)))):h&&(h=ot(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Y(_,T,A,G)),(T=h>-1?_[h]:null)&&He(T))}function He(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Ne])Q(_.i,h);else{var T=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(T,A,h.capture):_.detachEvent?_.detachEvent(ze(T),A):_.addListener&&_.removeListener&&_.removeListener(A),(T=ot(_))?(Q(T,h),T.h==0&&(T.src=null,_[pe]=null)):ye(h)}}}function ze(h){return h in je?je[h]:je[h]="on"+h}function Ae(h,_){if(h.da)h=!0;else{_=new Re(_,this);const T=h.listener,A=h.ha||h.src;h.fa&&He(h),h=T.call(A,_)}return h}function ot(h){return h=h[pe],h instanceof fe?h:null}var qe="__closure_events_fn_"+(Math.random()*1e9>>>0);function $n(h){return typeof h=="function"?h:(h[qe]||(h[qe]=function(_){return h.handleEvent(_)}),h[qe])}function mt(){j.call(this),this.i=new fe(this),this.M=this,this.G=null}b(mt,j),mt.prototype[Ne]=!0,mt.prototype.removeEventListener=function(h,_,T,A){xe(this,h,_,T,A)};function Ct(h,_){var T,A=h.G;if(A)for(T=[];A;A=A.G)T.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new D(_,h);else if(_ instanceof D)_.target=_.target||h;else{var G=_;_=new D(A,h),ue(_,G)}G=!0;let J,de;if(T)for(de=T.length-1;de>=0;de--)J=_.g=T[de],G=Mn(J,A,!0,_)&&G;if(J=_.g=h,G=Mn(J,A,!0,_)&&G,G=Mn(J,A,!1,_)&&G,T)for(de=0;de<T.length;de++)J=_.g=T[de],G=Mn(J,A,!1,_)&&G}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let A=0;A<T.length;A++)ye(T[A]);delete h.g[_],h.h--}}this.G=null},mt.prototype.J=function(h,_,T,A){return this.i.add(String(h),_,!1,T,A)},mt.prototype.K=function(h,_,T,A){return this.i.add(String(h),_,!0,T,A)};function Mn(h,_,T,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let J=0;J<_.length;++J){const de=_[J];if(de&&!de.da&&de.capture==T){const Ve=de.listener,Nt=de.ha||de.src;de.fa&&Q(h.i,de),G=Ve.call(Nt,A)!==!1&&G}}return G&&!A.defaultPrevented}function Kn(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function Qt(h){h.g=Kn(()=>{h.g=null,h.i&&(h.i=!1,Qt(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Mt extends j{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Qt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wn(h){j.call(this),this.h=h,this.g={}}b(Wn,j);var Hs=[];function Hi(h){Le(h.g,function(_,T){this.g.hasOwnProperty(T)&&He(_)},h),h.g={}}Wn.prototype.N=function(){Wn.Z.N.call(this),Hi(this)},Wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=c.JSON.stringify,Ka=c.JSON.parse,Gs=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Wa(){}function $s(){}var jt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vt(){D.call(this,"d")}b(vt,D);function Yn(){D.call(this,"c")}b(Yn,D);var It={},_c=null;function Ya(){return _c=_c||new mt}It.Ia="serverreachability";function bc(h){D.call(this,It.Ia,h)}b(bc,D);function Mr(h){const _=Ya();Ct(_,new bc(_))}It.STAT_EVENT="statevent";function Ks(h,_){D.call(this,It.STAT_EVENT,h),this.stat=_}b(Ks,D);function Vt(h){const _=Ya();Ct(_,new Ks(_,h))}It.Ja="timingevent";function jr(h,_){D.call(this,It.Ja,h),this.size=_}b(jr,D);function Vr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function dr(){this.g=!0}dr.prototype.ua=function(){this.g=!1};function Cf(h,_,T,A,G,J){h.info(function(){if(h.g)if(J){var de="",Ve=J.split("&");for(let it=0;it<Ve.length;it++){var Nt=Ve[it].split("=");if(Nt.length>1){const Tt=Nt[0];Nt=Nt[1];const Zn=Tt.split("_");de=Zn.length>=2&&Zn[1]=="type"?de+(Tt+"="+Nt+"&"):de+(Tt+"=redacted&")}}}else de=null;else de=J;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+_+`
`+T+`
`+de})}function Ec(h,_,T,A,G,J,de){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+_+`
`+T+`
`+J+" "+de})}function Pr(h,_,T,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+If(h,T)+(A?" "+A:"")})}function Ws(h,_){h.info(function(){return"TIMEOUT: "+_})}dr.prototype.info=function(){};function If(h,_){if(!h.g)return _;if(!_)return null;try{const J=JSON.parse(_);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var T=J[h];if(!(T.length<2)){var A=T[1];if(Array.isArray(A)&&!(A.length<1)){var G=A[0];if(G!="noop"&&G!="stop"&&G!="close")for(let de=1;de<A.length;de++)A[de]=""}}}}return En(J)}catch{return _}}var Ys={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},El;function Qs(){}b(Qs,Wa),Qs.prototype.g=function(){return new XMLHttpRequest},El=new Qs;function ci(h){return encodeURIComponent(String(h))}function Tc(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function fr(h,_,T,A){this.j=h,this.i=_,this.l=T,this.S=A||1,this.V=new Wn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pr}function pr(){this.i=null,this.g="",this.h=!1}var Pt={},en={};function Lr(h,_,T){h.M=1,h.A=Xs(Ut(_)),h.u=T,h.R=!0,Qa(h,null)}function Qa(h,_){h.F=Date.now(),Ur(h),h.B=Ut(h.A);var T=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),eo(T.i,"t",A),h.C=0,T=h.j.L,h.h=new pr,h.g=Pc(h.j,T?_:null,!h.u),h.P>0&&(h.O=new Mt(m(h.Y,h,h.g),h.P)),_=h.V,T=h.g,A=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(Hs[0]=G.toString()),G=Hs);for(let J=0;J<G.length;J++){const de=be(T,G[J],A||_.handleEvent,!1,_.h||_);if(!de)break;_.g[de.key]=de}_=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Mr(),Cf(h.i,h.v,h.B,h.l,h.S,h.u)}fr.prototype.ba=function(h){h=h.target;const _=this.O;_&&yr(h)==3?_.j():this.Y(h)},fr.prototype.Y=function(h){try{if(h==this.g)e:{const Ve=yr(this.g),Nt=this.g.ya(),it=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ve!=4||Nt==7||(Nt==8||it<=0?Mr(3):Mr(2)),qr(this);var _=this.g.ca();this.X=_;var T=Nf(this);if(this.o=_==200,Ec(this.i,this.v,this.B,this.l,this.S,Ve,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,G=this.g;if((A=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var J=A;break t}}J=null}if(h=J)Pr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Br(this,h);else{this.o=!1,this.m=3,Vt(12),jn(this),Qn(this);break e}}if(this.R){h=!0;let Tt;for(;!this.K&&this.C<T.length;)if(Tt=Sc(this,T),Tt==en){Ve==4&&(this.m=4,Vt(14),h=!1),Pr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Pt){this.m=4,Vt(15),Pr(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Pr(this.i,this.l,Tt,null),Br(this,Tt);if(xc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||T.length!=0||this.h.h||(this.m=1,Vt(16),h=!1),this.o=this.o&&h,!h)Pr(this.i,this.l,T,"[Invalid Chunked Response]"),jn(this),Qn(this);else if(T.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Vl(de),de.P=!0,Vt(11))}}else Pr(this.i,this.l,T,null),Br(this,T);Ve==4&&jn(this),this.o&&!this.K&&(Ve==4?kc(this.j,this):(this.o=!1,Ur(this)))}else di(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),jn(this),Qn(this)}}}catch{}};function Nf(h){if(!xc(h))return h.g.la();const _=sn(h.g);if(_==="")return"";let T="";const A=_.length,G=yr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return jn(h),Qn(h),"";h.h.i=new c.TextDecoder}for(let J=0;J<A;J++)h.h.h=!0,T+=h.h.i.decode(_[J],{stream:!(G&&J==A-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function xc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Sc(h,_){var T=h.C,A=_.indexOf(`
`,T);return A==-1?en:(T=Number(_.substring(T,A)),isNaN(T)?Pt:(A+=1,A+T>_.length?en:(_=_.slice(A,A+T),h.C=A+T,_)))}fr.prototype.cancel=function(){this.K=!0,jn(this)};function Ur(h){h.T=Date.now()+h.H,Xa(h,h.H)}function Xa(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Vr(m(h.aa,h),_)}function qr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}fr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ws(this.i,this.B),this.M!=2&&(Mr(),Vt(17)),jn(this),this.m=2,Qn(this)):Xa(this,this.T-h)};function Qn(h){h.j.I==0||h.K||kc(h.j,h)}function jn(h){qr(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Hi(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Br(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||Fr(T.h,h))){if(!h.L&&Fr(T.h,h)&&T.I==3){try{var A=T.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)so(T),Ji(T);else break e;ia(T),Vt(18)}}else T.xa=G[1],0<T.xa-T.K&&G[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Vr(m(T.Va,T),6e3));zr(T.h)<=1&&T.ta&&(T.ta=void 0)}else Yr(T,11)}else if((h.L||T.g==h)&&so(T),!N(_))for(G=T.Ba.g.parse(_),_=0;_<G.length;_++){let it=G[_];const Tt=it[0];if(!(Tt<=T.K))if(T.K=Tt,it=it[1],T.I==2)if(it[0]=="c"){T.M=it[1],T.ba=it[2];const Zn=it[3];Zn!=null&&(T.ka=Zn,T.j.info("VER="+T.ka));const Qr=it[4];Qr!=null&&(T.za=Qr,T.j.info("SVER="+T.za));const vr=it[5];vr!=null&&typeof vr=="number"&&vr>0&&(A=1.5*vr,T.O=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const _r=h.g;if(_r){const sa=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sa){var J=A.h;J.g||sa.indexOf("spdy")==-1&&sa.indexOf("quic")==-1&&sa.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Sl(J,J.h),J.h=null))}if(A.G){const ao=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(A.wa=ao,lt(A.J,A.G,ao))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),A=T;var de=h;if(A.na=Vc(A,A.L?A.ba:null,A.W),de.L){wl(A.h,de);var Ve=de,Nt=A.O;Nt&&(Ve.H=Nt),Ve.D&&(qr(Ve),Ur(Ve)),A.g=de}else Oc(A);T.i.length>0&&Wr(T)}else it[0]!="stop"&&it[0]!="close"||Yr(T,7);else T.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Yr(T,7):Ml(T):it[0]!="noop"&&T.l&&T.l.qa(it),T.A=0)}}Mr(4)}catch{}}var Lt=class{constructor(h,_){this.g=h,this.map=_}};function Tl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function zr(h){return h.h?1:h.g?h.g.size:0}function Fr(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Sl(h,_){h.g?h.g.add(_):h.h=_}function wl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Tl.prototype.cancel=function(){if(this.i=Al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Al(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return S(h.i)}var wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ja(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const A=h[T].indexOf("=");let G,J=null;A>=0?(G=h[T].substring(0,A),J=h[T].substring(A+1)):G=h[T],_(G,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Vn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Vn?(this.l=h.l,tn(this,h.j),this.o=h.o,this.g=h.g,Gi(this,h.u),this.h=h.h,Rl(this,Ic(h.i)),this.m=h.m):h&&(_=String(h).match(wc))?(this.l=!1,tn(this,_[1]||"",!0),this.o=Hr(_[2]||""),this.g=Hr(_[3]||"",!0),Gi(this,_[4]),this.h=Hr(_[5]||"",!0),Rl(this,_[6]||"",!0),this.m=Hr(_[7]||"")):(this.l=!1,this.i=new Ki(null,this.l))}Vn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Js(_,Za,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Js(_,Za,!0),"@"),h.push(ci(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Js(T,T.charAt(0)=="/"?Cl:Ac,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Js(T,Rc)),h.join("")},Vn.prototype.resolve=function(h){const _=Ut(this);let T=!!h.j;T?tn(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var A=h.h;if(T)Gi(_,h.u);else if(T=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var G=_.h.lastIndexOf("/");G!=-1&&(A=_.h.slice(0,G+1)+A)}if(G=A,G==".."||G==".")A="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){A=G.lastIndexOf("/",0)==0,G=G.split("/");const J=[];for(let de=0;de<G.length;){const Ve=G[de++];Ve=="."?A&&de==G.length&&J.push(""):Ve==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),A&&de==G.length&&J.push("")):(J.push(Ve),A=!0)}A=J.join("/")}else A=G}return T?_.h=A:T=h.i.toString()!=="",T?Rl(_,Ic(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Ut(h){return new Vn(h)}function tn(h,_,T){h.j=T?Hr(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Gi(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Rl(h,_,T){_ instanceof Ki?(h.i=_,to(h.i,h.l)):(T||(_=Js(_,$i)),h.i=new Ki(_,h.l))}function lt(h,_,T){h.i.set(_,T)}function Xs(h){return lt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Hr(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Js(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,wn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function wn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Za=/[#\/\?@]/g,Ac=/[#\?:]/g,Cl=/[#\?]/g,$i=/[#\?@]/g,Rc=/#/g;function Ki(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function An(h){h.g||(h.g=new Map,h.h=0,h.i&&Ja(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}r=Ki.prototype,r.add=function(h,_){An(this),this.i=null,h=Wi(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function Cc(h,_){An(h),_=Wi(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Il(h,_){return An(h),_=Wi(h,_),h.g.has(_)}r.forEach=function(h,_){An(this),this.g.forEach(function(T,A){T.forEach(function(G){h.call(_,G,A,this)},this)},this)};function Nl(h,_){An(h);let T=[];if(typeof _=="string")Il(h,_)&&(T=T.concat(h.g.get(Wi(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}r.set=function(h,_){return An(this),this.i=null,h=Wi(this,h),Il(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},r.get=function(h,_){return h?(h=Nl(this,h),h.length>0?String(h[0]):_):_};function eo(h,_,T){Cc(h,_),T.length>0&&(h.i=null,h.g.set(Wi(h,_),S(T)),h.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var T=_[A];const G=ci(T);T=Nl(this,T);for(let J=0;J<T.length;J++){let de=G;T[J]!==""&&(de+="="+ci(T[J])),h.push(de)}}return this.i=h.join("&")};function Ic(h){const _=new Ki;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Wi(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function to(h,_){_&&!h.j&&(An(h),h.i=null,h.g.forEach(function(T,A){const G=A.toLowerCase();A!=G&&(Cc(this,A),eo(this,G,T))},h)),h.j=_}function mr(h,_){const T=new dr;if(c.Image){const A=new Image;A.onload=v(Xn,T,"TestLoadImage: loaded",!0,_,A),A.onerror=v(Xn,T,"TestLoadImage: error",!1,_,A),A.onabort=v(Xn,T,"TestLoadImage: abort",!1,_,A),A.ontimeout=v(Xn,T,"TestLoadImage: timeout",!1,_,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function Ol(h,_){const T=new dr,A=new AbortController,G=setTimeout(()=>{A.abort(),Xn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then(J=>{clearTimeout(G),J.ok?Xn(T,"TestPingServer: ok",!0,_):Xn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Xn(T,"TestPingServer: error",!1,_)})}function Xn(h,_,T,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(T)}catch{}}function Yi(){this.g=new Gs}function Gr(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Gr,Wa),Gr.prototype.g=function(){return new Zs(this.i,this.h)};function Zs(h,_){mt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Zs,mt),r=Zs.prototype,r.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,gr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qi(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;no(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function no(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Qi(this):gr(this),this.readyState==3&&no(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,Qi(this))},r.Na=function(h){this.g&&(this.response=h,Qi(this))},r.ga=function(){this.g&&Qi(this)};function Qi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,gr(h)}r.setRequestHeader=function(h,_){this.A.append(h,_)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function gr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Jn(h){let _="";return Le(h,function(T,A){_+=A,_+=":",_+=T,_+=`\r
`}),_}function ea(h,_,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=Jn(T),typeof h=="string"?T!=null&&ci(T):lt(h,_,T))}function ht(h){mt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ht,mt);var $r=/^https?$/i,Dl=["POST","PUT"];r=ht.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,_,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():El.g(),this.g.onreadystatechange=x(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(J){ta(this,J);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)T.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const J of A.keys())T.set(J,A.get(J));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Dl,_,void 0)>=0)||A||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,de]of T)this.g.setRequestHeader(J,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){ta(this,J)}};function ta(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,kl(h),hi(h)}function kl(h){h.A||(h.A=!0,Ct(h,"complete"),Ct(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ct(this,"complete"),Ct(this,"abort"),hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),ht.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?na(this):this.Xa())},r.Xa=function(){na(this)};function na(h){if(h.h&&typeof l<"u"){if(h.v&&yr(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ct(h,"readystatechange"),yr(h)==4){h.h=!1;try{const J=h.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var A;if(A=J===0){let de=String(h.D).match(wc)[1]||null;!de&&c.self&&c.self.location&&(de=c.self.location.protocol.slice(0,-1)),A=!$r.test(de?de.toLowerCase():"")}T=A}if(T)Ct(h,"complete"),Ct(h,"success");else{h.o=6;try{var G=yr(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",kl(h)}}finally{hi(h)}}}}function hi(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||Ct(h,"ready");try{T.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function yr(h){return h.g?h.g.readyState:0}r.ca=function(){try{return yr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Ka(_)}};function sn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function di(h){const _={};h=(h.g&&yr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(N(h[A]))continue;var T=Tc(h[A]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=_[G]||[];_[G]=J,J.push(T)}Fe(_,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kr(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Xi(h){this.za=0,this.i=[],this.j=new dr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Kr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Kr("baseRetryDelayMs",5e3,h),this.Za=Kr("retryDelaySeedMs",1e4,h),this.Ta=Kr("forwardChannelMaxRetries",2,h),this.va=Kr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Tl(h&&h.concurrentRequestLimit),this.Ba=new Yi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Xi.prototype,r.ka=8,r.I=1,r.connect=function(h,_,T,A){Vt(0),this.W=h,this.H=_||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.J=Vc(this,null,this.W),Wr(this)};function Ml(h){if(ro(h),h.I==3){var _=h.V++,T=Ut(h.J);if(lt(T,"SID",h.M),lt(T,"RID",_),lt(T,"TYPE","terminate"),ra(h,T),_=new fr(h,h.j,_),_.M=2,_.A=Xs(Ut(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=Pc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ur(_)}jc(h)}function Ji(h){h.g&&(Vl(h),h.g.cancel(),h.g=null)}function ro(h){Ji(h),h.v&&(c.clearTimeout(h.v),h.v=null),so(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Wr(h){if(!xl(h.h)&&!h.m){h.m=!0;var _=h.Ea;ce||C(),oe||(ce(),oe=!0),I.add(_,h),h.D=0}}function io(h,_){return zr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Vr(m(h.Ea,h,_),Mc(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new fr(this,this.j,h);let J=this.o;if(this.U&&(J?(J=U(J),ue(J,this.U)):J=this.U),this.u!==null||this.R||(G.J=J,J=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Nc(this,G,_),T=Ut(this.J),lt(T,"RID",h),lt(T,"CVER",22),this.G&&lt(T,"X-HTTP-Session-Id",this.G),ra(this,T),J&&(this.R?_="headers="+ci(Jn(J))+"&"+_:this.u&&ea(T,this.u,J)),Sl(this.h,G),this.Ra&&lt(T,"TYPE","init"),this.S?(lt(T,"$req",_),lt(T,"SID","null"),G.U=!0,Lr(G,T,null)):Lr(G,T,_),this.I=2}}else this.I==3&&(h?jl(this,h):this.i.length==0||xl(this.h)||jl(this))};function jl(h,_){var T;_?T=_.l:T=h.V++;const A=Ut(h.J);lt(A,"SID",h.M),lt(A,"RID",T),lt(A,"AID",h.K),ra(h,A),h.u&&h.o&&ea(A,h.u,h.o),T=new fr(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Nc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Sl(h.h,T),Lr(T,A,_)}function ra(h,_){h.H&&Le(h.H,function(T,A){lt(_,A,T)}),h.l&&Le({},function(T,A){lt(_,A,T)})}function Nc(h,_,T){T=Math.min(h.i.length,T);const A=h.l?m(h.l.Ka,h.l,h):null;e:{var G=h.i;let Ve=-1;for(;;){const Nt=["count="+T];Ve==-1?T>0?(Ve=G[0].g,Nt.push("ofs="+Ve)):Ve=0:Nt.push("ofs="+Ve);let it=!0;for(let Tt=0;Tt<T;Tt++){var J=G[Tt].g;const Zn=G[Tt].map;if(J-=Ve,J<0)Ve=Math.max(0,G[Tt].g-100),it=!1;else try{J="req"+J+"_"||"";try{var de=Zn instanceof Map?Zn:Object.entries(Zn);for(const[Qr,vr]of de){let _r=vr;d(vr)&&(_r=En(vr)),Nt.push(J+Qr+"="+encodeURIComponent(_r))}}catch(Qr){throw Nt.push(J+"type="+encodeURIComponent("_badmap")),Qr}}catch{A&&A(Zn)}}if(it){de=Nt.join("&");break e}}de=void 0}return h=h.i.splice(0,T),_.G=h,de}function Oc(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ce||C(),oe||(ce(),oe=!0),I.add(_,h),h.A=0}}function ia(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Vr(m(h.Da,h),Mc(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,Dc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Vr(m(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),Ji(this),Dc(this))};function Vl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Dc(h){h.g=new fr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ut(h.na);lt(_,"RID","rpc"),lt(_,"SID",h.M),lt(_,"AID",h.K),lt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&lt(_,"TO",h.ia),lt(_,"TYPE","xmlhttp"),ra(h,_),h.u&&h.o&&ea(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Xs(Ut(_)),T.u=null,T.R=!0,Qa(T,h)}r.Va=function(){this.C!=null&&(this.C=null,Ji(this),ia(this),Vt(19))};function so(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function kc(h,_){var T=null;if(h.g==_){so(h),Vl(h),h.g=null;var A=2}else if(Fr(h.h,_))T=_.G,wl(h.h,_),A=1;else return;if(h.I!=0){if(_.o)if(A==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var G=h.D;A=Ya(),Ct(A,new jr(A,T)),Wr(h)}else Oc(h);else if(G=_.m,G==3||G==0&&_.X>0||!(A==1&&io(h,_)||A==2&&ia(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),G){case 1:Yr(h,5);break;case 4:Yr(h,10);break;case 3:Yr(h,6);break;default:Yr(h,2)}}}function Mc(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function Yr(h,_){if(h.j.info("Error code "+_),_==2){var T=m(h.bb,h),A=h.Ua;const G=!A;A=new Vn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||tn(A,"https"),Xs(A),G?mr(A.toString(),T):Ol(A.toString(),T)}else Vt(2);h.I=0,h.l&&h.l.pa(_),jc(h),ro(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function jc(h){if(h.I=0,h.ja=[],h.l){const _=Al(h.h);(_.length!=0||h.i.length!=0)&&(M(h.ja,_),M(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function Vc(h,_,T){var A=T instanceof Vn?Ut(T):new Vn(T);if(A.g!="")_&&(A.g=_+"."+A.g),Gi(A,A.u);else{var G=c.location;A=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const J=new Vn(null);A&&tn(J,A),_&&(J.g=_),G&&Gi(J,G),T&&(J.h=T),A=J}return T=h.G,_=h.wa,T&&_&&lt(A,T,_),lt(A,"VER",h.ka),ra(h,A),A}function Pc(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new ht(new Gr({ab:T})):new ht(h.ma),_.Fa(h.L),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lc(){}r=Lc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Zi(){}Zi.prototype.g=function(h,_){return new Tn(h,_)};function Tn(h,_){mt.call(this),this.g=new Xi(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!N(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new fi(this)}b(Tn,mt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Ml(this.g)},Tn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=En(h),h=T);_.i.push(new Lt(_.Ya++,h)),_.I==3&&Wr(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,Tn.Z.N.call(this)};function Uc(h){vt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(Uc,vt);function qc(){Yn.call(this),this.status=1}b(qc,Yn);function fi(h){this.g=h}b(fi,Lc),fi.prototype.ra=function(){Ct(this.g,"a")},fi.prototype.qa=function(h){Ct(this.g,new Uc(h))},fi.prototype.pa=function(h){Ct(this.g,new qc)},fi.prototype.oa=function(){Ct(this.g,"b")},Zi.prototype.createWebChannel=Zi.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,zN=function(){return new Zi},BN=function(){return Ya()},qN=It,t0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,ad=Ys,bl.COMPLETE="complete",UN=bl,$s.EventType=jt,jt.OPEN="a",jt.CLOSE="b",jt.ERROR="c",jt.MESSAGE="d",mt.prototype.listen=mt.prototype.J,Ou=$s,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,LN=ht}).apply(typeof $h<"u"?$h:typeof self<"u"?self:typeof window<"u"?window:{});class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let fl="12.8.0";function l7(r){fl=r}const Pa=new X0("@firebase/firestore");function Po(){return Pa.logLevel}function ge(r,...e){if(Pa.logLevel<=Qe.DEBUG){const t=e.map(hb);Pa.debug(`Firestore (${fl}): ${r}`,...t)}}function Ui(r,...e){if(Pa.logLevel<=Qe.ERROR){const t=e.map(hb);Pa.error(`Firestore (${fl}): ${r}`,...t)}}function Jo(r,...e){if(Pa.logLevel<=Qe.WARN){const t=e.map(hb);Pa.warn(`Firestore (${fl}): ${r}`,...t)}}function hb(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function we(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,FN(r,i,t)}function FN(r,e,t){let i=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ui(i),new Error(i)}function at(r,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,r||FN(e,a,i)}function Me(r,e){return r}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class HN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(vn.UNAUTHENTICATED)))}shutdown(){}}class c7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class h7{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){at(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mi,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mi)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(at(typeof i.accessToken=="string",31837,{l:i}),new HN(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class d7{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class f7{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new d7(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class NR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p7{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){at(this.o===void 0,3512);const i=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new NR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(at(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new NR(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function m7(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class db{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=m7(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Xe(r,e){return r<e?-1:r>e?1:0}function n0(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const a=r.charAt(i),l=e.charAt(i);if(a!==l)return Uv(a)===Uv(l)?Xe(a,l):Uv(a)?1:-1}return Xe(r.length,e.length)}const g7=55296,y7=57343;function Uv(r){const e=r.charCodeAt(0);return e>=g7&&e<=y7}function Zo(r,e,t){return r.length===e.length&&r.every(((i,a)=>t(i,e[a])))}const OR="__name__";class ti{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&we(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=ti.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Xe(e.length,t.length)}static compareSegments(e,t){const i=ti.isNumericId(e),a=ti.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ti.extractNumericId(e).compare(ti.extractNumericId(t)):n0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class yt extends ti{construct(e,t,i){return new yt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new yt(t)}static emptyPath(){return new yt([])}}const v7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends ti{construct(e,t,i){return new hn(e,t,i)}static isValidIdentifier(e){return v7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OR}static keyField(){return new hn([OR])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(t)}static emptyPath(){return new hn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(yt.fromString(e))}static fromName(e){return new Te(yt.fromString(e).popFirst(5))}static empty(){return new Te(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new yt(e.slice()))}}function GN(r,e,t){if(!t)throw new me(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _7(r,e,t,i){if(e===!0&&i===!0)throw new me(ie.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function DR(r){if(!Te.isDocumentKey(r))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function kR(r){if(Te.isDocumentKey(r))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function $N(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ff(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function qi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ff(r);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function b7(r,e){if(e<=0)throw new me(ie.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function $t(r,e){const t={typeString:r};return e&&(t.value=e),t}function fc(r,e){if(!$N(r))throw new me(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const c=r[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new me(ie.INVALID_ARGUMENT,t);return!0}const MR=-62135596800,jR=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*jR);return new Et(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<MR)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jR}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fc(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-MR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:$t("string",Et._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new Et(0,0))}static max(){return new De(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wu=-1;function E7(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=De.fromTimestamp(i===1e9?new Et(t+1,0):new Et(t,i));return new Ps(a,Te.empty(),e)}function T7(r){return new Ps(r.readTime,r.key,Wu)}class Ps{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ps(De.min(),Te.empty(),Wu)}static max(){return new Ps(De.max(),Te.empty(),Wu)}}function x7(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(r.documentKey,e.documentKey),t!==0?t:Xe(r.largestBatchId,e.largestBatchId))}const S7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function pl(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==S7)throw r;ge("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ae.reject(t)}static resolve(e){return new ae(((t,i)=>{t(e)}))}static reject(e){return new ae(((t,i)=>{i(e)}))}static waitFor(e){return new ae(((t,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(p=>i(p)))})),c=!0,l===a&&t()}))}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next((a=>a?ae.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new ae(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next((v=>{c[m]=v,++d,d===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new ae(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}function A7(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ml(r){return r.name==="IndexedDbTransactionError"}class pf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pf.ce=-1;const fb=-1;function mf(r){return r==null}function Sd(r){return r===0&&1/r==-1/0}function R7(r){return typeof r=="number"&&Number.isInteger(r)&&!Sd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const KN="";function C7(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=VR(e)),e=I7(r.get(t),e);return VR(e)}function I7(r,e){let t=e;const i=r.length;for(let a=0;a<i;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case KN:t+="";break;default:t+=l}}return t}function VR(r){return r+KN+""}function PR(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Fa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function WN(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class wt{constructor(e,t){this.comparator=e,this.root=t||cn.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kh(this.root,e,this.comparator,!0)}}class Kh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new cn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LR(this.data.getIterator())}getIteratorFrom(e){return new LR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Zt(this.comparator);return t.data=e,t}}class LR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ar{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Ar([])}unionWith(e){let t=new Zt(hn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ar(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class YN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new YN("Invalid base64 string: "+l):l}})(e);return new fn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const N7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(r){if(at(!!r,39018),typeof r=="string"){let e=0;const t=N7.exec(r);if(at(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Us(r){return typeof r=="string"?fn.fromBase64String(r):fn.fromUint8Array(r)}const QN="server_timestamp",XN="__type__",JN="__previous_value__",ZN="__local_write_time__";function pb(r){return(r?.mapValue?.fields||{})[XN]?.stringValue===QN}function gf(r){const e=r.mapValue.fields[JN];return pb(e)?gf(e):e}function Yu(r){const e=Ls(r.mapValue.fields[ZN].timestampValue);return new Et(e.seconds,e.nanos)}class O7{constructor(e,t,i,a,l,c,d,p,m,v,b){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=v,this.apiKey=b}}const wd="(default)";class Qu{constructor(e,t){this.projectId=e,this.database=t||wd}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database===wd}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}function D7(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(r.options.projectId,e)}const eO="__type__",k7="__max__",Wh={mapValue:{}},tO="__vector__",Ad="value";function qs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pb(r)?4:j7(r)?9007199254740991:M7(r)?10:11:we(28295,{value:r})}function li(r,e){if(r===e)return!0;const t=qs(r);if(t!==qs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yu(r).isEqual(Yu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ls(a.timestampValue),d=Ls(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return Us(a.bytesValue).isEqual(Us(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return kt(a.geoPointValue.latitude)===kt(l.geoPointValue.latitude)&&kt(a.geoPointValue.longitude)===kt(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return kt(a.integerValue)===kt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=kt(a.doubleValue),d=kt(l.doubleValue);return c===d?Sd(c)===Sd(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return Zo(r.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(PR(c)!==PR(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!li(c[p],d[p])))return!1;return!0})(r,e);default:return we(52216,{left:r})}}function Xu(r,e){return(r.values||[]).find((t=>li(t,e)))!==void 0}function el(r,e){if(r===e)return 0;const t=qs(r),i=qs(e);if(t!==i)return Xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=kt(l.integerValue||l.doubleValue),p=kt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(r,e);case 3:return UR(r.timestampValue,e.timestampValue);case 4:return UR(Yu(r),Yu(e));case 5:return n0(r.stringValue,e.stringValue);case 6:return(function(l,c){const d=Us(l),p=Us(c);return d.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const v=Xe(d[m],p[m]);if(v!==0)return v}return Xe(d.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Xe(kt(l.latitude),kt(c.latitude));return d!==0?d:Xe(kt(l.longitude),kt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return qR(r.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},m=d[Ad]?.arrayValue,v=p[Ad]?.arrayValue,b=Xe(m?.values?.length||0,v?.values?.length||0);return b!==0?b:qR(m,v)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Wh.mapValue&&c===Wh.mapValue)return 0;if(l===Wh.mapValue)return 1;if(c===Wh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=c.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const x=n0(p[b],v[b]);if(x!==0)return x;const S=el(d[p[b]],m[v[b]]);if(S!==0)return S}return Xe(p.length,v.length)})(r.mapValue,e.mapValue);default:throw we(23264,{he:t})}}function UR(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Xe(r,e);const t=Ls(r),i=Ls(e),a=Xe(t.seconds,i.seconds);return a!==0?a:Xe(t.nanos,i.nanos)}function qR(r,e){const t=r.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=el(t[a],i[a]);if(l)return l}return Xe(t.length,i.length)}function tl(r){return r0(r)}function r0(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=Ls(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Us(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Te.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=r0(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${r0(t.fields[c])}`;return a+"}"})(r.mapValue):we(61005,{value:r})}function od(r){switch(qs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gf(r);return e?16+od(e):16;case 5:return 2*r.stringValue.length;case 6:return Us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+od(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let a=0;return Fa(i.fields,((l,c)=>{a+=l.length+od(c)})),a})(r.mapValue);default:throw we(13486,{value:r})}}function BR(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function i0(r){return!!r&&"integerValue"in r}function mb(r){return!!r&&"arrayValue"in r}function zR(r){return!!r&&"nullValue"in r}function FR(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ld(r){return!!r&&"mapValue"in r}function M7(r){return(r?.mapValue?.fields||{})[eO]?.stringValue===tO}function Uu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Fa(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Uu(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uu(r.arrayValue.values[t]);return e}return{...r}}function j7(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===k7}class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ld(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(t)}setAll(e){let t=hn.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=Uu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());ld(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];ld(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Fa(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new lr(Uu(this.value))}}function nO(r){const e=[];return Fa(r.fields,((t,i)=>{const a=new hn([t]);if(ld(i)){const l=nO(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Ar(e)}class _n{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new _n(e,0,De.min(),De.min(),De.min(),lr.empty(),0)}static newFoundDocument(e,t,i,a){return new _n(e,1,t,De.min(),i,a,0)}static newNoDocument(e,t){return new _n(e,2,t,De.min(),De.min(),lr.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,De.min(),De.min(),lr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rd{constructor(e,t){this.position=e,this.inclusive=t}}function HR(r,e,t){let i=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?i=Te.comparator(Te.fromName(c.referenceValue),t.key):i=el(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function GR(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!li(r.position[t],e.position[t]))return!1;return!0}class Ju{constructor(e,t="asc"){this.field=e,this.dir=t}}function V7(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class rO{}class Gt extends rO{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new L7(e,t,i):t==="array-contains"?new B7(e,i):t==="in"?new z7(e,i):t==="not-in"?new F7(e,i):t==="array-contains-any"?new H7(e,i):new Gt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new U7(e,i):new q7(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(el(t,this.value)):t!==null&&qs(this.value)===qs(t)&&this.matchesComparison(el(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends rO{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Or(e,t)}matches(e){return iO(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iO(r){return r.op==="and"}function sO(r){return P7(r)&&iO(r)}function P7(r){for(const e of r.filters)if(e instanceof Or)return!1;return!0}function s0(r){if(r instanceof Gt)return r.field.canonicalString()+r.op.toString()+tl(r.value);if(sO(r))return r.filters.map((e=>s0(e))).join(",");{const e=r.filters.map((t=>s0(t))).join(",");return`${r.op}(${e})`}}function aO(r,e){return r instanceof Gt?(function(i,a){return a instanceof Gt&&i.op===a.op&&i.field.isEqual(a.field)&&li(i.value,a.value)})(r,e):r instanceof Or?(function(i,a){return a instanceof Or&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&aO(c,a.filters[d])),!0):!1})(r,e):void we(19439)}function oO(r){return r instanceof Gt?(function(t){return`${t.field.canonicalString()} ${t.op} ${tl(t.value)}`})(r):r instanceof Or?(function(t){return t.op.toString()+" {"+t.getFilters().map(oO).join(" ,")+"}"})(r):"Filter"}class L7 extends Gt{constructor(e,t,i){super(e,t,i),this.key=Te.fromName(i.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class U7 extends Gt{constructor(e,t){super(e,"in",t),this.keys=lO("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class q7 extends Gt{constructor(e,t){super(e,"not-in",t),this.keys=lO("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function lO(r,e){return(e.arrayValue?.values||[]).map((t=>Te.fromName(t.referenceValue)))}class B7 extends Gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mb(t)&&Xu(t.arrayValue,this.value)}}class z7 extends Gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xu(this.value.arrayValue,t)}}class F7 extends Gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xu(this.value.arrayValue,t)}}class H7 extends Gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mb(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Xu(this.value.arrayValue,i)))}}class G7{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function $R(r,e=null,t=[],i=[],a=null,l=null,c=null){return new G7(r,e,t,i,a,l,c)}function gb(r){const e=Me(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>s0(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),mf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>tl(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>tl(i))).join(",")),e.Te=t}return e.Te}function yb(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!V7(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!aO(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!GR(r.startAt,e.startAt)&&GR(r.endAt,e.endAt)}function a0(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class gl{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function $7(r,e,t,i,a,l,c,d){return new gl(r,e,t,i,a,l,c,d)}function vb(r){return new gl(r)}function KR(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function K7(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function uO(r){return r.collectionGroup!==null}function qu(r){const e=Me(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Zt(hn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Ju(l,i))})),t.has(hn.keyField().canonicalString())||e.Ie.push(new Ju(hn.keyField(),i))}return e.Ie}function ii(r){const e=Me(r);return e.Ee||(e.Ee=W7(e,qu(r))),e.Ee}function W7(r,e){if(r.limitType==="F")return $R(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Ju(a.field,l)}));const t=r.endAt?new Rd(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Rd(r.startAt.position,r.startAt.inclusive):null;return $R(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function o0(r,e){const t=r.filters.concat([e]);return new gl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Y7(r,e){const t=r.explicitOrderBy.concat([e]);return new gl(r.path,r.collectionGroup,t,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Cd(r,e,t){return new gl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function yf(r,e){return yb(ii(r),ii(e))&&r.limitType===e.limitType}function cO(r){return`${gb(ii(r))}|lt:${r.limitType}`}function Lo(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>oO(a))).join(", ")}]`),mf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>tl(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>tl(a))).join(",")),`Target(${i})`})(ii(r))}; limitType=${r.limitType})`}function vf(r,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Te.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,a){for(const l of qu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,p){const m=HR(c,d,p);return c.inclusive?m<=0:m<0})(i.startAt,qu(i),a)||i.endAt&&!(function(c,d,p){const m=HR(c,d,p);return c.inclusive?m>=0:m>0})(i.endAt,qu(i),a))})(r,e)}function Q7(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function hO(r){return(e,t)=>{let i=!1;for(const a of qu(r)){const l=X7(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function X7(r,e,t){const i=r.field.isKeyField()?Te.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),m=d.data.field(l);return p!==null&&m!==null?el(p,m):we(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:r.dir})}}class Ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Fa(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return WN(this.inner)}size(){return this.innerSize}}const J7=new wt(Te.comparator);function Bi(){return J7}const dO=new wt(Te.comparator);function Du(...r){let e=dO;for(const t of r)e=e.insert(t.key,t);return e}function fO(r){let e=dO;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function wa(){return Bu()}function pO(){return Bu()}function Bu(){return new Ha((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Z7=new wt(Te.comparator),e8=new Zt(Te.comparator);function Je(...r){let e=e8;for(const t of r)e=e.add(t);return e}const t8=new Zt(Xe);function n8(){return t8}function _b(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sd(e)?"-0":e}}function mO(r){return{integerValue:""+r}}function r8(r,e){return R7(e)?mO(e):_b(r,e)}class _f{constructor(){this._=void 0}}function i8(r,e,t){return r instanceof Id?(function(a,l){const c={fields:{[XN]:{stringValue:QN},[ZN]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&pb(l)&&(l=gf(l)),l&&(c.fields[JN]=l),{mapValue:c}})(t,e):r instanceof Zu?yO(r,e):r instanceof ec?vO(r,e):(function(a,l){const c=gO(a,l),d=WR(c)+WR(a.Ae);return i0(c)&&i0(a.Ae)?mO(d):_b(a.serializer,d)})(r,e)}function s8(r,e,t){return r instanceof Zu?yO(r,e):r instanceof ec?vO(r,e):t}function gO(r,e){return r instanceof Nd?(function(i){return i0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Id extends _f{}class Zu extends _f{constructor(e){super(),this.elements=e}}function yO(r,e){const t=_O(e);for(const i of r.elements)t.some((a=>li(a,i)))||t.push(i);return{arrayValue:{values:t}}}class ec extends _f{constructor(e){super(),this.elements=e}}function vO(r,e){let t=_O(e);for(const i of r.elements)t=t.filter((a=>!li(a,i)));return{arrayValue:{values:t}}}class Nd extends _f{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function WR(r){return kt(r.integerValue||r.doubleValue)}function _O(r){return mb(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function a8(r,e){return r.field.isEqual(e.field)&&(function(i,a){return i instanceof Zu&&a instanceof Zu||i instanceof ec&&a instanceof ec?Zo(i.elements,a.elements,li):i instanceof Nd&&a instanceof Nd?li(i.Ae,a.Ae):i instanceof Id&&a instanceof Id})(r.transform,e.transform)}class o8{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ud(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bf{}function bO(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new bb(r.key,Cr.none()):new pc(r.key,r.data,Cr.none());{const t=r.data,i=lr.empty();let a=new Zt(hn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ga(r.key,i,new Ar(a.toArray()),Cr.none())}}function l8(r,e,t){r instanceof pc?(function(a,l,c){const d=a.value.clone(),p=QR(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,t):r instanceof Ga?(function(a,l,c){if(!ud(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=QR(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(EO(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function zu(r,e,t,i){return r instanceof pc?(function(l,c,d,p){if(!ud(l.precondition,c))return d;const m=l.value.clone(),v=XR(l.fieldTransforms,p,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(r,e,t,i):r instanceof Ga?(function(l,c,d,p){if(!ud(l.precondition,c))return d;const m=XR(l.fieldTransforms,p,c),v=c.data;return v.setAll(EO(l)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(r,e,t,i):(function(l,c,d){return ud(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,t)}function u8(r,e){let t=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),l=gO(i.transform,a||null);l!=null&&(t===null&&(t=lr.empty()),t.set(i.field,l))}return t||null}function YR(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Zo(i,a,((l,c)=>a8(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class pc extends bf{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ga extends bf{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function EO(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function QR(r,e,t){const i=new Map;at(r.length===t.length,32656,{Ve:t.length,de:r.length});for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,s8(c,d,t[a]))}return i}function XR(r,e,t){const i=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);i.set(a.field,i8(l,c,e))}return i}class bb extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c8 extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class h8{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&l8(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=zu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=zu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=pO();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=bO(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(De.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Je())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,((t,i)=>YR(t,i)))&&Zo(this.baseMutations,e.baseMutations,((t,i)=>YR(t,i)))}}class Eb{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){at(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return Z7})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Eb(e,t,i,a)}}class d8{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class f8{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ht,tt;function p8(r){switch(r){case ie.OK:return we(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function TO(r){if(r===void 0)return Ui("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Ht.OK:return ie.OK;case Ht.CANCELLED:return ie.CANCELLED;case Ht.UNKNOWN:return ie.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return ie.INTERNAL;case Ht.UNAVAILABLE:return ie.UNAVAILABLE;case Ht.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Ht.NOT_FOUND:return ie.NOT_FOUND;case Ht.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Ht.ABORTED:return ie.ABORTED;case Ht.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Ht.DATA_LOSS:return ie.DATA_LOSS;default:return we(39323,{code:r})}}(tt=Ht||(Ht={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";function m8(){return new TextEncoder}const g8=new ks([4294967295,4294967295],0);function JR(r){const e=m8().encode(r),t=new PN;return t.update(e),new Uint8Array(t.digest())}function ZR(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ks([t,i],0),new ks([a,l],0)]}class Tb{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ku(`Invalid padding: ${t}`);if(i<0)throw new ku(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ku(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ku(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ks.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(ks.fromNumber(i)));return a.compare(g8)===1&&(a=new ks([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=JR(e),[i,a]=ZR(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Tb(l,a,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=JR(e),[i,a]=ZR(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ef{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ef(De.min(),a,new wt(Xe),Bi(),Je())}}class mc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new mc(i,t,Je(),Je(),Je())}}class cd{constructor(e,t,i,a){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=a}}class xO{constructor(e,t){this.targetId=e,this.Ce=t}}class SO{constructor(e,t,i=fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class eC{constructor(){this.ve=0,this.Fe=tC(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),t=Je(),i=Je();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:we(38017,{changeType:l})}})),new mc(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=tC()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class y8{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bi(),this.He=Yh(),this.Je=Yh(),this.Ze=new wt(Xe)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(a0(l))if(i===0){const c=new Te(l.path);this.et(t,c,_n.newNoDocument(c,De.min()))}else at(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Us(i).toUint8Array()}catch(p){if(p instanceof YN)return Jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Tb(c,a,l)}catch(p){return Jo(p instanceof ku?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&a0(d.target)){const p=new Te(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,_n.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let i=Je();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Ef(e,t,this.Ze,this.je,i);return this.je=Bi(),this.He=Yh(),this.Je=Yh(),this.Ze=new wt(Xe),a}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new eC,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Zt(Xe),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Zt(Xe),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eC),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Yh(){return new wt(Te.comparator)}function tC(){return new wt(Te.comparator)}const v8={asc:"ASCENDING",desc:"DESCENDING"},_8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b8={and:"AND",or:"OR"};class E8{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function l0(r,e){return r.useProto3Json||mf(e)?e:{value:e}}function Od(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wO(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function T8(r,e){return Od(r,e.toTimestamp())}function si(r){return at(!!r,49232),De.fromTimestamp((function(t){const i=Ls(t);return new Et(i.seconds,i.nanos)})(r))}function xb(r,e){return u0(r,e).canonicalString()}function u0(r,e){const t=(function(a){return new yt(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function AO(r){const e=yt.fromString(r);return at(OO(e),10190,{key:e.toString()}),e}function c0(r,e){return xb(r.databaseId,e.path)}function qv(r,e){const t=AO(e);if(t.get(1)!==r.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Te(CO(t))}function RO(r,e){return xb(r.databaseId,e)}function x8(r){const e=AO(r);return e.length===4?yt.emptyPath():CO(e)}function h0(r){return new yt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function CO(r){return at(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function nC(r,e,t){return{name:c0(r,e),fields:t.value.mapValue.fields}}function S8(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:we(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,v){return m.useProto3Json?(at(v===void 0||typeof v=="string",58123),fn.fromBase64String(v||"")):(at(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),fn.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(m){const v=m.code===void 0?ie.UNKNOWN:TO(m.code);return new me(v,m.message||"")})(c);t=new SO(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=qv(r,i.document.name),l=si(i.document.updateTime),c=i.document.createTime?si(i.document.createTime):De.min(),d=new lr({mapValue:{fields:i.document.fields}}),p=_n.newFoundDocument(a,l,c,d),m=i.targetIds||[],v=i.removedTargetIds||[];t=new cd(m,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=qv(r,i.document),l=i.readTime?si(i.readTime):De.min(),c=_n.newNoDocument(a,l),d=i.removedTargetIds||[];t=new cd([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=qv(r,i.document),l=i.removedTargetIds||[];t=new cd([],l,a,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new f8(a,l),d=i.targetId;t=new xO(d,c)}}return t}function w8(r,e){let t;if(e instanceof pc)t={update:nC(r,e.key,e.value)};else if(e instanceof bb)t={delete:c0(r,e.key)};else if(e instanceof Ga)t={update:nC(r,e.key,e.data),updateMask:M8(e.fieldMask)};else{if(!(e instanceof c8))return we(16599,{dt:e.type});t={verify:c0(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof Id)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Zu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ec)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Nd)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw we(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:T8(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)})(r,e.precondition)),t}function A8(r,e){return r&&r.length>0?(at(e!==void 0,14353),r.map((t=>(function(a,l){let c=a.updateTime?si(a.updateTime):si(l);return c.isEqual(De.min())&&(c=si(l)),new o8(c,a.transformResults||[])})(t,e)))):[]}function R8(r,e){return{documents:[RO(r,e.path)]}}function C8(r,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=RO(r,a);const l=(function(m){if(m.length!==0)return NO(Or.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((v=>(function(x){return{field:Uo(x.field),direction:O8(x.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=l0(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function I8(r){let e=x8(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){at(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(b){const x=IO(b);return x instanceof Or&&sO(x)?x.getFilters():[x]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((x=>(function(M){return new Ju(qo(M.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(x)))})(t.orderBy));let d=null;t.limit&&(d=(function(b){let x;return x=typeof b=="object"?b.value:b,mf(x)?null:x})(t.limit));let p=null;t.startAt&&(p=(function(b){const x=!!b.before,S=b.values||[];return new Rd(S,x)})(t.startAt));let m=null;return t.endAt&&(m=(function(b){const x=!b.before,S=b.values||[];return new Rd(S,x)})(t.endAt)),$7(e,a,c,l,d,"F",p,m)}function N8(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IO(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=qo(t.unaryFilter.field);return Gt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=qo(t.unaryFilter.field);return Gt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=qo(t.unaryFilter.field);return Gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=qo(t.unaryFilter.field);return Gt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Gt.create(qo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Or.create(t.compositeFilter.filters.map((i=>IO(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(t.compositeFilter.op))})(r):we(30097,{filter:r})}function O8(r){return v8[r]}function D8(r){return _8[r]}function k8(r){return b8[r]}function Uo(r){return{fieldPath:r.canonicalString()}}function qo(r){return hn.fromServerFormat(r.fieldPath)}function NO(r){return r instanceof Gt?(function(t){if(t.op==="=="){if(FR(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NAN"}};if(zR(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(FR(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NOT_NAN"}};if(zR(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(t.field),op:D8(t.op),value:t.value}}})(r):r instanceof Or?(function(t){const i=t.getFilters().map((a=>NO(a)));return i.length===1?i[0]:{compositeFilter:{op:k8(t.op),filters:i}}})(r):we(54877,{filter:r})}function M8(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function OO(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function DO(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Is{constructor(e,t,i,a,l=De.min(),c=De.min(),d=fn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class j8{constructor(e){this.yt=e}}function V8(r){const e=I8({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Cd(e,e.limit,"L"):e}class P8{constructor(){this.Sn=new L8}addToCollectionParentIndex(e,t){return this.Sn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Ps.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class L8{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Zt(yt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Zt(yt.comparator)).toArray()}}const rC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kO=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(kO,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class nl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new nl(0)}static ar(){return new nl(-1)}}const iC="LruGarbageCollector",U8=1048576;function sC([r,e],[t,i]){const a=Xe(r,t);return a===0?Xe(e,i):a}class q8{constructor(e){this.Pr=e,this.buffer=new Zt(sC),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();sC(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class B8{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ge(iC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ml(t)?ge(iC,"Ignoring IndexedDB error during garbage collection: ",t):await pl(t)}await this.Ar(3e5)}))}}class z8{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(pf.ce);const i=new q8(t);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(rC)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rC):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,a,l,c,d,p,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,d=Date.now(),this.removeTargets(e,i,t)))).next((b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(m=Date.now(),Po()<=Qe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function F8(r,e){return new z8(r,e)}class H8{constructor(){this.changes=new Ha((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class G8{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class $8{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&zu(i.mutation,a,Ar.empty(),Et.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Je()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Je()){const a=wa();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=Du();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=wa();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Je())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,a){let l=Bi();const c=Bu(),d=(function(){return Bu()})();return t.forEach(((p,m)=>{const v=i.get(m.key);a.has(m.key)&&(v===void 0||v.mutation instanceof Ga)?l=l.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),zu(v.mutation,m,v.mutation.getFieldMask(),Et.now())):c.set(m.key,Ar.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((m,v)=>c.set(m,v))),t.forEach(((m,v)=>d.set(m,new G8(v,c.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=Bu();let a=new wt(((c,d)=>c-d)),l=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const m=t.get(p);if(m===null)return;let v=i.get(p)||Ar.empty();v=d.applyToLocalView(m,v),i.set(p,v);const b=(a.get(d.batchId)||Je()).add(p);a=a.insert(d.batchId,b)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,v=p.value,b=pO();v.forEach((x=>{if(!l.has(x)){const S=bO(t.get(x),i.get(x));S!==null&&b.set(x,S),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return ae.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return K7(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ae.resolve(wa());let d=Wu,p=l;return c.next((m=>ae.forEach(m,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next((x=>{p=p.insert(v,x)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,p,m,Je()))).next((v=>({batchId:d,changes:fO(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next((i=>{let a=Du();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Du();return this.indexManager.getCollectionParents(e,l).next((d=>ae.forEach(d,(p=>{const m=(function(b,x){return new gl(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next((v=>{v.forEach(((b,x)=>{c=c.insert(b,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((p,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,_n.newInvalidDocument(v)))}));let d=Du();return c.forEach(((p,m)=>{const v=l.get(p);v!==void 0&&zu(v.mutation,m,Ar.empty(),Et.now()),vf(t,m)&&(d=d.insert(p,m))})),d}))}}class K8{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ae.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:si(a.createTime)}})(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:V8(a.bundledQuery),readTime:si(a.readTime)}})(t)),ae.resolve()}}class W8{constructor(){this.overlays=new wt(Te.comparator),this.Lr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=wa();return ae.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.bt(e,t,l)})),ae.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const a=wa(),l=t.length+1,c=new Te(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new wt(((m,v)=>m-v));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=l.get(m.largestBatchId);v===null&&(v=wa(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=wa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,v)=>d.set(m,v))),!(d.size()>=a)););return ae.resolve(d)}bt(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new d8(t,i));let l=this.Lr.get(t);l===void 0&&(l=Je(),this.Lr.set(t,l)),this.Lr.set(t,l.add(i.key))}}class Y8{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}class Sb{constructor(){this.kr=new Zt(rn.Kr),this.qr=new Zt(rn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new rn(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new rn(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new Te(new yt([])),i=new rn(t,e),a=new rn(t,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Te(new yt([])),i=new rn(t,e),a=new rn(t,e+1);let l=Je();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new rn(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class rn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Te.comparator(e.key,t.key)||Xe(e.Hr,t.Hr)}static Ur(e,t){return Xe(e.Hr,t.Hr)||Te.comparator(e.key,t.key)}}class Q8{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Zt(rn.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new h8(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new rn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Xr(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?fb:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new rn(t,0),a=new rn(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Zt(Xe);return t.forEach((a=>{const l=new rn(a,0),c=new rn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{i=i.add(d.Hr)}))})),ae.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Te.isDocumentKey(l)||(l=l.child(""));const c=new rn(new Te(l),0);let d=new Zt(Xe);return this.Jr.forEachWhile((p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(d=d.add(p.Hr)),!0)}),c),ae.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){at(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ae.forEach(t.mutations,(a=>{const l=new rn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new rn(t,0),a=this.Jr.firstAfterOrEqual(i);return ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class X8{constructor(e){this.ti=e,this.docs=(function(){return new wt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let i=Bi();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():_n.newInvalidDocument(a))})),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Bi();const c=t.path,d=new Te(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||x7(T7(v),i)<=0||(a.has(v.key)||vf(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,t,i,a){we(9500)}ni(e,t){return ae.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new J8(this)}getSize(e){return ae.resolve(this.size)}}class J8 extends H8{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),ae.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class Z8{constructor(e){this.persistence=e,this.ri=new Ha((t=>gb(t)),yb),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.ii=0,this.si=new Sb,this.targetCount=0,this.oi=nl._r()}forEachTarget(e,t){return this.ri.forEach(((i,a)=>t(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),ae.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new nl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.lr(t),ae.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.si.containsKey(t))}}class MO{constructor(e,t){this._i={},this.overlays={},this.ai=new pf(0),this.ui=!1,this.ui=!0,this.ci=new Y8,this.referenceDelegate=e(this),this.li=new Z8(this),this.indexManager=new P8,this.remoteDocumentCache=(function(a){return new X8(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new j8(t),this.Pi=new K8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new W8,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new Q8(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const a=new eB(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return ae.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class eB extends w7{constructor(e){super(),this.currentSequenceNumber=e}}class wb{constructor(e){this.persistence=e,this.Ri=new Sb,this.Ai=null}static Vi(e){return new wb(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(i=>{const a=Te.fromPath(i);return this.mi(e,a).next((l=>{l||t.removeEntry(a,De.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ae.or([()=>ae.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Dd{constructor(e,t){this.persistence=e,this.fi=new Ha((i=>C7(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=F8(this,t)}static Vi(e,t){return new Dd(e,t)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return ae.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?ae.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,t).next((d=>{d||(i++,l.removeEntry(c,De.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ae.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=od(e.data.value)),t}wr(e,t,i){return ae.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ab{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=a}static Es(e,t){let i=Je(),a=Je();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ab(e,t.fromCache,i,a)}}class tB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class nB{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return F6()?8:A7(bn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new tB;return this.ys(e,t,c).next((d=>{if(l.result=d,this.As)return this.ws(e,t,c,d.size)}))})).next((()=>l.result))}ws(e,t,i,a){return i.documentReadCount<this.Vs?(Po()<=Qe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(Po()<=Qe.DEBUG&&ge("QueryEngine","Query:",Lo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Po()<=Qe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(t))):ae.resolve())}gs(e,t){if(KR(t))return ae.resolve(null);let i=ii(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Cd(t,null,"F"),i=ii(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Je(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((p=>{const m=this.bs(t,d);return this.Ss(t,m,c,p.readTime)?this.gs(e,Cd(t,null,"F")):this.Ds(e,m,t,p)}))))})))))}ps(e,t,i,a){return KR(t)||a.isEqual(De.min())?ae.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,i,a)?ae.resolve(null):(Po()<=Qe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Lo(t)),this.Ds(e,c,t,E7(a,Wu)).next((d=>d)))}))}bs(e,t){let i=new Zt(hO(e));return t.forEach(((a,l)=>{vf(e,l)&&(i=i.add(l))})),i}Ss(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,i){return Po()<=Qe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Lo(t)),this.fs.getDocumentsMatchingQuery(e,t,Ps.min(),i)}Ds(e,t,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Rb="LocalStore",rB=3e8;class iB{constructor(e,t,i,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new wt(Xe),this.Fs=new Ha((l=>gb(l)),yb),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $8(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function sB(r,e,t,i){return new iB(r,e,t,i)}async function jO(r,e){const t=Me(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let p=Je();for(const m of a){c.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of l){d.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function aB(r,e){const t=Me(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,m,v){const b=m.batch,x=b.keys();let S=ae.resolve();return x.forEach((M=>{S=S.next((()=>v.getEntry(p,M))).next((P=>{const k=m.docVersions.get(M);at(k!==null,48541),P.version.compareTo(k)<0&&(b.applyToRemoteDocument(P,m),P.isValidDocument()&&(P.setReadTime(m.commitVersion),v.addEntry(P)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(p,b)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let p=Je();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function VO(r){const e=Me(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function oB(r,e){const t=Me(r),i=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const d=[];e.targetChanges.forEach(((v,b)=>{const x=a.get(b);if(!x)return;d.push(t.li.removeMatchingKeys(l,v.removedDocuments,b).next((()=>t.li.addMatchingKeys(l,v.addedDocuments,b))));let S=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(fn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,i)),a=a.insert(b,S),(function(P,k,F){return P.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=rB?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(x,S,v)&&d.push(t.li.updateTargetData(l,S))}));let p=Bi(),m=Je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(lB(l,c,e.documentUpdates).next((v=>{p=v.Bs,m=v.Ls}))),!i.isEqual(De.min())){const v=t.li.getLastRemoteSnapshotVersion(l).next((b=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return ae.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(t.vs=a,l)))}function lB(r,e,t){let i=Je(),a=Je();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let c=Bi();return t.forEach(((d,p)=>{const m=l.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(De.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ge(Rb,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)})),{Bs:c,Ls:a}}))}function uB(r,e){const t=Me(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=fb),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function cB(r,e){const t=Me(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.li.getTargetData(i,e).next((l=>l?(a=l,ae.resolve(a)):t.li.allocateTargetId(i).next((c=>(a=new Is(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function d0(r,e,t){const i=Me(r),a=i.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ml(c))throw c;ge(Rb,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function aC(r,e,t){const i=Me(r);let a=De.min(),l=Je();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,v){const b=Me(p),x=b.Fs.get(v);return x!==void 0?ae.resolve(b.vs.get(x)):b.li.getTargetData(m,v)})(i,c,ii(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,t?a:De.min(),t?l:Je()))).next((d=>(hB(i,Q7(e),d),{documents:d,ks:l})))))}function hB(r,e,t){let i=r.Ms.get(e)||De.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Ms.set(e,i)}class oC{constructor(){this.activeTargetIds=n8()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dB{constructor(){this.vo=new oC,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new oC,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fB{Mo(e){}shutdown(){}}const lC="ConnectivityMonitor";class uC{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ge(lC,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ge(lC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qh=null;function f0(){return Qh===null?Qh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qh++,"0x"+Qh.toString(16)}const Bv="RestConnection",pB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class mB{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===wd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,t,i,a,l){const c=f0(),d=this.Qo(e,t.toUriEncodedString());ge(Bv,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:m}=new URL(d),v=cl(m);return this.zo(e,d,p,i,v).then((b=>(ge(Bv,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Jo(Bv,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",i),b}))}jo(e,t,i,a,l,c){return this.Wo(e,t,i,a,l)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const i=pB[e];let a=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class gB{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const gn="WebChannelConnection",Au=(r,e,t)=>{r.listen(e,(i=>{try{t(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Go extends mB{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Go.c_){const e=BN();Au(e,qN.STAT_EVENT,(t=>{t.stat===t0.PROXY?ge(gn,"STAT_EVENT: detected buffering proxy"):t.stat===t0.NOPROXY&&ge(gn,"STAT_EVENT: detected no buffering proxy")})),Go.c_=!0}}zo(e,t,i,a,l){const c=f0();return new Promise(((d,p)=>{const m=new LN;m.setWithCredentials(!0),m.listenOnce(UN.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case ad.NO_ERROR:const b=m.getResponseJson();ge(gn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case ad.TIMEOUT:ge(gn,`RPC '${e}' ${c} timed out`),p(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case ad.HTTP_ERROR:const x=m.getStatus();if(ge(gn,`RPC '${e}' ${c} failed with status:`,x,"response text:",m.getResponseText()),x>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const M=S?.error;if(M&&M.status&&M.message){const P=(function(F){const z=F.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(z)>=0?z:ie.UNKNOWN})(M.status);p(new me(P,M.message))}else p(new me(ie.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new me(ie.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ge(gn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ge(gn,`RPC '${e}' ${c} sending request:`,a),m.send(t,"POST",v,i,15)}))}T_(e,t,i){const a=f0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const m=l.join("");ge(gn,`Creating RPC '${e}' stream ${a}: ${m}`,d);const v=c.createWebChannel(m,d);this.I_(v);let b=!1,x=!1;const S=new gB({Ho:M=>{x?ge(gn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(b||(ge(gn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),ge(gn,`RPC '${e}' stream ${a} sending:`,M),v.send(M))},Jo:()=>v.close()});return Au(v,Ou.EventType.OPEN,(()=>{x||(ge(gn,`RPC '${e}' stream ${a} transport opened.`),S.i_())})),Au(v,Ou.EventType.CLOSE,(()=>{x||(x=!0,ge(gn,`RPC '${e}' stream ${a} transport closed`),S.o_(),this.E_(v))})),Au(v,Ou.EventType.ERROR,(M=>{x||(x=!0,Jo(gn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),S.o_(new me(ie.UNAVAILABLE,"The operation could not be completed")))})),Au(v,Ou.EventType.MESSAGE,(M=>{if(!x){const P=M.data[0];at(!!P,16349);const k=P,F=k?.error||k[0]?.error;if(F){ge(gn,`RPC '${e}' stream ${a} received error:`,F);const z=F.status;let X=(function(oe){const I=Ht[oe];if(I!==void 0)return TO(I)})(z),le=F.message;X===void 0&&(X=ie.INTERNAL,le="Unknown error status: "+z+" with message "+F.message),x=!0,S.o_(new me(X,le)),v.close()}else ge(gn,`RPC '${e}' stream ${a} received:`,P),S.__(P)}})),Go.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return zN()}}function yB(r){return new Go(r)}function zv(){return typeof document<"u"?document:null}function Tf(r){return new E8(r,!0)}Go.c_=!1;class PO{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const cC="PersistentStream";class LO{constructor(e,t,i,a,l,c,d,p){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PO(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Ui(t.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new me(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(cC,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ge(cC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vB extends LO{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=S8(this.serializer,e),i=(function(l){if(!("targetChange"in l))return De.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?De.min():c.readTime?si(c.readTime):De.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=h0(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=a0(p)?{documents:R8(l,p)}:{query:C8(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=wO(l,c.resumeToken);const m=l0(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(De.min())>0){d.readTime=Od(l,c.snapshotVersion.toTimestamp());const m=l0(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const i=N8(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=h0(this.serializer),t.removeTarget=e,this.K_(t)}}class _B extends LO{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=A8(e.writeResults,e.commitTime),i=si(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=h0(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>w8(this.serializer,i)))};this.K_(t)}}class bB{}class EB extends bB{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,u0(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ie.UNKNOWN,l.toString())}))}jo(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,u0(t,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function TB(r,e,t,i){return new EB(r,e,t,i)}class xB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ui(t),this.aa=!1):ge("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const La="RemoteStore";class SB{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{$a(this)&&(ge(La,"Restarting streams for network reachability change."),await(async function(p){const m=Me(p);m.Ea.add(4),await gc(m),m.Va.set("Unknown"),m.Ea.delete(4),await xf(m)})(this))}))})),this.Va=new xB(i,a)}}async function xf(r){if($a(r))for(const e of r.Ra)await e(!0)}async function gc(r){for(const e of r.Ra)await e(!1)}function UO(r,e){const t=Me(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ob(t)?Nb(t):yl(t).O_()&&Ib(t,e))}function Cb(r,e){const t=Me(r),i=yl(t);t.Ia.delete(e),i.O_()&&qO(t,e),t.Ia.size===0&&(i.O_()?i.L_():$a(t)&&t.Va.set("Unknown"))}function Ib(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yl(r).Z_(e)}function qO(r,e){r.da.$e(e),yl(r).X_(e)}function Nb(r){r.da=new y8({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),yl(r).start(),r.Va.ua()}function Ob(r){return $a(r)&&!yl(r).x_()&&r.Ia.size>0}function $a(r){return Me(r).Ea.size===0}function BO(r){r.da=void 0}async function wB(r){r.Va.set("Online")}async function AB(r){r.Ia.forEach(((e,t)=>{Ib(r,e)}))}async function RB(r,e){BO(r),Ob(r)?(r.Va.ha(e),Nb(r)):r.Va.set("Unknown")}async function CB(r,e,t){if(r.Va.set("Online"),e instanceof SO&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(r,e)}catch(i){ge(La,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await kd(r,i)}else if(e instanceof cd?r.da.Xe(e):e instanceof xO?r.da.st(e):r.da.tt(e),!t.isEqual(De.min()))try{const i=await VO(r.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(m);v&&l.Ia.set(m,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,m)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(fn.EMPTY_BYTE_STRING,v.snapshotVersion)),qO(l,p);const b=new Is(v.target,p,m,v.sequenceNumber);Ib(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(i){ge(La,"Failed to raise snapshot:",i),await kd(r,i)}}async function kd(r,e,t){if(!ml(e))throw e;r.Ea.add(1),await gc(r),r.Va.set("Offline"),t||(t=()=>VO(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ge(La,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await xf(r)}))}function zO(r,e){return e().catch((t=>kd(r,t,e)))}async function Sf(r){const e=Me(r),t=Bs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fb;for(;IB(e);)try{const a=await uB(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,NB(e,a)}catch(a){await kd(e,a)}FO(e)&&HO(e)}function IB(r){return $a(r)&&r.Ta.length<10}function NB(r,e){r.Ta.push(e);const t=Bs(r);t.O_()&&t.Y_&&t.ea(e.mutations)}function FO(r){return $a(r)&&!Bs(r).x_()&&r.Ta.length>0}function HO(r){Bs(r).start()}async function OB(r){Bs(r).ra()}async function DB(r){const e=Bs(r);for(const t of r.Ta)e.ea(t.mutations)}async function kB(r,e,t){const i=r.Ta.shift(),a=Eb.from(i,e,t);await zO(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await Sf(r)}async function MB(r,e){e&&Bs(r).Y_&&await(async function(i,a){if((function(c){return p8(c)&&c!==ie.ABORTED})(a.code)){const l=i.Ta.shift();Bs(i).B_(),await zO(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Sf(i)}})(r,e),FO(r)&&HO(r)}async function hC(r,e){const t=Me(r);t.asyncQueue.verifyOperationInProgress(),ge(La,"RemoteStore received new credentials");const i=$a(t);t.Ea.add(3),await gc(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await xf(t)}async function jB(r,e){const t=Me(r);e?(t.Ea.delete(2),await xf(t)):e||(t.Ea.add(2),await gc(t),t.Va.set("Unknown"))}function yl(r){return r.ma||(r.ma=(function(t,i,a){const l=Me(t);return l.sa(),new vB(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Zo:wB.bind(null,r),Yo:AB.bind(null,r),t_:RB.bind(null,r),J_:CB.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Ob(r)?Nb(r):r.Va.set("Unknown")):(await r.ma.stop(),BO(r))}))),r.ma}function Bs(r){return r.fa||(r.fa=(function(t,i,a){const l=Me(t);return l.sa(),new _B(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:OB.bind(null,r),t_:MB.bind(null,r),ta:DB.bind(null,r),na:kB.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Sf(r)):(await r.fa.stop(),r.Ta.length>0&&(ge(La,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Db{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Db(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kb(r,e){if(Ui("AsyncQueue",`${e}: ${r}`),ml(r))return new me(ie.UNAVAILABLE,`${e}: ${r}`);throw r}class $o{static emptySet(e){return new $o(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Te.comparator(t.key,i.key):(t,i)=>Te.comparator(t.key,i.key),this.keyedMap=Du(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new $o;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class dC{constructor(){this.ga=new wt(Te.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class rl{constructor(e,t,i,a,l,c,d,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new rl(e,t,$o.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class VB{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class PB{constructor(){this.queries=fC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Me(t),l=a.queries;a.queries=fC(),l.forEach(((c,d)=>{for(const p of d.ba)p.onError(i)}))})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function fC(){return new Ha((r=>cO(r)),yf)}async function GO(r,e){const t=Me(r);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new VB,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=kb(c,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Mb(t)}async function $O(r,e){const t=Me(r),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function LB(r,e){const t=Me(r);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(i=!0);c.wa=a}}i&&Mb(t)}function UB(r,e,t){const i=Me(r),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(t);i.queries.delete(e)}function Mb(r){r.Ca.forEach((e=>{e.next()}))}var p0,pC;(pC=p0||(p0={})).Ma="default",pC.Cache="cache";class KO{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new rl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==p0.Cache}}class WO{constructor(e){this.key=e}}class YO{constructor(e){this.key=e}}class qB{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Je(),this.mutatedKeys=Je(),this.eu=hO(e),this.tu=new $o(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new dC,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const x=a.get(v),S=vf(this.query,b)?b:null,M=!!x&&this.mutatedKeys.has(x.key),P=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let k=!1;x&&S?x.data.isEqual(S.data)?M!==P&&(i.track({type:3,doc:S}),k=!0):this.su(x,S)||(i.track({type:2,doc:S}),k=!0,(p&&this.eu(S,p)>0||m&&this.eu(S,m)<0)&&(d=!0)):!x&&S?(i.track({type:0,doc:S}),k=!0):x&&!S&&(i.track({type:1,doc:x}),k=!0,(p||m)&&(d=!0)),k&&(S?(c=c.add(S),l=P?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Ss:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(S,M){const P=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:k})}};return P(S)-P(M)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,m=p!==this.Xa;return this.Xa=p,c.length!==0||m?{snapshot:new rl(this.query,e.tu,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dC,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Je(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new YO(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new WO(i))})),t}cu(e){this.Za=e.ks,this.Ya=Je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const jb="SyncEngine";class BB{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class zB{constructor(e){this.key=e,this.hu=!1}}class FB{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ha((d=>cO(d)),yf),this.Iu=new Map,this.Eu=new Set,this.Ru=new wt(Te.comparator),this.Au=new Map,this.Vu=new Sb,this.du={},this.mu=new Map,this.fu=nl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HB(r,e,t=!0){const i=tD(r);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await QO(i,e,t,!0),a}async function GB(r,e){const t=tD(r);await QO(t,e,!0,!1)}async function QO(r,e,t,i){const a=await cB(r.localStore,ii(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await $B(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&UO(r.remoteStore,a),d}async function $B(r,e,t,i,a){r.pu=(b,x,S)=>(async function(P,k,F,z){let X=k.view.ru(F);X.Ss&&(X=await aC(P.localStore,k.query,!1).then((({documents:I})=>k.view.ru(I,X))));const le=z&&z.targetChanges.get(k.targetId),ce=z&&z.targetMismatches.get(k.targetId)!=null,oe=k.view.applyChanges(X,P.isPrimaryClient,le,ce);return gC(P,k.targetId,oe.au),oe.snapshot})(r,b,x,S);const l=await aC(r.localStore,e,!0),c=new qB(e,l.ks),d=c.ru(l.documents),p=mc.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",a),m=c.applyChanges(d,r.isPrimaryClient,p);gC(r,t,m.au);const v=new BB(e,t,c);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),m.snapshot}async function KB(r,e,t){const i=Me(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!yf(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await d0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Cb(i.remoteStore,a.targetId),m0(i,a.targetId)})).catch(pl)):(m0(i,a.targetId),await d0(i.localStore,a.targetId,!0))}async function WB(r,e){const t=Me(r),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Cb(t.remoteStore,i.targetId))}async function YB(r,e,t){const i=nz(r);try{const a=await(function(c,d){const p=Me(c),m=Et.now(),v=d.reduce(((S,M)=>S.add(M.key)),Je());let b,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let M=Bi(),P=Je();return p.xs.getEntries(S,v).next((k=>{M=k,M.forEach(((F,z)=>{z.isValidDocument()||(P=P.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(S,M))).next((k=>{b=k;const F=[];for(const z of d){const X=u8(z,b.get(z.key).overlayedDocument);X!=null&&F.push(new Ga(z.key,X,nO(X.value.mapValue),Cr.exists(!0)))}return p.mutationQueue.addMutationBatch(S,m,F,d)})).next((k=>{x=k;const F=k.applyToLocalDocumentSet(b,P);return p.documentOverlayCache.saveOverlays(S,k.batchId,F)}))})).then((()=>({batchId:x.batchId,changes:fO(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let m=c.du[c.currentUser.toKey()];m||(m=new wt(Xe)),m=m.insert(d,p),c.du[c.currentUser.toKey()]=m})(i,a.batchId,t),await yc(i,a.changes),await Sf(i.remoteStore)}catch(a){const l=kb(a,"Failed to persist write");t.reject(l)}}async function XO(r,e){const t=Me(r);try{const i=await oB(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(at(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?at(c.hu,14607):a.removedDocuments.size>0&&(at(c.hu,42227),c.hu=!1))})),await yc(t,i,e)}catch(i){await pl(i)}}function mC(r,e,t){const i=Me(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=Me(c);p.onlineState=d;let m=!1;p.queries.forEach(((v,b)=>{for(const x of b.ba)x.va(d)&&(m=!0)})),m&&Mb(p)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function QB(r,e,t){const i=Me(r);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new wt(Te.comparator);c=c.insert(l,_n.newNoDocument(l,De.min()));const d=Je().add(l),p=new Ef(De.min(),new Map,new wt(Xe),c,d);await XO(i,p),i.Ru=i.Ru.remove(l),i.Au.delete(e),Vb(i)}else await d0(i.localStore,e,!1).then((()=>m0(i,e,t))).catch(pl)}async function XB(r,e){const t=Me(r),i=e.batch.batchId;try{const a=await aB(t.localStore,e);ZO(t,i,null),JO(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await yc(t,a)}catch(a){await pl(a)}}async function JB(r,e,t){const i=Me(r);try{const a=await(function(c,d){const p=Me(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return p.mutationQueue.lookupMutationBatch(m,d).next((b=>(at(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(m,b)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>p.localDocuments.getDocuments(m,v)))}))})(i.localStore,e);ZO(i,e,t),JO(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await yc(i,a)}catch(a){await pl(a)}}function JO(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function ZO(r,e,t){const i=Me(r);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function m0(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||eD(r,i)}))}function eD(r,e){r.Eu.delete(e.path.canonicalString());const t=r.Ru.get(e);t!==null&&(Cb(r.remoteStore,t),r.Ru=r.Ru.remove(e),r.Au.delete(t),Vb(r))}function gC(r,e,t){for(const i of t)i instanceof WO?(r.Vu.addReference(i.key,e),ZB(r,i)):i instanceof YO?(ge(jb,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||eD(r,i.key)):we(19791,{wu:i})}function ZB(r,e){const t=e.key,i=t.path.canonicalString();r.Ru.get(t)||r.Eu.has(i)||(ge(jb,"New document in limbo: "+t),r.Eu.add(i),Vb(r))}function Vb(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Te(yt.fromString(e)),i=r.fu.next();r.Au.set(i,new zB(t)),r.Ru=r.Ru.insert(t,i),UO(r.remoteStore,new Is(ii(vb(t.path)),i,"TargetPurposeLimboResolution",pf.ce))}}async function yc(r,e,t){const i=Me(r),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,p)=>{c.push(i.pu(p,e,t).then((m=>{if((m||t)&&i.isPrimaryClient){const v=m?!m.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(m){a.push(m);const v=Ab.Es(p.targetId,m);l.push(v)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(p,m){const v=Me(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ae.forEach(m,(x=>ae.forEach(x.Ts,(S=>v.persistence.referenceDelegate.addReference(b,x.targetId,S))).next((()=>ae.forEach(x.Is,(S=>v.persistence.referenceDelegate.removeReference(b,x.targetId,S)))))))))}catch(b){if(!ml(b))throw b;ge(Rb,"Failed to update sequence numbers: "+b)}for(const b of m){const x=b.targetId;if(!b.fromCache){const S=v.vs.get(x),M=S.snapshotVersion,P=S.withLastLimboFreeSnapshotVersion(M);v.vs=v.vs.insert(x,P)}}})(i.localStore,l))}async function ez(r,e){const t=Me(r);if(!t.currentUser.isEqual(e)){ge(jb,"User change. New user:",e.toKey());const i=await jO(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new me(ie.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await yc(t,i.Ns)}}function tz(r,e){const t=Me(r),i=t.Au.get(e);if(i&&i.hu)return Je().add(i.key);{let a=Je();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function tD(r){const e=Me(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=XO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QB.bind(null,e),e.Pu.J_=LB.bind(null,e.eventManager),e.Pu.yu=UB.bind(null,e.eventManager),e}function nz(r){const e=Me(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JB.bind(null,e),e}class Md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return sB(this.persistence,new nB,e.initialUser,this.serializer)}Cu(e){return new MO(wb.Vi,this.serializer)}Du(e){return new dB}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Md.provider={build:()=>new Md};class rz extends Md{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){at(this.persistence.referenceDelegate instanceof Dd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new B8(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new MO((i=>Dd.Vi(i,t)),this.serializer)}}class g0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ez.bind(null,this.syncEngine),await jB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PB})()}createDatastore(e){const t=Tf(e.databaseInfo.databaseId),i=yB(e.databaseInfo);return TB(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,d){return new SB(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>mC(this.syncEngine,t,0)),(function(){return uC.v()?new uC:new fB})())}createSyncEngine(e,t){return(function(a,l,c,d,p,m,v){const b=new FB(a,l,c,d,p,m);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Me(t);ge(La,"RemoteStore shutting down."),i.Ea.add(5),await gc(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}g0.provider={build:()=>new g0};class nD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const zs="FirestoreClient";class iz{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=a,this.user=vn.UNAUTHENTICATED,this.clientId=db.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ge(zs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ge(zs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=kb(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Fv(r,e){r.asyncQueue.verifyOperationInProgress(),ge(zs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async a=>{i.isEqual(a)||(await jO(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function yC(r,e){r.asyncQueue.verifyOperationInProgress();const t=await sz(r);ge(zs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>hC(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,a)=>hC(e.remoteStore,a))),r._onlineComponents=e}async function sz(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ge(zs,"Using user provided OfflineComponentProvider");try{await Fv(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Jo("Error using user provided cache. Falling back to memory cache: "+t),await Fv(r,new Md)}}else ge(zs,"Using default OfflineComponentProvider"),await Fv(r,new rz(void 0));return r._offlineComponents}async function rD(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ge(zs,"Using user provided OnlineComponentProvider"),await yC(r,r._uninitializedComponentsProvider._online)):(ge(zs,"Using default OnlineComponentProvider"),await yC(r,new g0))),r._onlineComponents}function az(r){return rD(r).then((e=>e.syncEngine))}async function iD(r){const e=await rD(r),t=e.eventManager;return t.onListen=HB.bind(null,e.syncEngine),t.onUnlisten=KB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WB.bind(null,e.syncEngine),t}function oz(r,e,t={}){const i=new Mi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,m){const v=new nD({next:x=>{v.Nu(),c.enqueueAndForget((()=>$O(l,b)));const S=x.docs.has(d);!S&&x.fromCache?m.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&x.fromCache&&p&&p.source==="server"?m.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new KO(vb(d.path),v,{includeMetadataChanges:!0,Ka:!0});return GO(l,b)})(await iD(r),r.asyncQueue,e,t,i))),i.promise}function lz(r,e,t={}){const i=new Mi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,m){const v=new nD({next:x=>{v.Nu(),c.enqueueAndForget((()=>$O(l,b))),x.fromCache&&p.source==="server"?m.reject(new me(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new KO(d,v,{includeMetadataChanges:!0,Ka:!0});return GO(l,b)})(await iD(r),r.asyncQueue,e,t,i))),i.promise}function uz(r,e){const t=new Mi;return r.asyncQueue.enqueueAndForget((async()=>YB(await az(r),e,t))),t.promise}function sD(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const cz="ComponentProvider",vC=new Map;function hz(r,e,t,i,a){return new O7(r,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,sD(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const aD="firestore.googleapis.com",_C=!0;class bC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aD,this.ssl=_C}else this.host=e.host,this.ssl=e.ssl??_C;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<U8)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sD(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wf{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new u7;switch(i.type){case"firstParty":return new f7(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=vC.get(t);i&&(ge(cz,"Removing Datastore"),vC.delete(t),i.terminate())})(this),Promise.resolve()}}function dz(r,e,t,i={}){r=qi(r,wf);const a=cl(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;a&&(J2(`https://${d}`),Z2("Firestore",!0)),l.host!==aD&&l.host!==d&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:a,emulatorOptions:i};if(!Ma(p,c)&&(r._setSettings(p),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=vn.MOCK_USER;else{m=M6(i.mockUserToken,r._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new vn(b)}r._authCredentials=new c7(new HN(m,v))}}class Fs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Fs(this.firestore,e,this._query)}}class Kt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(fc(t,Kt._jsonSchema))return new Kt(e,i||null,new Te(yt.fromString(t.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:$t("string",Kt._jsonSchemaVersion),referencePath:$t("string")};class Ms extends Fs{constructor(e,t,i){super(e,t,vb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Te(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function Pb(r,e,...t){if(r=kn(r),GN("collection","path",e),r instanceof wf){const i=yt.fromString(e,...t);return kR(i),new Ms(r,null,i)}{if(!(r instanceof Kt||r instanceof Ms))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(yt.fromString(e,...t));return kR(i),new Ms(r.firestore,null,i)}}function Af(r,e,...t){if(r=kn(r),arguments.length===1&&(e=db.newId()),GN("doc","path",e),r instanceof wf){const i=yt.fromString(e,...t);return DR(i),new Kt(r,null,new Te(i))}{if(!(r instanceof Kt||r instanceof Ms))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(yt.fromString(e,...t));return DR(i),new Kt(r.firestore,r instanceof Ms?r.converter:null,new Te(i))}}const EC="AsyncQueue";class TC{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PO(this,"async_queue_retry"),this._c=()=>{const i=zv();i&&ge(EC,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=zv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=zv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Mi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ml(e))throw e;ge(EC,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ui("INTERNAL UNHANDLED ERROR: ",xC(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Db.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&we(47125,{Pc:xC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function xC(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class vl extends wf{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new TC,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TC(e),this._firestoreClient=void 0,await e}}}function fz(r,e){const t=typeof r=="object"?r:rN(),i=typeof r=="string"?r:wd,a=Z0(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=D6("firestore");l&&dz(a,...l)}return a}function Lb(r){if(r._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pz(r),r._firestoreClient}function pz(r){const e=r._freezeSettings(),t=hz(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new iz(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(r._componentsProvider))}class ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ur(fn.fromBase64String(e))}catch(t){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ur(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fc(e,ur._jsonSchema))return ur.fromBase64String(e.bytes)}}ur._jsonSchemaVersion="firestore/bytes/1.0",ur._jsonSchema={type:$t("string",ur._jsonSchemaVersion),bytes:$t("string")};class oD{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lD{constructor(e){this._methodName=e}}class ai{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ai._jsonSchemaVersion}}static fromJSON(e){if(fc(e,ai._jsonSchema))return new ai(e.latitude,e.longitude)}}ai._jsonSchemaVersion="firestore/geoPoint/1.0",ai._jsonSchema={type:$t("string",ai._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};class Ir{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fc(e,Ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ir(e.vectorValues);throw new me(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ir._jsonSchemaVersion="firestore/vectorValue/1.0",Ir._jsonSchema={type:$t("string",Ir._jsonSchemaVersion),vectorValues:$t("object")};const mz=/^__.*__$/;class gz{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ga(e,this.data,this.fieldMask,t,this.fieldTransforms):new pc(e,this.data,t,this.fieldTransforms)}}function uD(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:r})}}class Ub{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ub({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return jd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(uD(this.dataSource)&&mz.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class yz{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Tf(e)}createContext(e,t,i,a=!1){return new Ub({dataSource:e,methodName:t,targetDoc:i,path:hn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qb(r){const e=r._freezeSettings(),t=Tf(r._databaseId);return new yz(r._databaseId,!!e.ignoreUndefinedProperties,t)}function cD(r,e,t,i,a,l={}){const c=r.createContext(l.merge||l.mergeFields?2:0,e,t,a);fD("Data must be an object, but it was:",c,i);const d=hD(i,c);let p,m;if(l.merge)p=new Ar(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const x=Rf(e,b,t);if(!c.contains(x))throw new me(ie.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Ez(v,x)||v.push(x)}p=new Ar(v),m=c.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,m=c.fieldTransforms;return new gz(new lr(d),p,m)}function vz(r,e,t,i=!1){return Bb(t,r.createContext(i?4:3,e))}function Bb(r,e){if(dD(r=kn(r)))return fD("Unsupported field value:",e,r),hD(r,e);if(r instanceof lD)return(function(i,a){if(!uD(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let p=Bb(d,a.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(r,e)}return(function(i,a){if((i=kn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return r8(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Et.fromDate(i);return{timestampValue:Od(a.serializer,l)}}if(i instanceof Et){const l=new Et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Od(a.serializer,l)}}if(i instanceof ai)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ur)return{bytesValue:wO(a.serializer,i._byteString)};if(i instanceof Kt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:xb(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ir)return(function(c,d){const p=c instanceof Ir?c.toArray():c;return{mapValue:{fields:{[eO]:{stringValue:tO},[Ad]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return _b(d.serializer,v)}))}}}}}})(i,a);if(DO(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${ff(i)}`)})(r,e)}function hD(r,e){const t={};return WN(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fa(r,((i,a)=>{const l=Bb(a,e.childContextForField(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function dD(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Et||r instanceof ai||r instanceof ur||r instanceof Kt||r instanceof lD||r instanceof Ir||DO(r))}function fD(r,e,t){if(!dD(t)||!$N(t)){const i=ff(t);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function Rf(r,e,t){if((e=kn(e))instanceof oD)return e._internalPath;if(typeof e=="string")return bz(r,e);throw jd("Field path arguments must be of type string or ",r,!1,void 0,t)}const _z=new RegExp("[~\\*/\\[\\]]");function bz(r,e,t){if(e.search(_z)>=0)throw jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new oD(...e.split("."))._internalPath}catch{throw jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function jd(r,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new me(ie.INVALID_ARGUMENT,d+r+p)}function Ez(r,e){return r.some((t=>t.isEqual(e)))}class Tz{convertValue(e,t="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Fa(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Ad].arrayValue?.values?.map((i=>kt(i.doubleValue)));return new Ir(t)}convertGeoPoint(e){return new ai(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=gf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Yu(e));default:return null}}convertTimestamp(e){const t=Ls(e);return new Et(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=yt.fromString(e);at(OO(i),9688,{name:e});const a=new Qu(i.get(1),i.get(3)),l=new Te(i.popFirst(5));return a.isEqual(t)||Ui(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class pD extends Tz{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,t)}}const SC="@firebase/firestore",wC="4.10.0";class mD{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Rf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class xz extends mD{data(){return super.data()}}function Sz(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zb{}class Fb extends zb{}function Hb(r,e,...t){let i=[];e instanceof zb&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((p=>p instanceof $b)).length,d=l.filter((p=>p instanceof Gb)).length;if(c>1||c>0&&d>0)throw new me(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)r=a._apply(r);return r}class Gb extends Fb{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Gb(e,t,i)}_apply(e){const t=this._parse(e);return gD(e._query,t),new Fs(e.firestore,e.converter,o0(e._query,t))}_parse(e){const t=qb(e.firestore);return(function(l,c,d,p,m,v,b){let x;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new me(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){RC(b,v);const M=[];for(const P of b)M.push(AC(p,l,P));x={arrayValue:{values:M}}}else x=AC(p,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||RC(b,v),x=vz(d,c,b,v==="in"||v==="not-in");return Gt.create(m,v,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class $b extends zb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $b(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Or.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)gD(c,p),c=o0(c,p)})(e._query,t),new Fs(e.firestore,e.converter,o0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kb extends Fb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Kb(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new me(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new me(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ju(l,c)})(e._query,this._field,this._direction);return new Fs(e.firestore,e.converter,Y7(e._query,t))}}function Wb(r,e="asc"){const t=e,i=Rf("orderBy",r);return Kb._create(i,t)}class Yb extends Fb{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Yb(e,t,i)}_apply(e){return new Fs(e.firestore,e.converter,Cd(e._query,this._limit,this._limitType))}}function Qb(r){return b7("limit",r),Yb._create("limit",r,"F")}function AC(r,e,t){if(typeof(t=kn(t))=="string"){if(t==="")throw new me(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uO(e)&&t.indexOf("/")!==-1)throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(yt.fromString(t));if(!Te.isDocumentKey(i))throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return BR(r,new Te(i))}if(t instanceof Kt)return BR(r,t._key);throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ff(t)}.`)}function RC(r,e){if(!Array.isArray(r)||r.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gD(r,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function yD(r,e,t){let i;return i=r?r.toFirestore(e):e,i}class Mu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oa extends mD{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Rf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Oa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oa._jsonSchema={type:$t("string",Oa._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class hd extends Oa{data(e={}){return super.data(e)}}class Ko{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Mu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new hd(this._firestore,this._userDataWriter,i.key,i,new Mu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new hd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Mu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new hd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Mu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,v=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:wz(d.type),doc:p,oldIndex:m,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=db.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wz(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}Ko._jsonSchemaVersion="firestore/querySnapshot/1.0",Ko._jsonSchema={type:$t("string",Ko._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};function vD(r){r=qi(r,Kt);const e=qi(r.firestore,vl),t=Lb(e);return oz(t,r._key).then((i=>Rz(e,r,i)))}function Xb(r){r=qi(r,Fs);const e=qi(r.firestore,vl),t=Lb(e),i=new pD(e);return Sz(r._query),lz(t,r._query).then((a=>new Ko(e,i,r,a)))}function Az(r,e,t){r=qi(r,Kt);const i=qi(r.firestore,vl),a=yD(r.converter,e),l=qb(i);return Jb(i,[cD(l,"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Cr.none())])}function _D(r){return Jb(qi(r.firestore,vl),[new bb(r._key,Cr.none())])}function bD(r,e){const t=qi(r.firestore,vl),i=Af(r),a=yD(r.converter,e),l=qb(r.firestore);return Jb(t,[cD(l,"addDoc",i._key,a,r.converter!==null,{}).toMutation(i._key,Cr.exists(!1))]).then((()=>i))}function Jb(r,e){const t=Lb(r);return uz(t,e)}function Rz(r,e,t){const i=t.docs.get(e._key),a=new pD(r);return new Oa(r,a,e._key,i,new Mu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){l7(hl),Qo(new ja("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new vl(new h7(i.getProvider("auth-internal")),new p7(c,i.getProvider("app-check-internal")),D7(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Ds(SC,wC,e),Ds(SC,wC,"esm2020")})();const Cz={apiKey:"AIzaSyDXya7ukJ5P7pR2MVidcqxrWYWhK-VP8tY",authDomain:"completionist-state.firebaseapp.com",projectId:"completionist-state",storageBucket:"completionist-state.firebasestorage.app",messagingSenderId:"319558268180",appId:"1:319558268180:web:332ac473de29adf0b0fe01",measurementId:"G-78MMCXL994"},ED=nN(Cz),Nr=i7(ED),TD=new Ni,il=fz(ED),xD=({onAuthChange:r})=>{const[e,t]=B.useState(null),[i,a]=B.useState(!0);B.useEffect(()=>{const d=lb(Nr,p=>{t(p),a(!1),r&&r(p)});return()=>d()},[r]);const l=async()=>{try{await jN(Nr,TD),window.location.reload()}catch(d){console.error("Error signing in:",d)}},c=async()=>{try{await WU(Nr),window.location.reload()}catch(d){console.error("Error signing out:",d)}};return i?y.jsx(Vs,{className:"text-gray-400"}):e?y.jsxs("button",{onClick:c,className:"flex items-center w-full px-2 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors rounded-md",title:`Sign out (${e.email})`,children:[y.jsx(LP,{className:"mr-2 text-red-500 text-xl"}),"Sign Out"]}):y.jsxs("button",{onClick:l,className:"flex items-center w-full px-2 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors rounded-md",title:"Sign in with Google",children:[y.jsx(PP,{className:"mr-2 text-gray-400 text-xl"}),"Sign in with Google"]})};xD.propTypes={onAuthChange:R.func};const Da=25,CC=4e5,Iz=60*1e3;let Fu=0,y0=null;const Nz=()=>Fu,IC=r=>r?r.gameConfig&&Object.keys(r.gameConfig).length>0||r.todoItems&&Object.keys(r.todoItems).length>0:!1,Oz=async()=>{const r=localStorage.getItem("state");let e;try{e=(r?JSON.parse(r):void 0)||void 0}catch(t){console.error("Error parsing localStorage state:",t),localStorage.removeItem("state"),localStorage.removeItem("state_local_updated_at")}try{const t=Nr.currentUser;if(!t)return e;const i=Af(il,"users",t.uid,"data","state"),a=await vD(i);if(a.exists()){const l=a.data().state||void 0,c=a.data().updatedAt,d=c?.toDate?.()||c,p=d instanceof Date?d.getTime():Number(d);if(IC(e)&&IC(l)){const m=Number(localStorage.getItem("state_local_updated_at"));return m&&p?m>p?e:l:{_conflict:!0,cloudState:l,localState:e,cloudUpdated:c?.toDate?.()||c}}return l}else return e!==void 0?(await Ii(e),e):void 0}catch(t){return console.error("Error loading state:",t),t.code==="permission-denied"?{_error:!0,errorType:"permission-denied",errorMessage:"Failed to load cloud data due to insufficient permissions. Check Firestore security rules.",localState:e}:void 0}},Ii=async r=>{if(r===void 0)return;const e=JSON.stringify(r);localStorage.setItem("state",e);const t=new Date;localStorage.setItem("state_local_updated_at",String(t.getTime()));try{const i=Nr.currentUser;if(!i)return;const a=new Blob([e]).size;if(a>CC){console.error(`State too large: ${a} bytes (max ${CC})`),alert(`Your data is too large (${Math.round(a/1024)}KB). Please reduce todo items or checked items.`);return}const l=Af(il,"users",i.uid,"data","state");await Az(l,{state:r,updatedAt:t});const c=t.getTime()-Fu,d=e;if(y0!==d&&(Fu===0||c>=Iz)){Fu=t.getTime(),y0=d;const v=Pb(il,"users",i.uid,"data","state","history");await bD(v,{state:r,savedAt:t});const b=Hb(v,Wb("savedAt","desc"),Qb(Da+1)),x=await Xb(b);if(x.size>Da){const S=[];x.docs.forEach((M,P)=>{P>=Da&&S.push(_D(M.ref))}),await Promise.all(S)}}}catch(i){console.error("âŒ Error saving state to cloud:",i),console.error("Error code:",i.code),console.error("Error message:",i.message),i.code==="permission-denied"&&(console.error("ðŸš« PERMISSION DENIED during save"),alert("Failed to save to cloud due to permission error. Your data is saved locally."))}},Dz=async()=>{try{const r=Nr.currentUser;if(!r)return[];const e=Pb(il,"users",r.uid,"data","state","history"),t=Hb(e,Wb("savedAt","desc"),Qb(Da));return(await Xb(t)).docs.map(a=>({id:a.id,state:a.data().state,savedAt:a.data().savedAt?.toDate?.()||a.data().savedAt}))}catch(r){return console.error("Error loading version history:",r),[]}},kz=async()=>{try{const r=Nr.currentUser;if(!r)return console.error("âŒ ForceSaveToHistory - No user authenticated"),!1;const e=localStorage.getItem("state");if(!e)return console.error("âŒ ForceSaveToHistory - No state in localStorage"),!1;const t=JSON.parse(e),i=new Date;console.log("ðŸ’¾ ForceSaveToHistory - Saving to history...");const a=Pb(il,"users",r.uid,"data","state","history");await bD(a,{state:t,savedAt:i}),Fu=i.getTime(),y0=e,console.log("âœ… ForceSaveToHistory - Successfully saved to history");const l=Hb(a,Wb("savedAt","desc"),Qb(Da+1)),c=await Xb(l);if(c.size>Da){const d=[];c.docs.forEach((p,m)=>{m>=Da&&d.push(_D(p.ref))}),await Promise.all(d)}return!0}catch(r){return console.error("âŒ Error force saving to history:",r),console.error("Error code:",r.code),console.error("Error message:",r.message),!1}},Mz=async r=>{try{const e=Nr.currentUser;if(!e)return console.error("âŒ RestoreVersion - No user authenticated"),null;const t=Af(il,"users",e.uid,"data","state","history",r),i=await vD(t);if(i.exists()){const a=i.data().state;return await Ii(a),a}return console.error("âŒ RestoreVersion - Version document not found"),null}catch(e){return console.error("âŒ Error restoring version:",e),console.error("Error code:",e.code),console.error("Error message:",e.message),null}},SD=({open:r,onClose:e,onRestore:t})=>{const[i,a]=B.useState([]),[l,c]=B.useState(!0),[d,p]=B.useState(null);B.useEffect(()=>{r&&m()},[r]);const m=async()=>{c(!0);const S=await Dz();a(S),c(!1)},v=async S=>{p(S);const M=await Mz(S);M&&t&&t(M),p(null),e(),window.location.reload()},b=S=>S?new Date(S).toLocaleString():"Unknown",x=S=>{let M=0;S.gameConfig&&Object.values(S.gameConfig).forEach(k=>{typeof k=="object"&&Object.values(k).forEach(F=>{typeof F=="object"&&(M+=Object.keys(F).length)})});const P=S.todoItems?Object.keys(S.todoItems).length:0;return`${M} items, ${P} todo`};return r?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-11/12 md:w-3/4 overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh] text-left",children:[y.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-gray-100 rounded-lg text-gray-600",children:y.jsx(s2,{className:"text-2xl"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Version History (Last 25)"})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(Sn,{className:"text-gray-400 text-2xl"})})]}),y.jsx("div",{className:"grow overflow-y-auto p-6",children:l?y.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[y.jsx(Vs,{className:"mb-4"}),y.jsx("p",{children:"Loading versions..."})]}):i.length===0?y.jsx("div",{className:"text-center py-12 text-gray-500",children:y.jsx("p",{children:"No version history available yet. Versions are saved when you make changes while signed in."})}):y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left text-lg",children:[y.jsx("thead",{className:"text-base text-gray-500 uppercase tracking-wider bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-2 font-semibold",children:"Date & Time"}),y.jsx("th",{className:"px-4 py-2 font-semibold",children:"Summary"}),y.jsx("th",{className:"px-4 py-2 font-semibold text-right",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-100",children:i.map((S,M)=>y.jsxs("tr",{className:M===0?"bg-green-50/30":"",children:[y.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center gap-2",children:[M===0&&y.jsx(dn,{className:"text-green-500"}),y.jsx("span",{className:M===0?"font-bold text-gray-900":"text-gray-700",children:b(S.savedAt)}),M===0&&y.jsx("span",{className:"text-base text-green-500 font-medium",children:"(Current)"})]})}),y.jsx("td",{className:"px-4 py-3 text-gray-500",children:x(S.state)}),y.jsx("td",{className:"px-4 py-3 text-right",children:M===0?y.jsx("span",{className:"text-gray-400 italic",children:"Current Version"}):y.jsxs("button",{disabled:d!==null,onClick:()=>v(S.id),className:"inline-flex items-center gap-1.5 px-3 py-1 bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50 transition-colors shadow-sm text-base font-bold",children:[d===S.id?y.jsx(Vs,{}):y.jsx(qP,{}),"Restore"]})})]},S.id))})]})})}),y.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsx("button",{onClick:e,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 text-gray-700 font-bold transition-colors shadow-sm text-lg",children:"Close"})})]})}):null};SD.propTypes={open:R.bool.isRequired,onClose:R.func.isRequired,onRestore:R.func};let wD=class extends Wt.Component{constructor(e){super(e),this.state={isCloudUser:!1,showVersionHistory:!1,isSavingHistory:!1,settingsOpened:!1},this.handleFileUploadClick=this.handleFileUploadClick.bind(this),this.handleFileUpload=this.handleFileUpload.bind(this),this.handleVersionHistoryOpen=this.handleVersionHistoryOpen.bind(this),this.handleVersionHistoryClose=this.handleVersionHistoryClose.bind(this),this.handleForceSaveToHistory=this.handleForceSaveToHistory.bind(this),this.settingsRef=Wt.createRef(),this.fileInput=Wt.createRef(),this.handleClickOutside=this.handleClickOutside.bind(this)}componentDidMount(){this.unsubscribe=lb(Nr,e=>{this.setState({isCloudUser:!!e})}),document.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){this.unsubscribe&&this.unsubscribe(),document.removeEventListener("mousedown",this.handleClickOutside)}handleClickOutside(e){this.settingsRef.current&&!this.settingsRef.current.contains(e.target)&&this.setState({settingsOpened:!1})}handleVisibilityToggle(){return()=>{const e=this.props.visibilityFilter===Jt.SHOW_ALL?Jt.SHOW_ACTIVE:Jt.SHOW_ALL;this.props.setVisibilityFilter(e)}}handleSearchFilterChange(){return e=>{this.props.setSearchValue(e.target.value)}}handleClearFilter(){return()=>{this.props.setSearchValue("")}}handleFileUploadClick(e){e.preventDefault(),this.setState({settingsOpened:!1}),this.fileInput.current.value&&(this.fileInput.current.value=null),this.fileInput.current.click()}handleFileUpload(e){if(e.preventDefault(),!this.fileInput.current.files||!this.fileInput.current.files.length||this.fileInput.current.files.length!==1)return;const t=this.fileInput.current.files[0];if(t.type!=="application/json"||t.size>200*1024)return;const i=new FileReader;i.onload=a=>{const l=a.target.result,c=JSON.parse(l);return this.props.uploadState(c)},i.readAsText(t)}handleVersionHistoryOpen(){this.setState({showVersionHistory:!0,settingsOpened:!1})}handleVersionHistoryClose(){this.setState({showVersionHistory:!1})}async handleSignIn(){try{await jN(Nr,TD),window.location.reload()}catch(e){console.error("Error signing in:",e)}}async handleForceSaveToHistory(){this.setState({isSavingHistory:!0});const e=await kz();this.setState({isSavingHistory:!1}),e?this.forceUpdate():alert("Failed to save to history. Check console for details.")}getCloudTooltip(){const e=Nz();return e===0?"Click to save current state to history":`Click to save current state to history
Last saved: ${new Date(e).toLocaleString()}`}render(){return y.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 ml-auto",children:[y.jsxs("div",{className:"relative flex items-center group text-gray-400 mr-4",children:[y.jsx("input",{type:"text",placeholder:"Filter...",value:this.props.searchFilter,onChange:this.handleSearchFilterChange(),className:"pl-3 pr-10 py-1 w-32 sm:w-48 text-sm bg-transparent focus:outline-none transition-all"}),y.jsx(MP,{className:"transition-colors text-lg pointer-events-none roup-focus-within:text-gray-900"}),this.props.searchFilter&&y.jsx("button",{onClick:this.handleClearFilter(),className:"absolute right-7 top-1/2 -translate-y-1/2 p-0.5 hover:bg-gray-200 rounded-full transition-colors",children:y.jsx(Sn,{className:"text-red-600 text-xs"})})]}),y.jsx("button",{onClick:this.handleVisibilityToggle(),title:"Hide Marked",className:`p-1 cursor-pointer transition-colors ${this.props.visibilityFilter!==Jt.SHOW_ALL?"text-red-600":"text-gray-700 hover:text-gray-900"}`,children:y.jsx(ed,{className:"text-lg"})}),y.jsx(Gu,{to:"/info",title:"Info",className:"p-1 text-gray-700 hover:text-gray-900 transition-colors [&.active]:text-black",children:y.jsx(D0,{className:"text-lg"})}),y.jsx("button",{onClick:this.state.isCloudUser?()=>this.handleForceSaveToHistory():()=>this.handleSignIn(),title:this.state.isCloudUser?this.getCloudTooltip():"Sign in with Google",className:`p-1 cursor-pointer transition-all ${this.state.isCloudUser?"text-sky-700 hover:opacity-80":"text-gray-400 hover:text-gray-600"}`,children:y.jsx(td,{className:`text-lg ${this.state.isSavingHistory?"animate-pulse":""}`})}),y.jsxs("div",{className:"relative",ref:this.settingsRef,children:[y.jsx("button",{onClick:()=>this.setState(e=>({settingsOpened:!e.settingsOpened})),className:"p-1 text-gray-700 hover:text-gray-900 transition-colors cursor-pointer",children:y.jsx(rc,{className:"text-lg"})}),this.state.settingsOpened&&y.jsxs("div",{className:"absolute right-0 mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[y.jsx("div",{className:"px-3 py-1.5 text-base font-semibold text-gray-500 uppercase tracking-wider",children:"Settings"}),y.jsxs("button",{onClick:()=>{this.props.downloadState(),this.setState({settingsOpened:!1})},className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(jP,{className:"mr-2 text-gray-400 text-xl"}),"Download state"]}),y.jsxs("button",{onClick:this.handleFileUploadClick,className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(VP,{className:"mr-2 text-gray-400 text-xl"}),"Upload state"]}),y.jsx("input",{type:"file",ref:this.fileInput,hidden:!0,onChange:this.handleFileUpload}),this.state.isCloudUser&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"border-t border-gray-100 my-1"}),y.jsxs("button",{onClick:()=>this.handleVersionHistoryOpen(),className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(s2,{className:"mr-2 text-gray-400 text-xl"}),"Version History"]})]}),y.jsx("div",{className:"border-t border-gray-100 my-1"}),y.jsx("div",{className:"px-2 py-1",children:y.jsx(xD,{})})]})]}),y.jsx(SD,{open:this.state.showVersionHistory,onClose:this.handleVersionHistoryClose})]})}};wD.propTypes={downloadState:R.func.isRequired,uploadState:R.func.isRequired,setVisibilityFilter:R.func.isRequired,visibilityFilter:R.string.isRequired,setSearchValue:R.func.isRequired,searchFilter:R.string.isRequired};var dd={exports:{}},jz=dd.exports,NC;function Vz(){return NC||(NC=1,(function(r,e){(function(t,i){i()})(jz,function(){function t(m,v){return typeof v>"u"?v={autoBom:!1}:typeof v!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),v={autoBom:!v}),v.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function i(m,v,b){var x=new XMLHttpRequest;x.open("GET",m),x.responseType="blob",x.onload=function(){p(x.response,v,b)},x.onerror=function(){console.error("could not download file")},x.send()}function a(m){var v=new XMLHttpRequest;v.open("HEAD",m,!1);try{v.send()}catch{}return 200<=v.status&&299>=v.status}function l(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(v)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Cs=="object"&&Cs.global===Cs?Cs:void 0,d=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(m,v,b){var x=c.URL||c.webkitURL,S=document.createElement("a");v=v||m.name||"download",S.download=v,S.rel="noopener",typeof m=="string"?(S.href=m,S.origin===location.origin?l(S):a(S.href)?i(m,v,b):l(S,S.target="_blank")):(S.href=x.createObjectURL(m),setTimeout(function(){x.revokeObjectURL(S.href)},4e4),setTimeout(function(){l(S)},0))}:"msSaveOrOpenBlob"in navigator?function(m,v,b){if(v=v||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(t(m,b),v);else if(a(m))i(m,v,b);else{var x=document.createElement("a");x.href=m,x.target="_blank",setTimeout(function(){l(x)})}}:function(m,v,b,x){if(x=x||open("","_blank"),x&&(x.document.title=x.document.body.innerText="downloading..."),typeof m=="string")return i(m,v,b);var S=m.type==="application/octet-stream",M=/constructor/i.test(c.HTMLElement)||c.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||S&&M||d)&&typeof FileReader<"u"){var k=new FileReader;k.onloadend=function(){var X=k.result;X=P?X:X.replace(/^data:[^;]*;/,"data:attachment/file;"),x?x.location.href=X:location=X,x=null},k.readAsDataURL(m)}else{var F=c.URL||c.webkitURL,z=F.createObjectURL(m);x?x.location=z:location.href=z,x=null,setTimeout(function(){F.revokeObjectURL(z)},4e4)}});c.saveAs=p.saveAs=p,r.exports=p})})(dd)),dd.exports}var Pz=Vz();const AD=Yt(Pz),Lz=r=>({visibilityFilter:r.visibilityFilter,searchFilter:r.searchFilter,gameConfig:r.gameConfig,fullState:r}),Uz=r=>({uploadState:e=>r(c5(e)),setVisibilityFilter:e=>r(l5(e)),setSearchValue:e=>r(o5(e))}),qz=(r,e,t)=>({...t,visibilityFilter:r.visibilityFilter,searchFilter:r.searchFilter,gameConfig:r.gameConfig,...e,downloadState:()=>{const i=new Blob([JSON.stringify(r.fullState,null,2)],{type:"text/json;charset=utf-8"});AD.saveAs(i,"state.json")}}),Bz=eV(Lz,Uz,qz)(wD),RD=({configs:r,children:e})=>{const[t,i]=B.useState(!1),a=B.useRef(null),l=zi();B.useEffect(()=>{const m=v=>{a.current&&!a.current.contains(v.target)&&t&&i(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[t]);const c=()=>{i(!t)},d=r.find(m=>l.pathname.startsWith(`/${m.name}`)),p=d?d.title:"Select Game";return y.jsxs("div",{className:"min-h-screen bg-white",children:[y.jsx("header",{className:"sticky top-0 z-40 w-full bg-white border-b border-gray-200",children:y.jsxs("div",{className:"px-3 h-11 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:c,className:"p-1 hover:bg-gray-100 rounded-md transition-colors text-gray-500",title:"Menu",children:y.jsx(kP,{className:"text-lg"})}),y.jsx("span",{className:"text-gray-900 font-bold text-lg truncate",children:p})]}),y.jsx("div",{className:"flex items-center",children:y.jsx(Bz,{})})]})}),y.jsx("div",{className:`fixed inset-0 bg-black/20 backdrop-blur-[1px] z-[60] duration-300 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>i(!1)}),y.jsx("div",{ref:a,className:`fixed inset-y-0 left-0 w-64 bg-white shadow-2xl z-[70] transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"-translate-x-full"}`,children:y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsxs("div",{className:"px-4 py-4 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("span",{className:"font-bold text-xl text-gray-900",children:"Completionist"}),y.jsx("button",{onClick:()=>i(!1),className:"p-1 hover:bg-gray-100 rounded-md transition-colors text-gray-400 hover:text-gray-600",children:y.jsx(Sn,{className:"text-xl"})})]}),y.jsxs("div",{className:"grow overflow-y-auto py-2",children:[y.jsx("div",{className:"px-4 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest border-b border-gray-50 mb-1",children:"Select Game"}),r.map(m=>y.jsx(Gu,{to:`/${m.name}`,onClick:()=>i(!1),className:"flex items-center px-4 py-2.5 text-base text-gray-700 hover:bg-gray-50 transition-colors [&.active]:bg-gray-100 [&.active]:text-black [&.active]:font-bold border-l-4 border-transparent [&.active]:border-black",children:m.title},m.name))]}),y.jsx("div",{className:"py-2 border-t border-gray-100",children:y.jsxs(Gu,{to:"/info",onClick:()=>i(!1),className:"flex items-center px-4 py-2.5 text-base text-gray-700 hover:bg-gray-50 transition-colors [&.active]:bg-gray-100 [&.active]:text-black [&.active]:font-bold border-l-4 border-transparent [&.active]:border-black",children:[y.jsx(D0,{className:"mr-2 text-xl"}),"Info / Credits"]})})]})}),y.jsx("main",{className:"max-w-7xl mx-auto px-2",children:e})]})};RD.propTypes={children:R.node,configs:R.array.isRequired};const Vd=({configs:r})=>{const e=r[0]?.name;return y.jsx(Bj,{children:y.jsx(RD,{configs:r,children:y.jsxs(zI,{children:[y.jsx(Aa,{path:"/info",element:y.jsx(x6,{})}),y.jsx(Aa,{path:"/:gameName/*",element:y.jsx(G2,{configs:r})}),y.jsx(Aa,{path:"/",element:y.jsx(q_,{to:`/${e}`,replace:!0})})]})})})};Vd.propTypes={configs:R.arrayOf(R.shape({name:R.string.isRequired,title:R.string.isRequired}))};var Hv={exports:{}},Ru={},Gv={exports:{}},$v={};var OC;function zz(){return OC||(OC=1,(function(r){function e(ee,he){var ye=ee.length;ee.push(he);e:for(;0<ye;){var Le=ye-1>>>1,Fe=ee[Le];if(0<a(Fe,he))ee[Le]=he,ee[ye]=Fe,ye=Le;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var he=ee[0],ye=ee.pop();if(ye!==he){ee[0]=ye;e:for(var Le=0,Fe=ee.length,U=Fe>>>1;Le<U;){var ne=2*(Le+1)-1,ue=ee[ne],fe=ne+1,Q=ee[fe];if(0>a(ue,ye))fe<Fe&&0>a(Q,ue)?(ee[Le]=Q,ee[fe]=ye,Le=fe):(ee[Le]=ue,ee[ne]=ye,Le=ne);else if(fe<Fe&&0>a(Q,ye))ee[Le]=Q,ee[fe]=ye,Le=fe;else break e}}return he}function a(ee,he){var ye=ee.sortIndex-he.sortIndex;return ye!==0?ye:ee.id-he.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var p=[],m=[],v=1,b=null,x=3,S=!1,M=!1,P=!1,k=!1,F=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function le(ee){for(var he=t(m);he!==null;){if(he.callback===null)i(m);else if(he.startTime<=ee)i(m),he.sortIndex=he.expirationTime,e(p,he);else break;he=t(m)}}function ce(ee){if(P=!1,le(ee),!M)if(t(p)!==null)M=!0,oe||(oe=!0,L());else{var he=t(m);he!==null&&Ne(ce,he.startTime-ee)}}var oe=!1,I=-1,C=5,O=-1;function j(){return k?!0:!(r.unstable_now()-O<C)}function D(){if(k=!1,oe){var ee=r.unstable_now();O=ee;var he=!0;try{e:{M=!1,P&&(P=!1,z(I),I=-1),S=!0;var ye=x;try{t:{for(le(ee),b=t(p);b!==null&&!(b.expirationTime>ee&&j());){var Le=b.callback;if(typeof Le=="function"){b.callback=null,x=b.priorityLevel;var Fe=Le(b.expirationTime<=ee);if(ee=r.unstable_now(),typeof Fe=="function"){b.callback=Fe,le(ee),he=!0;break t}b===t(p)&&i(p),le(ee)}else i(p);b=t(p)}if(b!==null)he=!0;else{var U=t(m);U!==null&&Ne(ce,U.startTime-ee),he=!1}}break e}finally{b=null,x=ye,S=!1}he=void 0}}finally{he?L():oe=!1}}}var L;if(typeof X=="function")L=function(){X(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Re=N.port2;N.port1.onmessage=D,L=function(){Re.postMessage(null)}}else L=function(){F(D,0)};function Ne(ee,he){I=F(function(){ee(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(ee){switch(x){case 1:case 2:case 3:var he=3;break;default:he=x}var ye=x;x=he;try{return ee()}finally{x=ye}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(ee,he){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ye=x;x=ee;try{return he()}finally{x=ye}},r.unstable_scheduleCallback=function(ee,he,ye){var Le=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Le+ye:Le):ye=Le,ee){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ye+Fe,ee={id:v++,callback:he,priorityLevel:ee,startTime:ye,expirationTime:Fe,sortIndex:-1},ye>Le?(ee.sortIndex=ye,e(m,ee),t(p)===null&&ee===t(m)&&(P?(z(I),I=-1):P=!0,Ne(ce,ye-Le))):(ee.sortIndex=Fe,e(p,ee),M||S||(M=!0,oe||(oe=!0,L()))),ee},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(ee){var he=x;return function(){var ye=x;x=he;try{return ee.apply(this,arguments)}finally{x=ye}}}})($v)),$v}var DC;function Fz(){return DC||(DC=1,Gv.exports=zz()),Gv.exports}var kC;function Hz(){if(kC)return Ru;kC=1;var r=Fz(),e=Ld(),t=Xj();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(i(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return p(f),n;if(g===u)return p(f),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,w=f.child;w;){if(w===o){E=!0,o=f,u=g;break}if(w===u){E=!0,u=f,o=g;break}w=w.sibling}if(!E){for(w=g.child;w;){if(w===o){E=!0,o=g,u=f;break}if(w===u){E=!0,u=g,o=f;break}w=w.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),X=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function Re(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case F:return"Profiler";case k:return"StrictMode";case ce:return"Suspense";case oe:return"SuspenseList";case O:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case M:return"Portal";case X:return n.displayName||"Context";case z:return(n._context.displayName||"Context")+".Consumer";case le:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return s=n.displayName||null,s!==null?s:Re(n.type)||"Memo";case C:s=n._payload,n=n._init;try{return Re(n(s))}catch{}}return null}var Ne=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Le=[],Fe=-1;function U(n){return{current:n}}function ne(n){0>Fe||(n.current=Le[Fe],Le[Fe]=null,Fe--)}function ue(n,s){Fe++,Le[Fe]=n.current,n.current=s}var fe=U(null),Q=U(null),Y=U(null),pe=U(null);function je(n,s){switch(ue(Y,s),ue(Q,n),ue(fe,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?GT(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=GT(s),n=$T(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(fe),ue(fe,n)}function be(){ne(fe),ne(Q),ne(Y)}function Ue(n){n.memoizedState!==null&&ue(pe,n);var s=fe.current,o=$T(s,n.type);s!==o&&(ue(Q,n),ue(fe,o))}function Oe(n){Q.current===n&&(ne(fe),ne(Q)),pe.current===n&&(ne(pe),mu._currentValue=ye)}var xe,He;function ze(n){if(xe===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);xe=s&&s[1]||"",He=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+n+He}var Ae=!1;function ot(n,s){if(!n||Ae)return"";Ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var W=Z}Reflect.construct(n,[],se)}else{try{se.call()}catch(Z){W=Z}n.call(se.prototype)}}else{try{throw Error()}catch(Z){W=Z}(se=n())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],w=g[1];if(E&&w){var V=E.split(`
`),K=w.split(`
`);for(f=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===V.length||f===K.length)for(u=V.length-1,f=K.length-1;1<=u&&0<=f&&V[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(V[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||V[u]!==K[f]){var te=`
`+V[u].replace(" at new "," at ");return n.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",n.displayName)),te}while(1<=u&&0<=f);break}}}finally{Ae=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?ze(o):""}function qe(n,s){switch(n.tag){case 26:case 27:case 5:return ze(n.type);case 16:return ze("Lazy");case 13:return n.child!==s&&s!==null?ze("Suspense Fallback"):ze("Suspense");case 19:return ze("SuspenseList");case 0:case 15:return ot(n.type,!1);case 11:return ot(n.type.render,!1);case 1:return ot(n.type,!0);case 31:return ze("Activity");default:return""}}function $n(n){try{var s="",o=null;do s+=qe(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var mt=Object.prototype.hasOwnProperty,Ct=r.unstable_scheduleCallback,Mn=r.unstable_cancelCallback,Kn=r.unstable_shouldYield,Qt=r.unstable_requestPaint,Mt=r.unstable_now,Wn=r.unstable_getCurrentPriorityLevel,Hs=r.unstable_ImmediatePriority,Hi=r.unstable_UserBlockingPriority,En=r.unstable_NormalPriority,Ka=r.unstable_LowPriority,Gs=r.unstable_IdlePriority,Wa=r.log,$s=r.unstable_setDisableYieldValue,jt=null,vt=null;function Yn(n){if(typeof Wa=="function"&&$s(n),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(jt,n)}catch{}}var It=Math.clz32?Math.clz32:bc,_c=Math.log,Ya=Math.LN2;function bc(n){return n>>>=0,n===0?32:31-(_c(n)/Ya|0)|0}var Mr=256,Ks=262144,Vt=4194304;function jr(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Vr(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,g=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?f=jr(u):(E&=w,E!==0?f=jr(E):o||(o=w&~n,o!==0&&(f=jr(o))))):(w=u&~g,w!==0?f=jr(w):E!==0?f=jr(E):o||(o=u&~n,o!==0&&(f=jr(o)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:f}function dr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Cf(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ec(){var n=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),n}function Pr(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Ws(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function If(n,s,o,u,f,g){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var w=n.entanglements,V=n.expirationTimes,K=n.hiddenUpdates;for(o=E&~o;0<o;){var te=31-It(o),se=1<<te;w[te]=0,V[te]=-1;var W=K[te];if(W!==null)for(K[te]=null,te=0;te<W.length;te++){var Z=W[te];Z!==null&&(Z.lane&=-536870913)}o&=~se}u!==0&&Ys(n,u,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(E&~s))}function Ys(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-It(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function bl(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-It(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function El(n,s){var o=s&-s;return o=(o&42)!==0?1:Qs(o),(o&(n.suspendedLanes|s))!==0?0:o}function Qs(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ci(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Tc(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:mx(n.type))}function fr(n,s){var o=he.p;try{return he.p=n,s()}finally{he.p=o}}var pr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+pr,en="__reactProps$"+pr,Lr="__reactContainer$"+pr,Qa="__reactEvents$"+pr,Nf="__reactListeners$"+pr,xc="__reactHandles$"+pr,Sc="__reactResources$"+pr,Ur="__reactMarker$"+pr;function Xa(n){delete n[Pt],delete n[en],delete n[Qa],delete n[Nf],delete n[xc]}function qr(n){var s=n[Pt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Lr]||o[Pt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=ZT(n);n!==null;){if(o=n[Pt])return o;n=ZT(n)}return s}n=o,o=n.parentNode}return null}function Qn(n){if(n=n[Pt]||n[Lr]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function jn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Br(n){var s=n[Sc];return s||(s=n[Sc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Lt(n){n[Ur]=!0}var Tl=new Set,xl={};function zr(n,s){Fr(n,s),Fr(n+"Capture",s)}function Fr(n,s){for(xl[n]=s,n=0;n<s.length;n++)Tl.add(s[n])}var Sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wl={},Al={};function wc(n){return mt.call(Al,n)?!0:mt.call(wl,n)?!1:Sl.test(n)?Al[n]=!0:(wl[n]=!0,!1)}function Ja(n,s,o){if(wc(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function Vn(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Ut(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Gi(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Rl(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,g=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function lt(n){if(!n._valueTracker){var s=Gi(n)?"checked":"value";n._valueTracker=Rl(n,s,""+n[s])}}function Xs(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Gi(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Hr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Js=/[\n"\\]/g;function wn(n){return n.replace(Js,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Za(n,s,o,u,f,g,E,w){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+tn(s)):n.value!==""+tn(s)&&(n.value=""+tn(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?Cl(n,E,tn(s)):o!=null?Cl(n,E,tn(o)):u!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+tn(w):n.removeAttribute("name")}function Ac(n,s,o,u,f,g,E,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){lt(n);return}o=o!=null?""+tn(o):"",s=s!=null?""+tn(s):o,w||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=w?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),lt(n)}function Cl(n,s,o){s==="number"&&Hr(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function $i(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+tn(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Rc(n,s,o){if(s!=null&&(s=""+tn(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+tn(o):""}function Ki(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(Ne(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=tn(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),lt(n)}function An(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Cc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Il(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||Cc.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Nl(n,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Il(n,f,u)}else for(var g in s)s.hasOwnProperty(g)&&Il(n,g,s[g])}function eo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ic=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(n){return Wi.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function mr(){}var Ol=null;function Xn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Yi=null,Gr=null;function Zs(n){var s=Qn(n);if(s&&(n=s.stateNode)){var o=n[en]||null;e:switch(n=s.stateNode,s.type){case"input":if(Za(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[en]||null;if(!f)throw Error(i(90));Za(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Xs(u)}break e;case"textarea":Rc(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&$i(n,!!o.multiple,s,!1)}}}var no=!1;function Qi(n,s,o){if(no)return n(s,o);no=!0;try{var u=n(s);return u}finally{if(no=!1,(Yi!==null||Gr!==null)&&(Th(),Yi&&(s=Yi,n=Gr,Gr=Yi=null,Zs(s),n)))for(s=0;s<n.length;s++)Zs(n[s])}}function gr(n,s){var o=n.stateNode;if(o===null)return null;var u=o[en]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ea=!1;if(Jn)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){ea=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{ea=!1}var $r=null,Dl=null,ta=null;function kl(){if(ta)return ta;var n,s=Dl,o=s.length,u,f="value"in $r?$r.value:$r.textContent,g=f.length;for(n=0;n<o&&s[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&s[o-u]===f[g-u];u++);return ta=f.slice(n,1<u?1-u:void 0)}function na(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function hi(){return!0}function yr(){return!1}function sn(n){function s(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(o=n[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hi:yr,this.isPropagationStopped=yr,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),s}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kr=sn(di),Xi=b({},di,{view:0,detail:0}),Ml=sn(Xi),Ji,ro,Wr,io=b({},Xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zi,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Wr&&(Wr&&n.type==="mousemove"?(Ji=n.screenX-Wr.screenX,ro=n.screenY-Wr.screenY):ro=Ji=0,Wr=n),Ji)},movementY:function(n){return"movementY"in n?n.movementY:ro}}),jl=sn(io),ra=b({},io,{dataTransfer:0}),Nc=sn(ra),Oc=b({},Xi,{relatedTarget:0}),ia=sn(Oc),Vl=b({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),Dc=sn(Vl),so=b({},di,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),kc=sn(so),Mc=b({},di,{data:0}),Yr=sn(Mc),jc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Pc[n])?!!s[n]:!1}function Zi(){return Lc}var Tn=b({},Xi,{key:function(n){if(n.key){var s=jc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=na(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Vc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zi,charCode:function(n){return n.type==="keypress"?na(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?na(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Uc=sn(Tn),qc=b({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fi=sn(qc),h=b({},Xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zi}),_=sn(h),T=b({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=sn(T),G=b({},io,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),J=sn(G),de=b({},di,{newState:0,oldState:0}),Ve=sn(de),Nt=[9,13,27,32],it=Jn&&"CompositionEvent"in window,Tt=null;Jn&&"documentMode"in document&&(Tt=document.documentMode);var Zn=Jn&&"TextEvent"in window&&!Tt,Qr=Jn&&(!it||Tt&&8<Tt&&11>=Tt),vr=" ",_r=!1;function sa(n,s){switch(n){case"keyup":return Nt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ao(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var oo=!1;function zD(n,s){switch(n){case"compositionend":return ao(s);case"keypress":return s.which!==32?null:(_r=!0,vr);case"textInput":return n=s.data,n===vr&&_r?null:n;default:return null}}function FD(n,s){if(oo)return n==="compositionend"||!it&&sa(n,s)?(n=kl(),ta=Dl=$r=null,oo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Qr&&s.locale!=="ko"?null:s.data;default:return null}}var HD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n1(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!HD[n.type]:s==="textarea"}function r1(n,s,o,u){Yi?Gr?Gr.push(u):Gr=[u]:Yi=u,s=Ih(s,"onChange"),0<s.length&&(o=new Kr("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Pl=null,Ll=null;function GD(n){UT(n,0)}function Bc(n){var s=jn(n);if(Xs(s))return n}function i1(n,s){if(n==="change")return s}var s1=!1;if(Jn){var Of;if(Jn){var Df="oninput"in document;if(!Df){var a1=document.createElement("div");a1.setAttribute("oninput","return;"),Df=typeof a1.oninput=="function"}Of=Df}else Of=!1;s1=Of&&(!document.documentMode||9<document.documentMode)}function o1(){Pl&&(Pl.detachEvent("onpropertychange",l1),Ll=Pl=null)}function l1(n){if(n.propertyName==="value"&&Bc(Ll)){var s=[];r1(s,Ll,n,Xn(n)),Qi(GD,s)}}function $D(n,s,o){n==="focusin"?(o1(),Pl=s,Ll=o,Pl.attachEvent("onpropertychange",l1)):n==="focusout"&&o1()}function KD(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Bc(Ll)}function WD(n,s){if(n==="click")return Bc(s)}function YD(n,s){if(n==="input"||n==="change")return Bc(s)}function QD(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Pn=typeof Object.is=="function"?Object.is:QD;function Ul(n,s){if(Pn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!mt.call(s,f)||!Pn(n[f],s[f]))return!1}return!0}function u1(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function c1(n,s){var o=u1(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=u1(o)}}function h1(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?h1(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function d1(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Hr(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Hr(n.document)}return s}function kf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var XD=Jn&&"documentMode"in document&&11>=document.documentMode,lo=null,Mf=null,ql=null,jf=!1;function f1(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;jf||lo==null||lo!==Hr(u)||(u=lo,"selectionStart"in u&&kf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ql&&Ul(ql,u)||(ql=u,u=Ih(Mf,"onSelect"),0<u.length&&(s=new Kr("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=lo)))}function aa(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var uo={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},Vf={},p1={};Jn&&(p1=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function oa(n){if(Vf[n])return Vf[n];if(!uo[n])return n;var s=uo[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in p1)return Vf[n]=s[o];return n}var m1=oa("animationend"),g1=oa("animationiteration"),y1=oa("animationstart"),JD=oa("transitionrun"),ZD=oa("transitionstart"),ek=oa("transitioncancel"),v1=oa("transitionend"),_1=new Map,Pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pf.push("scrollEnd");function br(n,s){_1.set(n,s),zr(s,[n])}var zc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},er=[],co=0,Lf=0;function Fc(){for(var n=co,s=Lf=co=0;s<n;){var o=er[s];er[s++]=null;var u=er[s];er[s++]=null;var f=er[s];er[s++]=null;var g=er[s];if(er[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&b1(o,f,g)}}function Hc(n,s,o,u){er[co++]=n,er[co++]=s,er[co++]=o,er[co++]=u,Lf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Uf(n,s,o,u){return Hc(n,s,o,u),Gc(n)}function la(n,s){return Hc(n,null,null,s),Gc(n)}function b1(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&s!==null&&(f=31-It(o),n=g.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),g):null}function Gc(n){if(50<lu)throw lu=0,Wp=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ho={};function tk(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(n,s,o,u){return new tk(n,s,o,u)}function qf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function pi(n,s){var o=n.alternate;return o===null?(o=Ln(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function E1(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function $c(n,s,o,u,f,g){var E=0;if(u=n,typeof n=="function")qf(n)&&(E=1);else if(typeof n=="string")E=aM(n,o,fe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case O:return n=Ln(31,o,s,f),n.elementType=O,n.lanes=g,n;case P:return ua(o.children,f,g,s);case k:E=8,f|=24;break;case F:return n=Ln(12,o,s,f|2),n.elementType=F,n.lanes=g,n;case ce:return n=Ln(13,o,s,f),n.elementType=ce,n.lanes=g,n;case oe:return n=Ln(19,o,s,f),n.elementType=oe,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case X:E=10;break e;case z:E=9;break e;case le:E=11;break e;case I:E=14;break e;case C:E=16,u=null;break e}E=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=Ln(E,o,s,f),s.elementType=n,s.type=u,s.lanes=g,s}function ua(n,s,o,u){return n=Ln(7,n,u,s),n.lanes=o,n}function Bf(n,s,o){return n=Ln(6,n,null,s),n.lanes=o,n}function T1(n){var s=Ln(18,null,null,0);return s.stateNode=n,s}function zf(n,s,o){return s=Ln(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var x1=new WeakMap;function tr(n,s){if(typeof n=="object"&&n!==null){var o=x1.get(n);return o!==void 0?o:(s={value:n,source:s,stack:$n(s)},x1.set(n,s),s)}return{value:n,source:s,stack:$n(s)}}var fo=[],po=0,Kc=null,Bl=0,nr=[],rr=0,es=null,Xr=1,Jr="";function mi(n,s){fo[po++]=Bl,fo[po++]=Kc,Kc=n,Bl=s}function S1(n,s,o){nr[rr++]=Xr,nr[rr++]=Jr,nr[rr++]=es,es=n;var u=Xr;n=Jr;var f=32-It(u)-1;u&=~(1<<f),o+=1;var g=32-It(s)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Xr=1<<32-It(s)+f|o<<f|u,Jr=g+n}else Xr=1<<g|o<<f|u,Jr=n}function Ff(n){n.return!==null&&(mi(n,1),S1(n,1,0))}function Hf(n){for(;n===Kc;)Kc=fo[--po],fo[po]=null,Bl=fo[--po],fo[po]=null;for(;n===es;)es=nr[--rr],nr[rr]=null,Jr=nr[--rr],nr[rr]=null,Xr=nr[--rr],nr[rr]=null}function w1(n,s){nr[rr++]=Xr,nr[rr++]=Jr,nr[rr++]=es,Xr=s.id,Jr=s.overflow,es=n}var an=null,_t=null,et=!1,ts=null,ir=!1,Gf=Error(i(519));function ns(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(tr(s,n)),Gf}function A1(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Pt]=n,s[en]=u,o){case"dialog":$e("cancel",s),$e("close",s);break;case"iframe":case"object":case"embed":$e("load",s);break;case"video":case"audio":for(o=0;o<cu.length;o++)$e(cu[o],s);break;case"source":$e("error",s);break;case"img":case"image":case"link":$e("error",s),$e("load",s);break;case"details":$e("toggle",s);break;case"input":$e("invalid",s),Ac(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":$e("invalid",s);break;case"textarea":$e("invalid",s),Ki(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||FT(s.textContent,o)?(u.popover!=null&&($e("beforetoggle",s),$e("toggle",s)),u.onScroll!=null&&$e("scroll",s),u.onScrollEnd!=null&&$e("scrollend",s),u.onClick!=null&&(s.onclick=mr),s=!0):s=!1,s||ns(n,!0)}function R1(n){for(an=n.return;an;)switch(an.tag){case 5:case 31:case 13:ir=!1;return;case 27:case 3:ir=!0;return;default:an=an.return}}function mo(n){if(n!==an)return!1;if(!et)return R1(n),et=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||um(n.type,n.memoizedProps)),o=!o),o&&_t&&ns(n),R1(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));_t=JT(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));_t=JT(n)}else s===27?(s=_t,gs(n.type)?(n=pm,pm=null,_t=n):_t=s):_t=an?ar(n.stateNode.nextSibling):null;return!0}function ca(){_t=an=null,et=!1}function $f(){var n=ts;return n!==null&&(Nn===null?Nn=n:Nn.push.apply(Nn,n),ts=null),n}function zl(n){ts===null?ts=[n]:ts.push(n)}var Kf=U(null),ha=null,gi=null;function rs(n,s,o){ue(Kf,s._currentValue),s._currentValue=o}function yi(n){n._currentValue=Kf.current,ne(Kf)}function Wf(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Yf(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=f;for(var V=0;V<s.length;V++)if(w.context===s[V]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Wf(g.return,o,n),u||(E=null);break e}g=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Wf(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function go(n,s,o,u){n=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var w=f.type;Pn(f.pendingProps.value,E.value)||(n!==null?n.push(w):n=[w])}}else if(f===pe.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(mu):n=[mu])}f=f.return}n!==null&&Yf(s,n,o,u),s.flags|=262144}function Wc(n){for(n=n.firstContext;n!==null;){if(!Pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function da(n){ha=n,gi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function on(n){return C1(ha,n)}function Yc(n,s){return ha===null&&da(n),C1(n,s)}function C1(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},gi===null){if(n===null)throw Error(i(308));gi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else gi=gi.next=s;return o}var nk=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},rk=r.unstable_scheduleCallback,ik=r.unstable_NormalPriority,qt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qf(){return{controller:new nk,data:new Map,refCount:0}}function Fl(n){n.refCount--,n.refCount===0&&rk(ik,function(){n.controller.abort()})}var Hl=null,Xf=0,yo=0,vo=null;function sk(n,s){if(Hl===null){var o=Hl=[];Xf=0,yo=em(),vo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Xf++,s.then(I1,I1),s}function I1(){if(--Xf===0&&Hl!==null){vo!==null&&(vo.status="fulfilled");var n=Hl;Hl=null,yo=0,vo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function ak(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var N1=ee.S;ee.S=function(n,s){fT=Mt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&sk(n,s),N1!==null&&N1(n,s)};var fa=U(null);function Jf(){var n=fa.current;return n!==null?n:gt.pooledCache}function Qc(n,s){s===null?ue(fa,fa.current):ue(fa,s.pool)}function O1(){var n=Jf();return n===null?null:{parent:qt._currentValue,pool:n}}var _o=Error(i(460)),Zf=Error(i(474)),Xc=Error(i(542)),Jc={then:function(){}};function D1(n){return n=n.status,n==="fulfilled"||n==="rejected"}function k1(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(mr,mr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,j1(n),n;default:if(typeof s.status=="string")s.then(mr,mr);else{if(n=gt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,j1(n),n}throw ma=s,_o}}function pa(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ma=o,_o):o}}var ma=null;function M1(){if(ma===null)throw Error(i(459));var n=ma;return ma=null,n}function j1(n){if(n===_o||n===Xc)throw Error(i(483))}var bo=null,Gl=0;function Zc(n){var s=Gl;return Gl+=1,bo===null&&(bo=[]),k1(bo,n,s)}function $l(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function eh(n,s){throw s.$$typeof===x?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function V1(n){function s(H,q){if(n){var $=H.deletions;$===null?(H.deletions=[q],H.flags|=16):$.push(q)}}function o(H,q){if(!n)return null;for(;q!==null;)s(H,q),q=q.sibling;return null}function u(H){for(var q=new Map;H!==null;)H.key!==null?q.set(H.key,H):q.set(H.index,H),H=H.sibling;return q}function f(H,q){return H=pi(H,q),H.index=0,H.sibling=null,H}function g(H,q,$){return H.index=$,n?($=H.alternate,$!==null?($=$.index,$<q?(H.flags|=67108866,q):$):(H.flags|=67108866,q)):(H.flags|=1048576,q)}function E(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function w(H,q,$,re){return q===null||q.tag!==6?(q=Bf($,H.mode,re),q.return=H,q):(q=f(q,$),q.return=H,q)}function V(H,q,$,re){var Ee=$.type;return Ee===P?te(H,q,$.props.children,re,$.key):q!==null&&(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===C&&pa(Ee)===q.type)?(q=f(q,$.props),$l(q,$),q.return=H,q):(q=$c($.type,$.key,$.props,null,H.mode,re),$l(q,$),q.return=H,q)}function K(H,q,$,re){return q===null||q.tag!==4||q.stateNode.containerInfo!==$.containerInfo||q.stateNode.implementation!==$.implementation?(q=zf($,H.mode,re),q.return=H,q):(q=f(q,$.children||[]),q.return=H,q)}function te(H,q,$,re,Ee){return q===null||q.tag!==7?(q=ua($,H.mode,re,Ee),q.return=H,q):(q=f(q,$),q.return=H,q)}function se(H,q,$){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Bf(""+q,H.mode,$),q.return=H,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return $=$c(q.type,q.key,q.props,null,H.mode,$),$l($,q),$.return=H,$;case M:return q=zf(q,H.mode,$),q.return=H,q;case C:return q=pa(q),se(H,q,$)}if(Ne(q)||L(q))return q=ua(q,H.mode,$,null),q.return=H,q;if(typeof q.then=="function")return se(H,Zc(q),$);if(q.$$typeof===X)return se(H,Yc(H,q),$);eh(H,q)}return null}function W(H,q,$,re){var Ee=q!==null?q.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Ee!==null?null:w(H,q,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return $.key===Ee?V(H,q,$,re):null;case M:return $.key===Ee?K(H,q,$,re):null;case C:return $=pa($),W(H,q,$,re)}if(Ne($)||L($))return Ee!==null?null:te(H,q,$,re,null);if(typeof $.then=="function")return W(H,q,Zc($),re);if($.$$typeof===X)return W(H,q,Yc(H,$),re);eh(H,$)}return null}function Z(H,q,$,re,Ee){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return H=H.get($)||null,w(q,H,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case S:return H=H.get(re.key===null?$:re.key)||null,V(q,H,re,Ee);case M:return H=H.get(re.key===null?$:re.key)||null,K(q,H,re,Ee);case C:return re=pa(re),Z(H,q,$,re,Ee)}if(Ne(re)||L(re))return H=H.get($)||null,te(q,H,re,Ee,null);if(typeof re.then=="function")return Z(H,q,$,Zc(re),Ee);if(re.$$typeof===X)return Z(H,q,$,Yc(q,re),Ee);eh(q,re)}return null}function ve(H,q,$,re){for(var Ee=null,nt=null,_e=q,Be=q=0,We=null;_e!==null&&Be<$.length;Be++){_e.index>Be?(We=_e,_e=null):We=_e.sibling;var rt=W(H,_e,$[Be],re);if(rt===null){_e===null&&(_e=We);break}n&&_e&&rt.alternate===null&&s(H,_e),q=g(rt,q,Be),nt===null?Ee=rt:nt.sibling=rt,nt=rt,_e=We}if(Be===$.length)return o(H,_e),et&&mi(H,Be),Ee;if(_e===null){for(;Be<$.length;Be++)_e=se(H,$[Be],re),_e!==null&&(q=g(_e,q,Be),nt===null?Ee=_e:nt.sibling=_e,nt=_e);return et&&mi(H,Be),Ee}for(_e=u(_e);Be<$.length;Be++)We=Z(_e,H,Be,$[Be],re),We!==null&&(n&&We.alternate!==null&&_e.delete(We.key===null?Be:We.key),q=g(We,q,Be),nt===null?Ee=We:nt.sibling=We,nt=We);return n&&_e.forEach(function(Es){return s(H,Es)}),et&&mi(H,Be),Ee}function Se(H,q,$,re){if($==null)throw Error(i(151));for(var Ee=null,nt=null,_e=q,Be=q=0,We=null,rt=$.next();_e!==null&&!rt.done;Be++,rt=$.next()){_e.index>Be?(We=_e,_e=null):We=_e.sibling;var Es=W(H,_e,rt.value,re);if(Es===null){_e===null&&(_e=We);break}n&&_e&&Es.alternate===null&&s(H,_e),q=g(Es,q,Be),nt===null?Ee=Es:nt.sibling=Es,nt=Es,_e=We}if(rt.done)return o(H,_e),et&&mi(H,Be),Ee;if(_e===null){for(;!rt.done;Be++,rt=$.next())rt=se(H,rt.value,re),rt!==null&&(q=g(rt,q,Be),nt===null?Ee=rt:nt.sibling=rt,nt=rt);return et&&mi(H,Be),Ee}for(_e=u(_e);!rt.done;Be++,rt=$.next())rt=Z(_e,H,Be,rt.value,re),rt!==null&&(n&&rt.alternate!==null&&_e.delete(rt.key===null?Be:rt.key),q=g(rt,q,Be),nt===null?Ee=rt:nt.sibling=rt,nt=rt);return n&&_e.forEach(function(yM){return s(H,yM)}),et&&mi(H,Be),Ee}function pt(H,q,$,re){if(typeof $=="object"&&$!==null&&$.type===P&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case S:e:{for(var Ee=$.key;q!==null;){if(q.key===Ee){if(Ee=$.type,Ee===P){if(q.tag===7){o(H,q.sibling),re=f(q,$.props.children),re.return=H,H=re;break e}}else if(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===C&&pa(Ee)===q.type){o(H,q.sibling),re=f(q,$.props),$l(re,$),re.return=H,H=re;break e}o(H,q);break}else s(H,q);q=q.sibling}$.type===P?(re=ua($.props.children,H.mode,re,$.key),re.return=H,H=re):(re=$c($.type,$.key,$.props,null,H.mode,re),$l(re,$),re.return=H,H=re)}return E(H);case M:e:{for(Ee=$.key;q!==null;){if(q.key===Ee)if(q.tag===4&&q.stateNode.containerInfo===$.containerInfo&&q.stateNode.implementation===$.implementation){o(H,q.sibling),re=f(q,$.children||[]),re.return=H,H=re;break e}else{o(H,q);break}else s(H,q);q=q.sibling}re=zf($,H.mode,re),re.return=H,H=re}return E(H);case C:return $=pa($),pt(H,q,$,re)}if(Ne($))return ve(H,q,$,re);if(L($)){if(Ee=L($),typeof Ee!="function")throw Error(i(150));return $=Ee.call($),Se(H,q,$,re)}if(typeof $.then=="function")return pt(H,q,Zc($),re);if($.$$typeof===X)return pt(H,q,Yc(H,$),re);eh(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,q!==null&&q.tag===6?(o(H,q.sibling),re=f(q,$),re.return=H,H=re):(o(H,q),re=Bf($,H.mode,re),re.return=H,H=re),E(H)):o(H,q)}return function(H,q,$,re){try{Gl=0;var Ee=pt(H,q,$,re);return bo=null,Ee}catch(_e){if(_e===_o||_e===Xc)throw _e;var nt=Ln(29,_e,null,H.mode);return nt.lanes=re,nt.return=H,nt}}}var ga=V1(!0),P1=V1(!1),is=!1;function ep(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tp(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ss(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function as(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(st&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Gc(n),b1(n,null,o),s}return Hc(n,u,s,o),Gc(n)}function Kl(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,bl(n,o)}}function np(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var rp=!1;function Wl(){if(rp){var n=vo;if(n!==null)throw n}}function Yl(n,s,o,u){rp=!1;var f=n.updateQueue;is=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var V=w,K=V.next;V.next=null,E===null?g=K:E.next=K,E=V;var te=n.alternate;te!==null&&(te=te.updateQueue,w=te.lastBaseUpdate,w!==E&&(w===null?te.firstBaseUpdate=K:w.next=K,te.lastBaseUpdate=V))}if(g!==null){var se=f.baseState;E=0,te=K=V=null,w=g;do{var W=w.lane&-536870913,Z=W!==w.lane;if(Z?(Ke&W)===W:(u&W)===W){W!==0&&W===yo&&(rp=!0),te!==null&&(te=te.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ve=n,Se=w;W=s;var pt=o;switch(Se.tag){case 1:if(ve=Se.payload,typeof ve=="function"){se=ve.call(pt,se,W);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Se.payload,W=typeof ve=="function"?ve.call(pt,se,W):ve,W==null)break e;se=b({},se,W);break e;case 2:is=!0}}W=w.callback,W!==null&&(n.flags|=64,Z&&(n.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:w.tag,payload:w.payload,callback:w.callback,next:null},te===null?(K=te=Z,V=se):te=te.next=Z,E|=W;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Z=w,w=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);te===null&&(V=se),f.baseState=V,f.firstBaseUpdate=K,f.lastBaseUpdate=te,g===null&&(f.shared.lanes=0),hs|=E,n.lanes=E,n.memoizedState=se}}function L1(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function U1(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)L1(o[n],s)}var Eo=U(null),th=U(0);function q1(n,s){n=Ai,ue(th,n),ue(Eo,s),Ai=n|s.baseLanes}function ip(){ue(th,Ai),ue(Eo,Eo.current)}function sp(){Ai=th.current,ne(Eo),ne(th)}var Un=U(null),sr=null;function os(n){var s=n.alternate;ue(Ot,Ot.current&1),ue(Un,n),sr===null&&(s===null||Eo.current!==null||s.memoizedState!==null)&&(sr=n)}function ap(n){ue(Ot,Ot.current),ue(Un,n),sr===null&&(sr=n)}function B1(n){n.tag===22?(ue(Ot,Ot.current),ue(Un,n),sr===null&&(sr=n)):ls()}function ls(){ue(Ot,Ot.current),ue(Un,Un.current)}function qn(n){ne(Un),sr===n&&(sr=null),ne(Ot)}var Ot=U(0);function nh(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||dm(o)||fm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var vi=0,Pe=null,dt=null,Bt=null,rh=!1,To=!1,ya=!1,ih=0,Ql=0,xo=null,ok=0;function At(){throw Error(i(321))}function op(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!Pn(n[o],s[o]))return!1;return!0}function lp(n,s,o,u,f,g){return vi=g,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ee.H=n===null||n.memoizedState===null?SE:xp,ya=!1,g=o(u,f),ya=!1,To&&(g=F1(s,o,u,f)),z1(n),g}function z1(n){ee.H=Zl;var s=dt!==null&&dt.next!==null;if(vi=0,Bt=dt=Pe=null,rh=!1,Ql=0,xo=null,s)throw Error(i(300));n===null||zt||(n=n.dependencies,n!==null&&Wc(n)&&(zt=!0))}function F1(n,s,o,u){Pe=n;var f=0;do{if(To&&(xo=null),Ql=0,To=!1,25<=f)throw Error(i(301));if(f+=1,Bt=dt=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}ee.H=wE,g=s(o,u)}while(To);return g}function lk(){var n=ee.H,s=n.useState()[0];return s=typeof s.then=="function"?Xl(s):s,n=n.useState()[0],(dt!==null?dt.memoizedState:null)!==n&&(Pe.flags|=1024),s}function up(){var n=ih!==0;return ih=0,n}function cp(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function hp(n){if(rh){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}rh=!1}vi=0,Bt=dt=Pe=null,To=!1,Ql=ih=0,xo=null}function xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Pe.memoizedState=Bt=n:Bt=Bt.next=n,Bt}function Dt(){if(dt===null){var n=Pe.alternate;n=n!==null?n.memoizedState:null}else n=dt.next;var s=Bt===null?Pe.memoizedState:Bt.next;if(s!==null)Bt=s,dt=n;else{if(n===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));dt=n,n={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Bt===null?Pe.memoizedState=Bt=n:Bt=Bt.next=n}return Bt}function sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(n){var s=Ql;return Ql+=1,xo===null&&(xo=[]),n=k1(xo,n,s),s=Pe,(Bt===null?s.memoizedState:Bt.next)===null&&(s=s.alternate,ee.H=s===null||s.memoizedState===null?SE:xp),n}function ah(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Xl(n);if(n.$$typeof===X)return on(n)}throw Error(i(438,String(n)))}function dp(n){var s=null,o=Pe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=sh(),Pe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=j;return s.index++,o}function _i(n,s){return typeof s=="function"?s(n):s}function oh(n){var s=Dt();return fp(s,dt,n)}function fp(n,s,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=n.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}s.baseQueue=f=g,u.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{s=f.next;var w=E=null,V=null,K=s,te=!1;do{var se=K.lane&-536870913;if(se!==K.lane?(Ke&se)===se:(vi&se)===se){var W=K.revertLane;if(W===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),se===yo&&(te=!0);else if((vi&W)===W){K=K.next,W===yo&&(te=!0);continue}else se={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(w=V=se,E=g):V=V.next=se,Pe.lanes|=W,hs|=W;se=K.action,ya&&o(g,se),g=K.hasEagerState?K.eagerState:o(g,se)}else W={lane:se,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(w=V=W,E=g):V=V.next=W,Pe.lanes|=se,hs|=se;K=K.next}while(K!==null&&K!==s);if(V===null?E=g:V.next=w,!Pn(g,n.memoizedState)&&(zt=!0,te&&(o=vo,o!==null)))throw o;n.memoizedState=g,n.baseState=E,n.baseQueue=V,u.lastRenderedState=g}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function pp(n){var s=Dt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=n(g,E.action),E=E.next;while(E!==f);Pn(g,s.memoizedState)||(zt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function H1(n,s,o){var u=Pe,f=Dt(),g=et;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!Pn((dt||f).memoizedState,o);if(E&&(f.memoizedState=o,zt=!0),f=f.queue,yp(K1.bind(null,u,f,n),[n]),f.getSnapshot!==s||E||Bt!==null&&Bt.memoizedState.tag&1){if(u.flags|=2048,So(9,{destroy:void 0},$1.bind(null,u,f,o,s),null),gt===null)throw Error(i(349));g||(vi&127)!==0||G1(u,s,o)}return o}function G1(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Pe.updateQueue,s===null?(s=sh(),Pe.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function $1(n,s,o,u){s.value=o,s.getSnapshot=u,W1(s)&&Y1(n)}function K1(n,s,o){return o(function(){W1(s)&&Y1(n)})}function W1(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!Pn(n,o)}catch{return!0}}function Y1(n){var s=la(n,2);s!==null&&On(s,n,2)}function mp(n){var s=xn();if(typeof n=="function"){var o=n;if(n=o(),ya){Yn(!0);try{o()}finally{Yn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:n},s}function Q1(n,s,o,u){return n.baseState=o,fp(n,dt,typeof u=="function"?u:_i)}function uk(n,s,o,u,f){if(ch(n))throw Error(i(485));if(n=s.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};ee.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,X1(s,g)):(g.next=o.next,s.pending=o.next=g)}}function X1(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var g=ee.T,E={};ee.T=E;try{var w=o(f,u),V=ee.S;V!==null&&V(E,w),J1(n,s,w)}catch(K){gp(n,s,K)}finally{g!==null&&E.types!==null&&(g.types=E.types),ee.T=g}}else try{g=o(f,u),J1(n,s,g)}catch(K){gp(n,s,K)}}function J1(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Z1(n,s,u)},function(u){return gp(n,s,u)}):Z1(n,s,o)}function Z1(n,s,o){s.status="fulfilled",s.value=o,eE(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,X1(n,o)))}function gp(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,eE(s),s=s.next;while(s!==u)}n.action=null}function eE(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function tE(n,s){return s}function nE(n,s){if(et){var o=gt.formState;if(o!==null){e:{var u=Pe;if(et){if(_t){t:{for(var f=_t,g=ir;f.nodeType!==8;){if(!g){f=null;break t}if(f=ar(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){_t=ar(f.nextSibling),u=f.data==="F!";break e}}ns(u)}u=!1}u&&(s=o[0])}}return o=xn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tE,lastRenderedState:s},o.queue=u,o=EE.bind(null,Pe,u),u.dispatch=o,u=mp(!1),g=Tp.bind(null,Pe,!1,u.queue),u=xn(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=uk.bind(null,Pe,f,g,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function rE(n){var s=Dt();return iE(s,dt,n)}function iE(n,s,o){if(s=fp(n,s,tE)[0],n=oh(_i)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Xl(s)}catch(E){throw E===_o?Xc:E}else u=s;s=Dt();var f=s.queue,g=f.dispatch;return o!==s.memoizedState&&(Pe.flags|=2048,So(9,{destroy:void 0},ck.bind(null,f,o),null)),[u,g,n]}function ck(n,s){n.action=s}function sE(n){var s=Dt(),o=dt;if(o!==null)return iE(s,o,n);Dt(),s=s.memoizedState,o=Dt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function So(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=sh(),Pe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function aE(){return Dt().memoizedState}function lh(n,s,o,u){var f=xn();Pe.flags|=n,f.memoizedState=So(1|s,{destroy:void 0},o,u===void 0?null:u)}function uh(n,s,o,u){var f=Dt();u=u===void 0?null:u;var g=f.memoizedState.inst;dt!==null&&u!==null&&op(u,dt.memoizedState.deps)?f.memoizedState=So(s,g,o,u):(Pe.flags|=n,f.memoizedState=So(1|s,g,o,u))}function oE(n,s){lh(8390656,8,n,s)}function yp(n,s){uh(2048,8,n,s)}function hk(n){Pe.flags|=4;var s=Pe.updateQueue;if(s===null)s=sh(),Pe.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function lE(n){var s=Dt().memoizedState;return hk({ref:s,nextImpl:n}),function(){if((st&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function uE(n,s){return uh(4,2,n,s)}function cE(n,s){return uh(4,4,n,s)}function hE(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function dE(n,s,o){o=o!=null?o.concat([n]):null,uh(4,4,hE.bind(null,s,n),o)}function vp(){}function fE(n,s){var o=Dt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&op(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function pE(n,s){var o=Dt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&op(s,u[1]))return u[0];if(u=n(),ya){Yn(!0);try{n()}finally{Yn(!1)}}return o.memoizedState=[u,s],u}function _p(n,s,o){return o===void 0||(vi&1073741824)!==0&&(Ke&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=mT(),Pe.lanes|=n,hs|=n,o)}function mE(n,s,o,u){return Pn(o,s)?o:Eo.current!==null?(n=_p(n,o,u),Pn(n,s)||(zt=!0),n):(vi&42)===0||(vi&1073741824)!==0&&(Ke&261930)===0?(zt=!0,n.memoizedState=o):(n=mT(),Pe.lanes|=n,hs|=n,s)}function gE(n,s,o,u,f){var g=he.p;he.p=g!==0&&8>g?g:8;var E=ee.T,w={};ee.T=w,Tp(n,!1,s,o);try{var V=f(),K=ee.S;if(K!==null&&K(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var te=ak(V,u);Jl(n,s,te,Fn(n))}else Jl(n,s,u,Fn(n))}catch(se){Jl(n,s,{then:function(){},status:"rejected",reason:se},Fn())}finally{he.p=g,E!==null&&w.types!==null&&(E.types=w.types),ee.T=E}}function dk(){}function bp(n,s,o,u){if(n.tag!==5)throw Error(i(476));var f=yE(n).queue;gE(n,f,s,ye,o===null?dk:function(){return vE(n),o(u)})}function yE(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:ye},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function vE(n){var s=yE(n);s.next===null&&(s=n.alternate.memoizedState),Jl(n,s.next.queue,{},Fn())}function Ep(){return on(mu)}function _E(){return Dt().memoizedState}function bE(){return Dt().memoizedState}function fk(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Fn();n=ss(o);var u=as(s,n,o);u!==null&&(On(u,s,o),Kl(u,s,o)),s={cache:Qf()},n.payload=s;return}s=s.return}}function pk(n,s,o){var u=Fn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ch(n)?TE(s,o):(o=Uf(n,s,o,u),o!==null&&(On(o,n,u),xE(o,s,u)))}function EE(n,s,o){var u=Fn();Jl(n,s,o,u)}function Jl(n,s,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ch(n))TE(s,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,w=g(E,o);if(f.hasEagerState=!0,f.eagerState=w,Pn(w,E))return Hc(n,s,f,0),gt===null&&Fc(),!1}catch{}if(o=Uf(n,s,f,u),o!==null)return On(o,n,u),xE(o,s,u),!0}return!1}function Tp(n,s,o,u){if(u={lane:2,revertLane:em(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ch(n)){if(s)throw Error(i(479))}else s=Uf(n,o,u,2),s!==null&&On(s,n,2)}function ch(n){var s=n.alternate;return n===Pe||s!==null&&s===Pe}function TE(n,s){To=rh=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function xE(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,bl(n,o)}}var Zl={readContext:on,use:ah,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Zl.useEffectEvent=At;var SE={readContext:on,use:ah,useCallback:function(n,s){return xn().memoizedState=[n,s===void 0?null:s],n},useContext:on,useEffect:oE,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,lh(4194308,4,hE.bind(null,s,n),o)},useLayoutEffect:function(n,s){return lh(4194308,4,n,s)},useInsertionEffect:function(n,s){lh(4,2,n,s)},useMemo:function(n,s){var o=xn();s=s===void 0?null:s;var u=n();if(ya){Yn(!0);try{n()}finally{Yn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=xn();if(o!==void 0){var f=o(s);if(ya){Yn(!0);try{o(s)}finally{Yn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=pk.bind(null,Pe,n),[u.memoizedState,n]},useRef:function(n){var s=xn();return n={current:n},s.memoizedState=n},useState:function(n){n=mp(n);var s=n.queue,o=EE.bind(null,Pe,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:vp,useDeferredValue:function(n,s){var o=xn();return _p(o,n,s)},useTransition:function(){var n=mp(!1);return n=gE.bind(null,Pe,n.queue,!0,!1),xn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Pe,f=xn();if(et){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),gt===null)throw Error(i(349));(Ke&127)!==0||G1(u,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,oE(K1.bind(null,u,g,n),[n]),u.flags|=2048,So(9,{destroy:void 0},$1.bind(null,u,g,o,s),null),o},useId:function(){var n=xn(),s=gt.identifierPrefix;if(et){var o=Jr,u=Xr;o=(u&~(1<<32-It(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=ih++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=ok++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Ep,useFormState:nE,useActionState:nE,useOptimistic:function(n){var s=xn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Tp.bind(null,Pe,!0,o),o.dispatch=s,[n,s]},useMemoCache:dp,useCacheRefresh:function(){return xn().memoizedState=fk.bind(null,Pe)},useEffectEvent:function(n){var s=xn(),o={impl:n};return s.memoizedState=o,function(){if((st&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},xp={readContext:on,use:ah,useCallback:fE,useContext:on,useEffect:yp,useImperativeHandle:dE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:pE,useReducer:oh,useRef:aE,useState:function(){return oh(_i)},useDebugValue:vp,useDeferredValue:function(n,s){var o=Dt();return mE(o,dt.memoizedState,n,s)},useTransition:function(){var n=oh(_i)[0],s=Dt().memoizedState;return[typeof n=="boolean"?n:Xl(n),s]},useSyncExternalStore:H1,useId:_E,useHostTransitionStatus:Ep,useFormState:rE,useActionState:rE,useOptimistic:function(n,s){var o=Dt();return Q1(o,dt,n,s)},useMemoCache:dp,useCacheRefresh:bE};xp.useEffectEvent=lE;var wE={readContext:on,use:ah,useCallback:fE,useContext:on,useEffect:yp,useImperativeHandle:dE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:pE,useReducer:pp,useRef:aE,useState:function(){return pp(_i)},useDebugValue:vp,useDeferredValue:function(n,s){var o=Dt();return dt===null?_p(o,n,s):mE(o,dt.memoizedState,n,s)},useTransition:function(){var n=pp(_i)[0],s=Dt().memoizedState;return[typeof n=="boolean"?n:Xl(n),s]},useSyncExternalStore:H1,useId:_E,useHostTransitionStatus:Ep,useFormState:sE,useActionState:sE,useOptimistic:function(n,s){var o=Dt();return dt!==null?Q1(o,dt,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:dp,useCacheRefresh:bE};wE.useEffectEvent=lE;function Sp(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:b({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var wp={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Fn(),f=ss(u);f.payload=s,o!=null&&(f.callback=o),s=as(n,f,u),s!==null&&(On(s,n,u),Kl(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Fn(),f=ss(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=as(n,f,u),s!==null&&(On(s,n,u),Kl(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Fn(),u=ss(o);u.tag=2,s!=null&&(u.callback=s),s=as(n,u,o),s!==null&&(On(s,n,o),Kl(s,n,o))}};function AE(n,s,o,u,f,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!Ul(o,u)||!Ul(f,g):!0}function RE(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&wp.enqueueReplaceState(s,s.state,null)}function va(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=b({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function CE(n){zc(n)}function IE(n){console.error(n)}function NE(n){zc(n)}function hh(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function OE(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ap(n,s,o){return o=ss(o),o.tag=3,o.payload={element:null},o.callback=function(){hh(n,s)},o}function DE(n){return n=ss(n),n.tag=3,n}function kE(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;n.payload=function(){return f(g)},n.callback=function(){OE(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){OE(s,o,u),typeof f!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function mk(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&go(s,o,f,!0),o=Un.current,o!==null){switch(o.tag){case 31:case 13:return sr===null?xh():o.alternate===null&&Rt===0&&(Rt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Jc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Xp(n,u,f)),!1;case 22:return o.flags|=65536,u===Jc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Xp(n,u,f)),!1}throw Error(i(435,o.tag))}return Xp(n,u,f),xh(),!1}if(et)return s=Un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Gf&&(n=Error(i(422),{cause:u}),zl(tr(n,o)))):(u!==Gf&&(s=Error(i(423),{cause:u}),zl(tr(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=tr(u,o),f=Ap(n.stateNode,u,f),np(n,f),Rt!==4&&(Rt=2)),!1;var g=Error(i(520),{cause:u});if(g=tr(g,o),ou===null?ou=[g]:ou.push(g),Rt!==4&&(Rt=2),s===null)return!0;u=tr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Ap(o.stateNode,u,n),np(o,n),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ds===null||!ds.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=DE(f),kE(f,n,o,u),np(o,f),!1}o=o.return}while(o!==null);return!1}var Rp=Error(i(461)),zt=!1;function ln(n,s,o,u){s.child=n===null?P1(s,null,o,u):ga(s,n.child,o,u)}function ME(n,s,o,u,f){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var w in u)w!=="ref"&&(E[w]=u[w])}else E=u;return da(s),u=lp(n,s,o,E,g,f),w=up(),n!==null&&!zt?(cp(n,s,f),bi(n,s,f)):(et&&w&&Ff(s),s.flags|=1,ln(n,s,u,f),s.child)}function jE(n,s,o,u,f){if(n===null){var g=o.type;return typeof g=="function"&&!qf(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,VE(n,s,g,u,f)):(n=$c(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!jp(n,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ul,o(E,u)&&n.ref===s.ref)return bi(n,s,f)}return s.flags|=1,n=pi(g,u),n.ref=s.ref,n.return=s,s.child=n}function VE(n,s,o,u,f){if(n!==null){var g=n.memoizedProps;if(Ul(g,u)&&n.ref===s.ref)if(zt=!1,s.pendingProps=u=g,jp(n,f))(n.flags&131072)!==0&&(zt=!0);else return s.lanes=n.lanes,bi(n,s,f)}return Cp(n,s,o,u,f)}function PE(n,s,o,u){var f=u.children,g=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,n!==null){for(u=s.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~g}else u=0,s.child=null;return LE(n,s,g,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Qc(s,g!==null?g.cachePool:null),g!==null?q1(s,g):ip(),B1(s);else return u=s.lanes=536870912,LE(n,s,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Qc(s,g.cachePool),q1(s,g),ls(),s.memoizedState=null):(n!==null&&Qc(s,null),ip(),ls());return ln(n,s,f,o),s.child}function eu(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function LE(n,s,o,u,f){var g=Jf();return g=g===null?null:{parent:qt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},n!==null&&Qc(s,null),ip(),B1(s),n!==null&&go(n,s,u,!0),s.childLanes=f,null}function dh(n,s){return s=ph({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function UE(n,s,o){return ga(s,n.child,null,o),n=dh(s,s.pendingProps),n.flags|=2,qn(s),s.memoizedState=null,n}function gk(n,s,o){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(et){if(u.mode==="hidden")return n=dh(s,u),s.lanes=536870912,eu(null,n);if(ap(s),(n=_t)?(n=XT(n,ir),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:es!==null?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},o=T1(n),o.return=s,s.child=o,an=s,_t=null)):n=null,n===null)throw ns(s);return s.lanes=536870912,null}return dh(s,u)}var g=n.memoizedState;if(g!==null){var E=g.dehydrated;if(ap(s),f)if(s.flags&256)s.flags&=-257,s=UE(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(zt||go(n,s,o,!1),f=(o&n.childLanes)!==0,zt||f){if(u=gt,u!==null&&(E=El(u,o),E!==0&&E!==g.retryLane))throw g.retryLane=E,la(n,E),On(u,n,E),Rp;xh(),s=UE(n,s,o)}else n=g.treeContext,_t=ar(E.nextSibling),an=s,et=!0,ts=null,ir=!1,n!==null&&w1(s,n),s=dh(s,u),s.flags|=4096;return s}return n=pi(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function fh(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Cp(n,s,o,u,f){return da(s),o=lp(n,s,o,u,void 0,f),u=up(),n!==null&&!zt?(cp(n,s,f),bi(n,s,f)):(et&&u&&Ff(s),s.flags|=1,ln(n,s,o,f),s.child)}function qE(n,s,o,u,f,g){return da(s),s.updateQueue=null,o=F1(s,u,o,f),z1(n),u=up(),n!==null&&!zt?(cp(n,s,g),bi(n,s,g)):(et&&u&&Ff(s),s.flags|=1,ln(n,s,o,g),s.child)}function BE(n,s,o,u,f){if(da(s),s.stateNode===null){var g=ho,E=o.contextType;typeof E=="object"&&E!==null&&(g=on(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=wp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},ep(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?on(E):ho,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Sp(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&wp.enqueueReplaceState(g,g.state,null),Yl(s,u,g,f),Wl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){g=s.stateNode;var w=s.memoizedProps,V=va(o,w);g.props=V;var K=g.context,te=o.contextType;E=ho,typeof te=="object"&&te!==null&&(E=on(te));var se=o.getDerivedStateFromProps;te=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||K!==E)&&RE(s,g,u,E),is=!1;var W=s.memoizedState;g.state=W,Yl(s,u,g,f),Wl(),K=s.memoizedState,w||W!==K||is?(typeof se=="function"&&(Sp(s,o,se,u),K=s.memoizedState),(V=is||AE(s,o,V,u,W,K,E))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),g.props=u,g.state=K,g.context=E,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,tp(n,s),E=s.memoizedProps,te=va(o,E),g.props=te,se=s.pendingProps,W=g.context,K=o.contextType,V=ho,typeof K=="object"&&K!==null&&(V=on(K)),w=o.getDerivedStateFromProps,(K=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==se||W!==V)&&RE(s,g,u,V),is=!1,W=s.memoizedState,g.state=W,Yl(s,u,g,f),Wl();var Z=s.memoizedState;E!==se||W!==Z||is||n!==null&&n.dependencies!==null&&Wc(n.dependencies)?(typeof w=="function"&&(Sp(s,o,w,u),Z=s.memoizedState),(te=is||AE(s,o,te,u,W,Z,V)||n!==null&&n.dependencies!==null&&Wc(n.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Z,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Z,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Z),g.props=u,g.state=Z,g.context=V,u=te):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&W===n.memoizedState||(s.flags|=1024),u=!1)}return g=u,fh(n,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&u?(s.child=ga(s,n.child,null,f),s.child=ga(s,null,o,f)):ln(n,s,o,f),s.memoizedState=g.state,n=s.child):n=bi(n,s,f),n}function zE(n,s,o,u){return ca(),s.flags|=256,ln(n,s,o,u),s.child}var Ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Np(n){return{baseLanes:n,cachePool:O1()}}function Op(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=zn),n}function FE(n,s,o){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=n!==null&&n.memoizedState===null?!1:(Ot.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(et){if(f?os(s):ls(),(n=_t)?(n=XT(n,ir),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:es!==null?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},o=T1(n),o.return=s,s.child=o,an=s,_t=null)):n=null,n===null)throw ns(s);return fm(n)?s.lanes=32:s.lanes=536870912,null}var w=u.children;return u=u.fallback,f?(ls(),f=s.mode,w=ph({mode:"hidden",children:w},f),u=ua(u,f,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,u=s.child,u.memoizedState=Np(o),u.childLanes=Op(n,E,o),s.memoizedState=Ip,eu(null,u)):(os(s),Dp(s,w))}var V=n.memoizedState;if(V!==null&&(w=V.dehydrated,w!==null)){if(g)s.flags&256?(os(s),s.flags&=-257,s=kp(n,s,o)):s.memoizedState!==null?(ls(),s.child=n.child,s.flags|=128,s=null):(ls(),w=u.fallback,f=s.mode,u=ph({mode:"visible",children:u.children},f),w=ua(w,f,o,null),w.flags|=2,u.return=s,w.return=s,u.sibling=w,s.child=u,ga(s,n.child,null,o),u=s.child,u.memoizedState=Np(o),u.childLanes=Op(n,E,o),s.memoizedState=Ip,s=eu(null,u));else if(os(s),fm(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var K=E.dgst;E=K,u=Error(i(419)),u.stack="",u.digest=E,zl({value:u,source:null,stack:null}),s=kp(n,s,o)}else if(zt||go(n,s,o,!1),E=(o&n.childLanes)!==0,zt||E){if(E=gt,E!==null&&(u=El(E,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,la(n,u),On(E,n,u),Rp;dm(w)||xh(),s=kp(n,s,o)}else dm(w)?(s.flags|=192,s.child=n.child,s=null):(n=V.treeContext,_t=ar(w.nextSibling),an=s,et=!0,ts=null,ir=!1,n!==null&&w1(s,n),s=Dp(s,u.children),s.flags|=4096);return s}return f?(ls(),w=u.fallback,f=s.mode,V=n.child,K=V.sibling,u=pi(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,K!==null?w=pi(K,w):(w=ua(w,f,o,null),w.flags|=2),w.return=s,u.return=s,u.sibling=w,s.child=u,eu(null,u),u=s.child,w=n.child.memoizedState,w===null?w=Np(o):(f=w.cachePool,f!==null?(V=qt._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=O1(),w={baseLanes:w.baseLanes|o,cachePool:f}),u.memoizedState=w,u.childLanes=Op(n,E,o),s.memoizedState=Ip,eu(n.child,u)):(os(s),o=n.child,n=o.sibling,o=pi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=o,s.memoizedState=null,o)}function Dp(n,s){return s=ph({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function ph(n,s){return n=Ln(22,n,null,s),n.lanes=0,n}function kp(n,s,o){return ga(s,n.child,null,o),n=Dp(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function HE(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Wf(n.return,s,o)}function Mp(n,s,o,u,f,g){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:g}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=f,E.treeForkCount=g)}function GE(n,s,o){var u=s.pendingProps,f=u.revealOrder,g=u.tail;u=u.children;var E=Ot.current,w=(E&2)!==0;if(w?(E=E&1|2,s.flags|=128):E&=1,ue(Ot,E),ln(n,s,u,o),u=et?Bl:0,!w&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&HE(n,o,s);else if(n.tag===19)HE(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&nh(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Mp(s,!1,f,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&nh(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Mp(s,!0,o,null,g,u);break;case"together":Mp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function bi(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),hs|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(go(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,o=pi(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=pi(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function jp(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Wc(n)))}function yk(n,s,o){switch(s.tag){case 3:je(s,s.stateNode.containerInfo),rs(s,qt,n.memoizedState.cache),ca();break;case 27:case 5:Ue(s);break;case 4:je(s,s.stateNode.containerInfo);break;case 10:rs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,ap(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(os(s),s.flags|=128,null):(o&s.child.childLanes)!==0?FE(n,s,o):(os(s),n=bi(n,s,o),n!==null?n.sibling:null);os(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(go(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return GE(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Ot,Ot.current),u)break;return null;case 22:return s.lanes=0,PE(n,s,o,s.pendingProps);case 24:rs(s,qt,n.memoizedState.cache)}return bi(n,s,o)}function $E(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)zt=!0;else{if(!jp(n,o)&&(s.flags&128)===0)return zt=!1,yk(n,s,o);zt=(n.flags&131072)!==0}else zt=!1,et&&(s.flags&1048576)!==0&&S1(s,Bl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=pa(s.elementType),s.type=n,typeof n=="function")qf(n)?(u=va(n,u),s.tag=1,s=BE(null,s,n,u,o)):(s.tag=0,s=Cp(null,s,n,u,o));else{if(n!=null){var f=n.$$typeof;if(f===le){s.tag=11,s=ME(null,s,n,u,o);break e}else if(f===I){s.tag=14,s=jE(null,s,n,u,o);break e}}throw s=Re(n)||n,Error(i(306,s,""))}}return s;case 0:return Cp(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=va(u,s.pendingProps),BE(n,s,u,f,o);case 3:e:{if(je(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,tp(n,s),Yl(s,u,null,o);var E=s.memoizedState;if(u=E.cache,rs(s,qt,u),u!==g.cache&&Yf(s,[qt],o,!0),Wl(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=zE(n,s,u,o);break e}else if(u!==f){f=tr(Error(i(424)),s),zl(f),s=zE(n,s,u,o);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,_t=ar(n.firstChild),an=s,et=!0,ts=null,ir=!0,o=P1(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ca(),u===f){s=bi(n,s,o);break e}ln(n,s,u,o)}s=s.child}return s;case 26:return fh(n,s),n===null?(o=rx(s.type,null,s.pendingProps,null))?s.memoizedState=o:et||(o=s.type,n=s.pendingProps,u=Nh(Y.current).createElement(o),u[Pt]=s,u[en]=n,un(u,o,n),Lt(u),s.stateNode=u):s.memoizedState=rx(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ue(s),n===null&&et&&(u=s.stateNode=ex(s.type,s.pendingProps,Y.current),an=s,ir=!0,f=_t,gs(s.type)?(pm=f,_t=ar(u.firstChild)):_t=f),ln(n,s,s.pendingProps.children,o),fh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&et&&((f=u=_t)&&(u=Kk(u,s.type,s.pendingProps,ir),u!==null?(s.stateNode=u,an=s,_t=ar(u.firstChild),ir=!1,f=!0):f=!1),f||ns(s)),Ue(s),f=s.type,g=s.pendingProps,E=n!==null?n.memoizedProps:null,u=g.children,um(f,g)?u=null:E!==null&&um(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=lp(n,s,lk,null,null,o),mu._currentValue=f),fh(n,s),ln(n,s,u,o),s.child;case 6:return n===null&&et&&((n=o=_t)&&(o=Wk(o,s.pendingProps,ir),o!==null?(s.stateNode=o,an=s,_t=null,n=!0):n=!1),n||ns(s)),null;case 13:return FE(n,s,o);case 4:return je(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=ga(s,null,u,o):ln(n,s,u,o),s.child;case 11:return ME(n,s,s.type,s.pendingProps,o);case 7:return ln(n,s,s.pendingProps,o),s.child;case 8:return ln(n,s,s.pendingProps.children,o),s.child;case 12:return ln(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,rs(s,s.type,u.value),ln(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,da(s),f=on(f),u=u(f),s.flags|=1,ln(n,s,u,o),s.child;case 14:return jE(n,s,s.type,s.pendingProps,o);case 15:return VE(n,s,s.type,s.pendingProps,o);case 19:return GE(n,s,o);case 31:return gk(n,s,o);case 22:return PE(n,s,o,s.pendingProps);case 24:return da(s),u=on(qt),n===null?(f=Jf(),f===null&&(f=gt,g=Qf(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:u,cache:f},ep(s),rs(s,qt,f)):((n.lanes&o)!==0&&(tp(n,s),Yl(s,null,null,o),Wl()),f=n.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),rs(s,qt,u)):(u=g.cache,rs(s,qt,u),u!==f.cache&&Yf(s,[qt],o,!0))),ln(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ei(n){n.flags|=4}function Vp(n,s,o,u,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(_T())n.flags|=8192;else throw ma=Jc,Zf}else n.flags&=-16777217}function KE(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!lx(s))if(_T())n.flags|=8192;else throw ma=Jc,Zf}function mh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Ec():536870912,n.lanes|=s,Co|=s)}function tu(n,s){if(!et)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function bt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function vk(n,s,o){var u=s.pendingProps;switch(Hf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(s),null;case 1:return bt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),yi(qt),be(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(mo(s)?Ei(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$f())),bt(s),null;case 26:var f=s.type,g=s.memoizedState;return n===null?(Ei(s),g!==null?(bt(s),KE(s,g)):(bt(s),Vp(s,f,null,u,o))):g?g!==n.memoizedState?(Ei(s),bt(s),KE(s,g)):(bt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&Ei(s),bt(s),Vp(s,f,n,u,o)),null;case 27:if(Oe(s),o=Y.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Ei(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return bt(s),null}n=fe.current,mo(s)?A1(s):(n=ex(f,u,o),s.stateNode=n,Ei(s))}return bt(s),null;case 5:if(Oe(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Ei(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return bt(s),null}if(g=fe.current,mo(s))A1(s);else{var E=Nh(Y.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?E.createElement(f,{is:u.is}):E.createElement(f)}}g[Pt]=s,g[en]=u;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=g;e:switch(un(g,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ei(s)}}return bt(s),Vp(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Ei(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=Y.current,mo(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=an,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Pt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||FT(n.nodeValue,o)),n||ns(s,!0)}else n=Nh(n).createTextNode(u),n[Pt]=s,s.stateNode=n}return bt(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=mo(s),o!==null){if(n===null){if(!u)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Pt]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;bt(s),n=!1}else o=$f(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(qn(s),s):(qn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return bt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=mo(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Pt]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;bt(s),f=!1}else f=$f(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(qn(s),s):(qn(s),null)}return qn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),mh(s,s.updateQueue),bt(s),null);case 4:return be(),n===null&&im(s.stateNode.containerInfo),bt(s),null;case 10:return yi(s.type),bt(s),null;case 19:if(ne(Ot),u=s.memoizedState,u===null)return bt(s),null;if(f=(s.flags&128)!==0,g=u.rendering,g===null)if(f)tu(u,!1);else{if(Rt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=nh(n),g!==null){for(s.flags|=128,tu(u,!1),n=g.updateQueue,s.updateQueue=n,mh(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)E1(o,n),o=o.sibling;return ue(Ot,Ot.current&1|2),et&&mi(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&Mt()>bh&&(s.flags|=128,f=!0,tu(u,!1),s.lanes=4194304)}else{if(!f)if(n=nh(g),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,mh(s,n),tu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!et)return bt(s),null}else 2*Mt()-u.renderingStartTime>bh&&o!==536870912&&(s.flags|=128,f=!0,tu(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(n=u.last,n!==null?n.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Mt(),n.sibling=null,o=Ot.current,ue(Ot,f?o&1|2:o&1),et&&mi(s,u.treeForkCount),n):(bt(s),null);case 22:case 23:return qn(s),sp(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(bt(s),s.subtreeFlags&6&&(s.flags|=8192)):bt(s),o=s.updateQueue,o!==null&&mh(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&ne(fa),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),yi(qt),bt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function _k(n,s){switch(Hf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return yi(qt),be(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Oe(s),null;case 31:if(s.memoizedState!==null){if(qn(s),s.alternate===null)throw Error(i(340));ca()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(qn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ca()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ne(Ot),null;case 4:return be(),null;case 10:return yi(s.type),null;case 22:case 23:return qn(s),sp(),n!==null&&ne(fa),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return yi(qt),null;case 25:return null;default:return null}}function WE(n,s){switch(Hf(s),s.tag){case 3:yi(qt),be();break;case 26:case 27:case 5:Oe(s);break;case 4:be();break;case 31:s.memoizedState!==null&&qn(s);break;case 13:qn(s);break;case 19:ne(Ot);break;case 10:yi(s.type);break;case 22:case 23:qn(s),sp(),n!==null&&ne(fa);break;case 24:yi(qt)}}function nu(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(w){ct(s,s.return,w)}}function us(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&n)===n){var E=u.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=s;var V=o,K=w;try{K()}catch(te){ct(f,V,te)}}}u=u.next}while(u!==g)}}catch(te){ct(s,s.return,te)}}function YE(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{U1(s,o)}catch(u){ct(n,n.return,u)}}}function QE(n,s,o){o.props=va(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){ct(n,s,u)}}function ru(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){ct(n,s,f)}}function Zr(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ct(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ct(n,s,f)}else o.current=null}function XE(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ct(n,n.return,f)}}function Pp(n,s,o){try{var u=n.stateNode;Bk(u,n.type,o,s),u[en]=s}catch(f){ct(n,n.return,f)}}function JE(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&gs(n.type)||n.tag===4}function Lp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||JE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&gs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Up(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=mr));else if(u!==4&&(u===27&&gs(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Up(n,s,o),n=n.sibling;n!==null;)Up(n,s,o),n=n.sibling}function gh(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&gs(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(gh(n,s,o),n=n.sibling;n!==null;)gh(n,s,o),n=n.sibling}function ZE(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);un(s,u,o),s[Pt]=n,s[en]=o}catch(g){ct(n,n.return,g)}}var Ti=!1,Ft=!1,qp=!1,eT=typeof WeakSet=="function"?WeakSet:Set,nn=null;function bk(n,s){if(n=n.containerInfo,om=Ph,n=d1(n),kf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,w=-1,V=-1,K=0,te=0,se=n,W=null;t:for(;;){for(var Z;se!==o||f!==0&&se.nodeType!==3||(w=E+f),se!==g||u!==0&&se.nodeType!==3||(V=E+u),se.nodeType===3&&(E+=se.nodeValue.length),(Z=se.firstChild)!==null;)W=se,se=Z;for(;;){if(se===n)break t;if(W===o&&++K===f&&(w=E),W===g&&++te===u&&(V=E),(Z=se.nextSibling)!==null)break;se=W,W=se.parentNode}se=Z}o=w===-1||V===-1?null:{start:w,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(lm={focusedElem:n,selectionRange:o},Ph=!1,nn=s;nn!==null;)if(s=nn,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,nn=n;else for(;nn!==null;){switch(s=nn,g=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var ve=va(o.type,f);n=u.getSnapshotBeforeUpdate(ve,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(Se){ct(o,o.return,Se)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)hm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":hm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,nn=n;break}nn=s.return}}function tT(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Si(n,o),u&4&&nu(5,o);break;case 1:if(Si(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(E){ct(o,o.return,E)}else{var f=va(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){ct(o,o.return,E)}}u&64&&YE(o),u&512&&ru(o,o.return);break;case 3:if(Si(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{U1(n,s)}catch(E){ct(o,o.return,E)}}break;case 27:s===null&&u&4&&ZE(o);case 26:case 5:Si(n,o),s===null&&u&4&&XE(o),u&512&&ru(o,o.return);break;case 12:Si(n,o);break;case 31:Si(n,o),u&4&&iT(n,o);break;case 13:Si(n,o),u&4&&sT(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=Ik.bind(null,o),Yk(n,o))));break;case 22:if(u=o.memoizedState!==null||Ti,!u){s=s!==null&&s.memoizedState!==null||Ft,f=Ti;var g=Ft;Ti=u,(Ft=s)&&!g?wi(n,o,(o.subtreeFlags&8772)!==0):Si(n,o),Ti=f,Ft=g}break;case 30:break;default:Si(n,o)}}function nT(n){var s=n.alternate;s!==null&&(n.alternate=null,nT(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Xa(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var xt=null,Rn=!1;function xi(n,s,o){for(o=o.child;o!==null;)rT(n,s,o),o=o.sibling}function rT(n,s,o){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(jt,o)}catch{}switch(o.tag){case 26:Ft||Zr(o,s),xi(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ft||Zr(o,s);var u=xt,f=Rn;gs(o.type)&&(xt=o.stateNode,Rn=!1),xi(n,s,o),du(o.stateNode),xt=u,Rn=f;break;case 5:Ft||Zr(o,s);case 6:if(u=xt,f=Rn,xt=null,xi(n,s,o),xt=u,Rn=f,xt!==null)if(Rn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(g){ct(o,s,g)}else try{xt.removeChild(o.stateNode)}catch(g){ct(o,s,g)}break;case 18:xt!==null&&(Rn?(n=xt,YT(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Vo(n)):YT(xt,o.stateNode));break;case 4:u=xt,f=Rn,xt=o.stateNode.containerInfo,Rn=!0,xi(n,s,o),xt=u,Rn=f;break;case 0:case 11:case 14:case 15:us(2,o,s),Ft||us(4,o,s),xi(n,s,o);break;case 1:Ft||(Zr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&QE(o,s,u)),xi(n,s,o);break;case 21:xi(n,s,o);break;case 22:Ft=(u=Ft)||o.memoizedState!==null,xi(n,s,o),Ft=u;break;default:xi(n,s,o)}}function iT(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Vo(n)}catch(o){ct(s,s.return,o)}}}function sT(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Vo(n)}catch(o){ct(s,s.return,o)}}function Ek(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new eT),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new eT),s;default:throw Error(i(435,n.tag))}}function yh(n,s){var o=Ek(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var f=Nk.bind(null,n,u);u.then(f,f)}})}function Cn(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=n,E=s,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(gs(w.type)){xt=w.stateNode,Rn=!1;break e}break;case 5:xt=w.stateNode,Rn=!1;break e;case 3:case 4:xt=w.stateNode.containerInfo,Rn=!0;break e}w=w.return}if(xt===null)throw Error(i(160));rT(g,E,f),xt=null,Rn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)aT(s,n),s=s.sibling}var Er=null;function aT(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Cn(s,n),In(n),u&4&&(us(3,n,n.return),nu(3,n),us(5,n,n.return));break;case 1:Cn(s,n),In(n),u&512&&(Ft||o===null||Zr(o,o.return)),u&64&&Ti&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Er;if(Cn(s,n),In(n),u&512&&(Ft||o===null||Zr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ur]||g[Pt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),un(g,u,o),g[Pt]=n,Lt(g),u=g;break e;case"link":var E=ax("link","href",f).get(u+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(g=E[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break t}}g=f.createElement(u),un(g,u,o),f.head.appendChild(g);break;case"meta":if(E=ax("meta","content",f).get(u+(o.content||""))){for(w=0;w<E.length;w++)if(g=E[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break t}}g=f.createElement(u),un(g,u,o),f.head.appendChild(g);break;default:throw Error(i(468,u))}g[Pt]=n,Lt(g),u=g}n.stateNode=u}else ox(f,n.type,n.stateNode);else n.stateNode=sx(f,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?ox(f,n.type,n.stateNode):sx(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Pp(n,n.memoizedProps,o.memoizedProps)}break;case 27:Cn(s,n),In(n),u&512&&(Ft||o===null||Zr(o,o.return)),o!==null&&u&4&&Pp(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Cn(s,n),In(n),u&512&&(Ft||o===null||Zr(o,o.return)),n.flags&32){f=n.stateNode;try{An(f,"")}catch(ve){ct(n,n.return,ve)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Pp(n,f,o!==null?o.memoizedProps:f)),u&1024&&(qp=!0);break;case 6:if(Cn(s,n),In(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(ve){ct(n,n.return,ve)}}break;case 3:if(kh=null,f=Er,Er=Oh(s.containerInfo),Cn(s,n),Er=f,In(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Vo(s.containerInfo)}catch(ve){ct(n,n.return,ve)}qp&&(qp=!1,oT(n));break;case 4:u=Er,Er=Oh(n.stateNode.containerInfo),Cn(s,n),In(n),Er=u;break;case 12:Cn(s,n),In(n);break;case 31:Cn(s,n),In(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,yh(n,u)));break;case 13:Cn(s,n),In(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(_h=Mt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,yh(n,u)));break;case 22:f=n.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,K=Ti,te=Ft;if(Ti=K||f,Ft=te||V,Cn(s,n),Ft=te,Ti=K,In(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||V||Ti||Ft||_a(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=V.stateNode;var se=V.memoizedProps.style,W=se!=null&&se.hasOwnProperty("display")?se.display:null;w.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(ve){ct(V,V.return,ve)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(ve){ct(V,V.return,ve)}}}else if(s.tag===18){if(o===null){V=s;try{var Z=V.stateNode;f?QT(Z,!0):QT(V.stateNode,!1)}catch(ve){ct(V,V.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,yh(n,o))));break;case 19:Cn(s,n),In(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,yh(n,u)));break;case 30:break;case 21:break;default:Cn(s,n),In(n)}}function In(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(JE(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,g=Lp(n);gh(n,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(An(E,""),o.flags&=-33);var w=Lp(n);gh(n,w,E);break;case 3:case 4:var V=o.stateNode.containerInfo,K=Lp(n);Up(n,K,V);break;default:throw Error(i(161))}}catch(te){ct(n,n.return,te)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function oT(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;oT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Si(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)tT(n,s.alternate,s),s=s.sibling}function _a(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:us(4,s,s.return),_a(s);break;case 1:Zr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&QE(s,s.return,o),_a(s);break;case 27:du(s.stateNode);case 26:case 5:Zr(s,s.return),_a(s);break;case 22:s.memoizedState===null&&_a(s);break;case 30:_a(s);break;default:_a(s)}n=n.sibling}}function wi(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:wi(f,g,o),nu(4,g);break;case 1:if(wi(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){ct(u,u.return,K)}if(u=g,f=u.updateQueue,f!==null){var w=u.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)L1(V[f],w)}catch(K){ct(u,u.return,K)}}o&&E&64&&YE(g),ru(g,g.return);break;case 27:ZE(g);case 26:case 5:wi(f,g,o),o&&u===null&&E&4&&XE(g),ru(g,g.return);break;case 12:wi(f,g,o);break;case 31:wi(f,g,o),o&&E&4&&iT(f,g);break;case 13:wi(f,g,o),o&&E&4&&sT(f,g);break;case 22:g.memoizedState===null&&wi(f,g,o),ru(g,g.return);break;case 30:break;default:wi(f,g,o)}s=s.sibling}}function Bp(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Fl(o))}function zp(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Fl(n))}function Tr(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)lT(n,s,o,u),s=s.sibling}function lT(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Tr(n,s,o,u),f&2048&&nu(9,s);break;case 1:Tr(n,s,o,u);break;case 3:Tr(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Fl(n)));break;case 12:if(f&2048){Tr(n,s,o,u),n=s.stateNode;try{var g=s.memoizedProps,E=g.id,w=g.onPostCommit;typeof w=="function"&&w(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){ct(s,s.return,V)}}else Tr(n,s,o,u);break;case 31:Tr(n,s,o,u);break;case 13:Tr(n,s,o,u);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?Tr(n,s,o,u):iu(n,s):g._visibility&2?Tr(n,s,o,u):(g._visibility|=2,wo(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Bp(E,s);break;case 24:Tr(n,s,o,u),f&2048&&zp(s.alternate,s);break;default:Tr(n,s,o,u)}}function wo(n,s,o,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=n,E=s,w=o,V=u,K=E.flags;switch(E.tag){case 0:case 11:case 15:wo(g,E,w,V,f),nu(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?wo(g,E,w,V,f):iu(g,E):(te._visibility|=2,wo(g,E,w,V,f)),f&&K&2048&&Bp(E.alternate,E);break;case 24:wo(g,E,w,V,f),f&&K&2048&&zp(E.alternate,E);break;default:wo(g,E,w,V,f)}s=s.sibling}}function iu(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:iu(o,u),f&2048&&Bp(u.alternate,u);break;case 24:iu(o,u),f&2048&&zp(u.alternate,u);break;default:iu(o,u)}s=s.sibling}}var su=8192;function Ao(n,s,o){if(n.subtreeFlags&su)for(n=n.child;n!==null;)uT(n,s,o),n=n.sibling}function uT(n,s,o){switch(n.tag){case 26:Ao(n,s,o),n.flags&su&&n.memoizedState!==null&&oM(o,Er,n.memoizedState,n.memoizedProps);break;case 5:Ao(n,s,o);break;case 3:case 4:var u=Er;Er=Oh(n.stateNode.containerInfo),Ao(n,s,o),Er=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=su,su=16777216,Ao(n,s,o),su=u):Ao(n,s,o));break;default:Ao(n,s,o)}}function cT(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function au(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,dT(u,n)}cT(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hT(n),n=n.sibling}function hT(n){switch(n.tag){case 0:case 11:case 15:au(n),n.flags&2048&&us(9,n,n.return);break;case 3:au(n);break;case 12:au(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,vh(n)):au(n);break;default:au(n)}}function vh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,dT(u,n)}cT(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:us(8,s,s.return),vh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,vh(s));break;default:vh(s)}n=n.sibling}}function dT(n,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:us(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Fl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,nn=u;else e:for(o=n;nn!==null;){u=nn;var f=u.sibling,g=u.return;if(nT(u),u===o){nn=null;break e}if(f!==null){f.return=g,nn=f;break e}nn=g}}}var Tk={getCacheForType:function(n){var s=on(qt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return on(qt).controller.signal}},xk=typeof WeakMap=="function"?WeakMap:Map,st=0,gt=null,Ge=null,Ke=0,ut=0,Bn=null,cs=!1,Ro=!1,Fp=!1,Ai=0,Rt=0,hs=0,ba=0,Hp=0,zn=0,Co=0,ou=null,Nn=null,Gp=!1,_h=0,fT=0,bh=1/0,Eh=null,ds=null,Xt=0,fs=null,Io=null,Ri=0,$p=0,Kp=null,pT=null,lu=0,Wp=null;function Fn(){return(st&2)!==0&&Ke!==0?Ke&-Ke:ee.T!==null?em():Tc()}function mT(){if(zn===0)if((Ke&536870912)===0||et){var n=Ks;Ks<<=1,(Ks&3932160)===0&&(Ks=262144),zn=n}else zn=536870912;return n=Un.current,n!==null&&(n.flags|=32),zn}function On(n,s,o){(n===gt&&(ut===2||ut===9)||n.cancelPendingCommit!==null)&&(No(n,0),ps(n,Ke,zn,!1)),Ws(n,o),((st&2)===0||n!==gt)&&(n===gt&&((st&2)===0&&(ba|=o),Rt===4&&ps(n,Ke,zn,!1)),ei(n))}function gT(n,s,o){if((st&6)!==0)throw Error(i(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||dr(n,s),f=u?Ak(n,s):Qp(n,s,!0),g=u;do{if(f===0){Ro&&!u&&ps(n,s,0,!1);break}else{if(o=n.current.alternate,g&&!Sk(o)){f=Qp(n,s,!1),g=!1;continue}if(f===2){if(g=s,n.errorRecoveryDisabledLanes&g)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var w=n;f=ou;var V=w.current.memoizedState.isDehydrated;if(V&&(No(w,E).flags|=256),E=Qp(w,E,!1),E!==2){if(Fp&&!V){w.errorRecoveryDisabledLanes|=g,ba|=g,f=4;break e}g=Nn,Nn=f,g!==null&&(Nn===null?Nn=g:Nn.push.apply(Nn,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){No(n,0),ps(n,s,0,!0);break}e:{switch(u=n,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ps(u,s,zn,!cs);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=_h+300-Mt(),10<f)){if(ps(u,s,zn,!cs),Vr(u,0,!0)!==0)break e;Ri=s,u.timeoutHandle=KT(yT.bind(null,u,o,Nn,Eh,Gp,s,zn,ba,Co,cs,g,"Throttled",-0,0),f);break e}yT(u,o,Nn,Eh,Gp,s,zn,ba,Co,cs,g,null,-0,0)}}break}while(!0);ei(n)}function yT(n,s,o,u,f,g,E,w,V,K,te,se,W,Z){if(n.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mr},uT(s,g,se);var ve=(g&62914560)===g?_h-Mt():(g&4194048)===g?fT-Mt():0;if(ve=lM(se,ve),ve!==null){Ri=g,n.cancelPendingCommit=ve(wT.bind(null,n,s,g,o,u,f,E,w,V,te,se,null,W,Z)),ps(n,g,E,!K);return}}wT(n,s,g,o,u,f,E,w,V)}function Sk(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Pn(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ps(n,s,o,u){s&=~Hp,s&=~ba,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var g=31-It(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&Ys(n,o,s)}function Th(){return(st&6)===0?(uu(0),!1):!0}function Yp(){if(Ge!==null){if(ut===0)var n=Ge.return;else n=Ge,gi=ha=null,hp(n),bo=null,Gl=0,n=Ge;for(;n!==null;)WE(n.alternate,n),n=n.return;Ge=null}}function No(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,Hk(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Ri=0,Yp(),gt=n,Ge=o=pi(n.current,null),Ke=s,ut=0,Bn=null,cs=!1,Ro=dr(n,s),Fp=!1,Co=zn=Hp=ba=hs=Rt=0,Nn=ou=null,Gp=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-It(u),g=1<<f;s|=n[f],u&=~g}return Ai=s,Fc(),o}function vT(n,s){Pe=null,ee.H=Zl,s===_o||s===Xc?(s=M1(),ut=3):s===Zf?(s=M1(),ut=4):ut=s===Rp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bn=s,Ge===null&&(Rt=1,hh(n,tr(s,n.current)))}function _T(){var n=Un.current;return n===null?!0:(Ke&4194048)===Ke?sr===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?n===sr:!1}function bT(){var n=ee.H;return ee.H=Zl,n===null?Zl:n}function ET(){var n=ee.A;return ee.A=Tk,n}function xh(){Rt=4,cs||(Ke&4194048)!==Ke&&Un.current!==null||(Ro=!0),(hs&134217727)===0&&(ba&134217727)===0||gt===null||ps(gt,Ke,zn,!1)}function Qp(n,s,o){var u=st;st|=2;var f=bT(),g=ET();(gt!==n||Ke!==s)&&(Eh=null,No(n,s)),s=!1;var E=Rt;e:do try{if(ut!==0&&Ge!==null){var w=Ge,V=Bn;switch(ut){case 8:Yp(),E=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(s=!0);var K=ut;if(ut=0,Bn=null,Oo(n,w,V,K),o&&Ro){E=0;break e}break;default:K=ut,ut=0,Bn=null,Oo(n,w,V,K)}}wk(),E=Rt;break}catch(te){vT(n,te)}while(!0);return s&&n.shellSuspendCounter++,gi=ha=null,st=u,ee.H=f,ee.A=g,Ge===null&&(gt=null,Ke=0,Fc()),E}function wk(){for(;Ge!==null;)TT(Ge)}function Ak(n,s){var o=st;st|=2;var u=bT(),f=ET();gt!==n||Ke!==s?(Eh=null,bh=Mt()+500,No(n,s)):Ro=dr(n,s);e:do try{if(ut!==0&&Ge!==null){s=Ge;var g=Bn;t:switch(ut){case 1:ut=0,Bn=null,Oo(n,s,g,1);break;case 2:case 9:if(D1(g)){ut=0,Bn=null,xT(s);break}s=function(){ut!==2&&ut!==9||gt!==n||(ut=7),ei(n)},g.then(s,s);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:D1(g)?(ut=0,Bn=null,xT(s)):(ut=0,Bn=null,Oo(n,s,g,7));break;case 5:var E=null;switch(Ge.tag){case 26:E=Ge.memoizedState;case 5:case 27:var w=Ge;if(E?lx(E):w.stateNode.complete){ut=0,Bn=null;var V=w.sibling;if(V!==null)Ge=V;else{var K=w.return;K!==null?(Ge=K,Sh(K)):Ge=null}break t}}ut=0,Bn=null,Oo(n,s,g,5);break;case 6:ut=0,Bn=null,Oo(n,s,g,6);break;case 8:Yp(),Rt=6;break e;default:throw Error(i(462))}}Rk();break}catch(te){vT(n,te)}while(!0);return gi=ha=null,ee.H=u,ee.A=f,st=o,Ge!==null?0:(gt=null,Ke=0,Fc(),Rt)}function Rk(){for(;Ge!==null&&!Kn();)TT(Ge)}function TT(n){var s=$E(n.alternate,n,Ai);n.memoizedProps=n.pendingProps,s===null?Sh(n):Ge=s}function xT(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=qE(o,s,s.pendingProps,s.type,void 0,Ke);break;case 11:s=qE(o,s,s.pendingProps,s.type.render,s.ref,Ke);break;case 5:hp(s);default:WE(o,s),s=Ge=E1(s,Ai),s=$E(o,s,Ai)}n.memoizedProps=n.pendingProps,s===null?Sh(n):Ge=s}function Oo(n,s,o,u){gi=ha=null,hp(s),bo=null,Gl=0;var f=s.return;try{if(mk(n,f,s,o,Ke)){Rt=1,hh(n,tr(o,n.current)),Ge=null;return}}catch(g){if(f!==null)throw Ge=f,g;Rt=1,hh(n,tr(o,n.current)),Ge=null;return}s.flags&32768?(et||u===1?n=!0:Ro||(Ke&536870912)!==0?n=!1:(cs=n=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),ST(s,n)):Sh(s)}function Sh(n){var s=n;do{if((s.flags&32768)!==0){ST(s,cs);return}n=s.return;var o=vk(s.alternate,s,Ai);if(o!==null){Ge=o;return}if(s=s.sibling,s!==null){Ge=s;return}Ge=s=n}while(s!==null);Rt===0&&(Rt=5)}function ST(n,s){do{var o=_k(n.alternate,n);if(o!==null){o.flags&=32767,Ge=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Ge=n;return}Ge=n=o}while(n!==null);Rt=6,Ge=null}function wT(n,s,o,u,f,g,E,w,V){n.cancelPendingCommit=null;do wh();while(Xt!==0);if((st&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=Lf,If(n,o,g,E,w,V),n===gt&&(Ge=gt=null,Ke=0),Io=s,fs=n,Ri=o,$p=g,Kp=f,pT=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Ok(En,function(){return NT(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=ee.T,ee.T=null,f=he.p,he.p=2,E=st,st|=4;try{bk(n,s,o)}finally{st=E,he.p=f,ee.T=u}}Xt=1,AT(),RT(),CT()}}function AT(){if(Xt===1){Xt=0;var n=fs,s=Io,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=ee.T,ee.T=null;var u=he.p;he.p=2;var f=st;st|=4;try{aT(s,n);var g=lm,E=d1(n.containerInfo),w=g.focusedElem,V=g.selectionRange;if(E!==w&&w&&w.ownerDocument&&h1(w.ownerDocument.documentElement,w)){if(V!==null&&kf(w)){var K=V.start,te=V.end;if(te===void 0&&(te=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(te,w.value.length);else{var se=w.ownerDocument||document,W=se&&se.defaultView||window;if(W.getSelection){var Z=W.getSelection(),ve=w.textContent.length,Se=Math.min(V.start,ve),pt=V.end===void 0?Se:Math.min(V.end,ve);!Z.extend&&Se>pt&&(E=pt,pt=Se,Se=E);var H=c1(w,Se),q=c1(w,pt);if(H&&q&&(Z.rangeCount!==1||Z.anchorNode!==H.node||Z.anchorOffset!==H.offset||Z.focusNode!==q.node||Z.focusOffset!==q.offset)){var $=se.createRange();$.setStart(H.node,H.offset),Z.removeAllRanges(),Se>pt?(Z.addRange($),Z.extend(q.node,q.offset)):($.setEnd(q.node,q.offset),Z.addRange($))}}}}for(se=[],Z=w;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<se.length;w++){var re=se[w];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Ph=!!om,lm=om=null}finally{st=f,he.p=u,ee.T=o}}n.current=s,Xt=2}}function RT(){if(Xt===2){Xt=0;var n=fs,s=Io,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=ee.T,ee.T=null;var u=he.p;he.p=2;var f=st;st|=4;try{tT(n,s.alternate,s)}finally{st=f,he.p=u,ee.T=o}}Xt=3}}function CT(){if(Xt===4||Xt===3){Xt=0,Qt();var n=fs,s=Io,o=Ri,u=pT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Xt=5:(Xt=0,Io=fs=null,IT(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(ds=null),ci(o),s=s.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(jt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=ee.T,f=he.p,he.p=2,ee.T=null;try{for(var g=n.onRecoverableError,E=0;E<u.length;E++){var w=u[E];g(w.value,{componentStack:w.stack})}}finally{ee.T=s,he.p=f}}(Ri&3)!==0&&wh(),ei(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===Wp?lu++:(lu=0,Wp=n):lu=0,uu(0)}}function IT(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Fl(s)))}function wh(){return AT(),RT(),CT(),NT()}function NT(){if(Xt!==5)return!1;var n=fs,s=$p;$p=0;var o=ci(Ri),u=ee.T,f=he.p;try{he.p=32>o?32:o,ee.T=null,o=Kp,Kp=null;var g=fs,E=Ri;if(Xt=0,Io=fs=null,Ri=0,(st&6)!==0)throw Error(i(331));var w=st;if(st|=4,hT(g.current),lT(g,g.current,E,o),st=w,uu(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(jt,g)}catch{}return!0}finally{he.p=f,ee.T=u,IT(n,s)}}function OT(n,s,o){s=tr(o,s),s=Ap(n.stateNode,s,2),n=as(n,s,2),n!==null&&(Ws(n,2),ei(n))}function ct(n,s,o){if(n.tag===3)OT(n,n,o);else for(;s!==null;){if(s.tag===3){OT(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ds===null||!ds.has(u))){n=tr(o,n),o=DE(2),u=as(s,o,2),u!==null&&(kE(o,u,s,n),Ws(u,2),ei(u));break}}s=s.return}}function Xp(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new xk;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Fp=!0,f.add(o),n=Ck.bind(null,n,s,o),s.then(n,n))}function Ck(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,gt===n&&(Ke&o)===o&&(Rt===4||Rt===3&&(Ke&62914560)===Ke&&300>Mt()-_h?(st&2)===0&&No(n,0):Hp|=o,Co===Ke&&(Co=0)),ei(n)}function DT(n,s){s===0&&(s=Ec()),n=la(n,s),n!==null&&(Ws(n,s),ei(n))}function Ik(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),DT(n,o)}function Nk(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),DT(n,o)}function Ok(n,s){return Ct(n,s)}var Ah=null,Do=null,Jp=!1,Rh=!1,Zp=!1,ms=0;function ei(n){n!==Do&&n.next===null&&(Do===null?Ah=Do=n:Do=Do.next=n),Rh=!0,Jp||(Jp=!0,kk())}function uu(n,s){if(!Zp&&Rh){Zp=!0;do for(var o=!1,u=Ah;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-It(42|n)+1)-1,g&=f&~(E&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,VT(u,g))}else g=Ke,g=Vr(u,u===gt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||dr(u,g)||(o=!0,VT(u,g));u=u.next}while(o);Zp=!1}}function Dk(){kT()}function kT(){Rh=Jp=!1;var n=0;ms!==0&&Fk()&&(n=ms);for(var s=Mt(),o=null,u=Ah;u!==null;){var f=u.next,g=MT(u,s);g===0?(u.next=null,o===null?Ah=f:o.next=f,f===null&&(Do=o)):(o=u,(n!==0||(g&3)!==0)&&(Rh=!0)),u=f}Xt!==0&&Xt!==5||uu(n),ms!==0&&(ms=0)}function MT(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var E=31-It(g),w=1<<E,V=f[E];V===-1?((w&o)===0||(w&u)!==0)&&(f[E]=Cf(w,s)):V<=s&&(n.expiredLanes|=w),g&=~w}if(s=gt,o=Ke,o=Vr(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(ut===2||ut===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Mn(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||dr(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&Mn(u),ci(o)){case 2:case 8:o=Hi;break;case 32:o=En;break;case 268435456:o=Gs;break;default:o=En}return u=jT.bind(null,n),o=Ct(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&Mn(u),n.callbackPriority=2,n.callbackNode=null,2}function jT(n,s){if(Xt!==0&&Xt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(wh()&&n.callbackNode!==o)return null;var u=Ke;return u=Vr(n,n===gt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(gT(n,u,s),MT(n,Mt()),n.callbackNode!=null&&n.callbackNode===o?jT.bind(null,n):null)}function VT(n,s){if(wh())return null;gT(n,s,!0)}function kk(){Gk(function(){(st&6)!==0?Ct(Hs,Dk):kT()})}function em(){if(ms===0){var n=yo;n===0&&(n=Mr,Mr<<=1,(Mr&261888)===0&&(Mr=256)),ms=n}return ms}function PT(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:to(""+n)}function LT(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function Mk(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var g=PT((f[en]||null).action),E=u.submitter;E&&(s=(s=E[en]||null)?PT(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var w=new Kr("action","action",null,u,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ms!==0){var V=E?LT(f,E):new FormData(f);bp(o,{pending:!0,data:V,method:f.method,action:g},null,V)}}else typeof g=="function"&&(w.preventDefault(),V=E?LT(f,E):new FormData(f),bp(o,{pending:!0,data:V,method:f.method,action:g},g,V))},currentTarget:f}]})}}for(var tm=0;tm<Pf.length;tm++){var nm=Pf[tm],jk=nm.toLowerCase(),Vk=nm[0].toUpperCase()+nm.slice(1);br(jk,"on"+Vk)}br(m1,"onAnimationEnd"),br(g1,"onAnimationIteration"),br(y1,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(JD,"onTransitionRun"),br(ZD,"onTransitionStart"),br(ek,"onTransitionCancel"),br(v1,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function UT(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var w=u[E],V=w.instance,K=w.currentTarget;if(w=w.listener,V!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=K;try{g(f)}catch(te){zc(te)}f.currentTarget=null,g=V}else for(E=0;E<u.length;E++){if(w=u[E],V=w.instance,K=w.currentTarget,w=w.listener,V!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=K;try{g(f)}catch(te){zc(te)}f.currentTarget=null,g=V}}}}function $e(n,s){var o=s[Qa];o===void 0&&(o=s[Qa]=new Set);var u=n+"__bubble";o.has(u)||(qT(s,n,2,!1),o.add(u))}function rm(n,s,o){var u=0;s&&(u|=4),qT(o,n,u,s)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function im(n){if(!n[Ch]){n[Ch]=!0,Tl.forEach(function(o){o!=="selectionchange"&&(Pk.has(o)||rm(o,!1,n),rm(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ch]||(s[Ch]=!0,rm("selectionchange",!1,s))}}function qT(n,s,o,u){switch(mx(s)){case 2:var f=hM;break;case 8:f=dM;break;default:f=_m}o=f.bind(null,s,o,n),f=void 0,!ea||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function sm(n,s,o,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var w=u.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=u.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=qr(w),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){u=g=E;continue e}w=w.parentNode}}u=u.return}Qi(function(){var K=g,te=Xn(o),se=[];e:{var W=_1.get(n);if(W!==void 0){var Z=Kr,ve=n;switch(n){case"keypress":if(na(o)===0)break e;case"keydown":case"keyup":Z=Uc;break;case"focusin":ve="focus",Z=ia;break;case"focusout":ve="blur",Z=ia;break;case"beforeblur":case"afterblur":Z=ia;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case m1:case g1:case y1:Z=Dc;break;case v1:Z=A;break;case"scroll":case"scrollend":Z=Ml;break;case"wheel":Z=J;break;case"copy":case"cut":case"paste":Z=kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=fi;break;case"toggle":case"beforetoggle":Z=Ve}var Se=(s&4)!==0,pt=!Se&&(n==="scroll"||n==="scrollend"),H=Se?W!==null?W+"Capture":null:W;Se=[];for(var q=K,$;q!==null;){var re=q;if($=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||$===null||H===null||(re=gr(q,H),re!=null&&Se.push(hu(q,re,$))),pt)break;q=q.return}0<Se.length&&(W=new Z(W,ve,null,o,te),se.push({event:W,listeners:Se}))}}if((s&7)===0){e:{if(W=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",W&&o!==Ol&&(ve=o.relatedTarget||o.fromElement)&&(qr(ve)||ve[Lr]))break e;if((Z||W)&&(W=te.window===te?te:(W=te.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(ve=o.relatedTarget||o.toElement,Z=K,ve=ve?qr(ve):null,ve!==null&&(pt=l(ve),Se=ve.tag,ve!==pt||Se!==5&&Se!==27&&Se!==6)&&(ve=null)):(Z=null,ve=K),Z!==ve)){if(Se=jl,re="onMouseLeave",H="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(Se=fi,re="onPointerLeave",H="onPointerEnter",q="pointer"),pt=Z==null?W:jn(Z),$=ve==null?W:jn(ve),W=new Se(re,q+"leave",Z,o,te),W.target=pt,W.relatedTarget=$,re=null,qr(te)===K&&(Se=new Se(H,q+"enter",ve,o,te),Se.target=$,Se.relatedTarget=pt,re=Se),pt=re,Z&&ve)t:{for(Se=Lk,H=Z,q=ve,$=0,re=H;re;re=Se(re))$++;re=0;for(var Ee=q;Ee;Ee=Se(Ee))re++;for(;0<$-re;)H=Se(H),$--;for(;0<re-$;)q=Se(q),re--;for(;$--;){if(H===q||q!==null&&H===q.alternate){Se=H;break t}H=Se(H),q=Se(q)}Se=null}else Se=null;Z!==null&&BT(se,W,Z,Se,!1),ve!==null&&pt!==null&&BT(se,pt,ve,Se,!0)}}e:{if(W=K?jn(K):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var nt=i1;else if(n1(W))if(s1)nt=YD;else{nt=KD;var _e=$D}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?K&&eo(K.elementType)&&(nt=i1):nt=WD;if(nt&&(nt=nt(n,K))){r1(se,nt,o,te);break e}_e&&_e(n,W,K),n==="focusout"&&K&&W.type==="number"&&K.memoizedProps.value!=null&&Cl(W,"number",W.value)}switch(_e=K?jn(K):window,n){case"focusin":(n1(_e)||_e.contentEditable==="true")&&(lo=_e,Mf=K,ql=null);break;case"focusout":ql=Mf=lo=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,f1(se,o,te);break;case"selectionchange":if(XD)break;case"keydown":case"keyup":f1(se,o,te)}var Be;if(it)e:{switch(n){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else oo?sa(n,o)&&(We="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(We="onCompositionStart");We&&(Qr&&o.locale!=="ko"&&(oo||We!=="onCompositionStart"?We==="onCompositionEnd"&&oo&&(Be=kl()):($r=te,Dl="value"in $r?$r.value:$r.textContent,oo=!0)),_e=Ih(K,We),0<_e.length&&(We=new Yr(We,n,null,o,te),se.push({event:We,listeners:_e}),Be?We.data=Be:(Be=ao(o),Be!==null&&(We.data=Be)))),(Be=Zn?zD(n,o):FD(n,o))&&(We=Ih(K,"onBeforeInput"),0<We.length&&(_e=new Yr("onBeforeInput","beforeinput",null,o,te),se.push({event:_e,listeners:We}),_e.data=Be)),Mk(se,n,K,o,te)}UT(se,s)})}function hu(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Ih(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=gr(n,o),f!=null&&u.unshift(hu(n,f,g)),f=gr(n,s),f!=null&&u.push(hu(n,f,g))),n.tag===3)return u;n=n.return}return[]}function Lk(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function BT(n,s,o,u,f){for(var g=s._reactName,E=[];o!==null&&o!==u;){var w=o,V=w.alternate,K=w.stateNode;if(w=w.tag,V!==null&&V===u)break;w!==5&&w!==26&&w!==27||K===null||(V=K,f?(K=gr(o,g),K!=null&&E.unshift(hu(o,K,V))):f||(K=gr(o,g),K!=null&&E.push(hu(o,K,V)))),o=o.return}E.length!==0&&n.push({event:s,listeners:E})}var Uk=/\r\n?/g,qk=/\u0000|\uFFFD/g;function zT(n){return(typeof n=="string"?n:""+n).replace(Uk,`
`).replace(qk,"")}function FT(n,s){return s=zT(s),zT(n)===s}function ft(n,s,o,u,f,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||An(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&An(n,""+u);break;case"className":Vn(n,"class",u);break;case"tabIndex":Vn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(n,o,u);break;case"style":Nl(n,u,g);break;case"data":if(s!=="object"){Vn(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=to(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&ft(n,s,"name",f.name,f,null),ft(n,s,"formEncType",f.formEncType,f,null),ft(n,s,"formMethod",f.formMethod,f,null),ft(n,s,"formTarget",f.formTarget,f,null)):(ft(n,s,"encType",f.encType,f,null),ft(n,s,"method",f.method,f,null),ft(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=to(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=mr);break;case"onScroll":u!=null&&$e("scroll",n);break;case"onScrollEnd":u!=null&&$e("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=to(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":$e("beforetoggle",n),$e("toggle",n),Ja(n,"popover",u);break;case"xlinkActuate":Ut(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ut(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ut(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ut(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ut(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ut(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ja(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ic.get(o)||o,Ja(n,o,u))}}function am(n,s,o,u,f,g){switch(o){case"style":Nl(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?An(n,u):(typeof u=="number"||typeof u=="bigint")&&An(n,""+u);break;case"onScroll":u!=null&&$e("scroll",n);break;case"onScrollEnd":u!=null&&$e("scrollend",n);break;case"onClick":u!=null&&(n.onclick=mr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=n[en]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Ja(n,o,u)}}}function un(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",n),$e("load",n);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ft(n,s,g,E,o,null)}}f&&ft(n,s,"srcSet",o.srcSet,o,null),u&&ft(n,s,"src",o.src,o,null);return;case"input":$e("invalid",n);var w=g=E=f=null,V=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":f=te;break;case"type":E=te;break;case"checked":V=te;break;case"defaultChecked":K=te;break;case"value":g=te;break;case"defaultValue":w=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:ft(n,s,u,te,o,null)}}Ac(n,g,w,V,K,E,f,!1);return;case"select":$e("invalid",n),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":g=w;break;case"defaultValue":E=w;break;case"multiple":u=w;default:ft(n,s,f,w,o,null)}s=g,o=E,n.multiple=!!u,s!=null?$i(n,!!u,s,!1):o!=null&&$i(n,!!u,o,!0);return;case"textarea":$e("invalid",n),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":u=w;break;case"defaultValue":f=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ft(n,s,E,w,o,null)}Ki(n,u,f,g);return;case"option":for(V in o)o.hasOwnProperty(V)&&(u=o[V],u!=null)&&(V==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":ft(n,s,V,u,o,null));return;case"dialog":$e("beforetoggle",n),$e("toggle",n),$e("cancel",n),$e("close",n);break;case"iframe":case"object":$e("load",n);break;case"video":case"audio":for(u=0;u<cu.length;u++)$e(cu[u],n);break;case"image":$e("error",n),$e("load",n);break;case"details":$e("toggle",n);break;case"embed":case"source":case"link":$e("error",n),$e("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ft(n,s,K,u,o,null)}return;default:if(eo(s)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&am(n,s,te,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&ft(n,s,w,u,o,null))}function Bk(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,w=null,V=null,K=null,te=null;for(Z in o){var se=o[Z];if(o.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=se;default:u.hasOwnProperty(Z)||ft(n,s,Z,null,u,se)}}for(var W in u){var Z=u[W];if(se=o[W],u.hasOwnProperty(W)&&(Z!=null||se!=null))switch(W){case"type":g=Z;break;case"name":f=Z;break;case"checked":K=Z;break;case"defaultChecked":te=Z;break;case"value":E=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==se&&ft(n,s,W,Z,u,se)}}Za(n,E,w,V,K,te,g,f);return;case"select":Z=E=w=W=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":Z=V;default:u.hasOwnProperty(g)||ft(n,s,g,null,u,V)}for(f in u)if(g=u[f],V=o[f],u.hasOwnProperty(f)&&(g!=null||V!=null))switch(f){case"value":W=g;break;case"defaultValue":w=g;break;case"multiple":E=g;default:g!==V&&ft(n,s,f,g,u,V)}s=w,o=E,u=Z,W!=null?$i(n,!!o,W,!1):!!u!=!!o&&(s!=null?$i(n,!!o,s,!0):$i(n,!!o,o?[]:"",!1));return;case"textarea":Z=W=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ft(n,s,w,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":W=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&ft(n,s,E,f,u,g)}Rc(n,W,Z);return;case"option":for(var ve in o)W=o[ve],o.hasOwnProperty(ve)&&W!=null&&!u.hasOwnProperty(ve)&&(ve==="selected"?n.selected=!1:ft(n,s,ve,null,u,W));for(V in u)W=u[V],Z=o[V],u.hasOwnProperty(V)&&W!==Z&&(W!=null||Z!=null)&&(V==="selected"?n.selected=W&&typeof W!="function"&&typeof W!="symbol":ft(n,s,V,W,u,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)W=o[Se],o.hasOwnProperty(Se)&&W!=null&&!u.hasOwnProperty(Se)&&ft(n,s,Se,null,u,W);for(K in u)if(W=u[K],Z=o[K],u.hasOwnProperty(K)&&W!==Z&&(W!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:ft(n,s,K,W,u,Z)}return;default:if(eo(s)){for(var pt in o)W=o[pt],o.hasOwnProperty(pt)&&W!==void 0&&!u.hasOwnProperty(pt)&&am(n,s,pt,void 0,u,W);for(te in u)W=u[te],Z=o[te],!u.hasOwnProperty(te)||W===Z||W===void 0&&Z===void 0||am(n,s,te,W,u,Z);return}}for(var H in o)W=o[H],o.hasOwnProperty(H)&&W!=null&&!u.hasOwnProperty(H)&&ft(n,s,H,null,u,W);for(se in u)W=u[se],Z=o[se],!u.hasOwnProperty(se)||W===Z||W==null&&Z==null||ft(n,s,se,W,u,Z)}function HT(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zk(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],g=f.transferSize,E=f.initiatorType,w=f.duration;if(g&&w&&HT(E)){for(E=0,w=f.responseEnd,u+=1;u<o.length;u++){var V=o[u],K=V.startTime;if(K>w)break;var te=V.transferSize,se=V.initiatorType;te&&HT(se)&&(V=V.responseEnd,E+=te*(V<w?1:(w-K)/(V-K)))}if(--u,s+=8*(g+E)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var om=null,lm=null;function Nh(n){return n.nodeType===9?n:n.ownerDocument}function GT(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $T(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function um(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cm=null;function Fk(){var n=window.event;return n&&n.type==="popstate"?n===cm?!1:(cm=n,!0):(cm=null,!1)}var KT=typeof setTimeout=="function"?setTimeout:void 0,Hk=typeof clearTimeout=="function"?clearTimeout:void 0,WT=typeof Promise=="function"?Promise:void 0,Gk=typeof queueMicrotask=="function"?queueMicrotask:typeof WT<"u"?function(n){return WT.resolve(null).then(n).catch($k)}:KT;function $k(n){setTimeout(function(){throw n})}function gs(n){return n==="head"}function YT(n,s){var o=s,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(f),Vo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")du(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,du(o);for(var g=o.firstChild;g;){var E=g.nextSibling,w=g.nodeName;g[Ur]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=E}}else o==="body"&&du(n.ownerDocument.body);o=f}while(o);Vo(s)}function QT(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function hm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":hm(o),Xa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function Kk(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ur])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=ar(n.nextSibling),n===null)break}return null}function Wk(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=ar(n.nextSibling),n===null))return null;return n}function XT(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=ar(n.nextSibling),n===null))return null;return n}function dm(n){return n.data==="$?"||n.data==="$~"}function fm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Yk(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function ar(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var pm=null;function JT(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return ar(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function ZT(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function ex(n,s,o){switch(s=Nh(o),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function du(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Xa(n)}var or=new Map,tx=new Set;function Oh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ci=he.d;he.d={f:Qk,r:Xk,D:Jk,C:Zk,L:eM,m:tM,X:rM,S:nM,M:iM};function Qk(){var n=Ci.f(),s=Th();return n||s}function Xk(n){var s=Qn(n);s!==null&&s.tag===5&&s.type==="form"?vE(s):Ci.r(n)}var ko=typeof document>"u"?null:document;function nx(n,s,o){var u=ko;if(u&&typeof s=="string"&&s){var f=wn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),tx.has(f)||(tx.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),un(s,"link",n),Lt(s),u.head.appendChild(s)))}}function Jk(n){Ci.D(n),nx("dns-prefetch",n,null)}function Zk(n,s){Ci.C(n,s),nx("preconnect",n,s)}function eM(n,s,o){Ci.L(n,s,o);var u=ko;if(u&&n&&s){var f='link[rel="preload"][as="'+wn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+wn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+wn(o.imageSizes)+'"]')):f+='[href="'+wn(n)+'"]';var g=f;switch(s){case"style":g=Mo(n);break;case"script":g=jo(n)}or.has(g)||(n=b({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),or.set(g,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(fu(g))||s==="script"&&u.querySelector(pu(g))||(s=u.createElement("link"),un(s,"link",n),Lt(s),u.head.appendChild(s)))}}function tM(n,s){Ci.m(n,s);var o=ko;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+wn(u)+'"][href="'+wn(n)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=jo(n)}if(!or.has(g)&&(n=b({rel:"modulepreload",href:n},s),or.set(g,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(pu(g)))return}u=o.createElement("link"),un(u,"link",n),Lt(u),o.head.appendChild(u)}}}function nM(n,s,o){Ci.S(n,s,o);var u=ko;if(u&&n){var f=Br(u).hoistableStyles,g=Mo(n);s=s||"default";var E=f.get(g);if(!E){var w={loading:0,preload:null};if(E=u.querySelector(fu(g)))w.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":s},o),(o=or.get(g))&&mm(n,o);var V=E=u.createElement("link");Lt(V),un(V,"link",n),V._p=new Promise(function(K,te){V.onload=K,V.onerror=te}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Dh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(g,E)}}}function rM(n,s){Ci.X(n,s);var o=ko;if(o&&n){var u=Br(o).hoistableScripts,f=jo(n),g=u.get(f);g||(g=o.querySelector(pu(f)),g||(n=b({src:n,async:!0},s),(s=or.get(f))&&gm(n,s),g=o.createElement("script"),Lt(g),un(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function iM(n,s){Ci.M(n,s);var o=ko;if(o&&n){var u=Br(o).hoistableScripts,f=jo(n),g=u.get(f);g||(g=o.querySelector(pu(f)),g||(n=b({src:n,async:!0,type:"module"},s),(s=or.get(f))&&gm(n,s),g=o.createElement("script"),Lt(g),un(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function rx(n,s,o,u){var f=(f=Y.current)?Oh(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Mo(o.href),o=Br(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Mo(o.href);var g=Br(f).hoistableStyles,E=g.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,E),(g=f.querySelector(fu(n)))&&!g._p&&(E.instance=g,E.state.loading=5),or.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},or.set(n,o),g||sM(f,n,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=jo(o),o=Br(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Mo(n){return'href="'+wn(n)+'"'}function fu(n){return'link[rel="stylesheet"]['+n+"]"}function ix(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function sM(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),un(s,"link",o),Lt(s),n.head.appendChild(s))}function jo(n){return'[src="'+wn(n)+'"]'}function pu(n){return"script[async]"+n}function sx(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+wn(o.href)+'"]');if(u)return s.instance=u,Lt(u),u;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Lt(u),un(u,"style",f),Dh(u,o.precedence,n),s.instance=u;case"stylesheet":f=Mo(o.href);var g=n.querySelector(fu(f));if(g)return s.state.loading|=4,s.instance=g,Lt(g),g;u=ix(o),(f=or.get(f))&&mm(u,f),g=(n.ownerDocument||n).createElement("link"),Lt(g);var E=g;return E._p=new Promise(function(w,V){E.onload=w,E.onerror=V}),un(g,"link",u),s.state.loading|=4,Dh(g,o.precedence,n),s.instance=g;case"script":return g=jo(o.src),(f=n.querySelector(pu(g)))?(s.instance=f,Lt(f),f):(u=o,(f=or.get(g))&&(u=b({},o),gm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Lt(f),un(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Dh(u,o.precedence,n));return s.instance}function Dh(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var w=u[E];if(w.dataset.precedence===s)g=w;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function mm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function gm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var kh=null;function ax(n,s,o){if(kh===null){var u=new Map,f=kh=new Map;f.set(o,u)}else f=kh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var g=o[f];if(!(g[Ur]||g[Pt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=n+E;var w=u.get(E);w?w.push(g):u.set(E,[g])}}return u}function ox(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function aM(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function lx(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function oM(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Mo(u.href),g=s.querySelector(fu(f));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Mh.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=g,Lt(g);return}g=s.ownerDocument||s,u=ix(u),(f=or.get(f))&&mm(u,f),g=g.createElement("link"),Lt(g);var E=g;E._p=new Promise(function(w,V){E.onload=w,E.onerror=V}),un(g,"link",u),o.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Mh.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var ym=0;function lM(n,s){return n.stylesheets&&n.count===0&&Vh(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&Vh(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+s);0<n.imgBytes&&ym===0&&(ym=62500*zk());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Vh(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>ym?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var jh=null;function Vh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,jh=new Map,s.forEach(uM,n),jh=null,Mh.call(n))}function uM(n,s){if(!(s.state.loading&4)){var o=jh.get(n);if(o)var u=o.get(null);else{o=new Map,jh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=Mh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var mu={$$typeof:X,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function cM(n,s,o,u,f,g,E,w,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.hiddenUpdates=Pr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function ux(n,s,o,u,f,g,E,w,V,K,te,se){return n=new cM(n,s,o,E,V,K,te,se,w),s=1,g===!0&&(s|=24),g=Ln(3,null,null,s),n.current=g,g.stateNode=n,s=Qf(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},ep(g),n}function cx(n){return n?(n=ho,n):ho}function hx(n,s,o,u,f,g){f=cx(f),u.context===null?u.context=f:u.pendingContext=f,u=ss(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=as(n,u,s),o!==null&&(On(o,n,s),Kl(o,n,s))}function dx(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function vm(n,s){dx(n,s),(n=n.alternate)&&dx(n,s)}function fx(n){if(n.tag===13||n.tag===31){var s=la(n,67108864);s!==null&&On(s,n,67108864),vm(n,67108864)}}function px(n){if(n.tag===13||n.tag===31){var s=Fn();s=Qs(s);var o=la(n,s);o!==null&&On(o,n,s),vm(n,s)}}var Ph=!0;function hM(n,s,o,u){var f=ee.T;ee.T=null;var g=he.p;try{he.p=2,_m(n,s,o,u)}finally{he.p=g,ee.T=f}}function dM(n,s,o,u){var f=ee.T;ee.T=null;var g=he.p;try{he.p=8,_m(n,s,o,u)}finally{he.p=g,ee.T=f}}function _m(n,s,o,u){if(Ph){var f=bm(u);if(f===null)sm(n,s,u,Lh,o),gx(n,u);else if(pM(f,n,s,o,u))u.stopPropagation();else if(gx(n,u),s&4&&-1<fM.indexOf(n)){for(;f!==null;){var g=Qn(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=jr(g.pendingLanes);if(E!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var V=1<<31-It(E);w.entanglements[1]|=V,E&=~V}ei(g),(st&6)===0&&(bh=Mt()+500,uu(0))}}break;case 31:case 13:w=la(g,2),w!==null&&On(w,g,2),Th(),vm(g,2)}if(g=bm(u),g===null&&sm(n,s,u,Lh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else sm(n,s,u,null,o)}}function bm(n){return n=Xn(n),Em(n)}var Lh=null;function Em(n){if(Lh=null,n=qr(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Lh=n,null}function mx(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wn()){case Hs:return 2;case Hi:return 8;case En:case Ka:return 32;case Gs:return 268435456;default:return 32}default:return 32}}var Tm=!1,ys=null,vs=null,_s=null,gu=new Map,yu=new Map,bs=[],fM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gx(n,s){switch(n){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":gu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(s.pointerId)}}function vu(n,s,o,u,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Qn(s),s!==null&&fx(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function pM(n,s,o,u,f){switch(s){case"focusin":return ys=vu(ys,n,s,o,u,f),!0;case"dragenter":return vs=vu(vs,n,s,o,u,f),!0;case"mouseover":return _s=vu(_s,n,s,o,u,f),!0;case"pointerover":var g=f.pointerId;return gu.set(g,vu(gu.get(g)||null,n,s,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,yu.set(g,vu(yu.get(g)||null,n,s,o,u,f)),!0}return!1}function yx(n){var s=qr(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,fr(n.priority,function(){px(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,fr(n.priority,function(){px(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Uh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=bm(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Ol=u,o.target.dispatchEvent(u),Ol=null}else return s=Qn(o),s!==null&&fx(s),n.blockedOn=o,!1;s.shift()}return!0}function vx(n,s,o){Uh(n)&&o.delete(s)}function mM(){Tm=!1,ys!==null&&Uh(ys)&&(ys=null),vs!==null&&Uh(vs)&&(vs=null),_s!==null&&Uh(_s)&&(_s=null),gu.forEach(vx),yu.forEach(vx)}function qh(n,s){n.blockedOn===s&&(n.blockedOn=null,Tm||(Tm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mM)))}var Bh=null;function _x(n){Bh!==n&&(Bh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bh===n&&(Bh=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(Em(u||o)===null)continue;break}var g=Qn(o);g!==null&&(n.splice(s,3),s-=3,bp(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Vo(n){function s(V){return qh(V,n)}ys!==null&&qh(ys,n),vs!==null&&qh(vs,n),_s!==null&&qh(_s,n),gu.forEach(s),yu.forEach(s);for(var o=0;o<bs.length;o++){var u=bs[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<bs.length&&(o=bs[0],o.blockedOn===null);)yx(o),o.blockedOn===null&&bs.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[en]||null;if(typeof g=="function")E||_x(o);else if(E){var w=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[en]||null)w=E.formAction;else if(Em(f)!==null)continue}else w=E.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),_x(o)}}}function bx(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function xm(n){this._internalRoot=n}zh.prototype.render=xm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Fn();hx(o,u,n,s,null,null)},zh.prototype.unmount=xm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;hx(n.current,2,null,n,null,null),Th(),s[Lr]=null}};function zh(n){this._internalRoot=n}zh.prototype.unstable_scheduleHydration=function(n){if(n){var s=Tc();n={blockedOn:null,target:n,priority:s};for(var o=0;o<bs.length&&s!==0&&s<bs[o].priority;o++);bs.splice(o,0,n),o===0&&yx(n)}};var Ex=e.version;if(Ex!=="19.2.4")throw Error(i(527,Ex,"19.2.4"));he.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=m(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var gM={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{jt=Fh.inject(gM),vt=Fh}catch{}}return Ru.createRoot=function(n,s){if(!a(n))throw Error(i(299));var o=!1,u="",f=CE,g=IE,E=NE;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=ux(n,1,!1,null,null,o,u,null,f,g,E,bx),n[Lr]=s.current,im(n),new xm(s)},Ru.hydrateRoot=function(n,s,o){if(!a(n))throw Error(i(299));var u=!1,f="",g=CE,E=IE,w=NE,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),s=ux(n,1,!0,s,o??null,u,f,V,g,E,w,bx),s.context=cx(null),o=s.current,u=Fn(),u=Qs(u),f=ss(u),f.callback=null,as(o,f,u),o=u,s.current.lanes=o,Ws(s,o),ei(s),n[Lr]=s.current,im(n),new zh(s)},Ru.version="19.2.4",Ru}var MC;function Gz(){if(MC)return Hv.exports;MC=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hv.exports=Hz(),Hv.exports}var $z=Gz();function yn(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var Kz=typeof Symbol=="function"&&Symbol.observable||"@@observable",jC=Kz,Kv=()=>Math.random().toString(36).substring(7).split("").join("."),Wz={INIT:`@@redux/INIT${Kv()}`,REPLACE:`@@redux/REPLACE${Kv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kv()}`},Pd=Wz;function Yz(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function CD(r,e,t){if(typeof r!="function")throw new Error(yn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(yn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(yn(1));return t(CD)(r,e)}let i=r,a=e,l=new Map,c=l,d=0,p=!1;function m(){c===l&&(c=new Map,l.forEach((k,F)=>{c.set(F,k)}))}function v(){if(p)throw new Error(yn(3));return a}function b(k){if(typeof k!="function")throw new Error(yn(4));if(p)throw new Error(yn(5));let F=!0;m();const z=d++;return c.set(z,k),function(){if(F){if(p)throw new Error(yn(6));F=!1,m(),c.delete(z),l=null}}}function x(k){if(!Yz(k))throw new Error(yn(7));if(typeof k.type>"u")throw new Error(yn(8));if(typeof k.type!="string")throw new Error(yn(17));if(p)throw new Error(yn(9));try{p=!0,a=i(a,k)}finally{p=!1}return(l=c).forEach(z=>{z()}),k}function S(k){if(typeof k!="function")throw new Error(yn(10));i=k,x({type:Pd.REPLACE})}function M(){const k=b;return{subscribe(F){if(typeof F!="object"||F===null)throw new Error(yn(11));function z(){const le=F;le.next&&le.next(v())}return z(),{unsubscribe:k(z)}},[jC](){return this}}}return x({type:Pd.INIT}),{dispatch:x,subscribe:b,getState:v,replaceReducer:S,[jC]:M}}function Wo(r,e,t){return CD(r,e,t)}function Qz(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:Pd.INIT})>"u")throw new Error(yn(12));if(typeof t(void 0,{type:Pd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yn(13))})}function Xz(r){const e=Object.keys(r),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof r[c]=="function"&&(t[c]=r[c])}const i=Object.keys(t);let a;try{Qz(t)}catch(l){a=l}return function(c={},d){if(a)throw a;let p=!1;const m={};for(let v=0;v<i.length;v++){const b=i[v],x=t[b],S=c[b],M=x(S,d);if(typeof M>"u")throw d&&d.type,new Error(yn(14));m[b]=M,p=p||M!==S}return p=p||i.length!==Object.keys(c).length,p?m:c}}var Wv,VC;function Jz(){if(VC)return Wv;VC=1;function r(e,t){for(var i=-1,a=e==null?0:e.length;++i<a&&t(e[i],i,e)!==!1;);return e}return Wv=r,Wv}var Yv,PC;function _l(){if(PC)return Yv;PC=1;var r=Q0(),e=$d();function t(i,a,l,c){var d=!l;l||(l={});for(var p=-1,m=a.length;++p<m;){var v=a[p],b=c?c(l[v],i[v],v,l,i):void 0;b===void 0&&(b=i[v]),d?e(l,v,b):r(l,v,b)}return l}return Yv=t,Yv}var Qv,LC;function Zz(){if(LC)return Qv;LC=1;var r=_l(),e=za();function t(i,a){return i&&r(a,e(a),i)}return Qv=t,Qv}var Xv,UC;function eF(){if(UC)return Xv;UC=1;function r(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}return Xv=r,Xv}var Jv,qC;function tF(){if(qC)return Jv;qC=1;var r=hr(),e=L0(),t=eF(),i=Object.prototype,a=i.hasOwnProperty;function l(c){if(!r(c))return t(c);var d=e(c),p=[];for(var m in c)m=="constructor"&&(d||!a.call(c,m))||p.push(m);return p}return Jv=l,Jv}var Zv,BC;function vc(){if(BC)return Zv;BC=1;var r=f2(),e=tF(),t=ll();function i(a){return t(a)?r(a,!0):e(a)}return Zv=i,Zv}var e_,zC;function nF(){if(zC)return e_;zC=1;var r=_l(),e=vc();function t(i,a){return i&&r(a,e(a),i)}return e_=t,e_}var ju={exports:{}};ju.exports;var FC;function ID(){return FC||(FC=1,(function(r,e){var t=kr(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,l=a&&a.exports===i,c=l?t.Buffer:void 0,d=c?c.allocUnsafe:void 0;function p(m,v){if(v)return m.slice();var b=m.length,x=d?d(b):new m.constructor(b);return m.copy(x),x}r.exports=p})(ju,ju.exports)),ju.exports}var t_,HC;function rF(){if(HC)return t_;HC=1;var r=_l(),e=z0();function t(i,a){return r(i,e(i),a)}return t_=t,t_}var n_,GC;function Zb(){if(GC)return n_;GC=1;var r=p2(),e=r(Object.getPrototypeOf,Object);return n_=e,n_}var r_,$C;function ND(){if($C)return r_;$C=1;var r=nf(),e=Zb(),t=z0(),i=_2(),a=Object.getOwnPropertySymbols,l=a?function(c){for(var d=[];c;)r(d,t(c)),c=e(c);return d}:i;return r_=l,r_}var i_,KC;function iF(){if(KC)return i_;KC=1;var r=_l(),e=ND();function t(i,a){return r(i,e(i),a)}return i_=t,i_}var s_,WC;function OD(){if(WC)return s_;WC=1;var r=y2(),e=ND(),t=vc();function i(a){return r(a,t,e)}return s_=i,s_}var a_,YC;function sF(){if(YC)return a_;YC=1;var r=Object.prototype,e=r.hasOwnProperty;function t(i){var a=i.length,l=new i.constructor(a);return a&&typeof i[0]=="string"&&e.call(i,"index")&&(l.index=i.index,l.input=i.input),l}return a_=t,a_}var o_,QC;function e1(){if(QC)return o_;QC=1;var r=g2();function e(t){var i=new t.constructor(t.byteLength);return new r(i).set(new r(t)),i}return o_=e,o_}var l_,XC;function aF(){if(XC)return l_;XC=1;var r=e1();function e(t,i){var a=i?r(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}return l_=e,l_}var u_,JC;function oF(){if(JC)return u_;JC=1;var r=/\w*$/;function e(t){var i=new t.constructor(t.source,r.exec(t));return i.lastIndex=t.lastIndex,i}return u_=e,u_}var c_,ZC;function lF(){if(ZC)return c_;ZC=1;var r=ol(),e=r?r.prototype:void 0,t=e?e.valueOf:void 0;function i(a){return t?Object(t.call(a)):{}}return c_=i,c_}var h_,eI;function DD(){if(eI)return h_;eI=1;var r=e1();function e(t,i){var a=i?r(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}return h_=e,h_}var d_,tI;function uF(){if(tI)return d_;tI=1;var r=e1(),e=aF(),t=oF(),i=lF(),a=DD(),l="[object Boolean]",c="[object Date]",d="[object Map]",p="[object Number]",m="[object RegExp]",v="[object Set]",b="[object String]",x="[object Symbol]",S="[object ArrayBuffer]",M="[object DataView]",P="[object Float32Array]",k="[object Float64Array]",F="[object Int8Array]",z="[object Int16Array]",X="[object Int32Array]",le="[object Uint8Array]",ce="[object Uint8ClampedArray]",oe="[object Uint16Array]",I="[object Uint32Array]";function C(O,j,D){var L=O.constructor;switch(j){case S:return r(O);case l:case c:return new L(+O);case M:return e(O,D);case P:case k:case F:case z:case X:case le:case ce:case oe:case I:return a(O,D);case d:return new L;case p:case b:return new L(O);case m:return t(O);case v:return new L;case x:return i(O)}}return d_=C,d_}var f_,nI;function cF(){if(nI)return f_;nI=1;var r=hr(),e=Object.create,t=(function(){function i(){}return function(a){if(!r(a))return{};if(e)return e(a);i.prototype=a;var l=new i;return i.prototype=void 0,l}})();return f_=t,f_}var p_,rI;function kD(){if(rI)return p_;rI=1;var r=cF(),e=Zb(),t=L0();function i(a){return typeof a.constructor=="function"&&!t(a)?r(e(a)):{}}return p_=i,p_}var m_,iI;function hF(){if(iI)return m_;iI=1;var r=rf(),e=ui(),t="[object Map]";function i(a){return e(a)&&r(a)==t}return m_=i,m_}var g_,sI;function dF(){if(sI)return g_;sI=1;var r=hF(),e=Qd(),t=V0(),i=t&&t.isMap,a=i?e(i):r;return g_=a,g_}var y_,aI;function fF(){if(aI)return y_;aI=1;var r=rf(),e=ui(),t="[object Set]";function i(a){return e(a)&&r(a)==t}return y_=i,y_}var v_,oI;function pF(){if(oI)return v_;oI=1;var r=fF(),e=Qd(),t=V0(),i=t&&t.isSet,a=i?e(i):r;return v_=a,v_}var __,lI;function MD(){if(lI)return __;lI=1;var r=tf(),e=Jz(),t=Q0(),i=Zz(),a=nF(),l=ID(),c=Y0(),d=rF(),p=iF(),m=b2(),v=OD(),b=rf(),x=sF(),S=uF(),M=kD(),P=pn(),k=Wd(),F=dF(),z=hr(),X=pF(),le=za(),ce=vc(),oe=1,I=2,C=4,O="[object Arguments]",j="[object Array]",D="[object Boolean]",L="[object Date]",N="[object Error]",Re="[object Function]",Ne="[object GeneratorFunction]",ee="[object Map]",he="[object Number]",ye="[object Object]",Le="[object RegExp]",Fe="[object Set]",U="[object String]",ne="[object Symbol]",ue="[object WeakMap]",fe="[object ArrayBuffer]",Q="[object DataView]",Y="[object Float32Array]",pe="[object Float64Array]",je="[object Int8Array]",be="[object Int16Array]",Ue="[object Int32Array]",Oe="[object Uint8Array]",xe="[object Uint8ClampedArray]",He="[object Uint16Array]",ze="[object Uint32Array]",Ae={};Ae[O]=Ae[j]=Ae[fe]=Ae[Q]=Ae[D]=Ae[L]=Ae[Y]=Ae[pe]=Ae[je]=Ae[be]=Ae[Ue]=Ae[ee]=Ae[he]=Ae[ye]=Ae[Le]=Ae[Fe]=Ae[U]=Ae[ne]=Ae[Oe]=Ae[xe]=Ae[He]=Ae[ze]=!0,Ae[N]=Ae[Re]=Ae[ue]=!1;function ot(qe,$n,mt,Ct,Mn,Kn){var Qt,Mt=$n&oe,Wn=$n&I,Hs=$n&C;if(mt&&(Qt=Mn?mt(qe,Ct,Mn,Kn):mt(qe)),Qt!==void 0)return Qt;if(!z(qe))return qe;var Hi=P(qe);if(Hi){if(Qt=x(qe),!Mt)return c(qe,Qt)}else{var En=b(qe),Ka=En==Re||En==Ne;if(k(qe))return l(qe,Mt);if(En==ye||En==O||Ka&&!Mn){if(Qt=Wn||Ka?{}:M(qe),!Mt)return Wn?p(qe,a(Qt,qe)):d(qe,i(Qt,qe))}else{if(!Ae[En])return Mn?qe:{};Qt=S(qe,En,Mt)}}Kn||(Kn=new r);var Gs=Kn.get(qe);if(Gs)return Gs;Kn.set(qe,Qt),X(qe)?qe.forEach(function(jt){Qt.add(ot(jt,$n,mt,jt,qe,Kn))}):F(qe)&&qe.forEach(function(jt,vt){Qt.set(vt,ot(jt,$n,mt,vt,qe,Kn))});var Wa=Hs?Wn?v:m:Wn?ce:le,$s=Hi?void 0:Wa(qe);return e($s||qe,function(jt,vt){$s&&(vt=jt,jt=qe[vt]),t(Qt,vt,ot(jt,$n,mt,vt,qe,Kn))}),Qt}return __=ot,__}var b_,uI;function mF(){if(uI)return b_;uI=1;var r=MD(),e=4;function t(i){return r(i,e)}return b_=t,b_}var gF=mF();const Hn=Yt(gF);var E_,cI;function yF(){if(cI)return E_;cI=1;function r(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return E_=r,E_}var T_,hI;function vF(){if(hI)return T_;hI=1;function r(e,t,i){var a=-1,l=e.length;t<0&&(t=-t>l?0:l+t),i=i>l?l:i,i<0&&(i+=l),l=t>i?0:i-t>>>0,t>>>=0;for(var c=Array(l);++a<l;)c[a]=e[a+t];return c}return T_=r,T_}var x_,dI;function _F(){if(dI)return x_;dI=1;var r=af(),e=vF();function t(i,a){return a.length<2?i:r(i,e(a,0,-1))}return x_=t,x_}var S_,fI;function jD(){if(fI)return S_;fI=1;var r=oc(),e=yF(),t=_F(),i=ul(),a=Object.prototype,l=a.hasOwnProperty;function c(d,p){p=r(p,d);var m=-1,v=p.length;if(!v)return!0;for(var b=d==null||typeof d!="object"&&typeof d!="function";++m<v;){var x=p[m];if(typeof x=="string"){if(x==="__proto__"&&!l.call(d,"__proto__"))return!1;if(x==="constructor"&&m+1<v&&typeof p[m+1]=="string"&&p[m+1]==="prototype"){if(b&&m===0)continue;return!1}}}var S=t(d,p);return S==null||delete S[i(e(p))]}return S_=c,S_}var w_,pI;function bF(){if(pI)return w_;pI=1;var r=jD();function e(t,i){return t==null?!0:r(t,i)}return w_=e,w_}var EF=bF();const Xh=Yt(EF),TF=(r={},e)=>{switch(e.type){case"TOGGLE_ITEM":{const t=Hn(r),i=e.game==="warframe"&&e.category==="resets";return Vu(t,[e.game,e.category,e.title])?Xh(t,[e.game,e.category,e.title]):xa(t,[e.game,e.category,e.title],i?Date.now():!0),t}case"CLEAR_ITEMS":{const t=Hn(r);return e.titles&&e.titles.length&&e.titles.forEach(i=>{Vu(t,[e.game,e.category,i])&&Xh(t,[e.game,e.category,i])}),t}case"ADD_BUILD_ITEM":{const t=Hn(r),i=e.item.id||e.item.title;return xa(t,[e.game,e.category,i],e.item),t}case"REMOVE_BUILD_ITEM":{const t=Hn(r);return Xh(t,[e.game,e.category,e.title]),t}case"UPDATE_BUILD_ITEM":{const t=Hn(r),i=e.title,a=e.item.id||e.item.title;return Vu(t,[e.game,e.category,i])&&(i!==a&&Xh(t,[e.game,e.category,i]),xa(t,[e.game,e.category,a],e.item)),t}case"UPLOAD_STATE":return e.state&&e.state.gameConfig?e.state.gameConfig:r;default:return r}},xF=(r=Jt.SHOW_ALL,e)=>e.type==="SET_VISIBILITY_FILTER"?e.filter:r,SF=(r=Jt.SHOW_ALL,e)=>e.type==="SET_RELIC_VISIBILITY"?e.filter:r,wF=(r="",e)=>e.type==="SET_SEARCH_VALUE"?e.value:r,AF=()=>{try{const r=localStorage.getItem("state");return r===null?void 0:JSON.parse(r)}catch{return}},RF=(r={state:"backup"},e)=>{if(e.type==="DOWNLOAD_STATE"){const t=new Blob([JSON.stringify(AF(),null," ")],{type:"text/json;charset=utf-8"});return AD.saveAs(t,"state.json"),r}else return r};var A_,mI;function VD(){if(mI)return A_;mI=1;var r=qa(),e=Zb(),t=ui(),i="[object Object]",a=Function.prototype,l=Object.prototype,c=a.toString,d=l.hasOwnProperty,p=c.call(Object);function m(v){if(!t(v)||r(v)!=i)return!1;var b=e(v);if(b===null)return!0;var x=d.call(b,"constructor")&&b.constructor;return typeof x=="function"&&x instanceof x&&c.call(x)==p}return A_=m,A_}var R_,gI;function CF(){if(gI)return R_;gI=1;var r=VD();function e(t){return r(t)?void 0:t}return R_=e,R_}var C_,yI;function IF(){if(yI)return C_;yI=1;var r=$0();function e(t){var i=t==null?0:t.length;return i?r(t,1):[]}return C_=e,C_}var I_,vI;function NF(){if(vI)return I_;vI=1;var r=IF(),e=N2(),t=O2();function i(a){return t(e(a,void 0,r),a+"")}return I_=i,I_}var N_,_I;function OF(){if(_I)return N_;_I=1;var r=sf(),e=MD(),t=jD(),i=oc(),a=_l(),l=CF(),c=NF(),d=OD(),p=1,m=2,v=4,b=c(function(x,S){var M={};if(x==null)return M;var P=!1;S=r(S,function(F){return F=i(F,x),P||(P=F.length>1),F}),a(x,d(x),M),P&&(M=e(M,p|m|v,l));for(var k=S.length;k--;)t(M,S[k]);return M});return N_=b,N_}var DF=OF();const t1=Yt(DF);function Cu(r){const e=r.item&&r.item.title?r.item.title:r.title;return`${r.game}-${r.category}-${e}`}const kF=(r={},e)=>{switch(e.type){case"ADD_ITEM":{const t=Hn(r),i=e.item;return i.timestamp=Date.now(),t[Cu(e)]=i,t}case"REMOVE_ITEM":{const t=Hn(r);return t1(t,Cu(e))}case"INCREMENT_ITEM":{const t=Cu(e);if(!r[t])return r;const i=Hn(r);return i[t].count=(r[t].count?r[t].count:0)+1,i}case"DECREMENT_ITEM":{const t=Cu(e);if(!r[t])return r;const i=Hn(r);return r[t].count>0&&(i[t].count=(r[t].count?r[t].count:0)-1),i}case"UPDATE_ITEM":{const t=Cu(e);if(!r[t])return r;const i=Hn(r);return i[t].notes=e.notes,e.count!==void 0&&(i[t].count=e.count),i}default:return r}};function bI(r){const e=r.item&&r.item.title?r.item.title:r.title;return`${r.game}-${r.category}-${e}`}const MF=(r={},e)=>{switch(e.type){case"ADD_VOID_ITEM":{const t=Hn(r),i=e.item;return i.timestamp=Date.now(),t[bI(e)]=i,t}case"REMOVE_VOID_ITEM":{const t=Hn(r);return t1(t,bI(e))}default:return r}};function jF(r){return r.relic&&r.relic.title?r.relic.title:r.title}const VF=(r={},e)=>{switch(e.type){case"TOGGLE_RELIC":{const t=Hn(r),i=jF(e),a=e.relic;if(a.timestamp=Date.now(),!r[i])a.available=!0,t[i]=a;else if(r[i].available===!0)a.available=!1,t[i]=a;else return t1(t,i);return t}default:return r}},Yo=Xz({gameConfig:TF,visibilityFilter:xF,relicVisibility:SF,searchFilter:wF,stateBackup:RF,todoItems:kF,voidDrops:MF,markedRelics:VF}),PD=({open:r,onUseCloud:e,onUseLocal:t,onMerge:i,cloudUpdated:a,localUpdated:l})=>r?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-11/12 md:w-3/4 overflow-hidden animate-in fade-in zoom-in duration-200 text-left",children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:y.jsx(td,{className:"text-2xl text-sky-700"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Sync Conflict Detected"})]}),y.jsxs("div",{className:"space-y-4 text-gray-600",children:[y.jsx("p",{children:"You have data both in the cloud and locally on this device. Which version would you like to use?"}),y.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2 border border-gray-100",children:[y.jsxs("div",{className:"flex justify-between items-center text-lg",children:[y.jsxs("span",{className:"font-medium text-gray-500 flex items-center gap-1.5",children:[y.jsx(td,{className:"text-xl"})," Cloud data:"]}),y.jsx("span",{className:"text-gray-900",children:a?new Date(a).toLocaleString():"unknown"})]}),y.jsxs("div",{className:"flex justify-between items-center text-lg",children:[y.jsxs("span",{className:"font-medium text-gray-500 flex items-center gap-1.5",children:[y.jsx(Kx,{className:"text-xl"})," Local data:"]}),y.jsx("span",{className:"text-gray-900",children:l?new Date(l).toLocaleString():"recently"})]})]})]})]}),y.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex flex-col gap-2",children:[y.jsxs("button",{onClick:i,className:"flex items-center justify-center gap-2 w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(UP,{className:"text-xl"})," Merge Both"]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[y.jsxs("button",{onClick:e,className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(td,{className:"text-xl"})," Use Cloud"]}),y.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-2 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(Kx,{className:"text-xl"})," Use Local"]})]})]})]})}):null;PD.propTypes={open:R.bool.isRequired,onUseCloud:R.func.isRequired,onUseLocal:R.func.isRequired,onMerge:R.func.isRequired,cloudUpdated:R.any,localUpdated:R.any};const LD=({errorType:r,errorMessage:e})=>y.jsxs("div",{className:"m-4 p-4 bg-amber-50 border border-amber-200 rounded-lg text-amber-900 shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(Fd,{className:"text-amber-600 text-xl"}),y.jsx("h3",{className:"text-lg font-bold",children:"Cloud Sync Unavailable"})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"font-semibold",children:"Unable to connect to cloud storage."}),y.jsxs("p",{children:["You're currently using ",y.jsx("strong",{children:"local storage only"}),". Your changes will be saved to this browser, but won't sync across devices until cloud access is restored."]}),y.jsx("p",{children:"For now, Sign Out to remove this banner and use local storage only."}),y.jsxs("div",{className:"pt-2",children:[y.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[y.jsx(D0,{className:"text-xl"}),y.jsx("span",{children:"What this means:"})]}),y.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[y.jsx("li",{children:"You can continue using the app normally"}),y.jsx("li",{children:"Your data is saved locally in this browser"}),y.jsx("li",{className:"text-amber-800 font-medium",children:"Changes won't sync to the cloud or other devices"}),y.jsx("li",{className:"text-amber-800 font-medium",children:"Clearing browser data will delete your progress"})]})]}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-amber-200 text-sm text-amber-800/80 italic",children:[y.jsx("strong",{children:"Technical details:"})," ",r==="permission-denied"?"Cloud permissions need to be configured. Contact the app administrator.":e||"Connection to cloud storage failed."]})]})]});LD.propTypes={errorType:R.string,errorMessage:R.string};var O_,EI;function UD(){if(EI)return O_;EI=1;var r=$d(),e=sc();function t(i,a,l){(l!==void 0&&!e(i[a],l)||l===void 0&&!(a in i))&&r(i,a,l)}return O_=t,O_}var D_,TI;function PF(){if(TI)return D_;TI=1;var r=ll(),e=ui();function t(i){return e(i)&&r(i)}return D_=t,D_}var k_,xI;function qD(){if(xI)return k_;xI=1;function r(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}return k_=r,k_}var M_,SI;function LF(){if(SI)return M_;SI=1;var r=_l(),e=vc();function t(i){return r(i,e(i))}return M_=t,M_}var j_,wI;function UF(){if(wI)return j_;wI=1;var r=UD(),e=ID(),t=DD(),i=Y0(),a=kD(),l=Kd(),c=pn(),d=PF(),p=Wd(),m=M0(),v=hr(),b=VD(),x=P0(),S=qD(),M=LF();function P(k,F,z,X,le,ce,oe){var I=S(k,z),C=S(F,z),O=oe.get(C);if(O){r(k,z,O);return}var j=ce?ce(I,C,z+"",k,F,oe):void 0,D=j===void 0;if(D){var L=c(C),N=!L&&p(C),Re=!L&&!N&&x(C);j=C,L||N||Re?c(I)?j=I:d(I)?j=i(I):N?(D=!1,j=e(C,!0)):Re?(D=!1,j=t(C,!0)):j=[]:b(C)||l(C)?(j=I,l(I)?j=M(I):(!v(I)||m(I))&&(j=a(C))):D=!1}D&&(oe.set(C,j),le(j,C,X,ce,oe),oe.delete(C)),r(k,z,j)}return j_=P,j_}var V_,AI;function qF(){if(AI)return V_;AI=1;var r=tf(),e=UD(),t=d2(),i=UF(),a=hr(),l=vc(),c=qD();function d(p,m,v,b,x){p!==m&&t(m,function(S,M){if(x||(x=new r),a(S))i(p,m,M,v,d,b,x);else{var P=b?b(c(p,M),S,M+"",p,m,x):void 0;P===void 0&&(P=S),e(p,M,P)}},l)}return V_=d,V_}var P_,RI;function BF(){if(RI)return P_;RI=1;var r=D2(),e=k2();function t(i){return r(function(a,l){var c=-1,d=l.length,p=d>1?l[d-1]:void 0,m=d>2?l[2]:void 0;for(p=i.length>3&&typeof p=="function"?(d--,p):void 0,m&&e(l[0],l[1],m)&&(p=d<3?void 0:p,d=1),a=Object(a);++c<d;){var v=l[c];v&&i(a,v,c,p)}return a})}return P_=t,P_}var L_,CI;function zF(){if(CI)return L_;CI=1;var r=qF(),e=BF(),t=e(function(i,a,l){r(i,a,l)});return L_=t,L_}var FF=zF();const HF=Yt(FF),v0=[{name:"warframe",title:"Warframe",format:"yaml"},{name:"soulframe",title:"Soulframe",format:"yaml"},{name:"remnant",title:"Remnant: From the Ashes"},{name:"remnant2",title:"Remnant 2",format:"yaml"},{name:"nioh2",title:"Nioh 2"},{name:"ff7",title:"Final Fantasy VII Remake"},{name:"ff14",title:"Final Fantasy XIV"},{name:"desperadosiii",title:"Desperados III"},{name:"hades",title:"Hades"},{name:"riskofrain2",title:"Risk of Rain 2"},{name:"moonlighter",title:"Moonlighter"},{name:"demonsouls",title:"Demon's Souls"},{name:"d2",title:"Diablo 2"},{name:"eldenring",title:"Elden Ring"},{name:"lordsofthefallen",title:"Lords of the Fallen",format:"yaml"},{name:"shadowgambit",title:"Shadow Gambit: The Cursed Crew",format:"yaml"},{name:"seaofthieves",title:"Sea of Thieves",format:"yaml"},{name:"arcraiders",title:"Arc Raiders",format:"yaml"}],BD=({initialStore:r,conflictData:e})=>{const[t,i]=B.useState(r),[a,l]=B.useState(!!e),c=async()=>{const m=Wo(Yo,e.cloudState||void 0);m.subscribe(()=>Ii(m.getState())),await Ii(e.cloudState),i(m),l(!1)},d=async()=>{const m=Wo(Yo,e.localState||void 0);m.subscribe(()=>Ii(m.getState())),await Ii(e.localState),i(m),l(!1)},p=async()=>{const m=HF({},e.cloudState,e.localState),v=Wo(Yo,m||void 0);v.subscribe(()=>Ii(v.getState())),await Ii(m),i(v),l(!1)};return y.jsxs(y.Fragment,{children:[a&&y.jsx(PD,{open:a,onUseCloud:c,onUseLocal:d,onMerge:p,cloudUpdated:e?.cloudUpdated,localUpdated:Date.now()}),y.jsx(H_,{store:t,children:y.jsx(Vd,{configs:v0})})]})};BD.propTypes={initialStore:R.object.isRequired,conflictData:R.shape({cloudState:R.object,localState:R.object,cloudUpdated:R.oneOfType([R.instanceOf(Date),R.number,R.string])})};const GF=async()=>{await new Promise(t=>{const i=lb(Nr,()=>{i(),t()})});const r=await Oz();if(r&&r._conflict){const t=Wo(Yo,void 0);return{conflict:!0,conflictData:r,store:t}}if(r&&r._error){const t=Wo(Yo,r.localState||void 0);return{error:!0,errorData:r,store:t}}const e=Wo(Yo,r||void 0);return e.subscribe(()=>Ii(e.getState())),{store:e}};GF().then(r=>{const e=document.createElement("div");document.body.appendChild(e);const t=$z.createRoot(e);r.conflict?t.render(y.jsx(BD,{initialStore:r.store,conflictData:r.conflictData})):r.error?t.render(y.jsxs(H_,{store:r.store,children:[y.jsx(LD,{errorType:r.errorData.errorType,errorMessage:r.errorData.errorMessage}),y.jsx(Vd,{configs:v0})]})):t.render(y.jsx(H_,{store:r.store,children:y.jsx(Vd,{configs:v0})}))});
