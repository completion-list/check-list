(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var xm={exports:{}},_u={};var Tx;function mM(){if(Tx)return _u;Tx=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:l}}return _u.Fragment=e,_u.jsx=t,_u.jsxs=t,_u}var xx;function gM(){return xx||(xx=1,xm.exports=mM()),xm.exports}var y=gM(),Sm={exports:{}},De={};var Sx;function yM(){if(Sx)return De;Sx=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=x&&U[x]||U["@@iterator"],typeof U=="function"?U:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,k={};function F(U,ne,ue){this.props=U,this.context=ne,this.refs=k,this.updater=ue||M}F.prototype.isReactComponent={},F.prototype.setState=function(U,ne){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ne,"setState")},F.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function B(){}B.prototype=F.prototype;function W(U,ne,ue){this.props=U,this.context=ne,this.refs=k,this.updater=ue||M}var le=W.prototype=new B;le.constructor=W,P(le,F.prototype),le.isPureReactComponent=!0;var ce=Array.isArray;function oe(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function O(U,ne,ue){var de=ue.ref;return{$$typeof:r,type:U,key:ne,ref:de!==void 0?de:null,props:ue}}function j(U,ne){return O(U.type,ne,U.props)}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function L(U){var ne={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return ne[ue]})}var N=/\/+/g;function Re(U,ne){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):ne.toString(36)}function Ne(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(oe,oe):(U.status="pending",U.then(function(ne){U.status==="pending"&&(U.status="fulfilled",U.value=ne)},function(ne){U.status==="pending"&&(U.status="rejected",U.reason=ne)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ee(U,ne,ue,de,X){var Q=typeof U;(Q==="undefined"||Q==="boolean")&&(U=null);var pe=!1;if(U===null)pe=!0;else switch(Q){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(U.$$typeof){case r:case e:pe=!0;break;case v:return pe=U._init,ee(pe(U._payload),ne,ue,de,X)}}if(pe)return X=X(U),pe=de===""?"."+Re(U,0):de,ce(X)?(ue="",pe!=null&&(ue=pe.replace(N,"$&/")+"/"),ee(X,ne,ue,"",function(je){return je})):X!=null&&(D(X)&&(X=j(X,ue+(X.key==null||U&&U.key===X.key?"":(""+X.key).replace(N,"$&/")+"/")+pe)),ne.push(X)),1;pe=0;var Me=de===""?".":de+":";if(ce(U))for(var be=0;be<U.length;be++)de=U[be],Q=Me+Re(de,be),pe+=ee(de,ne,ue,Q,X);else if(be=S(U),typeof be=="function")for(U=be.call(U),be=0;!(de=U.next()).done;)de=de.value,Q=Me+Re(de,be++),pe+=ee(de,ne,ue,Q,X);else if(Q==="object"){if(typeof U.then=="function")return ee(Ne(U),ne,ue,de,X);throw ne=String(U),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return pe}function he(U,ne,ue){if(U==null)return U;var de=[],X=0;return ee(U,de,"","",function(Q){return ne.call(ue,Q,X++)}),de}function ye(U){if(U._status===-1){var ne=U._result;ne=ne(),ne.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=ne)}if(U._status===1)return U._result.default;throw U._result}var Le=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Fe={map:he,forEach:function(U,ne,ue){he(U,function(){ne.apply(this,arguments)},ue)},count:function(U){var ne=0;return he(U,function(){ne++}),ne},toArray:function(U){return he(U,function(ne){return ne})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return De.Activity=b,De.Children=Fe,De.Component=F,De.Fragment=t,De.Profiler=a,De.PureComponent=W,De.StrictMode=i,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,De.__COMPILER_RUNTIME={__proto__:null,c:function(U){return I.H.useMemoCache(U)}},De.cache=function(U){return function(){return U.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(U,ne,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var de=P({},U.props),X=U.key;if(ne!=null)for(Q in ne.key!==void 0&&(X=""+ne.key),ne)!C.call(ne,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&ne.ref===void 0||(de[Q]=ne[Q]);var Q=arguments.length-2;if(Q===1)de.children=ue;else if(1<Q){for(var pe=Array(Q),Me=0;Me<Q;Me++)pe[Me]=arguments[Me+2];de.children=pe}return O(U.type,X,de)},De.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},De.createElement=function(U,ne,ue){var de,X={},Q=null;if(ne!=null)for(de in ne.key!==void 0&&(Q=""+ne.key),ne)C.call(ne,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(X[de]=ne[de]);var pe=arguments.length-2;if(pe===1)X.children=ue;else if(1<pe){for(var Me=Array(pe),be=0;be<pe;be++)Me[be]=arguments[be+2];X.children=Me}if(U&&U.defaultProps)for(de in pe=U.defaultProps,pe)X[de]===void 0&&(X[de]=pe[de]);return O(U,Q,X)},De.createRef=function(){return{current:null}},De.forwardRef=function(U){return{$$typeof:d,render:U}},De.isValidElement=D,De.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:ye}},De.memo=function(U,ne){return{$$typeof:g,type:U,compare:ne===void 0?null:ne}},De.startTransition=function(U){var ne=I.T,ue={};I.T=ue;try{var de=U(),X=I.S;X!==null&&X(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(oe,Le)}catch(Q){Le(Q)}finally{ne!==null&&ue.types!==null&&(ne.types=ue.types),I.T=ne}},De.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},De.use=function(U){return I.H.use(U)},De.useActionState=function(U,ne,ue){return I.H.useActionState(U,ne,ue)},De.useCallback=function(U,ne){return I.H.useCallback(U,ne)},De.useContext=function(U){return I.H.useContext(U)},De.useDebugValue=function(){},De.useDeferredValue=function(U,ne){return I.H.useDeferredValue(U,ne)},De.useEffect=function(U,ne){return I.H.useEffect(U,ne)},De.useEffectEvent=function(U){return I.H.useEffectEvent(U)},De.useId=function(){return I.H.useId()},De.useImperativeHandle=function(U,ne,ue){return I.H.useImperativeHandle(U,ne,ue)},De.useInsertionEffect=function(U,ne){return I.H.useInsertionEffect(U,ne)},De.useLayoutEffect=function(U,ne){return I.H.useLayoutEffect(U,ne)},De.useMemo=function(U,ne){return I.H.useMemo(U,ne)},De.useOptimistic=function(U,ne){return I.H.useOptimistic(U,ne)},De.useReducer=function(U,ne,ue){return I.H.useReducer(U,ne,ue)},De.useRef=function(U){return I.H.useRef(U)},De.useState=function(U){return I.H.useState(U)},De.useSyncExternalStore=function(U,ne,ue){return I.H.useSyncExternalStore(U,ne,ue)},De.useTransition=function(){return I.H.useTransition()},De.version="19.2.4",De}var wx;function Lf(){return wx||(wx=1,Sm.exports=yM()),Sm.exports}var z=Lf();const Yt=Qt(z);var Ax="popstate";function vM(r={}){function e(a,l){let{pathname:c="/",search:d="",hash:p=""}=La(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),L_("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=a.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:Fu(l))}function i(a,l){cr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return bM(e,t,i,r)}function St(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function cr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _M(){return Math.random().toString(36).substring(2,10)}function Rx(r,e){return{usr:r.state,key:r.key,idx:e}}function L_(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?La(e):e,state:t,key:e&&e.key||i||_M()}}function Fu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function La(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function bM(r,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let k=v(),F=k==null?null:k-g;g=k,p&&p({action:d,location:P.location,delta:F})}function x(k,F){d="PUSH";let B=L_(P.location,k,F);t&&t(B,k),g=v()+1;let W=Rx(B,g),le=P.createHref(B);try{c.pushState(W,"",le)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;a.location.assign(le)}l&&p&&p({action:d,location:P.location,delta:1})}function S(k,F){d="REPLACE";let B=L_(P.location,k,F);t&&t(B,k),g=v();let W=Rx(B,g),le=P.createHref(B);c.replaceState(W,"",le),l&&p&&p({action:d,location:P.location,delta:0})}function M(k){return EM(k)}let P={get action(){return d},get location(){return r(a,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Ax,b),p=k,()=>{a.removeEventListener(Ax,b),p=null}},createHref(k){return e(a,k)},createURL:M,encodeLocation(k){let F=M(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:x,replace:S,go(k){return c.go(k)}};return P}function EM(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),St(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Fu(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function RI(r,e,t="/"){return TM(r,e,t,!1)}function TM(r,e,t,i){let a=typeof e=="string"?La(e):e,l=ji(a.pathname||"/",t);if(l==null)return null;let c=CI(r);xM(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=MM(l);d=DM(c[p],g,i)}return d}function CI(r,e=[],t=[],i="",a=!1){let l=(c,d,p=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&p)return;St(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=ki([i,v.relativePath]),x=t.concat(v);c.children&&c.children.length>0&&(St(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),CI(c.children,e,x,b,p)),!(c.path==null&&!c.index)&&e.push({path:b,score:NM(b,c.index),routesMeta:x})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of II(c.path))l(c,d,!0,p)}),e}function II(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=II(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function xM(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:OM(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var SM=/^:[\w-]+$/,wM=3,AM=2,RM=1,CM=10,IM=-2,Cx=r=>r==="*";function NM(r,e){let t=r.split("/"),i=t.length;return t.some(Cx)&&(i+=IM),e&&(i+=AM),t.filter(a=>!Cx(a)).reduce((a,l)=>a+(SM.test(l)?wM:l===""?RM:CM),i)}function OM(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function DM(r,e,t=!1){let{routesMeta:i}=r,a={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=df({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),x=p.route;if(!b&&g&&t&&!i[i.length-1].route.index&&(b=df({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:ki([l,b.pathname]),pathnameBase:LM(ki([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=ki([l,b.pathnameBase]))}return c}function df(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=kM(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:b},x)=>{if(v==="*"){let M=d[x]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const S=d[x];return b&&!S?g[v]=void 0:g[v]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:r}}function kM(r,e=!1,t=!0){cr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function MM(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ji(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}var jM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function VM(r,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof r=="string"?La(r):r,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=Ix(t.substring(1),"/"):l=Ix(t,e)):l=e,{pathname:l,search:UM(i),hash:qM(a)}}function Ix(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function wm(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PM(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _0(r){let e=PM(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function b0(r,e,t,i=!1){let a;typeof r=="string"?a=La(r):(a={...r},St(!a.pathname||!a.pathname.includes("?"),wm("?","pathname","search",a)),St(!a.pathname||!a.pathname.includes("#"),wm("#","pathname","hash",a)),St(!a.search||!a.search.includes("#"),wm("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;a.pathname=x.join("/")}d=b>=0?e[b]:"/"}let p=VM(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var ki=r=>r.join("/").replace(/\/\/+/g,"/"),LM=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),UM=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,qM=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,zM=class{constructor(r,e,t,i=!1){this.status=r,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function BM(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function FM(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var NI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function OI(r,e){let t=r;if(typeof t!="string"||!jM.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,a=!1;if(NI)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=ji(c.pathname,e);c.origin===l.origin&&d!=null?t=d+c.search+c.hash:a=!0}catch{cr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DI=["POST","PUT","PATCH","DELETE"];new Set(DI);var HM=["GET",...DI];new Set(HM);var sl=z.createContext(null);sl.displayName="DataRouter";var Uf=z.createContext(null);Uf.displayName="DataRouterState";var GM=z.createContext(!1),kI=z.createContext({isTransitioning:!1});kI.displayName="ViewTransition";var $M=z.createContext(new Map);$M.displayName="Fetchers";var KM=z.createContext(null);KM.displayName="Await";var Gn=z.createContext(null);Gn.displayName="Navigation";var ec=z.createContext(null);ec.displayName="Location";var Or=z.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var E0=z.createContext(null);E0.displayName="RouteError";var MI="REACT_ROUTER_ERROR",YM="REDIRECT",QM="ROUTE_ERROR_RESPONSE";function XM(r){if(r.startsWith(`${MI}:${YM}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function WM(r){if(r.startsWith(`${MI}:${QM}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new zM(e.status,e.statusText,e.data)}catch{}}function JM(r,{relative:e}={}){St(al(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=z.useContext(Gn),{hash:a,pathname:l,search:c}=tc(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:ki([t,l])),i.createHref({pathname:d,search:c,hash:a})}function al(){return z.useContext(ec)!=null}function Bi(){return St(al(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(ec).location}var jI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VI(r){z.useContext(Gn).static||z.useLayoutEffect(r)}function T0(){let{isDataRoute:r}=z.useContext(Or);return r?fj():ZM()}function ZM(){St(al(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(sl),{basename:e,navigator:t}=z.useContext(Gn),{matches:i}=z.useContext(Or),{pathname:a}=Bi(),l=JSON.stringify(_0(i)),c=z.useRef(!1);return VI(()=>{c.current=!0}),z.useCallback((p,g={})=>{if(cr(c.current,jI),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=b0(p,JSON.parse(l),a,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ki([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,r])}z.createContext(null);function ej(){let{matches:r}=z.useContext(Or),e=r[r.length-1];return e?e.params:{}}function tc(r,{relative:e}={}){let{matches:t}=z.useContext(Or),{pathname:i}=Bi(),a=JSON.stringify(_0(t));return z.useMemo(()=>b0(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function tj(r,e){return PI(r,e)}function PI(r,e,t,i,a){St(al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=z.useContext(Gn),{matches:c}=z.useContext(Or),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let B=b&&b.path||"";UI(g,!b||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let x=Bi(),S;if(e){let B=typeof e=="string"?La(e):e;St(v==="/"||B.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=x;let M=S.pathname||"/",P=M;if(v!=="/"){let B=v.replace(/^\//,"").split("/");P="/"+M.replace(/^\//,"").split("/").slice(B.length).join("/")}let k=RI(r,{pathname:P});cr(b||k!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),cr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=aj(k&&k.map(B=>Object.assign({},B,{params:Object.assign({},p,B.params),pathname:ki([v,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?v:ki([v,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,t,i,a);return e&&F?z.createElement(ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},F):F}function nj(){let r=hj(),e=BM(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=z.createElement(z.Fragment,null,z.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:l},"ErrorBoundary")," or"," ",z.createElement("code",{style:l},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:a},t):null,c)}var rj=z.createElement(nj,null),LI=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=WM(r.digest);t&&(r=t)}let e=r!==void 0?z.createElement(Or.Provider,{value:this.props.routeContext},z.createElement(E0.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?z.createElement(ij,{error:r},e):e}};LI.contextType=GM;var Am=new WeakMap;function ij({children:r,error:e}){let{basename:t}=z.useContext(Gn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=XM(e.digest);if(i){let a=Am.get(e);if(a)throw a;let l=OI(i.location,t);if(NI&&!Am.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Am.set(e,c),c}return z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function sj({routeContext:r,match:e,children:t}){let i=z.useContext(sl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Or.Provider,{value:r},t)}function aj(r,e=[],t=null,i=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t?.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);St(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,p=-1;if(t)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:x,errors:S}=t,M=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||M){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&i?(v,b)=>{i(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:FM(t.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,x)=>{let S,M=!1,P=null,k=null;t&&(S=c&&b.route.id?c[b.route.id]:void 0,P=b.route.errorElement||rj,d&&(p<0&&x===0?(UI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,k=null):p===x&&(M=!0,k=b.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,x+1)),B=()=>{let W;return S?W=P:M?W=k:b.route.Component?W=z.createElement(b.route.Component,null):b.route.element?W=b.route.element:W=v,z.createElement(sj,{match:b,routeContext:{outlet:v,matches:F,isDataRoute:t!=null},children:W})};return t&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?z.createElement(LI,{location:t.location,revalidation:t.revalidation,component:P,error:S,children:B(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:g}):B()},null)}function x0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oj(r){let e=z.useContext(sl);return St(e,x0(r)),e}function lj(r){let e=z.useContext(Uf);return St(e,x0(r)),e}function uj(r){let e=z.useContext(Or);return St(e,x0(r)),e}function S0(r){let e=uj(r),t=e.matches[e.matches.length-1];return St(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function cj(){return S0("useRouteId")}function hj(){let r=z.useContext(E0),e=lj("useRouteError"),t=S0("useRouteError");return r!==void 0?r:e.errors?.[t]}function fj(){let{router:r}=oj("useNavigate"),e=S0("useNavigate"),t=z.useRef(!1);return VI(()=>{t.current=!0}),z.useCallback(async(a,l={})=>{cr(t.current,jI),t.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var Nx={};function UI(r,e,t){!e&&!Nx[r]&&(Nx[r]=!0,cr(!1,t))}z.memo(dj);function dj({routes:r,future:e,state:t,onError:i}){return PI(r,void 0,t,i,e)}function U_({to:r,replace:e,state:t,relative:i}){St(al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=z.useContext(Gn);cr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=z.useContext(Or),{pathname:c}=Bi(),d=T0(),p=b0(r,_0(l),c,i==="path"),g=JSON.stringify(p);return z.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:i})},[d,g,i,e,t]),null}function Aa(r){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pj({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){St(!al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof t=="string"&&(t=La(t));let{pathname:g="/",search:v="",hash:b="",state:x=null,key:S="default"}=t,M=z.useMemo(()=>{let P=ji(g,d);return P==null?null:{location:{pathname:P,search:v,hash:b,state:x,key:S},navigationType:i}},[d,g,v,b,x,S,i]);return cr(M!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:z.createElement(Gn.Provider,{value:p},z.createElement(ec.Provider,{children:e,value:M}))}function qI({children:r,location:e}){return tj(q_(r),e)}function q_(r,e=[]){let t=[];return z.Children.forEach(r,(i,a)=>{if(!z.isValidElement(i))return;let l=[...e,a];if(i.type===z.Fragment){t.push.apply(t,q_(i.props.children,l));return}St(i.type===Aa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=q_(i.props.children,l)),t.push(c)}),t}var Jh="get",Zh="application/x-www-form-urlencoded";function qf(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function mj(r){return qf(r)&&r.tagName.toLowerCase()==="button"}function gj(r){return qf(r)&&r.tagName.toLowerCase()==="form"}function yj(r){return qf(r)&&r.tagName.toLowerCase()==="input"}function vj(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function _j(r,e){return r.button===0&&(!e||e==="_self")&&!vj(r)}var Fh=null;function bj(){if(Fh===null)try{new FormData(document.createElement("form"),0),Fh=!1}catch{Fh=!0}return Fh}var Ej=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(r){return r!=null&&!Ej.has(r)?(cr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zh}"`),null):r}function Tj(r,e){let t,i,a,l,c;if(gj(r)){let d=r.getAttribute("action");i=d?ji(d,e):null,t=r.getAttribute("method")||Jh,a=Rm(r.getAttribute("enctype"))||Zh,l=new FormData(r)}else if(mj(r)||yj(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(i=p?ji(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||Jh,a=Rm(r.getAttribute("formenctype"))||Rm(d.getAttribute("enctype"))||Zh,l=new FormData(d,r),!bj()){let{name:g,type:v,value:b}=r;if(v==="image"){let x=g?`${g}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else g&&l.append(g,b)}}else{if(qf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Jh,i=null,a=Zh,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function w0(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function xj(r,e,t,i){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&ji(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function Sj(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wj(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Aj(r,e,t){let i=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await Sj(l,t);return c.links?c.links():[]}return[]}));return Nj(i.flat(1).filter(wj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ox(r,e,t,i,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Rj(r,e,{includeHydrateFallback:t}={}){return Cj(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Cj(r){return[...new Set(r)]}function Ij(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function Nj(r,e){let t=new Set;return new Set(e),r.reduce((i,a)=>{let l=JSON.stringify(Ij(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function zI(){let r=z.useContext(sl);return w0(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Oj(){let r=z.useContext(Uf);return w0(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var A0=z.createContext(void 0);A0.displayName="FrameworkContext";function BI(){let r=z.useContext(A0);return w0(r,"You must render this element inside a <HydratedRouter> element"),r}function Dj(r,e){let t=z.useContext(A0),[i,a]=z.useState(!1),[l,c]=z.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,x=z.useRef(null);z.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let P=F=>{F.forEach(B=>{c(B.isIntersecting)})},k=new IntersectionObserver(P,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[r]),z.useEffect(()=>{if(i){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[i]);let S=()=>{a(!0)},M=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,x,{}]:[l,x,{onFocus:bu(d,S),onBlur:bu(p,M),onMouseEnter:bu(g,S),onMouseLeave:bu(v,M),onTouchStart:bu(b,S)}]:[!1,x,{}]}function bu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function kj({page:r,...e}){let{router:t}=zI(),i=z.useMemo(()=>RI(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?z.createElement(jj,{page:r,matches:i,...e}):null}function Mj(r){let{manifest:e,routeModules:t}=BI(),[i,a]=z.useState([]);return z.useEffect(()=>{let l=!1;return Aj(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),i}function jj({page:r,matches:e,...t}){let i=Bi(),{future:a,manifest:l,routeModules:c}=BI(),{basename:d}=zI(),{loaderData:p,matches:g}=Oj(),v=z.useMemo(()=>Ox(r,e,g,l,i,"data"),[r,e,g,l,i]),b=z.useMemo(()=>Ox(r,e,g,l,i,"assets"),[r,e,g,l,i]),x=z.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let P=new Set,k=!1;if(e.forEach(B=>{let W=l.routes[B.route.id];!W||!W.hasLoader||(!v.some(le=>le.route.id===B.route.id)&&B.route.id in p&&c[B.route.id]?.shouldRevalidate||W.hasClientLoader?k=!0:P.add(B.route.id))}),P.size===0)return[];let F=xj(r,d,a.unstable_trailingSlashAwareDataRequests,"data");return k&&P.size>0&&F.searchParams.set("_routes",e.filter(B=>P.has(B.route.id)).map(B=>B.route.id).join(",")),[F.pathname+F.search]},[d,a.unstable_trailingSlashAwareDataRequests,p,i,l,v,e,r,c]),S=z.useMemo(()=>Rj(b,l),[b,l]),M=Mj(b);return z.createElement(z.Fragment,null,x.map(P=>z.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),S.map(P=>z.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),M.map(({key:P,link:k})=>z.createElement("link",{key:P,nonce:t.nonce,...k,crossOrigin:k.crossOrigin??t.crossOrigin})))}function Vj(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Pj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Pj&&(window.__reactRouterVersion="7.13.0")}catch{}function Lj({basename:r,children:e,unstable_useTransitions:t,window:i}){let a=z.useRef();a.current==null&&(a.current=vM({window:i,v5Compat:!0}));let l=a.current,[c,d]=z.useState({action:l.action,location:l.location}),p=z.useCallback(g=>{t===!1?d(g):z.startTransition(()=>d(g))},[t]);return z.useLayoutEffect(()=>l.listen(p),[l,p]),z.createElement(pj,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var FI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HI=z.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x,...S},M){let{basename:P,unstable_useTransitions:k}=z.useContext(Gn),F=typeof g=="string"&&FI.test(g),B=OI(g,P);g=B.to;let W=JM(g,{relative:a}),[le,ce,oe]=Dj(i,S),I=zj(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:k});function C(j){e&&e(j),j.defaultPrevented||I(j)}let O=z.createElement("a",{...S,...oe,href:B.absoluteURL||W,onClick:B.isExternal||l?e:C,ref:Vj(M,ce),target:p,"data-discover":!F&&t==="render"?"true":void 0});return le&&!F?z.createElement(z.Fragment,null,O,z.createElement(kj,{page:W})):O});HI.displayName="Link";var Hu=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let b=tc(c,{relative:g.relative}),x=Bi(),S=z.useContext(Uf),{navigator:M,basename:P}=z.useContext(Gn),k=S!=null&&$j(b)&&d===!0,F=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,B=x.pathname,W=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(B=B.toLowerCase(),W=W?W.toLowerCase():null,F=F.toLowerCase()),W&&P&&(W=ji(W,P)||W);const le=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ce=B===F||!a&&B.startsWith(F)&&B.charAt(le)==="/",oe=W!=null&&(W===F||!a&&W.startsWith(F)&&W.charAt(F.length)==="/"),I={isActive:ce,isPending:oe,isTransitioning:k},C=ce?e:void 0,O;typeof i=="function"?O=i(I):O=[i,ce?"active":null,oe?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(I):l;return z.createElement(HI,{...g,"aria-current":C,className:O,ref:v,style:j,to:c,viewTransition:d},typeof p=="function"?p(I):p)});Hu.displayName="NavLink";var Uj=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Jh,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x,...S},M)=>{let{unstable_useTransitions:P}=z.useContext(Gn),k=Hj(),F=Gj(d,{relative:g}),B=c.toLowerCase()==="get"?"get":"post",W=typeof d=="string"&&FI.test(d),le=ce=>{if(p&&p(ce),ce.defaultPrevented)return;ce.preventDefault();let oe=ce.nativeEvent.submitter,I=oe?.getAttribute("formmethod")||c,C=()=>k(oe||ce.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x});P&&t!==!1?z.startTransition(()=>C()):C()};return z.createElement("form",{ref:M,method:B,action:F,onSubmit:i?p:le,...S,"data-discover":!W&&r==="render"?"true":void 0})});Uj.displayName="Form";function qj(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GI(r){let e=z.useContext(sl);return St(e,qj(r)),e}function zj(r,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=T0(),v=Bi(),b=tc(r,{relative:l});return z.useCallback(x=>{if(_j(x,e)){x.preventDefault();let S=t!==void 0?t:Fu(v)===Fu(b),M=()=>g(r,{replace:S,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});p?z.startTransition(()=>M()):M()}},[v,g,b,t,i,e,r,a,l,c,d,p])}var Bj=0,Fj=()=>`__${String(++Bj)}__`;function Hj(){let{router:r}=GI("useSubmit"),{basename:e}=z.useContext(Gn),t=cj(),i=r.fetch,a=r.navigate;return z.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:v,body:b}=Tj(l,e);if(c.navigate===!1){let x=c.fetcherKey||Fj();await i(x,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,t])}function Gj(r,{relative:e}={}){let{basename:t}=z.useContext(Gn),i=z.useContext(Or);St(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...tc(r||".",{relative:e})},c=Bi();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ki([t,l.pathname])),Fu(l)}function $j(r,{relative:e}={}){let t=z.useContext(kI);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=GI("useViewTransitionState"),a=tc(r,{relative:e});if(!t.isTransitioning)return!1;let l=ji(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ji(t.nextLocation.pathname,i)||t.nextLocation.pathname;return df(a.pathname,c)!=null||df(a.pathname,l)!=null}var Cm={exports:{}},mn={};var Dx;function Kj(){if(Dx)return mn;Dx=1;var r=Lf();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},mn.flushSync=function(p){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=v,i.d.f()}},mn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},mn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},mn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:S}):v==="script"&&i.d.X(p,{crossOrigin:b,integrity:x,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},mn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},mn.requestFormReset=function(p){i.d.r(p)},mn.unstable_batchedUpdates=function(p,g){return p(g)},mn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},mn.version="19.2.4",mn}var kx;function Yj(){if(kx)return Cm.exports;kx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cm.exports=Kj(),Cm.exports}var Im={exports:{}},Nm,Mx;function Qj(){if(Mx)return Nm;Mx=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Nm=r,Nm}var Om,jx;function Xj(){if(jx)return Om;jx=1;var r=Qj();function e(){}function t(){}return t.resetWarningCache=e,Om=function(){function i(c,d,p,g,v,b){if(b!==r){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Om}var Vx;function Wj(){return Vx||(Vx=1,Im.exports=Xj()()),Im.exports}var Jj=Wj();const R=Qt(Jj),Zj="modulepreload",e4=function(r){return"/check-list/"+r},Px={},Xe=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let g=function(v){return Promise.all(v.map(b=>Promise.resolve(b).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var c=g;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");a=g(t.map(v=>{if(v=e4(v),v in Px)return;Px[v]=!0;const b=v.endsWith(".css"),x=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${x}`))return;const S=document.createElement("link");if(S.rel=b?"stylesheet":Zj,b||(S.as="script"),S.crossOrigin="",S.href=v,p&&S.setAttribute("nonce",p),document.head.appendChild(S),b)return new Promise((M,P)=>{S.addEventListener("load",M),S.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return a.then(d=>{for(const p of d||[])p.status==="rejected"&&l(p.reason);return e().catch(l)})},$I=(r,e,t)=>{const i=r[e];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((a,l)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(l.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})};var Dm={exports:{}},km={};var Lx;function t4(){if(Lx)return km;Lx=1;var r=Lf();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=r.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,d=r.useDebugValue;return km.useSyncExternalStoreWithSelector=function(p,g,v,b,x){var S=a(null);if(S.current===null){var M={hasValue:!1,value:null};S.current=M}else M=S.current;S=c(function(){function k(ce){if(!F){if(F=!0,B=ce,ce=b(ce),x!==void 0&&M.hasValue){var oe=M.value;if(x(oe,ce))return W=oe}return W=ce}if(oe=W,t(B,ce))return oe;var I=b(ce);return x!==void 0&&x(oe,I)?(B=ce,oe):(B=ce,W=I)}var F=!1,B,W,le=v===void 0?null:v;return[function(){return k(g())},le===null?void 0:function(){return k(le())}]},[g,v,b,x]);var P=i(p,S[0],S[1]);return l(function(){M.hasValue=!0,M.value=P},[P]),d(P),P},km}var Ux;function n4(){return Ux||(Ux=1,Dm.exports=t4()),Dm.exports}var r4=n4(),i4=z.version.startsWith("19"),s4=Symbol.for(i4?"react.transitional.element":"react.element"),a4=Symbol.for("react.portal"),o4=Symbol.for("react.fragment"),l4=Symbol.for("react.strict_mode"),u4=Symbol.for("react.profiler"),c4=Symbol.for("react.consumer"),h4=Symbol.for("react.context"),KI=Symbol.for("react.forward_ref"),f4=Symbol.for("react.suspense"),d4=Symbol.for("react.suspense_list"),R0=Symbol.for("react.memo"),p4=Symbol.for("react.lazy"),m4=KI,g4=R0;function y4(r){if(typeof r=="object"&&r!==null){const{$$typeof:e}=r;switch(e){case s4:switch(r=r.type,r){case o4:case u4:case l4:case f4:case d4:return r;default:switch(r=r&&r.$$typeof,r){case h4:case KI:case p4:case R0:return r;case c4:return r;default:return e}}case a4:return e}}}function v4(r){return y4(r)===R0}function _4(r,e,t,i,{areStatesEqual:a,areOwnPropsEqual:l,areStatePropsEqual:c}){let d=!1,p,g,v,b,x;function S(B,W){return p=B,g=W,v=r(p,g),b=e(i,g),x=t(v,b,g),d=!0,x}function M(){return v=r(p,g),e.dependsOnOwnProps&&(b=e(i,g)),x=t(v,b,g),x}function P(){return r.dependsOnOwnProps&&(v=r(p,g)),e.dependsOnOwnProps&&(b=e(i,g)),x=t(v,b,g),x}function k(){const B=r(p,g),W=!c(B,v);return v=B,W&&(x=t(v,b,g)),x}function F(B,W){const le=!l(W,g),ce=!a(B,p,W,g);return p=B,g=W,le&&ce?M():le?P():ce?k():x}return function(W,le){return d?F(W,le):S(W,le)}}function b4(r,{initMapStateToProps:e,initMapDispatchToProps:t,initMergeProps:i,...a}){const l=e(r,a),c=t(r,a),d=i(r,a);return _4(l,c,d,r,a)}function E4(r,e){const t={};for(const i in r){const a=r[i];typeof a=="function"&&(t[i]=(...l)=>e(a(...l)))}return t}function z_(r){return function(t){const i=r(t);function a(){return i}return a.dependsOnOwnProps=!1,a}}function qx(r){return r.dependsOnOwnProps?!!r.dependsOnOwnProps:r.length!==1}function YI(r,e){return function(i,{displayName:a}){const l=function(d,p){return l.dependsOnOwnProps?l.mapToProps(d,p):l.mapToProps(d,void 0)};return l.dependsOnOwnProps=!0,l.mapToProps=function(d,p){l.mapToProps=r,l.dependsOnOwnProps=qx(r);let g=l(d,p);return typeof g=="function"&&(l.mapToProps=g,l.dependsOnOwnProps=qx(g),g=l(d,p)),g},l}}function C0(r,e){return(t,i)=>{throw new Error(`Invalid value of type ${typeof r} for ${e} argument when connecting component ${i.wrappedComponentName}.`)}}function T4(r){return r&&typeof r=="object"?z_(e=>E4(r,e)):r?typeof r=="function"?YI(r):C0(r,"mapDispatchToProps"):z_(e=>({dispatch:e}))}function x4(r){return r?typeof r=="function"?YI(r):C0(r,"mapStateToProps"):z_(()=>({}))}function S4(r,e,t){return{...t,...r,...e}}function w4(r){return function(t,{displayName:i,areMergedPropsEqual:a}){let l=!1,c;return function(p,g,v){const b=r(p,g,v);return l?a(b,c)||(c=b):(l=!0,c=b),c}}}function A4(r){return r?typeof r=="function"?w4(r):C0(r,"mergeProps"):()=>S4}function R4(r){r()}function C4(){let r=null,e=null;return{clear(){r=null,e=null},notify(){R4(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=r;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:r=a,function(){!i||r===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:r=a.next)}}}}var zx={notify(){},get:()=>[]};function QI(r,e){let t,i=zx,a=0,l=!1;function c(P){v();const k=i.subscribe(P);let F=!1;return()=>{F||(F=!0,k(),b())}}function d(){i.notify()}function p(){M.onStateChange&&M.onStateChange()}function g(){return l}function v(){a++,t||(t=e?e.addNestedSub(p):r.subscribe(p),i=C4())}function b(){a--,t&&a===0&&(t(),t=void 0,i.clear(),i=zx)}function x(){l||(l=!0,v())}function S(){l&&(l=!1,b())}const M={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:g,trySubscribe:x,tryUnsubscribe:S,getListeners:()=>i};return M}var I4=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",N4=I4(),O4=()=>typeof navigator<"u"&&navigator.product==="ReactNative",D4=O4(),k4=()=>N4||D4?z.useLayoutEffect:z.useEffect,pf=k4();function Bx(r,e){return r===e?r!==0||e!==0||1/r===1/e:r!==r&&e!==e}function Mm(r,e){if(Bx(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;const t=Object.keys(r),i=Object.keys(e);if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(!Object.prototype.hasOwnProperty.call(e,t[a])||!Bx(r[t[a]],e[t[a]]))return!1;return!0}var M4={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},j4={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},V4={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},XI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},P4={[m4]:V4,[g4]:XI};function Fx(r){return v4(r)?XI:P4[r.$$typeof]||M4}var L4=Object.defineProperty,U4=Object.getOwnPropertyNames,Hx=Object.getOwnPropertySymbols,q4=Object.getOwnPropertyDescriptor,z4=Object.getPrototypeOf,Gx=Object.prototype;function B_(r,e){if(typeof e!="string"){if(Gx){const l=z4(e);l&&l!==Gx&&B_(r,l)}let t=U4(e);Hx&&(t=t.concat(Hx(e)));const i=Fx(r),a=Fx(e);for(let l=0;l<t.length;++l){const c=t[l];if(!j4[c]&&!(a&&a[c])&&!(i&&i[c])){const d=q4(e,c);try{L4(r,c,d)}catch{}}}}return r}var B4=Symbol.for("react-redux-context"),F4=typeof globalThis<"u"?globalThis:{};function H4(){if(!z.createContext)return{};const r=F4[B4]??=new Map;let e=r.get(z.createContext);return e||(e=z.createContext(null),r.set(z.createContext,e)),e}var Vi=H4(),G4=[null,null];function $4(r,e,t){pf(()=>r(...e),t)}function K4(r,e,t,i,a,l){r.current=i,t.current=!1,a.current&&(a.current=null,l())}function Y4(r,e,t,i,a,l,c,d,p,g,v){if(!r)return()=>{};let b=!1,x=null;const S=()=>{if(b||!d.current)return;const P=e.getState();let k,F;try{k=i(P,a.current)}catch(B){F=B,x=B}F||(x=null),k===l.current?c.current||g():(l.current=k,p.current=k,c.current=!0,v())};return t.onStateChange=S,t.trySubscribe(),S(),()=>{if(b=!0,t.tryUnsubscribe(),t.onStateChange=null,x)throw x}}function Q4(r,e){return r===e}function X4(r,e,t,{pure:i,areStatesEqual:a=Q4,areOwnPropsEqual:l=Mm,areStatePropsEqual:c=Mm,areMergedPropsEqual:d=Mm,forwardRef:p=!1,context:g=Vi}={}){const v=g,b=x4(r),x=T4(e),S=A4(t),M=!!r;return k=>{const F=k.displayName||k.name||"Component",B=`Connect(${F})`,W={shouldHandleStateChanges:M,displayName:B,wrappedComponentName:F,WrappedComponent:k,initMapStateToProps:b,initMapDispatchToProps:x,initMergeProps:S,areStatesEqual:a,areStatePropsEqual:c,areOwnPropsEqual:l,areMergedPropsEqual:d};function le(I){const[C,O,j]=z.useMemo(()=>{const{reactReduxForwardedRef:we,...He}=I;return[I.context,we,He]},[I]),D=z.useMemo(()=>{let we=v;return C?.Consumer,we},[C,v]),L=z.useContext(D),N=!!I.store&&!!I.store.getState&&!!I.store.dispatch,Re=!!L&&!!L.store,Ne=N?I.store:L.store,ee=Re?L.getServerState:Ne.getState,he=z.useMemo(()=>b4(Ne.dispatch,W),[Ne]),[ye,Le]=z.useMemo(()=>{if(!M)return G4;const we=QI(Ne,N?void 0:L.subscription),He=we.notifyNestedSubs.bind(we);return[we,He]},[Ne,N,L]),Fe=z.useMemo(()=>N?L:{...L,subscription:ye},[N,L,ye]),U=z.useRef(void 0),ne=z.useRef(j),ue=z.useRef(void 0),de=z.useRef(!1),X=z.useRef(!1),Q=z.useRef(void 0);pf(()=>(X.current=!0,()=>{X.current=!1}),[]);const pe=z.useMemo(()=>()=>ue.current&&j===ne.current?ue.current:he(Ne.getState(),j),[Ne,j]),Me=z.useMemo(()=>He=>ye?Y4(M,Ne,ye,he,ne,U,de,X,ue,Le,He):()=>{},[ye]);$4(K4,[ne,U,de,j,ue,Le]);let be;try{be=z.useSyncExternalStore(Me,pe,ee?()=>he(ee(),j):pe)}catch(we){throw Q.current&&(we.message+=`
The error may be correlated with this previous error:
${Q.current.stack}

`),we}pf(()=>{Q.current=void 0,ue.current=void 0,U.current=be});const je=z.useMemo(()=>z.createElement(k,{...be,ref:O}),[O,k,be]);return z.useMemo(()=>M?z.createElement(D.Provider,{value:Fe},je):je,[D,je,Fe])}const oe=z.memo(le);if(oe.WrappedComponent=k,oe.displayName=le.displayName=B,p){const C=z.forwardRef(function(j,D){return z.createElement(oe,{...j,reactReduxForwardedRef:D})});return C.displayName=B,C.WrappedComponent=k,B_(C,k)}return B_(oe,k)}}var W4=X4;function J4(r){const{children:e,context:t,serverState:i,store:a}=r,l=z.useMemo(()=>{const p=QI(a);return{store:a,subscription:p,getServerState:i?()=>i:void 0}},[a,i]),c=z.useMemo(()=>a.getState(),[a]);pf(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==a.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,c]);const d=t||Vi;return z.createElement(d.Provider,{value:l},e)}var F_=J4;function I0(r=Vi){return function(){return z.useContext(r)}}var WI=I0();function JI(r=Vi){const e=r===Vi?WI:I0(r),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var Z4=JI();function e3(r=Vi){const e=r===Vi?Z4:JI(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var t3=e3(),n3=(r,e)=>r===e;function r3(r=Vi){const e=r===Vi?WI:I0(r),t=(i,a={})=>{const{equalityFn:l=n3}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:d,subscription:p,getServerState:g}=c;z.useRef(!0);const v=z.useCallback({[i.name](x){return i(x)}}[i.name],[i]),b=r4.useSyncExternalStoreWithSelector(p.addNestedSub,d.getState,g||d.getState,v,l);return z.useDebugValue(b),b};return Object.assign(t,{withTypes:()=>t}),t}var Ea=r3();const ZI=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();const i3=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const s3=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());const $x=r=>{const e=s3(r);return e.charAt(0).toUpperCase()+e.slice(1)};var a3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const o3=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const l3=z.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},p)=>z.createElement("svg",{ref:p,...a3,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:ZI("lucide",a),...!l&&!o3(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>z.createElement(g,v)),...Array.isArray(l)?l:[l]]));const Ie=(r,e)=>{const t=z.forwardRef(({className:i,...a},l)=>z.createElement(l3,{ref:l,iconNode:e,className:ZI(`lucide-${i3($x(r))}`,`lucide-${r}`,i),...a}));return t.displayName=$x(r),t};const u3=[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]],c3=Ie("accessibility",u3);const h3=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],f3=Ie("archive",h3);const d3=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],p3=Ie("book-open",d3);const m3=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]],g3=Ie("book-text",m3);const y3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],v3=Ie("check",y3);const _3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],b3=Ie("chevron-down",_3);const E3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],T3=Ie("chevron-right",E3);const x3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],S3=Ie("circle-alert",x3);const w3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],A3=Ie("circle-question-mark",w3);const R3=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],C3=Ie("cloud",R3);const I3=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],N3=Ie("dna",I3);const O3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],D3=Ie("download",O3);const k3=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],M3=Ie("eye-off",k3);const j3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V3=Ie("eye",j3);const P3=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],L3=Ie("fish",P3);const U3=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],q3=Ie("gem",U3);const z3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],B3=Ie("globe",z3);const F3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],H3=Ie("history",F3);const G3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$3=Ie("info",G3);const K3=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Y3=Ie("leaf",K3);const Q3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],X3=Ie("loader-circle",Q3);const W3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],J3=Ie("lock",W3);const Z3=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],eV=Ie("log-in",Z3);const tV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],nV=Ie("log-out",tV);const rV=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],iV=Ie("map",rV);const sV=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],aV=Ie("menu",sV);const oV=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],lV=Ie("minimize-2",oV);const uV=[["path",{d:"M5 12h14",key:"1ays0h"}]],cV=Ie("minus",uV);const hV=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],fV=Ie("monitor",hV);const dV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],pV=Ie("pencil",dV);const mV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gV=Ie("plus",mV);const yV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vV=Ie("search",yV);const _V=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bV=Ie("settings",_V);const EV=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],TV=Ie("shopping-cart",EV);const xV=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],SV=Ie("smartphone",xV);const wV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],AV=Ie("star",wV);const RV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],CV=Ie("trash-2",RV);const IV=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],NV=Ie("trash",IV);const OV=[["path",{d:"M8 19a4 4 0 0 1-2.24-7.32A3.5 3.5 0 0 1 9 6.03V6a3 3 0 1 1 6 0v.04a3.5 3.5 0 0 1 3.24 5.65A4 4 0 0 1 16 19Z",key:"oadzkq"}],["path",{d:"M12 19v3",key:"npa21l"}]],DV=Ie("tree-deciduous",OV);const kV=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],MV=Ie("tree-pine",kV);const jV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],VV=Ie("triangle-alert",jV);const PV=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],LV=Ie("undo-2",PV);const UV=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],qV=Ie("undo",UV);const zV=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],BV=Ie("upload",zV);const FV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}],["path",{d:"m7.9 7.9 2.7 2.7",key:"hpeyl3"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}],["path",{d:"m13.4 10.6 2.7-2.7",key:"264c1n"}],["circle",{cx:"7.5",cy:"16.5",r:".5",fill:"currentColor",key:"nkw3mc"}],["path",{d:"m7.9 16.1 2.7-2.7",key:"p81g5e"}],["circle",{cx:"16.5",cy:"16.5",r:".5",fill:"currentColor",key:"fubopw"}],["path",{d:"m13.4 13.4 2.7 2.7",key:"abhel3"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],HV=Ie("vault",FV);const GV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$V=Ie("x",GV),zf={className:R.string,onClick:R.func,title:R.string},js={Check:v3,ChevronDown:b3,ChevronRight:T3,AlertTriangle:VV,BookText:g3,BookOpen:p3,Vault:HV,Lock:J3,Settings:bV,Trash2:CV,Trash:NV,ShoppingCart:TV,Archive:f3,Menu:aV,Search:vV,X:$V,EyeOff:M3,Info:$3,Cloud:C3,Download:D3,Upload:BV,History:H3,LogIn:eV,LogOut:nV,Minimize2:lV,Monitor:fV,Loader2:X3,Undo2:LV,Undo:qV,Plus:gV,Minus:cV,Pencil:pV,AlertCircle:S3,Star:AV,Globe:B3,Eye:V3,Accessibility:c3,Smartphone:SV,Gem:q3,TreePine:MV,TreeDeciduous:DV,Leaf:Y3,Map:iV,Fish:L3,Dna:N3,HelpCircle:A3},Ke=(r,e="HelpCircle")=>{const t=({className:i="",...a})=>{const l=js[r]||js[e];if(!l)return null;const c=["lucide-icon",i].filter(Boolean).join(" ");return y.jsx(l,{className:c,size:"1.05em",strokeWidth:2.5,...a})};return t.propTypes=zf,t},e2=({className:r="",...e})=>{const t=js.Check||js.HelpCircle;if(!t)return null;const i=["lucide-icon",r].filter(Boolean).join(" ");return y.jsx(t,{className:i,size:"1.05em",strokeWidth:4.5,...e})};e2.propTypes=zf;const t2=({className:r="",...e})=>{const t=js.ChevronDown||js.HelpCircle;if(!t)return null;const i=["lucide-icon",r].filter(Boolean).join(" ");return y.jsx(t,{className:i,size:"1.05em",strokeWidth:4.5,...e})};t2.propTypes=zf;const n2=({className:r="",...e})=>{const t=js.ChevronRight||js.HelpCircle;if(!t)return null;const i=["lucide-icon",r].filter(Boolean).join(" ");return y.jsx(t,{className:i,size:"1.05em",strokeWidth:4.5,...e})};n2.propTypes=zf;const KV=Ke("AlertTriangle"),YV=Ke("BookText","BookOpen"),QV=Ke("Vault","Lock"),XV=Ke("Settings"),WV=Ke("Trash2","Trash"),JV=Ke("ShoppingCart"),ZV=Ke("Archive"),e5=Ke("Menu"),t5=Ke("Search"),n5=Ke("X"),r5=Ke("EyeOff"),i5=Ke("Info"),s5=Ke("Cloud"),a5=Ke("Download"),o5=Ke("Upload"),l5=Ke("History"),u5=Ke("LogIn"),c5=Ke("LogOut"),h5=Ke("Minimize2"),f5=Ke("Monitor"),d5=Ke("Loader2"),p5=Ke("Undo2","Undo"),m5=Ke("Plus"),g5=Ke("Minus"),y5=Ke("Pencil"),v5=Ke("AlertCircle"),_5=Ke("Star"),b5=Ke("Globe"),E5=Ke("Eye"),T5=Ke("Accessibility","EyeOff"),x5=Ke("Smartphone"),S5=Ke("Gem"),w5=Ke("TreePine","TreeDeciduous"),A5=Ke("Leaf"),R5=Ke("Map"),C5=Ke("Fish"),I5=Ke("Dna"),fn=e2,N0=t2,Bf=n2,Ff=KV,Qo=YV,Hf=QV,nc=XV,O0=WV,H_=JV,N5=ZV,O5=e5,D5=t5,Sn=n5,G_=r5,D0=i5,ef=s5,k5=a5,M5=o5,r2=l5,j5=u5,V5=c5,P5=h5,Kx=f5,Vs=d5,L5=p5,qo=m5,k0=g5,Gf=y5,rc=v5,U5=_5,q5=b5,z5=E5,B5=T5,F5=x5,Yx=S5,H5=w5,G5=A5,$5=R5,K5=C5,Y5=I5,Q5=(r,e,t)=>({type:"TOGGLE_ITEM",game:r,category:e,title:t}),X5=r=>({type:"TOGGLE_RELIC",relic:r}),Qx=(r,e,t)=>({type:"CLEAR_ITEMS",game:r,category:e,titles:t}),W5=(r,e,t)=>({type:"ADD_ITEM",game:r,category:e,item:t}),J5=(r,e,t)=>({type:"ADD_BUILD_ITEM",game:r,category:e,item:t}),Z5=(r,e,t)=>({type:"ADD_VOID_ITEM",game:r,category:e,item:t}),eP=(r,e,t)=>({type:"REMOVE_ITEM",game:r,category:e,title:t}),tP=(r,e,t)=>({type:"REMOVE_BUILD_ITEM",game:r,category:e,title:t}),nP=(r,e,t)=>({type:"REMOVE_VOID_ITEM",game:r,category:e,title:t}),rP=(r,e,t)=>({type:"INCREMENT_ITEM",game:r,category:e,title:t}),iP=(r,e,t)=>({type:"DECREMENT_ITEM",game:r,category:e,title:t}),sP=(r,e,t,i,a)=>({type:"UPDATE_ITEM",game:r,category:e,title:t,notes:i,count:a}),aP=(r,e,t,i)=>({type:"UPDATE_BUILD_ITEM",game:r,category:e,title:t,item:i}),oP=r=>({type:"SET_SEARCH_VALUE",value:r}),lP=r=>({type:"SET_VISIBILITY_FILTER",filter:r}),uP=r=>({type:"SET_RELIC_VISIBILITY",filter:r}),Jt={SHOW_ALL:"SHOW_ALL",SHOW_ACTIVE:"SHOW_ACTIVE"},cP=r=>({type:"UPLOAD_STATE",state:r});class i2 extends Yt.Component{renderItems(e,t){return y.jsx("ul",{className:"list-none p-0 m-0",children:e.map((i,a)=>this.renderItem(i,a,t))})}handleItemClick(e){return t=>{const i=typeof e=="object"&&e!==null?e.key||e.title:e;this.props.onItemClick(i),t.stopPropagation()}}handleClearClick(e){return t=>{this.props.onClear(e.map(i=>typeof i=="object"&&i!==null?i.key||i.title:i)),t.stopPropagation()}}renderLocation(e){return!e||!e.length||e===""?null:(Array.isArray(e)?e:[e]).map((i,a)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:i},a))}renderItem(e,t,i){if(!e||e.hidden)return null;const a=e.readOnly;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(e).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const l=this.props.visibilityFilter===Jt.SHOW_ACTIVE&&e.checked,c=typeof e=="string"||e instanceof String?e:e.title,d=!!e.items,p=e.checked?"text-green-500":"text-gray-400",g=e.tags?e.tags.map((x,S)=>x==="missable"?y.jsx("span",{title:x,className:"text-red-600 ml-1 inline-block font-normal",children:y.jsx(Ff,{})},S):null):null,v=e.hint?y.jsxs("span",{className:"opacity-40 text-sm italic font-normal",children:[" ",e.hint]}):null,b=!e.items&&!(a||i);return y.jsx("li",{className:`py-0.5 rounded-sm ${l?"opacity-40":""} ${d?"mt-1.5":""}`,children:y.jsxs("div",{className:"flex items-start",children:[!(a||i)&&y.jsx("div",{className:`mr-1 shrink-0 flex items-center h-[1.35em] ${p} ${b?"cursor-pointer":""}`,onClick:b?this.handleItemClick(e):void 0,children:e.items?e.checked?y.jsx(fn,{}):y.jsx(N0,{}):e.checked?y.jsx(fn,{}):y.jsx(Bf,{})}),y.jsxs("div",{className:"grow",children:[y.jsxs("div",{className:"leading-tight",children:[e.items&&e.readOnly?y.jsxs("span",{className:"underline font-bold text-gray-900 text-base",children:[c,v,g]}):i?y.jsxs("span",{className:"font-normal text-gray-700 text-sm",children:[c,v,g]}):y.jsxs("span",{className:"font-bold text-gray-900 text-base",children:[c,v,g]}),e.url?y.jsx("a",{href:e.url,title:"wiki",className:"ml-1 text-gray-500 opacity-70 hover:opacity-100 inline-block",target:"_blank",rel:"noopener noreferrer",onClick:x=>x.stopPropagation(),children:y.jsx(Qo,{})}):null,e.isVaulted?y.jsx("span",{title:"Vaulted",className:"ml-1 text-gray-500 inline-block",children:y.jsx(Hf,{})}):null,e.partOf?y.jsx("span",{title:`Part of ${e.partOf.join(", ")}`,className:"ml-1 text-gray-500 inline-block",children:y.jsx(nc,{})}):null,e.items&&e.props&&e.props.includes("clearable")?y.jsx("span",{title:"Clear",className:"ml-1 text-red-600 opacity-70 hover:opacity-100 cursor-pointer inline-block",onClick:this.handleClearClick(e.items),children:y.jsx(O0,{})}):null]}),e.description?Array.isArray(e.description)?e.description.map((x,S)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:x},S)):y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:e.description}):null,this.renderLocation(e.location),e.items&&e.items.length?y.jsx("div",{className:"ml-2",children:this.renderItems(e.items,a)}):null]})]})},t)}render(){return!this.props.items||!this.props.items.length?y.jsx("div",{className:"text-gray-500 italic",children:"No items"}):y.jsx("div",{className:"mb-4",children:this.renderItems(this.props.items)})}}i2.propTypes={items:R.arrayOf(R.oneOfType([R.string,R.shape({title:R.string,url:R.string,icon:R.string,description:R.oneOfType([R.string,R.arrayOf(R.string)]),location:R.oneOfType([R.string,R.arrayOf(R.string)]),checked:R.bool,items:R.array,tags:R.arrayOf(R.string),hint:R.string,readOnly:R.bool,hidden:R.bool,key:R.string,isVaulted:R.bool,partOf:R.arrayOf(R.string),props:R.arrayOf(R.string)})])),onItemClick:R.func.isRequired,onClear:R.func.isRequired,visibilityFilter:R.string,searchFilter:R.string};const Ts={TYPE:"type",INTRODUCED:"introduced",NONE:"none"},hP=r=>{if(!r)return null;const e=String(r).trim();if(!e)return null;const t=e.split(/\s+/);if(t.length<2)return`https://wiki.warframe.com/w/${encodeURIComponent(e.replace(/\s+/g,"_"))}`;const i=t[0],a=t.slice(1).join(" "),c=`Update_${a.split(".")[0]}`.replace(/\s+/g,"_"),d=`${i}_${a}`.replace(/\s+/g,"_");return`https://wiki.warframe.com/w/${encodeURIComponent(c)}%23${encodeURIComponent(d)}`},fP=r=>{if(!r)return null;const e=String(r).trim();if(!e)return null;const t=e.replace(/\s+/g,"_");return`https://wiki.warframe.com/w/${encodeURIComponent(t)}`};class s2 extends Yt.Component{constructor(e){super(e),this.state={groupBy:Ts.TYPE}}handleGroupByChange(){return e=>{this.setState({groupBy:e.target.value})}}renderItems(e,t){return y.jsx("ul",{className:"list-none p-0 m-0",children:e.map((i,a)=>this.renderItem(i,a,t))})}handleItemClick(e){return t=>{const i=typeof e=="object"&&e!==null?e.key||e.title:e;this.props.onItemClick(i),t.stopPropagation()}}handleClearClick(e){return t=>{this.props.onClear(e.map(i=>typeof i=="object"&&i!==null?i.key||i.title:i)),t.stopPropagation()}}renderLocation(e){return!e||!e.length||e===""?null:(Array.isArray(e)?e:[e]).map((i,a)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:i},a))}renderItem(e,t,i){if(!e||e.hidden)return null;const a=e.readOnly;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(e).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const l=this.props.visibilityFilter===Jt.SHOW_ACTIVE&&e.checked,c=typeof e=="string"||e instanceof String?e:e.title,d=!!e.items,p=e.checked?"text-green-500":"text-gray-400",g=e.tags?e.tags.map((S,M)=>S==="missable"?y.jsx("span",{title:S,className:"text-red-600 ml-1 inline-block font-normal",children:y.jsx(Ff,{})},M):null):null,v=e.hint?y.jsxs("span",{className:"opacity-40 text-sm italic font-normal",children:[" ",e.hint]}):null,b=!e.items&&!(a||i),x=e.url||(e.items?null:fP(c));return y.jsx("li",{className:`py-0.5 rounded-sm ${l?"opacity-40":""} ${d?"mt-1.5":""}`,children:y.jsxs("div",{className:"flex items-start",children:[!(a||i)&&y.jsx("div",{className:`mr-1 shrink-0 flex items-center h-[1.35em] ${p} ${b?"cursor-pointer":""}`,onClick:b?this.handleItemClick(e):void 0,children:e.items?e.checked?y.jsx(fn,{}):y.jsx(N0,{}):e.checked?y.jsx(fn,{}):y.jsx(Bf,{})}),y.jsxs("div",{className:"grow",children:[y.jsxs("div",{className:"leading-tight",children:[e.items&&e.readOnly?y.jsxs("span",{className:"underline font-bold text-gray-900 text-base",children:[c,v,g]}):i?y.jsxs("span",{className:"font-normal text-gray-700 text-sm",children:[c,v,g]}):y.jsxs("span",{className:"font-bold text-gray-900 text-base",children:[c,v,g]}),x?y.jsx("a",{href:x,title:"wiki",className:"ml-1 text-gray-500 opacity-70 hover:opacity-100 inline-block",target:"_blank",rel:"noopener noreferrer",onClick:S=>S.stopPropagation(),children:y.jsx(Qo,{})}):null,e.isVaulted?y.jsx("span",{title:"Vaulted",className:"ml-1 text-gray-500 inline-block",children:y.jsx(Hf,{})}):null,e.incarnon?y.jsx("span",{title:"Incarnon Genesis",className:"ml-1 text-amber-600 inline-block",children:y.jsx(Y5,{})}):null,e.unobtainable?y.jsx("span",{title:"Unobtainable",className:"ml-1 text-rose-600 inline-block",children:y.jsx(rc,{})}):null,e.partOf?y.jsx("span",{title:`Part of ${e.partOf.join(", ")}`,className:"ml-1 text-gray-500 inline-block",children:y.jsx(nc,{})}):null,e.items&&e.props&&e.props.includes("clearable")?y.jsx("span",{title:"Clear",className:"ml-1 text-red-600 opacity-70 hover:opacity-100 cursor-pointer inline-block",onClick:this.handleClearClick(e.items),children:y.jsx(O0,{})}):null]}),e.description?Array.isArray(e.description)?e.description.map((S,M)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:S},M)):y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:e.description}):null,this.renderLocation(e.location),e.items&&e.items.length?y.jsx("div",{className:"ml-2",children:this.renderItems(e.items,a)}):null]})]})},t)}collectLeafItems(e,t=[],i=null){return Array.isArray(e)&&e.forEach(a=>{if(a){if(typeof a=="string"||a instanceof String){t.push({item:a,groupTitle:i});return}if(a.items&&a.items.length){this.collectLeafItems(a.items,t,a.title||i);return}t.push({item:a,groupTitle:i})}}),t}getItemTitle(e){return typeof e=="string"||e instanceof String?e:e.title}getGroupedItems(){const e=this.props.items||[],t=this.props.enableIntroducedGrouping!==!1,i=this.state.groupBy===Ts.INTRODUCED&&!t?Ts.TYPE:this.state.groupBy;if(i===Ts.TYPE)return e;const l=this.collectLeafItems(e).slice().sort((p,g)=>this.getItemTitle(p.item).localeCompare(this.getItemTitle(g.item)));if(i===Ts.NONE)return l.map(({item:p})=>p);const c={},d={};return l.forEach(({item:p,groupTitle:g})=>{const b=(typeof p=="object"&&p!==null&&p.introduced?.parent?p.introduced.parent:null)||g||"Unknown";c[b]||(c[b]=[]),c[b].push(p);const x=typeof p=="object"&&p!==null?p.introduced?.name:null,S=typeof p=="object"&&p!==null?p.introduced?.date:null;if(!d[b])d[b]={name:x||null,date:S||null,sourceGroupTitle:g||null};else{if(!d[b].name&&x&&(d[b].name=x),S){const M=d[b].date;(!M||S<M)&&(d[b].date=S)}!d[b].sourceGroupTitle&&g&&(d[b].sourceGroupTitle=g)}}),Object.keys(c).sort((p,g)=>{const v=d[p]?.date||"",b=d[g]?.date||"";return v&&b&&v!==b?v.localeCompare(b):p.localeCompare(g)}).map(p=>{const g=d[p]||{},v=g.sourceGroupTitle||(p!=="Unknown"?`Update ${p}`:p),b=g.name||v,x=hP(b),S=g.date||null;return{title:b,url:x,description:S,checked:c[p].every(M=>M&&M.checked),items:c[p]}})}render(){if(!this.props.items||!this.props.items.length)return y.jsx("div",{className:"text-gray-500 italic",children:"No items"});const e=this.getGroupedItems();return y.jsxs("div",{className:"mb-4 relative",children:[y.jsx("div",{className:"absolute right-0 top-0 z-10",children:y.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-500 bg-white/90 px-1.5 py-0.5 rounded-md",children:[y.jsx("span",{children:"Group by"}),y.jsxs("select",{value:this.state.groupBy,onChange:this.handleGroupByChange(),className:"border border-gray-200 rounded-md px-2 py-1 text-sm text-gray-700 bg-white",children:[y.jsx("option",{value:Ts.TYPE,children:"Type"}),this.props.enableIntroducedGrouping!==!1&&y.jsx("option",{value:Ts.INTRODUCED,children:"Introduced"}),y.jsx("option",{value:Ts.NONE,children:"None"})]})]})}),this.renderItems(e)]})}}s2.propTypes={items:R.arrayOf(R.oneOfType([R.string,R.shape({title:R.string,url:R.string,icon:R.string,description:R.oneOfType([R.string,R.arrayOf(R.string)]),location:R.oneOfType([R.string,R.arrayOf(R.string)]),checked:R.bool,items:R.array,tags:R.arrayOf(R.string),hint:R.string,readOnly:R.bool,hidden:R.bool,key:R.string,isVaulted:R.bool,partOf:R.arrayOf(R.string),props:R.arrayOf(R.string),incarnon:R.bool,unobtainable:R.bool,introduced:R.shape({name:R.string,date:R.string,parent:R.string})})])),onItemClick:R.func.isRequired,onClear:R.func.isRequired,visibilityFilter:R.string,searchFilter:R.string,enableIntroducedGrouping:R.bool};var jm,Xx;function a2(){if(Xx)return jm;Xx=1;var r=typeof Cs=="object"&&Cs&&Cs.Object===Object&&Cs;return jm=r,jm}var Vm,Wx;function Dr(){if(Wx)return Vm;Wx=1;var r=a2(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return Vm=t,Vm}var Pm,Jx;function ol(){if(Jx)return Pm;Jx=1;var r=Dr(),e=r.Symbol;return Pm=e,Pm}var Lm,Zx;function dP(){if(Zx)return Lm;Zx=1;var r=ol(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,a=r?r.toStringTag:void 0;function l(c){var d=t.call(c,a),p=c[a];try{c[a]=void 0;var g=!0}catch{}var v=i.call(c);return g&&(d?c[a]=p:delete c[a]),v}return Lm=l,Lm}var Um,eS;function pP(){if(eS)return Um;eS=1;var r=Object.prototype,e=r.toString;function t(i){return e.call(i)}return Um=t,Um}var qm,tS;function Ua(){if(tS)return qm;tS=1;var r=ol(),e=dP(),t=pP(),i="[object Null]",a="[object Undefined]",l=r?r.toStringTag:void 0;function c(d){return d==null?d===void 0?a:i:l&&l in Object(d)?e(d):t(d)}return qm=c,qm}var zm,nS;function hr(){if(nS)return zm;nS=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return zm=r,zm}var Bm,rS;function M0(){if(rS)return Bm;rS=1;var r=Ua(),e=hr(),t="[object AsyncFunction]",i="[object Function]",a="[object GeneratorFunction]",l="[object Proxy]";function c(d){if(!e(d))return!1;var p=r(d);return p==i||p==a||p==t||p==l}return Bm=c,Bm}var Fm,iS;function mP(){if(iS)return Fm;iS=1;var r=Dr(),e=r["__core-js_shared__"];return Fm=e,Fm}var Hm,sS;function gP(){if(sS)return Hm;sS=1;var r=mP(),e=(function(){var i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})();function t(i){return!!e&&e in i}return Hm=t,Hm}var Gm,aS;function o2(){if(aS)return Gm;aS=1;var r=Function.prototype,e=r.toString;function t(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return Gm=t,Gm}var $m,oS;function yP(){if(oS)return $m;oS=1;var r=M0(),e=gP(),t=hr(),i=o2(),a=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,p=c.toString,g=d.hasOwnProperty,v=RegExp("^"+p.call(g).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b(x){if(!t(x)||e(x))return!1;var S=r(x)?v:l;return S.test(i(x))}return $m=b,$m}var Km,lS;function vP(){if(lS)return Km;lS=1;function r(e,t){return e?.[t]}return Km=r,Km}var Ym,uS;function qa(){if(uS)return Ym;uS=1;var r=yP(),e=vP();function t(i,a){var l=e(i,a);return r(l)?l:void 0}return Ym=t,Ym}var Qm,cS;function l2(){if(cS)return Qm;cS=1;var r=qa(),e=(function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}})();return Qm=e,Qm}var Xm,hS;function $f(){if(hS)return Xm;hS=1;var r=l2();function e(t,i,a){i=="__proto__"&&r?r(t,i,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[i]=a}return Xm=e,Xm}var Wm,fS;function _P(){if(fS)return Wm;fS=1;function r(e,t,i,a){for(var l=-1,c=e==null?0:e.length;++l<c;){var d=e[l];t(a,d,i(d),e)}return a}return Wm=r,Wm}var Jm,dS;function bP(){if(dS)return Jm;dS=1;function r(e){return function(t,i,a){for(var l=-1,c=Object(t),d=a(t),p=d.length;p--;){var g=d[e?p:++l];if(i(c[g],g,c)===!1)break}return t}}return Jm=r,Jm}var Zm,pS;function u2(){if(pS)return Zm;pS=1;var r=bP(),e=r();return Zm=e,Zm}var eg,mS;function EP(){if(mS)return eg;mS=1;function r(e,t){for(var i=-1,a=Array(e);++i<e;)a[i]=t(i);return a}return eg=r,eg}var tg,gS;function ui(){if(gS)return tg;gS=1;function r(e){return e!=null&&typeof e=="object"}return tg=r,tg}var ng,yS;function TP(){if(yS)return ng;yS=1;var r=Ua(),e=ui(),t="[object Arguments]";function i(a){return e(a)&&r(a)==t}return ng=i,ng}var rg,vS;function Kf(){if(vS)return rg;vS=1;var r=TP(),e=ui(),t=Object.prototype,i=t.hasOwnProperty,a=t.propertyIsEnumerable,l=r((function(){return arguments})())?r:function(c){return e(c)&&i.call(c,"callee")&&!a.call(c,"callee")};return rg=l,rg}var ig,_S;function pn(){if(_S)return ig;_S=1;var r=Array.isArray;return ig=r,ig}var Cu={exports:{}},sg,bS;function xP(){if(bS)return sg;bS=1;function r(){return!1}return sg=r,sg}Cu.exports;var ES;function Yf(){return ES||(ES=1,(function(r,e){var t=Dr(),i=xP(),a=e&&!e.nodeType&&e,l=a&&!0&&r&&!r.nodeType&&r,c=l&&l.exports===a,d=c?t.Buffer:void 0,p=d?d.isBuffer:void 0,g=p||i;r.exports=g})(Cu,Cu.exports)),Cu.exports}var ag,TS;function Qf(){if(TS)return ag;TS=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(i,a){var l=typeof i;return a=a??r,!!a&&(l=="number"||l!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<a}return ag=t,ag}var og,xS;function j0(){if(xS)return og;xS=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return og=e,og}var lg,SS;function SP(){if(SS)return lg;SS=1;var r=Ua(),e=j0(),t=ui(),i="[object Arguments]",a="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",p="[object Function]",g="[object Map]",v="[object Number]",b="[object Object]",x="[object RegExp]",S="[object Set]",M="[object String]",P="[object WeakMap]",k="[object ArrayBuffer]",F="[object DataView]",B="[object Float32Array]",W="[object Float64Array]",le="[object Int8Array]",ce="[object Int16Array]",oe="[object Int32Array]",I="[object Uint8Array]",C="[object Uint8ClampedArray]",O="[object Uint16Array]",j="[object Uint32Array]",D={};D[B]=D[W]=D[le]=D[ce]=D[oe]=D[I]=D[C]=D[O]=D[j]=!0,D[i]=D[a]=D[k]=D[l]=D[F]=D[c]=D[d]=D[p]=D[g]=D[v]=D[b]=D[x]=D[S]=D[M]=D[P]=!1;function L(N){return t(N)&&e(N.length)&&!!D[r(N)]}return lg=L,lg}var ug,wS;function Xf(){if(wS)return ug;wS=1;function r(e){return function(t){return e(t)}}return ug=r,ug}var Iu={exports:{}};Iu.exports;var AS;function V0(){return AS||(AS=1,(function(r,e){var t=a2(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,l=a&&a.exports===i,c=l&&t.process,d=(function(){try{var p=a&&a.require&&a.require("util").types;return p||c&&c.binding&&c.binding("util")}catch{}})();r.exports=d})(Iu,Iu.exports)),Iu.exports}var cg,RS;function P0(){if(RS)return cg;RS=1;var r=SP(),e=Xf(),t=V0(),i=t&&t.isTypedArray,a=i?e(i):r;return cg=a,cg}var hg,CS;function c2(){if(CS)return hg;CS=1;var r=EP(),e=Kf(),t=pn(),i=Yf(),a=Qf(),l=P0(),c=Object.prototype,d=c.hasOwnProperty;function p(g,v){var b=t(g),x=!b&&e(g),S=!b&&!x&&i(g),M=!b&&!x&&!S&&l(g),P=b||x||S||M,k=P?r(g.length,String):[],F=k.length;for(var B in g)(v||d.call(g,B))&&!(P&&(B=="length"||S&&(B=="offset"||B=="parent")||M&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||a(B,F)))&&k.push(B);return k}return hg=p,hg}var fg,IS;function L0(){if(IS)return fg;IS=1;var r=Object.prototype;function e(t){var i=t&&t.constructor,a=typeof i=="function"&&i.prototype||r;return t===a}return fg=e,fg}var dg,NS;function h2(){if(NS)return dg;NS=1;function r(e,t){return function(i){return e(t(i))}}return dg=r,dg}var pg,OS;function wP(){if(OS)return pg;OS=1;var r=h2(),e=r(Object.keys,Object);return pg=e,pg}var mg,DS;function AP(){if(DS)return mg;DS=1;var r=L0(),e=wP(),t=Object.prototype,i=t.hasOwnProperty;function a(l){if(!r(l))return e(l);var c=[];for(var d in Object(l))i.call(l,d)&&d!="constructor"&&c.push(d);return c}return mg=a,mg}var gg,kS;function ll(){if(kS)return gg;kS=1;var r=M0(),e=j0();function t(i){return i!=null&&e(i.length)&&!r(i)}return gg=t,gg}var yg,MS;function za(){if(MS)return yg;MS=1;var r=c2(),e=AP(),t=ll();function i(a){return t(a)?r(a):e(a)}return yg=i,yg}var vg,jS;function RP(){if(jS)return vg;jS=1;var r=u2(),e=za();function t(i,a){return i&&r(i,a,e)}return vg=t,vg}var _g,VS;function CP(){if(VS)return _g;VS=1;var r=ll();function e(t,i){return function(a,l){if(a==null)return a;if(!r(a))return t(a,l);for(var c=a.length,d=i?c:-1,p=Object(a);(i?d--:++d<c)&&l(p[d],d,p)!==!1;);return a}}return _g=e,_g}var bg,PS;function U0(){if(PS)return bg;PS=1;var r=RP(),e=CP(),t=e(r);return bg=t,bg}var Eg,LS;function IP(){if(LS)return Eg;LS=1;var r=U0();function e(t,i,a,l){return r(t,function(c,d,p){i(l,c,a(c),p)}),l}return Eg=e,Eg}var Tg,US;function NP(){if(US)return Tg;US=1;function r(){this.__data__=[],this.size=0}return Tg=r,Tg}var xg,qS;function ic(){if(qS)return xg;qS=1;function r(e,t){return e===t||e!==e&&t!==t}return xg=r,xg}var Sg,zS;function Wf(){if(zS)return Sg;zS=1;var r=ic();function e(t,i){for(var a=t.length;a--;)if(r(t[a][0],i))return a;return-1}return Sg=e,Sg}var wg,BS;function OP(){if(BS)return wg;BS=1;var r=Wf(),e=Array.prototype,t=e.splice;function i(a){var l=this.__data__,c=r(l,a);if(c<0)return!1;var d=l.length-1;return c==d?l.pop():t.call(l,c,1),--this.size,!0}return wg=i,wg}var Ag,FS;function DP(){if(FS)return Ag;FS=1;var r=Wf();function e(t){var i=this.__data__,a=r(i,t);return a<0?void 0:i[a][1]}return Ag=e,Ag}var Rg,HS;function kP(){if(HS)return Rg;HS=1;var r=Wf();function e(t){return r(this.__data__,t)>-1}return Rg=e,Rg}var Cg,GS;function MP(){if(GS)return Cg;GS=1;var r=Wf();function e(t,i){var a=this.__data__,l=r(a,t);return l<0?(++this.size,a.push([t,i])):a[l][1]=i,this}return Cg=e,Cg}var Ig,$S;function Jf(){if($S)return Ig;$S=1;var r=NP(),e=OP(),t=DP(),i=kP(),a=MP();function l(c){var d=-1,p=c==null?0:c.length;for(this.clear();++d<p;){var g=c[d];this.set(g[0],g[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,Ig=l,Ig}var Ng,KS;function jP(){if(KS)return Ng;KS=1;var r=Jf();function e(){this.__data__=new r,this.size=0}return Ng=e,Ng}var Og,YS;function VP(){if(YS)return Og;YS=1;function r(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}return Og=r,Og}var Dg,QS;function PP(){if(QS)return Dg;QS=1;function r(e){return this.__data__.get(e)}return Dg=r,Dg}var kg,XS;function LP(){if(XS)return kg;XS=1;function r(e){return this.__data__.has(e)}return kg=r,kg}var Mg,WS;function q0(){if(WS)return Mg;WS=1;var r=qa(),e=Dr(),t=r(e,"Map");return Mg=t,Mg}var jg,JS;function Zf(){if(JS)return jg;JS=1;var r=qa(),e=r(Object,"create");return jg=e,jg}var Vg,ZS;function UP(){if(ZS)return Vg;ZS=1;var r=Zf();function e(){this.__data__=r?r(null):{},this.size=0}return Vg=e,Vg}var Pg,ew;function qP(){if(ew)return Pg;ew=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Pg=r,Pg}var Lg,tw;function zP(){if(tw)return Lg;tw=1;var r=Zf(),e="__lodash_hash_undefined__",t=Object.prototype,i=t.hasOwnProperty;function a(l){var c=this.__data__;if(r){var d=c[l];return d===e?void 0:d}return i.call(c,l)?c[l]:void 0}return Lg=a,Lg}var Ug,nw;function BP(){if(nw)return Ug;nw=1;var r=Zf(),e=Object.prototype,t=e.hasOwnProperty;function i(a){var l=this.__data__;return r?l[a]!==void 0:t.call(l,a)}return Ug=i,Ug}var qg,rw;function FP(){if(rw)return qg;rw=1;var r=Zf(),e="__lodash_hash_undefined__";function t(i,a){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=r&&a===void 0?e:a,this}return qg=t,qg}var zg,iw;function HP(){if(iw)return zg;iw=1;var r=UP(),e=qP(),t=zP(),i=BP(),a=FP();function l(c){var d=-1,p=c==null?0:c.length;for(this.clear();++d<p;){var g=c[d];this.set(g[0],g[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,zg=l,zg}var Bg,sw;function GP(){if(sw)return Bg;sw=1;var r=HP(),e=Jf(),t=q0();function i(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return Bg=i,Bg}var Fg,aw;function $P(){if(aw)return Fg;aw=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Fg=r,Fg}var Hg,ow;function ed(){if(ow)return Hg;ow=1;var r=$P();function e(t,i){var a=t.__data__;return r(i)?a[typeof i=="string"?"string":"hash"]:a.map}return Hg=e,Hg}var Gg,lw;function KP(){if(lw)return Gg;lw=1;var r=ed();function e(t){var i=r(this,t).delete(t);return this.size-=i?1:0,i}return Gg=e,Gg}var $g,uw;function YP(){if(uw)return $g;uw=1;var r=ed();function e(t){return r(this,t).get(t)}return $g=e,$g}var Kg,cw;function QP(){if(cw)return Kg;cw=1;var r=ed();function e(t){return r(this,t).has(t)}return Kg=e,Kg}var Yg,hw;function XP(){if(hw)return Yg;hw=1;var r=ed();function e(t,i){var a=r(this,t),l=a.size;return a.set(t,i),this.size+=a.size==l?0:1,this}return Yg=e,Yg}var Qg,fw;function z0(){if(fw)return Qg;fw=1;var r=GP(),e=KP(),t=YP(),i=QP(),a=XP();function l(c){var d=-1,p=c==null?0:c.length;for(this.clear();++d<p;){var g=c[d];this.set(g[0],g[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,Qg=l,Qg}var Xg,dw;function WP(){if(dw)return Xg;dw=1;var r=Jf(),e=q0(),t=z0(),i=200;function a(l,c){var d=this.__data__;if(d instanceof r){var p=d.__data__;if(!e||p.length<i-1)return p.push([l,c]),this.size=++d.size,this;d=this.__data__=new t(p)}return d.set(l,c),this.size=d.size,this}return Xg=a,Xg}var Wg,pw;function td(){if(pw)return Wg;pw=1;var r=Jf(),e=jP(),t=VP(),i=PP(),a=LP(),l=WP();function c(d){var p=this.__data__=new r(d);this.size=p.size}return c.prototype.clear=e,c.prototype.delete=t,c.prototype.get=i,c.prototype.has=a,c.prototype.set=l,Wg=c,Wg}var Jg,mw;function JP(){if(mw)return Jg;mw=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return Jg=e,Jg}var Zg,gw;function ZP(){if(gw)return Zg;gw=1;function r(e){return this.__data__.has(e)}return Zg=r,Zg}var ey,yw;function e6(){if(yw)return ey;yw=1;var r=z0(),e=JP(),t=ZP();function i(a){var l=-1,c=a==null?0:a.length;for(this.__data__=new r;++l<c;)this.add(a[l])}return i.prototype.add=i.prototype.push=e,i.prototype.has=t,ey=i,ey}var ty,vw;function t6(){if(vw)return ty;vw=1;function r(e,t){for(var i=-1,a=e==null?0:e.length;++i<a;)if(t(e[i],i,e))return!0;return!1}return ty=r,ty}var ny,_w;function n6(){if(_w)return ny;_w=1;function r(e,t){return e.has(t)}return ny=r,ny}var ry,bw;function f2(){if(bw)return ry;bw=1;var r=e6(),e=t6(),t=n6(),i=1,a=2;function l(c,d,p,g,v,b){var x=p&i,S=c.length,M=d.length;if(S!=M&&!(x&&M>S))return!1;var P=b.get(c),k=b.get(d);if(P&&k)return P==d&&k==c;var F=-1,B=!0,W=p&a?new r:void 0;for(b.set(c,d),b.set(d,c);++F<S;){var le=c[F],ce=d[F];if(g)var oe=x?g(ce,le,F,d,c,b):g(le,ce,F,c,d,b);if(oe!==void 0){if(oe)continue;B=!1;break}if(W){if(!e(d,function(I,C){if(!t(W,C)&&(le===I||v(le,I,p,g,b)))return W.push(C)})){B=!1;break}}else if(!(le===ce||v(le,ce,p,g,b))){B=!1;break}}return b.delete(c),b.delete(d),B}return ry=l,ry}var iy,Ew;function d2(){if(Ew)return iy;Ew=1;var r=Dr(),e=r.Uint8Array;return iy=e,iy}var sy,Tw;function r6(){if(Tw)return sy;Tw=1;function r(e){var t=-1,i=Array(e.size);return e.forEach(function(a,l){i[++t]=[l,a]}),i}return sy=r,sy}var ay,xw;function i6(){if(xw)return ay;xw=1;function r(e){var t=-1,i=Array(e.size);return e.forEach(function(a){i[++t]=a}),i}return ay=r,ay}var oy,Sw;function s6(){if(Sw)return oy;Sw=1;var r=ol(),e=d2(),t=ic(),i=f2(),a=r6(),l=i6(),c=1,d=2,p="[object Boolean]",g="[object Date]",v="[object Error]",b="[object Map]",x="[object Number]",S="[object RegExp]",M="[object Set]",P="[object String]",k="[object Symbol]",F="[object ArrayBuffer]",B="[object DataView]",W=r?r.prototype:void 0,le=W?W.valueOf:void 0;function ce(oe,I,C,O,j,D,L){switch(C){case B:if(oe.byteLength!=I.byteLength||oe.byteOffset!=I.byteOffset)return!1;oe=oe.buffer,I=I.buffer;case F:return!(oe.byteLength!=I.byteLength||!D(new e(oe),new e(I)));case p:case g:case x:return t(+oe,+I);case v:return oe.name==I.name&&oe.message==I.message;case S:case P:return oe==I+"";case b:var N=a;case M:var Re=O&c;if(N||(N=l),oe.size!=I.size&&!Re)return!1;var Ne=L.get(oe);if(Ne)return Ne==I;O|=d,L.set(oe,I);var ee=i(N(oe),N(I),O,j,D,L);return L.delete(oe),ee;case k:if(le)return le.call(oe)==le.call(I)}return!1}return oy=ce,oy}var ly,ww;function nd(){if(ww)return ly;ww=1;function r(e,t){for(var i=-1,a=t.length,l=e.length;++i<a;)e[l+i]=t[i];return e}return ly=r,ly}var uy,Aw;function p2(){if(Aw)return uy;Aw=1;var r=nd(),e=pn();function t(i,a,l){var c=a(i);return e(i)?c:r(c,l(i))}return uy=t,uy}var cy,Rw;function m2(){if(Rw)return cy;Rw=1;function r(e,t){for(var i=-1,a=e==null?0:e.length,l=0,c=[];++i<a;){var d=e[i];t(d,i,e)&&(c[l++]=d)}return c}return cy=r,cy}var hy,Cw;function g2(){if(Cw)return hy;Cw=1;function r(){return[]}return hy=r,hy}var fy,Iw;function B0(){if(Iw)return fy;Iw=1;var r=m2(),e=g2(),t=Object.prototype,i=t.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(c){return c==null?[]:(c=Object(c),r(a(c),function(d){return i.call(c,d)}))}:e;return fy=l,fy}var dy,Nw;function y2(){if(Nw)return dy;Nw=1;var r=p2(),e=B0(),t=za();function i(a){return r(a,t,e)}return dy=i,dy}var py,Ow;function a6(){if(Ow)return py;Ow=1;var r=y2(),e=1,t=Object.prototype,i=t.hasOwnProperty;function a(l,c,d,p,g,v){var b=d&e,x=r(l),S=x.length,M=r(c),P=M.length;if(S!=P&&!b)return!1;for(var k=S;k--;){var F=x[k];if(!(b?F in c:i.call(c,F)))return!1}var B=v.get(l),W=v.get(c);if(B&&W)return B==c&&W==l;var le=!0;v.set(l,c),v.set(c,l);for(var ce=b;++k<S;){F=x[k];var oe=l[F],I=c[F];if(p)var C=b?p(I,oe,F,c,l,v):p(oe,I,F,l,c,v);if(!(C===void 0?oe===I||g(oe,I,d,p,v):C)){le=!1;break}ce||(ce=F=="constructor")}if(le&&!ce){var O=l.constructor,j=c.constructor;O!=j&&"constructor"in l&&"constructor"in c&&!(typeof O=="function"&&O instanceof O&&typeof j=="function"&&j instanceof j)&&(le=!1)}return v.delete(l),v.delete(c),le}return py=a,py}var my,Dw;function o6(){if(Dw)return my;Dw=1;var r=qa(),e=Dr(),t=r(e,"DataView");return my=t,my}var gy,kw;function l6(){if(kw)return gy;kw=1;var r=qa(),e=Dr(),t=r(e,"Promise");return gy=t,gy}var yy,Mw;function u6(){if(Mw)return yy;Mw=1;var r=qa(),e=Dr(),t=r(e,"Set");return yy=t,yy}var vy,jw;function c6(){if(jw)return vy;jw=1;var r=qa(),e=Dr(),t=r(e,"WeakMap");return vy=t,vy}var _y,Vw;function rd(){if(Vw)return _y;Vw=1;var r=o6(),e=q0(),t=l6(),i=u6(),a=c6(),l=Ua(),c=o2(),d="[object Map]",p="[object Object]",g="[object Promise]",v="[object Set]",b="[object WeakMap]",x="[object DataView]",S=c(r),M=c(e),P=c(t),k=c(i),F=c(a),B=l;return(r&&B(new r(new ArrayBuffer(1)))!=x||e&&B(new e)!=d||t&&B(t.resolve())!=g||i&&B(new i)!=v||a&&B(new a)!=b)&&(B=function(W){var le=l(W),ce=le==p?W.constructor:void 0,oe=ce?c(ce):"";if(oe)switch(oe){case S:return x;case M:return d;case P:return g;case k:return v;case F:return b}return le}),_y=B,_y}var by,Pw;function h6(){if(Pw)return by;Pw=1;var r=td(),e=f2(),t=s6(),i=a6(),a=rd(),l=pn(),c=Yf(),d=P0(),p=1,g="[object Arguments]",v="[object Array]",b="[object Object]",x=Object.prototype,S=x.hasOwnProperty;function M(P,k,F,B,W,le){var ce=l(P),oe=l(k),I=ce?v:a(P),C=oe?v:a(k);I=I==g?b:I,C=C==g?b:C;var O=I==b,j=C==b,D=I==C;if(D&&c(P)){if(!c(k))return!1;ce=!0,O=!1}if(D&&!O)return le||(le=new r),ce||d(P)?e(P,k,F,B,W,le):t(P,k,I,F,B,W,le);if(!(F&p)){var L=O&&S.call(P,"__wrapped__"),N=j&&S.call(k,"__wrapped__");if(L||N){var Re=L?P.value():P,Ne=N?k.value():k;return le||(le=new r),W(Re,Ne,F,B,le)}}return D?(le||(le=new r),i(P,k,F,B,W,le)):!1}return by=M,by}var Ey,Lw;function v2(){if(Lw)return Ey;Lw=1;var r=h6(),e=ui();function t(i,a,l,c,d){return i===a?!0:i==null||a==null||!e(i)&&!e(a)?i!==i&&a!==a:r(i,a,l,c,t,d)}return Ey=t,Ey}var Ty,Uw;function f6(){if(Uw)return Ty;Uw=1;var r=td(),e=v2(),t=1,i=2;function a(l,c,d,p){var g=d.length,v=g,b=!p;if(l==null)return!v;for(l=Object(l);g--;){var x=d[g];if(b&&x[2]?x[1]!==l[x[0]]:!(x[0]in l))return!1}for(;++g<v;){x=d[g];var S=x[0],M=l[S],P=x[1];if(b&&x[2]){if(M===void 0&&!(S in l))return!1}else{var k=new r;if(p)var F=p(M,P,S,l,c,k);if(!(F===void 0?e(P,M,t|i,p,k):F))return!1}}return!0}return Ty=a,Ty}var xy,qw;function _2(){if(qw)return xy;qw=1;var r=hr();function e(t){return t===t&&!r(t)}return xy=e,xy}var Sy,zw;function d6(){if(zw)return Sy;zw=1;var r=_2(),e=za();function t(i){for(var a=e(i),l=a.length;l--;){var c=a[l],d=i[c];a[l]=[c,d,r(d)]}return a}return Sy=t,Sy}var wy,Bw;function b2(){if(Bw)return wy;Bw=1;function r(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==void 0||e in Object(i))}}return wy=r,wy}var Ay,Fw;function p6(){if(Fw)return Ay;Fw=1;var r=f6(),e=d6(),t=b2();function i(a){var l=e(a);return l.length==1&&l[0][2]?t(l[0][0],l[0][1]):function(c){return c===a||r(c,a,l)}}return Ay=i,Ay}var Ry,Hw;function sc(){if(Hw)return Ry;Hw=1;var r=Ua(),e=ui(),t="[object Symbol]";function i(a){return typeof a=="symbol"||e(a)&&r(a)==t}return Ry=i,Ry}var Cy,Gw;function F0(){if(Gw)return Cy;Gw=1;var r=pn(),e=sc(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function a(l,c){if(r(l))return!1;var d=typeof l;return d=="number"||d=="symbol"||d=="boolean"||l==null||e(l)?!0:i.test(l)||!t.test(l)||c!=null&&l in Object(c)}return Cy=a,Cy}var Iy,$w;function m6(){if($w)return Iy;$w=1;var r=z0(),e="Expected a function";function t(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var l=function(){var c=arguments,d=a?a.apply(this,c):c[0],p=l.cache;if(p.has(d))return p.get(d);var g=i.apply(this,c);return l.cache=p.set(d,g)||p,g};return l.cache=new(t.Cache||r),l}return t.Cache=r,Iy=t,Iy}var Ny,Kw;function g6(){if(Kw)return Ny;Kw=1;var r=m6(),e=500;function t(i){var a=r(i,function(c){return l.size===e&&l.clear(),c}),l=a.cache;return a}return Ny=t,Ny}var Oy,Yw;function y6(){if(Yw)return Oy;Yw=1;var r=g6(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,i=r(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(e,function(c,d,p,g){l.push(p?g.replace(t,"$1"):d||c)}),l});return Oy=i,Oy}var Dy,Qw;function id(){if(Qw)return Dy;Qw=1;function r(e,t){for(var i=-1,a=e==null?0:e.length,l=Array(a);++i<a;)l[i]=t(e[i],i,e);return l}return Dy=r,Dy}var ky,Xw;function v6(){if(Xw)return ky;Xw=1;var r=ol(),e=id(),t=pn(),i=sc(),a=r?r.prototype:void 0,l=a?a.toString:void 0;function c(d){if(typeof d=="string")return d;if(t(d))return e(d,c)+"";if(i(d))return l?l.call(d):"";var p=d+"";return p=="0"&&1/d==-1/0?"-0":p}return ky=c,ky}var My,Ww;function E2(){if(Ww)return My;Ww=1;var r=v6();function e(t){return t==null?"":r(t)}return My=e,My}var jy,Jw;function ac(){if(Jw)return jy;Jw=1;var r=pn(),e=F0(),t=y6(),i=E2();function a(l,c){return r(l)?l:e(l,c)?[l]:t(i(l))}return jy=a,jy}var Vy,Zw;function ul(){if(Zw)return Vy;Zw=1;var r=sc();function e(t){if(typeof t=="string"||r(t))return t;var i=t+"";return i=="0"&&1/t==-1/0?"-0":i}return Vy=e,Vy}var Py,eA;function sd(){if(eA)return Py;eA=1;var r=ac(),e=ul();function t(i,a){a=r(a,i);for(var l=0,c=a.length;i!=null&&l<c;)i=i[e(a[l++])];return l&&l==c?i:void 0}return Py=t,Py}var Ly,tA;function T2(){if(tA)return Ly;tA=1;var r=sd();function e(t,i,a){var l=t==null?void 0:r(t,i);return l===void 0?a:l}return Ly=e,Ly}var Uy,nA;function _6(){if(nA)return Uy;nA=1;function r(e,t){return e!=null&&t in Object(e)}return Uy=r,Uy}var qy,rA;function x2(){if(rA)return qy;rA=1;var r=ac(),e=Kf(),t=pn(),i=Qf(),a=j0(),l=ul();function c(d,p,g){p=r(p,d);for(var v=-1,b=p.length,x=!1;++v<b;){var S=l(p[v]);if(!(x=d!=null&&g(d,S)))break;d=d[S]}return x||++v!=b?x:(b=d==null?0:d.length,!!b&&a(b)&&i(S,b)&&(t(d)||e(d)))}return qy=c,qy}var zy,iA;function b6(){if(iA)return zy;iA=1;var r=_6(),e=x2();function t(i,a){return i!=null&&e(i,a,r)}return zy=t,zy}var By,sA;function E6(){if(sA)return By;sA=1;var r=v2(),e=T2(),t=b6(),i=F0(),a=_2(),l=b2(),c=ul(),d=1,p=2;function g(v,b){return i(v)&&a(b)?l(c(v),b):function(x){var S=e(x,v);return S===void 0&&S===b?t(x,v):r(b,S,d|p)}}return By=g,By}var Fy,aA;function ad(){if(aA)return Fy;aA=1;function r(e){return e}return Fy=r,Fy}var Hy,oA;function T6(){if(oA)return Hy;oA=1;function r(e){return function(t){return t?.[e]}}return Hy=r,Hy}var Gy,lA;function x6(){if(lA)return Gy;lA=1;var r=sd();function e(t){return function(i){return r(i,t)}}return Gy=e,Gy}var $y,uA;function S6(){if(uA)return $y;uA=1;var r=T6(),e=x6(),t=F0(),i=ul();function a(l){return t(l)?r(i(l)):e(l)}return $y=a,$y}var Ky,cA;function H0(){if(cA)return Ky;cA=1;var r=p6(),e=E6(),t=ad(),i=pn(),a=S6();function l(c){return typeof c=="function"?c:c==null?t:typeof c=="object"?i(c)?e(c[0],c[1]):r(c):a(c)}return Ky=l,Ky}var Yy,hA;function w6(){if(hA)return Yy;hA=1;var r=_P(),e=IP(),t=H0(),i=pn();function a(l,c){return function(d,p){var g=i(d)?r:e,v=c?c():{};return g(d,l,t(p,2),v)}}return Yy=a,Yy}var Qy,fA;function A6(){if(fA)return Qy;fA=1;var r=$f(),e=w6(),t=Object.prototype,i=t.hasOwnProperty,a=e(function(l,c,d){i.call(l,d)?l[d].push(c):r(l,d,[c])});return Qy=a,Qy}var R6=A6();const mf=Qt(R6),C6={BLUEPRINT:"BP","CHASSIS BLUEPRINT":"CH","SYSTEMS BLUEPRINT":"SYS","NEUROPTICS BLUEPRINT":"NEU"},I6={Common:"bg-amber-700",Uncommon:"bg-gray-500",Rare:"bg-yellow-500"},dA=r=>{if(!r)return null;const e=String(r).trim();if(!e)return null;const t=e.replace(/\s+/g,"_");return`https://wiki.warframe.com/w/${encodeURIComponent(t)}`};class S2 extends Yt.Component{handleItemClick(e){return t=>{this.props.onItemClick(e),t.stopPropagation()}}renderAcquisition(e){if(e.location)return y.jsx("td",{className:"py-1 px-3 align-top border-l border-gray-100 text-gray-700 text-sm leading-snug",children:Array.isArray(e.location)?y.jsx("ul",{className:"list-disc list-inside m-0 p-0",children:e.location.map((t,i)=>y.jsx("li",{children:t},i))}):e.location});if(e.relics){const t=mf(e.relics,"part"),i=Object.getOwnPropertyNames(t).map((a,l)=>y.jsxs("tr",{className:"border-none",children:[y.jsx("td",{className:"py-0 px-1 w-8 text-xs font-bold text-gray-500",children:C6[a.toUpperCase()]}),y.jsx("td",{className:"py-0.5 px-1 flex flex-wrap gap-1",children:t[a].map((c,d)=>y.jsx("span",{className:`px-1 rounded-[2px] text-[10px] font-bold text-white uppercase ${I6[c.rarity]||"bg-gray-400"} ${c.isVaulted?"opacity-50 ring-1 ring-inset ring-gray-300":""}`,title:c.isVaulted?"Vaulted":void 0,children:c.name},d))})]},l));return y.jsx("td",{className:"py-1 px-3 align-top border-l border-gray-100",children:y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:i})})})}return y.jsx("td",{className:"py-1 px-3 border-l border-gray-100"})}renderBody(){const e=this.props.items.map((t,i)=>{const a=this.props.visibilityFilter===Jt.SHOW_ACTIVE&&t.checked;return this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(t).toLowerCase().includes(this.props.searchFilter.toLowerCase())?null:y.jsxs("tr",{className:`${t.checked?"bg-green-50":""} ${a?"opacity-30":""} transition-colors`,children:[y.jsx("td",{className:"py-1 px-3 align-top w-40",children:y.jsxs("div",{className:"flex items-center gap-1.5",children:[t.checked&&y.jsx(fn,{className:"text-green-500 shrink-0"}),y.jsx("span",{className:"font-bold text-gray-900 text-base",children:t.title})]})}),y.jsx("td",{className:"py-1 px-2 align-top w-20 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center gap-2",children:[t.url||dA(t.title)?y.jsx("a",{href:t.url||dA(t.title),title:"wiki",className:"text-gray-500 opacity-70 hover:opacity-100",target:"_blank",rel:"noopener noreferrer",children:y.jsx(Qo,{})}):null,t.market?y.jsx("a",{href:t.market,title:"market",className:"text-gray-500 opacity-70 hover:opacity-100",target:"_blank",rel:"noopener noreferrer",children:y.jsx(H_,{})}):null,t.isVaulted?y.jsx(Hf,{className:"text-red-600",title:"Vaulted"}):null]})}),y.jsx("td",{className:"py-1 px-3 align-top w-48",children:t.items?y.jsx("div",{className:"flex flex-col gap-0.5",children:t.items.map((l,c)=>{const d=typeof l=="string"||l instanceof String?l:l.title;return y.jsxs("span",{className:"flex items-center gap-1.5 whitespace-nowrap text-sm text-gray-700",children:[y.jsx("div",{className:`cursor-pointer ${l.checked?"text-green-500":"text-gray-400 hover:text-gray-600"}`,onClick:this.handleItemClick(d),children:l.checked?y.jsx(fn,{}):y.jsx(Bf,{})}),y.jsx("span",{className:"font-medium",children:l.short?l.short:l.title})]},c)})}):null}),this.renderAcquisition(t)]},i)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:e})}render(){return y.jsx("div",{className:"overflow-x-auto border-t border-gray-100",children:y.jsx("table",{className:"w-full border-collapse",children:this.renderBody()})})}}S2.propTypes={items:R.arrayOf(R.shape({title:R.string,short:R.string,market:R.string,description:R.string,location:R.oneOfType([R.string,R.arrayOf(R.string)]),checked:R.bool})),onItemClick:R.func.isRequired,visibilityFilter:R.string,searchFilter:R.string};var Xy,pA;function N6(){if(pA)return Xy;pA=1;var r=E2(),e=/[\\^$.*+?()[\]{}|]/g,t=RegExp(e.source);function i(a){return a=r(a),a&&t.test(a)?a.replace(e,"\\$&"):a}return Xy=i,Xy}var O6=N6();const Ra=Qt(O6);var Wy,mA;function D6(){if(mA)return Wy;mA=1;var r=U0();function e(t,i){var a=[];return r(t,function(l,c,d){i(l,c,d)&&a.push(l)}),a}return Wy=e,Wy}var Jy,gA;function k6(){if(gA)return Jy;gA=1;var r=m2(),e=D6(),t=H0(),i=pn();function a(l,c){var d=i(l)?r:e;return d(l,t(c,3))}return Jy=a,Jy}var M6=k6();const Ca=Qt(M6);var Zy,yA;function j6(){if(yA)return Zy;yA=1;var r=id();function e(t,i){return r(i,function(a){return t[a]})}return Zy=e,Zy}var ev,vA;function V6(){if(vA)return ev;vA=1;var r=j6(),e=za();function t(i){return i==null?[]:r(i,e(i))}return ev=t,ev}var P6=V6();const Ia=Qt(P6);var L6=za();const ti=Qt(L6);var U6=T2();const ni=Qt(U6);var tv,_A;function q6(){if(_A)return tv;_A=1;var r=U0(),e=ll();function t(i,a){var l=-1,c=e(i)?Array(i.length):[];return r(i,function(d,p,g){c[++l]=a(d,p,g)}),c}return tv=t,tv}var nv,bA;function z6(){if(bA)return nv;bA=1;function r(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}return nv=r,nv}var rv,EA;function B6(){if(EA)return rv;EA=1;var r=sc();function e(t,i){if(t!==i){var a=t!==void 0,l=t===null,c=t===t,d=r(t),p=i!==void 0,g=i===null,v=i===i,b=r(i);if(!g&&!b&&!d&&t>i||d&&p&&v&&!g&&!b||l&&p&&v||!a&&v||!c)return 1;if(!l&&!d&&!b&&t<i||b&&a&&c&&!l&&!d||g&&a&&c||!p&&c||!v)return-1}return 0}return rv=e,rv}var iv,TA;function F6(){if(TA)return iv;TA=1;var r=B6();function e(t,i,a){for(var l=-1,c=t.criteria,d=i.criteria,p=c.length,g=a.length;++l<p;){var v=r(c[l],d[l]);if(v){if(l>=g)return v;var b=a[l];return v*(b=="desc"?-1:1)}}return t.index-i.index}return iv=e,iv}var sv,xA;function w2(){if(xA)return sv;xA=1;var r=id(),e=sd(),t=H0(),i=q6(),a=z6(),l=Xf(),c=F6(),d=ad(),p=pn();function g(v,b,x){b.length?b=r(b,function(P){return p(P)?function(k){return e(k,P.length===1?P[0]:P)}:P}):b=[d];var S=-1;b=r(b,l(t));var M=i(v,function(P,k,F){var B=r(b,function(W){return W(P)});return{criteria:B,index:++S,value:P}});return a(M,function(P,k){return c(P,k,x)})}return sv=g,sv}var av,SA;function H6(){if(SA)return av;SA=1;var r=w2(),e=pn();function t(i,a,l,c){return i==null?[]:(e(a)||(a=a==null?[]:[a]),l=c?void 0:l,e(l)||(l=l==null?[]:[l]),r(i,a,l))}return av=t,av}var G6=H6();const G0=Qt(G6);var ov,wA;function $6(){if(wA)return ov;wA=1;var r=Dr(),e=function(){return r.Date.now()};return ov=e,ov}var lv,AA;function K6(){if(AA)return lv;AA=1;var r=/\s/;function e(t){for(var i=t.length;i--&&r.test(t.charAt(i)););return i}return lv=e,lv}var uv,RA;function Y6(){if(RA)return uv;RA=1;var r=K6(),e=/^\s+/;function t(i){return i&&i.slice(0,r(i)+1).replace(e,"")}return uv=t,uv}var cv,CA;function Q6(){if(CA)return cv;CA=1;var r=Y6(),e=hr(),t=sc(),i=NaN,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;function p(g){if(typeof g=="number")return g;if(t(g))return i;if(e(g)){var v=typeof g.valueOf=="function"?g.valueOf():g;g=e(v)?v+"":v}if(typeof g!="string")return g===0?g:+g;g=r(g);var b=l.test(g);return b||c.test(g)?d(g.slice(2),b?2:8):a.test(g)?i:+g}return cv=p,cv}var hv,IA;function X6(){if(IA)return hv;IA=1;var r=hr(),e=$6(),t=Q6(),i="Expected a function",a=Math.max,l=Math.min;function c(d,p,g){var v,b,x,S,M,P,k=0,F=!1,B=!1,W=!0;if(typeof d!="function")throw new TypeError(i);p=t(p)||0,r(g)&&(F=!!g.leading,B="maxWait"in g,x=B?a(t(g.maxWait)||0,p):x,W="trailing"in g?!!g.trailing:W);function le(N){var Re=v,Ne=b;return v=b=void 0,k=N,S=d.apply(Ne,Re),S}function ce(N){return k=N,M=setTimeout(C,p),F?le(N):S}function oe(N){var Re=N-P,Ne=N-k,ee=p-Re;return B?l(ee,x-Ne):ee}function I(N){var Re=N-P,Ne=N-k;return P===void 0||Re>=p||Re<0||B&&Ne>=x}function C(){var N=e();if(I(N))return O(N);M=setTimeout(C,oe(N))}function O(N){return M=void 0,W&&v?le(N):(v=b=void 0,S)}function j(){M!==void 0&&clearTimeout(M),k=0,v=P=b=M=void 0}function D(){return M===void 0?S:O(e())}function L(){var N=e(),Re=I(N);if(v=arguments,b=this,P=N,Re){if(M===void 0)return ce(P);if(B)return clearTimeout(M),M=setTimeout(C,p),le(P)}return M===void 0&&(M=setTimeout(C,p)),S}return L.cancel=j,L.flush=D,L}return hv=c,hv}var W6=X6();const od=Qt(W6),NA={Common:"brown",Uncommon:"grey",Rare:"yellow"},Eu={red:{bg:"bg-red-600",border:"border-red-600",text:"text-red-600",icon:"text-red-600"},orange:{bg:"bg-orange-500",border:"border-orange-500",text:"text-orange-500",icon:"text-orange-500"},yellow:{bg:"bg-yellow-500",border:"border-yellow-500",text:"text-yellow-500",icon:"text-yellow-500"},olive:{bg:"bg-lime-600",border:"border-lime-600",text:"text-lime-600",icon:"text-lime-600"},green:{bg:"bg-green-500",border:"border-green-500",text:"text-green-500",icon:"text-green-500"},teal:{bg:"bg-teal-500",border:"border-teal-500",text:"text-teal-500",icon:"text-teal-500"},blue:{bg:"bg-blue-600",border:"border-blue-600",text:"text-sky-700",icon:"text-sky-700"},violet:{bg:"bg-violet-600",border:"border-violet-600",text:"text-violet-600",icon:"text-violet-600"},purple:{bg:"bg-purple-600",border:"border-purple-600",text:"text-purple-600",icon:"text-purple-600"},pink:{bg:"bg-pink-500",border:"border-pink-500",text:"text-pink-500",icon:"text-pink-500"},brown:{bg:"bg-amber-700",border:"border-amber-700",text:"text-amber-700",icon:"text-amber-700"},grey:{bg:"bg-gray-500",border:"border-gray-500",text:"text-gray-500",icon:"text-gray-500"},black:{bg:"bg-gray-900",border:"border-gray-900",text:"text-gray-900",icon:"text-gray-900"}},OA=["red","olive","yellow","green","teal","blue","orange","violet","purple","pink","brown","grey","black"],Hh={isLoading:!1,results:[],value:"",hovered:[]};class A2 extends Yt.Component{constructor(e){super(e),this.state=Hh,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=od(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(Hh)}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleVisibilityToggle(){return()=>{const e=this.props.relicVisibility===Jt.SHOW_ALL?Jt.SHOW_ACTIVE:Jt.SHOW_ALL;this.props.onRelicVisibilityToggle(e)}}handleSearchChange(e,{value:t}){if(this.setState({isLoading:!0,value:t}),t.length<1){this.setState(Hh);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(Hh);return}const t=new RegExp(Ra(e),"i"),i=Ia(this.props.voidDrops).map(l=>l.title),a=l=>t.test(l.title)&&!i.includes(l.title);this.setState({isLoading:!1,results:Ca(this.props.items,a)})}resultRenderer({title:e}){return y.jsx("div",{children:e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e})},"content")}renderTypeIcon(e){const t=Eu[e],i=t?t.icon:"text-gray-400";return y.jsx(U5,{className:`text-xs align-middle mr-1 ${i}`})}renderItemsTable(){const e=Ia(this.props.voidDrops),t=[];let i;if(!e.length)return null;const a=G0(e,["item","arbitrary","title"],["asc","desc","asc"]).map(l=>{let c=l.title,d=[];t.includes(l.item)||t.push(l.item),l.count&&(c=`${c} x${l.count}`);let p=!1;const g=l.relics||[],v=l.arbitrary||!l.relics?[]:g.map(b=>{const x=b.name,S=ni(this.props,["markedRelics",x,"available"]);(!b.isVaulted||S===!0)&&(p=!0);let M=null;S===!0?M=y.jsx(fn,{className:"mr-1 text-[0.9em]"}):S===!1&&(M=y.jsx(G_,{className:"mr-1 text-[0.9em]"}));const P=NA[b.rarity],k=Eu[P]||Eu.grey,F=b.isVaulted?`border-2 ${k.border} !bg-transparent !text-inherit opacity-70`:`${k.bg} ${k.border} border-2 text-white`,B=S===!1?"opacity-30":"";return y.jsxs("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-bold uppercase tracking-tight mr-1 mb-1 transition-colors ${F} ${B}`,children:[M,`${x}${b.isBaro?" [Baro]":""}`]},x)});if(!l.arbitrary&&l.item){const b=`${l.item.replace(/\s+/g,"_")}_Prime`,x=`https://wiki.warframe.com/w/${encodeURIComponent(b)}`,S=`https://warframe.market/items/${l.title.toLowerCase().split(" ").join("_")}`;i=OA[t.indexOf(l.item)%OA.length],d=[y.jsx("a",{href:x,title:"wiki",target:"_blank",rel:"noreferrer",className:"hover:opacity-70",children:y.jsx(Qo,{className:"text-gray-400"})},"wiki"),y.jsx("a",{href:S,title:"market",target:"_blank",rel:"noreferrer",className:"hover:opacity-70 ml-1",children:y.jsx(H_,{className:p?"text-gray-400":"text-sky-700"})},"market")]}else if(l.arbitrary){const b=`https://warframe.market/items/${l.title.toLowerCase().split(" ").join("_")}`;d=[y.jsx("a",{href:b,title:"market",target:"_blank",rel:"noreferrer",className:"hover:opacity-70",children:y.jsx(H_,{className:"text-sky-700"})},"market")]}return y.jsxs("tr",{className:`hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors ${this.state.hovered.includes(c)?"bg-gray-50":""}`,children:[y.jsx("td",{className:"py-1 px-2 align-middle",children:y.jsxs("div",{className:"flex items-center flex-wrap",children:[this.renderTypeIcon(i),y.jsx("span",{className:"mr-2",children:c}),y.jsx("span",{className:"mr-3 inline-flex items-center",children:d}),y.jsx("div",{className:"inline-flex flex-wrap items-center mt-0.5",children:v})]})}),y.jsx("td",{className:"py-1 px-2 text-right align-middle",children:y.jsx(Sn,{className:"cursor-pointer text-red-600 hover:opacity-80",onClick:this.handleItemRemove(l.title)})})]},c)});return y.jsx("table",{className:"w-full border-collapse mb-4",children:y.jsx("tbody",{children:a})})}renderRelicsTable(){const e=Ia(this.props.voidDrops);if(!e.length)return null;const t={Lith:{},Meso:{},Neo:{},Axi:{},Vanguard:{},Requiem:{}};e.forEach(a=>{a.arbitrary||!a.relics||a.relics.forEach(l=>{if(!t[l.tier])return;t[l.tier][l.name]||(t[l.tier][l.name]=[]);const c={title:a.title,rarity:l.rarity,isVaulted:l.isVaulted};l.isBaro&&(c.isBaro=l.isBaro),t[l.tier][l.name].push(c)})});const i=["Lith","Meso","Neo","Axi","Vanguard","Requiem"];return y.jsxs("div",{className:"mt-8",children:[y.jsxs("div",{className:"relative flex items-center mb-6",children:[y.jsx("div",{className:"grow border-t border-gray-200"}),y.jsx("span",{className:"flex-shrink mx-4 text-gray-400 text-sm font-bold uppercase tracking-widest leading-none",children:"Required Relics"}),y.jsx("div",{className:"grow border-t border-gray-200"})]}),y.jsx("div",{className:"bg-white p-4 mb-4",children:i.map((a,l)=>ti(t[a]).length===0?null:y.jsxs(Yt.Fragment,{children:[l>0&&ti(t[i[l-1]]).length>0&&y.jsx("div",{className:"h-6"}),y.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 border-b border-gray-50 pb-1",children:a}),y.jsx("div",{className:"flex flex-wrap",children:this.renderGroupedRelicsList(t[a])})]},a))})]},"relics-container")}handleMouseOver(e){return()=>{this.setState({hovered:e})}}handleMouseOut(){return()=>{this.setState({hovered:[]})}}handleRelicClick(e){return()=>{this.props.onRelicToggle({title:e})}}renderGroupedRelicsList(e){return ti(e).sort().map(t=>{const i=e[t],a=i[0],l=t;let c=null;i.length>1&&(c=y.jsx("span",{className:"ml-1 opacity-70 font-normal",children:`x${i.length}`}));let d=null;const p=ni(this.props,["markedRelics",l,"available"]);if(p===!0?d=y.jsx(fn,{className:"mr-1 text-green-500"}):p===!1&&(d=y.jsx(G_,{className:"mr-1 text-red-600"})),a.isVaulted&&this.props.relicVisibility===Jt.SHOW_ACTIVE&&p!==!0)return null;const g=a.isVaulted?null:y.jsx("a",{href:`https://wiki.warframe.com/w/${t.replace(" ","_")}`,target:"_blank",rel:"noreferrer",onClick:M=>M.stopPropagation(),className:"mr-1 hover:opacity-70 flex items-center",children:y.jsx(Qo,{className:"text-sky-700 text-[0.9em]"})}),v=NA[a.rarity],b=Eu[v]||Eu.grey,x=a.isVaulted?`border-2 ${b.border} !bg-transparent !text-inherit opacity-70`:`${b.bg} ${b.border} border-2 text-white`,S=p===!1?"opacity-30":"";return y.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-lg font-bold uppercase tracking-tight mr-1 mb-1 cursor-pointer transition-colors ${x} ${S}`,onClick:this.handleRelicClick(l),children:[d,g,y.jsx(q5,{className:"mr-1 opacity-70 text-[0.9em]"}),t,a.isBaro?" [Baro]":"",c]},t)})}render(){const{isLoading:e,value:t,results:i}=this.state;return y.jsxs("div",{children:[ti(this.props.voidDrops).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(rc,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing prime part name to add it to the list."})]}),y.jsxs("div",{className:"flex gap-2 mb-4",children:[y.jsxs("div",{className:"relative grow",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search prime parts...",value:t,onChange:a=>this.handleSearchChange(a,{value:a.target.value}),onKeyPress:a=>{a.key==="Enter"&&t&&this.handleResultSelect(a,{result:{title:t,arbitrary:!0}})}}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vs,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((a,l)=>y.jsx("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-0",onClick:c=>this.handleResultSelect(c,{result:a}),children:this.resultRenderer(a)},l))})]}),y.jsx("button",{onClick:this.handleVisibilityToggle(),className:`px-3 py-2 border rounded-md transition-colors font-bold flex items-center justify-center min-w-[40px] ${this.props.relicVisibility===Jt.SHOW_ALL?"border-blue-600 text-sky-700 hover:bg-blue-50":"border-red-600 text-red-600 hover:bg-red-50"}`,title:this.props.relicVisibility===Jt.SHOW_ALL?"Hide vaulted":"Show all",children:this.props.relicVisibility===Jt.SHOW_ALL?y.jsx(z5,{}):y.jsx(B5,{})})]}),this.renderItemsTable(),this.renderRelicsTable()]})}}A2.propTypes={items:R.arrayOf(R.object),voidDrops:R.object,onItemAdd:R.func.isRequired,onItemRemove:R.func.isRequired,onRelicToggle:R.func.isRequired,markedRelics:R.object,relicVisibility:R.string,onRelicVisibilityToggle:R.func.isRequired};var fv,DA;function J6(){if(DA)return fv;DA=1;var r=ol(),e=Kf(),t=pn(),i=r?r.isConcatSpreadable:void 0;function a(l){return t(l)||e(l)||!!(i&&l&&l[i])}return fv=a,fv}var dv,kA;function $0(){if(kA)return dv;kA=1;var r=nd(),e=J6();function t(i,a,l,c,d){var p=-1,g=i.length;for(l||(l=e),d||(d=[]);++p<g;){var v=i[p];a>0&&l(v)?a>1?t(v,a-1,l,c,d):r(d,v):c||(d[d.length]=v)}return d}return dv=t,dv}var pv,MA;function Z6(){if(MA)return pv;MA=1;function r(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}return pv=r,pv}var mv,jA;function R2(){if(jA)return mv;jA=1;var r=Z6(),e=Math.max;function t(i,a,l){return a=e(a===void 0?i.length-1:a,0),function(){for(var c=arguments,d=-1,p=e(c.length-a,0),g=Array(p);++d<p;)g[d]=c[a+d];d=-1;for(var v=Array(a+1);++d<a;)v[d]=c[d];return v[a]=l(g),r(i,this,v)}}return mv=t,mv}var gv,VA;function eL(){if(VA)return gv;VA=1;function r(e){return function(){return e}}return gv=r,gv}var yv,PA;function tL(){if(PA)return yv;PA=1;var r=eL(),e=l2(),t=ad(),i=e?function(a,l){return e(a,"toString",{configurable:!0,enumerable:!1,value:r(l),writable:!0})}:t;return yv=i,yv}var vv,LA;function nL(){if(LA)return vv;LA=1;var r=800,e=16,t=Date.now;function i(a){var l=0,c=0;return function(){var d=t(),p=e-(d-c);if(c=d,p>0){if(++l>=r)return arguments[0]}else l=0;return a.apply(void 0,arguments)}}return vv=i,vv}var _v,UA;function C2(){if(UA)return _v;UA=1;var r=tL(),e=nL(),t=e(r);return _v=t,_v}var bv,qA;function I2(){if(qA)return bv;qA=1;var r=ad(),e=R2(),t=C2();function i(a,l){return t(e(a,l,r),a+"")}return bv=i,bv}var Ev,zA;function N2(){if(zA)return Ev;zA=1;var r=ic(),e=ll(),t=Qf(),i=hr();function a(l,c,d){if(!i(d))return!1;var p=typeof c;return(p=="number"?e(d)&&t(c,d.length):p=="string"&&c in d)?r(d[c],l):!1}return Ev=a,Ev}var Tv,BA;function rL(){if(BA)return Tv;BA=1;var r=$0(),e=w2(),t=I2(),i=N2(),a=t(function(l,c){if(l==null)return[];var d=c.length;return d>1&&i(l,c[0],c[1])?c=[]:d>2&&i(c[0],c[1],c[2])&&(c=[c[0]]),e(l,r(c,1),[])});return Tv=a,Tv}var iL=rL();const K0=Qt(iL);class O2 extends Yt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",count:this.props.count||0,modalOpen:!1},this.handleNotesChange=this.handleNotesChange.bind(this),this.handleCountChange=this.handleCountChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleNotesChange(e){this.setState({notes:e.target.value})}handleCountChange(e){const t=e.target.value;if(t===""||t===void 0)this.setState({count:0});else{const i=parseInt(t,10);!isNaN(i)&&i>=0&&this.setState({count:i})}}handleSave(){this.props.onSave(this.state.notes.trim(),this.state.count),this.handleClose()}handleOpen(){this.setState({modalOpen:!0,notes:this.props.notes||"",count:this.props.count||0})}handleClose(){this.setState({modalOpen:!1})}render(){return y.jsxs(y.Fragment,{children:[y.jsx(Gf,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.url?y.jsx("a",{href:this.props.url,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:this.props.title}):this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(Sn,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto",children:[this.props.category&&y.jsxs("p",{className:"mb-4 text-sm",children:[y.jsx("strong",{children:"Category:"})," ",this.props.category]}),y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"todo-count",className:"block text-sm font-bold text-gray-700 mb-1",children:"Count"}),y.jsx("input",{id:"todo-count",type:"number",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",value:this.state.count,onChange:this.handleCountChange,min:"0"})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"todo-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"todo-notes",autoFocus:!0,className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleNotesChange})]})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(fn,{})," Save"]})})]})})]})}}O2.propTypes={title:R.string.isRequired,category:R.string,url:R.string,notes:R.string,count:R.number,onSave:R.func.isRequired};const Y0=r=>{if(!r||typeof r!="string")return r;const e=r.split(/(\n)/g),t=[],i=/(https?:\/\/[^\s]+)/g;return e.forEach((a,l)=>{a===`
`?t.push(y.jsx("br",{},`br-${l}`)):a!==""&&a.split(i).forEach((d,p)=>{d.match(i)?t.push(y.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"text-sky-700 hover:underline",children:d},`link-${l}-${p}`)):d!==""&&t.push(d)})}),t},Tu={isLoading:!1,results:[],value:"",activeIndex:0};class D2 extends Yt.Component{constructor(e){super(e),this.state=Tu,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=od(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(Tu)}handleKeyDown(e){const{results:t,activeIndex:i,value:a}=this.state;if(e.key==="ArrowDown"&&t.length){e.preventDefault(),this.setState({activeIndex:(i+1)%t.length});return}if(e.key==="ArrowUp"&&t.length){e.preventDefault(),this.setState({activeIndex:(i-1+t.length)%t.length});return}if(e.key==="Enter"){if(t.length&&t[i]){e.preventDefault(),this.handleResultSelect(e,{result:t[i]});return}a&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:a}),this.setState(Tu))}}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return(t,i)=>{this.props.onItemUpdate(e,t,i)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t,activeIndex:0}),t.length<1){this.setState(Tu);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(Tu);return}const t=new RegExp(Ra(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:Ca(this.props.items,i),activeIndex:0})}resultRenderer({title:e,category:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:t})]},"content")}renderTable(){const e=K0(Ia(this.props.todoItems),["category","title"]);if(!e.length)return null;const t=e.map((i,a)=>{let l=i.title;i.count&&(l=`${l} x${i.count}`);const c=i.url||(i.title?`https://wiki.warframe.com/w/${i.title.split(" ").join("_")}`:"https://wiki.warframe.com");return y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsx("a",{href:c,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:l})}),y.jsx("td",{className:"py-1 px-2 text-gray-500",children:i.category}),y.jsx("td",{className:"py-1 px-2 text-gray-500 italic text-sm",children:Y0(i.notes)}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1",children:[y.jsx(O2,{title:i.title,category:i.category,url:i.url,notes:i.notes,count:i.count,onSave:this.handleItemUpdate(i.title)}),y.jsx(qo,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(i.title)}),y.jsx(k0,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(i.title)}),y.jsx(Sn,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(i.title)})]})]},`${i.category||""}-${i.title}-${a}`)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:t})})}render(){const{isLoading:e,value:t,results:i,activeIndex:a}=this.state;return y.jsxs("div",{children:[ti(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(rc,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyDown:this.handleKeyDown}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vs,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((l,c)=>y.jsx("div",{className:`px-3 py-2 cursor-pointer border-b border-gray-100 last:border-0 ${c===a?"bg-gray-100":"hover:bg-gray-50"}`,onClick:d=>this.handleResultSelect(d,{result:l}),children:this.resultRenderer(l)},c))})]}),this.renderTable()]})}}D2.propTypes={items:R.arrayOf(R.object),todoItems:R.object,onItemAdd:R.func.isRequired,onItemRemove:R.func.isRequired,onItemIncrement:R.func.isRequired,onItemDecrement:R.func.isRequired,onItemUpdate:R.func.isRequired};class $_ extends Yt.Component{constructor(e){super(e),this.state={title:this.props.title||"",itemName:this.props.itemName||"",notes:this.props.notes||"",auraMods:this.props.auraMods||[],mods:this.props.mods||[],arcanes:this.props.arcanes||[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0,modalOpen:this.props.forceOpen||!1},this.handleTitleChange=this.handleTitleChange.bind(this),this.handleItemNameChange=this.handleItemNameChange.bind(this),this.handleNotesChange=this.handleNotesChange.bind(this),this.handleAuraModSearchChange=this.handleAuraModSearchChange.bind(this),this.handleModSearchChange=this.handleModSearchChange.bind(this),this.handleArcaneSearchChange=this.handleArcaneSearchChange.bind(this),this.handleAuraModKeyDown=this.handleAuraModKeyDown.bind(this),this.handleModKeyDown=this.handleModKeyDown.bind(this),this.handleArcaneKeyDown=this.handleArcaneKeyDown.bind(this),this.handleAddAuraMod=this.handleAddAuraMod.bind(this),this.handleRemoveAuraMod=this.handleRemoveAuraMod.bind(this),this.handleAddMod=this.handleAddMod.bind(this),this.handleRemoveMod=this.handleRemoveMod.bind(this),this.handleAddArcane=this.handleAddArcane.bind(this),this.handleRemoveArcane=this.handleRemoveArcane.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){if(e.key==="Escape")this.handleClose();else if(e.key==="Enter"){if(e.target.tagName==="TEXTAREA")e.shiftKey||(e.preventDefault(),this.handleSave());else if(e.target.tagName==="INPUT"){if(e.target.dataset.searchInput==="true")return;e.preventDefault(),this.handleSave()}}}componentDidMount(){this.state.modalOpen&&document.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleTitleChange(e){this.setState({title:e.target.value})}handleItemNameChange(e){this.setState({itemName:e.target.value})}handleNotesChange(e){this.setState({notes:e.target.value})}handleAuraModSearchChange(e){const t=e.target.value;if(this.setState({auraModSearch:t,activeAuraModIndex:0}),t.length<1){this.setState({auraModResults:[]});return}const i=new RegExp(Ra(t),"i"),a=Ca(this.props.availableMods,l=>i.test(l)&&!this.state.auraMods.includes(l)).slice(0,10);this.setState({auraModResults:a})}handleModSearchChange(e){const t=e.target.value;if(this.setState({modSearch:t,activeModIndex:0}),t.length<1){this.setState({modResults:[]});return}const i=new RegExp(Ra(t),"i"),a=Ca(this.props.availableMods,l=>i.test(l)&&!this.state.mods.includes(l)).slice(0,10);this.setState({modResults:a})}handleArcaneSearchChange(e){const t=e.target.value;if(this.setState({arcaneSearch:t,activeArcaneIndex:0}),t.length<1){this.setState({arcaneResults:[]});return}const i=new RegExp(Ra(t),"i"),a=Ca(this.props.availableArcanes,l=>i.test(l)&&!this.state.arcanes.includes(l)).slice(0,10);this.setState({arcaneResults:a})}handleAuraModKeyDown(e){const{auraModResults:t,activeAuraModIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeAuraModIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeAuraModIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddAuraMod(t[i])))}handleModKeyDown(e){const{modResults:t,activeModIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeModIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeModIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddMod(t[i])))}handleArcaneKeyDown(e){const{arcaneResults:t,activeArcaneIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeArcaneIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeArcaneIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddArcane(t[i])))}handleAddAuraMod(e){this.setState(t=>({auraMods:[...t.auraMods,e],auraModSearch:"",auraModResults:[]}))}handleRemoveAuraMod(e){this.setState(t=>({auraMods:t.auraMods.filter(i=>i!==e)}))}handleAddMod(e){this.setState(t=>({mods:[...t.mods,e],modSearch:"",modResults:[]}))}handleRemoveMod(e){this.setState(t=>({mods:t.mods.filter(i=>i!==e)}))}handleAddArcane(e){this.setState(t=>({arcanes:[...t.arcanes,e],arcaneSearch:"",arcaneResults:[]}))}handleRemoveArcane(e){this.setState(t=>({arcanes:t.arcanes.filter(i=>i!==e)}))}handleSave(){this.state.title.trim()&&(this.props.onSave({id:this.props.id||`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,title:this.state.title.trim(),itemName:this.state.itemName.trim(),notes:this.state.notes.trim(),auraMods:this.state.auraMods,mods:this.state.mods,arcanes:this.state.arcanes,category:"builds"}),this.handleClose(),!this.props.id&&!this.props.title&&this.setState({title:"",itemName:"",notes:"",auraMods:[],mods:[],arcanes:[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0}))}handleOpen(){this.setState({modalOpen:!0,title:this.props.title||"",itemName:this.props.itemName||"",notes:this.props.notes||"",auraMods:this.props.auraMods||[],mods:this.props.mods||[],arcanes:this.props.arcanes||[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0})}handleClose(){this.setState({modalOpen:!1})}render(){const{trigger:e}=this.props;return y.jsxs(y.Fragment,{children:[e?Yt.cloneElement(e,{onClick:this.handleOpen}):y.jsx(Gf,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left text-gray-900",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.title?y.jsxs(y.Fragment,{children:["Edit Build: ",y.jsx("span",{className:"text-sky-700",children:this.props.title}),this.props.itemName&&y.jsx("a",{href:`https://wiki.warframe.com/w/${this.props.itemName.split(" ").join("_")}`,target:"_blank",rel:"noreferrer",className:"ml-2 text-xs text-gray-400 hover:text-sky-700 font-normal align-middle",children:"(wiki)"})]}):"Add New Build"}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(Sn,{className:"text-gray-400"})})]}),y.jsx("div",{className:"p-4 grow overflow-y-auto",children:y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"build-title",className:"block text-sm font-bold text-gray-700 mb-1",children:"Build Name"}),y.jsx("input",{id:"build-title",type:"text",autoFocus:!this.props.title,className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",placeholder:"e.g. Speed Run, High Strength",value:this.state.title,onChange:this.handleTitleChange})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"build-item",className:"block text-sm font-bold text-gray-700 mb-1",children:"Item"}),y.jsx("input",{id:"build-item",type:"text",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",placeholder:"e.g. Gauss, Ignis Wraith",value:this.state.itemName,onChange:this.handleItemNameChange})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Aura/Exilus Mods"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.auraMods.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-50 text-cyan-700 text-xs font-bold rounded border border-blue-100 uppercase",children:[t,y.jsx(Sn,{className:"w-3 h-3 cursor-pointer hover:text-cyan-900",onClick:()=>this.handleRemoveAuraMod(t)})]},i)),this.state.auraMods.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No mods added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search aura/exilus mods to add...",value:this.state.auraModSearch,onChange:this.handleAuraModSearchChange,onKeyDown:this.handleAuraModKeyDown})}),this.state.auraModResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.auraModResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeAuraModIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddAuraMod(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(qo,{className:`text-gray-400 ${i===this.state.activeAuraModIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Mods"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.mods.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-50 text-indigo-700 text-xs font-bold rounded border border-blue-100 uppercase",children:[t,y.jsx(Sn,{className:"w-3 h-3 cursor-pointer hover:text-indigo-900",onClick:()=>this.handleRemoveMod(t)})]},i)),this.state.mods.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No mods added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search mods to add...",value:this.state.modSearch,onChange:this.handleModSearchChange,onKeyDown:this.handleModKeyDown})}),this.state.modResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.modResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeModIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddMod(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(qo,{className:`text-gray-400 ${i===this.state.activeModIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Arcanes"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.arcanes.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-50 text-purple-700 text-xs font-bold rounded border border-purple-100 uppercase",children:[t,y.jsx(Sn,{className:"w-3 h-3 cursor-pointer hover:text-purple-900",onClick:()=>this.handleRemoveArcane(t)})]},i)),this.state.arcanes.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No arcanes added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search arcanes to add...",value:this.state.arcaneSearch,onChange:this.handleArcaneSearchChange,onKeyDown:this.handleArcaneKeyDown})}),this.state.arcaneResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.arcaneResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeArcaneIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddArcane(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(qo,{className:`text-gray-400 ${i===this.state.activeArcaneIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"build-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"build-notes",className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none text-sm",value:this.state.notes,onChange:this.handleNotesChange})]})]})}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(fn,{})," ",this.props.title?"Update Build":"Add Build"]})})]})})]})}}$_.propTypes={id:R.string,title:R.string,itemName:R.string,notes:R.string,auraMods:R.arrayOf(R.string),mods:R.arrayOf(R.string),arcanes:R.arrayOf(R.string),availableMods:R.arrayOf(R.string),availableArcanes:R.arrayOf(R.string),onSave:R.func.isRequired,trigger:R.element,forceOpen:R.bool};const k2=({builds:r,onBuildAdd:e,onBuildRemove:t,onBuildUpdate:i,mods:a,arcanes:l})=>{const c=K0(Ia(r),["itemName","title"]),d=mf(c,v=>v.itemName||"Other"),g=ti(d).sort().map(v=>{const b=d[v],x=`https://wiki.warframe.com/w/${v.split(" ").join("_")}`;return y.jsxs(Yt.Fragment,{children:[y.jsx("tr",{className:"bg-gray-50 border-t border-b border-gray-100",children:y.jsx("td",{colSpan:"3",className:"py-1.5 px-3 font-bold text-gray-700 text-[10px] uppercase tracking-wider",children:v!=="Other"?y.jsx("a",{href:x,target:"_blank",rel:"noreferrer",className:"hover:underline",children:v}):v})}),b.map((S,M)=>{const P=S.id||S.title;return y.jsxs("tr",{className:"border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-4 align-top",children:y.jsx("div",{className:"flex flex-col",children:y.jsx($_,{id:S.id,title:S.title,itemName:S.itemName,notes:S.notes,auraMods:S.auraMods,mods:S.mods,arcanes:S.arcanes,availableMods:a,availableArcanes:l,onSave:k=>i(P,k),trigger:y.jsx("span",{className:"text-sky-700 font-bold hover:underline cursor-pointer",children:S.title})})})}),y.jsx("td",{className:"py-1 px-2 align-top",children:y.jsxs("div",{className:"flex flex-col gap-1",children:[S.auraMods&&S.auraMods.length>0&&y.jsx("div",{className:"grid grid-cols-4 gap-1",children:[...S.auraMods||[]].map((k,F)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-cyan-800 text-[10px] font-bold rounded border border-blue-100 uppercase truncate",title:k,children:k},F))}),S.mods&&S.mods.length>0&&y.jsx("div",{className:"grid grid-cols-4 gap-1",children:[...S.mods||[]].map((k,F)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-indigo-800 text-[10px] font-bold rounded border border-blue-100 uppercase truncate",title:k,children:k},F))}),S.arcanes&&S.arcanes.length>0&&y.jsx("div",{className:"flex flex-wrap gap-1",children:S.arcanes.map((k,F)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-purple-50 text-yellow-700 text-[10px] font-bold rounded border border-purple-100 uppercase",children:k},F))}),S.notes&&y.jsx("div",{className:"text-gray-500 italic text-sm",children:Y0(S.notes)})]})}),y.jsx("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1 align-top",children:y.jsx(Sn,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:()=>{window.confirm(`Are you sure you want to delete the build "${S.title}"?`)&&t(P)}})})]},`${P}-${M}`)})]},v)});return y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"flex justify-end",children:y.jsx($_,{availableMods:a,availableArcanes:l,onSave:e,trigger:y.jsx("button",{className:"px-4 py-2 bg-black text-white rounded-md font-bold text-sm",children:"Add Build"})})}),c.length>0?y.jsx("div",{className:"overflow-hidden",children:y.jsx("table",{className:"w-full border-collapse bg-white",children:y.jsx("tbody",{children:g})})}):y.jsx("div",{className:"py-10 text-center text-gray-400 italic",children:'No builds added yet. Click "Add Build" to start.'})]})};k2.propTypes={builds:R.object,onBuildAdd:R.func.isRequired,onBuildRemove:R.func.isRequired,onBuildUpdate:R.func.isRequired,mods:R.arrayOf(R.string),arcanes:R.arrayOf(R.string)};class M2 extends Yt.Component{renderItems(e,t,i){return y.jsx("ul",{className:"list-none p-0 m-0",children:e.map((a,l)=>this.renderItem(a,l,t,i))})}buildItemMap(e,t=new Map){return!e||!e.length||e.forEach(i=>{!i||typeof i!="object"||(i.title&&!t.has(i.title)&&t.set(i.title,i),i.key&&!t.has(i.key)&&t.set(i.key,i),i.items&&i.items.length&&this.buildItemMap(i.items,t))}),t}handleItemClick(e){return t=>{const i=typeof e=="object"&&e!==null?e.key||e.title:e;this.props.onItemClick(i),t.stopPropagation()}}handleClearClick(e){return t=>{this.props.onClear(e.map(i=>typeof i=="object"&&i!==null?i.key||i.title:i)),t.stopPropagation()}}renderLocation(e){return!e||!e.length||e===""?null:(Array.isArray(e)?e:[e]).map((i,a)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:i},a))}formatDuration(e){const t=Math.max(0,Math.floor(e/6e4)),i=t%60,a=Math.floor(t/60),l=a%24,c=Math.floor(a/24),d=[];return c&&d.push(`${c}d`),(l||c)&&d.push(`${l}h`),d.push(`${i}m`),d.join(" ")}getResetCountdown(e){if(!e||e.scheduleType)return null;const t=e.scheduleAnchorUtc||e.scheduleAnchor;if(!t||!e.interval)return null;const i=new Date(t);if(Number.isNaN(i.getTime()))return null;const a=this.parseInterval(e.interval);if(!a)return null;const l=new Date;if(l<i)return`Resets in ${this.formatDuration(i.getTime()-l.getTime())}`;const d=(l.getTime()-i.getTime())%a,p=a-d;return`Resets in ${this.formatDuration(p)}`}formatDurationVerbose(e){const t=Math.max(0,Math.floor(e/1e3)),i=t%60,a=Math.floor(t/60),l=a%60,c=Math.floor(a/60),d=c%24,p=Math.floor(c/24),g=[];return p&&g.push(`${p} ${p===1?"day":"days"}`),(d||p)&&g.push(`${d} ${d===1?"hour":"hours"}`),(l||d||p)&&g.push(`${l} ${l===1?"minute":"minutes"}`),g.push(`${i} ${i===1?"second":"seconds"}`),g.join(" ")}getScheduleInfo(e){if(!e||!e.scheduleType)return null;const t=e.scheduleAnchorUtc||e.scheduleAnchor;if(!t)return null;const i=new Date(t);if(Number.isNaN(i.getTime()))return null;const a=new Date;if(e.scheduleType==="availability-window"){const l=this.parseInterval(e.interval),c=this.parseInterval(e.duration||"48h");if(!l||!c)return null;if(a<i){const g=i.getTime()-a.getTime();return{statusText:`Will appear in ${this.formatDuration(g)}`,isPresent:!1}}const d=(a.getTime()-i.getTime())%l;if(d<c){const g=c-d;return{statusText:`Present for the next ${this.formatDuration(g)}`,isPresent:!0}}const p=l-d;return{statusText:`Will appear in ${this.formatDuration(p)}`,isPresent:!1}}if(e.scheduleType==="rotation"){const l=this.parseInterval(e.interval);if(!l||!e.rotations||!e.rotations.length)return null;if(a<i){const S=i.getTime()-a.getTime(),M=e.rotations.length,P=e.rotations[M-1];return{statusText:`${P.title}. Time left until ${e.rotations[0].title}: ${this.formatDurationVerbose(S)}`,currentRotation:P}}const c=a.getTime()-i.getTime(),d=e.rotations.length,p=Math.floor(c/l)%d,g=e.rotations[p],v=e.rotations[(p+1)%d],x=i.getTime()+(Math.floor(c/l)+1)*l-a.getTime();return{statusText:`${g.title}. Time left until ${v.title}: ${this.formatDurationVerbose(x)}`,currentRotation:g}}return null}parseInterval(e){if(!e)return null;if(typeof e=="number")return e;const t=String(e).trim().match(/^(\d+)\s*(ms|s|m|h|d|w)$/i);if(!t)return null;const i=Number(t[1]);switch(t[2].toLowerCase()){case"ms":return i;case"s":return i*1e3;case"m":return i*60*1e3;case"h":return i*60*60*1e3;case"d":return i*24*60*60*1e3;case"w":return i*7*24*60*60*1e3;default:return null}}getScheduleStatus(e){const t=this.getScheduleInfo(e);return t?t.statusText:null}isScheduleReadOnly(e){const t=this.getScheduleInfo(e);return t?t.isPresent===!1:!1}getCompletedIfIdentifiers(e){return!e||!e.completedIf?[]:Array.isArray(e.completedIf)?e.completedIf:[e.completedIf]}isItemCompleted(e,t,i=new Set){if(!e)return!1;if(e.checked)return!0;const a=this.getCompletedIfIdentifiers(e);if(!a.length||i.has(e))return!1;i.add(e);const l=a.some(c=>{const d=t.get(c);return d?this.isItemCompleted(d,t,i):!1});return i.delete(e),l}isCompletedByDependencies(e,t){const i=this.getCompletedIfIdentifiers(e);return i.length?i.some(a=>{const l=t.get(a);return l?this.isItemCompleted(l,t,new Set([e])):!1}):!1}renderItem(e,t,i,a){if(!e||e.hidden)return null;const l=e.readOnly,c=this.isCompletedByDependencies(e,a),d=e.checked||c;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(e).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const p=this.props.visibilityFilter===Jt.SHOW_ACTIVE&&d,g=typeof e=="string"||e instanceof String?e:e.title,v=!!e.items,b=d?"text-green-500":"text-gray-400",x=e.tags?e.tags.map((B,W)=>B==="missable"?y.jsx("span",{title:B,className:"text-red-600 ml-1 inline-block font-normal",children:y.jsx(Ff,{})},W):null):null,S=e.hint?y.jsxs("span",{className:"opacity-40 text-sm italic font-normal",children:[" ",e.hint]}):null,M=this.getScheduleStatus(e),P=this.getResetCountdown(e),k=this.isScheduleReadOnly(e),F=!e.items&&!(l||i||c||k);return y.jsx("li",{className:`py-0.5 rounded-sm ${v?"mt-1.5":""}`,children:y.jsxs("div",{className:"flex items-start",children:[!(l||i||k)&&y.jsx("div",{className:`mr-1 shrink-0 flex items-center h-[1.35em] ${b} ${F?"cursor-pointer":""} ${p?"opacity-40":""}`,onClick:F?this.handleItemClick(e):void 0,children:e.items?d?y.jsx(fn,{}):y.jsx(N0,{}):d?y.jsx(fn,{}):y.jsx(Bf,{})}),y.jsxs("div",{className:"grow",children:[y.jsxs("div",{className:"leading-tight",children:[e.items&&e.readOnly?y.jsxs("span",{className:`underline font-bold text-gray-900 text-base ${p?"opacity-40":""}`,children:[g,S,x]}):i?y.jsxs("span",{className:`font-normal text-gray-700 text-sm ${p?"opacity-40":""}`,children:[g,S,x]}):y.jsxs("span",{className:`font-bold text-gray-900 text-base ${p?"opacity-40":""}`,children:[g,S,x]}),e.url?y.jsx("a",{href:e.url,title:"wiki",className:"ml-1 text-gray-500 opacity-70 hover:opacity-100 inline-block",target:"_blank",rel:"noopener noreferrer",onClick:B=>B.stopPropagation(),children:y.jsx(Qo,{})}):null,e.isVaulted?y.jsx("span",{title:"Vaulted",className:"ml-1 text-gray-500 inline-block",children:y.jsx(Hf,{})}):null,e.partOf?y.jsx("span",{title:`Part of ${e.partOf.join(", ")}`,className:"ml-1 text-gray-500 inline-block",children:y.jsx(nc,{})}):null,e.items&&e.props&&e.props.includes("clearable")?y.jsx("span",{title:"Clear",className:"ml-1 text-red-600 opacity-70 hover:opacity-100 cursor-pointer inline-block",onClick:this.handleClearClick(e.items),children:y.jsx(O0,{})}):null]}),e.description?Array.isArray(e.description)?e.description.map((B,W)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:B},W)):y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:e.description}):null,P?y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:P}):null,M?y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:M}):null,this.renderLocation(e.location),e.items&&e.items.length?y.jsx("div",{className:"ml-2",children:this.renderItems(e.items,l,a)}):null]})]})},t)}render(){if(!this.props.items||!this.props.items.length)return y.jsx("div",{className:"text-gray-500 italic",children:"No items"});const e=this.buildItemMap(this.props.items);return y.jsx("div",{className:"mb-4",children:this.renderItems(this.props.items,void 0,e)})}}M2.propTypes={items:R.arrayOf(R.oneOfType([R.string,R.shape({title:R.string,url:R.string,icon:R.string,description:R.oneOfType([R.string,R.arrayOf(R.string)]),location:R.oneOfType([R.string,R.arrayOf(R.string)]),checked:R.bool,items:R.array,tags:R.arrayOf(R.string),hint:R.string,readOnly:R.bool,hidden:R.bool,key:R.string,isVaulted:R.bool,partOf:R.arrayOf(R.string),props:R.arrayOf(R.string),completedIf:R.oneOfType([R.string,R.arrayOf(R.string)]),schedule:R.string,scheduleAnchorUtc:R.string,scheduleAnchor:R.string,interval:R.oneOfType([R.string,R.number]),duration:R.oneOfType([R.string,R.number]),scheduleType:R.oneOf(["availability-window","rotation"]),rotations:R.arrayOf(R.shape({title:R.string,items:R.array}))})])),onItemClick:R.func.isRequired,onClear:R.func.isRequired,visibilityFilter:R.string,searchFilter:R.string};class j2 extends Yt.Component{handleItemClick(e){return t=>{this.props.onItemClick(e),t.stopPropagation()}}renderBody(){const e=this.props.items.map((t,i)=>{const a=this.props.visibilityFilter===Jt.SHOW_ACTIVE&&t.checked;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(t).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const l=t.Tier?t.Tier[4]:null;return y.jsxs("tr",{className:`${t.checked?"bg-green-50":""} ${a?"opacity-30":""} border-b border-gray-100 last:border-0`,children:[y.jsx("td",{className:"py-1 px-3 align-middle text-gray-900",children:y.jsx("div",{className:"flex items-center gap-1.5",children:y.jsx("span",{className:"text-base leading-tight",children:t.title})})}),y.jsx("td",{className:"py-1 px-2 align-middle",children:y.jsxs("div",{className:"flex items-center gap-2",children:[t.crafting?y.jsx(nc,{className:"text-gray-400"}):null,t.canAppearInChest?y.jsx(N5,{className:"text-gray-400"}):null]})}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Popular)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Popular + Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Popular)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Popular + Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm text-center",children:l}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t.Culture})]},i)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:e})}render(){return y.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:y.jsxs("table",{className:"w-full border-collapse bg-white",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-3 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Name"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Props"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (P)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (P+R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (P)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (P+R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Tier"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Culture"})]})}),this.renderBody()]})})}}j2.propTypes={items:R.arrayOf(R.shape({title:R.string,"Perfect Price":R.number,"Perfect Price (Popular)":R.number,"Perfect Price (Rich)":R.number,"Perfect Price (Popular + Rich)":R.number,"Max Price":R.number,"Max Price (Popular)":R.number,"Max Price (Rich)":R.number,"Max Price (Popular + Rich)":R.number,Tier:R.string,Culture:R.string,maxStack:R.number,minChestStack:R.number,maxChestStack:R.number,canAppearInChest:R.bool,crafting:R.bool})),onItemClick:R.func.isRequired,visibilityFilter:R.string,searchFilter:R.string};class V2 extends Yt.Component{formatWorkshopReason(e){const t=e.filter(l=>l!=="Workshop"),i={1:"I",2:"II",3:"III",4:"IV",5:"V"};return t.map(l=>{const c=l.match(/^(?:Level )?(\d+)(?:\s+-\s+.+)?$/);if(c){const d=parseInt(c[1],10);return i[d]||l}return l}).join(" ")}formatProjectReason(e){return e.filter(i=>i!=="Goals").map(i=>i.startsWith("Project: ")?i.substring(9):i).filter(i=>!i.match(/^.+\s+\d+\/\d+$/)).join(" ")}extractNeededItems(){const e=[],t={};if(this.props.goalsItems&&this.props.goalsChecked){const i=(a,l=[])=>{!a||!Array.isArray(a)||a.forEach(c=>{const d=[...l,c.title];if(c.key&&!Object.prototype.hasOwnProperty.call(this.props.goalsChecked,c.key)){const g=c.title.match(/^(\d+)x\s+(.+)$/),v=g?parseInt(g[1],10):1,b=g?g[2]:c.title;e.push({title:b,quantity:v,url:c.url,key:c.key}),t[b]||(t[b]={workshop:[],projects:[],quests:[]});const x=l[0],S=d.slice(0,-1);if(x==="Workshop"){const M=this.formatWorkshopReason(S),P=`${v}x ${M}`;t[b].workshop.push(P)}else if(x&&x.startsWith("Project:")){const M=this.formatProjectReason(S),P=`${v}x ${M}`;t[b].projects.push(P)}}c.items&&i(c.items,d)})};this.props.goalsItems.forEach(a=>{a.items&&i(a.items,[a.title])})}return this.props.questsItems&&this.props.questsChecked&&this.props.questsItems.forEach(i=>{const a=i.title;if(!a)return;!Object.prototype.hasOwnProperty.call(this.props.questsChecked,a)&&Array.isArray(i.required_items)&&i.required_items.forEach(c=>{if(c.title){const d=c.quantity||1;e.push({title:c.title,quantity:d,url:c.url}),t[c.title]||(t[c.title]={workshop:[],projects:[],quests:[]});const p=`${d}x ${i.title}`;t[c.title].quests.push(p)}})}),{neededItems:e,itemReasons:t}}handleKeepCheckbox(e){return()=>{const t=`resource-${e}`;this.props.onItemClick(t)}}getRarityClass(e){if(!e)return"border-gray-500";switch(e.toLowerCase()){case"common":return"border-gray-500";case"uncommon":return"border-green-500";case"rare":return"border-blue-600";case"epic":return"border-purple-600";case"legendary":return"border-orange-500";default:return"border-gray-500"}}renderCellValue(e){return Array.isArray(e)?y.jsx("ul",{className:"list-none m-0 p-0",children:e.map((t,i)=>y.jsx("li",{className:"leading-tight mb-0.5 last:mb-0",children:t},i))}):e}renderBody(){const{neededItems:e,itemReasons:t}=this.extractNeededItems(),i=new Map;e.forEach(c=>{const d=i.get(c.title)||0;i.set(c.title,d+c.quantity)});const l=[...this.props.items].sort((c,d)=>{const p=`resource-${c.title}`,g=`resource-${d.title}`,v=Object.prototype.hasOwnProperty.call(this.props.checkedList,p),b=Object.prototype.hasOwnProperty.call(this.props.checkedList,g),x=i.has(c.title),S=i.has(d.title);if(v&&!b)return-1;if(!v&&b)return 1;if(!v&&!b){if(x&&!S)return-1;if(!x&&S)return 1}return(c.title||"").localeCompare(d.title||"")}).map((c,d)=>{const p=this.props.visibilityFilter===Jt.SHOW_ACTIVE&&c.checked;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(c).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const g=this.getRarityClass(c.rarity),v=`resource-${c.title}`,b=Object.prototype.hasOwnProperty.call(this.props.checkedList,v),x=p?"opacity-30":"",S=c.icon?y.jsx("img",{src:c.icon,alt:c.title,className:"w-12 h-12 mx-auto object-contain"}):null,M=i.get(c.title)||null,P=t[c.title]||{workshop:[],projects:[],quests:[]},k=P.workshop.length>0?P.workshop:null,F=P.quests.length>0?P.quests:null,B=P.projects.length>0?P.projects:null;return y.jsxs("tr",{className:`${c.checked?"bg-green-50":""} ${x} hover:bg-black/[0.01] transition-colors border-b border-gray-100 last:border-0`,children:[y.jsx("td",{className:`py-1 px-2 text-center align-middle cursor-pointer ${b?"bg-green-500/10":""}`,onClick:this.handleKeepCheckbox(c.title),children:y.jsx("div",{className:`w-4 h-4 mx-auto border rounded-[2px] flex items-center justify-center ${b?"bg-green-500 border-green-500":"bg-white border-gray-300"}`,children:b&&y.jsx(fn,{className:"text-[10px] text-white"})})}),y.jsx("td",{className:"py-1 px-2 align-middle text-center",children:y.jsx("div",{className:"w-12 h-12 flex items-center justify-center mx-auto",children:c.url?y.jsx("a",{href:c.url,title:"wiki",target:"_blank",rel:"noopener noreferrer",className:"block w-full h-full",children:S}):S})}),y.jsx("td",{className:`py-1 px-3 align-middle font-bold text-gray-900 border-l-4 ${g}`,children:y.jsxs("div",{className:"flex items-center gap-1.5",children:[c.checked&&y.jsx(fn,{className:"text-green-500 shrink-0"}),y.jsx("span",{className:"text-base leading-tight",children:c.title})]})}),y.jsx("td",{className:`py-1 px-2 text-center align-middle font-bold text-sm ${M?"bg-orange-400/10 text-orange-700":"text-gray-400"}`,children:M||""}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.recycles)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.sell_price)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(k)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(F)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(B)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.keep_for_crafting)})]},d)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:l})}render(){return y.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:y.jsxs("table",{className:"w-full border-collapse bg-white",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Keep"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Icon"}),y.jsx("th",{className:"py-2 px-3 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Name"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Needed"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Recycles"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Sell Price"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Workshop"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Quests"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Projects"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Crafting"})]})}),this.renderBody()]})})}}V2.propTypes={items:R.arrayOf(R.shape({title:R.string,icon:R.string,url:R.string,rarity:R.string,recycles:R.oneOfType([R.string,R.arrayOf(R.string)]),sell_price:R.oneOfType([R.number,R.string]),category:R.string,keep_for_crafting:R.oneOfType([R.number,R.string,R.bool,R.arrayOf(R.string)])})),checkedList:R.object.isRequired,goalsItems:R.array,goalsChecked:R.object,questsItems:R.array,questsChecked:R.object,onItemClick:R.func.isRequired,visibilityFilter:R.string,searchFilter:R.string};var xv,FA;function sL(){if(FA)return xv;FA=1;var r=Object.prototype,e=r.hasOwnProperty;function t(i,a){return i!=null&&e.call(i,a)}return xv=t,xv}var Sv,HA;function aL(){if(HA)return Sv;HA=1;var r=sL(),e=x2();function t(i,a){return i!=null&&e(i,a,r)}return Sv=t,Sv}var oL=aL();const ju=Qt(oL);var wv,GA;function Q0(){if(GA)return wv;GA=1;function r(e,t){var i=-1,a=e.length;for(t||(t=Array(a));++i<a;)t[i]=e[i];return t}return wv=r,wv}var Av,$A;function lL(){if($A)return Av;$A=1;var r=nd(),e=$0(),t=Q0(),i=pn();function a(){var l=arguments.length;if(!l)return[];for(var c=Array(l-1),d=arguments[0],p=l;p--;)c[p-1]=arguments[p];return r(i(d)?t(d):[d],e(c,1))}return Av=a,Av}var uL=lL();const cL=Qt(uL);class P2 extends Yt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",modalOpen:!1},this.handleChange=this.handleChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleChange(e){this.setState({notes:e.target.value})}handleSave(){this.props.onSave(this.state.notes.trim()),this.handleClose()}handleOpen(){this.setState({modalOpen:!0})}handleClose(){this.setState({modalOpen:!1})}renderPlaces(){return this.props.places?y.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 mb-4 space-y-1",children:G0(this.props.places,"zone","area").map((e,t)=>y.jsx("li",{children:[e.zone,e.name].filter(i=>!!i).join(" - ")},t))}):null}render(){return y.jsxs(y.Fragment,{children:[y.jsx(Gf,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(Sn,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto flex flex-col",children:[this.renderPlaces(),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"ffxiv-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"ffxiv-notes",autoFocus:!0,className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleChange})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(fn,{})," Save"]})})]})})]})}}P2.propTypes={title:R.string.isRequired,places:R.array,notes:R.string,onSave:R.func.isRequired};const hL={red:"text-red-600",orange:"text-orange-500",yellow:"text-yellow-500",olive:"text-lime-600",green:"text-green-500",teal:"text-teal-500",blue:"text-sky-700",violet:"text-violet-600",purple:"text-purple-600",pink:"text-pink-500",brown:"text-amber-700",grey:"text-gray-500",black:"text-gray-900"},KA=["red","olive","yellow","green","teal","blue","orange","violet","purple","pink","brown","grey","black"],xu={isLoading:!1,results:[],value:""};class L2 extends Yt.Component{constructor(e){super(e),this.state=xu,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=od(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(xu)}handleKeyPress(e){e.key==="Enter"&&this.state.value&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:this.state.value}),this.setState(xu))}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return t=>{this.props.onItemUpdate(e,t)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t}),t.length<1){this.setState(xu);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(xu);return}const t=new RegExp(Ra(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:Ca(this.props.items,i)})}formatPlaces(e,t=!1){return!e||!e.length?null:t?e.slice(0,1).map(i=>[i.zone,i.name].filter(a=>!!a).join(" - ")):e.map(i=>[i.zone,i.name].filter(a=>!!a).join(" - ")).join(" /// ")}resultRenderer({title:e,places:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:this.formatPlaces(t)})]},"content")}renderTypeIcon(e){switch(e.type){case"e":return y.jsx(F5,{className:"text-red-600 text-xs align-middle mr-1",title:"Enemy"});case"m":return y.jsx(Yx,{className:"text-yellow-500 text-xs align-middle mr-1",title:"Mining"});case"q":return y.jsx(Yx,{className:"text-yellow-500 text-xs align-middle mr-1 opacity-50",title:"Quarrying"});case"l":return y.jsx(H5,{className:"text-green-500 text-xs align-middle mr-1",title:"Logging"});case"h":return y.jsx(G5,{className:"text-green-500 text-xs align-middle mr-1",title:"Harvesting"});case"f":return y.jsx(K5,{className:"text-sky-700 text-xs align-middle mr-1",title:"Fish"});default:return null}}renderTable(){const e=Ia(this.props.todoItems);if(!e.length)return null;const t=[];e.forEach(c=>{const d=ju(c,"places.0.zone")?ni(c,"places.0.zone"):ni(c,"notes");t.includes(d)||t.push(d)});let i=[];const a=mf(e,"places.0.area");ti(a).sort().forEach(c=>{const d=a[c],p=mf(d,"places.0.zone");ti(p).sort().forEach(g=>{const v=p[g];i=cL(i,G0(v,"places.0.name"))})});const l=i.map(c=>{let d=c.title;const p=ju(c,"places.0.zone")?ni(c,"places.0.zone"):ni(c,"notes"),g=KA[t.indexOf(p)%KA.length],v=y.jsx($5,{className:`${hL[g]||"text-gray-400"} align-middle mr-1`});c.count&&(d=`${d} x${c.count}`);const b=`https://ffxiv.gamerescape.com/wiki/${c.title.split(" ").join("_")}`;let x;return c.places&&c.notes&&c.notes!==""?x=y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[v,this.formatPlaces(c.places,!0)]}),y.jsx("div",{className:"text-gray-500 text-xs italic",children:c.notes})]}):c.places?x=y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[v,this.formatPlaces(c.places,!0)]}):x=y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[v,c.notes]}),y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"shrink-0",children:this.renderTypeIcon(c)}),y.jsxs("div",{className:"ml-1",children:[y.jsx("a",{href:b,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline font-bold leading-tight block",children:d}),x]})]})}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1 align-top",children:[y.jsx(P2,{title:c.title,places:c.places,notes:c.notes,onSave:this.handleItemUpdate(c.title)}),y.jsx(qo,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(c.title)}),y.jsx(k0,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(c.title)}),y.jsx(Sn,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(c.title)})]})]},d)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:l})})}render(){const{isLoading:e,value:t,results:i}=this.state;return y.jsxs("div",{children:[ti(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(rc,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item or enemy name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyPress:this.handleKeyPress}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vs,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((a,l)=>y.jsx("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-0",onClick:c=>this.handleResultSelect(c,{result:a}),children:this.resultRenderer(a)},l))})]}),this.renderTable()]})}}L2.propTypes={items:R.arrayOf(R.object),todoItems:R.object,onItemAdd:R.func.isRequired,onItemRemove:R.func.isRequired,onItemIncrement:R.func.isRequired,onItemDecrement:R.func.isRequired,onItemUpdate:R.func.isRequired};class U2 extends Yt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",count:this.props.count||0,modalOpen:!1},this.handleNotesChange=this.handleNotesChange.bind(this),this.handleCountChange=this.handleCountChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleNotesChange(e){this.setState({notes:e.target.value})}handleCountChange(e){const t=e.target.value;if(t===""||t===void 0)this.setState({count:0});else{const i=parseInt(t,10);!isNaN(i)&&i>=0&&this.setState({count:i})}}handleSave(){this.props.onSave(this.state.notes.trim(),this.state.count),this.handleClose()}handleOpen(){this.setState({modalOpen:!0,notes:this.props.notes||"",count:this.props.count||0})}handleClose(){this.setState({modalOpen:!1})}render(){return y.jsxs(y.Fragment,{children:[y.jsx(Gf,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.url?y.jsx("a",{href:this.props.url,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:this.props.title}):this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(Sn,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto",children:[this.props.category&&y.jsxs("p",{className:"mb-4 text-sm",children:[y.jsx("strong",{children:"Category:"})," ",this.props.category]}),y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"todo-count",className:"block text-sm font-bold text-gray-700 mb-1",children:"Count"}),y.jsx("input",{id:"todo-count",type:"number",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",value:this.state.count,onChange:this.handleCountChange,min:"0"})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"todo-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"todo-notes",autoFocus:!0,className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleNotesChange})]})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(fn,{})," Save"]})})]})})]})}}U2.propTypes={title:R.string.isRequired,category:R.string,url:R.string,notes:R.string,count:R.number,onSave:R.func.isRequired};const Su={isLoading:!1,results:[],value:"",activeIndex:0},YA="https://wiki.avakot.org/";class q2 extends Yt.Component{constructor(e){super(e),this.state=Su,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=od(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(Su)}handleKeyDown(e){const{results:t,activeIndex:i,value:a}=this.state;if(e.key==="ArrowDown"&&t.length){e.preventDefault(),this.setState({activeIndex:(i+1)%t.length});return}if(e.key==="ArrowUp"&&t.length){e.preventDefault(),this.setState({activeIndex:(i-1+t.length)%t.length});return}if(e.key==="Enter"){if(t.length&&t[i]){e.preventDefault(),this.handleResultSelect(e,{result:t[i]});return}a&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:a}),this.setState(Su))}}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return(t,i)=>{this.props.onItemUpdate(e,t,i)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t,activeIndex:0}),t.length<1){this.setState(Su);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(Su);return}const t=new RegExp(Ra(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:Ca(this.props.items,i),activeIndex:0})}resultRenderer({title:e,category:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:t})]},"content")}renderTable(){const e=K0(Ia(this.props.todoItems),["category","title"]);if(!e.length)return null;const t=e.map((i,a)=>{let l=i.title;i.count&&(l=`${l} x${i.count}`);const c=i.url||(i.title?`${YA}${encodeURIComponent(i.title.replace(/\s+/g,"_"))}`:YA);return y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsx("a",{href:c,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:l})}),y.jsx("td",{className:"py-1 px-2 text-gray-500",children:i.category}),y.jsx("td",{className:"py-1 px-2 text-gray-500 italic text-sm",children:Y0(i.notes)}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1",children:[y.jsx(U2,{title:i.title,category:i.category,url:i.url,notes:i.notes,count:i.count,onSave:this.handleItemUpdate(i.title)}),y.jsx(qo,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(i.title)}),y.jsx(k0,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(i.title)}),y.jsx(Sn,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(i.title)})]})]},`${i.category||""}-${i.title}-${a}`)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:t})})}render(){const{isLoading:e,value:t,results:i,activeIndex:a}=this.state;return y.jsxs("div",{children:[ti(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(rc,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyDown:this.handleKeyDown}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vs,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((l,c)=>y.jsx("div",{className:`px-3 py-2 cursor-pointer border-b border-gray-100 last:border-0 ${c===a?"bg-gray-100":"hover:bg-gray-50"}`,onClick:d=>this.handleResultSelect(d,{result:l}),children:this.resultRenderer(l)},c))})]}),this.renderTable()]})}}q2.propTypes={items:R.arrayOf(R.object),todoItems:R.object,onItemAdd:R.func.isRequired,onItemRemove:R.func.isRequired,onItemIncrement:R.func.isRequired,onItemDecrement:R.func.isRequired,onItemUpdate:R.func.isRequired};var Rv,QA;function fL(){if(QA)return Rv;QA=1;var r=Ua(),e=pn(),t=ui(),i="[object String]";function a(l){return typeof l=="string"||!e(l)&&t(l)&&r(l)==i}return Rv=a,Rv}var dL=fL();const Ss=Qt(dL);var Cv,XA;function X0(){if(XA)return Cv;XA=1;var r=$f(),e=ic(),t=Object.prototype,i=t.hasOwnProperty;function a(l,c,d){var p=l[c];(!(i.call(l,c)&&e(p,d))||d===void 0&&!(c in l))&&r(l,c,d)}return Cv=a,Cv}var Iv,WA;function pL(){if(WA)return Iv;WA=1;var r=X0(),e=ac(),t=Qf(),i=hr(),a=ul();function l(c,d,p,g){if(!i(c))return c;d=e(d,c);for(var v=-1,b=d.length,x=b-1,S=c;S!=null&&++v<b;){var M=a(d[v]),P=p;if(M==="__proto__"||M==="constructor"||M==="prototype")return c;if(v!=x){var k=S[M];P=g?g(k,M,S):void 0,P===void 0&&(P=i(k)?k:t(d[v+1])?[]:{})}r(S,M,P),S=S[M]}return c}return Iv=l,Iv}var Nv,JA;function mL(){if(JA)return Nv;JA=1;var r=pL();function e(t,i,a){return t==null?t:r(t,i,a)}return Nv=e,Nv}var gL=mL();const xa=Qt(gL),yL=r=>{if(!r)return null;if(typeof r=="number")return r;const e=String(r).trim().match(/^(\d+)\s*(ms|s|m|h|d|w)$/i);if(!e)return null;const t=Number(e[1]);switch(e[2].toLowerCase()){case"ms":return t;case"s":return t*1e3;case"m":return t*60*1e3;case"h":return t*60*60*1e3;case"d":return t*24*60*60*1e3;case"w":return t*7*24*60*60*1e3;default:return null}},vL=(r,e)=>{let t=e?.anchorMs??null,i=e?.intervalMs??null;const a=r.scheduleAnchorUtc||r.scheduleAnchor;if(a){const l=Date.parse(a);Number.isNaN(l)||(t=l)}if(r.interval){const l=yL(r.interval);l&&(i=l)}return{anchorMs:t,intervalMs:i}},z2=(r,e=null,t=new Map)=>(Array.isArray(r)&&r.forEach(i=>{if(Ss(i)){e?.anchorMs&&e?.intervalMs&&t.set(i,e);return}if(!i)return;const a=vL(i,e);if(Array.isArray(i.items)&&i.items.length){z2(i.items,a,t);return}if(a?.anchorMs&&a?.intervalMs){const c=i.key||i.title;c&&t.set(c,a)}}),t),_L=(r,e)=>{if(!r)return{filteredChecked:r,expiredKeys:[]};if(!e||!e.size)return{filteredChecked:r,expiredKeys:[]};const t={},i=[],a=Date.now();return Object.keys(r).forEach(l=>{const c=r[l],d=e.get(l);if(!d||!Number.isFinite(d.anchorMs)||!Number.isFinite(d.intervalMs)){t[l]=c;return}if(typeof c!="number"){t[l]=c;return}if(d.intervalMs<=0){t[l]=c;return}const p=c-d.anchorMs,g=p>=0?Math.floor(p/d.intervalMs):-1,v=a-d.anchorMs,b=v>=0?Math.floor(v/d.intervalMs):-1;g===b?t[l]=c:i.push(l)}),{filteredChecked:t,expiredKeys:i}},B2=({configs:r})=>{const{gameName:e}=ej(),t=T0(),i=t3(),[a,l]=z.useState(null),[c,d]=z.useState(!0),p=Ea(X=>X.gameConfig),g=Ea(X=>X.visibilityFilter),v=Ea(X=>X.relicVisibility),b=Ea(X=>X.searchFilter),x=Ea(X=>X.todoItems),S=Ea(X=>X.voidDrops),M=Ea(X=>X.markedRelics),k=r.find(X=>X.name===e)?.format??"yaml",F=z.useRef(a),B=z.useRef(e);F.current=a,B.current=e,z.useEffect(()=>{d(!0),$I(Object.assign({"../game-configs/arcraiders.yaml":()=>Xe(()=>import("./arcraiders-CGcPX7Cr.js"),[]),"../game-configs/d2.yaml":()=>Xe(()=>import("./d2-BjSTgg9v.js"),[]),"../game-configs/demonsouls.yaml":()=>Xe(()=>import("./demonsouls-C91dXxDH.js"),[]),"../game-configs/desperadosiii.yaml":()=>Xe(()=>import("./desperadosiii-DUwKvpm_.js"),[]),"../game-configs/eldenring.yaml":()=>Xe(()=>import("./eldenring-CAX0gqaT.js"),[]),"../game-configs/ff14.yaml":()=>Xe(()=>import("./ff14-nq4HI0FR.js"),[]),"../game-configs/ff7.yaml":()=>Xe(()=>import("./ff7-CYGlgb_3.js"),[]),"../game-configs/hades.yaml":()=>Xe(()=>import("./hades-BkYqhHey.js"),[]),"../game-configs/lordsofthefallen.yaml":()=>Xe(()=>import("./lordsofthefallen-vi3erB2s.js"),[]),"../game-configs/moonlighter.yaml":()=>Xe(()=>import("./moonlighter-DWWSqXAQ.js"),[]),"../game-configs/nioh2.yaml":()=>Xe(()=>import("./nioh2-CN3uolYz.js"),[]),"../game-configs/remnant.yaml":()=>Xe(()=>import("./remnant-EWC1nFV0.js"),[]),"../game-configs/remnant2.yaml":()=>Xe(()=>import("./remnant2-Drru-4q0.js"),[]),"../game-configs/riskofrain2.yaml":()=>Xe(()=>import("./riskofrain2-Du4jsvq1.js"),[]),"../game-configs/seaofthieves.yaml":()=>Xe(()=>import("./seaofthieves-DDa2AQaY.js"),[]),"../game-configs/shadowgambit.yaml":()=>Xe(()=>import("./shadowgambit-Cy1gMF9x.js"),[]),"../game-configs/soulframe.yaml":()=>Xe(()=>import("./soulframe-BUEpWpF6.js"),[]),"../game-configs/warframe.yaml":()=>Xe(()=>import("./warframe-BWqY-Vih.js"),[])}),`../game-configs/${e}.${k}`,3).then(X=>{l(X.default),d(!1)}).catch(X=>{console.error("Failed to load config",X),d(!1),l(null)})},[e,k]);const W=z.useMemo(()=>a?.renderer?Object.keys(a.renderer).filter(X=>a.renderer[X]==="warframe-resets"):[],[a]),le=z.useMemo(()=>{const X={};return a?.categories&&W.forEach(Q=>{X[Q]=z2(a.categories[Q])}),X},[a,W]),ce=z.useMemo(()=>{const X={};return W.forEach(Q=>{const pe=ni(p,[e,Q]);if(!pe)return;const Me=le[Q],{filteredChecked:be,expiredKeys:je}=_L(pe,Me);X[Q]={filteredChecked:be,expiredKeys:je}}),X},[p,e,W,le]);z.useEffect(()=>{W.forEach(X=>{const Q=ce[X];Q?.expiredKeys?.length&&i(Qx(e,X,Q.expiredKeys))})},[i,e,W,ce]),z.useEffect(()=>{const X=Q=>{if(Q.key<"1"||Q.key>"9"||Q.target.tagName==="INPUT"||Q.target.tagName==="TEXTAREA"||Q.metaKey||Q.ctrlKey)return;const pe=F.current;if(!pe?.categories)return;Q.preventDefault();const Me=parseInt(Q.key,10)-1,be=Object.getOwnPropertyNames(pe.categories);if(Me<be.length){const je=be[Me];t(`/${B.current}/${je}`)}};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[t]);const oe=z.useCallback(X=>Q=>{i(Q5(e,X,Q))},[i,e]),I=z.useCallback(X=>Q=>{i(Qx(e,X,Q))},[i,e]),C=z.useCallback(X=>Q=>{i(W5(e,X,Q))},[i,e]),O=z.useCallback(X=>Q=>{i(eP(e,X,Q))},[i,e]),j=z.useCallback(X=>Q=>{i(Z5(e,X,Q))},[i,e]),D=z.useCallback(X=>Q=>{i(nP(e,X,Q))},[i,e]),L=z.useCallback(X=>Q=>{i(J5(e,X,Q))},[i,e]),N=z.useCallback(X=>Q=>{i(tP(e,X,Q))},[i,e]),Re=z.useCallback(X=>(Q,pe)=>{i(aP(e,X,Q,pe))},[i,e]),Ne=z.useCallback(X=>Q=>{i(rP(e,X,Q))},[i,e]),ee=z.useCallback(X=>Q=>{i(iP(e,X,Q))},[i,e]),he=z.useCallback(X=>(Q,pe,Me)=>{i(sP(e,X,Q,pe,Me))},[i,e]),ye=z.useCallback((X,Q=new Map)=>(!X||!X.length||X.forEach(pe=>{!pe||typeof pe!="object"||(pe.title&&!Q.has(pe.title)&&Q.set(pe.title,pe),pe.key&&!Q.has(pe.key)&&Q.set(pe.key,pe),pe.items&&pe.items.length&&ye(pe.items,Q))}),Q),[]),Le=z.useCallback((X,Q,pe)=>!X||!X.completedIf?!1:(Array.isArray(X.completedIf)?X.completedIf:[X.completedIf]).some(be=>Object.prototype.hasOwnProperty.call(pe,be)),[]),Fe=z.useCallback((X,Q,pe,Me=null)=>{const be=X.map(Be=>Ss(Be)?Be:{...Be});let je=!0;return Me||(Me=ye(X)),be.forEach((Be,we)=>{let He,ze=!1;if(Ss(Be))He=Object.prototype.hasOwnProperty.call(Q,Be),xa(be,we,{title:Be,checked:He});else{const Ae=Be.key||Be.title;He=Object.prototype.hasOwnProperty.call(Q,Ae),ze=Le(Be,Me,Q),xa(be,[we,"checked"],He)}if(Be.items){const Ae=Fe(Be.items,Q,pe,Me);xa(be,[we,"items"],Ae.items),Ae.allChecked&&(He=!0,xa(be,[we,"checked"],!0))}else pe.total++,(He||ze)&&pe.checked++;!He&&!ze&&(je=!1)}),{items:be,allChecked:je,counter:pe}},[ye,Le]),U=(X,Q,pe)=>{const Me=new Set(["primary","secondary","melee","companions","archwing"]),be=new Set(["primary","secondary","melee"]);if(a.renderer&&a.renderer[Q]==="warframe")return y.jsx(S2,{items:X,onItemClick:oe(Q),visibilityFilter:g,searchFilter:b});if(a.renderer&&a.renderer[Q]==="ff14-todo"){const je={},Be=`${e}-`;return Object.keys(x).forEach(we=>{we.startsWith(Be)&&(je[we]=x[we])}),y.jsx(L2,{items:X,todoItems:je,onItemAdd:C(Q),onItemRemove:O(Q),onItemIncrement:Ne(Q),onItemDecrement:ee(Q),onItemUpdate:he(Q)})}else{if(a.renderer&&a.renderer[Q]==="moonlighter")return y.jsx(j2,{items:X,onItemClick:oe(Q),visibilityFilter:g,searchFilter:b});if(a.renderer&&a.renderer[Q]==="arcraiders"){const je=ni(p,[e,"Goals"]),Be={total:0,checked:0};let we=null;a.categories.Goals&&je?we=Fe(a.categories.Goals,je,Be).items:a.categories.Goals&&(we=a.categories.Goals);const He=ni(p,[e,"quests"]);let ze=null;return a.categories.quests&&(ze=a.categories.quests),y.jsx(V2,{items:X,checkedList:pe||{},goalsItems:we,goalsChecked:je||{},questsItems:ze,questsChecked:He||{},onItemClick:oe(Q),visibilityFilter:g,searchFilter:b})}else{if(a.renderer&&a.renderer[Q]==="void-planner")return y.jsx(A2,{items:X,voidDrops:S,onItemAdd:j(Q),onItemRemove:D(Q),onRelicToggle:je=>i(X5(je)),markedRelics:M,onRelicVisibilityToggle:je=>i(uP(je)),relicVisibility:v});if(a.renderer&&a.renderer[Q]==="warframe-todo"){const je=["warframes","primary","secondary","melee","companions","archwing","arcanes","mods"],Be=[];je.forEach(ze=>{const Ae=a.categories[ze]||a.hidden_categories&&a.hidden_categories[ze];Array.isArray(Ae)&&Ae.forEach(ot=>{ze==="warframes"?Be.push({title:ot.title,url:ot.url,category:ze}):Array.isArray(ot.items)?ot.items.forEach(Ue=>{Be.push({title:Ss(Ue)?Ue:Ue.title,url:Ss(Ue)?"":Ue.url,category:ze})}):ot.title&&Be.push({title:ot.title,url:ot.url,category:ze})})});const we={},He=`${e}-`;return Object.keys(x).forEach(ze=>{ze.startsWith(He)&&(we[ze]=x[ze])}),y.jsx(D2,{items:Be,todoItems:we,onItemAdd:C(Q),onItemRemove:O(Q),onItemIncrement:Ne(Q),onItemDecrement:ee(Q),onItemUpdate:he(Q)})}else if(a.renderer&&a.renderer[Q]==="soulframe-todo"){const je=[],Be=(ze,Ae)=>{ze.forEach(ot=>{if(Ss(ot)){je.push({title:ot,url:"",category:Ae});return}if(ot){if(Array.isArray(ot.items)){Be(ot.items,Ae);return}ot.title&&je.push({title:ot.title,url:ot.url,category:Ae})}})};Object.keys(a.categories||{}).forEach(ze=>{if(ze===Q)return;const Ae=a.categories[ze];Array.isArray(Ae)&&Be(Ae,ze)});const we={},He=`${e}-`;return Object.keys(x).forEach(ze=>{ze.startsWith(He)&&(we[ze]=x[ze])}),y.jsx(q2,{items:je,todoItems:we,onItemAdd:C(Q),onItemRemove:O(Q),onItemIncrement:Ne(Q),onItemDecrement:ee(Q),onItemUpdate:he(Q)})}else if(a.renderer&&a.renderer[Q]==="warframe-builds"){const je=[],Be=[];return a.hidden_categories&&(Array.isArray(a.hidden_categories.mods)&&a.hidden_categories.mods.forEach(we=>{Array.isArray(we.items)&&we.items.forEach(He=>{je.push(Ss(He)?He:He.title)})}),Array.isArray(a.hidden_categories.arcanes)&&a.hidden_categories.arcanes.forEach(we=>{Array.isArray(we.items)&&we.items.forEach(He=>{Be.push(Ss(He)?He:He.title)})})),y.jsx(k2,{builds:pe||{},onBuildAdd:L(Q),onBuildRemove:N(Q),onBuildUpdate:Re(Q),mods:je,arcanes:Be})}else return a.renderer&&a.renderer[Q]==="warframe-resets"?y.jsx(M2,{items:X,onItemClick:oe(Q),onClear:I(Q),visibilityFilter:g,searchFilter:b}):e==="warframe"&&Me.has(Q)?y.jsx(s2,{items:X,onItemClick:oe(Q),onClear:I(Q),visibilityFilter:g,searchFilter:b,enableIntroducedGrouping:be.has(Q)}):y.jsx(i2,{items:X,onItemClick:oe(Q),onClear:I(Q),visibilityFilter:g,searchFilter:b})}}};if(c)return y.jsxs("div",{className:"flex items-center justify-center py-20 text-gray-500",children:[y.jsx(Vs,{className:"mr-3"}),y.jsx("span",{children:"Loading config..."})]});if(!a||!a.categories)return y.jsx("div",{children:"Empty config."});const ne=[],ue=[];let de="";return Object.getOwnPropertyNames(a.categories).forEach(X=>{de||(de=X);let Q=ni(p,[e,X]);const pe=ce[X];pe?.filteredChecked&&(Q=pe.filteredChecked);let Me;const be={total:0,checked:0};Q?Me=Fe(a.categories[X],Q,be).items:Me=a.categories[X];const je=be.total&&be.checked?(be.checked/be.total*100).toFixed(0):null,Be=a.options&&a.options[X]==="quantity_progress",we=be.total&&be.checked?Be?` ${be.checked}/${be.total}`:` ${je} %`:null;ne.push(y.jsxs(Hu,{to:`/${e}/${X}`,className:"px-2.5 py-1 mr-1 border-b-[2px] border-transparent hover:text-gray-900 hover:border-gray-300 transition-colors [&.active]:border-black [&.active]:font-bold text-gray-600 flex items-baseline text-base",children:[X.charAt(0).toUpperCase()+X.slice(1),y.jsx("span",{className:"ml-1 text-[0.85em] text-gray-400 font-normal",children:we})]},X)),ue.push(y.jsx(Aa,{path:X,element:U(Me,X,Q)},X))}),[y.jsx("div",{className:"flex flex-wrap border-b border-gray-200 mb-2 list-none px-0 py-1",children:ne},"menu"),y.jsxs(qI,{children:[y.jsx(Aa,{index:!0,element:y.jsx(U_,{to:`/${e}/${de}`,replace:!0})}),ue,y.jsx(Aa,{path:"*",element:y.jsx(U_,{to:`/${e}/${de}`,replace:!0})})]},"switch")]};B2.propTypes={configs:R.arrayOf(R.shape({name:R.string.isRequired,title:R.string.isRequired,format:R.string})).isRequired};const bL=r=>$I(Object.assign({"../game-configs/arcraiders.yaml":()=>Xe(()=>import("./arcraiders-CGcPX7Cr.js"),[]),"../game-configs/d2.yaml":()=>Xe(()=>import("./d2-BjSTgg9v.js"),[]),"../game-configs/demonsouls.yaml":()=>Xe(()=>import("./demonsouls-C91dXxDH.js"),[]),"../game-configs/desperadosiii.yaml":()=>Xe(()=>import("./desperadosiii-DUwKvpm_.js"),[]),"../game-configs/eldenring.yaml":()=>Xe(()=>import("./eldenring-CAX0gqaT.js"),[]),"../game-configs/ff14.yaml":()=>Xe(()=>import("./ff14-nq4HI0FR.js"),[]),"../game-configs/ff7.yaml":()=>Xe(()=>import("./ff7-CYGlgb_3.js"),[]),"../game-configs/hades.yaml":()=>Xe(()=>import("./hades-BkYqhHey.js"),[]),"../game-configs/lordsofthefallen.yaml":()=>Xe(()=>import("./lordsofthefallen-vi3erB2s.js"),[]),"../game-configs/moonlighter.yaml":()=>Xe(()=>import("./moonlighter-DWWSqXAQ.js"),[]),"../game-configs/nioh2.yaml":()=>Xe(()=>import("./nioh2-CN3uolYz.js"),[]),"../game-configs/remnant.yaml":()=>Xe(()=>import("./remnant-EWC1nFV0.js"),[]),"../game-configs/remnant2.yaml":()=>Xe(()=>import("./remnant2-Drru-4q0.js"),[]),"../game-configs/riskofrain2.yaml":()=>Xe(()=>import("./riskofrain2-Du4jsvq1.js"),[]),"../game-configs/seaofthieves.yaml":()=>Xe(()=>import("./seaofthieves-DDa2AQaY.js"),[]),"../game-configs/shadowgambit.yaml":()=>Xe(()=>import("./shadowgambit-Cy1gMF9x.js"),[]),"../game-configs/soulframe.yaml":()=>Xe(()=>import("./soulframe-BUEpWpF6.js"),[]),"../game-configs/warframe.yaml":()=>Xe(()=>import("./warframe-BWqY-Vih.js"),[])}),`../game-configs/${r}.yaml`,3).then(e=>e.default),EL=()=>{const[r,e]=z.useState("loading...");return z.useEffect(()=>{bL("warframe").then(t=>{e(t.dateUpdated)})},[]),y.jsxs("div",{className:"max-w-3xl mx-auto px-4 mt-4 text-base leading-relaxed text-gray-800",children:[y.jsxs("p",{className:"mb-4",children:["This site is purely client-side, everything is hosted on free GitHub pages. Your progress is saved in the cloud when you sign in, or stored locally in ",y.jsx("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage",className:"text-sky-700 hover:underline",children:"browser local storage"})," when signed out."]}),y.jsx("p",{className:"mb-4",children:'Data is persistent and can be synced across devices when signed in. You can also download/upload your state via the top nav menu or directly from the browser console (Application tab, look for "state" variable).'}),y.jsxs("p",{className:"mb-8 border-b border-gray-100 pb-4",children:["If you have any suggestions or find any mistakes: email me ",y.jsx("a",{href:"mailto:poehartgroove@gmail.com",className:"text-sky-700 hover:underline",children:"poehartgroove@gmail.com"}),"."]}),y.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-6 mb-4",children:"Data Sources:"}),y.jsxs("ul",{className:"list-disc list-outside ml-5 space-y-4 text-sm",children:[y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Arc Raiders:"})," Data compiled from official sources and community wikis."]})}),y.jsxs("li",{children:[y.jsxs("div",{children:[y.jsx("strong",{children:"Warframe:"})," Data sources: ",y.jsx("a",{href:"https://wf.snekw.com/",className:"text-sky-700 hover:underline",children:"wf.snekw.com"}),", "," ",y.jsx("a",{href:"https://warframe-web-assets.nyc3.cdn.digitaloceanspaces.com/uploads/cms/hnfvc0o3jnfvc873njb03enrf56.html",className:"text-sky-700 hover:underline",children:"Drop tables"}),", and "," ",y.jsx("a",{href:"https://github.com/WFCD/warframe-items",className:"text-sky-700 hover:underline",children:"WFCD/warframe-items"})]}),y.jsxs("div",{className:"text-gray-500 italic mt-1 text-xs",children:["Last update date: ",r]})]}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Remnant: From the Ashes:"})," ",y.jsx("a",{href:"https://remnantfromtheashes.wiki.fextralife.com/Remnant+From+The+Ashes+Wiki",className:"text-sky-700 hover:underline",children:"Remnant From The Ashes Wiki"})]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Remnant 2:"})," Data taken from ",y.jsx("a",{href:"https://remnant2.wiki.fextralife.com/Remnant+2+Wiki",className:"text-sky-700 hover:underline",children:"Remnant 2 Wiki"})," and community guides."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Nioh 2:"})," Smithing texts and arts taken from this ",y.jsx("a",{href:"https://docs.google.com/document/d/1dCPVlyB7avz7yJPzST4_JBSsCTLPaZFm97QwDzTiiu8/edit#heading=h.34si98irfbct",className:"text-sky-700 hover:underline",children:"Google doc"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Final Fantasy VII Remake:"})," Data taken from ",y.jsx("a",{href:"https://www.powerpyx.com/final-fantasy-vii-remake-wiki-strategy-guide/",className:"text-sky-700 hover:underline",children:"PowerPyx"})," and ",y.jsx("a",{href:"https://finalfantasy7remake.wiki.fextralife.com/Final+Fantasy+VII+Remake+Wiki",className:"text-sky-700 hover:underline",children:"Final Fantasy VII Remake Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Final Fantasy XIV:"})," Data taken from ",y.jsx("a",{href:"https://xivapi.com/",className:"text-sky-700 hover:underline",children:"XIVAPI"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Desperados III:"})," Guide taken from ",y.jsx("a",{href:"https://steamcommunity.com/sharedfiles/filedetails/?id=2133857369",className:"text-sky-700 hover:underline",children:"All Badges + Mission-by-Mission Achievements Guide by MMOtte"}),", ",y.jsx("a",{href:"https://psnprofiles.com/trophies/10788-desperados-iii",className:"text-sky-700 hover:underline",children:"psnprofiles"}),", and ",y.jsx("a",{href:"https://www.trueachievements.com/game/Desperados-III/achievements",className:"text-sky-700 hover:underline",children:"TrueAchievements"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Hades:"})," Data compiled from ",y.jsx("a",{href:"https://hades.fandom.com/wiki/Hades_Wiki",className:"text-sky-700 hover:underline",children:"Hades Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Risk of Rain 2:"})," Data compiled from ",y.jsx("a",{href:"https://riskofrain2.fandom.com/wiki/Risk_of_Rain_2_Wiki",className:"text-sky-700 hover:underline",children:"Risk of Rain 2 Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Moonlighter:"})," Data compiled from ",y.jsx("a",{href:"https://moonlighter.fandom.com/wiki/Moonlighter_Wiki",className:"text-sky-700 hover:underline",children:"Moonlighter Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Demon's Souls:"})," Data taken from ",y.jsx("a",{href:"https://demonssouls.wiki.fextralife.com/Demon's+Souls+Wiki",className:"text-sky-700 hover:underline",children:"Demon's Souls Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Diablo 2:"})," Data compiled from ",y.jsx("a",{href:"https://diablo2.diablowiki.net/",className:"text-sky-700 hover:underline",children:"Diablo Wiki"})," and community resources."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Elden Ring:"})," Data taken from ",y.jsx("a",{href:"https://eldenring.wiki.fextralife.com/Elden+Ring+Wiki",className:"text-sky-700 hover:underline",children:"Elden Ring Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Lords of the Fallen:"})," Checklist made with ",y.jsx("a",{href:"https://forum.psnprofiles.com/topic/151185-checklist-for-nearly-everything/",className:"text-sky-700 hover:underline",children:"psnprofiles community"}),". Data taken from the ",y.jsx("a",{href:"https://thelordsofthefallen.wiki.fextralife.com/",className:"text-sky-700 hover:underline",children:"fextralife wiki"}),". Special thanks to PSN: Adkov for contributions."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Shadow Gambit: The Cursed Crew:"})," Mostly taken from ",y.jsx("a",{href:"https://steamcommunity.com/app/1545560/guides/?browsefilter=trend&filetype=11&requiredtags[]=english",className:"text-sky-700 hover:underline",children:"Steam guides"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Sea of Thieves:"})," Data compiled from ",y.jsx("a",{href:"https://seaofthieves.fandom.com/wiki/Sea_of_Thieves_Wiki",className:"text-sky-700 hover:underline",children:"Sea of Thieves Wiki"})," and official sources."]})})]})]})},TL=()=>{};var ZA={};const F2=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},xL=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const a=r[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],d=r[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],c=r[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},H2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,d=c?r[a+1]:0,p=a+2<r.length,g=p?r[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let x=(d&15)<<2|g>>6,S=g&63;p||(S=64,c||(x=64)),i.push(t[v],t[b],t[x],t[S])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(F2(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):xL(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const g=a<r.length?t[r.charAt(a)]:64;++a;const b=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||d==null||g==null||b==null)throw new SL;const x=l<<2|d>>4;if(i.push(x),g!==64){const S=d<<4&240|g>>2;if(i.push(S),b!==64){const M=g<<6&192|b;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class SL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wL=function(r){const e=F2(r);return H2.encodeByteArray(e,!0)},gf=function(r){return wL(r).replace(/\./g,"")},G2=function(r){try{return H2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function AL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const RL=()=>AL().__FIREBASE_DEFAULTS__,CL=()=>{if(typeof process>"u"||typeof ZA>"u")return;const r=ZA.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},IL=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&G2(r[1]);return e&&JSON.parse(e)},ld=()=>{try{return TL()||RL()||CL()||IL()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$2=r=>ld()?.emulatorHosts?.[r],NL=r=>{const e=$2(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},K2=()=>ld()?.config,Y2=r=>ld()?.[`_${r}`];class OL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function cl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Q2(r){return(await fetch(r,{credentials:"include"})).ok}function DL(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[gf(JSON.stringify(t)),gf(JSON.stringify(c)),""].join(".")}const Vu={};function kL(){const r={prod:[],emulator:[]};for(const e of Object.keys(Vu))Vu[e]?r.emulator.push(e):r.prod.push(e);return r}function ML(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let eR=!1;function X2(r,e){if(typeof window>"u"||typeof document>"u"||!cl(window.location.host)||Vu[r]===e||Vu[r]||eR)return;Vu[r]=e;function t(x){return`__firebase__banner__${x}`}const i="__firebase__banner",l=kL().prod.length>0;function c(){const x=document.getElementById(i);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,S){x.setAttribute("width","24"),x.setAttribute("id",S),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{eR=!0,c()},x}function v(x,S){x.setAttribute("id",S),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=ML(i),S=t("text"),M=document.getElementById(S)||document.createElement("span"),P=t("learnmore"),k=document.getElementById(P)||document.createElement("a"),F=t("preprendIcon"),B=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const W=x.element;d(W),v(k,P);const le=g();p(B,F),W.append(B,M,k,le),document.body.appendChild(W)}l?(M.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function VL(){const r=ld()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LL(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function UL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qL(){const r=bn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function zL(){return!VL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BL(){try{return typeof indexedDB=="object"}catch{return!1}}function FL(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const HL="FirebaseError";class Fi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=HL,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?GL(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Fi(a,d,i)}}function GL(r,e){return r.replace($L,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const $L=/\{\$([^}]+)}/g;function KL(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ka(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=r[a],c=e[a];if(tR(l)&&tR(c)){if(!ka(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function tR(r){return r!==null&&typeof r=="object"}function lc(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function YL(r,e){const t=new QL(r,e);return t.subscribe.bind(t)}class QL{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");XL(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Ov),a.error===void 0&&(a.error=Ov),a.complete===void 0&&(a.complete=Ov);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XL(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Ov(){}function kn(r){return r&&r._delegate?r._delegate:r}class Ma{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ta="[DEFAULT]";class WL{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new OL;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZL(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:JL(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JL(r){return r===Ta?void 0:r}function ZL(r){return r.instantiationMode==="EAGER"}class e9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new WL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var We;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(We||(We={}));const t9={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},n9=We.INFO,r9={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},i9=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),a=r9[e];if(a)console[a](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W0{constructor(e){this.name=e,this._logLevel=n9,this._logHandler=i9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const s9=(r,e)=>e.some(t=>r instanceof t);let nR,rR;function a9(){return nR||(nR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o9(){return rR||(rR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W2=new WeakMap,K_=new WeakMap,J2=new WeakMap,Dv=new WeakMap,J0=new WeakMap;function l9(r){const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(Ns(r.result)),a()},c=()=>{i(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&W2.set(t,r)}).catch(()=>{}),J0.set(e,r),e}function u9(r){if(K_.has(r))return;const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});K_.set(r,e)}let Y_={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return K_.get(r);if(e==="objectStoreNames")return r.objectStoreNames||J2.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ns(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function c9(r){Y_=r(Y_)}function h9(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(kv(this),e,...t);return J2.set(i,e.sort?e.sort():[e]),Ns(i)}:o9().includes(r)?function(...e){return r.apply(kv(this),e),Ns(W2.get(this))}:function(...e){return Ns(r.apply(kv(this),e))}}function f9(r){return typeof r=="function"?h9(r):(r instanceof IDBTransaction&&u9(r),s9(r,a9())?new Proxy(r,Y_):r)}function Ns(r){if(r instanceof IDBRequest)return l9(r);if(Dv.has(r))return Dv.get(r);const e=f9(r);return e!==r&&(Dv.set(r,e),J0.set(e,r)),e}const kv=r=>J0.get(r);function d9(r,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),d=Ns(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ns(c.result),p.oldVersion,p.newVersion,Ns(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const p9=["get","getKey","getAll","getAllKeys","count"],m9=["put","add","delete","clear"],Mv=new Map;function iR(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Mv.get(e))return Mv.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=m9.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||p9.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return Mv.set(e,l),l}c9(r=>({...r,get:(e,t,i)=>iR(e,t)||r.get(e,t,i),has:(e,t)=>!!iR(e,t)||r.has(e,t)}));class g9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(y9(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function y9(r){return r.getComponent()?.type==="VERSION"}const Q_="@firebase/app",sR="0.14.7";const Pi=new W0("@firebase/app"),v9="@firebase/app-compat",_9="@firebase/analytics-compat",b9="@firebase/analytics",E9="@firebase/app-check-compat",T9="@firebase/app-check",x9="@firebase/auth",S9="@firebase/auth-compat",w9="@firebase/database",A9="@firebase/data-connect",R9="@firebase/database-compat",C9="@firebase/functions",I9="@firebase/functions-compat",N9="@firebase/installations",O9="@firebase/installations-compat",D9="@firebase/messaging",k9="@firebase/messaging-compat",M9="@firebase/performance",j9="@firebase/performance-compat",V9="@firebase/remote-config",P9="@firebase/remote-config-compat",L9="@firebase/storage",U9="@firebase/storage-compat",q9="@firebase/firestore",z9="@firebase/ai",B9="@firebase/firestore-compat",F9="firebase",H9="12.8.0";const X_="[DEFAULT]",G9={[Q_]:"fire-core",[v9]:"fire-core-compat",[b9]:"fire-analytics",[_9]:"fire-analytics-compat",[T9]:"fire-app-check",[E9]:"fire-app-check-compat",[x9]:"fire-auth",[S9]:"fire-auth-compat",[w9]:"fire-rtdb",[A9]:"fire-data-connect",[R9]:"fire-rtdb-compat",[C9]:"fire-fn",[I9]:"fire-fn-compat",[N9]:"fire-iid",[O9]:"fire-iid-compat",[D9]:"fire-fcm",[k9]:"fire-fcm-compat",[M9]:"fire-perf",[j9]:"fire-perf-compat",[V9]:"fire-rc",[P9]:"fire-rc-compat",[L9]:"fire-gcs",[U9]:"fire-gcs-compat",[q9]:"fire-fst",[B9]:"fire-fst-compat",[z9]:"fire-vertex","fire-js":"fire-js",[F9]:"fire-js-all"};const yf=new Map,$9=new Map,W_=new Map;function aR(r,e){try{r.container.addComponent(e)}catch(t){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Xo(r){const e=r.name;if(W_.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;W_.set(e,r);for(const t of yf.values())aR(t,r);for(const t of $9.values())aR(t,r);return!0}function Z0(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function xr(r){return r==null?!1:r.settings!==void 0}const K9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new oc("app","Firebase",K9);class Y9{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}const hl=H9;function Z2(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:X_,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Os.create("bad-app-name",{appName:String(a)});if(t||(t=K2()),!t)throw Os.create("no-options");const l=yf.get(a);if(l){if(ka(t,l.options)&&ka(i,l.config))return l;throw Os.create("duplicate-app",{appName:a})}const c=new e9(a);for(const p of W_.values())c.addComponent(p);const d=new Y9(t,i,c);return yf.set(a,d),d}function eN(r=X_){const e=yf.get(r);if(!e&&r===X_&&K2())return Z2();if(!e)throw Os.create("no-app",{appName:r});return e}function Ds(r,e,t){let i=G9[r]??r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(c.join(" "));return}Xo(new Ma(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Q9="firebase-heartbeat-database",X9=1,Gu="firebase-heartbeat-store";let jv=null;function tN(){return jv||(jv=d9(Q9,X9,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Gu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Os.create("idb-open",{originalErrorMessage:r.message})})),jv}async function W9(r){try{const t=(await tN()).transaction(Gu),i=await t.objectStore(Gu).get(nN(r));return await t.done,i}catch(e){if(e instanceof Fi)Pi.warn(e.message);else{const t=Os.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(t.message)}}}async function oR(r,e){try{const i=(await tN()).transaction(Gu,"readwrite");await i.objectStore(Gu).put(e,nN(r)),await i.done}catch(t){if(t instanceof Fi)Pi.warn(t.message);else{const i=Os.create("idb-set",{originalErrorMessage:t?.message});Pi.warn(i.message)}}}function nN(r){return`${r.name}!${r.options.appId}`}const J9=1024,Z9=30;class eU{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nU(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=lR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>Z9){const a=rU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=lR(),{heartbeatsToSend:t,unsentEntries:i}=tU(this._heartbeatsCache.heartbeats),a=gf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Pi.warn(e),""}}}function lR(){return new Date().toISOString().substring(0,10)}function tU(r,e=J9){const t=[];let i=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),uR(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),uR(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class nU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BL()?FL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await W9(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return oR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return oR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function uR(r){return gf(JSON.stringify({version:2,heartbeats:r})).length}function rU(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}function iU(r){Xo(new Ma("platform-logger",e=>new g9(e),"PRIVATE")),Xo(new Ma("heartbeat",e=>new eU(e),"PRIVATE")),Ds(Q_,sR,r),Ds(Q_,sR,"esm2020"),Ds("fire-js","")}iU("");function rN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sU=rN,iN=new oc("auth","Firebase",rN());const vf=new W0("@firebase/auth");function aU(r,...e){vf.logLevel<=We.WARN&&vf.warn(`Auth (${hl}): ${r}`,...e)}function tf(r,...e){vf.logLevel<=We.ERROR&&vf.error(`Auth (${hl}): ${r}`,...e)}function oi(r,...e){throw tb(r,...e)}function Ar(r,...e){return tb(r,...e)}function eb(r,e,t){const i={...sU(),[e]:t};return new oc("auth","Firebase",i).create(e,{appName:r.name})}function Na(r){return eb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oU(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&oi(r,"argument-error"),eb(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tb(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return iN.create(r,...e)}function Ce(r,e,...t){if(!r)throw tb(e,...t)}function Oi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw tf(e),new Error(e)}function Li(r,e){r||Oi(e)}function J_(){return typeof self<"u"&&self.location?.href||""}function lU(){return cR()==="http:"||cR()==="https:"}function cR(){return typeof self<"u"&&self.location?.protocol||null}function uU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lU()||LL()||"connection"in navigator)?navigator.onLine:!0}function cU(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class uc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Li(t>e,"Short delay should be less than long delay!"),this.isMobile=jL()||UL()}get(){return uU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nb(r,e){Li(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class sN{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dU=new uc(3e4,6e4);function rb(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function fl(r,e,t,i,a={}){return aN(r,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=lc({key:r.config.apiKey,...c}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...l};return PL()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&cl(r.emulatorConfig.host)&&(g.credentials="include"),sN.fetch()(await oN(r,r.config.apiHost,t,d),g)})}async function aN(r,e,t){r._canInitEmulator=!1;const i={...hU,...e};try{const a=new mU(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Gh(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gh(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Gh(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw Gh(r,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw eb(r,v,g);oi(r,v)}}catch(a){if(a instanceof Fi)throw a;oi(r,"network-request-failed",{message:String(a)})}}async function pU(r,e,t,i,a={}){const l=await fl(r,e,t,i,a);return"mfaPendingCredential"in l&&oi(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function oN(r,e,t,i){const a=`${e}${t}?${i}`,l=r,c=l.config.emulator?nb(r.config,a):`${r.config.apiScheme}://${a}`;return fU.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class mU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ar(this.auth,"network-request-failed")),dU.get())})}}function Gh(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Ar(r,e,i);return a.customData._tokenResponse=t,a}async function gU(r,e){return fl(r,"POST","/v1/accounts:delete",e)}async function _f(r,e){return fl(r,"POST","/v1/accounts:lookup",e)}function Pu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yU(r,e=!1){const t=kn(r),i=await t.getIdToken(e),a=ib(i);Ce(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:Pu(Vv(a.auth_time)),issuedAtTime:Pu(Vv(a.iat)),expirationTime:Pu(Vv(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Vv(r){return Number(r)*1e3}function ib(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return tf("JWT malformed, contained fewer than 3 sections"),null;try{const a=G2(t);return a?JSON.parse(a):(tf("Failed to decode base64 JWT payload"),null)}catch(a){return tf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function hR(r){const e=ib(r);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function $u(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Fi&&vU(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function vU({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class _U{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Z_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bf(r){const e=r.auth,t=await r.getIdToken(),i=await $u(r,_f(e,{idToken:t}));Ce(i?.users.length,e,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=a.providerUserInfo?.length?lN(a.providerUserInfo):[],c=EU(r.providerData,l),d=r.isAnonymous,p=!(r.email&&a.passwordHash)&&!c?.length,g=d?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Z_(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function bU(r){const e=kn(r);await bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EU(r,e){return[...r.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function lN(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function TU(r,e){const t=await aN(r,{},async()=>{const i=lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,c=await oN(r,a,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return r.emulatorConfig&&cl(r.emulatorConfig.host)&&(p.credentials="include"),sN.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function xU(r,e){return fl(r,"POST","/v2/accounts:revokeToken",rb(r,e))}class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=hR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await TU(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new zo;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ce(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ce(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return Oi("not implemented")}}function xs(r,e){Ce(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Sr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new _U(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Z_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await $u(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return yU(this,e)}reload(){return bU(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await bf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xr(this.auth.app))return Promise.reject(Na(this.auth));const e=await this.getIdToken();return await $u(this,gU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:S,providerData:M,stsTokenManager:P}=t;Ce(b&&P,e,"internal-error");const k=zo.fromJSON(this.name,P);Ce(typeof b=="string",e,"internal-error"),xs(i,e.name),xs(a,e.name),Ce(typeof x=="boolean",e,"internal-error"),Ce(typeof S=="boolean",e,"internal-error"),xs(l,e.name),xs(c,e.name),xs(d,e.name),xs(p,e.name),xs(g,e.name),xs(v,e.name);const F=new Sr({uid:b,auth:e,email:a,emailVerified:x,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:k,createdAt:g,lastLoginAt:v});return M&&Array.isArray(M)&&(F.providerData=M.map(B=>({...B}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(e,t,i=!1){const a=new zo;a.updateFromServerResponse(t);const l=new Sr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await bf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ce(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?lN(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new zo;d.updateFromIdToken(i);const p=new Sr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Z_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const fR=new Map;function Di(r){Li(r instanceof Function,"Expected a class definition");let e=fR.get(r);return e?(Li(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,fR.set(r,e),e)}class uN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}uN.type="NONE";const dR=uN;function nf(r,e,t){return`firebase:${r}:${e}:${t}`}class Bo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=nf(this.userKey,a.apiKey,l),this.fullPersistenceKey=nf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await _f(this.auth,{idToken:e}).catch(()=>{});return t?Sr._fromGetAccountInfoResponse(this.auth,t,e):null}return Sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Bo(Di(dR),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Di(dR);const c=nf(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const x=await _f(e,{idToken:v}).catch(()=>{});if(!x)break;b=await Sr._fromGetAccountInfoResponse(e,x,v)}else b=Sr._fromJSON(e,v);g!==l&&(d=b),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Bo(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Bo(l,e,i))}}function pR(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mN(e))return"Blackberry";if(gN(e))return"Webos";if(hN(e))return"Safari";if((e.includes("chrome/")||fN(e))&&!e.includes("edge/"))return"Chrome";if(pN(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function cN(r=bn()){return/firefox\//i.test(r)}function hN(r=bn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fN(r=bn()){return/crios\//i.test(r)}function dN(r=bn()){return/iemobile/i.test(r)}function pN(r=bn()){return/android/i.test(r)}function mN(r=bn()){return/blackberry/i.test(r)}function gN(r=bn()){return/webos/i.test(r)}function sb(r=bn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function SU(r=bn()){return sb(r)&&!!window.navigator?.standalone}function wU(){return qL()&&document.documentMode===10}function yN(r=bn()){return sb(r)||pN(r)||gN(r)||mN(r)||/windows phone/i.test(r)||dN(r)}function vN(r,e=[]){let t;switch(r){case"Browser":t=pR(bn());break;case"Worker":t=`${pR(bn())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${hl}/${i}`}class AU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function RU(r,e={}){return fl(r,"GET","/v2/passwordPolicy",rb(r,e))}const CU=6;class IU{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??CU,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class NU{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mR(this),this.idTokenSubscription=new mR(this),this.beforeStateQueue=new AU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Di(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _f(this,{idToken:e}),i=await Sr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xr(this.app))return Promise.reject(Na(this));const t=e?kn(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xr(this.app)?Promise.reject(Na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xr(this.app)?Promise.reject(Na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RU(this),t=new IU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await xU(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Di(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[Di(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&aU(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ud(r){return kn(r)}class mR{constructor(e){this.auth=e,this.observer=null,this.addObserver=YL(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ab={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OU(r){ab=r}function DU(r){return ab.loadJS(r)}function kU(){return ab.gapiScript}function MU(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function jU(r,e){const t=Z0(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ka(l,e??{}))return a;oi(a,"already-initialized")}return t.initialize({options:e})}function VU(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Di);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function PU(r,e,t){const i=ud(r);Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=_N(e),{host:c,port:d}=LU(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ce(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ce(ka(g,i.config.emulator)&&ka(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,cl(c)?(Q2(`${l}//${c}${p}`),X2("Auth",!0)):UU()}function _N(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function LU(r){const e=_N(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:gR(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:gR(c)}}}function gR(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function UU(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class bN{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,t){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function Fo(r,e){return pU(r,"POST","/v1/accounts:signInWithIdp",rb(r,e))}const qU="http://localhost";class ja extends bN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):oi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new ja(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Fo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Fo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fo(e,t)}buildRequest(){const e={requestUri:qU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lc(t)}return e}}class ob{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class cc extends ob{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ws extends cc{constructor(){super("facebook.com")}static credential(e){return ja._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";class Ni extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ja._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ni.credential(t,i)}catch{return null}}}Ni.GOOGLE_SIGN_IN_METHOD="google.com";Ni.PROVIDER_ID="google.com";class As extends cc{constructor(){super("github.com")}static credential(e){return ja._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";class Rs extends cc{constructor(){super("twitter.com")}static credential(e,t){return ja._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Rs.credential(t,i)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";class Wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Sr._fromIdTokenResponse(e,i,a),c=yR(i);return new Wo({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=yR(i);return new Wo({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function yR(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ef extends Fi{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Ef.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Ef(e,t,i,a)}}function EN(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ef._fromErrorAndOperation(r,l,e,i):l})}async function zU(r,e,t=!1){const i=await $u(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Wo._forOperation(r,"link",i)}async function BU(r,e,t=!1){const{auth:i}=r;if(xr(i.app))return Promise.reject(Na(i));const a="reauthenticate";try{const l=await $u(r,EN(i,a,e,r),t);Ce(l.idToken,i,"internal-error");const c=ib(l.idToken);Ce(c,i,"internal-error");const{sub:d}=c;return Ce(r.uid===d,i,"user-mismatch"),Wo._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&oi(i,"user-mismatch"),l}}async function FU(r,e,t=!1){if(xr(r.app))return Promise.reject(Na(r));const i="signIn",a=await EN(r,i,e),l=await Wo._fromIdTokenResponse(r,i,a);return t||await r._updateCurrentUser(l.user),l}function HU(r,e,t,i){return kn(r).onIdTokenChanged(e,t,i)}function GU(r,e,t){return kn(r).beforeAuthStateChanged(e,t)}function lb(r,e,t,i){return kn(r).onAuthStateChanged(e,t,i)}function $U(r){return kn(r).signOut()}const Tf="__sak";class TN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tf,"1"),this.storage.removeItem(Tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const KU=1e3,YU=10;class xN extends TN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);wU()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,YU):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},KU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xN.type="LOCAL";const QU=xN;class SN extends TN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}SN.type="SESSION";const wN=SN;function XU(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new cd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await XU(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cd.receivers=[];function ub(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}class WU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=ub("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const x=b;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(x.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ri(){return window}function JU(r){ri().location.href=r}function AN(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function ZU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eq(){return navigator?.serviceWorker?.controller||null}function tq(){return AN()?self:null}const RN="firebaseLocalStorageDb",nq=1,xf="firebaseLocalStorage",CN="fbase_key";class hc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hd(r,e){return r.transaction([xf],e?"readwrite":"readonly").objectStore(xf)}function rq(){const r=indexedDB.deleteDatabase(RN);return new hc(r).toPromise()}function e0(){const r=indexedDB.open(RN,nq);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(xf,{keyPath:CN})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(xf)?e(i):(i.close(),await rq(),e(await e0()))})})}async function vR(r,e,t){const i=hd(r,!0).put({[CN]:e,value:t});return new hc(i).toPromise()}async function iq(r,e){const t=hd(r,!1).get(e),i=await new hc(t).toPromise();return i===void 0?null:i.value}function _R(r,e){const t=hd(r,!0).delete(e);return new hc(t).toPromise()}const sq=800,aq=3;class IN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await e0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>aq)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cd._getInstance(tq()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZU(),!this.activeServiceWorker)return;this.sender=new WU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await e0();return await vR(e,Tf,"1"),await _R(e,Tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>vR(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>iq(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_R(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=hd(a,!1).getAll();return new hc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IN.type="LOCAL";const oq=IN;new uc(3e4,6e4);function NN(r,e){return e?Di(e):(Ce(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class cb extends bN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lq(r){return FU(r.auth,new cb(r),r.bypassAuthState)}function uq(r){const{auth:e,user:t}=r;return Ce(t,e,"internal-error"),BU(t,new cb(r),r.bypassAuthState)}async function cq(r){const{auth:e,user:t}=r;return Ce(t,e,"internal-error"),zU(t,new cb(r),r.bypassAuthState)}class ON{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lq;case"linkViaPopup":case"linkViaRedirect":return cq;case"reauthViaPopup":case"reauthViaRedirect":return uq;default:oi(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hq=new uc(2e3,1e4);async function DN(r,e,t){if(xr(r.app))return Promise.reject(Ar(r,"operation-not-supported-in-this-environment"));const i=ud(r);oU(r,e,ob);const a=NN(i,t);return new Sa(i,"signInViaPopup",e,a).executeNotNull()}class Sa extends ON{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Sa.currentPopupAction&&Sa.currentPopupAction.cancel(),Sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=ub();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hq.get())};e()}}Sa.currentPopupAction=null;const fq="pendingRedirect",rf=new Map;class dq extends ON{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=rf.get(this.auth._key());if(!e){try{const i=await pq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}rf.set(this.auth._key(),e)}return this.bypassAuthState||rf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pq(r,e){const t=yq(e),i=gq(r);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function mq(r,e){rf.set(r._key(),e)}function gq(r){return Di(r._redirectPersistence)}function yq(r){return nf(fq,r.config.apiKey,r.name)}async function vq(r,e,t=!1){if(xr(r.app))return Promise.reject(Na(r));const i=ud(r),a=NN(i,e),c=await new dq(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const _q=600*1e3;class bq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Eq(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!kN(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ar(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_q&&this.cachedEventUids.clear(),this.cachedEventUids.has(bR(e))}saveEventToCache(e){this.cachedEventUids.add(bR(e)),this.lastProcessedEventTime=Date.now()}}function bR(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function kN({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Eq(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kN(r);default:return!1}}async function Tq(r,e={}){return fl(r,"GET","/v1/projects",e)}const xq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sq=/^https?/;async function wq(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Tq(r);for(const t of e)try{if(Aq(t))return}catch{}oi(r,"unauthorized-domain")}function Aq(r){const e=J_(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Sq.test(t))return!1;if(xq.test(r))return i===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const Rq=new uc(3e4,6e4);function ER(){const r=ri().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function Cq(r){return new Promise((e,t)=>{function i(){ER(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ER(),t(Ar(r,"network-request-failed"))},timeout:Rq.get()})}if(ri().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ri().gapi?.load)i();else{const a=MU("iframefcb");return ri()[a]=()=>{gapi.load?i():t(Ar(r,"network-request-failed"))},DU(`${kU()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw sf=null,e})}let sf=null;function Iq(r){return sf=sf||Cq(r),sf}const Nq=new uc(5e3,15e3),Oq="__/auth/iframe",Dq="emulator/auth/iframe",kq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jq(r){const e=r.config;Ce(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?nb(e,Dq):`https://${r.config.authDomain}/${Oq}`,i={apiKey:e.apiKey,appName:r.name,v:hl},a=Mq.get(r.config.apiHost);a&&(i.eid=a);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${lc(i).slice(1)}`}async function Vq(r){const e=await Iq(r),t=ri().gapi;return Ce(t,r,"internal-error"),e.open({where:document.body,url:jq(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kq,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ar(r,"network-request-failed"),d=ri().setTimeout(()=>{l(c)},Nq.get());function p(){ri().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}const Pq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lq=500,Uq=600,qq="_blank",zq="http://localhost";class TR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bq(r,e,t,i=Lq,a=Uq){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...Pq,width:i.toString(),height:a.toString(),top:l,left:c},g=bn().toLowerCase();t&&(d=fN(g)?qq:t),cN(g)&&(e=e||zq,p.scrollbars="yes");const v=Object.entries(p).reduce((x,[S,M])=>`${x}${S}=${M},`,"");if(SU(g)&&d!=="_self")return Fq(e||"",d),new TR(null);const b=window.open(e||"",d,v);Ce(b,r,"popup-blocked");try{b.focus()}catch{}return new TR(b)}function Fq(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const Hq="__/auth/handler",Gq="emulator/auth/handler",$q=encodeURIComponent("fac");async function xR(r,e,t,i,a,l){Ce(r.config.authDomain,r,"auth-domain-config-required"),Ce(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:hl,eventId:a};if(e instanceof ob){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",KL(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof cc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await r._getAppCheckToken(),g=p?`#${$q}=${encodeURIComponent(p)}`:"";return`${Kq(r)}?${lc(d).slice(1)}${g}`}function Kq({config:r}){return r.emulator?nb(r,Gq):`https://${r.authDomain}/${Hq}`}const Pv="webStorageSupport";class Yq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wN,this._completeRedirectFn=vq,this._overrideRedirectResult=mq}async _openPopup(e,t,i,a){Li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await xR(e,t,i,J_(),a);return Bq(e,l,ub())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await xR(e,t,i,J_(),a);return JU(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Li(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Vq(e),i=new bq(e);return t.register("authEvent",a=>(Ce(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pv,{type:Pv},a=>{const l=a?.[0]?.[Pv];l!==void 0&&t(!!l),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yN()||hN()||sb()}}const Qq=Yq;var SR="@firebase/auth",wR="1.12.0";class Xq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Wq(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jq(r){Xo(new Ma("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ce(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vN(r)},g=new NU(i,a,l,p);return VU(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Xo(new Ma("auth-internal",e=>{const t=ud(e.getProvider("auth").getImmediate());return(i=>new Xq(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ds(SR,wR,Wq(r)),Ds(SR,wR,"esm2020")}const Zq=300,e7=Y2("authIdTokenMaxAge")||Zq;let AR=null;const t7=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>e7)return;const a=t?.token;AR!==a&&(AR=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function n7(r=eN()){const e=Z0(r,"auth");if(e.isInitialized())return e.getImmediate();const t=jU(r,{popupRedirectResolver:Qq,persistence:[oq,QU,wN]}),i=Y2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=t7(l.toString());GU(t,c,()=>c(t.currentUser)),HU(t,d=>c(d))}}const a=$2("auth");return a&&PU(t,`http://${a}`),t}function r7(){return document.getElementsByTagName("head")?.[0]??document}OU({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=a=>{const l=Ar("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",r7().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jq("Browser");var i7="firebase",s7="12.8.0";Ds(i7,s7,"app");var RR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ks,MN;(function(){var r;function e(I,C){function O(){}O.prototype=C.prototype,I.F=C.prototype,I.prototype=new O,I.prototype.constructor=I,I.D=function(j,D,L){for(var N=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)N[Re-2]=arguments[Re];return C.prototype[D].apply(j,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,C,O){O||(O=0);const j=Array(16);if(typeof C=="string")for(var D=0;D<16;++D)j[D]=C.charCodeAt(O++)|C.charCodeAt(O++)<<8|C.charCodeAt(O++)<<16|C.charCodeAt(O++)<<24;else for(D=0;D<16;++D)j[D]=C[O++]|C[O++]<<8|C[O++]<<16|C[O++]<<24;C=I.g[0],O=I.g[1],D=I.g[2];let L=I.g[3],N;N=C+(L^O&(D^L))+j[0]+3614090360&4294967295,C=O+(N<<7&4294967295|N>>>25),N=L+(D^C&(O^D))+j[1]+3905402710&4294967295,L=C+(N<<12&4294967295|N>>>20),N=D+(O^L&(C^O))+j[2]+606105819&4294967295,D=L+(N<<17&4294967295|N>>>15),N=O+(C^D&(L^C))+j[3]+3250441966&4294967295,O=D+(N<<22&4294967295|N>>>10),N=C+(L^O&(D^L))+j[4]+4118548399&4294967295,C=O+(N<<7&4294967295|N>>>25),N=L+(D^C&(O^D))+j[5]+1200080426&4294967295,L=C+(N<<12&4294967295|N>>>20),N=D+(O^L&(C^O))+j[6]+2821735955&4294967295,D=L+(N<<17&4294967295|N>>>15),N=O+(C^D&(L^C))+j[7]+4249261313&4294967295,O=D+(N<<22&4294967295|N>>>10),N=C+(L^O&(D^L))+j[8]+1770035416&4294967295,C=O+(N<<7&4294967295|N>>>25),N=L+(D^C&(O^D))+j[9]+2336552879&4294967295,L=C+(N<<12&4294967295|N>>>20),N=D+(O^L&(C^O))+j[10]+4294925233&4294967295,D=L+(N<<17&4294967295|N>>>15),N=O+(C^D&(L^C))+j[11]+2304563134&4294967295,O=D+(N<<22&4294967295|N>>>10),N=C+(L^O&(D^L))+j[12]+1804603682&4294967295,C=O+(N<<7&4294967295|N>>>25),N=L+(D^C&(O^D))+j[13]+4254626195&4294967295,L=C+(N<<12&4294967295|N>>>20),N=D+(O^L&(C^O))+j[14]+2792965006&4294967295,D=L+(N<<17&4294967295|N>>>15),N=O+(C^D&(L^C))+j[15]+1236535329&4294967295,O=D+(N<<22&4294967295|N>>>10),N=C+(D^L&(O^D))+j[1]+4129170786&4294967295,C=O+(N<<5&4294967295|N>>>27),N=L+(O^D&(C^O))+j[6]+3225465664&4294967295,L=C+(N<<9&4294967295|N>>>23),N=D+(C^O&(L^C))+j[11]+643717713&4294967295,D=L+(N<<14&4294967295|N>>>18),N=O+(L^C&(D^L))+j[0]+3921069994&4294967295,O=D+(N<<20&4294967295|N>>>12),N=C+(D^L&(O^D))+j[5]+3593408605&4294967295,C=O+(N<<5&4294967295|N>>>27),N=L+(O^D&(C^O))+j[10]+38016083&4294967295,L=C+(N<<9&4294967295|N>>>23),N=D+(C^O&(L^C))+j[15]+3634488961&4294967295,D=L+(N<<14&4294967295|N>>>18),N=O+(L^C&(D^L))+j[4]+3889429448&4294967295,O=D+(N<<20&4294967295|N>>>12),N=C+(D^L&(O^D))+j[9]+568446438&4294967295,C=O+(N<<5&4294967295|N>>>27),N=L+(O^D&(C^O))+j[14]+3275163606&4294967295,L=C+(N<<9&4294967295|N>>>23),N=D+(C^O&(L^C))+j[3]+4107603335&4294967295,D=L+(N<<14&4294967295|N>>>18),N=O+(L^C&(D^L))+j[8]+1163531501&4294967295,O=D+(N<<20&4294967295|N>>>12),N=C+(D^L&(O^D))+j[13]+2850285829&4294967295,C=O+(N<<5&4294967295|N>>>27),N=L+(O^D&(C^O))+j[2]+4243563512&4294967295,L=C+(N<<9&4294967295|N>>>23),N=D+(C^O&(L^C))+j[7]+1735328473&4294967295,D=L+(N<<14&4294967295|N>>>18),N=O+(L^C&(D^L))+j[12]+2368359562&4294967295,O=D+(N<<20&4294967295|N>>>12),N=C+(O^D^L)+j[5]+4294588738&4294967295,C=O+(N<<4&4294967295|N>>>28),N=L+(C^O^D)+j[8]+2272392833&4294967295,L=C+(N<<11&4294967295|N>>>21),N=D+(L^C^O)+j[11]+1839030562&4294967295,D=L+(N<<16&4294967295|N>>>16),N=O+(D^L^C)+j[14]+4259657740&4294967295,O=D+(N<<23&4294967295|N>>>9),N=C+(O^D^L)+j[1]+2763975236&4294967295,C=O+(N<<4&4294967295|N>>>28),N=L+(C^O^D)+j[4]+1272893353&4294967295,L=C+(N<<11&4294967295|N>>>21),N=D+(L^C^O)+j[7]+4139469664&4294967295,D=L+(N<<16&4294967295|N>>>16),N=O+(D^L^C)+j[10]+3200236656&4294967295,O=D+(N<<23&4294967295|N>>>9),N=C+(O^D^L)+j[13]+681279174&4294967295,C=O+(N<<4&4294967295|N>>>28),N=L+(C^O^D)+j[0]+3936430074&4294967295,L=C+(N<<11&4294967295|N>>>21),N=D+(L^C^O)+j[3]+3572445317&4294967295,D=L+(N<<16&4294967295|N>>>16),N=O+(D^L^C)+j[6]+76029189&4294967295,O=D+(N<<23&4294967295|N>>>9),N=C+(O^D^L)+j[9]+3654602809&4294967295,C=O+(N<<4&4294967295|N>>>28),N=L+(C^O^D)+j[12]+3873151461&4294967295,L=C+(N<<11&4294967295|N>>>21),N=D+(L^C^O)+j[15]+530742520&4294967295,D=L+(N<<16&4294967295|N>>>16),N=O+(D^L^C)+j[2]+3299628645&4294967295,O=D+(N<<23&4294967295|N>>>9),N=C+(D^(O|~L))+j[0]+4096336452&4294967295,C=O+(N<<6&4294967295|N>>>26),N=L+(O^(C|~D))+j[7]+1126891415&4294967295,L=C+(N<<10&4294967295|N>>>22),N=D+(C^(L|~O))+j[14]+2878612391&4294967295,D=L+(N<<15&4294967295|N>>>17),N=O+(L^(D|~C))+j[5]+4237533241&4294967295,O=D+(N<<21&4294967295|N>>>11),N=C+(D^(O|~L))+j[12]+1700485571&4294967295,C=O+(N<<6&4294967295|N>>>26),N=L+(O^(C|~D))+j[3]+2399980690&4294967295,L=C+(N<<10&4294967295|N>>>22),N=D+(C^(L|~O))+j[10]+4293915773&4294967295,D=L+(N<<15&4294967295|N>>>17),N=O+(L^(D|~C))+j[1]+2240044497&4294967295,O=D+(N<<21&4294967295|N>>>11),N=C+(D^(O|~L))+j[8]+1873313359&4294967295,C=O+(N<<6&4294967295|N>>>26),N=L+(O^(C|~D))+j[15]+4264355552&4294967295,L=C+(N<<10&4294967295|N>>>22),N=D+(C^(L|~O))+j[6]+2734768916&4294967295,D=L+(N<<15&4294967295|N>>>17),N=O+(L^(D|~C))+j[13]+1309151649&4294967295,O=D+(N<<21&4294967295|N>>>11),N=C+(D^(O|~L))+j[4]+4149444226&4294967295,C=O+(N<<6&4294967295|N>>>26),N=L+(O^(C|~D))+j[11]+3174756917&4294967295,L=C+(N<<10&4294967295|N>>>22),N=D+(C^(L|~O))+j[2]+718787259&4294967295,D=L+(N<<15&4294967295|N>>>17),N=O+(L^(D|~C))+j[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+L&4294967295}i.prototype.v=function(I,C){C===void 0&&(C=I.length);const O=C-this.blockSize,j=this.C;let D=this.h,L=0;for(;L<C;){if(D==0)for(;L<=O;)a(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<C;)if(j[D++]=I.charCodeAt(L++),D==this.blockSize){a(this,j),D=0;break}}else for(;L<C;)if(j[D++]=I[L++],D==this.blockSize){a(this,j),D=0;break}}this.h=D,this.o+=C},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var O=I.length-8;O<I.length;++O)I[O]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,O=0;O<4;++O)for(let j=0;j<32;j+=8)I[C++]=this.g[O]>>>j&255;return I};function l(I,C){var O=d;return Object.prototype.hasOwnProperty.call(O,I)?O[I]:O[I]=C(I)}function c(I,C){this.h=C;const O=[];let j=!0;for(let D=I.length-1;D>=0;D--){const L=I[D]|0;j&&L==C||(O[D]=L,j=!1)}this.g=O}var d={};function p(I){return-128<=I&&I<128?l(I,function(C){return new c([C|0],C<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return k(g(-I));const C=[];let O=1;for(let j=0;I>=O;j++)C[j]=I/O|0,O*=4294967296;return new c(C,0)}function v(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return k(v(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=g(Math.pow(C,8));let j=b;for(let L=0;L<I.length;L+=8){var D=Math.min(8,I.length-L);const N=parseInt(I.substring(L,L+D),C);D<8?(D=g(Math.pow(C,D)),j=j.j(D).add(g(N))):(j=j.j(O),j=j.add(g(N)))}return j}var b=p(0),x=p(1),S=p(16777216);r=c.prototype,r.m=function(){if(P(this))return-k(this).m();let I=0,C=1;for(let O=0;O<this.g.length;O++){const j=this.i(O);I+=(j>=0?j:4294967296+j)*C,C*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(P(this))return"-"+k(this).toString(I);const C=g(Math.pow(I,6));var O=this;let j="";for(;;){const D=le(O,C).g;O=F(O,D.j(C));let L=((O.g.length>0?O.g[0]:O.h)>>>0).toString(I);if(O=D,M(O))return L+j;for(;L.length<6;)L="0"+L;j=L+j}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function P(I){return I.h==-1}r.l=function(I){return I=F(this,I),P(I)?-1:M(I)?0:1};function k(I){const C=I.g.length,O=[];for(let j=0;j<C;j++)O[j]=~I.g[j];return new c(O,~I.h).add(x)}r.abs=function(){return P(this)?k(this):this},r.add=function(I){const C=Math.max(this.g.length,I.g.length),O=[];let j=0;for(let D=0;D<=C;D++){let L=j+(this.i(D)&65535)+(I.i(D)&65535),N=(L>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);j=N>>>16,L&=65535,N&=65535,O[D]=N<<16|L}return new c(O,O[O.length-1]&-2147483648?-1:0)};function F(I,C){return I.add(k(C))}r.j=function(I){if(M(this)||M(I))return b;if(P(this))return P(I)?k(this).j(k(I)):k(k(this).j(I));if(P(I))return k(this.j(k(I)));if(this.l(S)<0&&I.l(S)<0)return g(this.m()*I.m());const C=this.g.length+I.g.length,O=[];for(var j=0;j<2*C;j++)O[j]=0;for(j=0;j<this.g.length;j++)for(let D=0;D<I.g.length;D++){const L=this.i(j)>>>16,N=this.i(j)&65535,Re=I.i(D)>>>16,Ne=I.i(D)&65535;O[2*j+2*D]+=N*Ne,B(O,2*j+2*D),O[2*j+2*D+1]+=L*Ne,B(O,2*j+2*D+1),O[2*j+2*D+1]+=N*Re,B(O,2*j+2*D+1),O[2*j+2*D+2]+=L*Re,B(O,2*j+2*D+2)}for(I=0;I<C;I++)O[I]=O[2*I+1]<<16|O[2*I];for(I=C;I<2*C;I++)O[I]=0;return new c(O,0)};function B(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function W(I,C){this.g=I,this.h=C}function le(I,C){if(M(C))throw Error("division by zero");if(M(I))return new W(b,b);if(P(I))return C=le(k(I),C),new W(k(C.g),k(C.h));if(P(C))return C=le(I,k(C)),new W(k(C.g),C.h);if(I.g.length>30){if(P(I)||P(C))throw Error("slowDivide_ only works with positive integers.");for(var O=x,j=C;j.l(I)<=0;)O=ce(O),j=ce(j);var D=oe(O,1),L=oe(j,1);for(j=oe(j,2),O=oe(O,2);!M(j);){var N=L.add(j);N.l(I)<=0&&(D=D.add(O),L=N),j=oe(j,1),O=oe(O,1)}return C=F(I,D.j(C)),new W(D,C)}for(D=b;I.l(C)>=0;){for(O=Math.max(1,Math.floor(I.m()/C.m())),j=Math.ceil(Math.log(O)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),L=g(O),N=L.j(C);P(N)||N.l(I)>0;)O-=j,L=g(O),N=L.j(C);M(L)&&(L=x),D=D.add(L),I=F(I,N)}return new W(D,I)}r.B=function(I){return le(this,I).h},r.and=function(I){const C=Math.max(this.g.length,I.g.length),O=[];for(let j=0;j<C;j++)O[j]=this.i(j)&I.i(j);return new c(O,this.h&I.h)},r.or=function(I){const C=Math.max(this.g.length,I.g.length),O=[];for(let j=0;j<C;j++)O[j]=this.i(j)|I.i(j);return new c(O,this.h|I.h)},r.xor=function(I){const C=Math.max(this.g.length,I.g.length),O=[];for(let j=0;j<C;j++)O[j]=this.i(j)^I.i(j);return new c(O,this.h^I.h)};function ce(I){const C=I.g.length+1,O=[];for(let j=0;j<C;j++)O[j]=I.i(j)<<1|I.i(j-1)>>>31;return new c(O,I.h)}function oe(I,C){const O=C>>5;C%=32;const j=I.g.length-O,D=[];for(let L=0;L<j;L++)D[L]=C>0?I.i(L+O)>>>C|I.i(L+O+1)<<32-C:I.i(L+O);return new c(D,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,MN=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,ks=c}).apply(typeof RR<"u"?RR:typeof self<"u"?self:typeof window<"u"?window:{});var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jN,Nu,VN,af,t0,PN,LN,UN;(function(){var r,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof $h=="object"&&$h];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function a(h,_){if(_)e:{var T=i;h=h.split(".");for(var A=0;A<h.length-1;A++){var G=h[A];if(!(G in T))break e;T=T[G]}h=h[h.length-1],A=T[h],_=_(A),_!=A&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var T=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&T.push([A,_[A]]);return T}});var l=l||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,T){return h.call.apply(h.bind,arguments)}function g(h,_,T){return g=p,g.apply(null,arguments)}function v(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function b(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(A,G,J){for(var fe=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)fe[Ve-2]=arguments[Ve];return _.prototype[G].apply(A,fe)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const _=h.length;if(_>0){const T=Array(_);for(let A=0;A<_;A++)T[A]=h[A];return T}return[]}function M(h,_){for(let A=1;A<arguments.length;A++){const G=arguments[A];var T=typeof G;if(T=T!="object"?T:G?Array.isArray(G)?"array":T:"null",T=="array"||T=="object"&&typeof G.length=="number"){T=h.length||0;const J=G.length||0;h.length=T+J;for(let fe=0;fe<J;fe++)h[T+fe]=G[fe]}else h.push(G)}}class P{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(h){c.setTimeout(()=>{throw h},0)}function F(){var h=I;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,T){const A=W.get();A.set(_,T),this.h?this.h.next=A:this.g=A,this.h=A}}var W=new P(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,oe=!1,I=new B,C=()=>{const h=Promise.resolve(void 0);ce=()=>{h.then(O)}};function O(){for(var h;h=F();){try{h.h.call(h.g)}catch(T){k(T)}var _=W;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}oe=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Re(h,_){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(Re,D),Re.prototype.init=function(h,_){const T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Re.Z.h.call(this)},Re.prototype.h=function(){Re.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),ee=0;function he(h,_,T,A,G){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!A,this.ha=G,this.key=++ee,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Le(h,_,T){for(const A in h)_.call(T,h[A],A,h)}function Fe(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function U(h){const _={};for(const T in h)_[T]=h[T];return _}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,_){let T,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(T in A)h[T]=A[T];for(let J=0;J<ne.length;J++)T=ne[J],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,_,T,A,G){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const fe=Q(h,_,A,G);return fe>-1?(_=h[fe],T||(_.fa=!1)):(_=new he(_,this.src,J,!!A,G),_.fa=T,h.push(_)),_};function X(h,_){const T=_.type;if(T in h.g){var A=h.g[T],G=Array.prototype.indexOf.call(A,_,void 0),J;(J=G>=0)&&Array.prototype.splice.call(A,G,1),J&&(ye(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Q(h,_,T,A){for(let G=0;G<h.length;++G){const J=h[G];if(!J.da&&J.listener==_&&J.capture==!!T&&J.ha==A)return G}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),Me={};function be(h,_,T,A,G){if(Array.isArray(_)){for(let J=0;J<_.length;J++)be(h,_[J],T,A,G);return null}return T=$n(T),h&&h[Ne]?h.J(_,T,d(A)?!!A.capture:!1,G):je(h,_,T,!1,A,G)}function je(h,_,T,A,G,J){if(!_)throw Error("Invalid event type");const fe=d(G)?!!G.capture:!!G;let Ve=ot(h);if(Ve||(h[pe]=Ve=new de(h)),T=Ve.add(_,T,A,fe,J),T.proxy)return T;if(A=Be(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)L||(G=fe),G===void 0&&(G=!1),h.addEventListener(_.toString(),A,G);else if(h.attachEvent)h.attachEvent(ze(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Be(){function h(T){return _.call(h.src,h.listener,T)}const _=Ae;return h}function we(h,_,T,A,G){if(Array.isArray(_))for(var J=0;J<_.length;J++)we(h,_[J],T,A,G);else A=d(A)?!!A.capture:!!A,T=$n(T),h&&h[Ne]?(h=h.i,J=String(_).toString(),J in h.g&&(_=h.g[J],T=Q(_,T,A,G),T>-1&&(ye(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[J],h.h--)))):h&&(h=ot(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Q(_,T,A,G)),(T=h>-1?_[h]:null)&&He(T))}function He(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Ne])X(_.i,h);else{var T=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(T,A,h.capture):_.detachEvent?_.detachEvent(ze(T),A):_.addListener&&_.removeListener&&_.removeListener(A),(T=ot(_))?(X(T,h),T.h==0&&(T.src=null,_[pe]=null)):ye(h)}}}function ze(h){return h in Me?Me[h]:Me[h]="on"+h}function Ae(h,_){if(h.da)h=!0;else{_=new Re(_,this);const T=h.listener,A=h.ha||h.src;h.fa&&He(h),h=T.call(A,_)}return h}function ot(h){return h=h[pe],h instanceof de?h:null}var Ue="__closure_events_fn_"+(Math.random()*1e9>>>0);function $n(h){return typeof h=="function"?h:(h[Ue]||(h[Ue]=function(_){return h.handleEvent(_)}),h[Ue])}function mt(){j.call(this),this.i=new de(this),this.M=this,this.G=null}b(mt,j),mt.prototype[Ne]=!0,mt.prototype.removeEventListener=function(h,_,T,A){we(this,h,_,T,A)};function Ct(h,_){var T,A=h.G;if(A)for(T=[];A;A=A.G)T.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new D(_,h);else if(_ instanceof D)_.target=_.target||h;else{var G=_;_=new D(A,h),ue(_,G)}G=!0;let J,fe;if(T)for(fe=T.length-1;fe>=0;fe--)J=_.g=T[fe],G=Mn(J,A,!0,_)&&G;if(J=_.g=h,G=Mn(J,A,!0,_)&&G,G=Mn(J,A,!1,_)&&G,T)for(fe=0;fe<T.length;fe++)J=_.g=T[fe],G=Mn(J,A,!1,_)&&G}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let A=0;A<T.length;A++)ye(T[A]);delete h.g[_],h.h--}}this.G=null},mt.prototype.J=function(h,_,T,A){return this.i.add(String(h),_,!1,T,A)},mt.prototype.K=function(h,_,T,A){return this.i.add(String(h),_,!0,T,A)};function Mn(h,_,T,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let J=0;J<_.length;++J){const fe=_[J];if(fe&&!fe.da&&fe.capture==T){const Ve=fe.listener,Nt=fe.ha||fe.src;fe.fa&&X(h.i,fe),G=Ve.call(Nt,A)!==!1&&G}}return G&&!A.defaultPrevented}function Kn(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function Xt(h){h.g=Kn(()=>{h.g=null,h.i&&(h.i=!1,Xt(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Mt extends j{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Xt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(h){j.call(this),this.h=h,this.g={}}b(Yn,j);var Hs=[];function Hi(h){Le(h.g,function(_,T){this.g.hasOwnProperty(T)&&He(_)},h),h.g={}}Yn.prototype.N=function(){Yn.Z.N.call(this),Hi(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=c.JSON.stringify,$a=c.JSON.parse,Gs=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ka(){}function $s(){}var jt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vt(){D.call(this,"d")}b(vt,D);function Qn(){D.call(this,"c")}b(Qn,D);var It={},vc=null;function Ya(){return vc=vc||new mt}It.Ia="serverreachability";function _c(h){D.call(this,It.Ia,h)}b(_c,D);function kr(h){const _=Ya();Ct(_,new _c(_))}It.STAT_EVENT="statevent";function Ks(h,_){D.call(this,It.STAT_EVENT,h),this.stat=_}b(Ks,D);function Vt(h){const _=Ya();Ct(_,new Ks(_,h))}It.Ja="timingevent";function Mr(h,_){D.call(this,It.Ja,h),this.size=_}b(Mr,D);function jr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function fr(){this.g=!0}fr.prototype.ua=function(){this.g=!1};function Rd(h,_,T,A,G,J){h.info(function(){if(h.g)if(J){var fe="",Ve=J.split("&");for(let it=0;it<Ve.length;it++){var Nt=Ve[it].split("=");if(Nt.length>1){const Tt=Nt[0];Nt=Nt[1];const Zn=Tt.split("_");fe=Zn.length>=2&&Zn[1]=="type"?fe+(Tt+"="+Nt+"&"):fe+(Tt+"=redacted&")}}}else fe=null;else fe=J;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+_+`
`+T+`
`+fe})}function bc(h,_,T,A,G,J,fe){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+_+`
`+T+`
`+J+" "+fe})}function Vr(h,_,T,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Cd(h,T)+(A?" "+A:"")})}function Ys(h,_){h.info(function(){return"TIMEOUT: "+_})}fr.prototype.info=function(){};function Cd(h,_){if(!h.g)return _;if(!_)return null;try{const J=JSON.parse(_);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var T=J[h];if(!(T.length<2)){var A=T[1];if(Array.isArray(A)&&!(A.length<1)){var G=A[0];if(G!="noop"&&G!="stop"&&G!="close")for(let fe=1;fe<A.length;fe++)A[fe]=""}}}}return En(J)}catch{return _}}var Qs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},El;function Xs(){}b(Xs,Ka),Xs.prototype.g=function(){return new XMLHttpRequest},El=new Xs;function ci(h){return encodeURIComponent(String(h))}function Ec(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function dr(h,_,T,A){this.j=h,this.i=_,this.l=T,this.S=A||1,this.V=new Yn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pr}function pr(){this.i=null,this.g="",this.h=!1}var Pt={},en={};function Pr(h,_,T){h.M=1,h.A=Ws(Ut(_)),h.u=T,h.R=!0,Qa(h,null)}function Qa(h,_){h.F=Date.now(),Lr(h),h.B=Ut(h.A);var T=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Za(T.i,"t",A),h.C=0,T=h.j.L,h.h=new pr,h.g=Vc(h.j,T?_:null,!h.u),h.P>0&&(h.O=new Mt(g(h.Y,h,h.g),h.P)),_=h.V,T=h.g,A=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(Hs[0]=G.toString()),G=Hs);for(let J=0;J<G.length;J++){const fe=be(T,G[J],A||_.handleEvent,!1,_.h||_);if(!fe)break;_.g[fe.key]=fe}_=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),kr(),Rd(h.i,h.v,h.B,h.l,h.S,h.u)}dr.prototype.ba=function(h){h=h.target;const _=this.O;_&&yr(h)==3?_.j():this.Y(h)},dr.prototype.Y=function(h){try{if(h==this.g)e:{const Ve=yr(this.g),Nt=this.g.ya(),it=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ve!=4||Nt==7||(Nt==8||it<=0?kr(3):kr(2)),Ur(this);var _=this.g.ca();this.X=_;var T=Id(this);if(this.o=_==200,bc(this.i,this.v,this.B,this.l,this.S,Ve,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,G=this.g;if((A=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var J=A;break t}}J=null}if(h=J)Vr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qr(this,h);else{this.o=!1,this.m=3,Vt(12),jn(this),Xn(this);break e}}if(this.R){h=!0;let Tt;for(;!this.K&&this.C<T.length;)if(Tt=xc(this,T),Tt==en){Ve==4&&(this.m=4,Vt(14),h=!1),Vr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Pt){this.m=4,Vt(15),Vr(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Vr(this.i,this.l,Tt,null),qr(this,Tt);if(Tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||T.length!=0||this.h.h||(this.m=1,Vt(16),h=!1),this.o=this.o&&h,!h)Vr(this.i,this.l,T,"[Invalid Chunked Response]"),jn(this),Xn(this);else if(T.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Vl(fe),fe.P=!0,Vt(11))}}else Vr(this.i,this.l,T,null),qr(this,T);Ve==4&&jn(this),this.o&&!this.K&&(Ve==4?Dc(this.j,this):(this.o=!1,Lr(this)))}else fi(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),jn(this),Xn(this)}}}catch{}};function Id(h){if(!Tc(h))return h.g.la();const _=sn(h.g);if(_==="")return"";let T="";const A=_.length,G=yr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return jn(h),Xn(h),"";h.h.i=new c.TextDecoder}for(let J=0;J<A;J++)h.h.h=!0,T+=h.h.i.decode(_[J],{stream:!(G&&J==A-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function Tc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function xc(h,_){var T=h.C,A=_.indexOf(`
`,T);return A==-1?en:(T=Number(_.substring(T,A)),isNaN(T)?Pt:(A+=1,A+T>_.length?en:(_=_.slice(A,A+T),h.C=A+T,_)))}dr.prototype.cancel=function(){this.K=!0,jn(this)};function Lr(h){h.T=Date.now()+h.H,Xa(h,h.H)}function Xa(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=jr(g(h.aa,h),_)}function Ur(h){h.D&&(c.clearTimeout(h.D),h.D=null)}dr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ys(this.i,this.B),this.M!=2&&(kr(),Vt(17)),jn(this),this.m=2,Xn(this)):Xa(this,this.T-h)};function Xn(h){h.j.I==0||h.K||Dc(h.j,h)}function jn(h){Ur(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Hi(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function qr(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||Br(T.h,h))){if(!h.L&&Br(T.h,h)&&T.I==3){try{var A=T.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)io(T),Ji(T);else break e;ia(T),Vt(18)}}else T.xa=G[1],0<T.xa-T.K&&G[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=jr(g(T.Va,T),6e3));zr(T.h)<=1&&T.ta&&(T.ta=void 0)}else Yr(T,11)}else if((h.L||T.g==h)&&io(T),!N(_))for(G=T.Ba.g.parse(_),_=0;_<G.length;_++){let it=G[_];const Tt=it[0];if(!(Tt<=T.K))if(T.K=Tt,it=it[1],T.I==2)if(it[0]=="c"){T.M=it[1],T.ba=it[2];const Zn=it[3];Zn!=null&&(T.ka=Zn,T.j.info("VER="+T.ka));const Qr=it[4];Qr!=null&&(T.za=Qr,T.j.info("SVER="+T.za));const vr=it[5];vr!=null&&typeof vr=="number"&&vr>0&&(A=1.5*vr,T.O=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const _r=h.g;if(_r){const sa=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sa){var J=A.h;J.g||sa.indexOf("spdy")==-1&&sa.indexOf("quic")==-1&&sa.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Sl(J,J.h),J.h=null))}if(A.G){const so=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;so&&(A.wa=so,lt(A.J,A.G,so))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),A=T;var fe=h;if(A.na=jc(A,A.L?A.ba:null,A.W),fe.L){wl(A.h,fe);var Ve=fe,Nt=A.O;Nt&&(Ve.H=Nt),Ve.D&&(Ur(Ve),Lr(Ve)),A.g=fe}else Nc(A);T.i.length>0&&Kr(T)}else it[0]!="stop"&&it[0]!="close"||Yr(T,7);else T.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Yr(T,7):Ml(T):it[0]!="noop"&&T.l&&T.l.qa(it),T.A=0)}}kr(4)}catch{}}var Lt=class{constructor(h,_){this.g=h,this.map=_}};function Tl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function zr(h){return h.h?1:h.g?h.g.size:0}function Br(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Sl(h,_){h.g?h.g.add(_):h.h=_}function wl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Tl.prototype.cancel=function(){if(this.i=Al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Al(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return S(h.i)}var Sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const A=h[T].indexOf("=");let G,J=null;A>=0?(G=h[T].substring(0,A),J=h[T].substring(A+1)):G=h[T],_(G,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Vn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Vn?(this.l=h.l,tn(this,h.j),this.o=h.o,this.g=h.g,Gi(this,h.u),this.h=h.h,Rl(this,Cc(h.i)),this.m=h.m):h&&(_=String(h).match(Sc))?(this.l=!1,tn(this,_[1]||"",!0),this.o=Fr(_[2]||""),this.g=Fr(_[3]||"",!0),Gi(this,_[4]),this.h=Fr(_[5]||"",!0),Rl(this,_[6]||"",!0),this.m=Fr(_[7]||"")):(this.l=!1,this.i=new Ki(null,this.l))}Vn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Js(_,Ja,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Js(_,Ja,!0),"@"),h.push(ci(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Js(T,T.charAt(0)=="/"?Cl:wc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Js(T,Ac)),h.join("")},Vn.prototype.resolve=function(h){const _=Ut(this);let T=!!h.j;T?tn(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var A=h.h;if(T)Gi(_,h.u);else if(T=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var G=_.h.lastIndexOf("/");G!=-1&&(A=_.h.slice(0,G+1)+A)}if(G=A,G==".."||G==".")A="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){A=G.lastIndexOf("/",0)==0,G=G.split("/");const J=[];for(let fe=0;fe<G.length;){const Ve=G[fe++];Ve=="."?A&&fe==G.length&&J.push(""):Ve==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),A&&fe==G.length&&J.push("")):(J.push(Ve),A=!0)}A=J.join("/")}else A=G}return T?_.h=A:T=h.i.toString()!=="",T?Rl(_,Cc(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Ut(h){return new Vn(h)}function tn(h,_,T){h.j=T?Fr(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Gi(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Rl(h,_,T){_ instanceof Ki?(h.i=_,eo(h.i,h.l)):(T||(_=Js(_,$i)),h.i=new Ki(_,h.l))}function lt(h,_,T){h.i.set(_,T)}function Ws(h){return lt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Fr(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Js(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,wn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function wn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ja=/[#\/\?@]/g,wc=/[#\?:]/g,Cl=/[#\?]/g,$i=/[#\?@]/g,Ac=/#/g;function Ki(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function An(h){h.g||(h.g=new Map,h.h=0,h.i&&Wa(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}r=Ki.prototype,r.add=function(h,_){An(this),this.i=null,h=Yi(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function Rc(h,_){An(h),_=Yi(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Il(h,_){return An(h),_=Yi(h,_),h.g.has(_)}r.forEach=function(h,_){An(this),this.g.forEach(function(T,A){T.forEach(function(G){h.call(_,G,A,this)},this)},this)};function Nl(h,_){An(h);let T=[];if(typeof _=="string")Il(h,_)&&(T=T.concat(h.g.get(Yi(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}r.set=function(h,_){return An(this),this.i=null,h=Yi(this,h),Il(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},r.get=function(h,_){return h?(h=Nl(this,h),h.length>0?String(h[0]):_):_};function Za(h,_,T){Rc(h,_),T.length>0&&(h.i=null,h.g.set(Yi(h,_),S(T)),h.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var T=_[A];const G=ci(T);T=Nl(this,T);for(let J=0;J<T.length;J++){let fe=G;T[J]!==""&&(fe+="="+ci(T[J])),h.push(fe)}}return this.i=h.join("&")};function Cc(h){const _=new Ki;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Yi(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function eo(h,_){_&&!h.j&&(An(h),h.i=null,h.g.forEach(function(T,A){const G=A.toLowerCase();A!=G&&(Rc(this,A),Za(this,G,T))},h)),h.j=_}function mr(h,_){const T=new fr;if(c.Image){const A=new Image;A.onload=v(Wn,T,"TestLoadImage: loaded",!0,_,A),A.onerror=v(Wn,T,"TestLoadImage: error",!1,_,A),A.onabort=v(Wn,T,"TestLoadImage: abort",!1,_,A),A.ontimeout=v(Wn,T,"TestLoadImage: timeout",!1,_,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function Ol(h,_){const T=new fr,A=new AbortController,G=setTimeout(()=>{A.abort(),Wn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then(J=>{clearTimeout(G),J.ok?Wn(T,"TestPingServer: ok",!0,_):Wn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Wn(T,"TestPingServer: error",!1,_)})}function Wn(h,_,T,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(T)}catch{}}function Qi(){this.g=new Gs}function Hr(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Hr,Ka),Hr.prototype.g=function(){return new Zs(this.i,this.h)};function Zs(h,_){mt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Zs,mt),r=Zs.prototype,r.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,gr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xi(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;to(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function to(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Xi(this):gr(this),this.readyState==3&&to(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,Xi(this))},r.Na=function(h){this.g&&(this.response=h,Xi(this))},r.ga=function(){this.g&&Xi(this)};function Xi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,gr(h)}r.setRequestHeader=function(h,_){this.A.append(h,_)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function gr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Jn(h){let _="";return Le(h,function(T,A){_+=A,_+=":",_+=T,_+=`\r
`}),_}function ea(h,_,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=Jn(T),typeof h=="string"?T!=null&&ci(T):lt(h,_,T))}function ht(h){mt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ht,mt);var Gr=/^https?$/i,Dl=["POST","PUT"];r=ht.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,_,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():El.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(J){ta(this,J);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)T.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const J of A.keys())T.set(J,A.get(J));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Dl,_,void 0)>=0)||A||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,fe]of T)this.g.setRequestHeader(J,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){ta(this,J)}};function ta(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,kl(h),hi(h)}function kl(h){h.A||(h.A=!0,Ct(h,"complete"),Ct(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ct(this,"complete"),Ct(this,"abort"),hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),ht.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?na(this):this.Xa())},r.Xa=function(){na(this)};function na(h){if(h.h&&typeof l<"u"){if(h.v&&yr(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ct(h,"readystatechange"),yr(h)==4){h.h=!1;try{const J=h.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var A;if(A=J===0){let fe=String(h.D).match(Sc)[1]||null;!fe&&c.self&&c.self.location&&(fe=c.self.location.protocol.slice(0,-1)),A=!Gr.test(fe?fe.toLowerCase():"")}T=A}if(T)Ct(h,"complete"),Ct(h,"success");else{h.o=6;try{var G=yr(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",kl(h)}}finally{hi(h)}}}}function hi(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||Ct(h,"ready");try{T.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function yr(h){return h.g?h.g.readyState:0}r.ca=function(){try{return yr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),$a(_)}};function sn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fi(h){const _={};h=(h.g&&yr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(N(h[A]))continue;var T=Ec(h[A]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=_[G]||[];_[G]=J,J.push(T)}Fe(_,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Wi(h){this.za=0,this.i=[],this.j=new fr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$r("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$r("baseRetryDelayMs",5e3,h),this.Za=$r("retryDelaySeedMs",1e4,h),this.Ta=$r("forwardChannelMaxRetries",2,h),this.va=$r("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Tl(h&&h.concurrentRequestLimit),this.Ba=new Qi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Wi.prototype,r.ka=8,r.I=1,r.connect=function(h,_,T,A){Vt(0),this.W=h,this.H=_||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.J=jc(this,null,this.W),Kr(this)};function Ml(h){if(no(h),h.I==3){var _=h.V++,T=Ut(h.J);if(lt(T,"SID",h.M),lt(T,"RID",_),lt(T,"TYPE","terminate"),ra(h,T),_=new dr(h,h.j,_),_.M=2,_.A=Ws(Ut(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=Vc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Lr(_)}Mc(h)}function Ji(h){h.g&&(Vl(h),h.g.cancel(),h.g=null)}function no(h){Ji(h),h.v&&(c.clearTimeout(h.v),h.v=null),io(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Kr(h){if(!xl(h.h)&&!h.m){h.m=!0;var _=h.Ea;ce||C(),oe||(ce(),oe=!0),I.add(_,h),h.D=0}}function ro(h,_){return zr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=jr(g(h.Ea,h,_),kc(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new dr(this,this.j,h);let J=this.o;if(this.U&&(J?(J=U(J),ue(J,this.U)):J=this.U),this.u!==null||this.R||(G.J=J,J=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Ic(this,G,_),T=Ut(this.J),lt(T,"RID",h),lt(T,"CVER",22),this.G&&lt(T,"X-HTTP-Session-Id",this.G),ra(this,T),J&&(this.R?_="headers="+ci(Jn(J))+"&"+_:this.u&&ea(T,this.u,J)),Sl(this.h,G),this.Ra&&lt(T,"TYPE","init"),this.S?(lt(T,"$req",_),lt(T,"SID","null"),G.U=!0,Pr(G,T,null)):Pr(G,T,_),this.I=2}}else this.I==3&&(h?jl(this,h):this.i.length==0||xl(this.h)||jl(this))};function jl(h,_){var T;_?T=_.l:T=h.V++;const A=Ut(h.J);lt(A,"SID",h.M),lt(A,"RID",T),lt(A,"AID",h.K),ra(h,A),h.u&&h.o&&ea(A,h.u,h.o),T=new dr(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Ic(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Sl(h.h,T),Pr(T,A,_)}function ra(h,_){h.H&&Le(h.H,function(T,A){lt(_,A,T)}),h.l&&Le({},function(T,A){lt(_,A,T)})}function Ic(h,_,T){T=Math.min(h.i.length,T);const A=h.l?g(h.l.Ka,h.l,h):null;e:{var G=h.i;let Ve=-1;for(;;){const Nt=["count="+T];Ve==-1?T>0?(Ve=G[0].g,Nt.push("ofs="+Ve)):Ve=0:Nt.push("ofs="+Ve);let it=!0;for(let Tt=0;Tt<T;Tt++){var J=G[Tt].g;const Zn=G[Tt].map;if(J-=Ve,J<0)Ve=Math.max(0,G[Tt].g-100),it=!1;else try{J="req"+J+"_"||"";try{var fe=Zn instanceof Map?Zn:Object.entries(Zn);for(const[Qr,vr]of fe){let _r=vr;d(vr)&&(_r=En(vr)),Nt.push(J+Qr+"="+encodeURIComponent(_r))}}catch(Qr){throw Nt.push(J+"type="+encodeURIComponent("_badmap")),Qr}}catch{A&&A(Zn)}}if(it){fe=Nt.join("&");break e}}fe=void 0}return h=h.i.splice(0,T),_.G=h,fe}function Nc(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ce||C(),oe||(ce(),oe=!0),I.add(_,h),h.A=0}}function ia(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=jr(g(h.Da,h),kc(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,Oc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=jr(g(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),Ji(this),Oc(this))};function Vl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Oc(h){h.g=new dr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ut(h.na);lt(_,"RID","rpc"),lt(_,"SID",h.M),lt(_,"AID",h.K),lt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&lt(_,"TO",h.ia),lt(_,"TYPE","xmlhttp"),ra(h,_),h.u&&h.o&&ea(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Ws(Ut(_)),T.u=null,T.R=!0,Qa(T,h)}r.Va=function(){this.C!=null&&(this.C=null,Ji(this),ia(this),Vt(19))};function io(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Dc(h,_){var T=null;if(h.g==_){io(h),Vl(h),h.g=null;var A=2}else if(Br(h.h,_))T=_.G,wl(h.h,_),A=1;else return;if(h.I!=0){if(_.o)if(A==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var G=h.D;A=Ya(),Ct(A,new Mr(A,T)),Kr(h)}else Nc(h);else if(G=_.m,G==3||G==0&&_.X>0||!(A==1&&ro(h,_)||A==2&&ia(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),G){case 1:Yr(h,5);break;case 4:Yr(h,10);break;case 3:Yr(h,6);break;default:Yr(h,2)}}}function kc(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function Yr(h,_){if(h.j.info("Error code "+_),_==2){var T=g(h.bb,h),A=h.Ua;const G=!A;A=new Vn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||tn(A,"https"),Ws(A),G?mr(A.toString(),T):Ol(A.toString(),T)}else Vt(2);h.I=0,h.l&&h.l.pa(_),Mc(h),no(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Mc(h){if(h.I=0,h.ja=[],h.l){const _=Al(h.h);(_.length!=0||h.i.length!=0)&&(M(h.ja,_),M(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function jc(h,_,T){var A=T instanceof Vn?Ut(T):new Vn(T);if(A.g!="")_&&(A.g=_+"."+A.g),Gi(A,A.u);else{var G=c.location;A=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const J=new Vn(null);A&&tn(J,A),_&&(J.g=_),G&&Gi(J,G),T&&(J.h=T),A=J}return T=h.G,_=h.wa,T&&_&&lt(A,T,_),lt(A,"VER",h.ka),ra(h,A),A}function Vc(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new ht(new Hr({ab:T})):new ht(h.ma),_.Fa(h.L),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}r=Pc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Zi(){}Zi.prototype.g=function(h,_){return new Tn(h,_)};function Tn(h,_){mt.call(this),this.g=new Wi(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!N(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new di(this)}b(Tn,mt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Ml(this.g)},Tn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=En(h),h=T);_.i.push(new Lt(_.Ya++,h)),_.I==3&&Kr(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,Tn.Z.N.call(this)};function Lc(h){vt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(Lc,vt);function Uc(){Qn.call(this),this.status=1}b(Uc,Qn);function di(h){this.g=h}b(di,Pc),di.prototype.ra=function(){Ct(this.g,"a")},di.prototype.qa=function(h){Ct(this.g,new Lc(h))},di.prototype.pa=function(h){Ct(this.g,new Uc)},di.prototype.oa=function(){Ct(this.g,"b")},Zi.prototype.createWebChannel=Zi.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,UN=function(){return new Zi},LN=function(){return Ya()},PN=It,t0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qs.NO_ERROR=0,Qs.TIMEOUT=8,Qs.HTTP_ERROR=6,af=Qs,bl.COMPLETE="complete",VN=bl,$s.EventType=jt,jt.OPEN="a",jt.CLOSE="b",jt.ERROR="c",jt.MESSAGE="d",mt.prototype.listen=mt.prototype.J,Nu=$s,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,jN=ht}).apply(typeof $h<"u"?$h:typeof self<"u"?self:typeof window<"u"?window:{});class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let dl="12.8.0";function a7(r){dl=r}const Va=new W0("@firebase/firestore");function Vo(){return Va.logLevel}function ge(r,...e){if(Va.logLevel<=We.DEBUG){const t=e.map(hb);Va.debug(`Firestore (${dl}): ${r}`,...t)}}function Ui(r,...e){if(Va.logLevel<=We.ERROR){const t=e.map(hb);Va.error(`Firestore (${dl}): ${r}`,...t)}}function Jo(r,...e){if(Va.logLevel<=We.WARN){const t=e.map(hb);Va.warn(`Firestore (${dl}): ${r}`,...t)}}function hb(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function Se(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,qN(r,i,t)}function qN(r,e,t){let i=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ui(i),new Error(i)}function at(r,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,r||qN(e,a,i)}function ke(r,e){return r}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class zN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(vn.UNAUTHENTICATED)))}shutdown(){}}class l7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class u7{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){at(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mi,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mi)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(at(typeof i.accessToken=="string",31837,{l:i}),new zN(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class c7{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class h7{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new c7(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f7{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){at(this.o===void 0,3512);const i=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new CR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(at(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new CR(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function d7(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class fb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=d7(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Je(r,e){return r<e?-1:r>e?1:0}function n0(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const a=r.charAt(i),l=e.charAt(i);if(a!==l)return Lv(a)===Lv(l)?Je(a,l):Lv(a)?1:-1}return Je(r.length,e.length)}const p7=55296,m7=57343;function Lv(r){const e=r.charCodeAt(0);return e>=p7&&e<=m7}function Zo(r,e,t){return r.length===e.length&&r.every(((i,a)=>t(i,e[a])))}const IR="__name__";class ei{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Se(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=ei.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Je(e.length,t.length)}static compareSegments(e,t){const i=ei.isNumericId(e),a=ei.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ei.extractNumericId(e).compare(ei.extractNumericId(t)):n0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class yt extends ei{construct(e,t,i){return new yt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new yt(t)}static emptyPath(){return new yt([])}}const g7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends ei{construct(e,t,i){return new hn(e,t,i)}static isValidIdentifier(e){return g7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IR}static keyField(){return new hn([IR])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(t)}static emptyPath(){return new hn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(yt.fromString(e))}static fromName(e){return new Te(yt.fromString(e).popFirst(5))}static empty(){return new Te(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new yt(e.slice()))}}function BN(r,e,t){if(!t)throw new me(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function y7(r,e,t,i){if(e===!0&&i===!0)throw new me(ie.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function NR(r){if(!Te.isDocumentKey(r))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function OR(r){if(Te.isDocumentKey(r))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function FN(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function fd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function qi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fd(r);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function v7(r,e){if(e<=0)throw new me(ie.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function $t(r,e){const t={typeString:r};return e&&(t.value=e),t}function fc(r,e){if(!FN(r))throw new me(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const c=r[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new me(ie.INVALID_ARGUMENT,t);return!0}const DR=-62135596800,kR=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*kR);return new Et(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<DR)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kR}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fc(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-DR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:$t("string",Et._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Et(0,0))}static max(){return new Oe(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ku=-1;function _7(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(i===1e9?new Et(t+1,0):new Et(t,i));return new Ps(a,Te.empty(),e)}function b7(r){return new Ps(r.readTime,r.key,Ku)}class Ps{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ps(Oe.min(),Te.empty(),Ku)}static max(){return new Ps(Oe.max(),Te.empty(),Ku)}}function E7(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(r.documentKey,e.documentKey),t!==0?t:Je(r.largestBatchId,e.largestBatchId))}const T7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function pl(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==T7)throw r;ge("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ae.reject(t)}static resolve(e){return new ae(((t,i)=>{t(e)}))}static reject(e){return new ae(((t,i)=>{i(e)}))}static waitFor(e){return new ae(((t,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(p=>i(p)))})),c=!0,l===a&&t()}))}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next((a=>a?ae.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new ae(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((v=>{c[g]=v,++d,d===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new ae(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}function S7(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ml(r){return r.name==="IndexedDbTransactionError"}class dd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dd.ce=-1;const db=-1;function pd(r){return r==null}function Sf(r){return r===0&&1/r==-1/0}function w7(r){return typeof r=="number"&&Number.isInteger(r)&&!Sf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const HN="";function A7(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=MR(e)),e=R7(r.get(t),e);return MR(e)}function R7(r,e){let t=e;const i=r.length;for(let a=0;a<i;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case HN:t+="";break;default:t+=l}}return t}function MR(r){return r+HN+""}function jR(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ba(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function GN(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class wt{constructor(e,t){this.comparator=e,this.root=t||cn.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kh(this.root,e,this.comparator,!0)}}class Kh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new cn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new VR(this.data.getIterator())}getIteratorFrom(e){return new VR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Zt(this.comparator);return t.data=e,t}}class VR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wr{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new wr([])}unionWith(e){let t=new Zt(hn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new wr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class $N extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new $N("Invalid base64 string: "+l):l}})(e);return new dn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const C7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(r){if(at(!!r,39018),typeof r=="string"){let e=0;const t=C7.exec(r);if(at(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Us(r){return typeof r=="string"?dn.fromBase64String(r):dn.fromUint8Array(r)}const KN="server_timestamp",YN="__type__",QN="__previous_value__",XN="__local_write_time__";function pb(r){return(r?.mapValue?.fields||{})[YN]?.stringValue===KN}function md(r){const e=r.mapValue.fields[QN];return pb(e)?md(e):e}function Yu(r){const e=Ls(r.mapValue.fields[XN].timestampValue);return new Et(e.seconds,e.nanos)}class I7{constructor(e,t,i,a,l,c,d,p,g,v,b){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=b}}const wf="(default)";class Qu{constructor(e,t){this.projectId=e,this.database=t||wf}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database===wf}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}function N7(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(r.options.projectId,e)}const WN="__type__",O7="__max__",Yh={mapValue:{}},JN="__vector__",Af="value";function qs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pb(r)?4:k7(r)?9007199254740991:D7(r)?10:11:Se(28295,{value:r})}function li(r,e){if(r===e)return!0;const t=qs(r);if(t!==qs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yu(r).isEqual(Yu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ls(a.timestampValue),d=Ls(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return Us(a.bytesValue).isEqual(Us(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return kt(a.geoPointValue.latitude)===kt(l.geoPointValue.latitude)&&kt(a.geoPointValue.longitude)===kt(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return kt(a.integerValue)===kt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=kt(a.doubleValue),d=kt(l.doubleValue);return c===d?Sf(c)===Sf(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return Zo(r.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(jR(c)!==jR(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!li(c[p],d[p])))return!1;return!0})(r,e);default:return Se(52216,{left:r})}}function Xu(r,e){return(r.values||[]).find((t=>li(t,e)))!==void 0}function el(r,e){if(r===e)return 0;const t=qs(r),i=qs(e);if(t!==i)return Je(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Je(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=kt(l.integerValue||l.doubleValue),p=kt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(r,e);case 3:return PR(r.timestampValue,e.timestampValue);case 4:return PR(Yu(r),Yu(e));case 5:return n0(r.stringValue,e.stringValue);case 6:return(function(l,c){const d=Us(l),p=Us(c);return d.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Je(d[g],p[g]);if(v!==0)return v}return Je(d.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Je(kt(l.latitude),kt(c.latitude));return d!==0?d:Je(kt(l.longitude),kt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return LR(r.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},g=d[Af]?.arrayValue,v=p[Af]?.arrayValue,b=Je(g?.values?.length||0,v?.values?.length||0);return b!==0?b:LR(g,v)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Yh.mapValue&&c===Yh.mapValue)return 0;if(l===Yh.mapValue)return 1;if(c===Yh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const x=n0(p[b],v[b]);if(x!==0)return x;const S=el(d[p[b]],g[v[b]]);if(S!==0)return S}return Je(p.length,v.length)})(r.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function PR(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Je(r,e);const t=Ls(r),i=Ls(e),a=Je(t.seconds,i.seconds);return a!==0?a:Je(t.nanos,i.nanos)}function LR(r,e){const t=r.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=el(t[a],i[a]);if(l)return l}return Je(t.length,i.length)}function tl(r){return r0(r)}function r0(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=Ls(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Us(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Te.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=r0(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${r0(t.fields[c])}`;return a+"}"})(r.mapValue):Se(61005,{value:r})}function of(r){switch(qs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=md(r);return e?16+of(e):16;case 5:return 2*r.stringValue.length;case 6:return Us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+of(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let a=0;return Ba(i.fields,((l,c)=>{a+=l.length+of(c)})),a})(r.mapValue);default:throw Se(13486,{value:r})}}function UR(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function i0(r){return!!r&&"integerValue"in r}function mb(r){return!!r&&"arrayValue"in r}function qR(r){return!!r&&"nullValue"in r}function zR(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function lf(r){return!!r&&"mapValue"in r}function D7(r){return(r?.mapValue?.fields||{})[WN]?.stringValue===JN}function Lu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ba(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Lu(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lu(r.arrayValue.values[t]);return e}return{...r}}function k7(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===O7}class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!lf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(t)}setAll(e){let t=hn.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=Lu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());lf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];lf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Ba(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new lr(Lu(this.value))}}function ZN(r){const e=[];return Ba(r.fields,((t,i)=>{const a=new hn([t]);if(lf(i)){const l=ZN(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new wr(e)}class _n{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new _n(e,0,Oe.min(),Oe.min(),Oe.min(),lr.empty(),0)}static newFoundDocument(e,t,i,a){return new _n(e,1,t,Oe.min(),i,a,0)}static newNoDocument(e,t){return new _n(e,2,t,Oe.min(),Oe.min(),lr.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,Oe.min(),Oe.min(),lr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rf{constructor(e,t){this.position=e,this.inclusive=t}}function BR(r,e,t){let i=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?i=Te.comparator(Te.fromName(c.referenceValue),t.key):i=el(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function FR(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!li(r.position[t],e.position[t]))return!1;return!0}class Wu{constructor(e,t="asc"){this.field=e,this.dir=t}}function M7(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class eO{}class Gt extends eO{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new V7(e,t,i):t==="array-contains"?new U7(e,i):t==="in"?new q7(e,i):t==="not-in"?new z7(e,i):t==="array-contains-any"?new B7(e,i):new Gt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new P7(e,i):new L7(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(el(t,this.value)):t!==null&&qs(this.value)===qs(t)&&this.matchesComparison(el(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends eO{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Nr(e,t)}matches(e){return tO(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tO(r){return r.op==="and"}function nO(r){return j7(r)&&tO(r)}function j7(r){for(const e of r.filters)if(e instanceof Nr)return!1;return!0}function s0(r){if(r instanceof Gt)return r.field.canonicalString()+r.op.toString()+tl(r.value);if(nO(r))return r.filters.map((e=>s0(e))).join(",");{const e=r.filters.map((t=>s0(t))).join(",");return`${r.op}(${e})`}}function rO(r,e){return r instanceof Gt?(function(i,a){return a instanceof Gt&&i.op===a.op&&i.field.isEqual(a.field)&&li(i.value,a.value)})(r,e):r instanceof Nr?(function(i,a){return a instanceof Nr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&rO(c,a.filters[d])),!0):!1})(r,e):void Se(19439)}function iO(r){return r instanceof Gt?(function(t){return`${t.field.canonicalString()} ${t.op} ${tl(t.value)}`})(r):r instanceof Nr?(function(t){return t.op.toString()+" {"+t.getFilters().map(iO).join(" ,")+"}"})(r):"Filter"}class V7 extends Gt{constructor(e,t,i){super(e,t,i),this.key=Te.fromName(i.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class P7 extends Gt{constructor(e,t){super(e,"in",t),this.keys=sO("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class L7 extends Gt{constructor(e,t){super(e,"not-in",t),this.keys=sO("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function sO(r,e){return(e.arrayValue?.values||[]).map((t=>Te.fromName(t.referenceValue)))}class U7 extends Gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mb(t)&&Xu(t.arrayValue,this.value)}}class q7 extends Gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xu(this.value.arrayValue,t)}}class z7 extends Gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xu(this.value.arrayValue,t)}}class B7 extends Gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mb(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Xu(this.value.arrayValue,i)))}}class F7{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function HR(r,e=null,t=[],i=[],a=null,l=null,c=null){return new F7(r,e,t,i,a,l,c)}function gb(r){const e=ke(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>s0(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),pd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>tl(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>tl(i))).join(",")),e.Te=t}return e.Te}function yb(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!M7(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!rO(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!FR(r.startAt,e.startAt)&&FR(r.endAt,e.endAt)}function a0(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class gl{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function H7(r,e,t,i,a,l,c,d){return new gl(r,e,t,i,a,l,c,d)}function vb(r){return new gl(r)}function GR(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function G7(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function aO(r){return r.collectionGroup!==null}function Uu(r){const e=ke(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Zt(hn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Wu(l,i))})),t.has(hn.keyField().canonicalString())||e.Ie.push(new Wu(hn.keyField(),i))}return e.Ie}function ii(r){const e=ke(r);return e.Ee||(e.Ee=$7(e,Uu(r))),e.Ee}function $7(r,e){if(r.limitType==="F")return HR(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Wu(a.field,l)}));const t=r.endAt?new Rf(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Rf(r.startAt.position,r.startAt.inclusive):null;return HR(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function o0(r,e){const t=r.filters.concat([e]);return new gl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function K7(r,e){const t=r.explicitOrderBy.concat([e]);return new gl(r.path,r.collectionGroup,t,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Cf(r,e,t){return new gl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function gd(r,e){return yb(ii(r),ii(e))&&r.limitType===e.limitType}function oO(r){return`${gb(ii(r))}|lt:${r.limitType}`}function Po(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>iO(a))).join(", ")}]`),pd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>tl(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>tl(a))).join(",")),`Target(${i})`})(ii(r))}; limitType=${r.limitType})`}function yd(r,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Te.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,a){for(const l of Uu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,p){const g=BR(c,d,p);return c.inclusive?g<=0:g<0})(i.startAt,Uu(i),a)||i.endAt&&!(function(c,d,p){const g=BR(c,d,p);return c.inclusive?g>=0:g>0})(i.endAt,Uu(i),a))})(r,e)}function Y7(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function lO(r){return(e,t)=>{let i=!1;for(const a of Uu(r)){const l=Q7(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function Q7(r,e,t){const i=r.field.isKeyField()?Te.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?el(p,g):Se(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:r.dir})}}class Fa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return GN(this.inner)}size(){return this.innerSize}}const X7=new wt(Te.comparator);function zi(){return X7}const uO=new wt(Te.comparator);function Ou(...r){let e=uO;for(const t of r)e=e.insert(t.key,t);return e}function cO(r){let e=uO;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function wa(){return qu()}function hO(){return qu()}function qu(){return new Fa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const W7=new wt(Te.comparator),J7=new Zt(Te.comparator);function Ze(...r){let e=J7;for(const t of r)e=e.add(t);return e}const Z7=new Zt(Je);function e8(){return Z7}function _b(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(e)?"-0":e}}function fO(r){return{integerValue:""+r}}function t8(r,e){return w7(e)?fO(e):_b(r,e)}class vd{constructor(){this._=void 0}}function n8(r,e,t){return r instanceof If?(function(a,l){const c={fields:{[YN]:{stringValue:KN},[XN]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&pb(l)&&(l=md(l)),l&&(c.fields[QN]=l),{mapValue:c}})(t,e):r instanceof Ju?pO(r,e):r instanceof Zu?mO(r,e):(function(a,l){const c=dO(a,l),d=$R(c)+$R(a.Ae);return i0(c)&&i0(a.Ae)?fO(d):_b(a.serializer,d)})(r,e)}function r8(r,e,t){return r instanceof Ju?pO(r,e):r instanceof Zu?mO(r,e):t}function dO(r,e){return r instanceof Nf?(function(i){return i0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class If extends vd{}class Ju extends vd{constructor(e){super(),this.elements=e}}function pO(r,e){const t=gO(e);for(const i of r.elements)t.some((a=>li(a,i)))||t.push(i);return{arrayValue:{values:t}}}class Zu extends vd{constructor(e){super(),this.elements=e}}function mO(r,e){let t=gO(e);for(const i of r.elements)t=t.filter((a=>!li(a,i)));return{arrayValue:{values:t}}}class Nf extends vd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function $R(r){return kt(r.integerValue||r.doubleValue)}function gO(r){return mb(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function i8(r,e){return r.field.isEqual(e.field)&&(function(i,a){return i instanceof Ju&&a instanceof Ju||i instanceof Zu&&a instanceof Zu?Zo(i.elements,a.elements,li):i instanceof Nf&&a instanceof Nf?li(i.Ae,a.Ae):i instanceof If&&a instanceof If})(r.transform,e.transform)}class s8{constructor(e,t){this.version=e,this.transformResults=t}}class Rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _d{}function yO(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new bb(r.key,Rr.none()):new dc(r.key,r.data,Rr.none());{const t=r.data,i=lr.empty();let a=new Zt(hn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ha(r.key,i,new wr(a.toArray()),Rr.none())}}function a8(r,e,t){r instanceof dc?(function(a,l,c){const d=a.value.clone(),p=YR(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,t):r instanceof Ha?(function(a,l,c){if(!uf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=YR(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(vO(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function zu(r,e,t,i){return r instanceof dc?(function(l,c,d,p){if(!uf(l.precondition,c))return d;const g=l.value.clone(),v=QR(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(r,e,t,i):r instanceof Ha?(function(l,c,d,p){if(!uf(l.precondition,c))return d;const g=QR(l.fieldTransforms,p,c),v=c.data;return v.setAll(vO(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(r,e,t,i):(function(l,c,d){return uf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,t)}function o8(r,e){let t=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),l=dO(i.transform,a||null);l!=null&&(t===null&&(t=lr.empty()),t.set(i.field,l))}return t||null}function KR(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Zo(i,a,((l,c)=>i8(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class dc extends _d{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ha extends _d{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function vO(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function YR(r,e,t){const i=new Map;at(r.length===t.length,32656,{Ve:t.length,de:r.length});for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,r8(c,d,t[a]))}return i}function QR(r,e,t){const i=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);i.set(a.field,n8(l,c,e))}return i}class bb extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l8 extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class u8{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&a8(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=zu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=zu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=hO();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=yO(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Oe.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,((t,i)=>KR(t,i)))&&Zo(this.baseMutations,e.baseMutations,((t,i)=>KR(t,i)))}}class Eb{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){at(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return W7})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Eb(e,t,i,a)}}class c8{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class h8{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ht,tt;function f8(r){switch(r){case ie.OK:return Se(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function _O(r){if(r===void 0)return Ui("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Ht.OK:return ie.OK;case Ht.CANCELLED:return ie.CANCELLED;case Ht.UNKNOWN:return ie.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return ie.INTERNAL;case Ht.UNAVAILABLE:return ie.UNAVAILABLE;case Ht.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Ht.NOT_FOUND:return ie.NOT_FOUND;case Ht.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Ht.ABORTED:return ie.ABORTED;case Ht.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Ht.DATA_LOSS:return ie.DATA_LOSS;default:return Se(39323,{code:r})}}(tt=Ht||(Ht={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";function d8(){return new TextEncoder}const p8=new ks([4294967295,4294967295],0);function XR(r){const e=d8().encode(r),t=new MN;return t.update(e),new Uint8Array(t.digest())}function WR(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ks([t,i],0),new ks([a,l],0)]}class Tb{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Du(`Invalid padding: ${t}`);if(i<0)throw new Du(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Du(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Du(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ks.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(ks.fromNumber(i)));return a.compare(p8)===1&&(a=new ks([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=XR(e),[i,a]=WR(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Tb(l,a,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=XR(e),[i,a]=WR(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bd{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new bd(Oe.min(),a,new wt(Je),zi(),Ze())}}class pc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new pc(i,t,Ze(),Ze(),Ze())}}class cf{constructor(e,t,i,a){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=a}}class bO{constructor(e,t){this.targetId=e,this.Ce=t}}class EO{constructor(e,t,i=dn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class JR{constructor(){this.ve=0,this.Fe=ZR(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),t=Ze(),i=Ze();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Se(38017,{changeType:l})}})),new pc(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=ZR()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class m8{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.He=Qh(),this.Je=Qh(),this.Ze=new wt(Je)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(a0(l))if(i===0){const c=new Te(l.path);this.et(t,c,_n.newNoDocument(c,Oe.min()))}else at(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Us(i).toUint8Array()}catch(p){if(p instanceof $N)return Jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Tb(c,a,l)}catch(p){return Jo(p instanceof Du?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&a0(d.target)){const p=new Te(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,_n.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let i=Ze();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new bd(e,t,this.Ze,this.je,i);return this.je=zi(),this.He=Qh(),this.Je=Qh(),this.Ze=new wt(Je),a}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new JR,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Zt(Je),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Zt(Je),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new JR),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Qh(){return new wt(Te.comparator)}function ZR(){return new wt(Te.comparator)}const g8={asc:"ASCENDING",desc:"DESCENDING"},y8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v8={and:"AND",or:"OR"};class _8{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function l0(r,e){return r.useProto3Json||pd(e)?e:{value:e}}function Of(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TO(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function b8(r,e){return Of(r,e.toTimestamp())}function si(r){return at(!!r,49232),Oe.fromTimestamp((function(t){const i=Ls(t);return new Et(i.seconds,i.nanos)})(r))}function xb(r,e){return u0(r,e).canonicalString()}function u0(r,e){const t=(function(a){return new yt(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function xO(r){const e=yt.fromString(r);return at(CO(e),10190,{key:e.toString()}),e}function c0(r,e){return xb(r.databaseId,e.path)}function Uv(r,e){const t=xO(e);if(t.get(1)!==r.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Te(wO(t))}function SO(r,e){return xb(r.databaseId,e)}function E8(r){const e=xO(r);return e.length===4?yt.emptyPath():wO(e)}function h0(r){return new yt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function wO(r){return at(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function eC(r,e,t){return{name:c0(r,e),fields:t.value.mapValue.fields}}function T8(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(at(v===void 0||typeof v=="string",58123),dn.fromBase64String(v||"")):(at(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),dn.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?ie.UNKNOWN:_O(g.code);return new me(v,g.message||"")})(c);t=new EO(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Uv(r,i.document.name),l=si(i.document.updateTime),c=i.document.createTime?si(i.document.createTime):Oe.min(),d=new lr({mapValue:{fields:i.document.fields}}),p=_n.newFoundDocument(a,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new cf(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Uv(r,i.document),l=i.readTime?si(i.readTime):Oe.min(),c=_n.newNoDocument(a,l),d=i.removedTargetIds||[];t=new cf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Uv(r,i.document),l=i.removedTargetIds||[];t=new cf([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new h8(a,l),d=i.targetId;t=new bO(d,c)}}return t}function x8(r,e){let t;if(e instanceof dc)t={update:eC(r,e.key,e.value)};else if(e instanceof bb)t={delete:c0(r,e.key)};else if(e instanceof Ha)t={update:eC(r,e.key,e.data),updateMask:D8(e.fieldMask)};else{if(!(e instanceof l8))return Se(16599,{dt:e.type});t={verify:c0(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof If)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Zu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Nf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Se(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:b8(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(r,e.precondition)),t}function S8(r,e){return r&&r.length>0?(at(e!==void 0,14353),r.map((t=>(function(a,l){let c=a.updateTime?si(a.updateTime):si(l);return c.isEqual(Oe.min())&&(c=si(l)),new s8(c,a.transformResults||[])})(t,e)))):[]}function w8(r,e){return{documents:[SO(r,e.path)]}}function A8(r,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=SO(r,a);const l=(function(g){if(g.length!==0)return RO(Nr.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(x){return{field:Lo(x.field),direction:I8(x.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=l0(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function R8(r){let e=E8(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){at(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(b){const x=AO(b);return x instanceof Nr&&nO(x)?x.getFilters():[x]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((x=>(function(M){return new Wu(Uo(M.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(x)))})(t.orderBy));let d=null;t.limit&&(d=(function(b){let x;return x=typeof b=="object"?b.value:b,pd(x)?null:x})(t.limit));let p=null;t.startAt&&(p=(function(b){const x=!!b.before,S=b.values||[];return new Rf(S,x)})(t.startAt));let g=null;return t.endAt&&(g=(function(b){const x=!b.before,S=b.values||[];return new Rf(S,x)})(t.endAt)),H7(e,a,c,l,d,"F",p,g)}function C8(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function AO(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Uo(t.unaryFilter.field);return Gt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Uo(t.unaryFilter.field);return Gt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Uo(t.unaryFilter.field);return Gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(t.unaryFilter.field);return Gt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Gt.create(Uo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Nr.create(t.compositeFilter.filters.map((i=>AO(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(r):Se(30097,{filter:r})}function I8(r){return g8[r]}function N8(r){return y8[r]}function O8(r){return v8[r]}function Lo(r){return{fieldPath:r.canonicalString()}}function Uo(r){return hn.fromServerFormat(r.fieldPath)}function RO(r){return r instanceof Gt?(function(t){if(t.op==="=="){if(zR(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NAN"}};if(qR(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zR(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NAN"}};if(qR(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(t.field),op:N8(t.op),value:t.value}}})(r):r instanceof Nr?(function(t){const i=t.getFilters().map((a=>RO(a)));return i.length===1?i[0]:{compositeFilter:{op:O8(t.op),filters:i}}})(r):Se(54877,{filter:r})}function D8(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function CO(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function IO(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Is{constructor(e,t,i,a,l=Oe.min(),c=Oe.min(),d=dn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class k8{constructor(e){this.yt=e}}function M8(r){const e=R8({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Cf(e,e.limit,"L"):e}class j8{constructor(){this.Sn=new V8}addToCollectionParentIndex(e,t){return this.Sn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Ps.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class V8{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Zt(yt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Zt(yt.comparator)).toArray()}}const tC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NO=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(NO,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class nl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new nl(0)}static ar(){return new nl(-1)}}const nC="LruGarbageCollector",P8=1048576;function rC([r,e],[t,i]){const a=Je(r,t);return a===0?Je(e,i):a}class L8{constructor(e){this.Pr=e,this.buffer=new Zt(rC),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();rC(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class U8{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ge(nC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ml(t)?ge(nC,"Ignoring IndexedDB error during garbage collection: ",t):await pl(t)}await this.Ar(3e5)}))}}class q8{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(dd.ce);const i=new L8(t);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(tC)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tC):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,a,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,d=Date.now(),this.removeTargets(e,i,t)))).next((b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(g=Date.now(),Vo()<=We.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function z8(r,e){return new q8(r,e)}class B8{constructor(){this.changes=new Fa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class F8{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class H8{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&zu(i.mutation,a,wr.empty(),Et.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ze()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ze()){const a=wa();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=Ou();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=wa();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ze())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,a){let l=zi();const c=qu(),d=(function(){return qu()})();return t.forEach(((p,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Ha)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),zu(v.mutation,g,v.mutation.getFieldMask(),Et.now())):c.set(g.key,wr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>d.set(g,new F8(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=qu();let a=new wt(((c,d)=>c-d)),l=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=i.get(p)||wr.empty();v=d.applyToLocalView(g,v),i.set(p,v);const b=(a.get(d.batchId)||Ze()).add(p);a=a.insert(d.batchId,b)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,b=hO();v.forEach((x=>{if(!l.has(x)){const S=yO(t.get(x),i.get(x));S!==null&&b.set(x,S),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ae.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return G7(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):aO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ae.resolve(wa());let d=Ku,p=l;return c.next((g=>ae.forEach(g,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next((x=>{p=p.insert(v,x)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Ze()))).next((v=>({batchId:d,changes:cO(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next((i=>{let a=Ou();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Ou();return this.indexManager.getCollectionParents(e,l).next((d=>ae.forEach(d,(p=>{const g=(function(b,x){return new gl(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((v=>{v.forEach(((b,x)=>{c=c.insert(b,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,_n.newInvalidDocument(v)))}));let d=Ou();return c.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&zu(v.mutation,g,wr.empty(),Et.now()),yd(t,g)&&(d=d.insert(p,g))})),d}))}}class G8{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ae.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:si(a.createTime)}})(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:M8(a.bundledQuery),readTime:si(a.readTime)}})(t)),ae.resolve()}}class $8{constructor(){this.overlays=new wt(Te.comparator),this.Lr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=wa();return ae.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.bt(e,t,l)})),ae.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const a=wa(),l=t.length+1,c=new Te(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new wt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=wa(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=wa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return ae.resolve(d)}bt(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new c8(t,i));let l=this.Lr.get(t);l===void 0&&(l=Ze(),this.Lr.set(t,l)),this.Lr.set(t,l.add(i.key))}}class K8{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}class Sb{constructor(){this.kr=new Zt(rn.Kr),this.qr=new Zt(rn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new rn(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new rn(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new Te(new yt([])),i=new rn(t,e),a=new rn(t,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Te(new yt([])),i=new rn(t,e),a=new rn(t,e+1);let l=Ze();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new rn(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class rn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Te.comparator(e.key,t.key)||Je(e.Hr,t.Hr)}static Ur(e,t){return Je(e.Hr,t.Hr)||Te.comparator(e.key,t.key)}}class Y8{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Zt(rn.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new u8(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new rn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Xr(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?db:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new rn(t,0),a=new rn(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Zt(Je);return t.forEach((a=>{const l=new rn(a,0),c=new rn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{i=i.add(d.Hr)}))})),ae.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Te.isDocumentKey(l)||(l=l.child(""));const c=new rn(new Te(l),0);let d=new Zt(Je);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Hr)),!0)}),c),ae.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){at(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ae.forEach(t.mutations,(a=>{const l=new rn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new rn(t,0),a=this.Jr.firstAfterOrEqual(i);return ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Q8{constructor(e){this.ti=e,this.docs=(function(){return new wt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let i=zi();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():_n.newInvalidDocument(a))})),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=zi();const c=t.path,d=new Te(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||E7(b7(v),i)<=0||(a.has(v.key)||yd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Se(9500)}ni(e,t){return ae.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new X8(this)}getSize(e){return ae.resolve(this.size)}}class X8 extends B8{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),ae.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class W8{constructor(e){this.persistence=e,this.ri=new Fa((t=>gb(t)),yb),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.ii=0,this.si=new Sb,this.targetCount=0,this.oi=nl._r()}forEachTarget(e,t){return this.ri.forEach(((i,a)=>t(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),ae.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new nl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.lr(t),ae.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.si.containsKey(t))}}class OO{constructor(e,t){this._i={},this.overlays={},this.ai=new dd(0),this.ui=!1,this.ui=!0,this.ci=new K8,this.referenceDelegate=e(this),this.li=new W8(this),this.indexManager=new j8,this.remoteDocumentCache=(function(a){return new Q8(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new k8(t),this.Pi=new G8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $8,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new Y8(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const a=new J8(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return ae.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class J8 extends x7{constructor(e){super(),this.currentSequenceNumber=e}}class wb{constructor(e){this.persistence=e,this.Ri=new Sb,this.Ai=null}static Vi(e){return new wb(e)}get di(){if(this.Ai)return this.Ai;throw Se(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(i=>{const a=Te.fromPath(i);return this.mi(e,a).next((l=>{l||t.removeEntry(a,Oe.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ae.or([()=>ae.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Df{constructor(e,t){this.persistence=e,this.fi=new Fa((i=>A7(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=z8(this,t)}static Vi(e,t){return new Df(e,t)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return ae.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?ae.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,t).next((d=>{d||(i++,l.removeEntry(c,Oe.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ae.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=of(e.data.value)),t}wr(e,t,i){return ae.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ab{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=a}static Es(e,t){let i=Ze(),a=Ze();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ab(e,t.fromCache,i,a)}}class Z8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ez{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return zL()?8:S7(bn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Z8;return this.ys(e,t,c).next((d=>{if(l.result=d,this.As)return this.ws(e,t,c,d.size)}))})).next((()=>l.result))}ws(e,t,i,a){return i.documentReadCount<this.Vs?(Vo()<=We.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(Vo()<=We.DEBUG&&ge("QueryEngine","Query:",Po(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Vo()<=We.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(t))):ae.resolve())}gs(e,t){if(GR(t))return ae.resolve(null);let i=ii(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Cf(t,null,"F"),i=ii(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ze(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((p=>{const g=this.bs(t,d);return this.Ss(t,g,c,p.readTime)?this.gs(e,Cf(t,null,"F")):this.Ds(e,g,t,p)}))))})))))}ps(e,t,i,a){return GR(t)||a.isEqual(Oe.min())?ae.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,i,a)?ae.resolve(null):(Vo()<=We.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Po(t)),this.Ds(e,c,t,_7(a,Ku)).next((d=>d)))}))}bs(e,t){let i=new Zt(lO(e));return t.forEach(((a,l)=>{yd(e,l)&&(i=i.add(l))})),i}Ss(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,i){return Vo()<=We.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Po(t)),this.fs.getDocumentsMatchingQuery(e,t,Ps.min(),i)}Ds(e,t,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Rb="LocalStore",tz=3e8;class nz{constructor(e,t,i,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new wt(Je),this.Fs=new Fa((l=>gb(l)),yb),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H8(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function rz(r,e,t,i){return new nz(r,e,t,i)}async function DO(r,e){const t=ke(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let p=Ze();for(const g of a){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function iz(r,e){const t=ke(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const b=g.batch,x=b.keys();let S=ae.resolve();return x.forEach((M=>{S=S.next((()=>v.getEntry(p,M))).next((P=>{const k=g.docVersions.get(M);at(k!==null,48541),P.version.compareTo(k)<0&&(b.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),v.addEntry(P)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(p,b)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let p=Ze();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function kO(r){const e=ke(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function sz(r,e){const t=ke(r),i=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const d=[];e.targetChanges.forEach(((v,b)=>{const x=a.get(b);if(!x)return;d.push(t.li.removeMatchingKeys(l,v.removedDocuments,b).next((()=>t.li.addMatchingKeys(l,v.addedDocuments,b))));let S=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(dn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,i)),a=a.insert(b,S),(function(P,k,F){return P.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=tz?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(x,S,v)&&d.push(t.li.updateTargetData(l,S))}));let p=zi(),g=Ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(az(l,c,e.documentUpdates).next((v=>{p=v.Bs,g=v.Ls}))),!i.isEqual(Oe.min())){const v=t.li.getLastRemoteSnapshotVersion(l).next((b=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return ae.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.vs=a,l)))}function az(r,e,t){let i=Ze(),a=Ze();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let c=zi();return t.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ge(Rb,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:a}}))}function oz(r,e){const t=ke(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=db),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function lz(r,e){const t=ke(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.li.getTargetData(i,e).next((l=>l?(a=l,ae.resolve(a)):t.li.allocateTargetId(i).next((c=>(a=new Is(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function f0(r,e,t){const i=ke(r),a=i.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ml(c))throw c;ge(Rb,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function iC(r,e,t){const i=ke(r);let a=Oe.min(),l=Ze();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const b=ke(p),x=b.Fs.get(v);return x!==void 0?ae.resolve(b.vs.get(x)):b.li.getTargetData(g,v)})(i,c,ii(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,t?a:Oe.min(),t?l:Ze()))).next((d=>(uz(i,Y7(e),d),{documents:d,ks:l})))))}function uz(r,e,t){let i=r.Ms.get(e)||Oe.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Ms.set(e,i)}class sC{constructor(){this.activeTargetIds=e8()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cz{constructor(){this.vo=new sC,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new sC,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hz{Mo(e){}shutdown(){}}const aC="ConnectivityMonitor";class oC{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ge(aC,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ge(aC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xh=null;function d0(){return Xh===null?Xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xh++,"0x"+Xh.toString(16)}const qv="RestConnection",fz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class dz{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===wf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,t,i,a,l){const c=d0(),d=this.Qo(e,t.toUriEncodedString());ge(qv,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:g}=new URL(d),v=cl(g);return this.zo(e,d,p,i,v).then((b=>(ge(qv,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Jo(qv,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",i),b}))}jo(e,t,i,a,l,c){return this.Wo(e,t,i,a,l)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const i=fz[e];let a=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class pz{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const gn="WebChannelConnection",wu=(r,e,t)=>{r.listen(e,(i=>{try{t(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Ho extends dz{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ho.c_){const e=LN();wu(e,PN.STAT_EVENT,(t=>{t.stat===t0.PROXY?ge(gn,"STAT_EVENT: detected buffering proxy"):t.stat===t0.NOPROXY&&ge(gn,"STAT_EVENT: detected no buffering proxy")})),Ho.c_=!0}}zo(e,t,i,a,l){const c=d0();return new Promise(((d,p)=>{const g=new jN;g.setWithCredentials(!0),g.listenOnce(VN.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case af.NO_ERROR:const b=g.getResponseJson();ge(gn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case af.TIMEOUT:ge(gn,`RPC '${e}' ${c} timed out`),p(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:const x=g.getStatus();if(ge(gn,`RPC '${e}' ${c} failed with status:`,x,"response text:",g.getResponseText()),x>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const M=S?.error;if(M&&M.status&&M.message){const P=(function(F){const B=F.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(B)>=0?B:ie.UNKNOWN})(M.status);p(new me(P,M.message))}else p(new me(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new me(ie.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ge(gn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ge(gn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,i,15)}))}T_(e,t,i){const a=d0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const g=l.join("");ge(gn,`Creating RPC '${e}' stream ${a}: ${g}`,d);const v=c.createWebChannel(g,d);this.I_(v);let b=!1,x=!1;const S=new pz({Ho:M=>{x?ge(gn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(b||(ge(gn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),ge(gn,`RPC '${e}' stream ${a} sending:`,M),v.send(M))},Jo:()=>v.close()});return wu(v,Nu.EventType.OPEN,(()=>{x||(ge(gn,`RPC '${e}' stream ${a} transport opened.`),S.i_())})),wu(v,Nu.EventType.CLOSE,(()=>{x||(x=!0,ge(gn,`RPC '${e}' stream ${a} transport closed`),S.o_(),this.E_(v))})),wu(v,Nu.EventType.ERROR,(M=>{x||(x=!0,Jo(gn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),S.o_(new me(ie.UNAVAILABLE,"The operation could not be completed")))})),wu(v,Nu.EventType.MESSAGE,(M=>{if(!x){const P=M.data[0];at(!!P,16349);const k=P,F=k?.error||k[0]?.error;if(F){ge(gn,`RPC '${e}' stream ${a} received error:`,F);const B=F.status;let W=(function(oe){const I=Ht[oe];if(I!==void 0)return _O(I)})(B),le=F.message;W===void 0&&(W=ie.INTERNAL,le="Unknown error status: "+B+" with message "+F.message),x=!0,S.o_(new me(W,le)),v.close()}else ge(gn,`RPC '${e}' stream ${a} received:`,P),S.__(P)}})),Ho.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return UN()}}function mz(r){return new Ho(r)}function zv(){return typeof document<"u"?document:null}function Ed(r){return new _8(r,!0)}Ho.c_=!1;class MO{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const lC="PersistentStream";class jO{constructor(e,t,i,a,l,c,d,p){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MO(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Ui(t.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new me(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(lC,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ge(lC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gz extends jO{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=T8(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Oe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?si(c.readTime):Oe.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=h0(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=a0(p)?{documents:w8(l,p)}:{query:A8(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=TO(l,c.resumeToken);const g=l0(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Oe.min())>0){d.readTime=Of(l,c.snapshotVersion.toTimestamp());const g=l0(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const i=C8(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=h0(this.serializer),t.removeTarget=e,this.K_(t)}}class yz extends jO{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=S8(e.writeResults,e.commitTime),i=si(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=h0(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>x8(this.serializer,i)))};this.K_(t)}}class vz{}class _z extends vz{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,u0(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ie.UNKNOWN,l.toString())}))}jo(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,u0(t,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function bz(r,e,t,i){return new _z(r,e,t,i)}class Ez{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ui(t),this.aa=!1):ge("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Pa="RemoteStore";class Tz{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{Ga(this)&&(ge(Pa,"Restarting streams for network reachability change."),await(async function(p){const g=ke(p);g.Ea.add(4),await mc(g),g.Va.set("Unknown"),g.Ea.delete(4),await Td(g)})(this))}))})),this.Va=new Ez(i,a)}}async function Td(r){if(Ga(r))for(const e of r.Ra)await e(!0)}async function mc(r){for(const e of r.Ra)await e(!1)}function VO(r,e){const t=ke(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ob(t)?Nb(t):yl(t).O_()&&Ib(t,e))}function Cb(r,e){const t=ke(r),i=yl(t);t.Ia.delete(e),i.O_()&&PO(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ga(t)&&t.Va.set("Unknown"))}function Ib(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yl(r).Z_(e)}function PO(r,e){r.da.$e(e),yl(r).X_(e)}function Nb(r){r.da=new m8({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),yl(r).start(),r.Va.ua()}function Ob(r){return Ga(r)&&!yl(r).x_()&&r.Ia.size>0}function Ga(r){return ke(r).Ea.size===0}function LO(r){r.da=void 0}async function xz(r){r.Va.set("Online")}async function Sz(r){r.Ia.forEach(((e,t)=>{Ib(r,e)}))}async function wz(r,e){LO(r),Ob(r)?(r.Va.ha(e),Nb(r)):r.Va.set("Unknown")}async function Az(r,e,t){if(r.Va.set("Online"),e instanceof EO&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(r,e)}catch(i){ge(Pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await kf(r,i)}else if(e instanceof cf?r.da.Xe(e):e instanceof bO?r.da.st(e):r.da.tt(e),!t.isEqual(Oe.min()))try{const i=await kO(r.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),PO(l,p);const b=new Is(v.target,p,g,v.sequenceNumber);Ib(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(i){ge(Pa,"Failed to raise snapshot:",i),await kf(r,i)}}async function kf(r,e,t){if(!ml(e))throw e;r.Ea.add(1),await mc(r),r.Va.set("Offline"),t||(t=()=>kO(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ge(Pa,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Td(r)}))}function UO(r,e){return e().catch((t=>kf(r,t,e)))}async function xd(r){const e=ke(r),t=zs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:db;for(;Rz(e);)try{const a=await oz(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,Cz(e,a)}catch(a){await kf(e,a)}qO(e)&&zO(e)}function Rz(r){return Ga(r)&&r.Ta.length<10}function Cz(r,e){r.Ta.push(e);const t=zs(r);t.O_()&&t.Y_&&t.ea(e.mutations)}function qO(r){return Ga(r)&&!zs(r).x_()&&r.Ta.length>0}function zO(r){zs(r).start()}async function Iz(r){zs(r).ra()}async function Nz(r){const e=zs(r);for(const t of r.Ta)e.ea(t.mutations)}async function Oz(r,e,t){const i=r.Ta.shift(),a=Eb.from(i,e,t);await UO(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await xd(r)}async function Dz(r,e){e&&zs(r).Y_&&await(async function(i,a){if((function(c){return f8(c)&&c!==ie.ABORTED})(a.code)){const l=i.Ta.shift();zs(i).B_(),await UO(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await xd(i)}})(r,e),qO(r)&&zO(r)}async function uC(r,e){const t=ke(r);t.asyncQueue.verifyOperationInProgress(),ge(Pa,"RemoteStore received new credentials");const i=Ga(t);t.Ea.add(3),await mc(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Td(t)}async function kz(r,e){const t=ke(r);e?(t.Ea.delete(2),await Td(t)):e||(t.Ea.add(2),await mc(t),t.Va.set("Unknown"))}function yl(r){return r.ma||(r.ma=(function(t,i,a){const l=ke(t);return l.sa(),new gz(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Zo:xz.bind(null,r),Yo:Sz.bind(null,r),t_:wz.bind(null,r),J_:Az.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Ob(r)?Nb(r):r.Va.set("Unknown")):(await r.ma.stop(),LO(r))}))),r.ma}function zs(r){return r.fa||(r.fa=(function(t,i,a){const l=ke(t);return l.sa(),new yz(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Iz.bind(null,r),t_:Dz.bind(null,r),ta:Nz.bind(null,r),na:Oz.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await xd(r)):(await r.fa.stop(),r.Ta.length>0&&(ge(Pa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Db{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Db(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kb(r,e){if(Ui("AsyncQueue",`${e}: ${r}`),ml(r))return new me(ie.UNAVAILABLE,`${e}: ${r}`);throw r}class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Te.comparator(t.key,i.key):(t,i)=>Te.comparator(t.key,i.key),this.keyedMap=Ou(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Go;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class cC{constructor(){this.ga=new wt(Te.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class rl{constructor(e,t,i,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new rl(e,t,Go.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class Mz{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class jz{constructor(){this.queries=hC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=ke(t),l=a.queries;a.queries=hC(),l.forEach(((c,d)=>{for(const p of d.ba)p.onError(i)}))})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function hC(){return new Fa((r=>oO(r)),gd)}async function BO(r,e){const t=ke(r);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new Mz,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=kb(c,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Mb(t)}async function FO(r,e){const t=ke(r),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Vz(r,e){const t=ke(r);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(i=!0);c.wa=a}}i&&Mb(t)}function Pz(r,e,t){const i=ke(r),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(t);i.queries.delete(e)}function Mb(r){r.Ca.forEach((e=>{e.next()}))}var p0,fC;(fC=p0||(p0={})).Ma="default",fC.Cache="cache";class HO{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new rl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==p0.Cache}}class GO{constructor(e){this.key=e}}class $O{constructor(e){this.key=e}}class Lz{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ze(),this.mutatedKeys=Ze(),this.eu=lO(e),this.tu=new Go(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new cC,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const x=a.get(v),S=yd(this.query,b)?b:null,M=!!x&&this.mutatedKeys.has(x.key),P=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let k=!1;x&&S?x.data.isEqual(S.data)?M!==P&&(i.track({type:3,doc:S}),k=!0):this.su(x,S)||(i.track({type:2,doc:S}),k=!0,(p&&this.eu(S,p)>0||g&&this.eu(S,g)<0)&&(d=!0)):!x&&S?(i.track({type:0,doc:S}),k=!0):x&&!S&&(i.track({type:1,doc:x}),k=!0,(p||g)&&(d=!0)),k&&(S?(c=c.add(S),l=P?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Ss:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(S,M){const P=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:k})}};return P(S)-P(M)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new rl(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cC,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ze(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new $O(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new GO(i))})),t}cu(e){this.Za=e.ks,this.Ya=Ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const jb="SyncEngine";class Uz{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class qz{constructor(e){this.key=e,this.hu=!1}}class zz{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Fa((d=>oO(d)),gd),this.Iu=new Map,this.Eu=new Set,this.Ru=new wt(Te.comparator),this.Au=new Map,this.Vu=new Sb,this.du={},this.mu=new Map,this.fu=nl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Bz(r,e,t=!0){const i=JO(r);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await KO(i,e,t,!0),a}async function Fz(r,e){const t=JO(r);await KO(t,e,!0,!1)}async function KO(r,e,t,i){const a=await lz(r.localStore,ii(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await Hz(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&VO(r.remoteStore,a),d}async function Hz(r,e,t,i,a){r.pu=(b,x,S)=>(async function(P,k,F,B){let W=k.view.ru(F);W.Ss&&(W=await iC(P.localStore,k.query,!1).then((({documents:I})=>k.view.ru(I,W))));const le=B&&B.targetChanges.get(k.targetId),ce=B&&B.targetMismatches.get(k.targetId)!=null,oe=k.view.applyChanges(W,P.isPrimaryClient,le,ce);return pC(P,k.targetId,oe.au),oe.snapshot})(r,b,x,S);const l=await iC(r.localStore,e,!0),c=new Lz(e,l.ks),d=c.ru(l.documents),p=pc.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",a),g=c.applyChanges(d,r.isPrimaryClient,p);pC(r,t,g.au);const v=new Uz(e,t,c);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function Gz(r,e,t){const i=ke(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!gd(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await f0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Cb(i.remoteStore,a.targetId),m0(i,a.targetId)})).catch(pl)):(m0(i,a.targetId),await f0(i.localStore,a.targetId,!0))}async function $z(r,e){const t=ke(r),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Cb(t.remoteStore,i.targetId))}async function Kz(r,e,t){const i=eB(r);try{const a=await(function(c,d){const p=ke(c),g=Et.now(),v=d.reduce(((S,M)=>S.add(M.key)),Ze());let b,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let M=zi(),P=Ze();return p.xs.getEntries(S,v).next((k=>{M=k,M.forEach(((F,B)=>{B.isValidDocument()||(P=P.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(S,M))).next((k=>{b=k;const F=[];for(const B of d){const W=o8(B,b.get(B.key).overlayedDocument);W!=null&&F.push(new Ha(B.key,W,ZN(W.value.mapValue),Rr.exists(!0)))}return p.mutationQueue.addMutationBatch(S,g,F,d)})).next((k=>{x=k;const F=k.applyToLocalDocumentSet(b,P);return p.documentOverlayCache.saveOverlays(S,k.batchId,F)}))})).then((()=>({batchId:x.batchId,changes:cO(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let g=c.du[c.currentUser.toKey()];g||(g=new wt(Je)),g=g.insert(d,p),c.du[c.currentUser.toKey()]=g})(i,a.batchId,t),await gc(i,a.changes),await xd(i.remoteStore)}catch(a){const l=kb(a,"Failed to persist write");t.reject(l)}}async function YO(r,e){const t=ke(r);try{const i=await sz(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(at(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?at(c.hu,14607):a.removedDocuments.size>0&&(at(c.hu,42227),c.hu=!1))})),await gc(t,i,e)}catch(i){await pl(i)}}function dC(r,e,t){const i=ke(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=ke(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,b)=>{for(const x of b.ba)x.va(d)&&(g=!0)})),g&&Mb(p)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Yz(r,e,t){const i=ke(r);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new wt(Te.comparator);c=c.insert(l,_n.newNoDocument(l,Oe.min()));const d=Ze().add(l),p=new bd(Oe.min(),new Map,new wt(Je),c,d);await YO(i,p),i.Ru=i.Ru.remove(l),i.Au.delete(e),Vb(i)}else await f0(i.localStore,e,!1).then((()=>m0(i,e,t))).catch(pl)}async function Qz(r,e){const t=ke(r),i=e.batch.batchId;try{const a=await iz(t.localStore,e);XO(t,i,null),QO(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await gc(t,a)}catch(a){await pl(a)}}async function Xz(r,e,t){const i=ke(r);try{const a=await(function(c,d){const p=ke(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((b=>(at(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(i.localStore,e);XO(i,e,t),QO(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await gc(i,a)}catch(a){await pl(a)}}function QO(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function XO(r,e,t){const i=ke(r);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function m0(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||WO(r,i)}))}function WO(r,e){r.Eu.delete(e.path.canonicalString());const t=r.Ru.get(e);t!==null&&(Cb(r.remoteStore,t),r.Ru=r.Ru.remove(e),r.Au.delete(t),Vb(r))}function pC(r,e,t){for(const i of t)i instanceof GO?(r.Vu.addReference(i.key,e),Wz(r,i)):i instanceof $O?(ge(jb,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||WO(r,i.key)):Se(19791,{wu:i})}function Wz(r,e){const t=e.key,i=t.path.canonicalString();r.Ru.get(t)||r.Eu.has(i)||(ge(jb,"New document in limbo: "+t),r.Eu.add(i),Vb(r))}function Vb(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Te(yt.fromString(e)),i=r.fu.next();r.Au.set(i,new qz(t)),r.Ru=r.Ru.insert(t,i),VO(r.remoteStore,new Is(ii(vb(t.path)),i,"TargetPurposeLimboResolution",dd.ce))}}async function gc(r,e,t){const i=ke(r),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,p)=>{c.push(i.pu(p,e,t).then((g=>{if((g||t)&&i.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){a.push(g);const v=Ab.Es(p.targetId,g);l.push(v)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(p,g){const v=ke(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ae.forEach(g,(x=>ae.forEach(x.Ts,(S=>v.persistence.referenceDelegate.addReference(b,x.targetId,S))).next((()=>ae.forEach(x.Is,(S=>v.persistence.referenceDelegate.removeReference(b,x.targetId,S)))))))))}catch(b){if(!ml(b))throw b;ge(Rb,"Failed to update sequence numbers: "+b)}for(const b of g){const x=b.targetId;if(!b.fromCache){const S=v.vs.get(x),M=S.snapshotVersion,P=S.withLastLimboFreeSnapshotVersion(M);v.vs=v.vs.insert(x,P)}}})(i.localStore,l))}async function Jz(r,e){const t=ke(r);if(!t.currentUser.isEqual(e)){ge(jb,"User change. New user:",e.toKey());const i=await DO(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new me(ie.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await gc(t,i.Ns)}}function Zz(r,e){const t=ke(r),i=t.Au.get(e);if(i&&i.hu)return Ze().add(i.key);{let a=Ze();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function JO(r){const e=ke(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=YO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yz.bind(null,e),e.Pu.J_=Vz.bind(null,e.eventManager),e.Pu.yu=Pz.bind(null,e.eventManager),e}function eB(r){const e=ke(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xz.bind(null,e),e}class Mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return rz(this.persistence,new ez,e.initialUser,this.serializer)}Cu(e){return new OO(wb.Vi,this.serializer)}Du(e){return new cz}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mf.provider={build:()=>new Mf};class tB extends Mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){at(this.persistence.referenceDelegate instanceof Df,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new U8(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new OO((i=>Df.Vi(i,t)),this.serializer)}}class g0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>dC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jz.bind(null,this.syncEngine),await kz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jz})()}createDatastore(e){const t=Ed(e.databaseInfo.databaseId),i=mz(e.databaseInfo);return bz(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,d){return new Tz(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>dC(this.syncEngine,t,0)),(function(){return oC.v()?new oC:new hz})())}createSyncEngine(e,t){return(function(a,l,c,d,p,g,v){const b=new zz(a,l,c,d,p,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=ke(t);ge(Pa,"RemoteStore shutting down."),i.Ea.add(5),await mc(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}g0.provider={build:()=>new g0};class ZO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Bs="FirestoreClient";class nB{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=a,this.user=vn.UNAUTHENTICATED,this.clientId=fb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ge(Bs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ge(Bs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=kb(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Bv(r,e){r.asyncQueue.verifyOperationInProgress(),ge(Bs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async a=>{i.isEqual(a)||(await DO(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function mC(r,e){r.asyncQueue.verifyOperationInProgress();const t=await rB(r);ge(Bs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>uC(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,a)=>uC(e.remoteStore,a))),r._onlineComponents=e}async function rB(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ge(Bs,"Using user provided OfflineComponentProvider");try{await Bv(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Jo("Error using user provided cache. Falling back to memory cache: "+t),await Bv(r,new Mf)}}else ge(Bs,"Using default OfflineComponentProvider"),await Bv(r,new tB(void 0));return r._offlineComponents}async function eD(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ge(Bs,"Using user provided OnlineComponentProvider"),await mC(r,r._uninitializedComponentsProvider._online)):(ge(Bs,"Using default OnlineComponentProvider"),await mC(r,new g0))),r._onlineComponents}function iB(r){return eD(r).then((e=>e.syncEngine))}async function tD(r){const e=await eD(r),t=e.eventManager;return t.onListen=Bz.bind(null,e.syncEngine),t.onUnlisten=Gz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Fz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$z.bind(null,e.syncEngine),t}function sB(r,e,t={}){const i=new Mi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const v=new ZO({next:x=>{v.Nu(),c.enqueueAndForget((()=>FO(l,b)));const S=x.docs.has(d);!S&&x.fromCache?g.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&x.fromCache&&p&&p.source==="server"?g.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),b=new HO(vb(d.path),v,{includeMetadataChanges:!0,Ka:!0});return BO(l,b)})(await tD(r),r.asyncQueue,e,t,i))),i.promise}function aB(r,e,t={}){const i=new Mi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const v=new ZO({next:x=>{v.Nu(),c.enqueueAndForget((()=>FO(l,b))),x.fromCache&&p.source==="server"?g.reject(new me(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),b=new HO(d,v,{includeMetadataChanges:!0,Ka:!0});return BO(l,b)})(await tD(r),r.asyncQueue,e,t,i))),i.promise}function oB(r,e){const t=new Mi;return r.asyncQueue.enqueueAndForget((async()=>Kz(await iB(r),e,t))),t.promise}function nD(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const lB="ComponentProvider",gC=new Map;function uB(r,e,t,i,a){return new I7(r,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,nD(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const rD="firestore.googleapis.com",yC=!0;class vC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rD,this.ssl=yC}else this.host=e.host,this.ssl=e.ssl??yC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<P8)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nD(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sd{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new o7;switch(i.type){case"firstParty":return new h7(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=gC.get(t);i&&(ge(lB,"Removing Datastore"),gC.delete(t),i.terminate())})(this),Promise.resolve()}}function cB(r,e,t,i={}){r=qi(r,Sd);const a=cl(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;a&&(Q2(`https://${d}`),X2("Firestore",!0)),l.host!==rD&&l.host!==d&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:a,emulatorOptions:i};if(!ka(p,c)&&(r._setSettings(p),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=vn.MOCK_USER;else{g=DL(i.mockUserToken,r._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new vn(b)}r._authCredentials=new l7(new zN(g,v))}}class Fs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Fs(this.firestore,e,this._query)}}class Kt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(fc(t,Kt._jsonSchema))return new Kt(e,i||null,new Te(yt.fromString(t.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:$t("string",Kt._jsonSchemaVersion),referencePath:$t("string")};class Ms extends Fs{constructor(e,t,i){super(e,t,vb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Te(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function Pb(r,e,...t){if(r=kn(r),BN("collection","path",e),r instanceof Sd){const i=yt.fromString(e,...t);return OR(i),new Ms(r,null,i)}{if(!(r instanceof Kt||r instanceof Ms))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(yt.fromString(e,...t));return OR(i),new Ms(r.firestore,null,i)}}function wd(r,e,...t){if(r=kn(r),arguments.length===1&&(e=fb.newId()),BN("doc","path",e),r instanceof Sd){const i=yt.fromString(e,...t);return NR(i),new Kt(r,null,new Te(i))}{if(!(r instanceof Kt||r instanceof Ms))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(yt.fromString(e,...t));return NR(i),new Kt(r.firestore,r instanceof Ms?r.converter:null,new Te(i))}}const _C="AsyncQueue";class bC{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MO(this,"async_queue_retry"),this._c=()=>{const i=zv();i&&ge(_C,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=zv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=zv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Mi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ml(e))throw e;ge(_C,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ui("INTERNAL UNHANDLED ERROR: ",EC(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Db.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Se(47125,{Pc:EC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function EC(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class vl extends Sd{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new bC,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bC(e),this._firestoreClient=void 0,await e}}}function hB(r,e){const t=typeof r=="object"?r:eN(),i=typeof r=="string"?r:wf,a=Z0(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=NL("firestore");l&&cB(a,...l)}return a}function Lb(r){if(r._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||fB(r),r._firestoreClient}function fB(r){const e=r._freezeSettings(),t=uB(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new nB(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(r._componentsProvider))}class ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ur(dn.fromBase64String(e))}catch(t){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ur(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fc(e,ur._jsonSchema))return ur.fromBase64String(e.bytes)}}ur._jsonSchemaVersion="firestore/bytes/1.0",ur._jsonSchema={type:$t("string",ur._jsonSchemaVersion),bytes:$t("string")};class iD{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sD{constructor(e){this._methodName=e}}class ai{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ai._jsonSchemaVersion}}static fromJSON(e){if(fc(e,ai._jsonSchema))return new ai(e.latitude,e.longitude)}}ai._jsonSchemaVersion="firestore/geoPoint/1.0",ai._jsonSchema={type:$t("string",ai._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};class Cr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fc(e,Cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Cr(e.vectorValues);throw new me(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Cr._jsonSchemaVersion="firestore/vectorValue/1.0",Cr._jsonSchema={type:$t("string",Cr._jsonSchemaVersion),vectorValues:$t("object")};const dB=/^__.*__$/;class pB{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ha(e,this.data,this.fieldMask,t,this.fieldTransforms):new dc(e,this.data,t,this.fieldTransforms)}}function aD(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{dataSource:r})}}class Ub{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ub({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return jf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(aD(this.dataSource)&&dB.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class mB{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ed(e)}createContext(e,t,i,a=!1){return new Ub({dataSource:e,methodName:t,targetDoc:i,path:hn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qb(r){const e=r._freezeSettings(),t=Ed(r._databaseId);return new mB(r._databaseId,!!e.ignoreUndefinedProperties,t)}function oD(r,e,t,i,a,l={}){const c=r.createContext(l.merge||l.mergeFields?2:0,e,t,a);cD("Data must be an object, but it was:",c,i);const d=lD(i,c);let p,g;if(l.merge)p=new wr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const x=Ad(e,b,t);if(!c.contains(x))throw new me(ie.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);_B(v,x)||v.push(x)}p=new wr(v),g=c.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=c.fieldTransforms;return new pB(new lr(d),p,g)}function gB(r,e,t,i=!1){return zb(t,r.createContext(i?4:3,e))}function zb(r,e){if(uD(r=kn(r)))return cD("Unsupported field value:",e,r),lD(r,e);if(r instanceof sD)return(function(i,a){if(!aD(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let p=zb(d,a.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(r,e)}return(function(i,a){if((i=kn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return t8(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Et.fromDate(i);return{timestampValue:Of(a.serializer,l)}}if(i instanceof Et){const l=new Et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Of(a.serializer,l)}}if(i instanceof ai)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ur)return{bytesValue:TO(a.serializer,i._byteString)};if(i instanceof Kt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:xb(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Cr)return(function(c,d){const p=c instanceof Cr?c.toArray():c;return{mapValue:{fields:{[WN]:{stringValue:JN},[Af]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return _b(d.serializer,v)}))}}}}}})(i,a);if(IO(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${fd(i)}`)})(r,e)}function lD(r,e){const t={};return GN(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(r,((i,a)=>{const l=zb(a,e.childContextForField(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function uD(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Et||r instanceof ai||r instanceof ur||r instanceof Kt||r instanceof sD||r instanceof Cr||IO(r))}function cD(r,e,t){if(!uD(t)||!FN(t)){const i=fd(t);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function Ad(r,e,t){if((e=kn(e))instanceof iD)return e._internalPath;if(typeof e=="string")return vB(r,e);throw jf("Field path arguments must be of type string or ",r,!1,void 0,t)}const yB=new RegExp("[~\\*/\\[\\]]");function vB(r,e,t){if(e.search(yB)>=0)throw jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new iD(...e.split("."))._internalPath}catch{throw jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function jf(r,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new me(ie.INVALID_ARGUMENT,d+r+p)}function _B(r,e){return r.some((t=>t.isEqual(e)))}class bB{convertValue(e,t="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ba(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Af].arrayValue?.values?.map((i=>kt(i.doubleValue)));return new Cr(t)}convertGeoPoint(e){return new ai(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=md(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Yu(e));default:return null}}convertTimestamp(e){const t=Ls(e);return new Et(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=yt.fromString(e);at(CO(i),9688,{name:e});const a=new Qu(i.get(1),i.get(3)),l=new Te(i.popFirst(5));return a.isEqual(t)||Ui(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class hD extends bB{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,t)}}const TC="@firebase/firestore",xC="4.10.0";class fD{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Ad("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class EB extends fD{data(){return super.data()}}function TB(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bb{}class Fb extends Bb{}function Hb(r,e,...t){let i=[];e instanceof Bb&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((p=>p instanceof $b)).length,d=l.filter((p=>p instanceof Gb)).length;if(c>1||c>0&&d>0)throw new me(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)r=a._apply(r);return r}class Gb extends Fb{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Gb(e,t,i)}_apply(e){const t=this._parse(e);return dD(e._query,t),new Fs(e.firestore,e.converter,o0(e._query,t))}_parse(e){const t=qb(e.firestore);return(function(l,c,d,p,g,v,b){let x;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new me(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){wC(b,v);const M=[];for(const P of b)M.push(SC(p,l,P));x={arrayValue:{values:M}}}else x=SC(p,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||wC(b,v),x=gB(d,c,b,v==="in"||v==="not-in");return Gt.create(g,v,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class $b extends Bb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $b(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)dD(c,p),c=o0(c,p)})(e._query,t),new Fs(e.firestore,e.converter,o0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kb extends Fb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Kb(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new me(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new me(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wu(l,c)})(e._query,this._field,this._direction);return new Fs(e.firestore,e.converter,K7(e._query,t))}}function Yb(r,e="asc"){const t=e,i=Ad("orderBy",r);return Kb._create(i,t)}class Qb extends Fb{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Qb(e,t,i)}_apply(e){return new Fs(e.firestore,e.converter,Cf(e._query,this._limit,this._limitType))}}function Xb(r){return v7("limit",r),Qb._create("limit",r,"F")}function SC(r,e,t){if(typeof(t=kn(t))=="string"){if(t==="")throw new me(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aO(e)&&t.indexOf("/")!==-1)throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(yt.fromString(t));if(!Te.isDocumentKey(i))throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return UR(r,new Te(i))}if(t instanceof Kt)return UR(r,t._key);throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(t)}.`)}function wC(r,e){if(!Array.isArray(r)||r.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dD(r,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function pD(r,e,t){let i;return i=r?r.toFirestore(e):e,i}class ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oa extends fD{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ad("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Oa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oa._jsonSchema={type:$t("string",Oa._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class hf extends Oa{data(e={}){return super.data(e)}}class $o{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ku(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new hf(this._firestore,this._userDataWriter,i.key,i,new ku(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new hf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ku(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new hf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ku(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:xB(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xB(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}$o._jsonSchemaVersion="firestore/querySnapshot/1.0",$o._jsonSchema={type:$t("string",$o._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};function mD(r){r=qi(r,Kt);const e=qi(r.firestore,vl),t=Lb(e);return sB(t,r._key).then((i=>wB(e,r,i)))}function Wb(r){r=qi(r,Fs);const e=qi(r.firestore,vl),t=Lb(e),i=new hD(e);return TB(r._query),aB(t,r._query).then((a=>new $o(e,i,r,a)))}function SB(r,e,t){r=qi(r,Kt);const i=qi(r.firestore,vl),a=pD(r.converter,e),l=qb(i);return Jb(i,[oD(l,"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Rr.none())])}function gD(r){return Jb(qi(r.firestore,vl),[new bb(r._key,Rr.none())])}function yD(r,e){const t=qi(r.firestore,vl),i=wd(r),a=pD(r.converter,e),l=qb(r.firestore);return Jb(t,[oD(l,"addDoc",i._key,a,r.converter!==null,{}).toMutation(i._key,Rr.exists(!1))]).then((()=>i))}function Jb(r,e){const t=Lb(r);return oB(t,e)}function wB(r,e,t){const i=t.docs.get(e._key),a=new hD(r);return new Oa(r,a,e._key,i,new ku(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){a7(hl),Xo(new Ma("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new vl(new u7(i.getProvider("auth-internal")),new f7(c,i.getProvider("app-check-internal")),N7(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Ds(TC,xC,e),Ds(TC,xC,"esm2020")})();const AB={apiKey:"AIzaSyDXya7ukJ5P7pR2MVidcqxrWYWhK-VP8tY",authDomain:"completionist-state.firebaseapp.com",projectId:"completionist-state",storageBucket:"completionist-state.firebasestorage.app",messagingSenderId:"319558268180",appId:"1:319558268180:web:332ac473de29adf0b0fe01",measurementId:"G-78MMCXL994"},vD=Z2(AB),Ir=n7(vD),_D=new Ni,il=hB(vD),bD=({onAuthChange:r})=>{const[e,t]=z.useState(null),[i,a]=z.useState(!0);z.useEffect(()=>{const d=lb(Ir,p=>{t(p),a(!1),r&&r(p)});return()=>d()},[r]);const l=async()=>{try{await DN(Ir,_D),window.location.reload()}catch(d){console.error("Error signing in:",d)}},c=async()=>{try{await $U(Ir),window.location.reload()}catch(d){console.error("Error signing out:",d)}};return i?y.jsx(Vs,{className:"text-gray-400"}):e?y.jsxs("button",{onClick:c,className:"flex items-center w-full px-2 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors rounded-md",title:`Sign out (${e.email})`,children:[y.jsx(V5,{className:"mr-2 text-red-500 text-xl"}),"Sign Out"]}):y.jsxs("button",{onClick:l,className:"flex items-center w-full px-2 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors rounded-md",title:"Sign in with Google",children:[y.jsx(j5,{className:"mr-2 text-gray-400 text-xl"}),"Sign in with Google"]})};bD.propTypes={onAuthChange:R.func};const Da=25,AC=4e5,RB=60*1e3;let Bu=0,y0=null;const CB=()=>Bu,RC=r=>r?r.gameConfig&&Object.keys(r.gameConfig).length>0||r.todoItems&&Object.keys(r.todoItems).length>0:!1,IB=async()=>{const r=localStorage.getItem("state");let e;try{e=(r?JSON.parse(r):void 0)||void 0}catch(t){console.error("Error parsing localStorage state:",t),localStorage.removeItem("state"),localStorage.removeItem("state_local_updated_at")}try{const t=Ir.currentUser;if(!t)return e;const i=wd(il,"users",t.uid,"data","state"),a=await mD(i);if(a.exists()){const l=a.data().state||void 0,c=a.data().updatedAt,d=c?.toDate?.()||c,p=d instanceof Date?d.getTime():Number(d);if(RC(e)&&RC(l)){const g=Number(localStorage.getItem("state_local_updated_at"));return g&&p?g>p?e:l:{_conflict:!0,cloudState:l,localState:e,cloudUpdated:c?.toDate?.()||c}}return l}else return e!==void 0?(await Ii(e),e):void 0}catch(t){return console.error("Error loading state:",t),t.code==="permission-denied"?{_error:!0,errorType:"permission-denied",errorMessage:"Failed to load cloud data due to insufficient permissions. Check Firestore security rules.",localState:e}:void 0}},Ii=async r=>{if(r===void 0)return;const e=JSON.stringify(r);localStorage.setItem("state",e);const t=new Date;localStorage.setItem("state_local_updated_at",String(t.getTime()));try{const i=Ir.currentUser;if(!i)return;const a=new Blob([e]).size;if(a>AC){console.error(`State too large: ${a} bytes (max ${AC})`),alert(`Your data is too large (${Math.round(a/1024)}KB). Please reduce todo items or checked items.`);return}const l=wd(il,"users",i.uid,"data","state");await SB(l,{state:r,updatedAt:t});const c=t.getTime()-Bu,d=e;if(y0!==d&&(Bu===0||c>=RB)){Bu=t.getTime(),y0=d;const v=Pb(il,"users",i.uid,"data","state","history");await yD(v,{state:r,savedAt:t});const b=Hb(v,Yb("savedAt","desc"),Xb(Da+1)),x=await Wb(b);if(x.size>Da){const S=[];x.docs.forEach((M,P)=>{P>=Da&&S.push(gD(M.ref))}),await Promise.all(S)}}}catch(i){console.error("âŒ Error saving state to cloud:",i),console.error("Error code:",i.code),console.error("Error message:",i.message),i.code==="permission-denied"&&(console.error("ðŸš« PERMISSION DENIED during save"),alert("Failed to save to cloud due to permission error. Your data is saved locally."))}},NB=async()=>{try{const r=Ir.currentUser;if(!r)return[];const e=Pb(il,"users",r.uid,"data","state","history"),t=Hb(e,Yb("savedAt","desc"),Xb(Da));return(await Wb(t)).docs.map(a=>({id:a.id,state:a.data().state,savedAt:a.data().savedAt?.toDate?.()||a.data().savedAt}))}catch(r){return console.error("Error loading version history:",r),[]}},OB=async()=>{try{const r=Ir.currentUser;if(!r)return console.error("âŒ ForceSaveToHistory - No user authenticated"),!1;const e=localStorage.getItem("state");if(!e)return console.error("âŒ ForceSaveToHistory - No state in localStorage"),!1;const t=JSON.parse(e),i=new Date;console.log("ðŸ’¾ ForceSaveToHistory - Saving to history...");const a=Pb(il,"users",r.uid,"data","state","history");await yD(a,{state:t,savedAt:i}),Bu=i.getTime(),y0=e,console.log("âœ… ForceSaveToHistory - Successfully saved to history");const l=Hb(a,Yb("savedAt","desc"),Xb(Da+1)),c=await Wb(l);if(c.size>Da){const d=[];c.docs.forEach((p,g)=>{g>=Da&&d.push(gD(p.ref))}),await Promise.all(d)}return!0}catch(r){return console.error("âŒ Error force saving to history:",r),console.error("Error code:",r.code),console.error("Error message:",r.message),!1}},DB=async r=>{try{const e=Ir.currentUser;if(!e)return console.error("âŒ RestoreVersion - No user authenticated"),null;const t=wd(il,"users",e.uid,"data","state","history",r),i=await mD(t);if(i.exists()){const a=i.data().state;return await Ii(a),a}return console.error("âŒ RestoreVersion - Version document not found"),null}catch(e){return console.error("âŒ Error restoring version:",e),console.error("Error code:",e.code),console.error("Error message:",e.message),null}},ED=({open:r,onClose:e,onRestore:t})=>{const[i,a]=z.useState([]),[l,c]=z.useState(!0),[d,p]=z.useState(null);z.useEffect(()=>{r&&g()},[r]);const g=async()=>{c(!0);const S=await NB();a(S),c(!1)},v=async S=>{p(S);const M=await DB(S);M&&t&&t(M),p(null),e(),window.location.reload()},b=S=>S?new Date(S).toLocaleString():"Unknown",x=S=>{let M=0;S.gameConfig&&Object.values(S.gameConfig).forEach(k=>{typeof k=="object"&&Object.values(k).forEach(F=>{typeof F=="object"&&(M+=Object.keys(F).length)})});const P=S.todoItems?Object.keys(S.todoItems).length:0;return`${M} items, ${P} todo`};return r?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-11/12 md:w-3/4 overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh] text-left",children:[y.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-gray-100 rounded-lg text-gray-600",children:y.jsx(r2,{className:"text-2xl"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Version History (Last 25)"})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(Sn,{className:"text-gray-400 text-2xl"})})]}),y.jsx("div",{className:"grow overflow-y-auto p-6",children:l?y.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[y.jsx(Vs,{className:"mb-4"}),y.jsx("p",{children:"Loading versions..."})]}):i.length===0?y.jsx("div",{className:"text-center py-12 text-gray-500",children:y.jsx("p",{children:"No version history available yet. Versions are saved when you make changes while signed in."})}):y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left text-lg",children:[y.jsx("thead",{className:"text-base text-gray-500 uppercase tracking-wider bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-2 font-semibold",children:"Date & Time"}),y.jsx("th",{className:"px-4 py-2 font-semibold",children:"Summary"}),y.jsx("th",{className:"px-4 py-2 font-semibold text-right",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-100",children:i.map((S,M)=>y.jsxs("tr",{className:M===0?"bg-green-50/30":"",children:[y.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center gap-2",children:[M===0&&y.jsx(fn,{className:"text-green-500"}),y.jsx("span",{className:M===0?"font-bold text-gray-900":"text-gray-700",children:b(S.savedAt)}),M===0&&y.jsx("span",{className:"text-base text-green-500 font-medium",children:"(Current)"})]})}),y.jsx("td",{className:"px-4 py-3 text-gray-500",children:x(S.state)}),y.jsx("td",{className:"px-4 py-3 text-right",children:M===0?y.jsx("span",{className:"text-gray-400 italic",children:"Current Version"}):y.jsxs("button",{disabled:d!==null,onClick:()=>v(S.id),className:"inline-flex items-center gap-1.5 px-3 py-1 bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50 transition-colors shadow-sm text-base font-bold",children:[d===S.id?y.jsx(Vs,{}):y.jsx(L5,{}),"Restore"]})})]},S.id))})]})})}),y.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsx("button",{onClick:e,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 text-gray-700 font-bold transition-colors shadow-sm text-lg",children:"Close"})})]})}):null};ED.propTypes={open:R.bool.isRequired,onClose:R.func.isRequired,onRestore:R.func};let TD=class extends Yt.Component{constructor(e){super(e),this.state={isCloudUser:!1,showVersionHistory:!1,isSavingHistory:!1,settingsOpened:!1},this.handleFileUploadClick=this.handleFileUploadClick.bind(this),this.handleFileUpload=this.handleFileUpload.bind(this),this.handleVersionHistoryOpen=this.handleVersionHistoryOpen.bind(this),this.handleVersionHistoryClose=this.handleVersionHistoryClose.bind(this),this.handleForceSaveToHistory=this.handleForceSaveToHistory.bind(this),this.settingsRef=Yt.createRef(),this.fileInput=Yt.createRef(),this.handleClickOutside=this.handleClickOutside.bind(this)}componentDidMount(){this.unsubscribe=lb(Ir,e=>{this.setState({isCloudUser:!!e})}),document.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){this.unsubscribe&&this.unsubscribe(),document.removeEventListener("mousedown",this.handleClickOutside)}handleClickOutside(e){this.settingsRef.current&&!this.settingsRef.current.contains(e.target)&&this.setState({settingsOpened:!1})}handleVisibilityToggle(){return()=>{const e=this.props.visibilityFilter===Jt.SHOW_ALL?Jt.SHOW_ACTIVE:Jt.SHOW_ALL;this.props.setVisibilityFilter(e)}}handleSearchFilterChange(){return e=>{this.props.setSearchValue(e.target.value)}}handleClearFilter(){return()=>{this.props.setSearchValue("")}}handleFileUploadClick(e){e.preventDefault(),this.setState({settingsOpened:!1}),this.fileInput.current.value&&(this.fileInput.current.value=null),this.fileInput.current.click()}handleFileUpload(e){if(e.preventDefault(),!this.fileInput.current.files||!this.fileInput.current.files.length||this.fileInput.current.files.length!==1)return;const t=this.fileInput.current.files[0];if(t.type!=="application/json"||t.size>200*1024)return;const i=new FileReader;i.onload=a=>{const l=a.target.result,c=JSON.parse(l);return this.props.uploadState(c)},i.readAsText(t)}handleVersionHistoryOpen(){this.setState({showVersionHistory:!0,settingsOpened:!1})}handleVersionHistoryClose(){this.setState({showVersionHistory:!1})}async handleSignIn(){try{await DN(Ir,_D),window.location.reload()}catch(e){console.error("Error signing in:",e)}}async handleForceSaveToHistory(){this.setState({isSavingHistory:!0});const e=await OB();this.setState({isSavingHistory:!1}),e?this.forceUpdate():alert("Failed to save to history. Check console for details.")}getCloudTooltip(){const e=CB();return e===0?"Click to save current state to history":`Click to save current state to history
Last saved: ${new Date(e).toLocaleString()}`}render(){return y.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 ml-auto",children:[y.jsxs("div",{className:"relative flex items-center group text-gray-400 mr-4",children:[y.jsx("input",{type:"text",placeholder:"Filter...",value:this.props.searchFilter,onChange:this.handleSearchFilterChange(),className:"pl-3 pr-10 py-1 w-32 sm:w-48 text-sm bg-transparent focus:outline-none transition-all"}),y.jsx(D5,{className:"transition-colors text-lg pointer-events-none roup-focus-within:text-gray-900"}),this.props.searchFilter&&y.jsx("button",{onClick:this.handleClearFilter(),className:"absolute right-7 top-1/2 -translate-y-1/2 p-0.5 hover:bg-gray-200 rounded-full transition-colors",children:y.jsx(Sn,{className:"text-red-600 text-xs"})})]}),y.jsx("button",{onClick:this.handleVisibilityToggle(),title:"Hide Marked",className:`p-1 cursor-pointer transition-colors ${this.props.visibilityFilter!==Jt.SHOW_ALL?"text-red-600":"text-gray-700 hover:text-gray-900"}`,children:y.jsx(G_,{className:"text-lg"})}),y.jsx(Hu,{to:"/info",title:"Info",className:"p-1 text-gray-700 hover:text-gray-900 transition-colors [&.active]:text-black",children:y.jsx(D0,{className:"text-lg"})}),y.jsx("button",{onClick:this.state.isCloudUser?()=>this.handleForceSaveToHistory():()=>this.handleSignIn(),title:this.state.isCloudUser?this.getCloudTooltip():"Sign in with Google",className:`p-1 cursor-pointer transition-all ${this.state.isCloudUser?"text-sky-700 hover:opacity-80":"text-gray-400 hover:text-gray-600"}`,children:y.jsx(ef,{className:`text-lg ${this.state.isSavingHistory?"animate-pulse":""}`})}),y.jsxs("div",{className:"relative",ref:this.settingsRef,children:[y.jsx("button",{onClick:()=>this.setState(e=>({settingsOpened:!e.settingsOpened})),className:"p-1 text-gray-700 hover:text-gray-900 transition-colors cursor-pointer",children:y.jsx(nc,{className:"text-lg"})}),this.state.settingsOpened&&y.jsxs("div",{className:"absolute right-0 mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[y.jsx("div",{className:"px-3 py-1.5 text-base font-semibold text-gray-500 uppercase tracking-wider",children:"Settings"}),y.jsxs("button",{onClick:()=>{this.props.downloadState(),this.setState({settingsOpened:!1})},className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(k5,{className:"mr-2 text-gray-400 text-xl"}),"Download state"]}),y.jsxs("button",{onClick:this.handleFileUploadClick,className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(M5,{className:"mr-2 text-gray-400 text-xl"}),"Upload state"]}),y.jsx("input",{type:"file",ref:this.fileInput,hidden:!0,onChange:this.handleFileUpload}),this.state.isCloudUser&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"border-t border-gray-100 my-1"}),y.jsxs("button",{onClick:()=>this.handleVersionHistoryOpen(),className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(r2,{className:"mr-2 text-gray-400 text-xl"}),"Version History"]})]}),y.jsx("div",{className:"border-t border-gray-100 my-1"}),y.jsx("div",{className:"px-2 py-1",children:y.jsx(bD,{})})]})]}),y.jsx(ED,{open:this.state.showVersionHistory,onClose:this.handleVersionHistoryClose})]})}};TD.propTypes={downloadState:R.func.isRequired,uploadState:R.func.isRequired,setVisibilityFilter:R.func.isRequired,visibilityFilter:R.string.isRequired,setSearchValue:R.func.isRequired,searchFilter:R.string.isRequired};var ff={exports:{}},kB=ff.exports,CC;function MB(){return CC||(CC=1,(function(r,e){(function(t,i){i()})(kB,function(){function t(g,v){return typeof v>"u"?v={autoBom:!1}:typeof v!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),v={autoBom:!v}),v.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function i(g,v,b){var x=new XMLHttpRequest;x.open("GET",g),x.responseType="blob",x.onload=function(){p(x.response,v,b)},x.onerror=function(){console.error("could not download file")},x.send()}function a(g){var v=new XMLHttpRequest;v.open("HEAD",g,!1);try{v.send()}catch{}return 200<=v.status&&299>=v.status}function l(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(v)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Cs=="object"&&Cs.global===Cs?Cs:void 0,d=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(g,v,b){var x=c.URL||c.webkitURL,S=document.createElement("a");v=v||g.name||"download",S.download=v,S.rel="noopener",typeof g=="string"?(S.href=g,S.origin===location.origin?l(S):a(S.href)?i(g,v,b):l(S,S.target="_blank")):(S.href=x.createObjectURL(g),setTimeout(function(){x.revokeObjectURL(S.href)},4e4),setTimeout(function(){l(S)},0))}:"msSaveOrOpenBlob"in navigator?function(g,v,b){if(v=v||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(t(g,b),v);else if(a(g))i(g,v,b);else{var x=document.createElement("a");x.href=g,x.target="_blank",setTimeout(function(){l(x)})}}:function(g,v,b,x){if(x=x||open("","_blank"),x&&(x.document.title=x.document.body.innerText="downloading..."),typeof g=="string")return i(g,v,b);var S=g.type==="application/octet-stream",M=/constructor/i.test(c.HTMLElement)||c.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||S&&M||d)&&typeof FileReader<"u"){var k=new FileReader;k.onloadend=function(){var W=k.result;W=P?W:W.replace(/^data:[^;]*;/,"data:attachment/file;"),x?x.location.href=W:location=W,x=null},k.readAsDataURL(g)}else{var F=c.URL||c.webkitURL,B=F.createObjectURL(g);x?x.location=B:location.href=B,x=null,setTimeout(function(){F.revokeObjectURL(B)},4e4)}});c.saveAs=p.saveAs=p,r.exports=p})})(ff)),ff.exports}var jB=MB();const xD=Qt(jB),VB=r=>({visibilityFilter:r.visibilityFilter,searchFilter:r.searchFilter,gameConfig:r.gameConfig,fullState:r}),PB=r=>({uploadState:e=>r(cP(e)),setVisibilityFilter:e=>r(lP(e)),setSearchValue:e=>r(oP(e))}),LB=(r,e,t)=>({...t,visibilityFilter:r.visibilityFilter,searchFilter:r.searchFilter,gameConfig:r.gameConfig,...e,downloadState:()=>{const i=new Blob([JSON.stringify(r.fullState,null,2)],{type:"text/json;charset=utf-8"});xD.saveAs(i,"state.json")}}),UB=W4(VB,PB,LB)(TD),SD=({configs:r,children:e})=>{const[t,i]=z.useState(!1),a=z.useRef(null),l=Bi();z.useEffect(()=>{const g=v=>{a.current&&!a.current.contains(v.target)&&t&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[t]);const c=()=>{i(!t)},d=r.find(g=>l.pathname.startsWith(`/${g.name}`)),p=d?d.title:"Select Game";return y.jsxs("div",{className:"min-h-screen bg-white",children:[y.jsx("header",{className:"sticky top-0 z-40 w-full bg-white border-b border-gray-200",children:y.jsxs("div",{className:"px-3 h-11 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:c,className:"p-1 hover:bg-gray-100 rounded-md transition-colors text-gray-500",title:"Menu",children:y.jsx(O5,{className:"text-lg"})}),y.jsx("span",{className:"text-gray-900 font-bold text-lg truncate",children:p})]}),y.jsx("div",{className:"flex items-center",children:y.jsx(UB,{})})]})}),y.jsx("div",{className:`fixed inset-0 bg-black/20 backdrop-blur-[1px] z-[60] duration-300 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>i(!1)}),y.jsx("div",{ref:a,className:`fixed inset-y-0 left-0 w-64 bg-white shadow-2xl z-[70] transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"-translate-x-full"}`,children:y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsxs("div",{className:"px-4 py-4 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("span",{className:"font-bold text-xl text-gray-900",children:"Completionist"}),y.jsx("button",{onClick:()=>i(!1),className:"p-1 hover:bg-gray-100 rounded-md transition-colors text-gray-400 hover:text-gray-600",children:y.jsx(Sn,{className:"text-xl"})})]}),y.jsxs("div",{className:"grow overflow-y-auto py-2",children:[y.jsx("div",{className:"px-4 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest border-b border-gray-50 mb-1",children:"Select Game"}),r.map(g=>y.jsx(Hu,{to:`/${g.name}`,onClick:()=>i(!1),className:"flex items-center px-4 py-2.5 text-base text-gray-700 hover:bg-gray-50 transition-colors [&.active]:bg-gray-100 [&.active]:text-black [&.active]:font-bold border-l-4 border-transparent [&.active]:border-black",children:g.title},g.name))]}),y.jsx("div",{className:"py-2 border-t border-gray-100",children:y.jsxs(Hu,{to:"/info",onClick:()=>i(!1),className:"flex items-center px-4 py-2.5 text-base text-gray-700 hover:bg-gray-50 transition-colors [&.active]:bg-gray-100 [&.active]:text-black [&.active]:font-bold border-l-4 border-transparent [&.active]:border-black",children:[y.jsx(D0,{className:"mr-2 text-xl"}),"Info / Credits"]})})]})}),y.jsx("main",{className:"max-w-7xl mx-auto px-2",children:e})]})};SD.propTypes={children:R.node,configs:R.array.isRequired};const Vf=({configs:r})=>{const e=r[0]?.name;return y.jsx(Lj,{children:y.jsx(SD,{configs:r,children:y.jsxs(qI,{children:[y.jsx(Aa,{path:"/info",element:y.jsx(EL,{})}),y.jsx(Aa,{path:"/:gameName/*",element:y.jsx(B2,{configs:r})}),y.jsx(Aa,{path:"/",element:y.jsx(U_,{to:`/${e}`,replace:!0})})]})})})};Vf.propTypes={configs:R.arrayOf(R.shape({name:R.string.isRequired,title:R.string.isRequired}))};var Fv={exports:{}},Au={},Hv={exports:{}},Gv={};var IC;function qB(){return IC||(IC=1,(function(r){function e(ee,he){var ye=ee.length;ee.push(he);e:for(;0<ye;){var Le=ye-1>>>1,Fe=ee[Le];if(0<a(Fe,he))ee[Le]=he,ee[ye]=Fe,ye=Le;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var he=ee[0],ye=ee.pop();if(ye!==he){ee[0]=ye;e:for(var Le=0,Fe=ee.length,U=Fe>>>1;Le<U;){var ne=2*(Le+1)-1,ue=ee[ne],de=ne+1,X=ee[de];if(0>a(ue,ye))de<Fe&&0>a(X,ue)?(ee[Le]=X,ee[de]=ye,Le=de):(ee[Le]=ue,ee[ne]=ye,Le=ne);else if(de<Fe&&0>a(X,ye))ee[Le]=X,ee[de]=ye,Le=de;else break e}}return he}function a(ee,he){var ye=ee.sortIndex-he.sortIndex;return ye!==0?ye:ee.id-he.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,b=null,x=3,S=!1,M=!1,P=!1,k=!1,F=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function le(ee){for(var he=t(g);he!==null;){if(he.callback===null)i(g);else if(he.startTime<=ee)i(g),he.sortIndex=he.expirationTime,e(p,he);else break;he=t(g)}}function ce(ee){if(P=!1,le(ee),!M)if(t(p)!==null)M=!0,oe||(oe=!0,L());else{var he=t(g);he!==null&&Ne(ce,he.startTime-ee)}}var oe=!1,I=-1,C=5,O=-1;function j(){return k?!0:!(r.unstable_now()-O<C)}function D(){if(k=!1,oe){var ee=r.unstable_now();O=ee;var he=!0;try{e:{M=!1,P&&(P=!1,B(I),I=-1),S=!0;var ye=x;try{t:{for(le(ee),b=t(p);b!==null&&!(b.expirationTime>ee&&j());){var Le=b.callback;if(typeof Le=="function"){b.callback=null,x=b.priorityLevel;var Fe=Le(b.expirationTime<=ee);if(ee=r.unstable_now(),typeof Fe=="function"){b.callback=Fe,le(ee),he=!0;break t}b===t(p)&&i(p),le(ee)}else i(p);b=t(p)}if(b!==null)he=!0;else{var U=t(g);U!==null&&Ne(ce,U.startTime-ee),he=!1}}break e}finally{b=null,x=ye,S=!1}he=void 0}}finally{he?L():oe=!1}}}var L;if(typeof W=="function")L=function(){W(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Re=N.port2;N.port1.onmessage=D,L=function(){Re.postMessage(null)}}else L=function(){F(D,0)};function Ne(ee,he){I=F(function(){ee(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(ee){switch(x){case 1:case 2:case 3:var he=3;break;default:he=x}var ye=x;x=he;try{return ee()}finally{x=ye}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(ee,he){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ye=x;x=ee;try{return he()}finally{x=ye}},r.unstable_scheduleCallback=function(ee,he,ye){var Le=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Le+ye:Le):ye=Le,ee){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ye+Fe,ee={id:v++,callback:he,priorityLevel:ee,startTime:ye,expirationTime:Fe,sortIndex:-1},ye>Le?(ee.sortIndex=ye,e(g,ee),t(p)===null&&ee===t(g)&&(P?(B(I),I=-1):P=!0,Ne(ce,ye-Le))):(ee.sortIndex=Fe,e(p,ee),M||S||(M=!0,oe||(oe=!0,L()))),ee},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(ee){var he=x;return function(){var ye=x;x=he;try{return ee.apply(this,arguments)}finally{x=ye}}}})(Gv)),Gv}var NC;function zB(){return NC||(NC=1,Hv.exports=qB()),Hv.exports}var OC;function BB(){if(OC)return Au;OC=1;var r=zB(),e=Lf(),t=Yj();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(i(188))}function g(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),n;if(m===u)return p(f),s;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=m;else{for(var E=!1,w=f.child;w;){if(w===o){E=!0,o=f,u=m;break}if(w===u){E=!0,u=f,o=m;break}w=w.sibling}if(!E){for(w=m.child;w;){if(w===o){E=!0,o=m,u=f;break}if(w===u){E=!0,u=m,o=f;break}w=w.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),W=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function Re(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case F:return"Profiler";case k:return"StrictMode";case ce:return"Suspense";case oe:return"SuspenseList";case O:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case M:return"Portal";case W:return n.displayName||"Context";case B:return(n._context.displayName||"Context")+".Consumer";case le:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return s=n.displayName||null,s!==null?s:Re(n.type)||"Memo";case C:s=n._payload,n=n._init;try{return Re(n(s))}catch{}}return null}var Ne=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Le=[],Fe=-1;function U(n){return{current:n}}function ne(n){0>Fe||(n.current=Le[Fe],Le[Fe]=null,Fe--)}function ue(n,s){Fe++,Le[Fe]=n.current,n.current=s}var de=U(null),X=U(null),Q=U(null),pe=U(null);function Me(n,s){switch(ue(Q,s),ue(X,n),ue(de,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?GT(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=GT(s),n=$T(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(de),ue(de,n)}function be(){ne(de),ne(X),ne(Q)}function je(n){n.memoizedState!==null&&ue(pe,n);var s=de.current,o=$T(s,n.type);s!==o&&(ue(X,n),ue(de,o))}function Be(n){X.current===n&&(ne(de),ne(X)),pe.current===n&&(ne(pe),mu._currentValue=ye)}var we,He;function ze(n){if(we===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);we=s&&s[1]||"",He=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+n+He}var Ae=!1;function ot(n,s){if(!n||Ae)return"";Ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var Y=Z}Reflect.construct(n,[],se)}else{try{se.call()}catch(Z){Y=Z}n.call(se.prototype)}}else{try{throw Error()}catch(Z){Y=Z}(se=n())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&Y&&typeof Z.stack=="string")return[Z.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],w=m[1];if(E&&w){var V=E.split(`
`),K=w.split(`
`);for(f=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===V.length||f===K.length)for(u=V.length-1,f=K.length-1;1<=u&&0<=f&&V[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(V[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||V[u]!==K[f]){var te=`
`+V[u].replace(" at new "," at ");return n.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",n.displayName)),te}while(1<=u&&0<=f);break}}}finally{Ae=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?ze(o):""}function Ue(n,s){switch(n.tag){case 26:case 27:case 5:return ze(n.type);case 16:return ze("Lazy");case 13:return n.child!==s&&s!==null?ze("Suspense Fallback"):ze("Suspense");case 19:return ze("SuspenseList");case 0:case 15:return ot(n.type,!1);case 11:return ot(n.type.render,!1);case 1:return ot(n.type,!0);case 31:return ze("Activity");default:return""}}function $n(n){try{var s="",o=null;do s+=Ue(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var mt=Object.prototype.hasOwnProperty,Ct=r.unstable_scheduleCallback,Mn=r.unstable_cancelCallback,Kn=r.unstable_shouldYield,Xt=r.unstable_requestPaint,Mt=r.unstable_now,Yn=r.unstable_getCurrentPriorityLevel,Hs=r.unstable_ImmediatePriority,Hi=r.unstable_UserBlockingPriority,En=r.unstable_NormalPriority,$a=r.unstable_LowPriority,Gs=r.unstable_IdlePriority,Ka=r.log,$s=r.unstable_setDisableYieldValue,jt=null,vt=null;function Qn(n){if(typeof Ka=="function"&&$s(n),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(jt,n)}catch{}}var It=Math.clz32?Math.clz32:_c,vc=Math.log,Ya=Math.LN2;function _c(n){return n>>>=0,n===0?32:31-(vc(n)/Ya|0)|0}var kr=256,Ks=262144,Vt=4194304;function Mr(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function jr(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,m=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var w=u&134217727;return w!==0?(u=w&~m,u!==0?f=Mr(u):(E&=w,E!==0?f=Mr(E):o||(o=w&~n,o!==0&&(f=Mr(o))))):(w=u&~m,w!==0?f=Mr(w):E!==0?f=Mr(E):o||(o=u&~n,o!==0&&(f=Mr(o)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:f}function fr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Rd(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bc(){var n=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),n}function Vr(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Ys(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Cd(n,s,o,u,f,m){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var w=n.entanglements,V=n.expirationTimes,K=n.hiddenUpdates;for(o=E&~o;0<o;){var te=31-It(o),se=1<<te;w[te]=0,V[te]=-1;var Y=K[te];if(Y!==null)for(K[te]=null,te=0;te<Y.length;te++){var Z=Y[te];Z!==null&&(Z.lane&=-536870913)}o&=~se}u!==0&&Qs(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~s))}function Qs(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-It(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function bl(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-It(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function El(n,s){var o=s&-s;return o=(o&42)!==0?1:Xs(o),(o&(n.suspendedLanes|s))!==0?0:o}function Xs(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ci(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ec(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:mx(n.type))}function dr(n,s){var o=he.p;try{return he.p=n,s()}finally{he.p=o}}var pr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+pr,en="__reactProps$"+pr,Pr="__reactContainer$"+pr,Qa="__reactEvents$"+pr,Id="__reactListeners$"+pr,Tc="__reactHandles$"+pr,xc="__reactResources$"+pr,Lr="__reactMarker$"+pr;function Xa(n){delete n[Pt],delete n[en],delete n[Qa],delete n[Id],delete n[Tc]}function Ur(n){var s=n[Pt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Pr]||o[Pt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=ZT(n);n!==null;){if(o=n[Pt])return o;n=ZT(n)}return s}n=o,o=n.parentNode}return null}function Xn(n){if(n=n[Pt]||n[Pr]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function jn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function qr(n){var s=n[xc];return s||(s=n[xc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Lt(n){n[Lr]=!0}var Tl=new Set,xl={};function zr(n,s){Br(n,s),Br(n+"Capture",s)}function Br(n,s){for(xl[n]=s,n=0;n<s.length;n++)Tl.add(s[n])}var Sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wl={},Al={};function Sc(n){return mt.call(Al,n)?!0:mt.call(wl,n)?!1:Sl.test(n)?Al[n]=!0:(wl[n]=!0,!1)}function Wa(n,s,o){if(Sc(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function Vn(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Ut(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Gi(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Rl(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,m.call(this,E)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function lt(n){if(!n._valueTracker){var s=Gi(n)?"checked":"value";n._valueTracker=Rl(n,s,""+n[s])}}function Ws(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Gi(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Fr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Js=/[\n"\\]/g;function wn(n){return n.replace(Js,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ja(n,s,o,u,f,m,E,w){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+tn(s)):n.value!==""+tn(s)&&(n.value=""+tn(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?Cl(n,E,tn(s)):o!=null?Cl(n,E,tn(o)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+tn(w):n.removeAttribute("name")}function wc(n,s,o,u,f,m,E,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){lt(n);return}o=o!=null?""+tn(o):"",s=s!=null?""+tn(s):o,w||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=w?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),lt(n)}function Cl(n,s,o){s==="number"&&Fr(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function $i(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+tn(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Ac(n,s,o){if(s!=null&&(s=""+tn(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+tn(o):""}function Ki(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(Ne(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=tn(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),lt(n)}function An(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Il(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||Rc.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Nl(n,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Il(n,f,u)}else for(var m in s)s.hasOwnProperty(m)&&Il(n,m,s[m])}function Za(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(n){return Yi.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function mr(){}var Ol=null;function Wn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Qi=null,Hr=null;function Zs(n){var s=Xn(n);if(s&&(n=s.stateNode)){var o=n[en]||null;e:switch(n=s.stateNode,s.type){case"input":if(Ja(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[en]||null;if(!f)throw Error(i(90));Ja(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Ws(u)}break e;case"textarea":Ac(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&$i(n,!!o.multiple,s,!1)}}}var to=!1;function Xi(n,s,o){if(to)return n(s,o);to=!0;try{var u=n(s);return u}finally{if(to=!1,(Qi!==null||Hr!==null)&&(Eh(),Qi&&(s=Qi,n=Hr,Hr=Qi=null,Zs(s),n)))for(s=0;s<n.length;s++)Zs(n[s])}}function gr(n,s){var o=n.stateNode;if(o===null)return null;var u=o[en]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ea=!1;if(Jn)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){ea=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{ea=!1}var Gr=null,Dl=null,ta=null;function kl(){if(ta)return ta;var n,s=Dl,o=s.length,u,f="value"in Gr?Gr.value:Gr.textContent,m=f.length;for(n=0;n<o&&s[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&s[o-u]===f[m-u];u++);return ta=f.slice(n,1<u?1-u:void 0)}function na(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function hi(){return!0}function yr(){return!1}function sn(n){function s(o,u,f,m,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(o=n[w],this[w]=o?o(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?hi:yr,this.isPropagationStopped=yr,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),s}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$r=sn(fi),Wi=b({},fi,{view:0,detail:0}),Ml=sn(Wi),Ji,no,Kr,ro=b({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zi,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Kr&&(Kr&&n.type==="mousemove"?(Ji=n.screenX-Kr.screenX,no=n.screenY-Kr.screenY):no=Ji=0,Kr=n),Ji)},movementY:function(n){return"movementY"in n?n.movementY:no}}),jl=sn(ro),ra=b({},ro,{dataTransfer:0}),Ic=sn(ra),Nc=b({},Wi,{relatedTarget:0}),ia=sn(Nc),Vl=b({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Oc=sn(Vl),io=b({},fi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Dc=sn(io),kc=b({},fi,{data:0}),Yr=sn(kc),Mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Vc[n])?!!s[n]:!1}function Zi(){return Pc}var Tn=b({},Wi,{key:function(n){if(n.key){var s=Mc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=na(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?jc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zi,charCode:function(n){return n.type==="keypress"?na(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?na(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Lc=sn(Tn),Uc=b({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),di=sn(Uc),h=b({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zi}),_=sn(h),T=b({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=sn(T),G=b({},ro,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),J=sn(G),fe=b({},fi,{newState:0,oldState:0}),Ve=sn(fe),Nt=[9,13,27,32],it=Jn&&"CompositionEvent"in window,Tt=null;Jn&&"documentMode"in document&&(Tt=document.documentMode);var Zn=Jn&&"TextEvent"in window&&!Tt,Qr=Jn&&(!it||Tt&&8<Tt&&11>=Tt),vr=" ",_r=!1;function sa(n,s){switch(n){case"keyup":return Nt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function so(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ao=!1;function UD(n,s){switch(n){case"compositionend":return so(s);case"keypress":return s.which!==32?null:(_r=!0,vr);case"textInput":return n=s.data,n===vr&&_r?null:n;default:return null}}function qD(n,s){if(ao)return n==="compositionend"||!it&&sa(n,s)?(n=kl(),ta=Dl=Gr=null,ao=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Qr&&s.locale!=="ko"?null:s.data;default:return null}}var zD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n1(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!zD[n.type]:s==="textarea"}function r1(n,s,o,u){Qi?Hr?Hr.push(u):Hr=[u]:Qi=u,s=Ch(s,"onChange"),0<s.length&&(o=new $r("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Pl=null,Ll=null;function BD(n){UT(n,0)}function qc(n){var s=jn(n);if(Ws(s))return n}function i1(n,s){if(n==="change")return s}var s1=!1;if(Jn){var Nd;if(Jn){var Od="oninput"in document;if(!Od){var a1=document.createElement("div");a1.setAttribute("oninput","return;"),Od=typeof a1.oninput=="function"}Nd=Od}else Nd=!1;s1=Nd&&(!document.documentMode||9<document.documentMode)}function o1(){Pl&&(Pl.detachEvent("onpropertychange",l1),Ll=Pl=null)}function l1(n){if(n.propertyName==="value"&&qc(Ll)){var s=[];r1(s,Ll,n,Wn(n)),Xi(BD,s)}}function FD(n,s,o){n==="focusin"?(o1(),Pl=s,Ll=o,Pl.attachEvent("onpropertychange",l1)):n==="focusout"&&o1()}function HD(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return qc(Ll)}function GD(n,s){if(n==="click")return qc(s)}function $D(n,s){if(n==="input"||n==="change")return qc(s)}function KD(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Pn=typeof Object.is=="function"?Object.is:KD;function Ul(n,s){if(Pn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!mt.call(s,f)||!Pn(n[f],s[f]))return!1}return!0}function u1(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function c1(n,s){var o=u1(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=u1(o)}}function h1(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?h1(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function f1(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Fr(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Fr(n.document)}return s}function Dd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var YD=Jn&&"documentMode"in document&&11>=document.documentMode,oo=null,kd=null,ql=null,Md=!1;function d1(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Md||oo==null||oo!==Fr(u)||(u=oo,"selectionStart"in u&&Dd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ql&&Ul(ql,u)||(ql=u,u=Ch(kd,"onSelect"),0<u.length&&(s=new $r("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=oo)))}function aa(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var lo={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},jd={},p1={};Jn&&(p1=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function oa(n){if(jd[n])return jd[n];if(!lo[n])return n;var s=lo[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in p1)return jd[n]=s[o];return n}var m1=oa("animationend"),g1=oa("animationiteration"),y1=oa("animationstart"),QD=oa("transitionrun"),XD=oa("transitionstart"),WD=oa("transitioncancel"),v1=oa("transitionend"),_1=new Map,Vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vd.push("scrollEnd");function br(n,s){_1.set(n,s),zr(s,[n])}var zc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},er=[],uo=0,Pd=0;function Bc(){for(var n=uo,s=Pd=uo=0;s<n;){var o=er[s];er[s++]=null;var u=er[s];er[s++]=null;var f=er[s];er[s++]=null;var m=er[s];if(er[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&b1(o,f,m)}}function Fc(n,s,o,u){er[uo++]=n,er[uo++]=s,er[uo++]=o,er[uo++]=u,Pd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Ld(n,s,o,u){return Fc(n,s,o,u),Hc(n)}function la(n,s){return Fc(n,null,null,s),Hc(n)}function b1(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&s!==null&&(f=31-It(o),n=m.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),m):null}function Hc(n){if(50<lu)throw lu=0,Kp=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var co={};function JD(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(n,s,o,u){return new JD(n,s,o,u)}function Ud(n){return n=n.prototype,!(!n||!n.isReactComponent)}function pi(n,s){var o=n.alternate;return o===null?(o=Ln(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function E1(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Gc(n,s,o,u,f,m){var E=0;if(u=n,typeof n=="function")Ud(n)&&(E=1);else if(typeof n=="string")E=rM(n,o,de.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case O:return n=Ln(31,o,s,f),n.elementType=O,n.lanes=m,n;case P:return ua(o.children,f,m,s);case k:E=8,f|=24;break;case F:return n=Ln(12,o,s,f|2),n.elementType=F,n.lanes=m,n;case ce:return n=Ln(13,o,s,f),n.elementType=ce,n.lanes=m,n;case oe:return n=Ln(19,o,s,f),n.elementType=oe,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case W:E=10;break e;case B:E=9;break e;case le:E=11;break e;case I:E=14;break e;case C:E=16,u=null;break e}E=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=Ln(E,o,s,f),s.elementType=n,s.type=u,s.lanes=m,s}function ua(n,s,o,u){return n=Ln(7,n,u,s),n.lanes=o,n}function qd(n,s,o){return n=Ln(6,n,null,s),n.lanes=o,n}function T1(n){var s=Ln(18,null,null,0);return s.stateNode=n,s}function zd(n,s,o){return s=Ln(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var x1=new WeakMap;function tr(n,s){if(typeof n=="object"&&n!==null){var o=x1.get(n);return o!==void 0?o:(s={value:n,source:s,stack:$n(s)},x1.set(n,s),s)}return{value:n,source:s,stack:$n(s)}}var ho=[],fo=0,$c=null,zl=0,nr=[],rr=0,es=null,Xr=1,Wr="";function mi(n,s){ho[fo++]=zl,ho[fo++]=$c,$c=n,zl=s}function S1(n,s,o){nr[rr++]=Xr,nr[rr++]=Wr,nr[rr++]=es,es=n;var u=Xr;n=Wr;var f=32-It(u)-1;u&=~(1<<f),o+=1;var m=32-It(s)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Xr=1<<32-It(s)+f|o<<f|u,Wr=m+n}else Xr=1<<m|o<<f|u,Wr=n}function Bd(n){n.return!==null&&(mi(n,1),S1(n,1,0))}function Fd(n){for(;n===$c;)$c=ho[--fo],ho[fo]=null,zl=ho[--fo],ho[fo]=null;for(;n===es;)es=nr[--rr],nr[rr]=null,Wr=nr[--rr],nr[rr]=null,Xr=nr[--rr],nr[rr]=null}function w1(n,s){nr[rr++]=Xr,nr[rr++]=Wr,nr[rr++]=es,Xr=s.id,Wr=s.overflow,es=n}var an=null,_t=null,et=!1,ts=null,ir=!1,Hd=Error(i(519));function ns(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(tr(s,n)),Hd}function A1(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Pt]=n,s[en]=u,o){case"dialog":$e("cancel",s),$e("close",s);break;case"iframe":case"object":case"embed":$e("load",s);break;case"video":case"audio":for(o=0;o<cu.length;o++)$e(cu[o],s);break;case"source":$e("error",s);break;case"img":case"image":case"link":$e("error",s),$e("load",s);break;case"details":$e("toggle",s);break;case"input":$e("invalid",s),wc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":$e("invalid",s);break;case"textarea":$e("invalid",s),Ki(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||FT(s.textContent,o)?(u.popover!=null&&($e("beforetoggle",s),$e("toggle",s)),u.onScroll!=null&&$e("scroll",s),u.onScrollEnd!=null&&$e("scrollend",s),u.onClick!=null&&(s.onclick=mr),s=!0):s=!1,s||ns(n,!0)}function R1(n){for(an=n.return;an;)switch(an.tag){case 5:case 31:case 13:ir=!1;return;case 27:case 3:ir=!0;return;default:an=an.return}}function po(n){if(n!==an)return!1;if(!et)return R1(n),et=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||lm(n.type,n.memoizedProps)),o=!o),o&&_t&&ns(n),R1(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));_t=JT(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));_t=JT(n)}else s===27?(s=_t,gs(n.type)?(n=dm,dm=null,_t=n):_t=s):_t=an?ar(n.stateNode.nextSibling):null;return!0}function ca(){_t=an=null,et=!1}function Gd(){var n=ts;return n!==null&&(Nn===null?Nn=n:Nn.push.apply(Nn,n),ts=null),n}function Bl(n){ts===null?ts=[n]:ts.push(n)}var $d=U(null),ha=null,gi=null;function rs(n,s,o){ue($d,s._currentValue),s._currentValue=o}function yi(n){n._currentValue=$d.current,ne($d)}function Kd(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Yd(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var V=0;V<s.length;V++)if(w.context===s[V]){m.lanes|=o,w=m.alternate,w!==null&&(w.lanes|=o),Kd(m.return,o,n),u||(E=null);break e}m=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),Kd(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function mo(n,s,o,u){n=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var w=f.type;Pn(f.pendingProps.value,E.value)||(n!==null?n.push(w):n=[w])}}else if(f===pe.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(mu):n=[mu])}f=f.return}n!==null&&Yd(s,n,o,u),s.flags|=262144}function Kc(n){for(n=n.firstContext;n!==null;){if(!Pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function fa(n){ha=n,gi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function on(n){return C1(ha,n)}function Yc(n,s){return ha===null&&fa(n),C1(n,s)}function C1(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},gi===null){if(n===null)throw Error(i(308));gi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else gi=gi.next=s;return o}var ZD=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},ek=r.unstable_scheduleCallback,tk=r.unstable_NormalPriority,qt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qd(){return{controller:new ZD,data:new Map,refCount:0}}function Fl(n){n.refCount--,n.refCount===0&&ek(tk,function(){n.controller.abort()})}var Hl=null,Xd=0,go=0,yo=null;function nk(n,s){if(Hl===null){var o=Hl=[];Xd=0,go=Zp(),yo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Xd++,s.then(I1,I1),s}function I1(){if(--Xd===0&&Hl!==null){yo!==null&&(yo.status="fulfilled");var n=Hl;Hl=null,go=0,yo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function rk(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var N1=ee.S;ee.S=function(n,s){dT=Mt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&nk(n,s),N1!==null&&N1(n,s)};var da=U(null);function Wd(){var n=da.current;return n!==null?n:gt.pooledCache}function Qc(n,s){s===null?ue(da,da.current):ue(da,s.pool)}function O1(){var n=Wd();return n===null?null:{parent:qt._currentValue,pool:n}}var vo=Error(i(460)),Jd=Error(i(474)),Xc=Error(i(542)),Wc={then:function(){}};function D1(n){return n=n.status,n==="fulfilled"||n==="rejected"}function k1(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(mr,mr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,j1(n),n;default:if(typeof s.status=="string")s.then(mr,mr);else{if(n=gt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,j1(n),n}throw ma=s,vo}}function pa(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ma=o,vo):o}}var ma=null;function M1(){if(ma===null)throw Error(i(459));var n=ma;return ma=null,n}function j1(n){if(n===vo||n===Xc)throw Error(i(483))}var _o=null,Gl=0;function Jc(n){var s=Gl;return Gl+=1,_o===null&&(_o=[]),k1(_o,n,s)}function $l(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Zc(n,s){throw s.$$typeof===x?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function V1(n){function s(H,q){if(n){var $=H.deletions;$===null?(H.deletions=[q],H.flags|=16):$.push(q)}}function o(H,q){if(!n)return null;for(;q!==null;)s(H,q),q=q.sibling;return null}function u(H){for(var q=new Map;H!==null;)H.key!==null?q.set(H.key,H):q.set(H.index,H),H=H.sibling;return q}function f(H,q){return H=pi(H,q),H.index=0,H.sibling=null,H}function m(H,q,$){return H.index=$,n?($=H.alternate,$!==null?($=$.index,$<q?(H.flags|=67108866,q):$):(H.flags|=67108866,q)):(H.flags|=1048576,q)}function E(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function w(H,q,$,re){return q===null||q.tag!==6?(q=qd($,H.mode,re),q.return=H,q):(q=f(q,$),q.return=H,q)}function V(H,q,$,re){var Ee=$.type;return Ee===P?te(H,q,$.props.children,re,$.key):q!==null&&(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===C&&pa(Ee)===q.type)?(q=f(q,$.props),$l(q,$),q.return=H,q):(q=Gc($.type,$.key,$.props,null,H.mode,re),$l(q,$),q.return=H,q)}function K(H,q,$,re){return q===null||q.tag!==4||q.stateNode.containerInfo!==$.containerInfo||q.stateNode.implementation!==$.implementation?(q=zd($,H.mode,re),q.return=H,q):(q=f(q,$.children||[]),q.return=H,q)}function te(H,q,$,re,Ee){return q===null||q.tag!==7?(q=ua($,H.mode,re,Ee),q.return=H,q):(q=f(q,$),q.return=H,q)}function se(H,q,$){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=qd(""+q,H.mode,$),q.return=H,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return $=Gc(q.type,q.key,q.props,null,H.mode,$),$l($,q),$.return=H,$;case M:return q=zd(q,H.mode,$),q.return=H,q;case C:return q=pa(q),se(H,q,$)}if(Ne(q)||L(q))return q=ua(q,H.mode,$,null),q.return=H,q;if(typeof q.then=="function")return se(H,Jc(q),$);if(q.$$typeof===W)return se(H,Yc(H,q),$);Zc(H,q)}return null}function Y(H,q,$,re){var Ee=q!==null?q.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Ee!==null?null:w(H,q,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return $.key===Ee?V(H,q,$,re):null;case M:return $.key===Ee?K(H,q,$,re):null;case C:return $=pa($),Y(H,q,$,re)}if(Ne($)||L($))return Ee!==null?null:te(H,q,$,re,null);if(typeof $.then=="function")return Y(H,q,Jc($),re);if($.$$typeof===W)return Y(H,q,Yc(H,$),re);Zc(H,$)}return null}function Z(H,q,$,re,Ee){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return H=H.get($)||null,w(q,H,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case S:return H=H.get(re.key===null?$:re.key)||null,V(q,H,re,Ee);case M:return H=H.get(re.key===null?$:re.key)||null,K(q,H,re,Ee);case C:return re=pa(re),Z(H,q,$,re,Ee)}if(Ne(re)||L(re))return H=H.get($)||null,te(q,H,re,Ee,null);if(typeof re.then=="function")return Z(H,q,$,Jc(re),Ee);if(re.$$typeof===W)return Z(H,q,$,Yc(q,re),Ee);Zc(q,re)}return null}function ve(H,q,$,re){for(var Ee=null,nt=null,_e=q,qe=q=0,Qe=null;_e!==null&&qe<$.length;qe++){_e.index>qe?(Qe=_e,_e=null):Qe=_e.sibling;var rt=Y(H,_e,$[qe],re);if(rt===null){_e===null&&(_e=Qe);break}n&&_e&&rt.alternate===null&&s(H,_e),q=m(rt,q,qe),nt===null?Ee=rt:nt.sibling=rt,nt=rt,_e=Qe}if(qe===$.length)return o(H,_e),et&&mi(H,qe),Ee;if(_e===null){for(;qe<$.length;qe++)_e=se(H,$[qe],re),_e!==null&&(q=m(_e,q,qe),nt===null?Ee=_e:nt.sibling=_e,nt=_e);return et&&mi(H,qe),Ee}for(_e=u(_e);qe<$.length;qe++)Qe=Z(_e,H,qe,$[qe],re),Qe!==null&&(n&&Qe.alternate!==null&&_e.delete(Qe.key===null?qe:Qe.key),q=m(Qe,q,qe),nt===null?Ee=Qe:nt.sibling=Qe,nt=Qe);return n&&_e.forEach(function(Es){return s(H,Es)}),et&&mi(H,qe),Ee}function xe(H,q,$,re){if($==null)throw Error(i(151));for(var Ee=null,nt=null,_e=q,qe=q=0,Qe=null,rt=$.next();_e!==null&&!rt.done;qe++,rt=$.next()){_e.index>qe?(Qe=_e,_e=null):Qe=_e.sibling;var Es=Y(H,_e,rt.value,re);if(Es===null){_e===null&&(_e=Qe);break}n&&_e&&Es.alternate===null&&s(H,_e),q=m(Es,q,qe),nt===null?Ee=Es:nt.sibling=Es,nt=Es,_e=Qe}if(rt.done)return o(H,_e),et&&mi(H,qe),Ee;if(_e===null){for(;!rt.done;qe++,rt=$.next())rt=se(H,rt.value,re),rt!==null&&(q=m(rt,q,qe),nt===null?Ee=rt:nt.sibling=rt,nt=rt);return et&&mi(H,qe),Ee}for(_e=u(_e);!rt.done;qe++,rt=$.next())rt=Z(_e,H,qe,rt.value,re),rt!==null&&(n&&rt.alternate!==null&&_e.delete(rt.key===null?qe:rt.key),q=m(rt,q,qe),nt===null?Ee=rt:nt.sibling=rt,nt=rt);return n&&_e.forEach(function(pM){return s(H,pM)}),et&&mi(H,qe),Ee}function pt(H,q,$,re){if(typeof $=="object"&&$!==null&&$.type===P&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case S:e:{for(var Ee=$.key;q!==null;){if(q.key===Ee){if(Ee=$.type,Ee===P){if(q.tag===7){o(H,q.sibling),re=f(q,$.props.children),re.return=H,H=re;break e}}else if(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===C&&pa(Ee)===q.type){o(H,q.sibling),re=f(q,$.props),$l(re,$),re.return=H,H=re;break e}o(H,q);break}else s(H,q);q=q.sibling}$.type===P?(re=ua($.props.children,H.mode,re,$.key),re.return=H,H=re):(re=Gc($.type,$.key,$.props,null,H.mode,re),$l(re,$),re.return=H,H=re)}return E(H);case M:e:{for(Ee=$.key;q!==null;){if(q.key===Ee)if(q.tag===4&&q.stateNode.containerInfo===$.containerInfo&&q.stateNode.implementation===$.implementation){o(H,q.sibling),re=f(q,$.children||[]),re.return=H,H=re;break e}else{o(H,q);break}else s(H,q);q=q.sibling}re=zd($,H.mode,re),re.return=H,H=re}return E(H);case C:return $=pa($),pt(H,q,$,re)}if(Ne($))return ve(H,q,$,re);if(L($)){if(Ee=L($),typeof Ee!="function")throw Error(i(150));return $=Ee.call($),xe(H,q,$,re)}if(typeof $.then=="function")return pt(H,q,Jc($),re);if($.$$typeof===W)return pt(H,q,Yc(H,$),re);Zc(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,q!==null&&q.tag===6?(o(H,q.sibling),re=f(q,$),re.return=H,H=re):(o(H,q),re=qd($,H.mode,re),re.return=H,H=re),E(H)):o(H,q)}return function(H,q,$,re){try{Gl=0;var Ee=pt(H,q,$,re);return _o=null,Ee}catch(_e){if(_e===vo||_e===Xc)throw _e;var nt=Ln(29,_e,null,H.mode);return nt.lanes=re,nt.return=H,nt}}}var ga=V1(!0),P1=V1(!1),is=!1;function Zd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ep(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ss(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function as(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(st&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Hc(n),b1(n,null,o),s}return Fc(n,u,s,o),Hc(n)}function Kl(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,bl(n,o)}}function tp(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?f=m=s:m=m.next=s}else f=m=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var np=!1;function Yl(){if(np){var n=yo;if(n!==null)throw n}}function Ql(n,s,o,u){np=!1;var f=n.updateQueue;is=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var V=w,K=V.next;V.next=null,E===null?m=K:E.next=K,E=V;var te=n.alternate;te!==null&&(te=te.updateQueue,w=te.lastBaseUpdate,w!==E&&(w===null?te.firstBaseUpdate=K:w.next=K,te.lastBaseUpdate=V))}if(m!==null){var se=f.baseState;E=0,te=K=V=null,w=m;do{var Y=w.lane&-536870913,Z=Y!==w.lane;if(Z?(Ye&Y)===Y:(u&Y)===Y){Y!==0&&Y===go&&(np=!0),te!==null&&(te=te.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ve=n,xe=w;Y=s;var pt=o;switch(xe.tag){case 1:if(ve=xe.payload,typeof ve=="function"){se=ve.call(pt,se,Y);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=xe.payload,Y=typeof ve=="function"?ve.call(pt,se,Y):ve,Y==null)break e;se=b({},se,Y);break e;case 2:is=!0}}Y=w.callback,Y!==null&&(n.flags|=64,Z&&(n.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[Y]:Z.push(Y))}else Z={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},te===null?(K=te=Z,V=se):te=te.next=Z,E|=Y;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Z=w,w=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);te===null&&(V=se),f.baseState=V,f.firstBaseUpdate=K,f.lastBaseUpdate=te,m===null&&(f.shared.lanes=0),hs|=E,n.lanes=E,n.memoizedState=se}}function L1(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function U1(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)L1(o[n],s)}var bo=U(null),eh=U(0);function q1(n,s){n=Ai,ue(eh,n),ue(bo,s),Ai=n|s.baseLanes}function rp(){ue(eh,Ai),ue(bo,bo.current)}function ip(){Ai=eh.current,ne(bo),ne(eh)}var Un=U(null),sr=null;function os(n){var s=n.alternate;ue(Ot,Ot.current&1),ue(Un,n),sr===null&&(s===null||bo.current!==null||s.memoizedState!==null)&&(sr=n)}function sp(n){ue(Ot,Ot.current),ue(Un,n),sr===null&&(sr=n)}function z1(n){n.tag===22?(ue(Ot,Ot.current),ue(Un,n),sr===null&&(sr=n)):ls()}function ls(){ue(Ot,Ot.current),ue(Un,Un.current)}function qn(n){ne(Un),sr===n&&(sr=null),ne(Ot)}var Ot=U(0);function th(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||hm(o)||fm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var vi=0,Pe=null,ft=null,zt=null,nh=!1,Eo=!1,ya=!1,rh=0,Xl=0,To=null,ik=0;function At(){throw Error(i(321))}function ap(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!Pn(n[o],s[o]))return!1;return!0}function op(n,s,o,u,f,m){return vi=m,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ee.H=n===null||n.memoizedState===null?SE:Tp,ya=!1,m=o(u,f),ya=!1,Eo&&(m=F1(s,o,u,f)),B1(n),m}function B1(n){ee.H=Zl;var s=ft!==null&&ft.next!==null;if(vi=0,zt=ft=Pe=null,nh=!1,Xl=0,To=null,s)throw Error(i(300));n===null||Bt||(n=n.dependencies,n!==null&&Kc(n)&&(Bt=!0))}function F1(n,s,o,u){Pe=n;var f=0;do{if(Eo&&(To=null),Xl=0,Eo=!1,25<=f)throw Error(i(301));if(f+=1,zt=ft=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}ee.H=wE,m=s(o,u)}while(Eo);return m}function sk(){var n=ee.H,s=n.useState()[0];return s=typeof s.then=="function"?Wl(s):s,n=n.useState()[0],(ft!==null?ft.memoizedState:null)!==n&&(Pe.flags|=1024),s}function lp(){var n=rh!==0;return rh=0,n}function up(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function cp(n){if(nh){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}nh=!1}vi=0,zt=ft=Pe=null,Eo=!1,Xl=rh=0,To=null}function xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Pe.memoizedState=zt=n:zt=zt.next=n,zt}function Dt(){if(ft===null){var n=Pe.alternate;n=n!==null?n.memoizedState:null}else n=ft.next;var s=zt===null?Pe.memoizedState:zt.next;if(s!==null)zt=s,ft=n;else{if(n===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));ft=n,n={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},zt===null?Pe.memoizedState=zt=n:zt=zt.next=n}return zt}function ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(n){var s=Xl;return Xl+=1,To===null&&(To=[]),n=k1(To,n,s),s=Pe,(zt===null?s.memoizedState:zt.next)===null&&(s=s.alternate,ee.H=s===null||s.memoizedState===null?SE:Tp),n}function sh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Wl(n);if(n.$$typeof===W)return on(n)}throw Error(i(438,String(n)))}function hp(n){var s=null,o=Pe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=ih(),Pe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=j;return s.index++,o}function _i(n,s){return typeof s=="function"?s(n):s}function ah(n){var s=Dt();return fp(s,ft,n)}function fp(n,s,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}s.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{s=f.next;var w=E=null,V=null,K=s,te=!1;do{var se=K.lane&-536870913;if(se!==K.lane?(Ye&se)===se:(vi&se)===se){var Y=K.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),se===go&&(te=!0);else if((vi&Y)===Y){K=K.next,Y===go&&(te=!0);continue}else se={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(w=V=se,E=m):V=V.next=se,Pe.lanes|=Y,hs|=Y;se=K.action,ya&&o(m,se),m=K.hasEagerState?K.eagerState:o(m,se)}else Y={lane:se,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(w=V=Y,E=m):V=V.next=Y,Pe.lanes|=se,hs|=se;K=K.next}while(K!==null&&K!==s);if(V===null?E=m:V.next=w,!Pn(m,n.memoizedState)&&(Bt=!0,te&&(o=yo,o!==null)))throw o;n.memoizedState=m,n.baseState=E,n.baseQueue=V,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function dp(n){var s=Dt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,m=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);Pn(m,s.memoizedState)||(Bt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function H1(n,s,o){var u=Pe,f=Dt(),m=et;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!Pn((ft||f).memoizedState,o);if(E&&(f.memoizedState=o,Bt=!0),f=f.queue,gp(K1.bind(null,u,f,n),[n]),f.getSnapshot!==s||E||zt!==null&&zt.memoizedState.tag&1){if(u.flags|=2048,xo(9,{destroy:void 0},$1.bind(null,u,f,o,s),null),gt===null)throw Error(i(349));m||(vi&127)!==0||G1(u,s,o)}return o}function G1(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Pe.updateQueue,s===null?(s=ih(),Pe.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function $1(n,s,o,u){s.value=o,s.getSnapshot=u,Y1(s)&&Q1(n)}function K1(n,s,o){return o(function(){Y1(s)&&Q1(n)})}function Y1(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!Pn(n,o)}catch{return!0}}function Q1(n){var s=la(n,2);s!==null&&On(s,n,2)}function pp(n){var s=xn();if(typeof n=="function"){var o=n;if(n=o(),ya){Qn(!0);try{o()}finally{Qn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:n},s}function X1(n,s,o,u){return n.baseState=o,fp(n,ft,typeof u=="function"?u:_i)}function ak(n,s,o,u,f){if(uh(n))throw Error(i(485));if(n=s.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};ee.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,W1(s,m)):(m.next=o.next,s.pending=o.next=m)}}function W1(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var m=ee.T,E={};ee.T=E;try{var w=o(f,u),V=ee.S;V!==null&&V(E,w),J1(n,s,w)}catch(K){mp(n,s,K)}finally{m!==null&&E.types!==null&&(m.types=E.types),ee.T=m}}else try{m=o(f,u),J1(n,s,m)}catch(K){mp(n,s,K)}}function J1(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Z1(n,s,u)},function(u){return mp(n,s,u)}):Z1(n,s,o)}function Z1(n,s,o){s.status="fulfilled",s.value=o,eE(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,W1(n,o)))}function mp(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,eE(s),s=s.next;while(s!==u)}n.action=null}function eE(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function tE(n,s){return s}function nE(n,s){if(et){var o=gt.formState;if(o!==null){e:{var u=Pe;if(et){if(_t){t:{for(var f=_t,m=ir;f.nodeType!==8;){if(!m){f=null;break t}if(f=ar(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){_t=ar(f.nextSibling),u=f.data==="F!";break e}}ns(u)}u=!1}u&&(s=o[0])}}return o=xn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tE,lastRenderedState:s},o.queue=u,o=EE.bind(null,Pe,u),u.dispatch=o,u=pp(!1),m=Ep.bind(null,Pe,!1,u.queue),u=xn(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=ak.bind(null,Pe,f,m,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function rE(n){var s=Dt();return iE(s,ft,n)}function iE(n,s,o){if(s=fp(n,s,tE)[0],n=ah(_i)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Wl(s)}catch(E){throw E===vo?Xc:E}else u=s;s=Dt();var f=s.queue,m=f.dispatch;return o!==s.memoizedState&&(Pe.flags|=2048,xo(9,{destroy:void 0},ok.bind(null,f,o),null)),[u,m,n]}function ok(n,s){n.action=s}function sE(n){var s=Dt(),o=ft;if(o!==null)return iE(s,o,n);Dt(),s=s.memoizedState,o=Dt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function xo(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=ih(),Pe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function aE(){return Dt().memoizedState}function oh(n,s,o,u){var f=xn();Pe.flags|=n,f.memoizedState=xo(1|s,{destroy:void 0},o,u===void 0?null:u)}function lh(n,s,o,u){var f=Dt();u=u===void 0?null:u;var m=f.memoizedState.inst;ft!==null&&u!==null&&ap(u,ft.memoizedState.deps)?f.memoizedState=xo(s,m,o,u):(Pe.flags|=n,f.memoizedState=xo(1|s,m,o,u))}function oE(n,s){oh(8390656,8,n,s)}function gp(n,s){lh(2048,8,n,s)}function lk(n){Pe.flags|=4;var s=Pe.updateQueue;if(s===null)s=ih(),Pe.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function lE(n){var s=Dt().memoizedState;return lk({ref:s,nextImpl:n}),function(){if((st&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function uE(n,s){return lh(4,2,n,s)}function cE(n,s){return lh(4,4,n,s)}function hE(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function fE(n,s,o){o=o!=null?o.concat([n]):null,lh(4,4,hE.bind(null,s,n),o)}function yp(){}function dE(n,s){var o=Dt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&ap(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function pE(n,s){var o=Dt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&ap(s,u[1]))return u[0];if(u=n(),ya){Qn(!0);try{n()}finally{Qn(!1)}}return o.memoizedState=[u,s],u}function vp(n,s,o){return o===void 0||(vi&1073741824)!==0&&(Ye&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=mT(),Pe.lanes|=n,hs|=n,o)}function mE(n,s,o,u){return Pn(o,s)?o:bo.current!==null?(n=vp(n,o,u),Pn(n,s)||(Bt=!0),n):(vi&42)===0||(vi&1073741824)!==0&&(Ye&261930)===0?(Bt=!0,n.memoizedState=o):(n=mT(),Pe.lanes|=n,hs|=n,s)}function gE(n,s,o,u,f){var m=he.p;he.p=m!==0&&8>m?m:8;var E=ee.T,w={};ee.T=w,Ep(n,!1,s,o);try{var V=f(),K=ee.S;if(K!==null&&K(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var te=rk(V,u);Jl(n,s,te,Fn(n))}else Jl(n,s,u,Fn(n))}catch(se){Jl(n,s,{then:function(){},status:"rejected",reason:se},Fn())}finally{he.p=m,E!==null&&w.types!==null&&(E.types=w.types),ee.T=E}}function uk(){}function _p(n,s,o,u){if(n.tag!==5)throw Error(i(476));var f=yE(n).queue;gE(n,f,s,ye,o===null?uk:function(){return vE(n),o(u)})}function yE(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:ye},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function vE(n){var s=yE(n);s.next===null&&(s=n.alternate.memoizedState),Jl(n,s.next.queue,{},Fn())}function bp(){return on(mu)}function _E(){return Dt().memoizedState}function bE(){return Dt().memoizedState}function ck(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Fn();n=ss(o);var u=as(s,n,o);u!==null&&(On(u,s,o),Kl(u,s,o)),s={cache:Qd()},n.payload=s;return}s=s.return}}function hk(n,s,o){var u=Fn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},uh(n)?TE(s,o):(o=Ld(n,s,o,u),o!==null&&(On(o,n,u),xE(o,s,u)))}function EE(n,s,o){var u=Fn();Jl(n,s,o,u)}function Jl(n,s,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(uh(n))TE(s,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var E=s.lastRenderedState,w=m(E,o);if(f.hasEagerState=!0,f.eagerState=w,Pn(w,E))return Fc(n,s,f,0),gt===null&&Bc(),!1}catch{}if(o=Ld(n,s,f,u),o!==null)return On(o,n,u),xE(o,s,u),!0}return!1}function Ep(n,s,o,u){if(u={lane:2,revertLane:Zp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},uh(n)){if(s)throw Error(i(479))}else s=Ld(n,o,u,2),s!==null&&On(s,n,2)}function uh(n){var s=n.alternate;return n===Pe||s!==null&&s===Pe}function TE(n,s){Eo=nh=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function xE(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,bl(n,o)}}var Zl={readContext:on,use:sh,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Zl.useEffectEvent=At;var SE={readContext:on,use:sh,useCallback:function(n,s){return xn().memoizedState=[n,s===void 0?null:s],n},useContext:on,useEffect:oE,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,oh(4194308,4,hE.bind(null,s,n),o)},useLayoutEffect:function(n,s){return oh(4194308,4,n,s)},useInsertionEffect:function(n,s){oh(4,2,n,s)},useMemo:function(n,s){var o=xn();s=s===void 0?null:s;var u=n();if(ya){Qn(!0);try{n()}finally{Qn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=xn();if(o!==void 0){var f=o(s);if(ya){Qn(!0);try{o(s)}finally{Qn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=hk.bind(null,Pe,n),[u.memoizedState,n]},useRef:function(n){var s=xn();return n={current:n},s.memoizedState=n},useState:function(n){n=pp(n);var s=n.queue,o=EE.bind(null,Pe,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:yp,useDeferredValue:function(n,s){var o=xn();return vp(o,n,s)},useTransition:function(){var n=pp(!1);return n=gE.bind(null,Pe,n.queue,!0,!1),xn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Pe,f=xn();if(et){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),gt===null)throw Error(i(349));(Ye&127)!==0||G1(u,s,o)}f.memoizedState=o;var m={value:o,getSnapshot:s};return f.queue=m,oE(K1.bind(null,u,m,n),[n]),u.flags|=2048,xo(9,{destroy:void 0},$1.bind(null,u,m,o,s),null),o},useId:function(){var n=xn(),s=gt.identifierPrefix;if(et){var o=Wr,u=Xr;o=(u&~(1<<32-It(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=rh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=ik++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:bp,useFormState:nE,useActionState:nE,useOptimistic:function(n){var s=xn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Ep.bind(null,Pe,!0,o),o.dispatch=s,[n,s]},useMemoCache:hp,useCacheRefresh:function(){return xn().memoizedState=ck.bind(null,Pe)},useEffectEvent:function(n){var s=xn(),o={impl:n};return s.memoizedState=o,function(){if((st&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Tp={readContext:on,use:sh,useCallback:dE,useContext:on,useEffect:gp,useImperativeHandle:fE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:pE,useReducer:ah,useRef:aE,useState:function(){return ah(_i)},useDebugValue:yp,useDeferredValue:function(n,s){var o=Dt();return mE(o,ft.memoizedState,n,s)},useTransition:function(){var n=ah(_i)[0],s=Dt().memoizedState;return[typeof n=="boolean"?n:Wl(n),s]},useSyncExternalStore:H1,useId:_E,useHostTransitionStatus:bp,useFormState:rE,useActionState:rE,useOptimistic:function(n,s){var o=Dt();return X1(o,ft,n,s)},useMemoCache:hp,useCacheRefresh:bE};Tp.useEffectEvent=lE;var wE={readContext:on,use:sh,useCallback:dE,useContext:on,useEffect:gp,useImperativeHandle:fE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:pE,useReducer:dp,useRef:aE,useState:function(){return dp(_i)},useDebugValue:yp,useDeferredValue:function(n,s){var o=Dt();return ft===null?vp(o,n,s):mE(o,ft.memoizedState,n,s)},useTransition:function(){var n=dp(_i)[0],s=Dt().memoizedState;return[typeof n=="boolean"?n:Wl(n),s]},useSyncExternalStore:H1,useId:_E,useHostTransitionStatus:bp,useFormState:sE,useActionState:sE,useOptimistic:function(n,s){var o=Dt();return ft!==null?X1(o,ft,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:hp,useCacheRefresh:bE};wE.useEffectEvent=lE;function xp(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:b({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Sp={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Fn(),f=ss(u);f.payload=s,o!=null&&(f.callback=o),s=as(n,f,u),s!==null&&(On(s,n,u),Kl(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Fn(),f=ss(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=as(n,f,u),s!==null&&(On(s,n,u),Kl(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Fn(),u=ss(o);u.tag=2,s!=null&&(u.callback=s),s=as(n,u,o),s!==null&&(On(s,n,o),Kl(s,n,o))}};function AE(n,s,o,u,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,E):s.prototype&&s.prototype.isPureReactComponent?!Ul(o,u)||!Ul(f,m):!0}function RE(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Sp.enqueueReplaceState(s,s.state,null)}function va(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=b({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function CE(n){zc(n)}function IE(n){console.error(n)}function NE(n){zc(n)}function ch(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function OE(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function wp(n,s,o){return o=ss(o),o.tag=3,o.payload={element:null},o.callback=function(){ch(n,s)},o}function DE(n){return n=ss(n),n.tag=3,n}function kE(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){OE(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){OE(s,o,u),typeof f!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function fk(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&mo(s,o,f,!0),o=Un.current,o!==null){switch(o.tag){case 31:case 13:return sr===null?Th():o.alternate===null&&Rt===0&&(Rt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Wc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Xp(n,u,f)),!1;case 22:return o.flags|=65536,u===Wc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Xp(n,u,f)),!1}throw Error(i(435,o.tag))}return Xp(n,u,f),Th(),!1}if(et)return s=Un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Hd&&(n=Error(i(422),{cause:u}),Bl(tr(n,o)))):(u!==Hd&&(s=Error(i(423),{cause:u}),Bl(tr(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=tr(u,o),f=wp(n.stateNode,u,f),tp(n,f),Rt!==4&&(Rt=2)),!1;var m=Error(i(520),{cause:u});if(m=tr(m,o),ou===null?ou=[m]:ou.push(m),Rt!==4&&(Rt=2),s===null)return!0;u=tr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=wp(o.stateNode,u,n),tp(o,n),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(fs===null||!fs.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=DE(f),kE(f,n,o,u),tp(o,f),!1}o=o.return}while(o!==null);return!1}var Ap=Error(i(461)),Bt=!1;function ln(n,s,o,u){s.child=n===null?P1(s,null,o,u):ga(s,n.child,o,u)}function ME(n,s,o,u,f){o=o.render;var m=s.ref;if("ref"in u){var E={};for(var w in u)w!=="ref"&&(E[w]=u[w])}else E=u;return fa(s),u=op(n,s,o,E,m,f),w=lp(),n!==null&&!Bt?(up(n,s,f),bi(n,s,f)):(et&&w&&Bd(s),s.flags|=1,ln(n,s,u,f),s.child)}function jE(n,s,o,u,f){if(n===null){var m=o.type;return typeof m=="function"&&!Ud(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,VE(n,s,m,u,f)):(n=Gc(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!Mp(n,f)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ul,o(E,u)&&n.ref===s.ref)return bi(n,s,f)}return s.flags|=1,n=pi(m,u),n.ref=s.ref,n.return=s,s.child=n}function VE(n,s,o,u,f){if(n!==null){var m=n.memoizedProps;if(Ul(m,u)&&n.ref===s.ref)if(Bt=!1,s.pendingProps=u=m,Mp(n,f))(n.flags&131072)!==0&&(Bt=!0);else return s.lanes=n.lanes,bi(n,s,f)}return Rp(n,s,o,u,f)}function PE(n,s,o,u){var f=u.children,m=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(u=s.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,s.child=null;return LE(n,s,m,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Qc(s,m!==null?m.cachePool:null),m!==null?q1(s,m):rp(),z1(s);else return u=s.lanes=536870912,LE(n,s,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(Qc(s,m.cachePool),q1(s,m),ls(),s.memoizedState=null):(n!==null&&Qc(s,null),rp(),ls());return ln(n,s,f,o),s.child}function eu(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function LE(n,s,o,u,f){var m=Wd();return m=m===null?null:{parent:qt._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},n!==null&&Qc(s,null),rp(),z1(s),n!==null&&mo(n,s,u,!0),s.childLanes=f,null}function hh(n,s){return s=dh({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function UE(n,s,o){return ga(s,n.child,null,o),n=hh(s,s.pendingProps),n.flags|=2,qn(s),s.memoizedState=null,n}function dk(n,s,o){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(et){if(u.mode==="hidden")return n=hh(s,u),s.lanes=536870912,eu(null,n);if(sp(s),(n=_t)?(n=WT(n,ir),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:es!==null?{id:Xr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},o=T1(n),o.return=s,s.child=o,an=s,_t=null)):n=null,n===null)throw ns(s);return s.lanes=536870912,null}return hh(s,u)}var m=n.memoizedState;if(m!==null){var E=m.dehydrated;if(sp(s),f)if(s.flags&256)s.flags&=-257,s=UE(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(Bt||mo(n,s,o,!1),f=(o&n.childLanes)!==0,Bt||f){if(u=gt,u!==null&&(E=El(u,o),E!==0&&E!==m.retryLane))throw m.retryLane=E,la(n,E),On(u,n,E),Ap;Th(),s=UE(n,s,o)}else n=m.treeContext,_t=ar(E.nextSibling),an=s,et=!0,ts=null,ir=!1,n!==null&&w1(s,n),s=hh(s,u),s.flags|=4096;return s}return n=pi(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function fh(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Rp(n,s,o,u,f){return fa(s),o=op(n,s,o,u,void 0,f),u=lp(),n!==null&&!Bt?(up(n,s,f),bi(n,s,f)):(et&&u&&Bd(s),s.flags|=1,ln(n,s,o,f),s.child)}function qE(n,s,o,u,f,m){return fa(s),s.updateQueue=null,o=F1(s,u,o,f),B1(n),u=lp(),n!==null&&!Bt?(up(n,s,m),bi(n,s,m)):(et&&u&&Bd(s),s.flags|=1,ln(n,s,o,m),s.child)}function zE(n,s,o,u,f){if(fa(s),s.stateNode===null){var m=co,E=o.contextType;typeof E=="object"&&E!==null&&(m=on(E)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Sp,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},Zd(s),E=o.contextType,m.context=typeof E=="object"&&E!==null?on(E):co,m.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(xp(s,o,E,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Sp.enqueueReplaceState(m,m.state,null),Ql(s,u,m,f),Yl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){m=s.stateNode;var w=s.memoizedProps,V=va(o,w);m.props=V;var K=m.context,te=o.contextType;E=co,typeof te=="object"&&te!==null&&(E=on(te));var se=o.getDerivedStateFromProps;te=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,te||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||K!==E)&&RE(s,m,u,E),is=!1;var Y=s.memoizedState;m.state=Y,Ql(s,u,m,f),Yl(),K=s.memoizedState,w||Y!==K||is?(typeof se=="function"&&(xp(s,o,se,u),K=s.memoizedState),(V=is||AE(s,o,V,u,Y,K,E))?(te||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),m.props=u,m.state=K,m.context=E,u=V):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,ep(n,s),E=s.memoizedProps,te=va(o,E),m.props=te,se=s.pendingProps,Y=m.context,K=o.contextType,V=co,typeof K=="object"&&K!==null&&(V=on(K)),w=o.getDerivedStateFromProps,(K=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==se||Y!==V)&&RE(s,m,u,V),is=!1,Y=s.memoizedState,m.state=Y,Ql(s,u,m,f),Yl();var Z=s.memoizedState;E!==se||Y!==Z||is||n!==null&&n.dependencies!==null&&Kc(n.dependencies)?(typeof w=="function"&&(xp(s,o,w,u),Z=s.memoizedState),(te=is||AE(s,o,te,u,Y,Z,V)||n!==null&&n.dependencies!==null&&Kc(n.dependencies))?(K||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Z,V),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Z,V)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Z),m.props=u,m.state=Z,m.context=V,u=te):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),u=!1)}return m=u,fh(n,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&u?(s.child=ga(s,n.child,null,f),s.child=ga(s,null,o,f)):ln(n,s,o,f),s.memoizedState=m.state,n=s.child):n=bi(n,s,f),n}function BE(n,s,o,u){return ca(),s.flags|=256,ln(n,s,o,u),s.child}var Cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ip(n){return{baseLanes:n,cachePool:O1()}}function Np(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Bn),n}function FE(n,s,o){var u=s.pendingProps,f=!1,m=(s.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(Ot.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(et){if(f?os(s):ls(),(n=_t)?(n=WT(n,ir),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:es!==null?{id:Xr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},o=T1(n),o.return=s,s.child=o,an=s,_t=null)):n=null,n===null)throw ns(s);return fm(n)?s.lanes=32:s.lanes=536870912,null}var w=u.children;return u=u.fallback,f?(ls(),f=s.mode,w=dh({mode:"hidden",children:w},f),u=ua(u,f,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,u=s.child,u.memoizedState=Ip(o),u.childLanes=Np(n,E,o),s.memoizedState=Cp,eu(null,u)):(os(s),Op(s,w))}var V=n.memoizedState;if(V!==null&&(w=V.dehydrated,w!==null)){if(m)s.flags&256?(os(s),s.flags&=-257,s=Dp(n,s,o)):s.memoizedState!==null?(ls(),s.child=n.child,s.flags|=128,s=null):(ls(),w=u.fallback,f=s.mode,u=dh({mode:"visible",children:u.children},f),w=ua(w,f,o,null),w.flags|=2,u.return=s,w.return=s,u.sibling=w,s.child=u,ga(s,n.child,null,o),u=s.child,u.memoizedState=Ip(o),u.childLanes=Np(n,E,o),s.memoizedState=Cp,s=eu(null,u));else if(os(s),fm(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var K=E.dgst;E=K,u=Error(i(419)),u.stack="",u.digest=E,Bl({value:u,source:null,stack:null}),s=Dp(n,s,o)}else if(Bt||mo(n,s,o,!1),E=(o&n.childLanes)!==0,Bt||E){if(E=gt,E!==null&&(u=El(E,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,la(n,u),On(E,n,u),Ap;hm(w)||Th(),s=Dp(n,s,o)}else hm(w)?(s.flags|=192,s.child=n.child,s=null):(n=V.treeContext,_t=ar(w.nextSibling),an=s,et=!0,ts=null,ir=!1,n!==null&&w1(s,n),s=Op(s,u.children),s.flags|=4096);return s}return f?(ls(),w=u.fallback,f=s.mode,V=n.child,K=V.sibling,u=pi(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,K!==null?w=pi(K,w):(w=ua(w,f,o,null),w.flags|=2),w.return=s,u.return=s,u.sibling=w,s.child=u,eu(null,u),u=s.child,w=n.child.memoizedState,w===null?w=Ip(o):(f=w.cachePool,f!==null?(V=qt._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=O1(),w={baseLanes:w.baseLanes|o,cachePool:f}),u.memoizedState=w,u.childLanes=Np(n,E,o),s.memoizedState=Cp,eu(n.child,u)):(os(s),o=n.child,n=o.sibling,o=pi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=o,s.memoizedState=null,o)}function Op(n,s){return s=dh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function dh(n,s){return n=Ln(22,n,null,s),n.lanes=0,n}function Dp(n,s,o){return ga(s,n.child,null,o),n=Op(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function HE(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Kd(n.return,s,o)}function kp(n,s,o,u,f,m){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=f,E.treeForkCount=m)}function GE(n,s,o){var u=s.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var E=Ot.current,w=(E&2)!==0;if(w?(E=E&1|2,s.flags|=128):E&=1,ue(Ot,E),ln(n,s,u,o),u=et?zl:0,!w&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&HE(n,o,s);else if(n.tag===19)HE(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&th(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),kp(s,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&th(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}kp(s,!0,o,null,m,u);break;case"together":kp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function bi(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),hs|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(mo(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,o=pi(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=pi(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Mp(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Kc(n)))}function pk(n,s,o){switch(s.tag){case 3:Me(s,s.stateNode.containerInfo),rs(s,qt,n.memoizedState.cache),ca();break;case 27:case 5:je(s);break;case 4:Me(s,s.stateNode.containerInfo);break;case 10:rs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,sp(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(os(s),s.flags|=128,null):(o&s.child.childLanes)!==0?FE(n,s,o):(os(s),n=bi(n,s,o),n!==null?n.sibling:null);os(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(mo(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return GE(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Ot,Ot.current),u)break;return null;case 22:return s.lanes=0,PE(n,s,o,s.pendingProps);case 24:rs(s,qt,n.memoizedState.cache)}return bi(n,s,o)}function $E(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Bt=!0;else{if(!Mp(n,o)&&(s.flags&128)===0)return Bt=!1,pk(n,s,o);Bt=(n.flags&131072)!==0}else Bt=!1,et&&(s.flags&1048576)!==0&&S1(s,zl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=pa(s.elementType),s.type=n,typeof n=="function")Ud(n)?(u=va(n,u),s.tag=1,s=zE(null,s,n,u,o)):(s.tag=0,s=Rp(null,s,n,u,o));else{if(n!=null){var f=n.$$typeof;if(f===le){s.tag=11,s=ME(null,s,n,u,o);break e}else if(f===I){s.tag=14,s=jE(null,s,n,u,o);break e}}throw s=Re(n)||n,Error(i(306,s,""))}}return s;case 0:return Rp(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=va(u,s.pendingProps),zE(n,s,u,f,o);case 3:e:{if(Me(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var m=s.memoizedState;f=m.element,ep(n,s),Ql(s,u,null,o);var E=s.memoizedState;if(u=E.cache,rs(s,qt,u),u!==m.cache&&Yd(s,[qt],o,!0),Yl(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=BE(n,s,u,o);break e}else if(u!==f){f=tr(Error(i(424)),s),Bl(f),s=BE(n,s,u,o);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,_t=ar(n.firstChild),an=s,et=!0,ts=null,ir=!0,o=P1(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ca(),u===f){s=bi(n,s,o);break e}ln(n,s,u,o)}s=s.child}return s;case 26:return fh(n,s),n===null?(o=rx(s.type,null,s.pendingProps,null))?s.memoizedState=o:et||(o=s.type,n=s.pendingProps,u=Ih(Q.current).createElement(o),u[Pt]=s,u[en]=n,un(u,o,n),Lt(u),s.stateNode=u):s.memoizedState=rx(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return je(s),n===null&&et&&(u=s.stateNode=ex(s.type,s.pendingProps,Q.current),an=s,ir=!0,f=_t,gs(s.type)?(dm=f,_t=ar(u.firstChild)):_t=f),ln(n,s,s.pendingProps.children,o),fh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&et&&((f=u=_t)&&(u=Hk(u,s.type,s.pendingProps,ir),u!==null?(s.stateNode=u,an=s,_t=ar(u.firstChild),ir=!1,f=!0):f=!1),f||ns(s)),je(s),f=s.type,m=s.pendingProps,E=n!==null?n.memoizedProps:null,u=m.children,lm(f,m)?u=null:E!==null&&lm(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=op(n,s,sk,null,null,o),mu._currentValue=f),fh(n,s),ln(n,s,u,o),s.child;case 6:return n===null&&et&&((n=o=_t)&&(o=Gk(o,s.pendingProps,ir),o!==null?(s.stateNode=o,an=s,_t=null,n=!0):n=!1),n||ns(s)),null;case 13:return FE(n,s,o);case 4:return Me(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=ga(s,null,u,o):ln(n,s,u,o),s.child;case 11:return ME(n,s,s.type,s.pendingProps,o);case 7:return ln(n,s,s.pendingProps,o),s.child;case 8:return ln(n,s,s.pendingProps.children,o),s.child;case 12:return ln(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,rs(s,s.type,u.value),ln(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,fa(s),f=on(f),u=u(f),s.flags|=1,ln(n,s,u,o),s.child;case 14:return jE(n,s,s.type,s.pendingProps,o);case 15:return VE(n,s,s.type,s.pendingProps,o);case 19:return GE(n,s,o);case 31:return dk(n,s,o);case 22:return PE(n,s,o,s.pendingProps);case 24:return fa(s),u=on(qt),n===null?(f=Wd(),f===null&&(f=gt,m=Qd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),s.memoizedState={parent:u,cache:f},Zd(s),rs(s,qt,f)):((n.lanes&o)!==0&&(ep(n,s),Ql(s,null,null,o),Yl()),f=n.memoizedState,m=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),rs(s,qt,u)):(u=m.cache,rs(s,qt,u),u!==f.cache&&Yd(s,[qt],o,!0))),ln(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ei(n){n.flags|=4}function jp(n,s,o,u,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(_T())n.flags|=8192;else throw ma=Wc,Jd}else n.flags&=-16777217}function KE(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!lx(s))if(_T())n.flags|=8192;else throw ma=Wc,Jd}function ph(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?bc():536870912,n.lanes|=s,Ro|=s)}function tu(n,s){if(!et)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function bt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function mk(n,s,o){var u=s.pendingProps;switch(Fd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(s),null;case 1:return bt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),yi(qt),be(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(po(s)?Ei(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Gd())),bt(s),null;case 26:var f=s.type,m=s.memoizedState;return n===null?(Ei(s),m!==null?(bt(s),KE(s,m)):(bt(s),jp(s,f,null,u,o))):m?m!==n.memoizedState?(Ei(s),bt(s),KE(s,m)):(bt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&Ei(s),bt(s),jp(s,f,n,u,o)),null;case 27:if(Be(s),o=Q.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Ei(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return bt(s),null}n=de.current,po(s)?A1(s):(n=ex(f,u,o),s.stateNode=n,Ei(s))}return bt(s),null;case 5:if(Be(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Ei(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return bt(s),null}if(m=de.current,po(s))A1(s);else{var E=Ih(Q.current);switch(m){case 1:m=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=E.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?E.createElement(f,{is:u.is}):E.createElement(f)}}m[Pt]=s,m[en]=u;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)m.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=m;e:switch(un(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ei(s)}}return bt(s),jp(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Ei(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=Q.current,po(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=an,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Pt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||FT(n.nodeValue,o)),n||ns(s,!0)}else n=Ih(n).createTextNode(u),n[Pt]=s,s.stateNode=n}return bt(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=po(s),o!==null){if(n===null){if(!u)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Pt]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;bt(s),n=!1}else o=Gd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(qn(s),s):(qn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return bt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=po(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Pt]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;bt(s),f=!1}else f=Gd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(qn(s),s):(qn(s),null)}return qn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),ph(s,s.updateQueue),bt(s),null);case 4:return be(),n===null&&rm(s.stateNode.containerInfo),bt(s),null;case 10:return yi(s.type),bt(s),null;case 19:if(ne(Ot),u=s.memoizedState,u===null)return bt(s),null;if(f=(s.flags&128)!==0,m=u.rendering,m===null)if(f)tu(u,!1);else{if(Rt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=th(n),m!==null){for(s.flags|=128,tu(u,!1),n=m.updateQueue,s.updateQueue=n,ph(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)E1(o,n),o=o.sibling;return ue(Ot,Ot.current&1|2),et&&mi(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&Mt()>_h&&(s.flags|=128,f=!0,tu(u,!1),s.lanes=4194304)}else{if(!f)if(n=th(m),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,ph(s,n),tu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!et)return bt(s),null}else 2*Mt()-u.renderingStartTime>_h&&o!==536870912&&(s.flags|=128,f=!0,tu(u,!1),s.lanes=4194304);u.isBackwards?(m.sibling=s.child,s.child=m):(n=u.last,n!==null?n.sibling=m:s.child=m,u.last=m)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Mt(),n.sibling=null,o=Ot.current,ue(Ot,f?o&1|2:o&1),et&&mi(s,u.treeForkCount),n):(bt(s),null);case 22:case 23:return qn(s),ip(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(bt(s),s.subtreeFlags&6&&(s.flags|=8192)):bt(s),o=s.updateQueue,o!==null&&ph(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&ne(da),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),yi(qt),bt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function gk(n,s){switch(Fd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return yi(qt),be(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Be(s),null;case 31:if(s.memoizedState!==null){if(qn(s),s.alternate===null)throw Error(i(340));ca()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(qn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ca()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ne(Ot),null;case 4:return be(),null;case 10:return yi(s.type),null;case 22:case 23:return qn(s),ip(),n!==null&&ne(da),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return yi(qt),null;case 25:return null;default:return null}}function YE(n,s){switch(Fd(s),s.tag){case 3:yi(qt),be();break;case 26:case 27:case 5:Be(s);break;case 4:be();break;case 31:s.memoizedState!==null&&qn(s);break;case 13:qn(s);break;case 19:ne(Ot);break;case 10:yi(s.type);break;case 22:case 23:qn(s),ip(),n!==null&&ne(da);break;case 24:yi(qt)}}function nu(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==f)}}catch(w){ct(s,s.return,w)}}function us(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var E=u.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=s;var V=o,K=w;try{K()}catch(te){ct(f,V,te)}}}u=u.next}while(u!==m)}}catch(te){ct(s,s.return,te)}}function QE(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{U1(s,o)}catch(u){ct(n,n.return,u)}}}function XE(n,s,o){o.props=va(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){ct(n,s,u)}}function ru(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){ct(n,s,f)}}function Jr(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ct(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ct(n,s,f)}else o.current=null}function WE(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ct(n,n.return,f)}}function Vp(n,s,o){try{var u=n.stateNode;Lk(u,n.type,o,s),u[en]=s}catch(f){ct(n,n.return,f)}}function JE(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&gs(n.type)||n.tag===4}function Pp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||JE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&gs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Lp(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=mr));else if(u!==4&&(u===27&&gs(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Lp(n,s,o),n=n.sibling;n!==null;)Lp(n,s,o),n=n.sibling}function mh(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&gs(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(mh(n,s,o),n=n.sibling;n!==null;)mh(n,s,o),n=n.sibling}function ZE(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);un(s,u,o),s[Pt]=n,s[en]=o}catch(m){ct(n,n.return,m)}}var Ti=!1,Ft=!1,Up=!1,eT=typeof WeakSet=="function"?WeakSet:Set,nn=null;function yk(n,s){if(n=n.containerInfo,am=Vh,n=f1(n),Dd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,w=-1,V=-1,K=0,te=0,se=n,Y=null;t:for(;;){for(var Z;se!==o||f!==0&&se.nodeType!==3||(w=E+f),se!==m||u!==0&&se.nodeType!==3||(V=E+u),se.nodeType===3&&(E+=se.nodeValue.length),(Z=se.firstChild)!==null;)Y=se,se=Z;for(;;){if(se===n)break t;if(Y===o&&++K===f&&(w=E),Y===m&&++te===u&&(V=E),(Z=se.nextSibling)!==null)break;se=Y,Y=se.parentNode}se=Z}o=w===-1||V===-1?null:{start:w,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(om={focusedElem:n,selectionRange:o},Vh=!1,nn=s;nn!==null;)if(s=nn,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,nn=n;else for(;nn!==null;){switch(s=nn,m=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=s,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var ve=va(o.type,f);n=u.getSnapshotBeforeUpdate(ve,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(xe){ct(o,o.return,xe)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)cm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":cm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,nn=n;break}nn=s.return}}function tT(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Si(n,o),u&4&&nu(5,o);break;case 1:if(Si(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(E){ct(o,o.return,E)}else{var f=va(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){ct(o,o.return,E)}}u&64&&QE(o),u&512&&ru(o,o.return);break;case 3:if(Si(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{U1(n,s)}catch(E){ct(o,o.return,E)}}break;case 27:s===null&&u&4&&ZE(o);case 26:case 5:Si(n,o),s===null&&u&4&&WE(o),u&512&&ru(o,o.return);break;case 12:Si(n,o);break;case 31:Si(n,o),u&4&&iT(n,o);break;case 13:Si(n,o),u&4&&sT(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=Ak.bind(null,o),$k(n,o))));break;case 22:if(u=o.memoizedState!==null||Ti,!u){s=s!==null&&s.memoizedState!==null||Ft,f=Ti;var m=Ft;Ti=u,(Ft=s)&&!m?wi(n,o,(o.subtreeFlags&8772)!==0):Si(n,o),Ti=f,Ft=m}break;case 30:break;default:Si(n,o)}}function nT(n){var s=n.alternate;s!==null&&(n.alternate=null,nT(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Xa(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var xt=null,Rn=!1;function xi(n,s,o){for(o=o.child;o!==null;)rT(n,s,o),o=o.sibling}function rT(n,s,o){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(jt,o)}catch{}switch(o.tag){case 26:Ft||Jr(o,s),xi(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ft||Jr(o,s);var u=xt,f=Rn;gs(o.type)&&(xt=o.stateNode,Rn=!1),xi(n,s,o),fu(o.stateNode),xt=u,Rn=f;break;case 5:Ft||Jr(o,s);case 6:if(u=xt,f=Rn,xt=null,xi(n,s,o),xt=u,Rn=f,xt!==null)if(Rn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(m){ct(o,s,m)}else try{xt.removeChild(o.stateNode)}catch(m){ct(o,s,m)}break;case 18:xt!==null&&(Rn?(n=xt,QT(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),jo(n)):QT(xt,o.stateNode));break;case 4:u=xt,f=Rn,xt=o.stateNode.containerInfo,Rn=!0,xi(n,s,o),xt=u,Rn=f;break;case 0:case 11:case 14:case 15:us(2,o,s),Ft||us(4,o,s),xi(n,s,o);break;case 1:Ft||(Jr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&XE(o,s,u)),xi(n,s,o);break;case 21:xi(n,s,o);break;case 22:Ft=(u=Ft)||o.memoizedState!==null,xi(n,s,o),Ft=u;break;default:xi(n,s,o)}}function iT(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{jo(n)}catch(o){ct(s,s.return,o)}}}function sT(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{jo(n)}catch(o){ct(s,s.return,o)}}function vk(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new eT),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new eT),s;default:throw Error(i(435,n.tag))}}function gh(n,s){var o=vk(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var f=Rk.bind(null,n,u);u.then(f,f)}})}function Cn(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=n,E=s,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(gs(w.type)){xt=w.stateNode,Rn=!1;break e}break;case 5:xt=w.stateNode,Rn=!1;break e;case 3:case 4:xt=w.stateNode.containerInfo,Rn=!0;break e}w=w.return}if(xt===null)throw Error(i(160));rT(m,E,f),xt=null,Rn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)aT(s,n),s=s.sibling}var Er=null;function aT(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Cn(s,n),In(n),u&4&&(us(3,n,n.return),nu(3,n),us(5,n,n.return));break;case 1:Cn(s,n),In(n),u&512&&(Ft||o===null||Jr(o,o.return)),u&64&&Ti&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Er;if(Cn(s,n),In(n),u&512&&(Ft||o===null||Jr(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Lr]||m[Pt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),un(m,u,o),m[Pt]=n,Lt(m),u=m;break e;case"link":var E=ax("link","href",f).get(u+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(m=E[w],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break t}}m=f.createElement(u),un(m,u,o),f.head.appendChild(m);break;case"meta":if(E=ax("meta","content",f).get(u+(o.content||""))){for(w=0;w<E.length;w++)if(m=E[w],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break t}}m=f.createElement(u),un(m,u,o),f.head.appendChild(m);break;default:throw Error(i(468,u))}m[Pt]=n,Lt(m),u=m}n.stateNode=u}else ox(f,n.type,n.stateNode);else n.stateNode=sx(f,u,n.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?ox(f,n.type,n.stateNode):sx(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Vp(n,n.memoizedProps,o.memoizedProps)}break;case 27:Cn(s,n),In(n),u&512&&(Ft||o===null||Jr(o,o.return)),o!==null&&u&4&&Vp(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Cn(s,n),In(n),u&512&&(Ft||o===null||Jr(o,o.return)),n.flags&32){f=n.stateNode;try{An(f,"")}catch(ve){ct(n,n.return,ve)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Vp(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Up=!0);break;case 6:if(Cn(s,n),In(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(ve){ct(n,n.return,ve)}}break;case 3:if(Dh=null,f=Er,Er=Nh(s.containerInfo),Cn(s,n),Er=f,In(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{jo(s.containerInfo)}catch(ve){ct(n,n.return,ve)}Up&&(Up=!1,oT(n));break;case 4:u=Er,Er=Nh(n.stateNode.containerInfo),Cn(s,n),In(n),Er=u;break;case 12:Cn(s,n),In(n);break;case 31:Cn(s,n),In(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,gh(n,u)));break;case 13:Cn(s,n),In(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(vh=Mt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,gh(n,u)));break;case 22:f=n.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,K=Ti,te=Ft;if(Ti=K||f,Ft=te||V,Cn(s,n),Ft=te,Ti=K,In(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||V||Ti||Ft||_a(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(m=V.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=V.stateNode;var se=V.memoizedProps.style,Y=se!=null&&se.hasOwnProperty("display")?se.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ve){ct(V,V.return,ve)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(ve){ct(V,V.return,ve)}}}else if(s.tag===18){if(o===null){V=s;try{var Z=V.stateNode;f?XT(Z,!0):XT(V.stateNode,!1)}catch(ve){ct(V,V.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,gh(n,o))));break;case 19:Cn(s,n),In(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,gh(n,u)));break;case 30:break;case 21:break;default:Cn(s,n),In(n)}}function In(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(JE(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,m=Pp(n);mh(n,m,f);break;case 5:var E=o.stateNode;o.flags&32&&(An(E,""),o.flags&=-33);var w=Pp(n);mh(n,w,E);break;case 3:case 4:var V=o.stateNode.containerInfo,K=Pp(n);Lp(n,K,V);break;default:throw Error(i(161))}}catch(te){ct(n,n.return,te)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function oT(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;oT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Si(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)tT(n,s.alternate,s),s=s.sibling}function _a(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:us(4,s,s.return),_a(s);break;case 1:Jr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&XE(s,s.return,o),_a(s);break;case 27:fu(s.stateNode);case 26:case 5:Jr(s,s.return),_a(s);break;case 22:s.memoizedState===null&&_a(s);break;case 30:_a(s);break;default:_a(s)}n=n.sibling}}function wi(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,m=s,E=m.flags;switch(m.tag){case 0:case 11:case 15:wi(f,m,o),nu(4,m);break;case 1:if(wi(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){ct(u,u.return,K)}if(u=m,f=u.updateQueue,f!==null){var w=u.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)L1(V[f],w)}catch(K){ct(u,u.return,K)}}o&&E&64&&QE(m),ru(m,m.return);break;case 27:ZE(m);case 26:case 5:wi(f,m,o),o&&u===null&&E&4&&WE(m),ru(m,m.return);break;case 12:wi(f,m,o);break;case 31:wi(f,m,o),o&&E&4&&iT(f,m);break;case 13:wi(f,m,o),o&&E&4&&sT(f,m);break;case 22:m.memoizedState===null&&wi(f,m,o),ru(m,m.return);break;case 30:break;default:wi(f,m,o)}s=s.sibling}}function qp(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Fl(o))}function zp(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Fl(n))}function Tr(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)lT(n,s,o,u),s=s.sibling}function lT(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Tr(n,s,o,u),f&2048&&nu(9,s);break;case 1:Tr(n,s,o,u);break;case 3:Tr(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Fl(n)));break;case 12:if(f&2048){Tr(n,s,o,u),n=s.stateNode;try{var m=s.memoizedProps,E=m.id,w=m.onPostCommit;typeof w=="function"&&w(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){ct(s,s.return,V)}}else Tr(n,s,o,u);break;case 31:Tr(n,s,o,u);break;case 13:Tr(n,s,o,u);break;case 23:break;case 22:m=s.stateNode,E=s.alternate,s.memoizedState!==null?m._visibility&2?Tr(n,s,o,u):iu(n,s):m._visibility&2?Tr(n,s,o,u):(m._visibility|=2,So(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&qp(E,s);break;case 24:Tr(n,s,o,u),f&2048&&zp(s.alternate,s);break;default:Tr(n,s,o,u)}}function So(n,s,o,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=n,E=s,w=o,V=u,K=E.flags;switch(E.tag){case 0:case 11:case 15:So(m,E,w,V,f),nu(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?So(m,E,w,V,f):iu(m,E):(te._visibility|=2,So(m,E,w,V,f)),f&&K&2048&&qp(E.alternate,E);break;case 24:So(m,E,w,V,f),f&&K&2048&&zp(E.alternate,E);break;default:So(m,E,w,V,f)}s=s.sibling}}function iu(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:iu(o,u),f&2048&&qp(u.alternate,u);break;case 24:iu(o,u),f&2048&&zp(u.alternate,u);break;default:iu(o,u)}s=s.sibling}}var su=8192;function wo(n,s,o){if(n.subtreeFlags&su)for(n=n.child;n!==null;)uT(n,s,o),n=n.sibling}function uT(n,s,o){switch(n.tag){case 26:wo(n,s,o),n.flags&su&&n.memoizedState!==null&&iM(o,Er,n.memoizedState,n.memoizedProps);break;case 5:wo(n,s,o);break;case 3:case 4:var u=Er;Er=Nh(n.stateNode.containerInfo),wo(n,s,o),Er=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=su,su=16777216,wo(n,s,o),su=u):wo(n,s,o));break;default:wo(n,s,o)}}function cT(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function au(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,fT(u,n)}cT(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hT(n),n=n.sibling}function hT(n){switch(n.tag){case 0:case 11:case 15:au(n),n.flags&2048&&us(9,n,n.return);break;case 3:au(n);break;case 12:au(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,yh(n)):au(n);break;default:au(n)}}function yh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,fT(u,n)}cT(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:us(8,s,s.return),yh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,yh(s));break;default:yh(s)}n=n.sibling}}function fT(n,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:us(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Fl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,nn=u;else e:for(o=n;nn!==null;){u=nn;var f=u.sibling,m=u.return;if(nT(u),u===o){nn=null;break e}if(f!==null){f.return=m,nn=f;break e}nn=m}}}var _k={getCacheForType:function(n){var s=on(qt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return on(qt).controller.signal}},bk=typeof WeakMap=="function"?WeakMap:Map,st=0,gt=null,Ge=null,Ye=0,ut=0,zn=null,cs=!1,Ao=!1,Bp=!1,Ai=0,Rt=0,hs=0,ba=0,Fp=0,Bn=0,Ro=0,ou=null,Nn=null,Hp=!1,vh=0,dT=0,_h=1/0,bh=null,fs=null,Wt=0,ds=null,Co=null,Ri=0,Gp=0,$p=null,pT=null,lu=0,Kp=null;function Fn(){return(st&2)!==0&&Ye!==0?Ye&-Ye:ee.T!==null?Zp():Ec()}function mT(){if(Bn===0)if((Ye&536870912)===0||et){var n=Ks;Ks<<=1,(Ks&3932160)===0&&(Ks=262144),Bn=n}else Bn=536870912;return n=Un.current,n!==null&&(n.flags|=32),Bn}function On(n,s,o){(n===gt&&(ut===2||ut===9)||n.cancelPendingCommit!==null)&&(Io(n,0),ps(n,Ye,Bn,!1)),Ys(n,o),((st&2)===0||n!==gt)&&(n===gt&&((st&2)===0&&(ba|=o),Rt===4&&ps(n,Ye,Bn,!1)),Zr(n))}function gT(n,s,o){if((st&6)!==0)throw Error(i(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||fr(n,s),f=u?xk(n,s):Qp(n,s,!0),m=u;do{if(f===0){Ao&&!u&&ps(n,s,0,!1);break}else{if(o=n.current.alternate,m&&!Ek(o)){f=Qp(n,s,!1),m=!1;continue}if(f===2){if(m=s,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var w=n;f=ou;var V=w.current.memoizedState.isDehydrated;if(V&&(Io(w,E).flags|=256),E=Qp(w,E,!1),E!==2){if(Bp&&!V){w.errorRecoveryDisabledLanes|=m,ba|=m,f=4;break e}m=Nn,Nn=f,m!==null&&(Nn===null?Nn=m:Nn.push.apply(Nn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){Io(n,0),ps(n,s,0,!0);break}e:{switch(u=n,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ps(u,s,Bn,!cs);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=vh+300-Mt(),10<f)){if(ps(u,s,Bn,!cs),jr(u,0,!0)!==0)break e;Ri=s,u.timeoutHandle=KT(yT.bind(null,u,o,Nn,bh,Hp,s,Bn,ba,Ro,cs,m,"Throttled",-0,0),f);break e}yT(u,o,Nn,bh,Hp,s,Bn,ba,Ro,cs,m,null,-0,0)}}break}while(!0);Zr(n)}function yT(n,s,o,u,f,m,E,w,V,K,te,se,Y,Z){if(n.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mr},uT(s,m,se);var ve=(m&62914560)===m?vh-Mt():(m&4194048)===m?dT-Mt():0;if(ve=sM(se,ve),ve!==null){Ri=m,n.cancelPendingCommit=ve(wT.bind(null,n,s,m,o,u,f,E,w,V,te,se,null,Y,Z)),ps(n,m,E,!K);return}}wT(n,s,m,o,u,f,E,w,V)}function Ek(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Pn(m(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ps(n,s,o,u){s&=~Fp,s&=~ba,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var m=31-It(f),E=1<<m;u[m]=-1,f&=~E}o!==0&&Qs(n,o,s)}function Eh(){return(st&6)===0?(uu(0),!1):!0}function Yp(){if(Ge!==null){if(ut===0)var n=Ge.return;else n=Ge,gi=ha=null,cp(n),_o=null,Gl=0,n=Ge;for(;n!==null;)YE(n.alternate,n),n=n.return;Ge=null}}function Io(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,zk(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Ri=0,Yp(),gt=n,Ge=o=pi(n.current,null),Ye=s,ut=0,zn=null,cs=!1,Ao=fr(n,s),Bp=!1,Ro=Bn=Fp=ba=hs=Rt=0,Nn=ou=null,Hp=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-It(u),m=1<<f;s|=n[f],u&=~m}return Ai=s,Bc(),o}function vT(n,s){Pe=null,ee.H=Zl,s===vo||s===Xc?(s=M1(),ut=3):s===Jd?(s=M1(),ut=4):ut=s===Ap?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,zn=s,Ge===null&&(Rt=1,ch(n,tr(s,n.current)))}function _T(){var n=Un.current;return n===null?!0:(Ye&4194048)===Ye?sr===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?n===sr:!1}function bT(){var n=ee.H;return ee.H=Zl,n===null?Zl:n}function ET(){var n=ee.A;return ee.A=_k,n}function Th(){Rt=4,cs||(Ye&4194048)!==Ye&&Un.current!==null||(Ao=!0),(hs&134217727)===0&&(ba&134217727)===0||gt===null||ps(gt,Ye,Bn,!1)}function Qp(n,s,o){var u=st;st|=2;var f=bT(),m=ET();(gt!==n||Ye!==s)&&(bh=null,Io(n,s)),s=!1;var E=Rt;e:do try{if(ut!==0&&Ge!==null){var w=Ge,V=zn;switch(ut){case 8:Yp(),E=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(s=!0);var K=ut;if(ut=0,zn=null,No(n,w,V,K),o&&Ao){E=0;break e}break;default:K=ut,ut=0,zn=null,No(n,w,V,K)}}Tk(),E=Rt;break}catch(te){vT(n,te)}while(!0);return s&&n.shellSuspendCounter++,gi=ha=null,st=u,ee.H=f,ee.A=m,Ge===null&&(gt=null,Ye=0,Bc()),E}function Tk(){for(;Ge!==null;)TT(Ge)}function xk(n,s){var o=st;st|=2;var u=bT(),f=ET();gt!==n||Ye!==s?(bh=null,_h=Mt()+500,Io(n,s)):Ao=fr(n,s);e:do try{if(ut!==0&&Ge!==null){s=Ge;var m=zn;t:switch(ut){case 1:ut=0,zn=null,No(n,s,m,1);break;case 2:case 9:if(D1(m)){ut=0,zn=null,xT(s);break}s=function(){ut!==2&&ut!==9||gt!==n||(ut=7),Zr(n)},m.then(s,s);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:D1(m)?(ut=0,zn=null,xT(s)):(ut=0,zn=null,No(n,s,m,7));break;case 5:var E=null;switch(Ge.tag){case 26:E=Ge.memoizedState;case 5:case 27:var w=Ge;if(E?lx(E):w.stateNode.complete){ut=0,zn=null;var V=w.sibling;if(V!==null)Ge=V;else{var K=w.return;K!==null?(Ge=K,xh(K)):Ge=null}break t}}ut=0,zn=null,No(n,s,m,5);break;case 6:ut=0,zn=null,No(n,s,m,6);break;case 8:Yp(),Rt=6;break e;default:throw Error(i(462))}}Sk();break}catch(te){vT(n,te)}while(!0);return gi=ha=null,ee.H=u,ee.A=f,st=o,Ge!==null?0:(gt=null,Ye=0,Bc(),Rt)}function Sk(){for(;Ge!==null&&!Kn();)TT(Ge)}function TT(n){var s=$E(n.alternate,n,Ai);n.memoizedProps=n.pendingProps,s===null?xh(n):Ge=s}function xT(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=qE(o,s,s.pendingProps,s.type,void 0,Ye);break;case 11:s=qE(o,s,s.pendingProps,s.type.render,s.ref,Ye);break;case 5:cp(s);default:YE(o,s),s=Ge=E1(s,Ai),s=$E(o,s,Ai)}n.memoizedProps=n.pendingProps,s===null?xh(n):Ge=s}function No(n,s,o,u){gi=ha=null,cp(s),_o=null,Gl=0;var f=s.return;try{if(fk(n,f,s,o,Ye)){Rt=1,ch(n,tr(o,n.current)),Ge=null;return}}catch(m){if(f!==null)throw Ge=f,m;Rt=1,ch(n,tr(o,n.current)),Ge=null;return}s.flags&32768?(et||u===1?n=!0:Ao||(Ye&536870912)!==0?n=!1:(cs=n=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),ST(s,n)):xh(s)}function xh(n){var s=n;do{if((s.flags&32768)!==0){ST(s,cs);return}n=s.return;var o=mk(s.alternate,s,Ai);if(o!==null){Ge=o;return}if(s=s.sibling,s!==null){Ge=s;return}Ge=s=n}while(s!==null);Rt===0&&(Rt=5)}function ST(n,s){do{var o=gk(n.alternate,n);if(o!==null){o.flags&=32767,Ge=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Ge=n;return}Ge=n=o}while(n!==null);Rt=6,Ge=null}function wT(n,s,o,u,f,m,E,w,V){n.cancelPendingCommit=null;do Sh();while(Wt!==0);if((st&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Pd,Cd(n,o,m,E,w,V),n===gt&&(Ge=gt=null,Ye=0),Co=s,ds=n,Ri=o,Gp=m,$p=f,pT=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Ck(En,function(){return NT(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=ee.T,ee.T=null,f=he.p,he.p=2,E=st,st|=4;try{yk(n,s,o)}finally{st=E,he.p=f,ee.T=u}}Wt=1,AT(),RT(),CT()}}function AT(){if(Wt===1){Wt=0;var n=ds,s=Co,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=ee.T,ee.T=null;var u=he.p;he.p=2;var f=st;st|=4;try{aT(s,n);var m=om,E=f1(n.containerInfo),w=m.focusedElem,V=m.selectionRange;if(E!==w&&w&&w.ownerDocument&&h1(w.ownerDocument.documentElement,w)){if(V!==null&&Dd(w)){var K=V.start,te=V.end;if(te===void 0&&(te=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(te,w.value.length);else{var se=w.ownerDocument||document,Y=se&&se.defaultView||window;if(Y.getSelection){var Z=Y.getSelection(),ve=w.textContent.length,xe=Math.min(V.start,ve),pt=V.end===void 0?xe:Math.min(V.end,ve);!Z.extend&&xe>pt&&(E=pt,pt=xe,xe=E);var H=c1(w,xe),q=c1(w,pt);if(H&&q&&(Z.rangeCount!==1||Z.anchorNode!==H.node||Z.anchorOffset!==H.offset||Z.focusNode!==q.node||Z.focusOffset!==q.offset)){var $=se.createRange();$.setStart(H.node,H.offset),Z.removeAllRanges(),xe>pt?(Z.addRange($),Z.extend(q.node,q.offset)):($.setEnd(q.node,q.offset),Z.addRange($))}}}}for(se=[],Z=w;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<se.length;w++){var re=se[w];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Vh=!!am,om=am=null}finally{st=f,he.p=u,ee.T=o}}n.current=s,Wt=2}}function RT(){if(Wt===2){Wt=0;var n=ds,s=Co,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=ee.T,ee.T=null;var u=he.p;he.p=2;var f=st;st|=4;try{tT(n,s.alternate,s)}finally{st=f,he.p=u,ee.T=o}}Wt=3}}function CT(){if(Wt===4||Wt===3){Wt=0,Xt();var n=ds,s=Co,o=Ri,u=pT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Wt=5:(Wt=0,Co=ds=null,IT(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(fs=null),ci(o),s=s.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(jt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=ee.T,f=he.p,he.p=2,ee.T=null;try{for(var m=n.onRecoverableError,E=0;E<u.length;E++){var w=u[E];m(w.value,{componentStack:w.stack})}}finally{ee.T=s,he.p=f}}(Ri&3)!==0&&Sh(),Zr(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===Kp?lu++:(lu=0,Kp=n):lu=0,uu(0)}}function IT(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Fl(s)))}function Sh(){return AT(),RT(),CT(),NT()}function NT(){if(Wt!==5)return!1;var n=ds,s=Gp;Gp=0;var o=ci(Ri),u=ee.T,f=he.p;try{he.p=32>o?32:o,ee.T=null,o=$p,$p=null;var m=ds,E=Ri;if(Wt=0,Co=ds=null,Ri=0,(st&6)!==0)throw Error(i(331));var w=st;if(st|=4,hT(m.current),lT(m,m.current,E,o),st=w,uu(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(jt,m)}catch{}return!0}finally{he.p=f,ee.T=u,IT(n,s)}}function OT(n,s,o){s=tr(o,s),s=wp(n.stateNode,s,2),n=as(n,s,2),n!==null&&(Ys(n,2),Zr(n))}function ct(n,s,o){if(n.tag===3)OT(n,n,o);else for(;s!==null;){if(s.tag===3){OT(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(fs===null||!fs.has(u))){n=tr(o,n),o=DE(2),u=as(s,o,2),u!==null&&(kE(o,u,s,n),Ys(u,2),Zr(u));break}}s=s.return}}function Xp(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new bk;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Bp=!0,f.add(o),n=wk.bind(null,n,s,o),s.then(n,n))}function wk(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,gt===n&&(Ye&o)===o&&(Rt===4||Rt===3&&(Ye&62914560)===Ye&&300>Mt()-vh?(st&2)===0&&Io(n,0):Fp|=o,Ro===Ye&&(Ro=0)),Zr(n)}function DT(n,s){s===0&&(s=bc()),n=la(n,s),n!==null&&(Ys(n,s),Zr(n))}function Ak(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),DT(n,o)}function Rk(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),DT(n,o)}function Ck(n,s){return Ct(n,s)}var wh=null,Oo=null,Wp=!1,Ah=!1,Jp=!1,ms=0;function Zr(n){n!==Oo&&n.next===null&&(Oo===null?wh=Oo=n:Oo=Oo.next=n),Ah=!0,Wp||(Wp=!0,Nk())}function uu(n,s){if(!Jp&&Ah){Jp=!0;do for(var o=!1,u=wh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,w=u.pingedLanes;m=(1<<31-It(42|n)+1)-1,m&=f&~(E&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,VT(u,m))}else m=Ye,m=jr(u,u===gt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||fr(u,m)||(o=!0,VT(u,m));u=u.next}while(o);Jp=!1}}function Ik(){kT()}function kT(){Ah=Wp=!1;var n=0;ms!==0&&qk()&&(n=ms);for(var s=Mt(),o=null,u=wh;u!==null;){var f=u.next,m=MT(u,s);m===0?(u.next=null,o===null?wh=f:o.next=f,f===null&&(Oo=o)):(o=u,(n!==0||(m&3)!==0)&&(Ah=!0)),u=f}Wt!==0&&Wt!==5||uu(n),ms!==0&&(ms=0)}function MT(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-It(m),w=1<<E,V=f[E];V===-1?((w&o)===0||(w&u)!==0)&&(f[E]=Rd(w,s)):V<=s&&(n.expiredLanes|=w),m&=~w}if(s=gt,o=Ye,o=jr(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(ut===2||ut===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Mn(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||fr(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&Mn(u),ci(o)){case 2:case 8:o=Hi;break;case 32:o=En;break;case 268435456:o=Gs;break;default:o=En}return u=jT.bind(null,n),o=Ct(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&Mn(u),n.callbackPriority=2,n.callbackNode=null,2}function jT(n,s){if(Wt!==0&&Wt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Sh()&&n.callbackNode!==o)return null;var u=Ye;return u=jr(n,n===gt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(gT(n,u,s),MT(n,Mt()),n.callbackNode!=null&&n.callbackNode===o?jT.bind(null,n):null)}function VT(n,s){if(Sh())return null;gT(n,s,!0)}function Nk(){Bk(function(){(st&6)!==0?Ct(Hs,Ik):kT()})}function Zp(){if(ms===0){var n=go;n===0&&(n=kr,kr<<=1,(kr&261888)===0&&(kr=256)),ms=n}return ms}function PT(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:eo(""+n)}function LT(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function Ok(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var m=PT((f[en]||null).action),E=u.submitter;E&&(s=(s=E[en]||null)?PT(s.formAction):E.getAttribute("formAction"),s!==null&&(m=s,E=null));var w=new $r("action","action",null,u,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ms!==0){var V=E?LT(f,E):new FormData(f);_p(o,{pending:!0,data:V,method:f.method,action:m},null,V)}}else typeof m=="function"&&(w.preventDefault(),V=E?LT(f,E):new FormData(f),_p(o,{pending:!0,data:V,method:f.method,action:m},m,V))},currentTarget:f}]})}}for(var em=0;em<Vd.length;em++){var tm=Vd[em],Dk=tm.toLowerCase(),kk=tm[0].toUpperCase()+tm.slice(1);br(Dk,"on"+kk)}br(m1,"onAnimationEnd"),br(g1,"onAnimationIteration"),br(y1,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(QD,"onTransitionRun"),br(XD,"onTransitionStart"),br(WD,"onTransitionCancel"),br(v1,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function UT(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var E=u.length-1;0<=E;E--){var w=u[E],V=w.instance,K=w.currentTarget;if(w=w.listener,V!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=K;try{m(f)}catch(te){zc(te)}f.currentTarget=null,m=V}else for(E=0;E<u.length;E++){if(w=u[E],V=w.instance,K=w.currentTarget,w=w.listener,V!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=K;try{m(f)}catch(te){zc(te)}f.currentTarget=null,m=V}}}}function $e(n,s){var o=s[Qa];o===void 0&&(o=s[Qa]=new Set);var u=n+"__bubble";o.has(u)||(qT(s,n,2,!1),o.add(u))}function nm(n,s,o){var u=0;s&&(u|=4),qT(o,n,u,s)}var Rh="_reactListening"+Math.random().toString(36).slice(2);function rm(n){if(!n[Rh]){n[Rh]=!0,Tl.forEach(function(o){o!=="selectionchange"&&(Mk.has(o)||nm(o,!1,n),nm(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Rh]||(s[Rh]=!0,nm("selectionchange",!1,s))}}function qT(n,s,o,u){switch(mx(s)){case 2:var f=lM;break;case 8:f=uM;break;default:f=vm}o=f.bind(null,s,o,n),f=void 0,!ea||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function im(n,s,o,u,f){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var w=u.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=u.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=Ur(w),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){u=m=E;continue e}w=w.parentNode}}u=u.return}Xi(function(){var K=m,te=Wn(o),se=[];e:{var Y=_1.get(n);if(Y!==void 0){var Z=$r,ve=n;switch(n){case"keypress":if(na(o)===0)break e;case"keydown":case"keyup":Z=Lc;break;case"focusin":ve="focus",Z=ia;break;case"focusout":ve="blur",Z=ia;break;case"beforeblur":case"afterblur":Z=ia;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case m1:case g1:case y1:Z=Oc;break;case v1:Z=A;break;case"scroll":case"scrollend":Z=Ml;break;case"wheel":Z=J;break;case"copy":case"cut":case"paste":Z=Dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=di;break;case"toggle":case"beforetoggle":Z=Ve}var xe=(s&4)!==0,pt=!xe&&(n==="scroll"||n==="scrollend"),H=xe?Y!==null?Y+"Capture":null:Y;xe=[];for(var q=K,$;q!==null;){var re=q;if($=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||$===null||H===null||(re=gr(q,H),re!=null&&xe.push(hu(q,re,$))),pt)break;q=q.return}0<xe.length&&(Y=new Z(Y,ve,null,o,te),se.push({event:Y,listeners:xe}))}}if((s&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",Y&&o!==Ol&&(ve=o.relatedTarget||o.fromElement)&&(Ur(ve)||ve[Pr]))break e;if((Z||Y)&&(Y=te.window===te?te:(Y=te.ownerDocument)?Y.defaultView||Y.parentWindow:window,Z?(ve=o.relatedTarget||o.toElement,Z=K,ve=ve?Ur(ve):null,ve!==null&&(pt=l(ve),xe=ve.tag,ve!==pt||xe!==5&&xe!==27&&xe!==6)&&(ve=null)):(Z=null,ve=K),Z!==ve)){if(xe=jl,re="onMouseLeave",H="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(xe=di,re="onPointerLeave",H="onPointerEnter",q="pointer"),pt=Z==null?Y:jn(Z),$=ve==null?Y:jn(ve),Y=new xe(re,q+"leave",Z,o,te),Y.target=pt,Y.relatedTarget=$,re=null,Ur(te)===K&&(xe=new xe(H,q+"enter",ve,o,te),xe.target=$,xe.relatedTarget=pt,re=xe),pt=re,Z&&ve)t:{for(xe=jk,H=Z,q=ve,$=0,re=H;re;re=xe(re))$++;re=0;for(var Ee=q;Ee;Ee=xe(Ee))re++;for(;0<$-re;)H=xe(H),$--;for(;0<re-$;)q=xe(q),re--;for(;$--;){if(H===q||q!==null&&H===q.alternate){xe=H;break t}H=xe(H),q=xe(q)}xe=null}else xe=null;Z!==null&&zT(se,Y,Z,xe,!1),ve!==null&&pt!==null&&zT(se,pt,ve,xe,!0)}}e:{if(Y=K?jn(K):window,Z=Y.nodeName&&Y.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Y.type==="file")var nt=i1;else if(n1(Y))if(s1)nt=$D;else{nt=HD;var _e=FD}else Z=Y.nodeName,!Z||Z.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Za(K.elementType)&&(nt=i1):nt=GD;if(nt&&(nt=nt(n,K))){r1(se,nt,o,te);break e}_e&&_e(n,Y,K),n==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&Cl(Y,"number",Y.value)}switch(_e=K?jn(K):window,n){case"focusin":(n1(_e)||_e.contentEditable==="true")&&(oo=_e,kd=K,ql=null);break;case"focusout":ql=kd=oo=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,d1(se,o,te);break;case"selectionchange":if(YD)break;case"keydown":case"keyup":d1(se,o,te)}var qe;if(it)e:{switch(n){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else ao?sa(n,o)&&(Qe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Qe="onCompositionStart");Qe&&(Qr&&o.locale!=="ko"&&(ao||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&ao&&(qe=kl()):(Gr=te,Dl="value"in Gr?Gr.value:Gr.textContent,ao=!0)),_e=Ch(K,Qe),0<_e.length&&(Qe=new Yr(Qe,n,null,o,te),se.push({event:Qe,listeners:_e}),qe?Qe.data=qe:(qe=so(o),qe!==null&&(Qe.data=qe)))),(qe=Zn?UD(n,o):qD(n,o))&&(Qe=Ch(K,"onBeforeInput"),0<Qe.length&&(_e=new Yr("onBeforeInput","beforeinput",null,o,te),se.push({event:_e,listeners:Qe}),_e.data=qe)),Ok(se,n,K,o,te)}UT(se,s)})}function hu(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Ch(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=gr(n,o),f!=null&&u.unshift(hu(n,f,m)),f=gr(n,s),f!=null&&u.push(hu(n,f,m))),n.tag===3)return u;n=n.return}return[]}function jk(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function zT(n,s,o,u,f){for(var m=s._reactName,E=[];o!==null&&o!==u;){var w=o,V=w.alternate,K=w.stateNode;if(w=w.tag,V!==null&&V===u)break;w!==5&&w!==26&&w!==27||K===null||(V=K,f?(K=gr(o,m),K!=null&&E.unshift(hu(o,K,V))):f||(K=gr(o,m),K!=null&&E.push(hu(o,K,V)))),o=o.return}E.length!==0&&n.push({event:s,listeners:E})}var Vk=/\r\n?/g,Pk=/\u0000|\uFFFD/g;function BT(n){return(typeof n=="string"?n:""+n).replace(Vk,`
`).replace(Pk,"")}function FT(n,s){return s=BT(s),BT(n)===s}function dt(n,s,o,u,f,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||An(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&An(n,""+u);break;case"className":Vn(n,"class",u);break;case"tabIndex":Vn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(n,o,u);break;case"style":Nl(n,u,m);break;case"data":if(s!=="object"){Vn(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=eo(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&dt(n,s,"name",f.name,f,null),dt(n,s,"formEncType",f.formEncType,f,null),dt(n,s,"formMethod",f.formMethod,f,null),dt(n,s,"formTarget",f.formTarget,f,null)):(dt(n,s,"encType",f.encType,f,null),dt(n,s,"method",f.method,f,null),dt(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=eo(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=mr);break;case"onScroll":u!=null&&$e("scroll",n);break;case"onScrollEnd":u!=null&&$e("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=eo(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":$e("beforetoggle",n),$e("toggle",n),Wa(n,"popover",u);break;case"xlinkActuate":Ut(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ut(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ut(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ut(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ut(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ut(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wa(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Cc.get(o)||o,Wa(n,o,u))}}function sm(n,s,o,u,f,m){switch(o){case"style":Nl(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?An(n,u):(typeof u=="number"||typeof u=="bigint")&&An(n,""+u);break;case"onScroll":u!=null&&$e("scroll",n);break;case"onScrollEnd":u!=null&&$e("scrollend",n);break;case"onClick":u!=null&&(n.onclick=mr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),m=n[en]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(s,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Wa(n,o,u)}}}function un(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",n),$e("load",n);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:dt(n,s,m,E,o,null)}}f&&dt(n,s,"srcSet",o.srcSet,o,null),u&&dt(n,s,"src",o.src,o,null);return;case"input":$e("invalid",n);var w=m=E=f=null,V=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":f=te;break;case"type":E=te;break;case"checked":V=te;break;case"defaultChecked":K=te;break;case"value":m=te;break;case"defaultValue":w=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:dt(n,s,u,te,o,null)}}wc(n,m,w,V,K,E,f,!1);return;case"select":$e("invalid",n),u=E=m=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":E=w;break;case"multiple":u=w;default:dt(n,s,f,w,o,null)}s=m,o=E,n.multiple=!!u,s!=null?$i(n,!!u,s,!1):o!=null&&$i(n,!!u,o,!0);return;case"textarea":$e("invalid",n),m=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":u=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:dt(n,s,E,w,o,null)}Ki(n,u,f,m);return;case"option":for(V in o)o.hasOwnProperty(V)&&(u=o[V],u!=null)&&(V==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":dt(n,s,V,u,o,null));return;case"dialog":$e("beforetoggle",n),$e("toggle",n),$e("cancel",n),$e("close",n);break;case"iframe":case"object":$e("load",n);break;case"video":case"audio":for(u=0;u<cu.length;u++)$e(cu[u],n);break;case"image":$e("error",n),$e("load",n);break;case"details":$e("toggle",n);break;case"embed":case"source":case"link":$e("error",n),$e("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:dt(n,s,K,u,o,null)}return;default:if(Za(s)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&sm(n,s,te,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&dt(n,s,w,u,o,null))}function Lk(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,w=null,V=null,K=null,te=null;for(Z in o){var se=o[Z];if(o.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=se;default:u.hasOwnProperty(Z)||dt(n,s,Z,null,u,se)}}for(var Y in u){var Z=u[Y];if(se=o[Y],u.hasOwnProperty(Y)&&(Z!=null||se!=null))switch(Y){case"type":m=Z;break;case"name":f=Z;break;case"checked":K=Z;break;case"defaultChecked":te=Z;break;case"value":E=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==se&&dt(n,s,Y,Z,u,se)}}Ja(n,E,w,V,K,te,m,f);return;case"select":Z=E=w=Y=null;for(m in o)if(V=o[m],o.hasOwnProperty(m)&&V!=null)switch(m){case"value":break;case"multiple":Z=V;default:u.hasOwnProperty(m)||dt(n,s,m,null,u,V)}for(f in u)if(m=u[f],V=o[f],u.hasOwnProperty(f)&&(m!=null||V!=null))switch(f){case"value":Y=m;break;case"defaultValue":w=m;break;case"multiple":E=m;default:m!==V&&dt(n,s,f,m,u,V)}s=w,o=E,u=Z,Y!=null?$i(n,!!o,Y,!1):!!u!=!!o&&(s!=null?$i(n,!!o,s,!0):$i(n,!!o,o?[]:"",!1));return;case"textarea":Z=Y=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:dt(n,s,w,null,u,f)}for(E in u)if(f=u[E],m=o[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":Y=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&dt(n,s,E,f,u,m)}Ac(n,Y,Z);return;case"option":for(var ve in o)Y=o[ve],o.hasOwnProperty(ve)&&Y!=null&&!u.hasOwnProperty(ve)&&(ve==="selected"?n.selected=!1:dt(n,s,ve,null,u,Y));for(V in u)Y=u[V],Z=o[V],u.hasOwnProperty(V)&&Y!==Z&&(Y!=null||Z!=null)&&(V==="selected"?n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":dt(n,s,V,Y,u,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)Y=o[xe],o.hasOwnProperty(xe)&&Y!=null&&!u.hasOwnProperty(xe)&&dt(n,s,xe,null,u,Y);for(K in u)if(Y=u[K],Z=o[K],u.hasOwnProperty(K)&&Y!==Z&&(Y!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:dt(n,s,K,Y,u,Z)}return;default:if(Za(s)){for(var pt in o)Y=o[pt],o.hasOwnProperty(pt)&&Y!==void 0&&!u.hasOwnProperty(pt)&&sm(n,s,pt,void 0,u,Y);for(te in u)Y=u[te],Z=o[te],!u.hasOwnProperty(te)||Y===Z||Y===void 0&&Z===void 0||sm(n,s,te,Y,u,Z);return}}for(var H in o)Y=o[H],o.hasOwnProperty(H)&&Y!=null&&!u.hasOwnProperty(H)&&dt(n,s,H,null,u,Y);for(se in u)Y=u[se],Z=o[se],!u.hasOwnProperty(se)||Y===Z||Y==null&&Z==null||dt(n,s,se,Y,u,Z)}function HT(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Uk(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,E=f.initiatorType,w=f.duration;if(m&&w&&HT(E)){for(E=0,w=f.responseEnd,u+=1;u<o.length;u++){var V=o[u],K=V.startTime;if(K>w)break;var te=V.transferSize,se=V.initiatorType;te&&HT(se)&&(V=V.responseEnd,E+=te*(V<w?1:(w-K)/(V-K)))}if(--u,s+=8*(m+E)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var am=null,om=null;function Ih(n){return n.nodeType===9?n:n.ownerDocument}function GT(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $T(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function lm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var um=null;function qk(){var n=window.event;return n&&n.type==="popstate"?n===um?!1:(um=n,!0):(um=null,!1)}var KT=typeof setTimeout=="function"?setTimeout:void 0,zk=typeof clearTimeout=="function"?clearTimeout:void 0,YT=typeof Promise=="function"?Promise:void 0,Bk=typeof queueMicrotask=="function"?queueMicrotask:typeof YT<"u"?function(n){return YT.resolve(null).then(n).catch(Fk)}:KT;function Fk(n){setTimeout(function(){throw n})}function gs(n){return n==="head"}function QT(n,s){var o=s,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(f),jo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")fu(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,fu(o);for(var m=o.firstChild;m;){var E=m.nextSibling,w=m.nodeName;m[Lr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=E}}else o==="body"&&fu(n.ownerDocument.body);o=f}while(o);jo(s)}function XT(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function cm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":cm(o),Xa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function Hk(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Lr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=ar(n.nextSibling),n===null)break}return null}function Gk(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=ar(n.nextSibling),n===null))return null;return n}function WT(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=ar(n.nextSibling),n===null))return null;return n}function hm(n){return n.data==="$?"||n.data==="$~"}function fm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function $k(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function ar(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var dm=null;function JT(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return ar(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function ZT(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function ex(n,s,o){switch(s=Ih(o),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function fu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Xa(n)}var or=new Map,tx=new Set;function Nh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ci=he.d;he.d={f:Kk,r:Yk,D:Qk,C:Xk,L:Wk,m:Jk,X:eM,S:Zk,M:tM};function Kk(){var n=Ci.f(),s=Eh();return n||s}function Yk(n){var s=Xn(n);s!==null&&s.tag===5&&s.type==="form"?vE(s):Ci.r(n)}var Do=typeof document>"u"?null:document;function nx(n,s,o){var u=Do;if(u&&typeof s=="string"&&s){var f=wn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),tx.has(f)||(tx.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),un(s,"link",n),Lt(s),u.head.appendChild(s)))}}function Qk(n){Ci.D(n),nx("dns-prefetch",n,null)}function Xk(n,s){Ci.C(n,s),nx("preconnect",n,s)}function Wk(n,s,o){Ci.L(n,s,o);var u=Do;if(u&&n&&s){var f='link[rel="preload"][as="'+wn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+wn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+wn(o.imageSizes)+'"]')):f+='[href="'+wn(n)+'"]';var m=f;switch(s){case"style":m=ko(n);break;case"script":m=Mo(n)}or.has(m)||(n=b({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),or.set(m,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(du(m))||s==="script"&&u.querySelector(pu(m))||(s=u.createElement("link"),un(s,"link",n),Lt(s),u.head.appendChild(s)))}}function Jk(n,s){Ci.m(n,s);var o=Do;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+wn(u)+'"][href="'+wn(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Mo(n)}if(!or.has(m)&&(n=b({rel:"modulepreload",href:n},s),or.set(m,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(pu(m)))return}u=o.createElement("link"),un(u,"link",n),Lt(u),o.head.appendChild(u)}}}function Zk(n,s,o){Ci.S(n,s,o);var u=Do;if(u&&n){var f=qr(u).hoistableStyles,m=ko(n);s=s||"default";var E=f.get(m);if(!E){var w={loading:0,preload:null};if(E=u.querySelector(du(m)))w.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":s},o),(o=or.get(m))&&pm(n,o);var V=E=u.createElement("link");Lt(V),un(V,"link",n),V._p=new Promise(function(K,te){V.onload=K,V.onerror=te}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Oh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(m,E)}}}function eM(n,s){Ci.X(n,s);var o=Do;if(o&&n){var u=qr(o).hoistableScripts,f=Mo(n),m=u.get(f);m||(m=o.querySelector(pu(f)),m||(n=b({src:n,async:!0},s),(s=or.get(f))&&mm(n,s),m=o.createElement("script"),Lt(m),un(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function tM(n,s){Ci.M(n,s);var o=Do;if(o&&n){var u=qr(o).hoistableScripts,f=Mo(n),m=u.get(f);m||(m=o.querySelector(pu(f)),m||(n=b({src:n,async:!0,type:"module"},s),(s=or.get(f))&&mm(n,s),m=o.createElement("script"),Lt(m),un(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function rx(n,s,o,u){var f=(f=Q.current)?Nh(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ko(o.href),o=qr(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=ko(o.href);var m=qr(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(du(n)))&&!m._p&&(E.instance=m,E.state.loading=5),or.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},or.set(n,o),m||nM(f,n,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Mo(o),o=qr(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function ko(n){return'href="'+wn(n)+'"'}function du(n){return'link[rel="stylesheet"]['+n+"]"}function ix(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function nM(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),un(s,"link",o),Lt(s),n.head.appendChild(s))}function Mo(n){return'[src="'+wn(n)+'"]'}function pu(n){return"script[async]"+n}function sx(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+wn(o.href)+'"]');if(u)return s.instance=u,Lt(u),u;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Lt(u),un(u,"style",f),Oh(u,o.precedence,n),s.instance=u;case"stylesheet":f=ko(o.href);var m=n.querySelector(du(f));if(m)return s.state.loading|=4,s.instance=m,Lt(m),m;u=ix(o),(f=or.get(f))&&pm(u,f),m=(n.ownerDocument||n).createElement("link"),Lt(m);var E=m;return E._p=new Promise(function(w,V){E.onload=w,E.onerror=V}),un(m,"link",u),s.state.loading|=4,Oh(m,o.precedence,n),s.instance=m;case"script":return m=Mo(o.src),(f=n.querySelector(pu(m)))?(s.instance=f,Lt(f),f):(u=o,(f=or.get(m))&&(u=b({},o),mm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Lt(f),un(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Oh(u,o.precedence,n));return s.instance}function Oh(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var w=u[E];if(w.dataset.precedence===s)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function pm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function mm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Dh=null;function ax(n,s,o){if(Dh===null){var u=new Map,f=Dh=new Map;f.set(o,u)}else f=Dh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[Lr]||m[Pt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(s)||"";E=n+E;var w=u.get(E);w?w.push(m):u.set(E,[m])}}return u}function ox(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function rM(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function lx(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function iM(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=ko(u.href),m=s.querySelector(du(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=kh.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=m,Lt(m);return}m=s.ownerDocument||s,u=ix(u),(f=or.get(f))&&pm(u,f),m=m.createElement("link"),Lt(m);var E=m;E._p=new Promise(function(w,V){E.onload=w,E.onerror=V}),un(m,"link",u),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=kh.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var gm=0;function sM(n,s){return n.stylesheets&&n.count===0&&jh(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&jh(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+s);0<n.imgBytes&&gm===0&&(gm=62500*Uk());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&jh(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>gm?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function kh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Mh=null;function jh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Mh=new Map,s.forEach(aM,n),Mh=null,kh.call(n))}function aM(n,s){if(!(s.state.loading&4)){var o=Mh.get(n);if(o)var u=o.get(null);else{o=new Map,Mh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,f),o.set(E,f),this.count++,u=kh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var mu={$$typeof:W,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function oM(n,s,o,u,f,m,E,w,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.hiddenUpdates=Vr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function ux(n,s,o,u,f,m,E,w,V,K,te,se){return n=new oM(n,s,o,E,V,K,te,se,w),s=1,m===!0&&(s|=24),m=Ln(3,null,null,s),n.current=m,m.stateNode=n,s=Qd(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},Zd(m),n}function cx(n){return n?(n=co,n):co}function hx(n,s,o,u,f,m){f=cx(f),u.context===null?u.context=f:u.pendingContext=f,u=ss(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=as(n,u,s),o!==null&&(On(o,n,s),Kl(o,n,s))}function fx(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function ym(n,s){fx(n,s),(n=n.alternate)&&fx(n,s)}function dx(n){if(n.tag===13||n.tag===31){var s=la(n,67108864);s!==null&&On(s,n,67108864),ym(n,67108864)}}function px(n){if(n.tag===13||n.tag===31){var s=Fn();s=Xs(s);var o=la(n,s);o!==null&&On(o,n,s),ym(n,s)}}var Vh=!0;function lM(n,s,o,u){var f=ee.T;ee.T=null;var m=he.p;try{he.p=2,vm(n,s,o,u)}finally{he.p=m,ee.T=f}}function uM(n,s,o,u){var f=ee.T;ee.T=null;var m=he.p;try{he.p=8,vm(n,s,o,u)}finally{he.p=m,ee.T=f}}function vm(n,s,o,u){if(Vh){var f=_m(u);if(f===null)im(n,s,u,Ph,o),gx(n,u);else if(hM(f,n,s,o,u))u.stopPropagation();else if(gx(n,u),s&4&&-1<cM.indexOf(n)){for(;f!==null;){var m=Xn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Mr(m.pendingLanes);if(E!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var V=1<<31-It(E);w.entanglements[1]|=V,E&=~V}Zr(m),(st&6)===0&&(_h=Mt()+500,uu(0))}}break;case 31:case 13:w=la(m,2),w!==null&&On(w,m,2),Eh(),ym(m,2)}if(m=_m(u),m===null&&im(n,s,u,Ph,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else im(n,s,u,null,o)}}function _m(n){return n=Wn(n),bm(n)}var Ph=null;function bm(n){if(Ph=null,n=Ur(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Ph=n,null}function mx(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yn()){case Hs:return 2;case Hi:return 8;case En:case $a:return 32;case Gs:return 268435456;default:return 32}default:return 32}}var Em=!1,ys=null,vs=null,_s=null,gu=new Map,yu=new Map,bs=[],cM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gx(n,s){switch(n){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":gu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(s.pointerId)}}function vu(n,s,o,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Xn(s),s!==null&&dx(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function hM(n,s,o,u,f){switch(s){case"focusin":return ys=vu(ys,n,s,o,u,f),!0;case"dragenter":return vs=vu(vs,n,s,o,u,f),!0;case"mouseover":return _s=vu(_s,n,s,o,u,f),!0;case"pointerover":var m=f.pointerId;return gu.set(m,vu(gu.get(m)||null,n,s,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,yu.set(m,vu(yu.get(m)||null,n,s,o,u,f)),!0}return!1}function yx(n){var s=Ur(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,dr(n.priority,function(){px(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,dr(n.priority,function(){px(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Lh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=_m(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Ol=u,o.target.dispatchEvent(u),Ol=null}else return s=Xn(o),s!==null&&dx(s),n.blockedOn=o,!1;s.shift()}return!0}function vx(n,s,o){Lh(n)&&o.delete(s)}function fM(){Em=!1,ys!==null&&Lh(ys)&&(ys=null),vs!==null&&Lh(vs)&&(vs=null),_s!==null&&Lh(_s)&&(_s=null),gu.forEach(vx),yu.forEach(vx)}function Uh(n,s){n.blockedOn===s&&(n.blockedOn=null,Em||(Em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fM)))}var qh=null;function _x(n){qh!==n&&(qh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qh===n&&(qh=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(bm(u||o)===null)continue;break}var m=Xn(o);m!==null&&(n.splice(s,3),s-=3,_p(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function jo(n){function s(V){return Uh(V,n)}ys!==null&&Uh(ys,n),vs!==null&&Uh(vs,n),_s!==null&&Uh(_s,n),gu.forEach(s),yu.forEach(s);for(var o=0;o<bs.length;o++){var u=bs[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<bs.length&&(o=bs[0],o.blockedOn===null);)yx(o),o.blockedOn===null&&bs.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],E=f[en]||null;if(typeof m=="function")E||_x(o);else if(E){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[en]||null)w=E.formAction;else if(bm(f)!==null)continue}else w=E.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),_x(o)}}}function bx(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Tm(n){this._internalRoot=n}zh.prototype.render=Tm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Fn();hx(o,u,n,s,null,null)},zh.prototype.unmount=Tm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;hx(n.current,2,null,n,null,null),Eh(),s[Pr]=null}};function zh(n){this._internalRoot=n}zh.prototype.unstable_scheduleHydration=function(n){if(n){var s=Ec();n={blockedOn:null,target:n,priority:s};for(var o=0;o<bs.length&&s!==0&&s<bs[o].priority;o++);bs.splice(o,0,n),o===0&&yx(n)}};var Ex=e.version;if(Ex!=="19.2.4")throw Error(i(527,Ex,"19.2.4"));he.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var dM={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{jt=Bh.inject(dM),vt=Bh}catch{}}return Au.createRoot=function(n,s){if(!a(n))throw Error(i(299));var o=!1,u="",f=CE,m=IE,E=NE;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=ux(n,1,!1,null,null,o,u,null,f,m,E,bx),n[Pr]=s.current,rm(n),new Tm(s)},Au.hydrateRoot=function(n,s,o){if(!a(n))throw Error(i(299));var u=!1,f="",m=CE,E=IE,w=NE,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),s=ux(n,1,!0,s,o??null,u,f,V,m,E,w,bx),s.context=cx(null),o=s.current,u=Fn(),u=Xs(u),f=ss(u),f.callback=null,as(o,f,u),o=u,s.current.lanes=o,Ys(s,o),Zr(s),n[Pr]=s.current,rm(n),new zh(s)},Au.version="19.2.4",Au}var DC;function FB(){if(DC)return Fv.exports;DC=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fv.exports=BB(),Fv.exports}var HB=FB();function yn(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var GB=typeof Symbol=="function"&&Symbol.observable||"@@observable",kC=GB,$v=()=>Math.random().toString(36).substring(7).split("").join("."),$B={INIT:`@@redux/INIT${$v()}`,REPLACE:`@@redux/REPLACE${$v()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$v()}`},Pf=$B;function KB(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function wD(r,e,t){if(typeof r!="function")throw new Error(yn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(yn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(yn(1));return t(wD)(r,e)}let i=r,a=e,l=new Map,c=l,d=0,p=!1;function g(){c===l&&(c=new Map,l.forEach((k,F)=>{c.set(F,k)}))}function v(){if(p)throw new Error(yn(3));return a}function b(k){if(typeof k!="function")throw new Error(yn(4));if(p)throw new Error(yn(5));let F=!0;g();const B=d++;return c.set(B,k),function(){if(F){if(p)throw new Error(yn(6));F=!1,g(),c.delete(B),l=null}}}function x(k){if(!KB(k))throw new Error(yn(7));if(typeof k.type>"u")throw new Error(yn(8));if(typeof k.type!="string")throw new Error(yn(17));if(p)throw new Error(yn(9));try{p=!0,a=i(a,k)}finally{p=!1}return(l=c).forEach(B=>{B()}),k}function S(k){if(typeof k!="function")throw new Error(yn(10));i=k,x({type:Pf.REPLACE})}function M(){const k=b;return{subscribe(F){if(typeof F!="object"||F===null)throw new Error(yn(11));function B(){const le=F;le.next&&le.next(v())}return B(),{unsubscribe:k(B)}},[kC](){return this}}}return x({type:Pf.INIT}),{dispatch:x,subscribe:b,getState:v,replaceReducer:S,[kC]:M}}function Ko(r,e,t){return wD(r,e,t)}function YB(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:Pf.INIT})>"u")throw new Error(yn(12));if(typeof t(void 0,{type:Pf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yn(13))})}function QB(r){const e=Object.keys(r),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof r[c]=="function"&&(t[c]=r[c])}const i=Object.keys(t);let a;try{YB(t)}catch(l){a=l}return function(c={},d){if(a)throw a;let p=!1;const g={};for(let v=0;v<i.length;v++){const b=i[v],x=t[b],S=c[b],M=x(S,d);if(typeof M>"u")throw d&&d.type,new Error(yn(14));g[b]=M,p=p||M!==S}return p=p||i.length!==Object.keys(c).length,p?g:c}}var Kv,MC;function XB(){if(MC)return Kv;MC=1;function r(e,t){for(var i=-1,a=e==null?0:e.length;++i<a&&t(e[i],i,e)!==!1;);return e}return Kv=r,Kv}var Yv,jC;function _l(){if(jC)return Yv;jC=1;var r=X0(),e=$f();function t(i,a,l,c){var d=!l;l||(l={});for(var p=-1,g=a.length;++p<g;){var v=a[p],b=c?c(l[v],i[v],v,l,i):void 0;b===void 0&&(b=i[v]),d?e(l,v,b):r(l,v,b)}return l}return Yv=t,Yv}var Qv,VC;function WB(){if(VC)return Qv;VC=1;var r=_l(),e=za();function t(i,a){return i&&r(a,e(a),i)}return Qv=t,Qv}var Xv,PC;function JB(){if(PC)return Xv;PC=1;function r(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}return Xv=r,Xv}var Wv,LC;function ZB(){if(LC)return Wv;LC=1;var r=hr(),e=L0(),t=JB(),i=Object.prototype,a=i.hasOwnProperty;function l(c){if(!r(c))return t(c);var d=e(c),p=[];for(var g in c)g=="constructor"&&(d||!a.call(c,g))||p.push(g);return p}return Wv=l,Wv}var Jv,UC;function yc(){if(UC)return Jv;UC=1;var r=c2(),e=ZB(),t=ll();function i(a){return t(a)?r(a,!0):e(a)}return Jv=i,Jv}var Zv,qC;function eF(){if(qC)return Zv;qC=1;var r=_l(),e=yc();function t(i,a){return i&&r(a,e(a),i)}return Zv=t,Zv}var Mu={exports:{}};Mu.exports;var zC;function AD(){return zC||(zC=1,(function(r,e){var t=Dr(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,l=a&&a.exports===i,c=l?t.Buffer:void 0,d=c?c.allocUnsafe:void 0;function p(g,v){if(v)return g.slice();var b=g.length,x=d?d(b):new g.constructor(b);return g.copy(x),x}r.exports=p})(Mu,Mu.exports)),Mu.exports}var e_,BC;function tF(){if(BC)return e_;BC=1;var r=_l(),e=B0();function t(i,a){return r(i,e(i),a)}return e_=t,e_}var t_,FC;function Zb(){if(FC)return t_;FC=1;var r=h2(),e=r(Object.getPrototypeOf,Object);return t_=e,t_}var n_,HC;function RD(){if(HC)return n_;HC=1;var r=nd(),e=Zb(),t=B0(),i=g2(),a=Object.getOwnPropertySymbols,l=a?function(c){for(var d=[];c;)r(d,t(c)),c=e(c);return d}:i;return n_=l,n_}var r_,GC;function nF(){if(GC)return r_;GC=1;var r=_l(),e=RD();function t(i,a){return r(i,e(i),a)}return r_=t,r_}var i_,$C;function CD(){if($C)return i_;$C=1;var r=p2(),e=RD(),t=yc();function i(a){return r(a,t,e)}return i_=i,i_}var s_,KC;function rF(){if(KC)return s_;KC=1;var r=Object.prototype,e=r.hasOwnProperty;function t(i){var a=i.length,l=new i.constructor(a);return a&&typeof i[0]=="string"&&e.call(i,"index")&&(l.index=i.index,l.input=i.input),l}return s_=t,s_}var a_,YC;function e1(){if(YC)return a_;YC=1;var r=d2();function e(t){var i=new t.constructor(t.byteLength);return new r(i).set(new r(t)),i}return a_=e,a_}var o_,QC;function iF(){if(QC)return o_;QC=1;var r=e1();function e(t,i){var a=i?r(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}return o_=e,o_}var l_,XC;function sF(){if(XC)return l_;XC=1;var r=/\w*$/;function e(t){var i=new t.constructor(t.source,r.exec(t));return i.lastIndex=t.lastIndex,i}return l_=e,l_}var u_,WC;function aF(){if(WC)return u_;WC=1;var r=ol(),e=r?r.prototype:void 0,t=e?e.valueOf:void 0;function i(a){return t?Object(t.call(a)):{}}return u_=i,u_}var c_,JC;function ID(){if(JC)return c_;JC=1;var r=e1();function e(t,i){var a=i?r(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}return c_=e,c_}var h_,ZC;function oF(){if(ZC)return h_;ZC=1;var r=e1(),e=iF(),t=sF(),i=aF(),a=ID(),l="[object Boolean]",c="[object Date]",d="[object Map]",p="[object Number]",g="[object RegExp]",v="[object Set]",b="[object String]",x="[object Symbol]",S="[object ArrayBuffer]",M="[object DataView]",P="[object Float32Array]",k="[object Float64Array]",F="[object Int8Array]",B="[object Int16Array]",W="[object Int32Array]",le="[object Uint8Array]",ce="[object Uint8ClampedArray]",oe="[object Uint16Array]",I="[object Uint32Array]";function C(O,j,D){var L=O.constructor;switch(j){case S:return r(O);case l:case c:return new L(+O);case M:return e(O,D);case P:case k:case F:case B:case W:case le:case ce:case oe:case I:return a(O,D);case d:return new L;case p:case b:return new L(O);case g:return t(O);case v:return new L;case x:return i(O)}}return h_=C,h_}var f_,eI;function lF(){if(eI)return f_;eI=1;var r=hr(),e=Object.create,t=(function(){function i(){}return function(a){if(!r(a))return{};if(e)return e(a);i.prototype=a;var l=new i;return i.prototype=void 0,l}})();return f_=t,f_}var d_,tI;function ND(){if(tI)return d_;tI=1;var r=lF(),e=Zb(),t=L0();function i(a){return typeof a.constructor=="function"&&!t(a)?r(e(a)):{}}return d_=i,d_}var p_,nI;function uF(){if(nI)return p_;nI=1;var r=rd(),e=ui(),t="[object Map]";function i(a){return e(a)&&r(a)==t}return p_=i,p_}var m_,rI;function cF(){if(rI)return m_;rI=1;var r=uF(),e=Xf(),t=V0(),i=t&&t.isMap,a=i?e(i):r;return m_=a,m_}var g_,iI;function hF(){if(iI)return g_;iI=1;var r=rd(),e=ui(),t="[object Set]";function i(a){return e(a)&&r(a)==t}return g_=i,g_}var y_,sI;function fF(){if(sI)return y_;sI=1;var r=hF(),e=Xf(),t=V0(),i=t&&t.isSet,a=i?e(i):r;return y_=a,y_}var v_,aI;function OD(){if(aI)return v_;aI=1;var r=td(),e=XB(),t=X0(),i=WB(),a=eF(),l=AD(),c=Q0(),d=tF(),p=nF(),g=y2(),v=CD(),b=rd(),x=rF(),S=oF(),M=ND(),P=pn(),k=Yf(),F=cF(),B=hr(),W=fF(),le=za(),ce=yc(),oe=1,I=2,C=4,O="[object Arguments]",j="[object Array]",D="[object Boolean]",L="[object Date]",N="[object Error]",Re="[object Function]",Ne="[object GeneratorFunction]",ee="[object Map]",he="[object Number]",ye="[object Object]",Le="[object RegExp]",Fe="[object Set]",U="[object String]",ne="[object Symbol]",ue="[object WeakMap]",de="[object ArrayBuffer]",X="[object DataView]",Q="[object Float32Array]",pe="[object Float64Array]",Me="[object Int8Array]",be="[object Int16Array]",je="[object Int32Array]",Be="[object Uint8Array]",we="[object Uint8ClampedArray]",He="[object Uint16Array]",ze="[object Uint32Array]",Ae={};Ae[O]=Ae[j]=Ae[de]=Ae[X]=Ae[D]=Ae[L]=Ae[Q]=Ae[pe]=Ae[Me]=Ae[be]=Ae[je]=Ae[ee]=Ae[he]=Ae[ye]=Ae[Le]=Ae[Fe]=Ae[U]=Ae[ne]=Ae[Be]=Ae[we]=Ae[He]=Ae[ze]=!0,Ae[N]=Ae[Re]=Ae[ue]=!1;function ot(Ue,$n,mt,Ct,Mn,Kn){var Xt,Mt=$n&oe,Yn=$n&I,Hs=$n&C;if(mt&&(Xt=Mn?mt(Ue,Ct,Mn,Kn):mt(Ue)),Xt!==void 0)return Xt;if(!B(Ue))return Ue;var Hi=P(Ue);if(Hi){if(Xt=x(Ue),!Mt)return c(Ue,Xt)}else{var En=b(Ue),$a=En==Re||En==Ne;if(k(Ue))return l(Ue,Mt);if(En==ye||En==O||$a&&!Mn){if(Xt=Yn||$a?{}:M(Ue),!Mt)return Yn?p(Ue,a(Xt,Ue)):d(Ue,i(Xt,Ue))}else{if(!Ae[En])return Mn?Ue:{};Xt=S(Ue,En,Mt)}}Kn||(Kn=new r);var Gs=Kn.get(Ue);if(Gs)return Gs;Kn.set(Ue,Xt),W(Ue)?Ue.forEach(function(jt){Xt.add(ot(jt,$n,mt,jt,Ue,Kn))}):F(Ue)&&Ue.forEach(function(jt,vt){Xt.set(vt,ot(jt,$n,mt,vt,Ue,Kn))});var Ka=Hs?Yn?v:g:Yn?ce:le,$s=Hi?void 0:Ka(Ue);return e($s||Ue,function(jt,vt){$s&&(vt=jt,jt=Ue[vt]),t(Xt,vt,ot(jt,$n,mt,vt,Ue,Kn))}),Xt}return v_=ot,v_}var __,oI;function dF(){if(oI)return __;oI=1;var r=OD(),e=4;function t(i){return r(i,e)}return __=t,__}var pF=dF();const Hn=Qt(pF);var b_,lI;function mF(){if(lI)return b_;lI=1;function r(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return b_=r,b_}var E_,uI;function gF(){if(uI)return E_;uI=1;function r(e,t,i){var a=-1,l=e.length;t<0&&(t=-t>l?0:l+t),i=i>l?l:i,i<0&&(i+=l),l=t>i?0:i-t>>>0,t>>>=0;for(var c=Array(l);++a<l;)c[a]=e[a+t];return c}return E_=r,E_}var T_,cI;function yF(){if(cI)return T_;cI=1;var r=sd(),e=gF();function t(i,a){return a.length<2?i:r(i,e(a,0,-1))}return T_=t,T_}var x_,hI;function DD(){if(hI)return x_;hI=1;var r=ac(),e=mF(),t=yF(),i=ul(),a=Object.prototype,l=a.hasOwnProperty;function c(d,p){p=r(p,d);var g=-1,v=p.length;if(!v)return!0;for(var b=d==null||typeof d!="object"&&typeof d!="function";++g<v;){var x=p[g];if(typeof x=="string"){if(x==="__proto__"&&!l.call(d,"__proto__"))return!1;if(x==="constructor"&&g+1<v&&typeof p[g+1]=="string"&&p[g+1]==="prototype"){if(b&&g===0)continue;return!1}}}var S=t(d,p);return S==null||delete S[i(e(p))]}return x_=c,x_}var S_,fI;function vF(){if(fI)return S_;fI=1;var r=DD();function e(t,i){return t==null?!0:r(t,i)}return S_=e,S_}var _F=vF();const Wh=Qt(_F),bF=(r={},e)=>{switch(e.type){case"TOGGLE_ITEM":{const t=Hn(r),i=e.game==="warframe"&&e.category==="resets";return ju(t,[e.game,e.category,e.title])?Wh(t,[e.game,e.category,e.title]):xa(t,[e.game,e.category,e.title],i?Date.now():!0),t}case"CLEAR_ITEMS":{const t=Hn(r);return e.titles&&e.titles.length&&e.titles.forEach(i=>{ju(t,[e.game,e.category,i])&&Wh(t,[e.game,e.category,i])}),t}case"ADD_BUILD_ITEM":{const t=Hn(r),i=e.item.id||e.item.title;return xa(t,[e.game,e.category,i],e.item),t}case"REMOVE_BUILD_ITEM":{const t=Hn(r);return Wh(t,[e.game,e.category,e.title]),t}case"UPDATE_BUILD_ITEM":{const t=Hn(r),i=e.title,a=e.item.id||e.item.title;return ju(t,[e.game,e.category,i])&&(i!==a&&Wh(t,[e.game,e.category,i]),xa(t,[e.game,e.category,a],e.item)),t}case"UPLOAD_STATE":return e.state&&e.state.gameConfig?e.state.gameConfig:r;default:return r}},EF=(r=Jt.SHOW_ALL,e)=>e.type==="SET_VISIBILITY_FILTER"?e.filter:r,TF=(r=Jt.SHOW_ALL,e)=>e.type==="SET_RELIC_VISIBILITY"?e.filter:r,xF=(r="",e)=>e.type==="SET_SEARCH_VALUE"?e.value:r,SF=()=>{try{const r=localStorage.getItem("state");return r===null?void 0:JSON.parse(r)}catch{return}},wF=(r={state:"backup"},e)=>{if(e.type==="DOWNLOAD_STATE"){const t=new Blob([JSON.stringify(SF(),null," ")],{type:"text/json;charset=utf-8"});return xD.saveAs(t,"state.json"),r}else return r};var w_,dI;function kD(){if(dI)return w_;dI=1;var r=Ua(),e=Zb(),t=ui(),i="[object Object]",a=Function.prototype,l=Object.prototype,c=a.toString,d=l.hasOwnProperty,p=c.call(Object);function g(v){if(!t(v)||r(v)!=i)return!1;var b=e(v);if(b===null)return!0;var x=d.call(b,"constructor")&&b.constructor;return typeof x=="function"&&x instanceof x&&c.call(x)==p}return w_=g,w_}var A_,pI;function AF(){if(pI)return A_;pI=1;var r=kD();function e(t){return r(t)?void 0:t}return A_=e,A_}var R_,mI;function RF(){if(mI)return R_;mI=1;var r=$0();function e(t){var i=t==null?0:t.length;return i?r(t,1):[]}return R_=e,R_}var C_,gI;function CF(){if(gI)return C_;gI=1;var r=RF(),e=R2(),t=C2();function i(a){return t(e(a,void 0,r),a+"")}return C_=i,C_}var I_,yI;function IF(){if(yI)return I_;yI=1;var r=id(),e=OD(),t=DD(),i=ac(),a=_l(),l=AF(),c=CF(),d=CD(),p=1,g=2,v=4,b=c(function(x,S){var M={};if(x==null)return M;var P=!1;S=r(S,function(F){return F=i(F,x),P||(P=F.length>1),F}),a(x,d(x),M),P&&(M=e(M,p|g|v,l));for(var k=S.length;k--;)t(M,S[k]);return M});return I_=b,I_}var NF=IF();const t1=Qt(NF);function Ru(r){const e=r.item&&r.item.title?r.item.title:r.title;return`${r.game}-${r.category}-${e}`}const OF=(r={},e)=>{switch(e.type){case"ADD_ITEM":{const t=Hn(r),i=e.item;return i.timestamp=Date.now(),t[Ru(e)]=i,t}case"REMOVE_ITEM":{const t=Hn(r);return t1(t,Ru(e))}case"INCREMENT_ITEM":{const t=Ru(e);if(!r[t])return r;const i=Hn(r);return i[t].count=(r[t].count?r[t].count:0)+1,i}case"DECREMENT_ITEM":{const t=Ru(e);if(!r[t])return r;const i=Hn(r);return r[t].count>0&&(i[t].count=(r[t].count?r[t].count:0)-1),i}case"UPDATE_ITEM":{const t=Ru(e);if(!r[t])return r;const i=Hn(r);return i[t].notes=e.notes,e.count!==void 0&&(i[t].count=e.count),i}default:return r}};function vI(r){const e=r.item&&r.item.title?r.item.title:r.title;return`${r.game}-${r.category}-${e}`}const DF=(r={},e)=>{switch(e.type){case"ADD_VOID_ITEM":{const t=Hn(r),i=e.item;return i.timestamp=Date.now(),t[vI(e)]=i,t}case"REMOVE_VOID_ITEM":{const t=Hn(r);return t1(t,vI(e))}default:return r}};function kF(r){return r.relic&&r.relic.title?r.relic.title:r.title}const MF=(r={},e)=>{switch(e.type){case"TOGGLE_RELIC":{const t=Hn(r),i=kF(e),a=e.relic;if(a.timestamp=Date.now(),!r[i])a.available=!0,t[i]=a;else if(r[i].available===!0)a.available=!1,t[i]=a;else return t1(t,i);return t}default:return r}},Yo=QB({gameConfig:bF,visibilityFilter:EF,relicVisibility:TF,searchFilter:xF,stateBackup:wF,todoItems:OF,voidDrops:DF,markedRelics:MF}),MD=({open:r,onUseCloud:e,onUseLocal:t,onMerge:i,cloudUpdated:a,localUpdated:l})=>r?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-11/12 md:w-3/4 overflow-hidden animate-in fade-in zoom-in duration-200 text-left",children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:y.jsx(ef,{className:"text-2xl text-sky-700"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Sync Conflict Detected"})]}),y.jsxs("div",{className:"space-y-4 text-gray-600",children:[y.jsx("p",{children:"You have data both in the cloud and locally on this device. Which version would you like to use?"}),y.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2 border border-gray-100",children:[y.jsxs("div",{className:"flex justify-between items-center text-lg",children:[y.jsxs("span",{className:"font-medium text-gray-500 flex items-center gap-1.5",children:[y.jsx(ef,{className:"text-xl"})," Cloud data:"]}),y.jsx("span",{className:"text-gray-900",children:a?new Date(a).toLocaleString():"unknown"})]}),y.jsxs("div",{className:"flex justify-between items-center text-lg",children:[y.jsxs("span",{className:"font-medium text-gray-500 flex items-center gap-1.5",children:[y.jsx(Kx,{className:"text-xl"})," Local data:"]}),y.jsx("span",{className:"text-gray-900",children:l?new Date(l).toLocaleString():"recently"})]})]})]})]}),y.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex flex-col gap-2",children:[y.jsxs("button",{onClick:i,className:"flex items-center justify-center gap-2 w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(P5,{className:"text-xl"})," Merge Both"]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[y.jsxs("button",{onClick:e,className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(ef,{className:"text-xl"})," Use Cloud"]}),y.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-2 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(Kx,{className:"text-xl"})," Use Local"]})]})]})]})}):null;MD.propTypes={open:R.bool.isRequired,onUseCloud:R.func.isRequired,onUseLocal:R.func.isRequired,onMerge:R.func.isRequired,cloudUpdated:R.any,localUpdated:R.any};const jD=({errorType:r,errorMessage:e})=>y.jsxs("div",{className:"m-4 p-4 bg-amber-50 border border-amber-200 rounded-lg text-amber-900 shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(Ff,{className:"text-amber-600 text-xl"}),y.jsx("h3",{className:"text-lg font-bold",children:"Cloud Sync Unavailable"})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"font-semibold",children:"Unable to connect to cloud storage."}),y.jsxs("p",{children:["You're currently using ",y.jsx("strong",{children:"local storage only"}),". Your changes will be saved to this browser, but won't sync across devices until cloud access is restored."]}),y.jsx("p",{children:"For now, Sign Out to remove this banner and use local storage only."}),y.jsxs("div",{className:"pt-2",children:[y.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[y.jsx(D0,{className:"text-xl"}),y.jsx("span",{children:"What this means:"})]}),y.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[y.jsx("li",{children:"You can continue using the app normally"}),y.jsx("li",{children:"Your data is saved locally in this browser"}),y.jsx("li",{className:"text-amber-800 font-medium",children:"Changes won't sync to the cloud or other devices"}),y.jsx("li",{className:"text-amber-800 font-medium",children:"Clearing browser data will delete your progress"})]})]}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-amber-200 text-sm text-amber-800/80 italic",children:[y.jsx("strong",{children:"Technical details:"})," ",r==="permission-denied"?"Cloud permissions need to be configured. Contact the app administrator.":e||"Connection to cloud storage failed."]})]})]});jD.propTypes={errorType:R.string,errorMessage:R.string};var N_,_I;function VD(){if(_I)return N_;_I=1;var r=$f(),e=ic();function t(i,a,l){(l!==void 0&&!e(i[a],l)||l===void 0&&!(a in i))&&r(i,a,l)}return N_=t,N_}var O_,bI;function jF(){if(bI)return O_;bI=1;var r=ll(),e=ui();function t(i){return e(i)&&r(i)}return O_=t,O_}var D_,EI;function PD(){if(EI)return D_;EI=1;function r(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}return D_=r,D_}var k_,TI;function VF(){if(TI)return k_;TI=1;var r=_l(),e=yc();function t(i){return r(i,e(i))}return k_=t,k_}var M_,xI;function PF(){if(xI)return M_;xI=1;var r=VD(),e=AD(),t=ID(),i=Q0(),a=ND(),l=Kf(),c=pn(),d=jF(),p=Yf(),g=M0(),v=hr(),b=kD(),x=P0(),S=PD(),M=VF();function P(k,F,B,W,le,ce,oe){var I=S(k,B),C=S(F,B),O=oe.get(C);if(O){r(k,B,O);return}var j=ce?ce(I,C,B+"",k,F,oe):void 0,D=j===void 0;if(D){var L=c(C),N=!L&&p(C),Re=!L&&!N&&x(C);j=C,L||N||Re?c(I)?j=I:d(I)?j=i(I):N?(D=!1,j=e(C,!0)):Re?(D=!1,j=t(C,!0)):j=[]:b(C)||l(C)?(j=I,l(I)?j=M(I):(!v(I)||g(I))&&(j=a(C))):D=!1}D&&(oe.set(C,j),le(j,C,W,ce,oe),oe.delete(C)),r(k,B,j)}return M_=P,M_}var j_,SI;function LF(){if(SI)return j_;SI=1;var r=td(),e=VD(),t=u2(),i=PF(),a=hr(),l=yc(),c=PD();function d(p,g,v,b,x){p!==g&&t(g,function(S,M){if(x||(x=new r),a(S))i(p,g,M,v,d,b,x);else{var P=b?b(c(p,M),S,M+"",p,g,x):void 0;P===void 0&&(P=S),e(p,M,P)}},l)}return j_=d,j_}var V_,wI;function UF(){if(wI)return V_;wI=1;var r=I2(),e=N2();function t(i){return r(function(a,l){var c=-1,d=l.length,p=d>1?l[d-1]:void 0,g=d>2?l[2]:void 0;for(p=i.length>3&&typeof p=="function"?(d--,p):void 0,g&&e(l[0],l[1],g)&&(p=d<3?void 0:p,d=1),a=Object(a);++c<d;){var v=l[c];v&&i(a,v,c,p)}return a})}return V_=t,V_}var P_,AI;function qF(){if(AI)return P_;AI=1;var r=LF(),e=UF(),t=e(function(i,a,l){r(i,a,l)});return P_=t,P_}var zF=qF();const BF=Qt(zF),v0=[{name:"warframe",title:"Warframe",format:"yaml"},{name:"soulframe",title:"Soulframe",format:"yaml"},{name:"remnant",title:"Remnant: From the Ashes"},{name:"remnant2",title:"Remnant 2",format:"yaml"},{name:"nioh2",title:"Nioh 2"},{name:"ff7",title:"Final Fantasy VII Remake"},{name:"ff14",title:"Final Fantasy XIV"},{name:"desperadosiii",title:"Desperados III"},{name:"hades",title:"Hades"},{name:"riskofrain2",title:"Risk of Rain 2"},{name:"moonlighter",title:"Moonlighter"},{name:"demonsouls",title:"Demon's Souls"},{name:"d2",title:"Diablo 2"},{name:"eldenring",title:"Elden Ring"},{name:"lordsofthefallen",title:"Lords of the Fallen",format:"yaml"},{name:"shadowgambit",title:"Shadow Gambit: The Cursed Crew",format:"yaml"},{name:"seaofthieves",title:"Sea of Thieves",format:"yaml"},{name:"arcraiders",title:"Arc Raiders",format:"yaml"}],LD=({initialStore:r,conflictData:e})=>{const[t,i]=z.useState(r),[a,l]=z.useState(!!e),c=async()=>{const g=Ko(Yo,e.cloudState||void 0);g.subscribe(()=>Ii(g.getState())),await Ii(e.cloudState),i(g),l(!1)},d=async()=>{const g=Ko(Yo,e.localState||void 0);g.subscribe(()=>Ii(g.getState())),await Ii(e.localState),i(g),l(!1)},p=async()=>{const g=BF({},e.cloudState,e.localState),v=Ko(Yo,g||void 0);v.subscribe(()=>Ii(v.getState())),await Ii(g),i(v),l(!1)};return y.jsxs(y.Fragment,{children:[a&&y.jsx(MD,{open:a,onUseCloud:c,onUseLocal:d,onMerge:p,cloudUpdated:e?.cloudUpdated,localUpdated:Date.now()}),y.jsx(F_,{store:t,children:y.jsx(Vf,{configs:v0})})]})};LD.propTypes={initialStore:R.object.isRequired,conflictData:R.shape({cloudState:R.object,localState:R.object,cloudUpdated:R.oneOfType([R.instanceOf(Date),R.number,R.string])})};const FF=async()=>{await new Promise(t=>{const i=lb(Ir,()=>{i(),t()})});const r=await IB();if(r&&r._conflict){const t=Ko(Yo,void 0);return{conflict:!0,conflictData:r,store:t}}if(r&&r._error){const t=Ko(Yo,r.localState||void 0);return{error:!0,errorData:r,store:t}}const e=Ko(Yo,r||void 0);return e.subscribe(()=>Ii(e.getState())),{store:e}};FF().then(r=>{const e=document.createElement("div");document.body.appendChild(e);const t=HB.createRoot(e);r.conflict?t.render(y.jsx(LD,{initialStore:r.store,conflictData:r.conflictData})):r.error?t.render(y.jsxs(F_,{store:r.store,children:[y.jsx(jD,{errorType:r.errorData.errorType,errorMessage:r.errorData.errorMessage}),y.jsx(Vf,{configs:v0})]})):t.render(y.jsx(F_,{store:r.store,children:y.jsx(Vf,{configs:v0})}))});
