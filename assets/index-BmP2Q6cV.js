(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var As=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tn(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Tm={exports:{}},vu={};var ET;function Wk(){if(ET)return vu;ET=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:l}}return vu.Fragment=e,vu.jsx=t,vu.jsxs=t,vu}var xT;function Qk(){return xT||(xT=1,Tm.exports=Wk()),Tm.exports}var y=Qk(),Sm={exports:{}},_u={},wm={exports:{}},Am={};var TT;function Xk(){return TT||(TT=1,(function(r){function e(X,ce){var ve=X.length;X.push(ce);e:for(;0<ve;){var Le=ve-1>>>1,Fe=X[Le];if(0<a(Fe,ce))X[Le]=ce,X[ve]=Fe,ve=Le;else break e}}function t(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ce=X[0],ve=X.pop();if(ve!==ce){X[0]=ve;e:for(var Le=0,Fe=X.length,P=Fe>>>1;Le<P;){var ee=2*(Le+1)-1,le=X[ee],fe=ee+1,Te=X[fe];if(0>a(le,ve))fe<Fe&&0>a(Te,le)?(X[Le]=Te,X[fe]=ve,Le=fe):(X[Le]=le,X[ee]=ve,Le=ee);else if(fe<Fe&&0>a(Te,ve))X[Le]=Te,X[fe]=ve,Le=fe;else break e}}return ce}function a(X,ce){var ve=X.sortIndex-ce.sortIndex;return ve!==0?ve:X.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();r.unstable_now=function(){return c.now()-f}}var p=[],m=[],v=1,b=null,T=3,S=!1,O=!1,M=!1,k=!1,B=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ae(X){for(var ce=t(m);ce!==null;){if(ce.callback===null)i(m);else if(ce.startTime<=X)i(m),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=t(m)}}function ue(X){if(M=!1,ae(X),!O)if(t(p)!==null)O=!0,oe||(oe=!0,L());else{var ce=t(m);ce!==null&&Ve(ue,ce.startTime-X)}}var oe=!1,R=-1,C=5,N=-1;function j(){return k?!0:!(r.unstable_now()-N<C)}function D(){if(k=!1,oe){var X=r.unstable_now();N=X;var ce=!0;try{e:{O=!1,M&&(M=!1,z(R),R=-1),S=!0;var ve=T;try{t:{for(ae(X),b=t(p);b!==null&&!(b.expirationTime>X&&j());){var Le=b.callback;if(typeof Le=="function"){b.callback=null,T=b.priorityLevel;var Fe=Le(b.expirationTime<=X);if(X=r.unstable_now(),typeof Fe=="function"){b.callback=Fe,ae(X),ce=!0;break t}b===t(p)&&i(p),ae(X)}else i(p);b=t(p)}if(b!==null)ce=!0;else{var P=t(m);P!==null&&Ve(ue,P.startTime-X),ce=!1}}break e}finally{b=null,T=ve,S=!1}ce=void 0}}finally{ce?L():oe=!1}}}var L;if(typeof Y=="function")L=function(){Y(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ce=I.port2;I.port1.onmessage=D,L=function(){Ce.postMessage(null)}}else L=function(){B(D,0)};function Ve(X,ce){R=B(function(){X(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(X){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var ve=T;T=ce;try{return X()}finally{T=ve}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ve=T;T=X;try{return ce()}finally{T=ve}},r.unstable_scheduleCallback=function(X,ce,ve){var Le=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Le+ve:Le):ve=Le,X){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ve+Fe,X={id:v++,callback:ce,priorityLevel:X,startTime:ve,expirationTime:Fe,sortIndex:-1},ve>Le?(X.sortIndex=ve,e(m,X),t(p)===null&&X===t(m)&&(M?(z(R),R=-1):M=!0,Ve(ue,ve-Le))):(X.sortIndex=Fe,e(p,X),O||S||(O=!0,oe||(oe=!0,L()))),X},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(X){var ce=T;return function(){var ve=T;T=ce;try{return X.apply(this,arguments)}finally{T=ve}}}})(Am)),Am}var ST;function Jk(){return ST||(ST=1,wm.exports=Xk()),wm.exports}var Rm={exports:{}},Me={};var wT;function Zk(){if(wT)return Me;wT=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),T=Symbol.iterator;function S(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,k={};function B(P,ee,le){this.props=P,this.context=ee,this.refs=k,this.updater=le||O}B.prototype.isReactComponent={},B.prototype.setState=function(P,ee){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ee,"setState")},B.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function z(){}z.prototype=B.prototype;function Y(P,ee,le){this.props=P,this.context=ee,this.refs=k,this.updater=le||O}var ae=Y.prototype=new z;ae.constructor=Y,M(ae,B.prototype),ae.isPureReactComponent=!0;var ue=Array.isArray;function oe(){}var R={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function N(P,ee,le){var fe=le.ref;return{$$typeof:r,type:P,key:ee,ref:fe!==void 0?fe:null,props:le}}function j(P,ee){return N(P.type,ee,P.props)}function D(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function L(P){var ee={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(le){return ee[le]})}var I=/\/+/g;function Ce(P,ee){return typeof P=="object"&&P!==null&&P.key!=null?L(""+P.key):ee.toString(36)}function Ve(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(oe,oe):(P.status="pending",P.then(function(ee){P.status==="pending"&&(P.status="fulfilled",P.value=ee)},function(ee){P.status==="pending"&&(P.status="rejected",P.reason=ee)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function X(P,ee,le,fe,Te){var Ae=typeof P;(Ae==="undefined"||Ae==="boolean")&&(P=null);var Pe=!1;if(P===null)Pe=!0;else switch(Ae){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(P.$$typeof){case r:case e:Pe=!0;break;case v:return Pe=P._init,X(Pe(P._payload),ee,le,fe,Te)}}if(Pe)return Te=Te(P),Pe=fe===""?"."+Ce(P,0):fe,ue(Te)?(le="",Pe!=null&&(le=Pe.replace(I,"$&/")+"/"),X(Te,ee,le,"",function(ie){return ie})):Te!=null&&(D(Te)&&(Te=j(Te,le+(Te.key==null||P&&P.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+Pe)),ee.push(Te)),1;Pe=0;var bt=fe===""?".":fe+":";if(ue(P))for(var Ke=0;Ke<P.length;Ke++)fe=P[Ke],Ae=bt+Ce(fe,Ke),Pe+=X(fe,ee,le,Ae,Te);else if(Ke=S(P),typeof Ke=="function")for(P=Ke.call(P),Ke=0;!(fe=P.next()).done;)fe=fe.value,Ae=bt+Ce(fe,Ke++),Pe+=X(fe,ee,le,Ae,Te);else if(Ae==="object"){if(typeof P.then=="function")return X(Ve(P),ee,le,fe,Te);throw ee=String(P),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function ce(P,ee,le){if(P==null)return P;var fe=[],Te=0;return X(P,fe,"","",function(Ae){return ee.call(le,Ae,Te++)}),fe}function ve(P){if(P._status===-1){var ee=P._result;ee=ee(),ee.then(function(le){(P._status===0||P._status===-1)&&(P._status=1,P._result=le)},function(le){(P._status===0||P._status===-1)&&(P._status=2,P._result=le)}),P._status===-1&&(P._status=0,P._result=ee)}if(P._status===1)return P._result.default;throw P._result}var Le=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Fe={map:ce,forEach:function(P,ee,le){ce(P,function(){ee.apply(this,arguments)},le)},count:function(P){var ee=0;return ce(P,function(){ee++}),ee},toArray:function(P){return ce(P,function(ee){return ee})||[]},only:function(P){if(!D(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Me.Activity=b,Me.Children=Fe,Me.Component=B,Me.Fragment=t,Me.Profiler=a,Me.PureComponent=Y,Me.StrictMode=i,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Me.__COMPILER_RUNTIME={__proto__:null,c:function(P){return R.H.useMemoCache(P)}},Me.cache=function(P){return function(){return P.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(P,ee,le){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var fe=M({},P.props),Te=P.key;if(ee!=null)for(Ae in ee.key!==void 0&&(Te=""+ee.key),ee)!C.call(ee,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ee.ref===void 0||(fe[Ae]=ee[Ae]);var Ae=arguments.length-2;if(Ae===1)fe.children=le;else if(1<Ae){for(var Pe=Array(Ae),bt=0;bt<Ae;bt++)Pe[bt]=arguments[bt+2];fe.children=Pe}return N(P.type,Te,fe)},Me.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Me.createElement=function(P,ee,le){var fe,Te={},Ae=null;if(ee!=null)for(fe in ee.key!==void 0&&(Ae=""+ee.key),ee)C.call(ee,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Te[fe]=ee[fe]);var Pe=arguments.length-2;if(Pe===1)Te.children=le;else if(1<Pe){for(var bt=Array(Pe),Ke=0;Ke<Pe;Ke++)bt[Ke]=arguments[Ke+2];Te.children=bt}if(P&&P.defaultProps)for(fe in Pe=P.defaultProps,Pe)Te[fe]===void 0&&(Te[fe]=Pe[fe]);return N(P,Ae,Te)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(P){return{$$typeof:f,render:P}},Me.isValidElement=D,Me.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:ve}},Me.memo=function(P,ee){return{$$typeof:m,type:P,compare:ee===void 0?null:ee}},Me.startTransition=function(P){var ee=R.T,le={};R.T=le;try{var fe=P(),Te=R.S;Te!==null&&Te(le,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(oe,Le)}catch(Ae){Le(Ae)}finally{ee!==null&&le.types!==null&&(ee.types=le.types),R.T=ee}},Me.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Me.use=function(P){return R.H.use(P)},Me.useActionState=function(P,ee,le){return R.H.useActionState(P,ee,le)},Me.useCallback=function(P,ee){return R.H.useCallback(P,ee)},Me.useContext=function(P){return R.H.useContext(P)},Me.useDebugValue=function(){},Me.useDeferredValue=function(P,ee){return R.H.useDeferredValue(P,ee)},Me.useEffect=function(P,ee){return R.H.useEffect(P,ee)},Me.useEffectEvent=function(P){return R.H.useEffectEvent(P)},Me.useId=function(){return R.H.useId()},Me.useImperativeHandle=function(P,ee,le){return R.H.useImperativeHandle(P,ee,le)},Me.useInsertionEffect=function(P,ee){return R.H.useInsertionEffect(P,ee)},Me.useLayoutEffect=function(P,ee){return R.H.useLayoutEffect(P,ee)},Me.useMemo=function(P,ee){return R.H.useMemo(P,ee)},Me.useOptimistic=function(P,ee){return R.H.useOptimistic(P,ee)},Me.useReducer=function(P,ee,le){return R.H.useReducer(P,ee,le)},Me.useRef=function(P){return R.H.useRef(P)},Me.useState=function(P){return R.H.useState(P)},Me.useSyncExternalStore=function(P,ee,le){return R.H.useSyncExternalStore(P,ee,le)},Me.useTransition=function(){return R.H.useTransition()},Me.version="19.2.4",Me}var AT;function Uf(){return AT||(AT=1,Rm.exports=Zk()),Rm.exports}var Cm={exports:{}},yn={};var RT;function eM(){if(RT)return yn;RT=1;var r=Uf();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:p,containerInfo:m,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,yn.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,v)},yn.flushSync=function(p){var m=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=v,i.d.f()}},yn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},yn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},yn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,b=f(v,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:S}):v==="script"&&i.d.X(p,{crossOrigin:b,integrity:T,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},yn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=f(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},yn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,b=f(v,m.crossOrigin);i.d.L(p,v,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},yn.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=f(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},yn.requestFormReset=function(p){i.d.r(p)},yn.unstable_batchedUpdates=function(p,m){return p(m)},yn.useFormState=function(p,m,v){return c.H.useFormState(p,m,v)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.2.4",yn}var CT;function tM(){if(CT)return Cm.exports;CT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cm.exports=eM(),Cm.exports}var IT;function nM(){if(IT)return _u;IT=1;var r=Jk(),e=Uf(),t=tM();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(i(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var o=n,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return p(d),n;if(g===u)return p(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=g;else{for(var E=!1,w=d.child;w;){if(w===o){E=!0,o=d,u=g;break}if(w===u){E=!0,u=d,o=g;break}w=w.sibling}if(!E){for(w=g.child;w;){if(w===o){E=!0,o=g,u=d;break}if(w===u){E=!0,u=g,o=d;break}w=w.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function Ce(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case M:return"Fragment";case B:return"Profiler";case k:return"StrictMode";case ue:return"Suspense";case oe:return"SuspenseList";case N:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case O:return"Portal";case Y:return n.displayName||"Context";case z:return(n._context.displayName||"Context")+".Consumer";case ae:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return s=n.displayName||null,s!==null?s:Ce(n.type)||"Memo";case C:s=n._payload,n=n._init;try{return Ce(n(s))}catch{}}return null}var Ve=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Le=[],Fe=-1;function P(n){return{current:n}}function ee(n){0>Fe||(n.current=Le[Fe],Le[Fe]=null,Fe--)}function le(n,s){Fe++,Le[Fe]=n.current,n.current=s}var fe=P(null),Te=P(null),Ae=P(null),Pe=P(null);function bt(n,s){switch(le(Ae,s),le(Te,n),le(fe,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Hx(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Hx(s),n=Gx(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ee(fe),le(fe,n)}function Ke(){ee(fe),ee(Te),ee(Ae)}function ie(n){n.memoizedState!==null&&le(Pe,n);var s=fe.current,o=Gx(s,n.type);s!==o&&(le(Te,n),le(fe,o))}function J(n){Te.current===n&&(ee(fe),ee(Te)),Pe.current===n&&(ee(Pe),pu._currentValue=ve)}var _e,Ye;function He(n){if(_e===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);_e=s&&s[1]||"",Ye=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_e+n+Ye}var me=!1;function Ie(n,s){if(!n||me)return"";me=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Q){var K=Q}Reflect.construct(n,[],re)}else{try{re.call()}catch(Q){K=Q}n.call(re.prototype)}}else{try{throw Error()}catch(Q){K=Q}(re=n())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],w=g[1];if(E&&w){var V=E.split(`
`),$=w.split(`
`);for(d=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(u===V.length||d===$.length)for(u=V.length-1,d=$.length-1;1<=u&&0<=d&&V[u]!==$[d];)d--;for(;1<=u&&0<=d;u--,d--)if(V[u]!==$[d]){if(u!==1||d!==1)do if(u--,d--,0>d||V[u]!==$[d]){var Z=`
`+V[u].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=u&&0<=d);break}}}finally{me=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?He(o):""}function ge(n,s){switch(n.tag){case 26:case 27:case 5:return He(n.type);case 16:return He("Lazy");case 13:return n.child!==s&&s!==null?He("Suspense Fallback"):He("Suspense");case 19:return He("SuspenseList");case 0:case 15:return Ie(n.type,!1);case 11:return Ie(n.type.render,!1);case 1:return Ie(n.type,!0);case 31:return He("Activity");default:return""}}function Ue(n){try{var s="",o=null;do s+=ge(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ne=Object.prototype.hasOwnProperty,Se=r.unstable_scheduleCallback,rt=r.unstable_cancelCallback,lt=r.unstable_shouldYield,st=r.unstable_requestPaint,It=r.unstable_now,Kn=r.unstable_getCurrentPriorityLevel,Bs=r.unstable_ImmediatePriority,Fi=r.unstable_UserBlockingPriority,Tn=r.unstable_NormalPriority,Ka=r.unstable_LowPriority,Fs=r.unstable_IdlePriority,Ya=r.log,Hs=r.unstable_setDisableYieldValue,Ut=null,xt=null;function Yn(n){if(typeof Ya=="function"&&Hs(n),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Ut,n)}catch{}}var kt=Math.clz32?Math.clz32:vc,yc=Math.log,Wa=Math.LN2;function vc(n){return n>>>=0,n===0?32:31-(yc(n)/Wa|0)|0}var Dr=256,Gs=262144,qt=4194304;function kr(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Mr(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var d=0,g=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?d=kr(u):(E&=w,E!==0?d=kr(E):o||(o=w&~n,o!==0&&(d=kr(o))))):(w=u&~g,w!==0?d=kr(w):E!==0?d=kr(E):o||(o=u&~n,o!==0&&(d=kr(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function hr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Rd(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _c(){var n=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),n}function jr(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function $s(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Cd(n,s,o,u,d,g){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var w=n.entanglements,V=n.expirationTimes,$=n.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-kt(o),re=1<<Z;w[Z]=0,V[Z]=-1;var K=$[Z];if(K!==null)for($[Z]=null,Z=0;Z<K.length;Z++){var Q=K[Z];Q!==null&&(Q.lane&=-536870913)}o&=~re}u!==0&&Ks(n,u,0),g!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=g&~(E&~s))}function Ks(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-kt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function _l(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-kt(o),d=1<<u;d&s|n[u]&s&&(n[u]|=s),o&=~d}}function bl(n,s){var o=s&-s;return o=(o&42)!==0?1:Ys(o),(o&(n.suspendedLanes|s))!==0?0:o}function Ys(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function li(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function bc(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:pT(n.type))}function fr(n,s){var o=ce.p;try{return ce.p=n,s()}finally{ce.p=o}}var dr=Math.random().toString(36).slice(2),zt="__reactFiber$"+dr,nn="__reactProps$"+dr,Vr="__reactContainer$"+dr,Qa="__reactEvents$"+dr,Id="__reactListeners$"+dr,Ec="__reactHandles$"+dr,xc="__reactResources$"+dr,Lr="__reactMarker$"+dr;function Xa(n){delete n[zt],delete n[nn],delete n[Qa],delete n[Id],delete n[Ec]}function Pr(n){var s=n[zt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Vr]||o[zt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=Jx(n);n!==null;){if(o=n[zt])return o;n=Jx(n)}return s}n=o,o=n.parentNode}return null}function Wn(n){if(n=n[zt]||n[Vr]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Vn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Ur(n){var s=n[xc];return s||(s=n[xc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Bt(n){n[Lr]=!0}var El=new Set,xl={};function qr(n,s){zr(n,s),zr(n+"Capture",s)}function zr(n,s){for(xl[n]=s,n=0;n<s.length;n++)El.add(s[n])}var Tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sl={},wl={};function Tc(n){return Ne.call(wl,n)?!0:Ne.call(Sl,n)?!1:Tl.test(n)?wl[n]=!0:(Sl[n]=!0,!1)}function Ja(n,s,o){if(Tc(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function Ln(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Ft(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Hi(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Al(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ft(n){if(!n._valueTracker){var s=Hi(n)?"checked":"value";n._valueTracker=Al(n,s,""+n[s])}}function Ws(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Hi(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Br(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Qs=/[\n"\\]/g;function Rn(n){return n.replace(Qs,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Za(n,s,o,u,d,g,E,w){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+rn(s)):n.value!==""+rn(s)&&(n.value=""+rn(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?Rl(n,E,rn(s)):o!=null?Rl(n,E,rn(o)):u!=null&&n.removeAttribute("value"),d==null&&g!=null&&(n.defaultChecked=!!g),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+rn(w):n.removeAttribute("name")}function Sc(n,s,o,u,d,g,E,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){ft(n);return}o=o!=null?""+rn(o):"",s=s!=null?""+rn(s):o,w||s===n.value||(n.value=s),n.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=w?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),ft(n)}function Rl(n,s,o){s==="number"&&Br(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Gi(n,s,o,u){if(n=n.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<n.length;o++)d=s.hasOwnProperty("$"+n[o].value),n[o].selected!==d&&(n[o].selected=d),d&&u&&(n[o].defaultSelected=!0)}else{for(o=""+rn(o),s=null,d=0;d<n.length;d++){if(n[d].value===o){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function wc(n,s,o){if(s!=null&&(s=""+rn(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+rn(o):""}function $i(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(Ve(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=rn(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),ft(n)}function Cn(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Ac=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||Ac.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Il(n,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&Cl(n,d,u)}else for(var g in s)s.hasOwnProperty(g)&&Cl(n,g,s[g])}function eo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(n){return Ki.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function pr(){}var Nl=null;function Qn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Yi=null,Fr=null;function Xs(n){var s=Wn(n);if(s&&(n=s.stateNode)){var o=n[nn]||null;e:switch(n=s.stateNode,s.type){case"input":if(Za(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var d=u[nn]||null;if(!d)throw Error(i(90));Za(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Ws(u)}break e;case"textarea":wc(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Gi(n,!!o.multiple,s,!1)}}}var no=!1;function Wi(n,s,o){if(no)return n(s,o);no=!0;try{var u=n(s);return u}finally{if(no=!1,(Yi!==null||Fr!==null)&&(bh(),Yi&&(s=Yi,n=Fr,Fr=Yi=null,Xs(s),n)))for(s=0;s<n.length;s++)Xs(n[s])}}function mr(n,s){var o=n.stateNode;if(o===null)return null;var u=o[nn]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Js=!1;if(Xn)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){Js=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{Js=!1}var Hr=null,Ol=null,Zs=null;function Dl(){if(Zs)return Zs;var n,s=Ol,o=s.length,u,d="value"in Hr?Hr.value:Hr.textContent,g=d.length;for(n=0;n<o&&s[n]===d[n];n++);var E=o-n;for(u=1;u<=E&&s[o-u]===d[g-u];u++);return Zs=d.slice(n,1<u?1-u:void 0)}function ea(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ui(){return!0}function gr(){return!1}function on(n){function s(o,u,d,g,E){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(o=n[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ui:gr,this.isPropagationStopped=gr,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),s}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gr=on(ci),Qi=b({},ci,{view:0,detail:0}),kl=on(Qi),Xi,ro,$r,io=b({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ji,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$r&&($r&&n.type==="mousemove"?(Xi=n.screenX-$r.screenX,ro=n.screenY-$r.screenY):ro=Xi=0,$r=n),Xi)},movementY:function(n){return"movementY"in n?n.movementY:ro}}),Ml=on(io),ta=b({},io,{dataTransfer:0}),Cc=on(ta),Ic=b({},Qi,{relatedTarget:0}),na=on(Ic),jl=b({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),Nc=on(jl),so=b({},ci,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Oc=on(so),Dc=b({},ci,{data:0}),Kr=on(Dc),kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=jc[n])?!!s[n]:!1}function Ji(){return Vc}var Sn=b({},Qi,{key:function(n){if(n.key){var s=kc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ea(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Mc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ji,charCode:function(n){return n.type==="keypress"?ea(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ea(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Lc=on(Sn),Pc=b({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hi=on(Pc),h=b({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ji}),_=on(h),x=b({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=on(x),H=b({},io,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),W=on(H),he=b({},ci,{newState:0,oldState:0}),qe=on(he),Mt=[9,13,27,32],ut=Xn&&"CompositionEvent"in window,At=null;Xn&&"documentMode"in document&&(At=document.documentMode);var Jn=Xn&&"TextEvent"in window&&!At,Yr=Xn&&(!ut||At&&8<At&&11>=At),yr=" ",vr=!1;function ra(n,s){switch(n){case"keyup":return Mt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ao(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var oo=!1;function _D(n,s){switch(n){case"compositionend":return ao(s);case"keypress":return s.which!==32?null:(vr=!0,yr);case"textInput":return n=s.data,n===yr&&vr?null:n;default:return null}}function bD(n,s){if(oo)return n==="compositionend"||!ut&&ra(n,s)?(n=Dl(),Zs=Ol=Hr=null,oo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yr&&s.locale!=="ko"?null:s.data;default:return null}}var ED={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t1(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!ED[n.type]:s==="textarea"}function n1(n,s,o,u){Yi?Fr?Fr.push(u):Fr=[u]:Yi=u,s=Rh(s,"onChange"),0<s.length&&(o=new Gr("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Vl=null,Ll=null;function xD(n){Px(n,0)}function Uc(n){var s=Vn(n);if(Ws(s))return n}function r1(n,s){if(n==="change")return s}var i1=!1;if(Xn){var Nd;if(Xn){var Od="oninput"in document;if(!Od){var s1=document.createElement("div");s1.setAttribute("oninput","return;"),Od=typeof s1.oninput=="function"}Nd=Od}else Nd=!1;i1=Nd&&(!document.documentMode||9<document.documentMode)}function a1(){Vl&&(Vl.detachEvent("onpropertychange",o1),Ll=Vl=null)}function o1(n){if(n.propertyName==="value"&&Uc(Ll)){var s=[];n1(s,Ll,n,Qn(n)),Wi(xD,s)}}function TD(n,s,o){n==="focusin"?(a1(),Vl=s,Ll=o,Vl.attachEvent("onpropertychange",o1)):n==="focusout"&&a1()}function SD(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Uc(Ll)}function wD(n,s){if(n==="click")return Uc(s)}function AD(n,s){if(n==="input"||n==="change")return Uc(s)}function RD(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Pn=typeof Object.is=="function"?Object.is:RD;function Pl(n,s){if(Pn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Ne.call(s,d)||!Pn(n[d],s[d]))return!1}return!0}function l1(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function u1(n,s){var o=l1(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=l1(o)}}function c1(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?c1(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function h1(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Br(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Br(n.document)}return s}function Dd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var CD=Xn&&"documentMode"in document&&11>=document.documentMode,lo=null,kd=null,Ul=null,Md=!1;function f1(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Md||lo==null||lo!==Br(u)||(u=lo,"selectionStart"in u&&Dd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ul&&Pl(Ul,u)||(Ul=u,u=Rh(kd,"onSelect"),0<u.length&&(s=new Gr("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=lo)))}function ia(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var uo={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},jd={},d1={};Xn&&(d1=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function sa(n){if(jd[n])return jd[n];if(!uo[n])return n;var s=uo[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in d1)return jd[n]=s[o];return n}var p1=sa("animationend"),m1=sa("animationiteration"),g1=sa("animationstart"),ID=sa("transitionrun"),ND=sa("transitionstart"),OD=sa("transitioncancel"),y1=sa("transitionend"),v1=new Map,Vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vd.push("scrollEnd");function _r(n,s){v1.set(n,s),qr(s,[n])}var qc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Zn=[],co=0,Ld=0;function zc(){for(var n=co,s=Ld=co=0;s<n;){var o=Zn[s];Zn[s++]=null;var u=Zn[s];Zn[s++]=null;var d=Zn[s];Zn[s++]=null;var g=Zn[s];if(Zn[s++]=null,u!==null&&d!==null){var E=u.pending;E===null?d.next=d:(d.next=E.next,E.next=d),u.pending=d}g!==0&&_1(o,d,g)}}function Bc(n,s,o,u){Zn[co++]=n,Zn[co++]=s,Zn[co++]=o,Zn[co++]=u,Ld|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Pd(n,s,o,u){return Bc(n,s,o,u),Fc(n)}function aa(n,s){return Bc(n,null,null,s),Fc(n)}function _1(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(d=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,d&&s!==null&&(d=31-kt(o),n=g.hiddenUpdates,u=n[d],u===null?n[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function Fc(n){if(50<ou)throw ou=0,Kp=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ho={};function DD(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(n,s,o,u){return new DD(n,s,o,u)}function Ud(n){return n=n.prototype,!(!n||!n.isReactComponent)}function fi(n,s){var o=n.alternate;return o===null?(o=Un(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function b1(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Hc(n,s,o,u,d,g){var E=0;if(u=n,typeof n=="function")Ud(n)&&(E=1);else if(typeof n=="string")E=Lk(n,o,fe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case N:return n=Un(31,o,s,d),n.elementType=N,n.lanes=g,n;case M:return oa(o.children,d,g,s);case k:E=8,d|=24;break;case B:return n=Un(12,o,s,d|2),n.elementType=B,n.lanes=g,n;case ue:return n=Un(13,o,s,d),n.elementType=ue,n.lanes=g,n;case oe:return n=Un(19,o,s,d),n.elementType=oe,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Y:E=10;break e;case z:E=9;break e;case ae:E=11;break e;case R:E=14;break e;case C:E=16,u=null;break e}E=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=Un(E,o,s,d),s.elementType=n,s.type=u,s.lanes=g,s}function oa(n,s,o,u){return n=Un(7,n,u,s),n.lanes=o,n}function qd(n,s,o){return n=Un(6,n,null,s),n.lanes=o,n}function E1(n){var s=Un(18,null,null,0);return s.stateNode=n,s}function zd(n,s,o){return s=Un(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var x1=new WeakMap;function er(n,s){if(typeof n=="object"&&n!==null){var o=x1.get(n);return o!==void 0?o:(s={value:n,source:s,stack:Ue(s)},x1.set(n,s),s)}return{value:n,source:s,stack:Ue(s)}}var fo=[],po=0,Gc=null,ql=0,tr=[],nr=0,Zi=null,Wr=1,Qr="";function di(n,s){fo[po++]=ql,fo[po++]=Gc,Gc=n,ql=s}function T1(n,s,o){tr[nr++]=Wr,tr[nr++]=Qr,tr[nr++]=Zi,Zi=n;var u=Wr;n=Qr;var d=32-kt(u)-1;u&=~(1<<d),o+=1;var g=32-kt(s)+d;if(30<g){var E=d-d%5;g=(u&(1<<E)-1).toString(32),u>>=E,d-=E,Wr=1<<32-kt(s)+d|o<<d|u,Qr=g+n}else Wr=1<<g|o<<d|u,Qr=n}function Bd(n){n.return!==null&&(di(n,1),T1(n,1,0))}function Fd(n){for(;n===Gc;)Gc=fo[--po],fo[po]=null,ql=fo[--po],fo[po]=null;for(;n===Zi;)Zi=tr[--nr],tr[nr]=null,Qr=tr[--nr],tr[nr]=null,Wr=tr[--nr],tr[nr]=null}function S1(n,s){tr[nr++]=Wr,tr[nr++]=Qr,tr[nr++]=Zi,Wr=s.id,Qr=s.overflow,Zi=n}var ln=null,Tt=null,nt=!1,es=null,rr=!1,Hd=Error(i(519));function ts(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(er(s,n)),Hd}function w1(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[zt]=n,s[nn]=u,o){case"dialog":$e("cancel",s),$e("close",s);break;case"iframe":case"object":case"embed":$e("load",s);break;case"video":case"audio":for(o=0;o<uu.length;o++)$e(uu[o],s);break;case"source":$e("error",s);break;case"img":case"image":case"link":$e("error",s),$e("load",s);break;case"details":$e("toggle",s);break;case"input":$e("invalid",s),Sc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":$e("invalid",s);break;case"textarea":$e("invalid",s),$i(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Bx(s.textContent,o)?(u.popover!=null&&($e("beforetoggle",s),$e("toggle",s)),u.onScroll!=null&&$e("scroll",s),u.onScrollEnd!=null&&$e("scrollend",s),u.onClick!=null&&(s.onclick=pr),s=!0):s=!1,s||ts(n,!0)}function A1(n){for(ln=n.return;ln;)switch(ln.tag){case 5:case 31:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:ln=ln.return}}function mo(n){if(n!==ln)return!1;if(!nt)return A1(n),nt=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||lm(n.type,n.memoizedProps)),o=!o),o&&Tt&&ts(n),A1(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Tt=Xx(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Tt=Xx(n)}else s===27?(s=Tt,ms(n.type)?(n=dm,dm=null,Tt=n):Tt=s):Tt=ln?sr(n.stateNode.nextSibling):null;return!0}function la(){Tt=ln=null,nt=!1}function Gd(){var n=es;return n!==null&&(Dn===null?Dn=n:Dn.push.apply(Dn,n),es=null),n}function zl(n){es===null?es=[n]:es.push(n)}var $d=P(null),ua=null,pi=null;function ns(n,s,o){le($d,s._currentValue),s._currentValue=o}function mi(n){n._currentValue=$d.current,ee($d)}function Kd(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Yd(n,s,o,u){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var g=d.dependencies;if(g!==null){var E=d.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=d;for(var V=0;V<s.length;V++)if(w.context===s[V]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Kd(g.return,o,n),u||(E=null);break e}g=w.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(i(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Kd(E,o,n),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===n){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function go(n,s,o,u){n=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var w=d.type;Pn(d.pendingProps.value,E.value)||(n!==null?n.push(w):n=[w])}}else if(d===Pe.current){if(E=d.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(pu):n=[pu])}d=d.return}n!==null&&Yd(s,n,o,u),s.flags|=262144}function $c(n){for(n=n.firstContext;n!==null;){if(!Pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ca(n){ua=n,pi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function un(n){return R1(ua,n)}function Kc(n,s){return ua===null&&ca(n),R1(n,s)}function R1(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},pi===null){if(n===null)throw Error(i(308));pi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else pi=pi.next=s;return o}var kD=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},MD=r.unstable_scheduleCallback,jD=r.unstable_NormalPriority,Ht={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wd(){return{controller:new kD,data:new Map,refCount:0}}function Bl(n){n.refCount--,n.refCount===0&&MD(jD,function(){n.controller.abort()})}var Fl=null,Qd=0,yo=0,vo=null;function VD(n,s){if(Fl===null){var o=Fl=[];Qd=0,yo=Zp(),vo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Qd++,s.then(C1,C1),s}function C1(){if(--Qd===0&&Fl!==null){vo!==null&&(vo.status="fulfilled");var n=Fl;Fl=null,yo=0,vo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function LD(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var I1=X.S;X.S=function(n,s){fx=It(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&VD(n,s),I1!==null&&I1(n,s)};var ha=P(null);function Xd(){var n=ha.current;return n!==null?n:_t.pooledCache}function Yc(n,s){s===null?le(ha,ha.current):le(ha,s.pool)}function N1(){var n=Xd();return n===null?null:{parent:Ht._currentValue,pool:n}}var _o=Error(i(460)),Jd=Error(i(474)),Wc=Error(i(542)),Qc={then:function(){}};function O1(n){return n=n.status,n==="fulfilled"||n==="rejected"}function D1(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(pr,pr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,M1(n),n;default:if(typeof s.status=="string")s.then(pr,pr);else{if(n=_t,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,M1(n),n}throw da=s,_o}}function fa(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(da=o,_o):o}}var da=null;function k1(){if(da===null)throw Error(i(459));var n=da;return da=null,n}function M1(n){if(n===_o||n===Wc)throw Error(i(483))}var bo=null,Hl=0;function Xc(n){var s=Hl;return Hl+=1,bo===null&&(bo=[]),D1(bo,n,s)}function Gl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Jc(n,s){throw s.$$typeof===T?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function j1(n){function s(F,q){if(n){var G=F.deletions;G===null?(F.deletions=[q],F.flags|=16):G.push(q)}}function o(F,q){if(!n)return null;for(;q!==null;)s(F,q),q=q.sibling;return null}function u(F){for(var q=new Map;F!==null;)F.key!==null?q.set(F.key,F):q.set(F.index,F),F=F.sibling;return q}function d(F,q){return F=fi(F,q),F.index=0,F.sibling=null,F}function g(F,q,G){return F.index=G,n?(G=F.alternate,G!==null?(G=G.index,G<q?(F.flags|=67108866,q):G):(F.flags|=67108866,q)):(F.flags|=1048576,q)}function E(F){return n&&F.alternate===null&&(F.flags|=67108866),F}function w(F,q,G,te){return q===null||q.tag!==6?(q=qd(G,F.mode,te),q.return=F,q):(q=d(q,G),q.return=F,q)}function V(F,q,G,te){var Ee=G.type;return Ee===M?Z(F,q,G.props.children,te,G.key):q!==null&&(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===C&&fa(Ee)===q.type)?(q=d(q,G.props),Gl(q,G),q.return=F,q):(q=Hc(G.type,G.key,G.props,null,F.mode,te),Gl(q,G),q.return=F,q)}function $(F,q,G,te){return q===null||q.tag!==4||q.stateNode.containerInfo!==G.containerInfo||q.stateNode.implementation!==G.implementation?(q=zd(G,F.mode,te),q.return=F,q):(q=d(q,G.children||[]),q.return=F,q)}function Z(F,q,G,te,Ee){return q===null||q.tag!==7?(q=oa(G,F.mode,te,Ee),q.return=F,q):(q=d(q,G),q.return=F,q)}function re(F,q,G){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=qd(""+q,F.mode,G),q.return=F,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return G=Hc(q.type,q.key,q.props,null,F.mode,G),Gl(G,q),G.return=F,G;case O:return q=zd(q,F.mode,G),q.return=F,q;case C:return q=fa(q),re(F,q,G)}if(Ve(q)||L(q))return q=oa(q,F.mode,G,null),q.return=F,q;if(typeof q.then=="function")return re(F,Xc(q),G);if(q.$$typeof===Y)return re(F,Kc(F,q),G);Jc(F,q)}return null}function K(F,q,G,te){var Ee=q!==null?q.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ee!==null?null:w(F,q,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===Ee?V(F,q,G,te):null;case O:return G.key===Ee?$(F,q,G,te):null;case C:return G=fa(G),K(F,q,G,te)}if(Ve(G)||L(G))return Ee!==null?null:Z(F,q,G,te,null);if(typeof G.then=="function")return K(F,q,Xc(G),te);if(G.$$typeof===Y)return K(F,q,Kc(F,G),te);Jc(F,G)}return null}function Q(F,q,G,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return F=F.get(G)||null,w(q,F,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case S:return F=F.get(te.key===null?G:te.key)||null,V(q,F,te,Ee);case O:return F=F.get(te.key===null?G:te.key)||null,$(q,F,te,Ee);case C:return te=fa(te),Q(F,q,G,te,Ee)}if(Ve(te)||L(te))return F=F.get(G)||null,Z(q,F,te,Ee,null);if(typeof te.then=="function")return Q(F,q,G,Xc(te),Ee);if(te.$$typeof===Y)return Q(F,q,G,Kc(q,te),Ee);Jc(q,te)}return null}function ye(F,q,G,te){for(var Ee=null,at=null,be=q,Be=q=0,Qe=null;be!==null&&Be<G.length;Be++){be.index>Be?(Qe=be,be=null):Qe=be.sibling;var ot=K(F,be,G[Be],te);if(ot===null){be===null&&(be=Qe);break}n&&be&&ot.alternate===null&&s(F,be),q=g(ot,q,Be),at===null?Ee=ot:at.sibling=ot,at=ot,be=Qe}if(Be===G.length)return o(F,be),nt&&di(F,Be),Ee;if(be===null){for(;Be<G.length;Be++)be=re(F,G[Be],te),be!==null&&(q=g(be,q,Be),at===null?Ee=be:at.sibling=be,at=be);return nt&&di(F,Be),Ee}for(be=u(be);Be<G.length;Be++)Qe=Q(be,F,Be,G[Be],te),Qe!==null&&(n&&Qe.alternate!==null&&be.delete(Qe.key===null?Be:Qe.key),q=g(Qe,q,Be),at===null?Ee=Qe:at.sibling=Qe,at=Qe);return n&&be.forEach(function(bs){return s(F,bs)}),nt&&di(F,Be),Ee}function we(F,q,G,te){if(G==null)throw Error(i(151));for(var Ee=null,at=null,be=q,Be=q=0,Qe=null,ot=G.next();be!==null&&!ot.done;Be++,ot=G.next()){be.index>Be?(Qe=be,be=null):Qe=be.sibling;var bs=K(F,be,ot.value,te);if(bs===null){be===null&&(be=Qe);break}n&&be&&bs.alternate===null&&s(F,be),q=g(bs,q,Be),at===null?Ee=bs:at.sibling=bs,at=bs,be=Qe}if(ot.done)return o(F,be),nt&&di(F,Be),Ee;if(be===null){for(;!ot.done;Be++,ot=G.next())ot=re(F,ot.value,te),ot!==null&&(q=g(ot,q,Be),at===null?Ee=ot:at.sibling=ot,at=ot);return nt&&di(F,Be),Ee}for(be=u(be);!ot.done;Be++,ot=G.next())ot=Q(be,F,Be,ot.value,te),ot!==null&&(n&&ot.alternate!==null&&be.delete(ot.key===null?Be:ot.key),q=g(ot,q,Be),at===null?Ee=ot:at.sibling=ot,at=ot);return n&&be.forEach(function(Yk){return s(F,Yk)}),nt&&di(F,Be),Ee}function vt(F,q,G,te){if(typeof G=="object"&&G!==null&&G.type===M&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:e:{for(var Ee=G.key;q!==null;){if(q.key===Ee){if(Ee=G.type,Ee===M){if(q.tag===7){o(F,q.sibling),te=d(q,G.props.children),te.return=F,F=te;break e}}else if(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===C&&fa(Ee)===q.type){o(F,q.sibling),te=d(q,G.props),Gl(te,G),te.return=F,F=te;break e}o(F,q);break}else s(F,q);q=q.sibling}G.type===M?(te=oa(G.props.children,F.mode,te,G.key),te.return=F,F=te):(te=Hc(G.type,G.key,G.props,null,F.mode,te),Gl(te,G),te.return=F,F=te)}return E(F);case O:e:{for(Ee=G.key;q!==null;){if(q.key===Ee)if(q.tag===4&&q.stateNode.containerInfo===G.containerInfo&&q.stateNode.implementation===G.implementation){o(F,q.sibling),te=d(q,G.children||[]),te.return=F,F=te;break e}else{o(F,q);break}else s(F,q);q=q.sibling}te=zd(G,F.mode,te),te.return=F,F=te}return E(F);case C:return G=fa(G),vt(F,q,G,te)}if(Ve(G))return ye(F,q,G,te);if(L(G)){if(Ee=L(G),typeof Ee!="function")throw Error(i(150));return G=Ee.call(G),we(F,q,G,te)}if(typeof G.then=="function")return vt(F,q,Xc(G),te);if(G.$$typeof===Y)return vt(F,q,Kc(F,G),te);Jc(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,q!==null&&q.tag===6?(o(F,q.sibling),te=d(q,G),te.return=F,F=te):(o(F,q),te=qd(G,F.mode,te),te.return=F,F=te),E(F)):o(F,q)}return function(F,q,G,te){try{Hl=0;var Ee=vt(F,q,G,te);return bo=null,Ee}catch(be){if(be===_o||be===Wc)throw be;var at=Un(29,be,null,F.mode);return at.lanes=te,at.return=F,at}}}var pa=j1(!0),V1=j1(!1),rs=!1;function Zd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ep(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function is(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ss(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(ct&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=Fc(n),_1(n,null,o),s}return Bc(n,u,s,o),Fc(n)}function $l(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,_l(n,o)}}function tp(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var np=!1;function Kl(){if(np){var n=vo;if(n!==null)throw n}}function Yl(n,s,o,u){np=!1;var d=n.updateQueue;rs=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var V=w,$=V.next;V.next=null,E===null?g=$:E.next=$,E=V;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==E&&(w===null?Z.firstBaseUpdate=$:w.next=$,Z.lastBaseUpdate=V))}if(g!==null){var re=d.baseState;E=0,Z=$=V=null,w=g;do{var K=w.lane&-536870913,Q=K!==w.lane;if(Q?(We&K)===K:(u&K)===K){K!==0&&K===yo&&(np=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ye=n,we=w;K=s;var vt=o;switch(we.tag){case 1:if(ye=we.payload,typeof ye=="function"){re=ye.call(vt,re,K);break e}re=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=we.payload,K=typeof ye=="function"?ye.call(vt,re,K):ye,K==null)break e;re=b({},re,K);break e;case 2:rs=!0}}K=w.callback,K!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?($=Z=Q,V=re):Z=Z.next=Q,E|=K;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);Z===null&&(V=re),d.baseState=V,d.firstBaseUpdate=$,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),cs|=E,n.lanes=E,n.memoizedState=re}}function L1(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function P1(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)L1(o[n],s)}var Eo=P(null),Zc=P(0);function U1(n,s){n=Si,le(Zc,n),le(Eo,s),Si=n|s.baseLanes}function rp(){le(Zc,Si),le(Eo,Eo.current)}function ip(){Si=Zc.current,ee(Eo),ee(Zc)}var qn=P(null),ir=null;function as(n){var s=n.alternate;le(jt,jt.current&1),le(qn,n),ir===null&&(s===null||Eo.current!==null||s.memoizedState!==null)&&(ir=n)}function sp(n){le(jt,jt.current),le(qn,n),ir===null&&(ir=n)}function q1(n){n.tag===22?(le(jt,jt.current),le(qn,n),ir===null&&(ir=n)):os()}function os(){le(jt,jt.current),le(qn,qn.current)}function zn(n){ee(qn),ir===n&&(ir=null),ee(jt)}var jt=P(0);function eh(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||hm(o)||fm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gi=0,ze=null,gt=null,Gt=null,th=!1,xo=!1,ma=!1,nh=0,Wl=0,To=null,PD=0;function Ot(){throw Error(i(321))}function ap(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!Pn(n[o],s[o]))return!1;return!0}function op(n,s,o,u,d,g){return gi=g,ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=n===null||n.memoizedState===null?TE:xp,ma=!1,g=o(u,d),ma=!1,xo&&(g=B1(s,o,u,d)),z1(n),g}function z1(n){X.H=Jl;var s=gt!==null&&gt.next!==null;if(gi=0,Gt=gt=ze=null,th=!1,Wl=0,To=null,s)throw Error(i(300));n===null||$t||(n=n.dependencies,n!==null&&$c(n)&&($t=!0))}function B1(n,s,o,u){ze=n;var d=0;do{if(xo&&(To=null),Wl=0,xo=!1,25<=d)throw Error(i(301));if(d+=1,Gt=gt=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=SE,g=s(o,u)}while(xo);return g}function UD(){var n=X.H,s=n.useState()[0];return s=typeof s.then=="function"?Ql(s):s,n=n.useState()[0],(gt!==null?gt.memoizedState:null)!==n&&(ze.flags|=1024),s}function lp(){var n=nh!==0;return nh=0,n}function up(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function cp(n){if(th){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}th=!1}gi=0,Gt=gt=ze=null,xo=!1,Wl=nh=0,To=null}function wn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?ze.memoizedState=Gt=n:Gt=Gt.next=n,Gt}function Vt(){if(gt===null){var n=ze.alternate;n=n!==null?n.memoizedState:null}else n=gt.next;var s=Gt===null?ze.memoizedState:Gt.next;if(s!==null)Gt=s,gt=n;else{if(n===null)throw ze.alternate===null?Error(i(467)):Error(i(310));gt=n,n={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Gt===null?ze.memoizedState=Gt=n:Gt=Gt.next=n}return Gt}function rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(n){var s=Wl;return Wl+=1,To===null&&(To=[]),n=D1(To,n,s),s=ze,(Gt===null?s.memoizedState:Gt.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?TE:xp),n}function ih(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ql(n);if(n.$$typeof===Y)return un(n)}throw Error(i(438,String(n)))}function hp(n){var s=null,o=ze.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=ze.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=rh(),ze.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=j;return s.index++,o}function yi(n,s){return typeof s=="function"?s(n):s}function sh(n){var s=Vt();return fp(s,gt,n)}function fp(n,s,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=n.baseQueue,g=u.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}s.baseQueue=d=g,u.pending=null}if(g=n.baseState,d===null)n.memoizedState=g;else{s=d.next;var w=E=null,V=null,$=s,Z=!1;do{var re=$.lane&-536870913;if(re!==$.lane?(We&re)===re:(gi&re)===re){var K=$.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),re===yo&&(Z=!0);else if((gi&K)===K){$=$.next,K===yo&&(Z=!0);continue}else re={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(w=V=re,E=g):V=V.next=re,ze.lanes|=K,cs|=K;re=$.action,ma&&o(g,re),g=$.hasEagerState?$.eagerState:o(g,re)}else K={lane:re,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(w=V=K,E=g):V=V.next=K,ze.lanes|=re,cs|=re;$=$.next}while($!==null&&$!==s);if(V===null?E=g:V.next=w,!Pn(g,n.memoizedState)&&($t=!0,Z&&(o=vo,o!==null)))throw o;n.memoizedState=g,n.baseState=E,n.baseQueue=V,u.lastRenderedState=g}return d===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function dp(n){var s=Vt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var E=d=d.next;do g=n(g,E.action),E=E.next;while(E!==d);Pn(g,s.memoizedState)||($t=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function F1(n,s,o){var u=ze,d=Vt(),g=nt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!Pn((gt||d).memoizedState,o);if(E&&(d.memoizedState=o,$t=!0),d=d.queue,gp($1.bind(null,u,d,n),[n]),d.getSnapshot!==s||E||Gt!==null&&Gt.memoizedState.tag&1){if(u.flags|=2048,So(9,{destroy:void 0},G1.bind(null,u,d,o,s),null),_t===null)throw Error(i(349));g||(gi&127)!==0||H1(u,s,o)}return o}function H1(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=ze.updateQueue,s===null?(s=rh(),ze.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function G1(n,s,o,u){s.value=o,s.getSnapshot=u,K1(s)&&Y1(n)}function $1(n,s,o){return o(function(){K1(s)&&Y1(n)})}function K1(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!Pn(n,o)}catch{return!0}}function Y1(n){var s=aa(n,2);s!==null&&kn(s,n,2)}function pp(n){var s=wn();if(typeof n=="function"){var o=n;if(n=o(),ma){Yn(!0);try{o()}finally{Yn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:n},s}function W1(n,s,o,u){return n.baseState=o,fp(n,gt,typeof u=="function"?u:yi)}function qD(n,s,o,u,d){if(lh(n))throw Error(i(485));if(n=s.action,n!==null){var g={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};X.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,Q1(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Q1(n,s){var o=s.action,u=s.payload,d=n.state;if(s.isTransition){var g=X.T,E={};X.T=E;try{var w=o(d,u),V=X.S;V!==null&&V(E,w),X1(n,s,w)}catch($){mp(n,s,$)}finally{g!==null&&E.types!==null&&(g.types=E.types),X.T=g}}else try{g=o(d,u),X1(n,s,g)}catch($){mp(n,s,$)}}function X1(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){J1(n,s,u)},function(u){return mp(n,s,u)}):J1(n,s,o)}function J1(n,s,o){s.status="fulfilled",s.value=o,Z1(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,Q1(n,o)))}function mp(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Z1(s),s=s.next;while(s!==u)}n.action=null}function Z1(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function eE(n,s){return s}function tE(n,s){if(nt){var o=_t.formState;if(o!==null){e:{var u=ze;if(nt){if(Tt){t:{for(var d=Tt,g=rr;d.nodeType!==8;){if(!g){d=null;break t}if(d=sr(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Tt=sr(d.nextSibling),u=d.data==="F!";break e}}ts(u)}u=!1}u&&(s=o[0])}}return o=wn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eE,lastRenderedState:s},o.queue=u,o=bE.bind(null,ze,u),u.dispatch=o,u=pp(!1),g=Ep.bind(null,ze,!1,u.queue),u=wn(),d={state:s,dispatch:null,action:n,pending:null},u.queue=d,o=qD.bind(null,ze,d,g,o),d.dispatch=o,u.memoizedState=n,[s,o,!1]}function nE(n){var s=Vt();return rE(s,gt,n)}function rE(n,s,o){if(s=fp(n,s,eE)[0],n=sh(yi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Ql(s)}catch(E){throw E===_o?Wc:E}else u=s;s=Vt();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(ze.flags|=2048,So(9,{destroy:void 0},zD.bind(null,d,o),null)),[u,g,n]}function zD(n,s){n.action=s}function iE(n){var s=Vt(),o=gt;if(o!==null)return rE(s,o,n);Vt(),s=s.memoizedState,o=Vt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function So(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=ze.updateQueue,s===null&&(s=rh(),ze.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function sE(){return Vt().memoizedState}function ah(n,s,o,u){var d=wn();ze.flags|=n,d.memoizedState=So(1|s,{destroy:void 0},o,u===void 0?null:u)}function oh(n,s,o,u){var d=Vt();u=u===void 0?null:u;var g=d.memoizedState.inst;gt!==null&&u!==null&&ap(u,gt.memoizedState.deps)?d.memoizedState=So(s,g,o,u):(ze.flags|=n,d.memoizedState=So(1|s,g,o,u))}function aE(n,s){ah(8390656,8,n,s)}function gp(n,s){oh(2048,8,n,s)}function BD(n){ze.flags|=4;var s=ze.updateQueue;if(s===null)s=rh(),ze.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function oE(n){var s=Vt().memoizedState;return BD({ref:s,nextImpl:n}),function(){if((ct&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function lE(n,s){return oh(4,2,n,s)}function uE(n,s){return oh(4,4,n,s)}function cE(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function hE(n,s,o){o=o!=null?o.concat([n]):null,oh(4,4,cE.bind(null,s,n),o)}function yp(){}function fE(n,s){var o=Vt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&ap(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function dE(n,s){var o=Vt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&ap(s,u[1]))return u[0];if(u=n(),ma){Yn(!0);try{n()}finally{Yn(!1)}}return o.memoizedState=[u,s],u}function vp(n,s,o){return o===void 0||(gi&1073741824)!==0&&(We&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=px(),ze.lanes|=n,cs|=n,o)}function pE(n,s,o,u){return Pn(o,s)?o:Eo.current!==null?(n=vp(n,o,u),Pn(n,s)||($t=!0),n):(gi&42)===0||(gi&1073741824)!==0&&(We&261930)===0?($t=!0,n.memoizedState=o):(n=px(),ze.lanes|=n,cs|=n,s)}function mE(n,s,o,u,d){var g=ce.p;ce.p=g!==0&&8>g?g:8;var E=X.T,w={};X.T=w,Ep(n,!1,s,o);try{var V=d(),$=X.S;if($!==null&&$(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Z=LD(V,u);Xl(n,s,Z,Hn(n))}else Xl(n,s,u,Hn(n))}catch(re){Xl(n,s,{then:function(){},status:"rejected",reason:re},Hn())}finally{ce.p=g,E!==null&&w.types!==null&&(E.types=w.types),X.T=E}}function FD(){}function _p(n,s,o,u){if(n.tag!==5)throw Error(i(476));var d=gE(n).queue;mE(n,d,s,ve,o===null?FD:function(){return yE(n),o(u)})}function gE(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:ve},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function yE(n){var s=gE(n);s.next===null&&(s=n.alternate.memoizedState),Xl(n,s.next.queue,{},Hn())}function bp(){return un(pu)}function vE(){return Vt().memoizedState}function _E(){return Vt().memoizedState}function HD(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Hn();n=is(o);var u=ss(s,n,o);u!==null&&(kn(u,s,o),$l(u,s,o)),s={cache:Wd()},n.payload=s;return}s=s.return}}function GD(n,s,o){var u=Hn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lh(n)?EE(s,o):(o=Pd(n,s,o,u),o!==null&&(kn(o,n,u),xE(o,s,u)))}function bE(n,s,o){var u=Hn();Xl(n,s,o,u)}function Xl(n,s,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(lh(n))EE(s,d);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,w=g(E,o);if(d.hasEagerState=!0,d.eagerState=w,Pn(w,E))return Bc(n,s,d,0),_t===null&&zc(),!1}catch{}if(o=Pd(n,s,d,u),o!==null)return kn(o,n,u),xE(o,s,u),!0}return!1}function Ep(n,s,o,u){if(u={lane:2,revertLane:Zp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},lh(n)){if(s)throw Error(i(479))}else s=Pd(n,o,u,2),s!==null&&kn(s,n,2)}function lh(n){var s=n.alternate;return n===ze||s!==null&&s===ze}function EE(n,s){xo=th=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function xE(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,_l(n,o)}}var Jl={readContext:un,use:ih,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};Jl.useEffectEvent=Ot;var TE={readContext:un,use:ih,useCallback:function(n,s){return wn().memoizedState=[n,s===void 0?null:s],n},useContext:un,useEffect:aE,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,ah(4194308,4,cE.bind(null,s,n),o)},useLayoutEffect:function(n,s){return ah(4194308,4,n,s)},useInsertionEffect:function(n,s){ah(4,2,n,s)},useMemo:function(n,s){var o=wn();s=s===void 0?null:s;var u=n();if(ma){Yn(!0);try{n()}finally{Yn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=wn();if(o!==void 0){var d=o(s);if(ma){Yn(!0);try{o(s)}finally{Yn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},u.queue=n,n=n.dispatch=GD.bind(null,ze,n),[u.memoizedState,n]},useRef:function(n){var s=wn();return n={current:n},s.memoizedState=n},useState:function(n){n=pp(n);var s=n.queue,o=bE.bind(null,ze,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:yp,useDeferredValue:function(n,s){var o=wn();return vp(o,n,s)},useTransition:function(){var n=pp(!1);return n=mE.bind(null,ze,n.queue,!0,!1),wn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=ze,d=wn();if(nt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),_t===null)throw Error(i(349));(We&127)!==0||H1(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,aE($1.bind(null,u,g,n),[n]),u.flags|=2048,So(9,{destroy:void 0},G1.bind(null,u,g,o,s),null),o},useId:function(){var n=wn(),s=_t.identifierPrefix;if(nt){var o=Qr,u=Wr;o=(u&~(1<<32-kt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=nh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=PD++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:bp,useFormState:tE,useActionState:tE,useOptimistic:function(n){var s=wn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Ep.bind(null,ze,!0,o),o.dispatch=s,[n,s]},useMemoCache:hp,useCacheRefresh:function(){return wn().memoizedState=HD.bind(null,ze)},useEffectEvent:function(n){var s=wn(),o={impl:n};return s.memoizedState=o,function(){if((ct&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},xp={readContext:un,use:ih,useCallback:fE,useContext:un,useEffect:gp,useImperativeHandle:hE,useInsertionEffect:lE,useLayoutEffect:uE,useMemo:dE,useReducer:sh,useRef:sE,useState:function(){return sh(yi)},useDebugValue:yp,useDeferredValue:function(n,s){var o=Vt();return pE(o,gt.memoizedState,n,s)},useTransition:function(){var n=sh(yi)[0],s=Vt().memoizedState;return[typeof n=="boolean"?n:Ql(n),s]},useSyncExternalStore:F1,useId:vE,useHostTransitionStatus:bp,useFormState:nE,useActionState:nE,useOptimistic:function(n,s){var o=Vt();return W1(o,gt,n,s)},useMemoCache:hp,useCacheRefresh:_E};xp.useEffectEvent=oE;var SE={readContext:un,use:ih,useCallback:fE,useContext:un,useEffect:gp,useImperativeHandle:hE,useInsertionEffect:lE,useLayoutEffect:uE,useMemo:dE,useReducer:dp,useRef:sE,useState:function(){return dp(yi)},useDebugValue:yp,useDeferredValue:function(n,s){var o=Vt();return gt===null?vp(o,n,s):pE(o,gt.memoizedState,n,s)},useTransition:function(){var n=dp(yi)[0],s=Vt().memoizedState;return[typeof n=="boolean"?n:Ql(n),s]},useSyncExternalStore:F1,useId:vE,useHostTransitionStatus:bp,useFormState:iE,useActionState:iE,useOptimistic:function(n,s){var o=Vt();return gt!==null?W1(o,gt,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:hp,useCacheRefresh:_E};SE.useEffectEvent=oE;function Tp(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:b({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Sp={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Hn(),d=is(u);d.payload=s,o!=null&&(d.callback=o),s=ss(n,d,u),s!==null&&(kn(s,n,u),$l(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Hn(),d=is(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=ss(n,d,u),s!==null&&(kn(s,n,u),$l(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Hn(),u=is(o);u.tag=2,s!=null&&(u.callback=s),s=ss(n,u,o),s!==null&&(kn(s,n,o),$l(s,n,o))}};function wE(n,s,o,u,d,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!Pl(o,u)||!Pl(d,g):!0}function AE(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Sp.enqueueReplaceState(s,s.state,null)}function ga(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=b({},o));for(var d in n)o[d]===void 0&&(o[d]=n[d])}return o}function RE(n){qc(n)}function CE(n){console.error(n)}function IE(n){qc(n)}function uh(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function NE(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function wp(n,s,o){return o=is(o),o.tag=3,o.payload={element:null},o.callback=function(){uh(n,s)},o}function OE(n){return n=is(n),n.tag=3,n}function DE(n,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;n.payload=function(){return d(g)},n.callback=function(){NE(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){NE(s,o,u),typeof d!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function $D(n,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&go(s,o,d,!0),o=qn.current,o!==null){switch(o.tag){case 31:case 13:return ir===null?Eh():o.alternate===null&&Dt===0&&(Dt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Qc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Qp(n,u,d)),!1;case 22:return o.flags|=65536,u===Qc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Qp(n,u,d)),!1}throw Error(i(435,o.tag))}return Qp(n,u,d),Eh(),!1}if(nt)return s=qn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Hd&&(n=Error(i(422),{cause:u}),zl(er(n,o)))):(u!==Hd&&(s=Error(i(423),{cause:u}),zl(er(s,o))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,u=er(u,o),d=wp(n.stateNode,u,d),tp(n,d),Dt!==4&&(Dt=2)),!1;var g=Error(i(520),{cause:u});if(g=er(g,o),au===null?au=[g]:au.push(g),Dt!==4&&(Dt=2),s===null)return!0;u=er(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=d&-d,o.lanes|=n,n=wp(o.stateNode,u,n),tp(o,n),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(hs===null||!hs.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=OE(d),DE(d,n,o,u),tp(o,d),!1}o=o.return}while(o!==null);return!1}var Ap=Error(i(461)),$t=!1;function cn(n,s,o,u){s.child=n===null?V1(s,null,o,u):pa(s,n.child,o,u)}function kE(n,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var w in u)w!=="ref"&&(E[w]=u[w])}else E=u;return ca(s),u=op(n,s,o,E,g,d),w=lp(),n!==null&&!$t?(up(n,s,d),vi(n,s,d)):(nt&&w&&Bd(s),s.flags|=1,cn(n,s,u,d),s.child)}function ME(n,s,o,u,d){if(n===null){var g=o.type;return typeof g=="function"&&!Ud(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,jE(n,s,g,u,d)):(n=Hc(o.type,null,u,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!Mp(n,d)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Pl,o(E,u)&&n.ref===s.ref)return vi(n,s,d)}return s.flags|=1,n=fi(g,u),n.ref=s.ref,n.return=s,s.child=n}function jE(n,s,o,u,d){if(n!==null){var g=n.memoizedProps;if(Pl(g,u)&&n.ref===s.ref)if($t=!1,s.pendingProps=u=g,Mp(n,d))(n.flags&131072)!==0&&($t=!0);else return s.lanes=n.lanes,vi(n,s,d)}return Rp(n,s,o,u,d)}function VE(n,s,o,u){var d=u.children,g=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,n!==null){for(u=s.child=n.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,s.child=null;return LE(n,s,g,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Yc(s,g!==null?g.cachePool:null),g!==null?U1(s,g):rp(),q1(s);else return u=s.lanes=536870912,LE(n,s,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Yc(s,g.cachePool),U1(s,g),os(),s.memoizedState=null):(n!==null&&Yc(s,null),rp(),os());return cn(n,s,d,o),s.child}function Zl(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function LE(n,s,o,u,d){var g=Xd();return g=g===null?null:{parent:Ht._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},n!==null&&Yc(s,null),rp(),q1(s),n!==null&&go(n,s,u,!0),s.childLanes=d,null}function ch(n,s){return s=fh({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function PE(n,s,o){return pa(s,n.child,null,o),n=ch(s,s.pendingProps),n.flags|=2,zn(s),s.memoizedState=null,n}function KD(n,s,o){var u=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(nt){if(u.mode==="hidden")return n=ch(s,u),s.lanes=536870912,Zl(null,n);if(sp(s),(n=Tt)?(n=Qx(n,rr),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Zi!==null?{id:Wr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},o=E1(n),o.return=s,s.child=o,ln=s,Tt=null)):n=null,n===null)throw ts(s);return s.lanes=536870912,null}return ch(s,u)}var g=n.memoizedState;if(g!==null){var E=g.dehydrated;if(sp(s),d)if(s.flags&256)s.flags&=-257,s=PE(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if($t||go(n,s,o,!1),d=(o&n.childLanes)!==0,$t||d){if(u=_t,u!==null&&(E=bl(u,o),E!==0&&E!==g.retryLane))throw g.retryLane=E,aa(n,E),kn(u,n,E),Ap;Eh(),s=PE(n,s,o)}else n=g.treeContext,Tt=sr(E.nextSibling),ln=s,nt=!0,es=null,rr=!1,n!==null&&S1(s,n),s=ch(s,u),s.flags|=4096;return s}return n=fi(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function hh(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Rp(n,s,o,u,d){return ca(s),o=op(n,s,o,u,void 0,d),u=lp(),n!==null&&!$t?(up(n,s,d),vi(n,s,d)):(nt&&u&&Bd(s),s.flags|=1,cn(n,s,o,d),s.child)}function UE(n,s,o,u,d,g){return ca(s),s.updateQueue=null,o=B1(s,u,o,d),z1(n),u=lp(),n!==null&&!$t?(up(n,s,g),vi(n,s,g)):(nt&&u&&Bd(s),s.flags|=1,cn(n,s,o,g),s.child)}function qE(n,s,o,u,d){if(ca(s),s.stateNode===null){var g=ho,E=o.contextType;typeof E=="object"&&E!==null&&(g=un(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Sp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Zd(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?un(E):ho,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Tp(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Sp.enqueueReplaceState(g,g.state,null),Yl(s,u,g,d),Kl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){g=s.stateNode;var w=s.memoizedProps,V=ga(o,w);g.props=V;var $=g.context,Z=o.contextType;E=ho,typeof Z=="object"&&Z!==null&&(E=un(Z));var re=o.getDerivedStateFromProps;Z=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||$!==E)&&AE(s,g,u,E),rs=!1;var K=s.memoizedState;g.state=K,Yl(s,u,g,d),Kl(),$=s.memoizedState,w||K!==$||rs?(typeof re=="function"&&(Tp(s,o,re,u),$=s.memoizedState),(V=rs||wE(s,o,V,u,K,$,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=$),g.props=u,g.state=$,g.context=E,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,ep(n,s),E=s.memoizedProps,Z=ga(o,E),g.props=Z,re=s.pendingProps,K=g.context,$=o.contextType,V=ho,typeof $=="object"&&$!==null&&(V=un($)),w=o.getDerivedStateFromProps,($=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==re||K!==V)&&AE(s,g,u,V),rs=!1,K=s.memoizedState,g.state=K,Yl(s,u,g,d),Kl();var Q=s.memoizedState;E!==re||K!==Q||rs||n!==null&&n.dependencies!==null&&$c(n.dependencies)?(typeof w=="function"&&(Tp(s,o,w,u),Q=s.memoizedState),(Z=rs||wE(s,o,Z,u,K,Q,V)||n!==null&&n.dependencies!==null&&$c(n.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=V,u=Z):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),u=!1)}return g=u,hh(n,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&u?(s.child=pa(s,n.child,null,d),s.child=pa(s,null,o,d)):cn(n,s,o,d),s.memoizedState=g.state,n=s.child):n=vi(n,s,d),n}function zE(n,s,o,u){return la(),s.flags|=256,cn(n,s,o,u),s.child}var Cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ip(n){return{baseLanes:n,cachePool:N1()}}function Np(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Fn),n}function BE(n,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=n!==null&&n.memoizedState===null?!1:(jt.current&2)!==0),E&&(d=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(nt){if(d?as(s):os(),(n=Tt)?(n=Qx(n,rr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Zi!==null?{id:Wr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},o=E1(n),o.return=s,s.child=o,ln=s,Tt=null)):n=null,n===null)throw ts(s);return fm(n)?s.lanes=32:s.lanes=536870912,null}var w=u.children;return u=u.fallback,d?(os(),d=s.mode,w=fh({mode:"hidden",children:w},d),u=oa(u,d,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,u=s.child,u.memoizedState=Ip(o),u.childLanes=Np(n,E,o),s.memoizedState=Cp,Zl(null,u)):(as(s),Op(s,w))}var V=n.memoizedState;if(V!==null&&(w=V.dehydrated,w!==null)){if(g)s.flags&256?(as(s),s.flags&=-257,s=Dp(n,s,o)):s.memoizedState!==null?(os(),s.child=n.child,s.flags|=128,s=null):(os(),w=u.fallback,d=s.mode,u=fh({mode:"visible",children:u.children},d),w=oa(w,d,o,null),w.flags|=2,u.return=s,w.return=s,u.sibling=w,s.child=u,pa(s,n.child,null,o),u=s.child,u.memoizedState=Ip(o),u.childLanes=Np(n,E,o),s.memoizedState=Cp,s=Zl(null,u));else if(as(s),fm(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var $=E.dgst;E=$,u=Error(i(419)),u.stack="",u.digest=E,zl({value:u,source:null,stack:null}),s=Dp(n,s,o)}else if($t||go(n,s,o,!1),E=(o&n.childLanes)!==0,$t||E){if(E=_t,E!==null&&(u=bl(E,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,aa(n,u),kn(E,n,u),Ap;hm(w)||Eh(),s=Dp(n,s,o)}else hm(w)?(s.flags|=192,s.child=n.child,s=null):(n=V.treeContext,Tt=sr(w.nextSibling),ln=s,nt=!0,es=null,rr=!1,n!==null&&S1(s,n),s=Op(s,u.children),s.flags|=4096);return s}return d?(os(),w=u.fallback,d=s.mode,V=n.child,$=V.sibling,u=fi(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,$!==null?w=fi($,w):(w=oa(w,d,o,null),w.flags|=2),w.return=s,u.return=s,u.sibling=w,s.child=u,Zl(null,u),u=s.child,w=n.child.memoizedState,w===null?w=Ip(o):(d=w.cachePool,d!==null?(V=Ht._currentValue,d=d.parent!==V?{parent:V,pool:V}:d):d=N1(),w={baseLanes:w.baseLanes|o,cachePool:d}),u.memoizedState=w,u.childLanes=Np(n,E,o),s.memoizedState=Cp,Zl(n.child,u)):(as(s),o=n.child,n=o.sibling,o=fi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=o,s.memoizedState=null,o)}function Op(n,s){return s=fh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function fh(n,s){return n=Un(22,n,null,s),n.lanes=0,n}function Dp(n,s,o){return pa(s,n.child,null,o),n=Op(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function FE(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Kd(n.return,s,o)}function kp(n,s,o,u,d,g){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=d,E.treeForkCount=g)}function HE(n,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var E=jt.current,w=(E&2)!==0;if(w?(E=E&1|2,s.flags|=128):E&=1,le(jt,E),cn(n,s,u,o),u=nt?ql:0,!w&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&FE(n,o,s);else if(n.tag===19)FE(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)n=o.alternate,n!==null&&eh(n)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),kp(s,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&eh(n)===null){s.child=d;break}n=d.sibling,d.sibling=o,o=d,d=n}kp(s,!0,o,null,g,u);break;case"together":kp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function vi(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),cs|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(go(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,o=fi(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=fi(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Mp(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&$c(n)))}function YD(n,s,o){switch(s.tag){case 3:bt(s,s.stateNode.containerInfo),ns(s,Ht,n.memoizedState.cache),la();break;case 27:case 5:ie(s);break;case 4:bt(s,s.stateNode.containerInfo);break;case 10:ns(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,sp(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(as(s),s.flags|=128,null):(o&s.child.childLanes)!==0?BE(n,s,o):(as(s),n=vi(n,s,o),n!==null?n.sibling:null);as(s);break;case 19:var d=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(go(n,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return HE(n,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),le(jt,jt.current),u)break;return null;case 22:return s.lanes=0,VE(n,s,o,s.pendingProps);case 24:ns(s,Ht,n.memoizedState.cache)}return vi(n,s,o)}function GE(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)$t=!0;else{if(!Mp(n,o)&&(s.flags&128)===0)return $t=!1,YD(n,s,o);$t=(n.flags&131072)!==0}else $t=!1,nt&&(s.flags&1048576)!==0&&T1(s,ql,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=fa(s.elementType),s.type=n,typeof n=="function")Ud(n)?(u=ga(n,u),s.tag=1,s=qE(null,s,n,u,o)):(s.tag=0,s=Rp(null,s,n,u,o));else{if(n!=null){var d=n.$$typeof;if(d===ae){s.tag=11,s=kE(null,s,n,u,o);break e}else if(d===R){s.tag=14,s=ME(null,s,n,u,o);break e}}throw s=Ce(n)||n,Error(i(306,s,""))}}return s;case 0:return Rp(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=ga(u,s.pendingProps),qE(n,s,u,d,o);case 3:e:{if(bt(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,ep(n,s),Yl(s,u,null,o);var E=s.memoizedState;if(u=E.cache,ns(s,Ht,u),u!==g.cache&&Yd(s,[Ht],o,!0),Kl(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=zE(n,s,u,o);break e}else if(u!==d){d=er(Error(i(424)),s),zl(d),s=zE(n,s,u,o);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Tt=sr(n.firstChild),ln=s,nt=!0,es=null,rr=!0,o=V1(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(la(),u===d){s=vi(n,s,o);break e}cn(n,s,u,o)}s=s.child}return s;case 26:return hh(n,s),n===null?(o=nT(s.type,null,s.pendingProps,null))?s.memoizedState=o:nt||(o=s.type,n=s.pendingProps,u=Ch(Ae.current).createElement(o),u[zt]=s,u[nn]=n,hn(u,o,n),Bt(u),s.stateNode=u):s.memoizedState=nT(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return ie(s),n===null&&nt&&(u=s.stateNode=Zx(s.type,s.pendingProps,Ae.current),ln=s,rr=!0,d=Tt,ms(s.type)?(dm=d,Tt=sr(u.firstChild)):Tt=d),cn(n,s,s.pendingProps.children,o),hh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&nt&&((d=u=Tt)&&(u=Sk(u,s.type,s.pendingProps,rr),u!==null?(s.stateNode=u,ln=s,Tt=sr(u.firstChild),rr=!1,d=!0):d=!1),d||ts(s)),ie(s),d=s.type,g=s.pendingProps,E=n!==null?n.memoizedProps:null,u=g.children,lm(d,g)?u=null:E!==null&&lm(d,E)&&(s.flags|=32),s.memoizedState!==null&&(d=op(n,s,UD,null,null,o),pu._currentValue=d),hh(n,s),cn(n,s,u,o),s.child;case 6:return n===null&&nt&&((n=o=Tt)&&(o=wk(o,s.pendingProps,rr),o!==null?(s.stateNode=o,ln=s,Tt=null,n=!0):n=!1),n||ts(s)),null;case 13:return BE(n,s,o);case 4:return bt(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=pa(s,null,u,o):cn(n,s,u,o),s.child;case 11:return kE(n,s,s.type,s.pendingProps,o);case 7:return cn(n,s,s.pendingProps,o),s.child;case 8:return cn(n,s,s.pendingProps.children,o),s.child;case 12:return cn(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ns(s,s.type,u.value),cn(n,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,ca(s),d=un(d),u=u(d),s.flags|=1,cn(n,s,u,o),s.child;case 14:return ME(n,s,s.type,s.pendingProps,o);case 15:return jE(n,s,s.type,s.pendingProps,o);case 19:return HE(n,s,o);case 31:return KD(n,s,o);case 22:return VE(n,s,o,s.pendingProps);case 24:return ca(s),u=un(Ht),n===null?(d=Xd(),d===null&&(d=_t,g=Wd(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},Zd(s),ns(s,Ht,d)):((n.lanes&o)!==0&&(ep(n,s),Yl(s,null,null,o),Kl()),d=n.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),ns(s,Ht,u)):(u=g.cache,ns(s,Ht,u),u!==d.cache&&Yd(s,[Ht],o,!0))),cn(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function _i(n){n.flags|=4}function jp(n,s,o,u,d){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(vx())n.flags|=8192;else throw da=Qc,Jd}else n.flags&=-16777217}function $E(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!oT(s))if(vx())n.flags|=8192;else throw da=Qc,Jd}function dh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?_c():536870912,n.lanes|=s,Co|=s)}function eu(n,s){if(!nt)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function St(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function WD(n,s,o){var u=s.pendingProps;switch(Fd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(s),null;case 1:return St(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),mi(Ht),Ke(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(mo(s)?_i(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Gd())),St(s),null;case 26:var d=s.type,g=s.memoizedState;return n===null?(_i(s),g!==null?(St(s),$E(s,g)):(St(s),jp(s,d,null,u,o))):g?g!==n.memoizedState?(_i(s),St(s),$E(s,g)):(St(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&_i(s),St(s),jp(s,d,n,u,o)),null;case 27:if(J(s),o=Ae.current,d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&_i(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return St(s),null}n=fe.current,mo(s)?w1(s):(n=Zx(d,u,o),s.stateNode=n,_i(s))}return St(s),null;case 5:if(J(s),d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&_i(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return St(s),null}if(g=fe.current,mo(s))w1(s);else{var E=Ch(Ae.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?E.createElement(d,{is:u.is}):E.createElement(d)}}g[zt]=s,g[nn]=u;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=g;e:switch(hn(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&_i(s)}}return St(s),jp(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&_i(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=Ae.current,mo(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,d=ln,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}n[zt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Bx(n.nodeValue,o)),n||ts(s,!0)}else n=Ch(n).createTextNode(u),n[zt]=s,s.stateNode=n}return St(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=mo(s),o!==null){if(n===null){if(!u)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[zt]=s}else la(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),n=!1}else o=Gd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(zn(s),s):(zn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return St(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=mo(s),u!==null&&u.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[zt]=s}else la(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),d=!1}else d=Gd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(zn(s),s):(zn(s),null)}return zn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),dh(s,s.updateQueue),St(s),null);case 4:return Ke(),n===null&&rm(s.stateNode.containerInfo),St(s),null;case 10:return mi(s.type),St(s),null;case 19:if(ee(jt),u=s.memoizedState,u===null)return St(s),null;if(d=(s.flags&128)!==0,g=u.rendering,g===null)if(d)eu(u,!1);else{if(Dt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=eh(n),g!==null){for(s.flags|=128,eu(u,!1),n=g.updateQueue,s.updateQueue=n,dh(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)b1(o,n),o=o.sibling;return le(jt,jt.current&1|2),nt&&di(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&It()>vh&&(s.flags|=128,d=!0,eu(u,!1),s.lanes=4194304)}else{if(!d)if(n=eh(g),n!==null){if(s.flags|=128,d=!0,n=n.updateQueue,s.updateQueue=n,dh(s,n),eu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!nt)return St(s),null}else 2*It()-u.renderingStartTime>vh&&o!==536870912&&(s.flags|=128,d=!0,eu(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(n=u.last,n!==null?n.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=It(),n.sibling=null,o=jt.current,le(jt,d?o&1|2:o&1),nt&&di(s,u.treeForkCount),n):(St(s),null);case 22:case 23:return zn(s),ip(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(St(s),s.subtreeFlags&6&&(s.flags|=8192)):St(s),o=s.updateQueue,o!==null&&dh(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&ee(ha),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),mi(Ht),St(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function QD(n,s){switch(Fd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return mi(Ht),Ke(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return J(s),null;case 31:if(s.memoizedState!==null){if(zn(s),s.alternate===null)throw Error(i(340));la()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(zn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));la()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ee(jt),null;case 4:return Ke(),null;case 10:return mi(s.type),null;case 22:case 23:return zn(s),ip(),n!==null&&ee(ha),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return mi(Ht),null;case 25:return null;default:return null}}function KE(n,s){switch(Fd(s),s.tag){case 3:mi(Ht),Ke();break;case 26:case 27:case 5:J(s);break;case 4:Ke();break;case 31:s.memoizedState!==null&&zn(s);break;case 13:zn(s);break;case 19:ee(jt);break;case 10:mi(s.type);break;case 22:case 23:zn(s),ip(),n!==null&&ee(ha);break;case 24:mi(Ht)}}function tu(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&n)===n){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==d)}}catch(w){pt(s,s.return,w)}}function ls(n,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&n)===n){var E=u.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,d=s;var V=o,$=w;try{$()}catch(Z){pt(d,V,Z)}}}u=u.next}while(u!==g)}}catch(Z){pt(s,s.return,Z)}}function YE(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{P1(s,o)}catch(u){pt(n,n.return,u)}}}function WE(n,s,o){o.props=ga(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){pt(n,s,u)}}function nu(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(d){pt(n,s,d)}}function Xr(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){pt(n,s,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){pt(n,s,d)}else o.current=null}function QE(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){pt(n,n.return,d)}}function Vp(n,s,o){try{var u=n.stateNode;vk(u,n.type,o,s),u[nn]=s}catch(d){pt(n,n.return,d)}}function XE(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ms(n.type)||n.tag===4}function Lp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||XE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ms(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Pp(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=pr));else if(u!==4&&(u===27&&ms(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Pp(n,s,o),n=n.sibling;n!==null;)Pp(n,s,o),n=n.sibling}function ph(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&ms(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(ph(n,s,o),n=n.sibling;n!==null;)ph(n,s,o),n=n.sibling}function JE(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);hn(s,u,o),s[zt]=n,s[nn]=o}catch(g){pt(n,n.return,g)}}var bi=!1,Kt=!1,Up=!1,ZE=typeof WeakSet=="function"?WeakSet:Set,sn=null;function XD(n,s){if(n=n.containerInfo,am=jh,n=h1(n),Dd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,w=-1,V=-1,$=0,Z=0,re=n,K=null;t:for(;;){for(var Q;re!==o||d!==0&&re.nodeType!==3||(w=E+d),re!==g||u!==0&&re.nodeType!==3||(V=E+u),re.nodeType===3&&(E+=re.nodeValue.length),(Q=re.firstChild)!==null;)K=re,re=Q;for(;;){if(re===n)break t;if(K===o&&++$===d&&(w=E),K===g&&++Z===u&&(V=E),(Q=re.nextSibling)!==null)break;re=K,K=re.parentNode}re=Q}o=w===-1||V===-1?null:{start:w,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(om={focusedElem:n,selectionRange:o},jh=!1,sn=s;sn!==null;)if(s=sn,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,sn=n;else for(;sn!==null;){switch(s=sn,g=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)d=n[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var ye=ga(o.type,d);n=u.getSnapshotBeforeUpdate(ye,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(we){pt(o,o.return,we)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)cm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":cm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,sn=n;break}sn=s.return}}function ex(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:xi(n,o),u&4&&tu(5,o);break;case 1:if(xi(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(E){pt(o,o.return,E)}else{var d=ga(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(d,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){pt(o,o.return,E)}}u&64&&YE(o),u&512&&nu(o,o.return);break;case 3:if(xi(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{P1(n,s)}catch(E){pt(o,o.return,E)}}break;case 27:s===null&&u&4&&JE(o);case 26:case 5:xi(n,o),s===null&&u&4&&QE(o),u&512&&nu(o,o.return);break;case 12:xi(n,o);break;case 31:xi(n,o),u&4&&rx(n,o);break;case 13:xi(n,o),u&4&&ix(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=ak.bind(null,o),Ak(n,o))));break;case 22:if(u=o.memoizedState!==null||bi,!u){s=s!==null&&s.memoizedState!==null||Kt,d=bi;var g=Kt;bi=u,(Kt=s)&&!g?Ti(n,o,(o.subtreeFlags&8772)!==0):xi(n,o),bi=d,Kt=g}break;case 30:break;default:xi(n,o)}}function tx(n){var s=n.alternate;s!==null&&(n.alternate=null,tx(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Xa(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Rt=null,In=!1;function Ei(n,s,o){for(o=o.child;o!==null;)nx(n,s,o),o=o.sibling}function nx(n,s,o){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Ut,o)}catch{}switch(o.tag){case 26:Kt||Xr(o,s),Ei(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Kt||Xr(o,s);var u=Rt,d=In;ms(o.type)&&(Rt=o.stateNode,In=!1),Ei(n,s,o),hu(o.stateNode),Rt=u,In=d;break;case 5:Kt||Xr(o,s);case 6:if(u=Rt,d=In,Rt=null,Ei(n,s,o),Rt=u,In=d,Rt!==null)if(In)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(o.stateNode)}catch(g){pt(o,s,g)}else try{Rt.removeChild(o.stateNode)}catch(g){pt(o,s,g)}break;case 18:Rt!==null&&(In?(n=Rt,Yx(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Vo(n)):Yx(Rt,o.stateNode));break;case 4:u=Rt,d=In,Rt=o.stateNode.containerInfo,In=!0,Ei(n,s,o),Rt=u,In=d;break;case 0:case 11:case 14:case 15:ls(2,o,s),Kt||ls(4,o,s),Ei(n,s,o);break;case 1:Kt||(Xr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&WE(o,s,u)),Ei(n,s,o);break;case 21:Ei(n,s,o);break;case 22:Kt=(u=Kt)||o.memoizedState!==null,Ei(n,s,o),Kt=u;break;default:Ei(n,s,o)}}function rx(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Vo(n)}catch(o){pt(s,s.return,o)}}}function ix(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Vo(n)}catch(o){pt(s,s.return,o)}}function JD(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new ZE),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new ZE),s;default:throw Error(i(435,n.tag))}}function mh(n,s){var o=JD(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var d=ok.bind(null,n,u);u.then(d,d)}})}function Nn(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=n,E=s,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(ms(w.type)){Rt=w.stateNode,In=!1;break e}break;case 5:Rt=w.stateNode,In=!1;break e;case 3:case 4:Rt=w.stateNode.containerInfo,In=!0;break e}w=w.return}if(Rt===null)throw Error(i(160));nx(g,E,d),Rt=null,In=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)sx(s,n),s=s.sibling}var br=null;function sx(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Nn(s,n),On(n),u&4&&(ls(3,n,n.return),tu(3,n),ls(5,n,n.return));break;case 1:Nn(s,n),On(n),u&512&&(Kt||o===null||Xr(o,o.return)),u&64&&bi&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=br;if(Nn(s,n),On(n),u&512&&(Kt||o===null||Xr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Lr]||g[zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),hn(g,u,o),g[zt]=n,Bt(g),u=g;break e;case"link":var E=sT("link","href",d).get(u+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(g=E[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break t}}g=d.createElement(u),hn(g,u,o),d.head.appendChild(g);break;case"meta":if(E=sT("meta","content",d).get(u+(o.content||""))){for(w=0;w<E.length;w++)if(g=E[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break t}}g=d.createElement(u),hn(g,u,o),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[zt]=n,Bt(g),u=g}n.stateNode=u}else aT(d,n.type,n.stateNode);else n.stateNode=iT(d,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?aT(d,n.type,n.stateNode):iT(d,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Vp(n,n.memoizedProps,o.memoizedProps)}break;case 27:Nn(s,n),On(n),u&512&&(Kt||o===null||Xr(o,o.return)),o!==null&&u&4&&Vp(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Nn(s,n),On(n),u&512&&(Kt||o===null||Xr(o,o.return)),n.flags&32){d=n.stateNode;try{Cn(d,"")}catch(ye){pt(n,n.return,ye)}}u&4&&n.stateNode!=null&&(d=n.memoizedProps,Vp(n,d,o!==null?o.memoizedProps:d)),u&1024&&(Up=!0);break;case 6:if(Nn(s,n),On(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(ye){pt(n,n.return,ye)}}break;case 3:if(Oh=null,d=br,br=Ih(s.containerInfo),Nn(s,n),br=d,On(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Vo(s.containerInfo)}catch(ye){pt(n,n.return,ye)}Up&&(Up=!1,ax(n));break;case 4:u=br,br=Ih(n.stateNode.containerInfo),Nn(s,n),On(n),br=u;break;case 12:Nn(s,n),On(n);break;case 31:Nn(s,n),On(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,mh(n,u)));break;case 13:Nn(s,n),On(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(yh=It()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,mh(n,u)));break;case 22:d=n.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,$=bi,Z=Kt;if(bi=$||d,Kt=Z||V,Nn(s,n),Kt=Z,bi=$,On(n),u&8192)e:for(s=n.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||V||bi||Kt||ya(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,d)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=V.stateNode;var re=V.memoizedProps.style,K=re!=null&&re.hasOwnProperty("display")?re.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ye){pt(V,V.return,ye)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=d?"":V.memoizedProps}catch(ye){pt(V,V.return,ye)}}}else if(s.tag===18){if(o===null){V=s;try{var Q=V.stateNode;d?Wx(Q,!0):Wx(V.stateNode,!1)}catch(ye){pt(V,V.return,ye)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,mh(n,o))));break;case 19:Nn(s,n),On(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,mh(n,u)));break;case 30:break;case 21:break;default:Nn(s,n),On(n)}}function On(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(XE(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,g=Lp(n);ph(n,g,d);break;case 5:var E=o.stateNode;o.flags&32&&(Cn(E,""),o.flags&=-33);var w=Lp(n);ph(n,w,E);break;case 3:case 4:var V=o.stateNode.containerInfo,$=Lp(n);Pp(n,$,V);break;default:throw Error(i(161))}}catch(Z){pt(n,n.return,Z)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function ax(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;ax(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function xi(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ex(n,s.alternate,s),s=s.sibling}function ya(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ls(4,s,s.return),ya(s);break;case 1:Xr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&WE(s,s.return,o),ya(s);break;case 27:hu(s.stateNode);case 26:case 5:Xr(s,s.return),ya(s);break;case 22:s.memoizedState===null&&ya(s);break;case 30:ya(s);break;default:ya(s)}n=n.sibling}}function Ti(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=n,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:Ti(d,g,o),tu(4,g);break;case 1:if(Ti(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){pt(u,u.return,$)}if(u=g,d=u.updateQueue,d!==null){var w=u.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)L1(V[d],w)}catch($){pt(u,u.return,$)}}o&&E&64&&YE(g),nu(g,g.return);break;case 27:JE(g);case 26:case 5:Ti(d,g,o),o&&u===null&&E&4&&QE(g),nu(g,g.return);break;case 12:Ti(d,g,o);break;case 31:Ti(d,g,o),o&&E&4&&rx(d,g);break;case 13:Ti(d,g,o),o&&E&4&&ix(d,g);break;case 22:g.memoizedState===null&&Ti(d,g,o),nu(g,g.return);break;case 30:break;default:Ti(d,g,o)}s=s.sibling}}function qp(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Bl(o))}function zp(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Bl(n))}function Er(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ox(n,s,o,u),s=s.sibling}function ox(n,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Er(n,s,o,u),d&2048&&tu(9,s);break;case 1:Er(n,s,o,u);break;case 3:Er(n,s,o,u),d&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Bl(n)));break;case 12:if(d&2048){Er(n,s,o,u),n=s.stateNode;try{var g=s.memoizedProps,E=g.id,w=g.onPostCommit;typeof w=="function"&&w(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){pt(s,s.return,V)}}else Er(n,s,o,u);break;case 31:Er(n,s,o,u);break;case 13:Er(n,s,o,u);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?Er(n,s,o,u):ru(n,s):g._visibility&2?Er(n,s,o,u):(g._visibility|=2,wo(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),d&2048&&qp(E,s);break;case 24:Er(n,s,o,u),d&2048&&zp(s.alternate,s);break;default:Er(n,s,o,u)}}function wo(n,s,o,u,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=n,E=s,w=o,V=u,$=E.flags;switch(E.tag){case 0:case 11:case 15:wo(g,E,w,V,d),tu(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?wo(g,E,w,V,d):ru(g,E):(Z._visibility|=2,wo(g,E,w,V,d)),d&&$&2048&&qp(E.alternate,E);break;case 24:wo(g,E,w,V,d),d&&$&2048&&zp(E.alternate,E);break;default:wo(g,E,w,V,d)}s=s.sibling}}function ru(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,d=u.flags;switch(u.tag){case 22:ru(o,u),d&2048&&qp(u.alternate,u);break;case 24:ru(o,u),d&2048&&zp(u.alternate,u);break;default:ru(o,u)}s=s.sibling}}var iu=8192;function Ao(n,s,o){if(n.subtreeFlags&iu)for(n=n.child;n!==null;)lx(n,s,o),n=n.sibling}function lx(n,s,o){switch(n.tag){case 26:Ao(n,s,o),n.flags&iu&&n.memoizedState!==null&&Pk(o,br,n.memoizedState,n.memoizedProps);break;case 5:Ao(n,s,o);break;case 3:case 4:var u=br;br=Ih(n.stateNode.containerInfo),Ao(n,s,o),br=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=iu,iu=16777216,Ao(n,s,o),iu=u):Ao(n,s,o));break;default:Ao(n,s,o)}}function ux(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function su(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];sn=u,hx(u,n)}ux(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)cx(n),n=n.sibling}function cx(n){switch(n.tag){case 0:case 11:case 15:su(n),n.flags&2048&&ls(9,n,n.return);break;case 3:su(n);break;case 12:su(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,gh(n)):su(n);break;default:su(n)}}function gh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];sn=u,hx(u,n)}ux(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ls(8,s,s.return),gh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,gh(s));break;default:gh(s)}n=n.sibling}}function hx(n,s){for(;sn!==null;){var o=sn;switch(o.tag){case 0:case 11:case 15:ls(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,sn=u;else e:for(o=n;sn!==null;){u=sn;var d=u.sibling,g=u.return;if(tx(u),u===o){sn=null;break e}if(d!==null){d.return=g,sn=d;break e}sn=g}}}var ZD={getCacheForType:function(n){var s=un(Ht),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return un(Ht).controller.signal}},ek=typeof WeakMap=="function"?WeakMap:Map,ct=0,_t=null,Ge=null,We=0,dt=0,Bn=null,us=!1,Ro=!1,Bp=!1,Si=0,Dt=0,cs=0,va=0,Fp=0,Fn=0,Co=0,au=null,Dn=null,Hp=!1,yh=0,fx=0,vh=1/0,_h=null,hs=null,Zt=0,fs=null,Io=null,wi=0,Gp=0,$p=null,dx=null,ou=0,Kp=null;function Hn(){return(ct&2)!==0&&We!==0?We&-We:X.T!==null?Zp():bc()}function px(){if(Fn===0)if((We&536870912)===0||nt){var n=Gs;Gs<<=1,(Gs&3932160)===0&&(Gs=262144),Fn=n}else Fn=536870912;return n=qn.current,n!==null&&(n.flags|=32),Fn}function kn(n,s,o){(n===_t&&(dt===2||dt===9)||n.cancelPendingCommit!==null)&&(No(n,0),ds(n,We,Fn,!1)),$s(n,o),((ct&2)===0||n!==_t)&&(n===_t&&((ct&2)===0&&(va|=o),Dt===4&&ds(n,We,Fn,!1)),Jr(n))}function mx(n,s,o){if((ct&6)!==0)throw Error(i(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||hr(n,s),d=u?rk(n,s):Wp(n,s,!0),g=u;do{if(d===0){Ro&&!u&&ds(n,s,0,!1);break}else{if(o=n.current.alternate,g&&!tk(o)){d=Wp(n,s,!1),g=!1;continue}if(d===2){if(g=s,n.errorRecoveryDisabledLanes&g)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var w=n;d=au;var V=w.current.memoizedState.isDehydrated;if(V&&(No(w,E).flags|=256),E=Wp(w,E,!1),E!==2){if(Bp&&!V){w.errorRecoveryDisabledLanes|=g,va|=g,d=4;break e}g=Dn,Dn=d,g!==null&&(Dn===null?Dn=g:Dn.push.apply(Dn,g))}d=E}if(g=!1,d!==2)continue}}if(d===1){No(n,0),ds(n,s,0,!0);break}e:{switch(u=n,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ds(u,s,Fn,!us);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=yh+300-It(),10<d)){if(ds(u,s,Fn,!us),Mr(u,0,!0)!==0)break e;wi=s,u.timeoutHandle=$x(gx.bind(null,u,o,Dn,_h,Hp,s,Fn,va,Co,us,g,"Throttled",-0,0),d);break e}gx(u,o,Dn,_h,Hp,s,Fn,va,Co,us,g,null,-0,0)}}break}while(!0);Jr(n)}function gx(n,s,o,u,d,g,E,w,V,$,Z,re,K,Q){if(n.timeoutHandle=-1,re=s.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pr},lx(s,g,re);var ye=(g&62914560)===g?yh-It():(g&4194048)===g?fx-It():0;if(ye=Uk(re,ye),ye!==null){wi=g,n.cancelPendingCommit=ye(Sx.bind(null,n,s,g,o,u,d,E,w,V,Z,re,null,K,Q)),ds(n,g,E,!$);return}}Sx(n,s,g,o,u,d,E,w,V)}function tk(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Pn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ds(n,s,o,u){s&=~Fp,s&=~va,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var d=s;0<d;){var g=31-kt(d),E=1<<g;u[g]=-1,d&=~E}o!==0&&Ks(n,o,s)}function bh(){return(ct&6)===0?(lu(0),!1):!0}function Yp(){if(Ge!==null){if(dt===0)var n=Ge.return;else n=Ge,pi=ua=null,cp(n),bo=null,Hl=0,n=Ge;for(;n!==null;)KE(n.alternate,n),n=n.return;Ge=null}}function No(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,Ek(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),wi=0,Yp(),_t=n,Ge=o=fi(n.current,null),We=s,dt=0,Bn=null,us=!1,Ro=hr(n,s),Bp=!1,Co=Fn=Fp=va=cs=Dt=0,Dn=au=null,Hp=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var d=31-kt(u),g=1<<d;s|=n[d],u&=~g}return Si=s,zc(),o}function yx(n,s){ze=null,X.H=Jl,s===_o||s===Wc?(s=k1(),dt=3):s===Jd?(s=k1(),dt=4):dt=s===Ap?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bn=s,Ge===null&&(Dt=1,uh(n,er(s,n.current)))}function vx(){var n=qn.current;return n===null?!0:(We&4194048)===We?ir===null:(We&62914560)===We||(We&536870912)!==0?n===ir:!1}function _x(){var n=X.H;return X.H=Jl,n===null?Jl:n}function bx(){var n=X.A;return X.A=ZD,n}function Eh(){Dt=4,us||(We&4194048)!==We&&qn.current!==null||(Ro=!0),(cs&134217727)===0&&(va&134217727)===0||_t===null||ds(_t,We,Fn,!1)}function Wp(n,s,o){var u=ct;ct|=2;var d=_x(),g=bx();(_t!==n||We!==s)&&(_h=null,No(n,s)),s=!1;var E=Dt;e:do try{if(dt!==0&&Ge!==null){var w=Ge,V=Bn;switch(dt){case 8:Yp(),E=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(s=!0);var $=dt;if(dt=0,Bn=null,Oo(n,w,V,$),o&&Ro){E=0;break e}break;default:$=dt,dt=0,Bn=null,Oo(n,w,V,$)}}nk(),E=Dt;break}catch(Z){yx(n,Z)}while(!0);return s&&n.shellSuspendCounter++,pi=ua=null,ct=u,X.H=d,X.A=g,Ge===null&&(_t=null,We=0,zc()),E}function nk(){for(;Ge!==null;)Ex(Ge)}function rk(n,s){var o=ct;ct|=2;var u=_x(),d=bx();_t!==n||We!==s?(_h=null,vh=It()+500,No(n,s)):Ro=hr(n,s);e:do try{if(dt!==0&&Ge!==null){s=Ge;var g=Bn;t:switch(dt){case 1:dt=0,Bn=null,Oo(n,s,g,1);break;case 2:case 9:if(O1(g)){dt=0,Bn=null,xx(s);break}s=function(){dt!==2&&dt!==9||_t!==n||(dt=7),Jr(n)},g.then(s,s);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:O1(g)?(dt=0,Bn=null,xx(s)):(dt=0,Bn=null,Oo(n,s,g,7));break;case 5:var E=null;switch(Ge.tag){case 26:E=Ge.memoizedState;case 5:case 27:var w=Ge;if(E?oT(E):w.stateNode.complete){dt=0,Bn=null;var V=w.sibling;if(V!==null)Ge=V;else{var $=w.return;$!==null?(Ge=$,xh($)):Ge=null}break t}}dt=0,Bn=null,Oo(n,s,g,5);break;case 6:dt=0,Bn=null,Oo(n,s,g,6);break;case 8:Yp(),Dt=6;break e;default:throw Error(i(462))}}ik();break}catch(Z){yx(n,Z)}while(!0);return pi=ua=null,X.H=u,X.A=d,ct=o,Ge!==null?0:(_t=null,We=0,zc(),Dt)}function ik(){for(;Ge!==null&&!lt();)Ex(Ge)}function Ex(n){var s=GE(n.alternate,n,Si);n.memoizedProps=n.pendingProps,s===null?xh(n):Ge=s}function xx(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=UE(o,s,s.pendingProps,s.type,void 0,We);break;case 11:s=UE(o,s,s.pendingProps,s.type.render,s.ref,We);break;case 5:cp(s);default:KE(o,s),s=Ge=b1(s,Si),s=GE(o,s,Si)}n.memoizedProps=n.pendingProps,s===null?xh(n):Ge=s}function Oo(n,s,o,u){pi=ua=null,cp(s),bo=null,Hl=0;var d=s.return;try{if($D(n,d,s,o,We)){Dt=1,uh(n,er(o,n.current)),Ge=null;return}}catch(g){if(d!==null)throw Ge=d,g;Dt=1,uh(n,er(o,n.current)),Ge=null;return}s.flags&32768?(nt||u===1?n=!0:Ro||(We&536870912)!==0?n=!1:(us=n=!0,(u===2||u===9||u===3||u===6)&&(u=qn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Tx(s,n)):xh(s)}function xh(n){var s=n;do{if((s.flags&32768)!==0){Tx(s,us);return}n=s.return;var o=WD(s.alternate,s,Si);if(o!==null){Ge=o;return}if(s=s.sibling,s!==null){Ge=s;return}Ge=s=n}while(s!==null);Dt===0&&(Dt=5)}function Tx(n,s){do{var o=QD(n.alternate,n);if(o!==null){o.flags&=32767,Ge=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Ge=n;return}Ge=n=o}while(n!==null);Dt=6,Ge=null}function Sx(n,s,o,u,d,g,E,w,V){n.cancelPendingCommit=null;do Th();while(Zt!==0);if((ct&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=Ld,Cd(n,o,g,E,w,V),n===_t&&(Ge=_t=null,We=0),Io=s,fs=n,wi=o,Gp=g,$p=d,dx=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,lk(Tn,function(){return Ix(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,d=ce.p,ce.p=2,E=ct,ct|=4;try{XD(n,s,o)}finally{ct=E,ce.p=d,X.T=u}}Zt=1,wx(),Ax(),Rx()}}function wx(){if(Zt===1){Zt=0;var n=fs,s=Io,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=ce.p;ce.p=2;var d=ct;ct|=4;try{sx(s,n);var g=om,E=h1(n.containerInfo),w=g.focusedElem,V=g.selectionRange;if(E!==w&&w&&w.ownerDocument&&c1(w.ownerDocument.documentElement,w)){if(V!==null&&Dd(w)){var $=V.start,Z=V.end;if(Z===void 0&&(Z=$),"selectionStart"in w)w.selectionStart=$,w.selectionEnd=Math.min(Z,w.value.length);else{var re=w.ownerDocument||document,K=re&&re.defaultView||window;if(K.getSelection){var Q=K.getSelection(),ye=w.textContent.length,we=Math.min(V.start,ye),vt=V.end===void 0?we:Math.min(V.end,ye);!Q.extend&&we>vt&&(E=vt,vt=we,we=E);var F=u1(w,we),q=u1(w,vt);if(F&&q&&(Q.rangeCount!==1||Q.anchorNode!==F.node||Q.anchorOffset!==F.offset||Q.focusNode!==q.node||Q.focusOffset!==q.offset)){var G=re.createRange();G.setStart(F.node,F.offset),Q.removeAllRanges(),we>vt?(Q.addRange(G),Q.extend(q.node,q.offset)):(G.setEnd(q.node,q.offset),Q.addRange(G))}}}}for(re=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&re.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<re.length;w++){var te=re[w];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}jh=!!am,om=am=null}finally{ct=d,ce.p=u,X.T=o}}n.current=s,Zt=2}}function Ax(){if(Zt===2){Zt=0;var n=fs,s=Io,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=ce.p;ce.p=2;var d=ct;ct|=4;try{ex(n,s.alternate,s)}finally{ct=d,ce.p=u,X.T=o}}Zt=3}}function Rx(){if(Zt===4||Zt===3){Zt=0,st();var n=fs,s=Io,o=wi,u=dx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zt=5:(Zt=0,Io=fs=null,Cx(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(hs=null),li(o),s=s.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Ut,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=X.T,d=ce.p,ce.p=2,X.T=null;try{for(var g=n.onRecoverableError,E=0;E<u.length;E++){var w=u[E];g(w.value,{componentStack:w.stack})}}finally{X.T=s,ce.p=d}}(wi&3)!==0&&Th(),Jr(n),d=n.pendingLanes,(o&261930)!==0&&(d&42)!==0?n===Kp?ou++:(ou=0,Kp=n):ou=0,lu(0)}}function Cx(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Bl(s)))}function Th(){return wx(),Ax(),Rx(),Ix()}function Ix(){if(Zt!==5)return!1;var n=fs,s=Gp;Gp=0;var o=li(wi),u=X.T,d=ce.p;try{ce.p=32>o?32:o,X.T=null,o=$p,$p=null;var g=fs,E=wi;if(Zt=0,Io=fs=null,wi=0,(ct&6)!==0)throw Error(i(331));var w=ct;if(ct|=4,cx(g.current),ox(g,g.current,E,o),ct=w,lu(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Ut,g)}catch{}return!0}finally{ce.p=d,X.T=u,Cx(n,s)}}function Nx(n,s,o){s=er(o,s),s=wp(n.stateNode,s,2),n=ss(n,s,2),n!==null&&($s(n,2),Jr(n))}function pt(n,s,o){if(n.tag===3)Nx(n,n,o);else for(;s!==null;){if(s.tag===3){Nx(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(hs===null||!hs.has(u))){n=er(o,n),o=OE(2),u=ss(s,o,2),u!==null&&(DE(o,u,s,n),$s(u,2),Jr(u));break}}s=s.return}}function Qp(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new ek;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Bp=!0,d.add(o),n=sk.bind(null,n,s,o),s.then(n,n))}function sk(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,_t===n&&(We&o)===o&&(Dt===4||Dt===3&&(We&62914560)===We&&300>It()-yh?(ct&2)===0&&No(n,0):Fp|=o,Co===We&&(Co=0)),Jr(n)}function Ox(n,s){s===0&&(s=_c()),n=aa(n,s),n!==null&&($s(n,s),Jr(n))}function ak(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),Ox(n,o)}function ok(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),Ox(n,o)}function lk(n,s){return Se(n,s)}var Sh=null,Do=null,Xp=!1,wh=!1,Jp=!1,ps=0;function Jr(n){n!==Do&&n.next===null&&(Do===null?Sh=Do=n:Do=Do.next=n),wh=!0,Xp||(Xp=!0,ck())}function lu(n,s){if(!Jp&&wh){Jp=!0;do for(var o=!1,u=Sh;u!==null;){if(n!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var E=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-kt(42|n)+1)-1,g&=d&~(E&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,jx(u,g))}else g=We,g=Mr(u,u===_t?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||hr(u,g)||(o=!0,jx(u,g));u=u.next}while(o);Jp=!1}}function uk(){Dx()}function Dx(){wh=Xp=!1;var n=0;ps!==0&&bk()&&(n=ps);for(var s=It(),o=null,u=Sh;u!==null;){var d=u.next,g=kx(u,s);g===0?(u.next=null,o===null?Sh=d:o.next=d,d===null&&(Do=o)):(o=u,(n!==0||(g&3)!==0)&&(wh=!0)),u=d}Zt!==0&&Zt!==5||lu(n),ps!==0&&(ps=0)}function kx(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var E=31-kt(g),w=1<<E,V=d[E];V===-1?((w&o)===0||(w&u)!==0)&&(d[E]=Rd(w,s)):V<=s&&(n.expiredLanes|=w),g&=~w}if(s=_t,o=We,o=Mr(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(dt===2||dt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&rt(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||hr(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&rt(u),li(o)){case 2:case 8:o=Fi;break;case 32:o=Tn;break;case 268435456:o=Fs;break;default:o=Tn}return u=Mx.bind(null,n),o=Se(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&rt(u),n.callbackPriority=2,n.callbackNode=null,2}function Mx(n,s){if(Zt!==0&&Zt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Th()&&n.callbackNode!==o)return null;var u=We;return u=Mr(n,n===_t?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(mx(n,u,s),kx(n,It()),n.callbackNode!=null&&n.callbackNode===o?Mx.bind(null,n):null)}function jx(n,s){if(Th())return null;mx(n,s,!0)}function ck(){xk(function(){(ct&6)!==0?Se(Bs,uk):Dx()})}function Zp(){if(ps===0){var n=yo;n===0&&(n=Dr,Dr<<=1,(Dr&261888)===0&&(Dr=256)),ps=n}return ps}function Vx(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:to(""+n)}function Lx(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function hk(n,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=Vx((d[nn]||null).action),E=u.submitter;E&&(s=(s=E[nn]||null)?Vx(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var w=new Gr("action","action",null,u,d);n.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ps!==0){var V=E?Lx(d,E):new FormData(d);_p(o,{pending:!0,data:V,method:d.method,action:g},null,V)}}else typeof g=="function"&&(w.preventDefault(),V=E?Lx(d,E):new FormData(d),_p(o,{pending:!0,data:V,method:d.method,action:g},g,V))},currentTarget:d}]})}}for(var em=0;em<Vd.length;em++){var tm=Vd[em],fk=tm.toLowerCase(),dk=tm[0].toUpperCase()+tm.slice(1);_r(fk,"on"+dk)}_r(p1,"onAnimationEnd"),_r(m1,"onAnimationIteration"),_r(g1,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(ID,"onTransitionRun"),_r(ND,"onTransitionStart"),_r(OD,"onTransitionCancel"),_r(y1,"onTransitionEnd"),zr("onMouseEnter",["mouseout","mouseover"]),zr("onMouseLeave",["mouseout","mouseover"]),zr("onPointerEnter",["pointerout","pointerover"]),zr("onPointerLeave",["pointerout","pointerover"]),qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uu));function Px(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],d=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var w=u[E],V=w.instance,$=w.currentTarget;if(w=w.listener,V!==g&&d.isPropagationStopped())break e;g=w,d.currentTarget=$;try{g(d)}catch(Z){qc(Z)}d.currentTarget=null,g=V}else for(E=0;E<u.length;E++){if(w=u[E],V=w.instance,$=w.currentTarget,w=w.listener,V!==g&&d.isPropagationStopped())break e;g=w,d.currentTarget=$;try{g(d)}catch(Z){qc(Z)}d.currentTarget=null,g=V}}}}function $e(n,s){var o=s[Qa];o===void 0&&(o=s[Qa]=new Set);var u=n+"__bubble";o.has(u)||(Ux(s,n,2,!1),o.add(u))}function nm(n,s,o){var u=0;s&&(u|=4),Ux(o,n,u,s)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function rm(n){if(!n[Ah]){n[Ah]=!0,El.forEach(function(o){o!=="selectionchange"&&(pk.has(o)||nm(o,!1,n),nm(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ah]||(s[Ah]=!0,nm("selectionchange",!1,s))}}function Ux(n,s,o,u){switch(pT(s)){case 2:var d=Bk;break;case 8:d=Fk;break;default:d=vm}o=d.bind(null,s,o,n),d=void 0,!Js||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(s,o,{capture:!0,passive:d}):n.addEventListener(s,o,!0):d!==void 0?n.addEventListener(s,o,{passive:d}):n.addEventListener(s,o,!1)}function im(n,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var w=u.stateNode.containerInfo;if(w===d)break;if(E===4)for(E=u.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;w!==null;){if(E=Pr(w),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){u=g=E;continue e}w=w.parentNode}}u=u.return}Wi(function(){var $=g,Z=Qn(o),re=[];e:{var K=v1.get(n);if(K!==void 0){var Q=Gr,ye=n;switch(n){case"keypress":if(ea(o)===0)break e;case"keydown":case"keyup":Q=Lc;break;case"focusin":ye="focus",Q=na;break;case"focusout":ye="blur",Q=na;break;case"beforeblur":case"afterblur":Q=na;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_;break;case p1:case m1:case g1:Q=Nc;break;case y1:Q=A;break;case"scroll":case"scrollend":Q=kl;break;case"wheel":Q=W;break;case"copy":case"cut":case"paste":Q=Oc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=hi;break;case"toggle":case"beforetoggle":Q=qe}var we=(s&4)!==0,vt=!we&&(n==="scroll"||n==="scrollend"),F=we?K!==null?K+"Capture":null:K;we=[];for(var q=$,G;q!==null;){var te=q;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||F===null||(te=mr(q,F),te!=null&&we.push(cu(q,te,G))),vt)break;q=q.return}0<we.length&&(K=new Q(K,ye,null,o,Z),re.push({event:K,listeners:we}))}}if((s&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",K&&o!==Nl&&(ye=o.relatedTarget||o.fromElement)&&(Pr(ye)||ye[Vr]))break e;if((Q||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(ye=o.relatedTarget||o.toElement,Q=$,ye=ye?Pr(ye):null,ye!==null&&(vt=l(ye),we=ye.tag,ye!==vt||we!==5&&we!==27&&we!==6)&&(ye=null)):(Q=null,ye=$),Q!==ye)){if(we=Ml,te="onMouseLeave",F="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(we=hi,te="onPointerLeave",F="onPointerEnter",q="pointer"),vt=Q==null?K:Vn(Q),G=ye==null?K:Vn(ye),K=new we(te,q+"leave",Q,o,Z),K.target=vt,K.relatedTarget=G,te=null,Pr(Z)===$&&(we=new we(F,q+"enter",ye,o,Z),we.target=G,we.relatedTarget=vt,te=we),vt=te,Q&&ye)t:{for(we=mk,F=Q,q=ye,G=0,te=F;te;te=we(te))G++;te=0;for(var Ee=q;Ee;Ee=we(Ee))te++;for(;0<G-te;)F=we(F),G--;for(;0<te-G;)q=we(q),te--;for(;G--;){if(F===q||q!==null&&F===q.alternate){we=F;break t}F=we(F),q=we(q)}we=null}else we=null;Q!==null&&qx(re,K,Q,we,!1),ye!==null&&vt!==null&&qx(re,vt,ye,we,!0)}}e:{if(K=$?Vn($):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var at=r1;else if(t1(K))if(i1)at=AD;else{at=SD;var be=TD}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&eo($.elementType)&&(at=r1):at=wD;if(at&&(at=at(n,$))){n1(re,at,o,Z);break e}be&&be(n,K,$),n==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&Rl(K,"number",K.value)}switch(be=$?Vn($):window,n){case"focusin":(t1(be)||be.contentEditable==="true")&&(lo=be,kd=$,Ul=null);break;case"focusout":Ul=kd=lo=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,f1(re,o,Z);break;case"selectionchange":if(CD)break;case"keydown":case"keyup":f1(re,o,Z)}var Be;if(ut)e:{switch(n){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else oo?ra(n,o)&&(Qe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Qe="onCompositionStart");Qe&&(Yr&&o.locale!=="ko"&&(oo||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&oo&&(Be=Dl()):(Hr=Z,Ol="value"in Hr?Hr.value:Hr.textContent,oo=!0)),be=Rh($,Qe),0<be.length&&(Qe=new Kr(Qe,n,null,o,Z),re.push({event:Qe,listeners:be}),Be?Qe.data=Be:(Be=ao(o),Be!==null&&(Qe.data=Be)))),(Be=Jn?_D(n,o):bD(n,o))&&(Qe=Rh($,"onBeforeInput"),0<Qe.length&&(be=new Kr("onBeforeInput","beforeinput",null,o,Z),re.push({event:be,listeners:Qe}),be.data=Be)),hk(re,n,$,o,Z)}Px(re,s)})}function cu(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Rh(n,s){for(var o=s+"Capture",u=[];n!==null;){var d=n,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=mr(n,o),d!=null&&u.unshift(cu(n,d,g)),d=mr(n,s),d!=null&&u.push(cu(n,d,g))),n.tag===3)return u;n=n.return}return[]}function mk(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function qx(n,s,o,u,d){for(var g=s._reactName,E=[];o!==null&&o!==u;){var w=o,V=w.alternate,$=w.stateNode;if(w=w.tag,V!==null&&V===u)break;w!==5&&w!==26&&w!==27||$===null||(V=$,d?($=mr(o,g),$!=null&&E.unshift(cu(o,$,V))):d||($=mr(o,g),$!=null&&E.push(cu(o,$,V)))),o=o.return}E.length!==0&&n.push({event:s,listeners:E})}var gk=/\r\n?/g,yk=/\u0000|\uFFFD/g;function zx(n){return(typeof n=="string"?n:""+n).replace(gk,`
`).replace(yk,"")}function Bx(n,s){return s=zx(s),zx(n)===s}function yt(n,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Cn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Cn(n,""+u);break;case"className":Ln(n,"class",u);break;case"tabIndex":Ln(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(n,o,u);break;case"style":Il(n,u,g);break;case"data":if(s!=="object"){Ln(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=to(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&yt(n,s,"name",d.name,d,null),yt(n,s,"formEncType",d.formEncType,d,null),yt(n,s,"formMethod",d.formMethod,d,null),yt(n,s,"formTarget",d.formTarget,d,null)):(yt(n,s,"encType",d.encType,d,null),yt(n,s,"method",d.method,d,null),yt(n,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=to(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=pr);break;case"onScroll":u!=null&&$e("scroll",n);break;case"onScrollEnd":u!=null&&$e("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=to(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":$e("beforetoggle",n),$e("toggle",n),Ja(n,"popover",u);break;case"xlinkActuate":Ft(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ft(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ft(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ft(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ft(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ft(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ft(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ft(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ft(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ja(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Rc.get(o)||o,Ja(n,o,u))}}function sm(n,s,o,u,d,g){switch(o){case"style":Il(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Cn(n,u):(typeof u=="number"||typeof u=="bigint")&&Cn(n,""+u);break;case"onScroll":u!=null&&$e("scroll",n);break;case"onScrollEnd":u!=null&&$e("scrollend",n);break;case"onClick":u!=null&&(n.onclick=pr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=n[nn]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,d);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Ja(n,o,u)}}}function hn(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",n),$e("load",n);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:yt(n,s,g,E,o,null)}}d&&yt(n,s,"srcSet",o.srcSet,o,null),u&&yt(n,s,"src",o.src,o,null);return;case"input":$e("invalid",n);var w=g=E=d=null,V=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":E=Z;break;case"checked":V=Z;break;case"defaultChecked":$=Z;break;case"value":g=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:yt(n,s,u,Z,o,null)}}Sc(n,g,w,V,$,E,d,!1);return;case"select":$e("invalid",n),u=E=g=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":E=w;break;case"multiple":u=w;default:yt(n,s,d,w,o,null)}s=g,o=E,n.multiple=!!u,s!=null?Gi(n,!!u,s,!1):o!=null&&Gi(n,!!u,o,!0);return;case"textarea":$e("invalid",n),g=d=u=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":u=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:yt(n,s,E,w,o,null)}$i(n,u,d,g);return;case"option":for(V in o)o.hasOwnProperty(V)&&(u=o[V],u!=null)&&(V==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":yt(n,s,V,u,o,null));return;case"dialog":$e("beforetoggle",n),$e("toggle",n),$e("cancel",n),$e("close",n);break;case"iframe":case"object":$e("load",n);break;case"video":case"audio":for(u=0;u<uu.length;u++)$e(uu[u],n);break;case"image":$e("error",n),$e("load",n);break;case"details":$e("toggle",n);break;case"embed":case"source":case"link":$e("error",n),$e("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:yt(n,s,$,u,o,null)}return;default:if(eo(s)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&sm(n,s,Z,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&yt(n,s,w,u,o,null))}function vk(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,E=null,w=null,V=null,$=null,Z=null;for(Q in o){var re=o[Q];if(o.hasOwnProperty(Q)&&re!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=re;default:u.hasOwnProperty(Q)||yt(n,s,Q,null,u,re)}}for(var K in u){var Q=u[K];if(re=o[K],u.hasOwnProperty(K)&&(Q!=null||re!=null))switch(K){case"type":g=Q;break;case"name":d=Q;break;case"checked":$=Q;break;case"defaultChecked":Z=Q;break;case"value":E=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:Q!==re&&yt(n,s,K,Q,u,re)}}Za(n,E,w,V,$,Z,g,d);return;case"select":Q=E=w=K=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":Q=V;default:u.hasOwnProperty(g)||yt(n,s,g,null,u,V)}for(d in u)if(g=u[d],V=o[d],u.hasOwnProperty(d)&&(g!=null||V!=null))switch(d){case"value":K=g;break;case"defaultValue":w=g;break;case"multiple":E=g;default:g!==V&&yt(n,s,d,g,u,V)}s=w,o=E,u=Q,K!=null?Gi(n,!!o,K,!1):!!u!=!!o&&(s!=null?Gi(n,!!o,s,!0):Gi(n,!!o,o?[]:"",!1));return;case"textarea":Q=K=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:yt(n,s,w,null,u,d)}for(E in u)if(d=u[E],g=o[E],u.hasOwnProperty(E)&&(d!=null||g!=null))switch(E){case"value":K=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&yt(n,s,E,d,u,g)}wc(n,K,Q);return;case"option":for(var ye in o)K=o[ye],o.hasOwnProperty(ye)&&K!=null&&!u.hasOwnProperty(ye)&&(ye==="selected"?n.selected=!1:yt(n,s,ye,null,u,K));for(V in u)K=u[V],Q=o[V],u.hasOwnProperty(V)&&K!==Q&&(K!=null||Q!=null)&&(V==="selected"?n.selected=K&&typeof K!="function"&&typeof K!="symbol":yt(n,s,V,K,u,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)K=o[we],o.hasOwnProperty(we)&&K!=null&&!u.hasOwnProperty(we)&&yt(n,s,we,null,u,K);for($ in u)if(K=u[$],Q=o[$],u.hasOwnProperty($)&&K!==Q&&(K!=null||Q!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:yt(n,s,$,K,u,Q)}return;default:if(eo(s)){for(var vt in o)K=o[vt],o.hasOwnProperty(vt)&&K!==void 0&&!u.hasOwnProperty(vt)&&sm(n,s,vt,void 0,u,K);for(Z in u)K=u[Z],Q=o[Z],!u.hasOwnProperty(Z)||K===Q||K===void 0&&Q===void 0||sm(n,s,Z,K,u,Q);return}}for(var F in o)K=o[F],o.hasOwnProperty(F)&&K!=null&&!u.hasOwnProperty(F)&&yt(n,s,F,null,u,K);for(re in u)K=u[re],Q=o[re],!u.hasOwnProperty(re)||K===Q||K==null&&Q==null||yt(n,s,re,K,u,Q)}function Fx(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _k(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,E=d.initiatorType,w=d.duration;if(g&&w&&Fx(E)){for(E=0,w=d.responseEnd,u+=1;u<o.length;u++){var V=o[u],$=V.startTime;if($>w)break;var Z=V.transferSize,re=V.initiatorType;Z&&Fx(re)&&(V=V.responseEnd,E+=Z*(V<w?1:(w-$)/(V-$)))}if(--u,s+=8*(g+E)/(d.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var am=null,om=null;function Ch(n){return n.nodeType===9?n:n.ownerDocument}function Hx(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gx(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function lm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var um=null;function bk(){var n=window.event;return n&&n.type==="popstate"?n===um?!1:(um=n,!0):(um=null,!1)}var $x=typeof setTimeout=="function"?setTimeout:void 0,Ek=typeof clearTimeout=="function"?clearTimeout:void 0,Kx=typeof Promise=="function"?Promise:void 0,xk=typeof queueMicrotask=="function"?queueMicrotask:typeof Kx<"u"?function(n){return Kx.resolve(null).then(n).catch(Tk)}:$x;function Tk(n){setTimeout(function(){throw n})}function ms(n){return n==="head"}function Yx(n,s){var o=s,u=0;do{var d=o.nextSibling;if(n.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(d),Vo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")hu(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,hu(o);for(var g=o.firstChild;g;){var E=g.nextSibling,w=g.nodeName;g[Lr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=E}}else o==="body"&&hu(n.ownerDocument.body);o=d}while(o);Vo(s)}function Wx(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function cm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":cm(o),Xa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function Sk(n,s,o,u){for(;n.nodeType===1;){var d=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Lr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=sr(n.nextSibling),n===null)break}return null}function wk(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=sr(n.nextSibling),n===null))return null;return n}function Qx(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=sr(n.nextSibling),n===null))return null;return n}function hm(n){return n.data==="$?"||n.data==="$~"}function fm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Ak(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function sr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var dm=null;function Xx(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return sr(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function Jx(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function Zx(n,s,o){switch(s=Ch(o),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function hu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Xa(n)}var ar=new Map,eT=new Set;function Ih(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ai=ce.d;ce.d={f:Rk,r:Ck,D:Ik,C:Nk,L:Ok,m:Dk,X:Mk,S:kk,M:jk};function Rk(){var n=Ai.f(),s=bh();return n||s}function Ck(n){var s=Wn(n);s!==null&&s.tag===5&&s.type==="form"?yE(s):Ai.r(n)}var ko=typeof document>"u"?null:document;function tT(n,s,o){var u=ko;if(u&&typeof s=="string"&&s){var d=Rn(s);d='link[rel="'+n+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),eT.has(d)||(eT.add(d),n={rel:n,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),hn(s,"link",n),Bt(s),u.head.appendChild(s)))}}function Ik(n){Ai.D(n),tT("dns-prefetch",n,null)}function Nk(n,s){Ai.C(n,s),tT("preconnect",n,s)}function Ok(n,s,o){Ai.L(n,s,o);var u=ko;if(u&&n&&s){var d='link[rel="preload"][as="'+Rn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Rn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Rn(o.imageSizes)+'"]')):d+='[href="'+Rn(n)+'"]';var g=d;switch(s){case"style":g=Mo(n);break;case"script":g=jo(n)}ar.has(g)||(n=b({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),ar.set(g,n),u.querySelector(d)!==null||s==="style"&&u.querySelector(fu(g))||s==="script"&&u.querySelector(du(g))||(s=u.createElement("link"),hn(s,"link",n),Bt(s),u.head.appendChild(s)))}}function Dk(n,s){Ai.m(n,s);var o=ko;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Rn(u)+'"][href="'+Rn(n)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=jo(n)}if(!ar.has(g)&&(n=b({rel:"modulepreload",href:n},s),ar.set(g,n),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(du(g)))return}u=o.createElement("link"),hn(u,"link",n),Bt(u),o.head.appendChild(u)}}}function kk(n,s,o){Ai.S(n,s,o);var u=ko;if(u&&n){var d=Ur(u).hoistableStyles,g=Mo(n);s=s||"default";var E=d.get(g);if(!E){var w={loading:0,preload:null};if(E=u.querySelector(fu(g)))w.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":s},o),(o=ar.get(g))&&pm(n,o);var V=E=u.createElement("link");Bt(V),hn(V,"link",n),V._p=new Promise(function($,Z){V.onload=$,V.onerror=Z}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Nh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:w},d.set(g,E)}}}function Mk(n,s){Ai.X(n,s);var o=ko;if(o&&n){var u=Ur(o).hoistableScripts,d=jo(n),g=u.get(d);g||(g=o.querySelector(du(d)),g||(n=b({src:n,async:!0},s),(s=ar.get(d))&&mm(n,s),g=o.createElement("script"),Bt(g),hn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function jk(n,s){Ai.M(n,s);var o=ko;if(o&&n){var u=Ur(o).hoistableScripts,d=jo(n),g=u.get(d);g||(g=o.querySelector(du(d)),g||(n=b({src:n,async:!0,type:"module"},s),(s=ar.get(d))&&mm(n,s),g=o.createElement("script"),Bt(g),hn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function nT(n,s,o,u){var d=(d=Ae.current)?Ih(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Mo(o.href),o=Ur(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Mo(o.href);var g=Ur(d).hoistableStyles,E=g.get(n);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,E),(g=d.querySelector(fu(n)))&&!g._p&&(E.instance=g,E.state.loading=5),ar.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ar.set(n,o),g||Vk(d,n,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=jo(o),o=Ur(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Mo(n){return'href="'+Rn(n)+'"'}function fu(n){return'link[rel="stylesheet"]['+n+"]"}function rT(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function Vk(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),hn(s,"link",o),Bt(s),n.head.appendChild(s))}function jo(n){return'[src="'+Rn(n)+'"]'}function du(n){return"script[async]"+n}function iT(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Rn(o.href)+'"]');if(u)return s.instance=u,Bt(u),u;var d=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Bt(u),hn(u,"style",d),Nh(u,o.precedence,n),s.instance=u;case"stylesheet":d=Mo(o.href);var g=n.querySelector(fu(d));if(g)return s.state.loading|=4,s.instance=g,Bt(g),g;u=rT(o),(d=ar.get(d))&&pm(u,d),g=(n.ownerDocument||n).createElement("link"),Bt(g);var E=g;return E._p=new Promise(function(w,V){E.onload=w,E.onerror=V}),hn(g,"link",u),s.state.loading|=4,Nh(g,o.precedence,n),s.instance=g;case"script":return g=jo(o.src),(d=n.querySelector(du(g)))?(s.instance=d,Bt(d),d):(u=o,(d=ar.get(g))&&(u=b({},o),mm(u,d)),n=n.ownerDocument||n,d=n.createElement("script"),Bt(d),hn(d,"link",u),n.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Nh(u,o.precedence,n));return s.instance}function Nh(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,E=0;E<u.length;E++){var w=u[E];if(w.dataset.precedence===s)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function pm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function mm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Oh=null;function sT(n,s,o){if(Oh===null){var u=new Map,d=Oh=new Map;d.set(o,u)}else d=Oh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),d=0;d<o.length;d++){var g=o[d];if(!(g[Lr]||g[zt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=n+E;var w=u.get(E);w?w.push(g):u.set(E,[g])}}return u}function aT(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function Lk(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function oT(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Pk(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Mo(u.href),g=s.querySelector(fu(d));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Dh.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=g,Bt(g);return}g=s.ownerDocument||s,u=rT(u),(d=ar.get(d))&&pm(u,d),g=g.createElement("link"),Bt(g);var E=g;E._p=new Promise(function(w,V){E.onload=w,E.onerror=V}),hn(g,"link",u),o.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Dh.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var gm=0;function Uk(n,s){return n.stylesheets&&n.count===0&&Mh(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&Mh(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+s);0<n.imgBytes&&gm===0&&(gm=62500*_k());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Mh(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>gm?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function Dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var kh=null;function Mh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,kh=new Map,s.forEach(qk,n),kh=null,Dh.call(n))}function qk(n,s){if(!(s.state.loading&4)){var o=kh.get(n);if(o)var u=o.get(null);else{o=new Map,kh.set(n,o);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var E=d[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}d=s.instance,E=d.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,d),o.set(E,d),this.count++,u=Dh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),s.state.loading|=4}}var pu={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function zk(n,s,o,u,d,g,E,w,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.hiddenUpdates=jr(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function lT(n,s,o,u,d,g,E,w,V,$,Z,re){return n=new zk(n,s,o,E,V,$,Z,re,w),s=1,g===!0&&(s|=24),g=Un(3,null,null,s),n.current=g,g.stateNode=n,s=Wd(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Zd(g),n}function uT(n){return n?(n=ho,n):ho}function cT(n,s,o,u,d,g){d=uT(d),u.context===null?u.context=d:u.pendingContext=d,u=is(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ss(n,u,s),o!==null&&(kn(o,n,s),$l(o,n,s))}function hT(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function ym(n,s){hT(n,s),(n=n.alternate)&&hT(n,s)}function fT(n){if(n.tag===13||n.tag===31){var s=aa(n,67108864);s!==null&&kn(s,n,67108864),ym(n,67108864)}}function dT(n){if(n.tag===13||n.tag===31){var s=Hn();s=Ys(s);var o=aa(n,s);o!==null&&kn(o,n,s),ym(n,s)}}var jh=!0;function Bk(n,s,o,u){var d=X.T;X.T=null;var g=ce.p;try{ce.p=2,vm(n,s,o,u)}finally{ce.p=g,X.T=d}}function Fk(n,s,o,u){var d=X.T;X.T=null;var g=ce.p;try{ce.p=8,vm(n,s,o,u)}finally{ce.p=g,X.T=d}}function vm(n,s,o,u){if(jh){var d=_m(u);if(d===null)im(n,s,u,Vh,o),mT(n,u);else if(Gk(d,n,s,o,u))u.stopPropagation();else if(mT(n,u),s&4&&-1<Hk.indexOf(n)){for(;d!==null;){var g=Wn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=kr(g.pendingLanes);if(E!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var V=1<<31-kt(E);w.entanglements[1]|=V,E&=~V}Jr(g),(ct&6)===0&&(vh=It()+500,lu(0))}}break;case 31:case 13:w=aa(g,2),w!==null&&kn(w,g,2),bh(),ym(g,2)}if(g=_m(u),g===null&&im(n,s,u,Vh,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else im(n,s,u,null,o)}}function _m(n){return n=Qn(n),bm(n)}var Vh=null;function bm(n){if(Vh=null,n=Pr(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=f(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Vh=n,null}function pT(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kn()){case Bs:return 2;case Fi:return 8;case Tn:case Ka:return 32;case Fs:return 268435456;default:return 32}default:return 32}}var Em=!1,gs=null,ys=null,vs=null,mu=new Map,gu=new Map,_s=[],Hk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mT(n,s){switch(n){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":mu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(s.pointerId)}}function yu(n,s,o,u,d,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Wn(s),s!==null&&fT(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function Gk(n,s,o,u,d){switch(s){case"focusin":return gs=yu(gs,n,s,o,u,d),!0;case"dragenter":return ys=yu(ys,n,s,o,u,d),!0;case"mouseover":return vs=yu(vs,n,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return mu.set(g,yu(mu.get(g)||null,n,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,gu.set(g,yu(gu.get(g)||null,n,s,o,u,d)),!0}return!1}function gT(n){var s=Pr(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,fr(n.priority,function(){dT(o)});return}}else if(s===31){if(s=f(o),s!==null){n.blockedOn=s,fr(n.priority,function(){dT(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Lh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=_m(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Nl=u,o.target.dispatchEvent(u),Nl=null}else return s=Wn(o),s!==null&&fT(s),n.blockedOn=o,!1;s.shift()}return!0}function yT(n,s,o){Lh(n)&&o.delete(s)}function $k(){Em=!1,gs!==null&&Lh(gs)&&(gs=null),ys!==null&&Lh(ys)&&(ys=null),vs!==null&&Lh(vs)&&(vs=null),mu.forEach(yT),gu.forEach(yT)}function Ph(n,s){n.blockedOn===s&&(n.blockedOn=null,Em||(Em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$k)))}var Uh=null;function vT(n){Uh!==n&&(Uh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Uh===n&&(Uh=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],d=n[s+2];if(typeof u!="function"){if(bm(u||o)===null)continue;break}var g=Wn(o);g!==null&&(n.splice(s,3),s-=3,_p(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Vo(n){function s(V){return Ph(V,n)}gs!==null&&Ph(gs,n),ys!==null&&Ph(ys,n),vs!==null&&Ph(vs,n),mu.forEach(s),gu.forEach(s);for(var o=0;o<_s.length;o++){var u=_s[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<_s.length&&(o=_s[0],o.blockedOn===null);)gT(o),o.blockedOn===null&&_s.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],E=d[nn]||null;if(typeof g=="function")E||vT(o);else if(E){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,E=g[nn]||null)w=E.formAction;else if(bm(d)!==null)continue}else w=E.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),vT(o)}}}function _T(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return d=E})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function xm(n){this._internalRoot=n}qh.prototype.render=xm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Hn();cT(o,u,n,s,null,null)},qh.prototype.unmount=xm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;cT(n.current,2,null,n,null,null),bh(),s[Vr]=null}};function qh(n){this._internalRoot=n}qh.prototype.unstable_scheduleHydration=function(n){if(n){var s=bc();n={blockedOn:null,target:n,priority:s};for(var o=0;o<_s.length&&s!==0&&s<_s[o].priority;o++);_s.splice(o,0,n),o===0&&gT(n)}};var bT=e.version;if(bT!=="19.2.4")throw Error(i(527,bT,"19.2.4"));ce.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=m(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var Kk={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{Ut=zh.inject(Kk),xt=zh}catch{}}return _u.createRoot=function(n,s){if(!a(n))throw Error(i(299));var o=!1,u="",d=RE,g=CE,E=IE;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=lT(n,1,!1,null,null,o,u,null,d,g,E,_T),n[Vr]=s.current,rm(n),new xm(s)},_u.hydrateRoot=function(n,s,o){if(!a(n))throw Error(i(299));var u=!1,d="",g=RE,E=CE,w=IE,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),s=lT(n,1,!0,s,o??null,u,d,V,g,E,w,_T),s.context=uT(null),o=s.current,u=Hn(),u=Ys(u),d=is(u),d.callback=null,ss(o,d,u),o=u,s.current.lanes=o,$s(s,o),Jr(s),n[Vr]=s.current,rm(n),new qh(s)},_u.version="19.2.4",_u}var NT;function rM(){if(NT)return Sm.exports;NT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sm.exports=nM(),Sm.exports}var iM=rM(),U=Uf();const Jt=tn(U);var Im={exports:{}},Nm={};var OT;function sM(){if(OT)return Nm;OT=1;var r=Uf();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var t=typeof Object.is=="function"?Object.is:e,i=r.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,f=r.useDebugValue;return Nm.useSyncExternalStoreWithSelector=function(p,m,v,b,T){var S=a(null);if(S.current===null){var O={hasValue:!1,value:null};S.current=O}else O=S.current;S=c(function(){function k(ue){if(!B){if(B=!0,z=ue,ue=b(ue),T!==void 0&&O.hasValue){var oe=O.value;if(T(oe,ue))return Y=oe}return Y=ue}if(oe=Y,t(z,ue))return oe;var R=b(ue);return T!==void 0&&T(oe,R)?(z=ue,oe):(z=ue,Y=R)}var B=!1,z,Y,ae=v===void 0?null:v;return[function(){return k(m())},ae===null?void 0:function(){return k(ae())}]},[m,v,b,T]);var M=i(p,S[0],S[1]);return l(function(){O.hasValue=!0,O.value=M},[M]),f(M),M},Nm}var DT;function aM(){return DT||(DT=1,Im.exports=sM()),Im.exports}var oM=aM(),lM=U.version.startsWith("19"),uM=Symbol.for(lM?"react.transitional.element":"react.element"),cM=Symbol.for("react.portal"),hM=Symbol.for("react.fragment"),fM=Symbol.for("react.strict_mode"),dM=Symbol.for("react.profiler"),pM=Symbol.for("react.consumer"),mM=Symbol.for("react.context"),CI=Symbol.for("react.forward_ref"),gM=Symbol.for("react.suspense"),yM=Symbol.for("react.suspense_list"),v0=Symbol.for("react.memo"),vM=Symbol.for("react.lazy"),_M=CI,bM=v0;function EM(r){if(typeof r=="object"&&r!==null){const{$$typeof:e}=r;switch(e){case uM:switch(r=r.type,r){case hM:case dM:case fM:case gM:case yM:return r;default:switch(r=r&&r.$$typeof,r){case mM:case CI:case vM:case v0:return r;case pM:return r;default:return e}}case cM:return e}}}function xM(r){return EM(r)===v0}function TM(r,e,t,i,{areStatesEqual:a,areOwnPropsEqual:l,areStatePropsEqual:c}){let f=!1,p,m,v,b,T;function S(z,Y){return p=z,m=Y,v=r(p,m),b=e(i,m),T=t(v,b,m),f=!0,T}function O(){return v=r(p,m),e.dependsOnOwnProps&&(b=e(i,m)),T=t(v,b,m),T}function M(){return r.dependsOnOwnProps&&(v=r(p,m)),e.dependsOnOwnProps&&(b=e(i,m)),T=t(v,b,m),T}function k(){const z=r(p,m),Y=!c(z,v);return v=z,Y&&(T=t(v,b,m)),T}function B(z,Y){const ae=!l(Y,m),ue=!a(z,p,Y,m);return p=z,m=Y,ae&&ue?O():ae?M():ue?k():T}return function(Y,ae){return f?B(Y,ae):S(Y,ae)}}function SM(r,{initMapStateToProps:e,initMapDispatchToProps:t,initMergeProps:i,...a}){const l=e(r,a),c=t(r,a),f=i(r,a);return TM(l,c,f,r,a)}function wM(r,e){const t={};for(const i in r){const a=r[i];typeof a=="function"&&(t[i]=(...l)=>e(a(...l)))}return t}function P_(r){return function(t){const i=r(t);function a(){return i}return a.dependsOnOwnProps=!1,a}}function kT(r){return r.dependsOnOwnProps?!!r.dependsOnOwnProps:r.length!==1}function II(r,e){return function(i,{displayName:a}){const l=function(f,p){return l.dependsOnOwnProps?l.mapToProps(f,p):l.mapToProps(f,void 0)};return l.dependsOnOwnProps=!0,l.mapToProps=function(f,p){l.mapToProps=r,l.dependsOnOwnProps=kT(r);let m=l(f,p);return typeof m=="function"&&(l.mapToProps=m,l.dependsOnOwnProps=kT(m),m=l(f,p)),m},l}}function _0(r,e){return(t,i)=>{throw new Error(`Invalid value of type ${typeof r} for ${e} argument when connecting component ${i.wrappedComponentName}.`)}}function AM(r){return r&&typeof r=="object"?P_(e=>wM(r,e)):r?typeof r=="function"?II(r):_0(r,"mapDispatchToProps"):P_(e=>({dispatch:e}))}function RM(r){return r?typeof r=="function"?II(r):_0(r,"mapStateToProps"):P_(()=>({}))}function CM(r,e,t){return{...t,...r,...e}}function IM(r){return function(t,{displayName:i,areMergedPropsEqual:a}){let l=!1,c;return function(p,m,v){const b=r(p,m,v);return l?a(b,c)||(c=b):(l=!0,c=b),c}}}function NM(r){return r?typeof r=="function"?IM(r):_0(r,"mergeProps"):()=>CM}function OM(r){r()}function DM(){let r=null,e=null;return{clear(){r=null,e=null},notify(){OM(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=r;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:r=a,function(){!i||r===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:r=a.next)}}}}var MT={notify(){},get:()=>[]};function NI(r,e){let t,i=MT,a=0,l=!1;function c(M){v();const k=i.subscribe(M);let B=!1;return()=>{B||(B=!0,k(),b())}}function f(){i.notify()}function p(){O.onStateChange&&O.onStateChange()}function m(){return l}function v(){a++,t||(t=e?e.addNestedSub(p):r.subscribe(p),i=DM())}function b(){a--,t&&a===0&&(t(),t=void 0,i.clear(),i=MT)}function T(){l||(l=!0,v())}function S(){l&&(l=!1,b())}const O={addNestedSub:c,notifyNestedSubs:f,handleChangeWrapper:p,isSubscribed:m,trySubscribe:T,tryUnsubscribe:S,getListeners:()=>i};return O}var kM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MM=kM(),jM=()=>typeof navigator<"u"&&navigator.product==="ReactNative",VM=jM(),LM=()=>MM||VM?U.useLayoutEffect:U.useEffect,mf=LM();function jT(r,e){return r===e?r!==0||e!==0||1/r===1/e:r!==r&&e!==e}function Om(r,e){if(jT(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;const t=Object.keys(r),i=Object.keys(e);if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(!Object.prototype.hasOwnProperty.call(e,t[a])||!jT(r[t[a]],e[t[a]]))return!1;return!0}var PM={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},UM={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},qM={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},OI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zM={[_M]:qM,[bM]:OI};function VT(r){return xM(r)?OI:zM[r.$$typeof]||PM}var BM=Object.defineProperty,FM=Object.getOwnPropertyNames,LT=Object.getOwnPropertySymbols,HM=Object.getOwnPropertyDescriptor,GM=Object.getPrototypeOf,PT=Object.prototype;function U_(r,e){if(typeof e!="string"){if(PT){const l=GM(e);l&&l!==PT&&U_(r,l)}let t=FM(e);LT&&(t=t.concat(LT(e)));const i=VT(r),a=VT(e);for(let l=0;l<t.length;++l){const c=t[l];if(!UM[c]&&!(a&&a[c])&&!(i&&i[c])){const f=HM(e,c);try{BM(r,c,f)}catch{}}}}return r}var $M=Symbol.for("react-redux-context"),KM=typeof globalThis<"u"?globalThis:{};function YM(){if(!U.createContext)return{};const r=KM[$M]??=new Map;let e=r.get(U.createContext);return e||(e=U.createContext(null),r.set(U.createContext,e)),e}var Mi=YM(),WM=[null,null];function QM(r,e,t){mf(()=>r(...e),t)}function XM(r,e,t,i,a,l){r.current=i,t.current=!1,a.current&&(a.current=null,l())}function JM(r,e,t,i,a,l,c,f,p,m,v){if(!r)return()=>{};let b=!1,T=null;const S=()=>{if(b||!f.current)return;const M=e.getState();let k,B;try{k=i(M,a.current)}catch(z){B=z,T=z}B||(T=null),k===l.current?c.current||m():(l.current=k,p.current=k,c.current=!0,v())};return t.onStateChange=S,t.trySubscribe(),S(),()=>{if(b=!0,t.tryUnsubscribe(),t.onStateChange=null,T)throw T}}function ZM(r,e){return r===e}function ej(r,e,t,{pure:i,areStatesEqual:a=ZM,areOwnPropsEqual:l=Om,areStatePropsEqual:c=Om,areMergedPropsEqual:f=Om,forwardRef:p=!1,context:m=Mi}={}){const v=m,b=RM(r),T=AM(e),S=NM(t),O=!!r;return k=>{const B=k.displayName||k.name||"Component",z=`Connect(${B})`,Y={shouldHandleStateChanges:O,displayName:z,wrappedComponentName:B,WrappedComponent:k,initMapStateToProps:b,initMapDispatchToProps:T,initMergeProps:S,areStatesEqual:a,areStatePropsEqual:c,areOwnPropsEqual:l,areMergedPropsEqual:f};function ae(R){const[C,N,j]=U.useMemo(()=>{const{reactReduxForwardedRef:_e,...Ye}=R;return[R.context,_e,Ye]},[R]),D=U.useMemo(()=>{let _e=v;return C?.Consumer,_e},[C,v]),L=U.useContext(D),I=!!R.store&&!!R.store.getState&&!!R.store.dispatch,Ce=!!L&&!!L.store,Ve=I?R.store:L.store,X=Ce?L.getServerState:Ve.getState,ce=U.useMemo(()=>SM(Ve.dispatch,Y),[Ve]),[ve,Le]=U.useMemo(()=>{if(!O)return WM;const _e=NI(Ve,I?void 0:L.subscription),Ye=_e.notifyNestedSubs.bind(_e);return[_e,Ye]},[Ve,I,L]),Fe=U.useMemo(()=>I?L:{...L,subscription:ve},[I,L,ve]),P=U.useRef(void 0),ee=U.useRef(j),le=U.useRef(void 0),fe=U.useRef(!1),Te=U.useRef(!1),Ae=U.useRef(void 0);mf(()=>(Te.current=!0,()=>{Te.current=!1}),[]);const Pe=U.useMemo(()=>()=>le.current&&j===ee.current?le.current:ce(Ve.getState(),j),[Ve,j]),bt=U.useMemo(()=>Ye=>ve?JM(O,Ve,ve,ce,ee,P,fe,Te,le,Le,Ye):()=>{},[ve]);QM(XM,[ee,P,fe,j,le,Le]);let Ke;try{Ke=U.useSyncExternalStore(bt,Pe,X?()=>ce(X(),j):Pe)}catch(_e){throw Ae.current&&(_e.message+=`
The error may be correlated with this previous error:
${Ae.current.stack}

`),_e}mf(()=>{Ae.current=void 0,le.current=void 0,P.current=Ke});const ie=U.useMemo(()=>U.createElement(k,{...Ke,ref:N}),[N,k,Ke]);return U.useMemo(()=>O?U.createElement(D.Provider,{value:Fe},ie):ie,[D,ie,Fe])}const oe=U.memo(ae);if(oe.WrappedComponent=k,oe.displayName=ae.displayName=z,p){const C=U.forwardRef(function(j,D){return U.createElement(oe,{...j,reactReduxForwardedRef:D})});return C.displayName=z,C.WrappedComponent=k,U_(C,k)}return U_(oe,k)}}var tj=ej;function nj(r){const{children:e,context:t,serverState:i,store:a}=r,l=U.useMemo(()=>{const p=NI(a);return{store:a,subscription:p,getServerState:i?()=>i:void 0}},[a,i]),c=U.useMemo(()=>a.getState(),[a]);mf(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==a.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,c]);const f=t||Mi;return U.createElement(f.Provider,{value:l},e)}var q_=nj;function b0(r=Mi){return function(){return U.useContext(r)}}var DI=b0();function kI(r=Mi){const e=r===Mi?DI:b0(r),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var rj=kI();function ij(r=Mi){const e=r===Mi?rj:kI(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var sj=ij(),aj=(r,e)=>r===e;function oj(r=Mi){const e=r===Mi?DI:b0(r),t=(i,a={})=>{const{equalityFn:l=aj}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:f,subscription:p,getServerState:m}=c;U.useRef(!0);const v=U.useCallback({[i.name](T){return i(T)}}[i.name],[i]),b=oM.useSyncExternalStoreWithSelector(p.addNestedSub,f.getState,m||f.getState,v,l);return U.useDebugValue(b),b};return Object.assign(t,{withTypes:()=>t}),t}var _a=oj();function _n(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var lj=typeof Symbol=="function"&&Symbol.observable||"@@observable",UT=lj,Dm=()=>Math.random().toString(36).substring(7).split("").join("."),uj={INIT:`@@redux/INIT${Dm()}`,REPLACE:`@@redux/REPLACE${Dm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dm()}`},gf=uj;function cj(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function MI(r,e,t){if(typeof r!="function")throw new Error(_n(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(_n(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(_n(1));return t(MI)(r,e)}let i=r,a=e,l=new Map,c=l,f=0,p=!1;function m(){c===l&&(c=new Map,l.forEach((k,B)=>{c.set(B,k)}))}function v(){if(p)throw new Error(_n(3));return a}function b(k){if(typeof k!="function")throw new Error(_n(4));if(p)throw new Error(_n(5));let B=!0;m();const z=f++;return c.set(z,k),function(){if(B){if(p)throw new Error(_n(6));B=!1,m(),c.delete(z),l=null}}}function T(k){if(!cj(k))throw new Error(_n(7));if(typeof k.type>"u")throw new Error(_n(8));if(typeof k.type!="string")throw new Error(_n(17));if(p)throw new Error(_n(9));try{p=!0,a=i(a,k)}finally{p=!1}return(l=c).forEach(z=>{z()}),k}function S(k){if(typeof k!="function")throw new Error(_n(10));i=k,T({type:gf.REPLACE})}function O(){const k=b;return{subscribe(B){if(typeof B!="object"||B===null)throw new Error(_n(11));function z(){const ae=B;ae.next&&ae.next(v())}return z(),{unsubscribe:k(z)}},[UT](){return this}}}return T({type:gf.INIT}),{dispatch:T,subscribe:b,getState:v,replaceReducer:S,[UT]:O}}function hj(r,e,t){return MI(r,e,t)}function fj(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:gf.INIT})>"u")throw new Error(_n(12));if(typeof t(void 0,{type:gf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_n(13))})}function dj(r){const e=Object.keys(r),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof r[c]=="function"&&(t[c]=r[c])}const i=Object.keys(t);let a;try{fj(t)}catch(l){a=l}return function(c={},f){if(a)throw a;let p=!1;const m={};for(let v=0;v<i.length;v++){const b=i[v],T=t[b],S=c[b],O=T(S,f);if(typeof O>"u")throw f&&f.type,new Error(_n(14));m[b]=O,p=p||O!==S}return p=p||i.length!==Object.keys(c).length,p?m:c}}const pj=()=>{};var qT={};const jI=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},mj=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const a=r[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],f=r[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],c=r[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},VI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,f=c?r[a+1]:0,p=a+2<r.length,m=p?r[a+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let T=(f&15)<<2|m>>6,S=m&63;p||(S=64,c||(T=64)),i.push(t[v],t[b],t[T],t[S])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(jI(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):mj(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],f=a<r.length?t[r.charAt(a)]:0;++a;const m=a<r.length?t[r.charAt(a)]:64;++a;const b=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||f==null||m==null||b==null)throw new gj;const T=l<<2|f>>4;if(i.push(T),m!==64){const S=f<<4&240|m>>2;if(i.push(S),b!==64){const O=m<<6&192|b;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class gj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yj=function(r){const e=jI(r);return VI.encodeByteArray(e,!0)},yf=function(r){return yj(r).replace(/\./g,"")},LI=function(r){try{return VI.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _j=()=>vj().__FIREBASE_DEFAULTS__,bj=()=>{if(typeof process>"u"||typeof qT>"u")return;const r=qT.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ej=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&LI(r[1]);return e&&JSON.parse(e)},qf=()=>{try{return pj()||_j()||bj()||Ej()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},PI=r=>qf()?.emulatorHosts?.[r],xj=r=>{const e=PI(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},UI=()=>qf()?.config,qI=r=>qf()?.[`_${r}`];class Tj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function il(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zI(r){return(await fetch(r,{credentials:"include"})).ok}function Sj(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[yf(JSON.stringify(t)),yf(JSON.stringify(c)),""].join(".")}const Mu={};function wj(){const r={prod:[],emulator:[]};for(const e of Object.keys(Mu))Mu[e]?r.emulator.push(e):r.prod.push(e);return r}function Aj(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let zT=!1;function BI(r,e){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||Mu[r]===e||Mu[r]||zT)return;Mu[r]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=wj().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,S){T.setAttribute("width","24"),T.setAttribute("id",S),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{zT=!0,c()},T}function v(T,S){T.setAttribute("id",S),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=Aj(i),S=t("text"),O=document.getElementById(S)||document.createElement("span"),M=t("learnmore"),k=document.getElementById(M)||document.createElement("a"),B=t("preprendIcon"),z=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Y=T.element;f(Y),v(k,M);const ae=m();p(z,B),Y.append(z,O,k,ae),document.body.appendChild(Y)}l?(O.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function Cj(){const r=qf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ij(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Nj(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Oj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dj(){const r=xn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function kj(){return!Cj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mj(){try{return typeof indexedDB=="object"}catch{return!1}}function jj(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const Vj="FirebaseError";class zi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Vj,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zu.prototype.create)}}class Zu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?Lj(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new zi(a,f,i)}}function Lj(r,e){return r.replace(Pj,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const Pj=/\{\$([^}]+)}/g;function Uj(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Da(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=r[a],c=e[a];if(BT(l)&&BT(c)){if(!Da(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function BT(r){return r!==null&&typeof r=="object"}function ec(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function qj(r,e){const t=new zj(r,e);return t.subscribe.bind(t)}class zj{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Bj(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=km),a.error===void 0&&(a.error=km),a.complete===void 0&&(a.complete=km);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bj(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function km(){}function jn(r){return r&&r._delegate?r._delegate:r}class ka{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ea="[DEFAULT]";class Fj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Tj;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gj(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Hj(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hj(r){return r===Ea?void 0:r}function Gj(r){return r.instantiationMode==="EAGER"}class $j{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Fj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Je||(Je={}));const Kj={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},Yj=Je.INFO,Wj={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},Qj=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),a=Wj[e];if(a)console[a](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E0{constructor(e){this.name=e,this._logLevel=Yj,this._logHandler=Qj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Kj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const Xj=(r,e)=>e.some(t=>r instanceof t);let FT,HT;function Jj(){return FT||(FT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zj(){return HT||(HT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FI=new WeakMap,z_=new WeakMap,HI=new WeakMap,Mm=new WeakMap,x0=new WeakMap;function e4(r){const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(Cs(r.result)),a()},c=()=>{i(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&FI.set(t,r)}).catch(()=>{}),x0.set(e,r),e}function t4(r){if(z_.has(r))return;const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});z_.set(r,e)}let B_={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return z_.get(r);if(e==="objectStoreNames")return r.objectStoreNames||HI.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function n4(r){B_=r(B_)}function r4(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(jm(this),e,...t);return HI.set(i,e.sort?e.sort():[e]),Cs(i)}:Zj().includes(r)?function(...e){return r.apply(jm(this),e),Cs(FI.get(this))}:function(...e){return Cs(r.apply(jm(this),e))}}function i4(r){return typeof r=="function"?r4(r):(r instanceof IDBTransaction&&t4(r),Xj(r,Jj())?new Proxy(r,B_):r)}function Cs(r){if(r instanceof IDBRequest)return e4(r);if(Mm.has(r))return Mm.get(r);const e=i4(r);return e!==r&&(Mm.set(r,e),x0.set(e,r)),e}const jm=r=>x0.get(r);function s4(r,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),f=Cs(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Cs(c.result),p.oldVersion,p.newVersion,Cs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const a4=["get","getKey","getAll","getAllKeys","count"],o4=["put","add","delete","clear"],Vm=new Map;function GT(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=o4.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||a4.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),a&&p.done]))[0]};return Vm.set(e,l),l}n4(r=>({...r,get:(e,t,i)=>GT(e,t)||r.get(e,t,i),has:(e,t)=>!!GT(e,t)||r.has(e,t)}));class l4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(u4(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function u4(r){return r.getComponent()?.type==="VERSION"}const F_="@firebase/app",$T="0.14.8";const ji=new E0("@firebase/app"),c4="@firebase/app-compat",h4="@firebase/analytics-compat",f4="@firebase/analytics",d4="@firebase/app-check-compat",p4="@firebase/app-check",m4="@firebase/auth",g4="@firebase/auth-compat",y4="@firebase/database",v4="@firebase/data-connect",_4="@firebase/database-compat",b4="@firebase/functions",E4="@firebase/functions-compat",x4="@firebase/installations",T4="@firebase/installations-compat",S4="@firebase/messaging",w4="@firebase/messaging-compat",A4="@firebase/performance",R4="@firebase/performance-compat",C4="@firebase/remote-config",I4="@firebase/remote-config-compat",N4="@firebase/storage",O4="@firebase/storage-compat",D4="@firebase/firestore",k4="@firebase/ai",M4="@firebase/firestore-compat",j4="firebase",V4="12.9.0";const H_="[DEFAULT]",L4={[F_]:"fire-core",[c4]:"fire-core-compat",[f4]:"fire-analytics",[h4]:"fire-analytics-compat",[p4]:"fire-app-check",[d4]:"fire-app-check-compat",[m4]:"fire-auth",[g4]:"fire-auth-compat",[y4]:"fire-rtdb",[v4]:"fire-data-connect",[_4]:"fire-rtdb-compat",[b4]:"fire-fn",[E4]:"fire-fn-compat",[x4]:"fire-iid",[T4]:"fire-iid-compat",[S4]:"fire-fcm",[w4]:"fire-fcm-compat",[A4]:"fire-perf",[R4]:"fire-perf-compat",[C4]:"fire-rc",[I4]:"fire-rc-compat",[N4]:"fire-gcs",[O4]:"fire-gcs-compat",[D4]:"fire-fst",[M4]:"fire-fst-compat",[k4]:"fire-vertex","fire-js":"fire-js",[j4]:"fire-js-all"};const vf=new Map,P4=new Map,G_=new Map;function KT(r,e){try{r.container.addComponent(e)}catch(t){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Qo(r){const e=r.name;if(G_.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;G_.set(e,r);for(const t of vf.values())KT(t,r);for(const t of P4.values())KT(t,r);return!0}function T0(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function xr(r){return r==null?!1:r.settings!==void 0}const U4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new Zu("app","Firebase",U4);class q4{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}const sl=V4;function GI(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:H_,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Is.create("bad-app-name",{appName:String(a)});if(t||(t=UI()),!t)throw Is.create("no-options");const l=vf.get(a);if(l){if(Da(t,l.options)&&Da(i,l.config))return l;throw Is.create("duplicate-app",{appName:a})}const c=new $j(a);for(const p of G_.values())c.addComponent(p);const f=new q4(t,i,c);return vf.set(a,f),f}function $I(r=H_){const e=vf.get(r);if(!e&&r===H_&&UI())return GI();if(!e)throw Is.create("no-app",{appName:r});return e}function Ns(r,e,t){let i=L4[r]??r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(c.join(" "));return}Qo(new ka(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const z4="firebase-heartbeat-database",B4=1,Bu="firebase-heartbeat-store";let Lm=null;function KI(){return Lm||(Lm=s4(z4,B4,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Bu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Is.create("idb-open",{originalErrorMessage:r.message})})),Lm}async function F4(r){try{const t=(await KI()).transaction(Bu),i=await t.objectStore(Bu).get(YI(r));return await t.done,i}catch(e){if(e instanceof zi)ji.warn(e.message);else{const t=Is.create("idb-get",{originalErrorMessage:e?.message});ji.warn(t.message)}}}async function YT(r,e){try{const i=(await KI()).transaction(Bu,"readwrite");await i.objectStore(Bu).put(e,YI(r)),await i.done}catch(t){if(t instanceof zi)ji.warn(t.message);else{const i=Is.create("idb-set",{originalErrorMessage:t?.message});ji.warn(i.message)}}}function YI(r){return`${r.name}!${r.options.appId}`}const H4=1024,G4=30;class $4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Y4(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=WT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>G4){const a=W4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=WT(),{heartbeatsToSend:t,unsentEntries:i}=K4(this._heartbeatsCache.heartbeats),a=yf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ji.warn(e),""}}}function WT(){return new Date().toISOString().substring(0,10)}function K4(r,e=H4){const t=[];let i=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),QT(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),QT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Y4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mj()?jj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await F4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return YT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return YT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function QT(r){return yf(JSON.stringify({version:2,heartbeats:r})).length}function W4(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}function Q4(r){Qo(new ka("platform-logger",e=>new l4(e),"PRIVATE")),Qo(new ka("heartbeat",e=>new $4(e),"PRIVATE")),Ns(F_,$T,r),Ns(F_,$T,"esm2020"),Ns("fire-js","")}Q4("");function WI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X4=WI,QI=new Zu("auth","Firebase",WI());const _f=new E0("@firebase/auth");function J4(r,...e){_f.logLevel<=Je.WARN&&_f.warn(`Auth (${sl}): ${r}`,...e)}function Jh(r,...e){_f.logLevel<=Je.ERROR&&_f.error(`Auth (${sl}): ${r}`,...e)}function si(r,...e){throw w0(r,...e)}function wr(r,...e){return w0(r,...e)}function S0(r,e,t){const i={...X4(),[e]:t};return new Zu("auth","Firebase",i).create(e,{appName:r.name})}function wa(r){return S0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Z4(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&si(r,"argument-error"),S0(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function w0(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return QI.create(r,...e)}function Oe(r,e,...t){if(!r)throw w0(e,...t)}function Ni(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Jh(e),new Error(e)}function Vi(r,e){r||Ni(e)}function $_(){return typeof self<"u"&&self.location?.href||""}function e3(){return XT()==="http:"||XT()==="https:"}function XT(){return typeof self<"u"&&self.location?.protocol||null}function t3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e3()||Nj()||"connection"in navigator)?navigator.onLine:!0}function n3(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class tc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vi(t>e,"Short delay should be less than long delay!"),this.isMobile=Rj()||Oj()}get(){return t3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function A0(r,e){Vi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class XI{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const r3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const i3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s3=new tc(3e4,6e4);function R0(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function al(r,e,t,i,a={}){return JI(r,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=ec({key:r.config.apiKey,...c}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const m={method:e,headers:p,...l};return Ij()||(m.referrerPolicy="no-referrer"),r.emulatorConfig&&il(r.emulatorConfig.host)&&(m.credentials="include"),XI.fetch()(await ZI(r,r.config.apiHost,t,f),m)})}async function JI(r,e,t){r._canInitEmulator=!1;const i={...r3,...e};try{const a=new o3(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Bh(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bh(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Bh(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw Bh(r,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw S0(r,v,m);si(r,v)}}catch(a){if(a instanceof zi)throw a;si(r,"network-request-failed",{message:String(a)})}}async function a3(r,e,t,i,a={}){const l=await al(r,e,t,i,a);return"mfaPendingCredential"in l&&si(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function ZI(r,e,t,i){const a=`${e}${t}?${i}`,l=r,c=l.config.emulator?A0(r.config,a):`${r.config.apiScheme}://${a}`;return i3.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class o3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(wr(this.auth,"network-request-failed")),s3.get())})}}function Bh(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=wr(r,e,i);return a.customData._tokenResponse=t,a}async function l3(r,e){return al(r,"POST","/v1/accounts:delete",e)}async function bf(r,e){return al(r,"POST","/v1/accounts:lookup",e)}function ju(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u3(r,e=!1){const t=jn(r),i=await t.getIdToken(e),a=C0(i);Oe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:ju(Pm(a.auth_time)),issuedAtTime:ju(Pm(a.iat)),expirationTime:ju(Pm(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Pm(r){return Number(r)*1e3}function C0(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const a=LI(t);return a?JSON.parse(a):(Jh("Failed to decode base64 JWT payload"),null)}catch(a){return Jh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function JT(r){const e=C0(r);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Fu(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof zi&&c3(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function c3({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class h3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class K_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ef(r){const e=r.auth,t=await r.getIdToken(),i=await Fu(r,bf(e,{idToken:t}));Oe(i?.users.length,e,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=a.providerUserInfo?.length?e2(a.providerUserInfo):[],c=d3(r.providerData,l),f=r.isAnonymous,p=!(r.email&&a.passwordHash)&&!c?.length,m=f?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new K_(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(r,v)}async function f3(r){const e=jn(r);await Ef(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function d3(r,e){return[...r.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function e2(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function p3(r,e){const t=await JI(r,{},async()=>{const i=ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,c=await ZI(r,a,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return r.emulatorConfig&&il(r.emulatorConfig.host)&&(p.credentials="include"),XI.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function m3(r,e){return al(r,"POST","/v2/accounts:revokeToken",R0(r,e))}class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=JT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await p3(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Bo;return i&&(Oe(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Oe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Oe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return Ni("not implemented")}}function Es(r,e){Oe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Tr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new h3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new K_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Fu(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return u3(this,e)}reload(){return f3(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Ef(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xr(this.auth.app))return Promise.reject(wa(this.auth));const e=await this.getIdToken();return await Fu(this,l3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,p=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:T,isAnonymous:S,providerData:O,stsTokenManager:M}=t;Oe(b&&M,e,"internal-error");const k=Bo.fromJSON(this.name,M);Oe(typeof b=="string",e,"internal-error"),Es(i,e.name),Es(a,e.name),Oe(typeof T=="boolean",e,"internal-error"),Oe(typeof S=="boolean",e,"internal-error"),Es(l,e.name),Es(c,e.name),Es(f,e.name),Es(p,e.name),Es(m,e.name),Es(v,e.name);const B=new Tr({uid:b,auth:e,email:a,emailVerified:T,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:k,createdAt:m,lastLoginAt:v});return O&&Array.isArray(O)&&(B.providerData=O.map(z=>({...z}))),p&&(B._redirectEventId=p),B}static async _fromIdTokenResponse(e,t,i=!1){const a=new Bo;a.updateFromServerResponse(t);const l=new Tr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Ef(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Oe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?e2(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Bo;f.updateFromIdToken(i);const p=new Tr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new K_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,m),p}}const ZT=new Map;function Oi(r){Vi(r instanceof Function,"Expected a class definition");let e=ZT.get(r);return e?(Vi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ZT.set(r,e),e)}class t2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}t2.type="NONE";const eS=t2;function Zh(r,e,t){return`firebase:${r}:${e}:${t}`}class Fo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Zh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Zh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await bf(this.auth,{idToken:e}).catch(()=>{});return t?Tr._fromGetAccountInfoResponse(this.auth,t,e):null}return Tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Fo(Oi(eS),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Oi(eS);const c=Zh(i,e.config.apiKey,e.name);let f=null;for(const m of t)try{const v=await m._get(c);if(v){let b;if(typeof v=="string"){const T=await bf(e,{idToken:v}).catch(()=>{});if(!T)break;b=await Tr._fromGetAccountInfoResponse(e,T,v)}else b=Tr._fromJSON(e,v);m!==l&&(f=b),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Fo(l,e,i):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Fo(l,e,i))}}function tS(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(s2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o2(e))return"Blackberry";if(l2(e))return"Webos";if(r2(e))return"Safari";if((e.includes("chrome/")||i2(e))&&!e.includes("edge/"))return"Chrome";if(a2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function n2(r=xn()){return/firefox\//i.test(r)}function r2(r=xn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i2(r=xn()){return/crios\//i.test(r)}function s2(r=xn()){return/iemobile/i.test(r)}function a2(r=xn()){return/android/i.test(r)}function o2(r=xn()){return/blackberry/i.test(r)}function l2(r=xn()){return/webos/i.test(r)}function I0(r=xn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function g3(r=xn()){return I0(r)&&!!window.navigator?.standalone}function y3(){return Dj()&&document.documentMode===10}function u2(r=xn()){return I0(r)||a2(r)||l2(r)||o2(r)||/windows phone/i.test(r)||s2(r)}function c2(r,e=[]){let t;switch(r){case"Browser":t=tS(xn());break;case"Worker":t=`${tS(xn())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sl}/${i}`}class v3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const p=e(l);c(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function _3(r,e={}){return al(r,"GET","/v2/passwordPolicy",R0(r,e))}const b3=6;class E3{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??b3,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class x3{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nS(this),this.idTokenSubscription=new nS(this),this.beforeStateQueue=new v3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await bf(this,{idToken:e}),i=await Tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ef(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xr(this.app))return Promise.reject(wa(this));const t=e?jn(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xr(this.app)?Promise.reject(wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xr(this.app)?Promise.reject(wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _3(this),t=new E3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await m3(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Oi(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=c2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&J4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zf(r){return jn(r)}class nS{constructor(e){this.auth=e,this.observer=null,this.addObserver=qj(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let N0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T3(r){N0=r}function S3(r){return N0.loadJS(r)}function w3(){return N0.gapiScript}function A3(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function R3(r,e){const t=T0(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Da(l,e??{}))return a;si(a,"already-initialized")}return t.initialize({options:e})}function C3(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Oi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function I3(r,e,t){const i=zf(r);Oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=h2(e),{host:c,port:f}=N3(e),p=f===null?"":`:${f}`,m={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Oe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Oe(Da(m,i.config.emulator)&&Da(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,il(c)?(zI(`${l}//${c}${p}`),BI("Auth",!0)):O3()}function h2(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function N3(r){const e=h2(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:rS(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:rS(c)}}}function rS(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function O3(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class f2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function Ho(r,e){return a3(r,"POST","/v1/accounts:signInWithIdp",R0(r,e))}const D3="http://localhost";class Ma extends f2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new Ma(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ho(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ho(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ho(e,t)}buildRequest(){const e={requestUri:D3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ec(t)}return e}}class O0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nc extends O0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ts extends nc{constructor(){super("facebook.com")}static credential(e){return Ma._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";class Ci extends nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ma._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ci.credential(t,i)}catch{return null}}}Ci.GOOGLE_SIGN_IN_METHOD="google.com";Ci.PROVIDER_ID="google.com";class Ss extends nc{constructor(){super("github.com")}static credential(e){return Ma._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";class ws extends nc{constructor(){super("twitter.com")}static credential(e,t){return Ma._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ws.credential(t,i)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Tr._fromIdTokenResponse(e,i,a),c=iS(i);return new Xo({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=iS(i);return new Xo({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function iS(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class xf extends zi{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,xf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new xf(e,t,i,a)}}function d2(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?xf._fromErrorAndOperation(r,l,e,i):l})}async function k3(r,e,t=!1){const i=await Fu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Xo._forOperation(r,"link",i)}async function M3(r,e,t=!1){const{auth:i}=r;if(xr(i.app))return Promise.reject(wa(i));const a="reauthenticate";try{const l=await Fu(r,d2(i,a,e,r),t);Oe(l.idToken,i,"internal-error");const c=C0(l.idToken);Oe(c,i,"internal-error");const{sub:f}=c;return Oe(r.uid===f,i,"user-mismatch"),Xo._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&si(i,"user-mismatch"),l}}async function j3(r,e,t=!1){if(xr(r.app))return Promise.reject(wa(r));const i="signIn",a=await d2(r,i,e),l=await Xo._fromIdTokenResponse(r,i,a);return t||await r._updateCurrentUser(l.user),l}function V3(r,e,t,i){return jn(r).onIdTokenChanged(e,t,i)}function L3(r,e,t){return jn(r).beforeAuthStateChanged(e,t)}function D0(r,e,t,i){return jn(r).onAuthStateChanged(e,t,i)}function P3(r){return jn(r).signOut()}const Tf="__sak";class p2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tf,"1"),this.storage.removeItem(Tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const U3=1e3,q3=10;class m2 extends p2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=u2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);y3()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,q3):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},U3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}m2.type="LOCAL";const z3=m2;class g2 extends p2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}g2.type="SESSION";const y2=g2;function B3(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Bf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async m=>m(t.origin,l)),p=await B3(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];function k0(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}class F3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const m=k0("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const T=b;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ti(){return window}function H3(r){ti().location.href=r}function v2(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function G3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $3(){return navigator?.serviceWorker?.controller||null}function K3(){return v2()?self:null}const _2="firebaseLocalStorageDb",Y3=1,Sf="firebaseLocalStorage",b2="fbase_key";class rc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ff(r,e){return r.transaction([Sf],e?"readwrite":"readonly").objectStore(Sf)}function W3(){const r=indexedDB.deleteDatabase(_2);return new rc(r).toPromise()}function Y_(){const r=indexedDB.open(_2,Y3);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Sf,{keyPath:b2})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Sf)?e(i):(i.close(),await W3(),e(await Y_()))})})}async function sS(r,e,t){const i=Ff(r,!0).put({[b2]:e,value:t});return new rc(i).toPromise()}async function Q3(r,e){const t=Ff(r,!1).get(e),i=await new rc(t).toPromise();return i===void 0?null:i.value}function aS(r,e){const t=Ff(r,!0).delete(e);return new rc(t).toPromise()}const X3=800,J3=3;class E2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Y_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>J3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance(K3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await G3(),!this.activeServiceWorker)return;this.sender=new F3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Y_();return await sS(e,Tf,"1"),await aS(e,Tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>sS(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Q3(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>aS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Ff(a,!1).getAll();return new rc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E2.type="LOCAL";const Z3=E2;new tc(3e4,6e4);function x2(r,e){return e?Oi(e):(Oe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class M0 extends f2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eV(r){return j3(r.auth,new M0(r),r.bypassAuthState)}function tV(r){const{auth:e,user:t}=r;return Oe(t,e,"internal-error"),M3(t,new M0(r),r.bypassAuthState)}async function nV(r){const{auth:e,user:t}=r;return Oe(t,e,"internal-error"),k3(t,new M0(r),r.bypassAuthState)}class T2{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eV;case"linkViaPopup":case"linkViaRedirect":return nV;case"reauthViaPopup":case"reauthViaRedirect":return tV;default:si(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rV=new tc(2e3,1e4);async function S2(r,e,t){if(xr(r.app))return Promise.reject(wr(r,"operation-not-supported-in-this-environment"));const i=zf(r);Z4(r,e,O0);const a=x2(i,t);return new xa(i,"signInViaPopup",e,a).executeNotNull()}class xa extends T2{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=k0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rV.get())};e()}}xa.currentPopupAction=null;const iV="pendingRedirect",ef=new Map;class sV extends T2{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ef.get(this.auth._key());if(!e){try{const i=await aV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ef.set(this.auth._key(),e)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aV(r,e){const t=uV(e),i=lV(r);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function oV(r,e){ef.set(r._key(),e)}function lV(r){return Oi(r._redirectPersistence)}function uV(r){return Zh(iV,r.config.apiKey,r.name)}async function cV(r,e,t=!1){if(xr(r.app))return Promise.reject(wa(r));const i=zf(r),a=x2(i,e),c=await new sV(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const hV=600*1e3;class fV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!w2(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(wr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hV&&this.cachedEventUids.clear(),this.cachedEventUids.has(oS(e))}saveEventToCache(e){this.cachedEventUids.add(oS(e)),this.lastProcessedEventTime=Date.now()}}function oS(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function w2({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function dV(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w2(r);default:return!1}}async function pV(r,e={}){return al(r,"GET","/v1/projects",e)}const mV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gV=/^https?/;async function yV(r){if(r.config.emulator)return;const{authorizedDomains:e}=await pV(r);for(const t of e)try{if(vV(t))return}catch{}si(r,"unauthorized-domain")}function vV(r){const e=$_(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!gV.test(t))return!1;if(mV.test(r))return i===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const _V=new tc(3e4,6e4);function lS(){const r=ti().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function bV(r){return new Promise((e,t)=>{function i(){lS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lS(),t(wr(r,"network-request-failed"))},timeout:_V.get()})}if(ti().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ti().gapi?.load)i();else{const a=A3("iframefcb");return ti()[a]=()=>{gapi.load?i():t(wr(r,"network-request-failed"))},S3(`${w3()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw tf=null,e})}let tf=null;function EV(r){return tf=tf||bV(r),tf}const xV=new tc(5e3,15e3),TV="__/auth/iframe",SV="emulator/auth/iframe",wV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RV(r){const e=r.config;Oe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?A0(e,SV):`https://${r.config.authDomain}/${TV}`,i={apiKey:e.apiKey,appName:r.name,v:sl},a=AV.get(r.config.apiHost);a&&(i.eid=a);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${ec(i).slice(1)}`}async function CV(r){const e=await EV(r),t=ti().gapi;return Oe(t,r,"internal-error"),e.open({where:document.body,url:RV(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wV,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=wr(r,"network-request-failed"),f=ti().setTimeout(()=>{l(c)},xV.get());function p(){ti().clearTimeout(f),a(i)}i.ping(p).then(p,()=>{l(c)})}))}const IV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NV=500,OV=600,DV="_blank",kV="http://localhost";class uS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MV(r,e,t,i=NV,a=OV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p={...IV,width:i.toString(),height:a.toString(),top:l,left:c},m=xn().toLowerCase();t&&(f=i2(m)?DV:t),n2(m)&&(e=e||kV,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[S,O])=>`${T}${S}=${O},`,"");if(g3(m)&&f!=="_self")return jV(e||"",f),new uS(null);const b=window.open(e||"",f,v);Oe(b,r,"popup-blocked");try{b.focus()}catch{}return new uS(b)}function jV(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const VV="__/auth/handler",LV="emulator/auth/handler",PV=encodeURIComponent("fac");async function cS(r,e,t,i,a,l){Oe(r.config.authDomain,r,"auth-domain-config-required"),Oe(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:sl,eventId:a};if(e instanceof O0){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",Uj(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof nc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}r.tenantId&&(c.tid=r.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await r._getAppCheckToken(),m=p?`#${PV}=${encodeURIComponent(p)}`:"";return`${UV(r)}?${ec(f).slice(1)}${m}`}function UV({config:r}){return r.emulator?A0(r,LV):`https://${r.authDomain}/${VV}`}const Um="webStorageSupport";class qV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y2,this._completeRedirectFn=cV,this._overrideRedirectResult=oV}async _openPopup(e,t,i,a){Vi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await cS(e,t,i,$_(),a);return MV(e,l,k0())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await cS(e,t,i,$_(),a);return H3(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Vi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await CV(e),i=new fV(e);return t.register("authEvent",a=>(Oe(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Um,{type:Um},a=>{const l=a?.[0]?.[Um];l!==void 0&&t(!!l),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return u2()||r2()||I0()}}const zV=qV;var hS="@firebase/auth",fS="1.12.0";class BV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function FV(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HV(r){Qo(new ka("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Oe(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:c2(r)},m=new x3(i,a,l,p);return C3(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Qo(new ka("auth-internal",e=>{const t=zf(e.getProvider("auth").getImmediate());return(i=>new BV(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(hS,fS,FV(r)),Ns(hS,fS,"esm2020")}const GV=300,$V=qI("authIdTokenMaxAge")||GV;let dS=null;const KV=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>$V)return;const a=t?.token;dS!==a&&(dS=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function YV(r=$I()){const e=T0(r,"auth");if(e.isInitialized())return e.getImmediate();const t=R3(r,{popupRedirectResolver:zV,persistence:[Z3,z3,y2]}),i=qI("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=KV(l.toString());L3(t,c,()=>c(t.currentUser)),V3(t,f=>c(f))}}const a=PI("auth");return a&&I3(t,`http://${a}`),t}function WV(){return document.getElementsByTagName("head")?.[0]??document}T3({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=a=>{const l=wr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",WV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HV("Browser");var qm,pS;function QV(){if(pS)return qm;pS=1;function r(){this.__data__=[],this.size=0}return qm=r,qm}var zm,mS;function ic(){if(mS)return zm;mS=1;function r(e,t){return e===t||e!==e&&t!==t}return zm=r,zm}var Bm,gS;function Hf(){if(gS)return Bm;gS=1;var r=ic();function e(t,i){for(var a=t.length;a--;)if(r(t[a][0],i))return a;return-1}return Bm=e,Bm}var Fm,yS;function XV(){if(yS)return Fm;yS=1;var r=Hf(),e=Array.prototype,t=e.splice;function i(a){var l=this.__data__,c=r(l,a);if(c<0)return!1;var f=l.length-1;return c==f?l.pop():t.call(l,c,1),--this.size,!0}return Fm=i,Fm}var Hm,vS;function JV(){if(vS)return Hm;vS=1;var r=Hf();function e(t){var i=this.__data__,a=r(i,t);return a<0?void 0:i[a][1]}return Hm=e,Hm}var Gm,_S;function ZV(){if(_S)return Gm;_S=1;var r=Hf();function e(t){return r(this.__data__,t)>-1}return Gm=e,Gm}var $m,bS;function e5(){if(bS)return $m;bS=1;var r=Hf();function e(t,i){var a=this.__data__,l=r(a,t);return l<0?(++this.size,a.push([t,i])):a[l][1]=i,this}return $m=e,$m}var Km,ES;function Gf(){if(ES)return Km;ES=1;var r=QV(),e=XV(),t=JV(),i=ZV(),a=e5();function l(c){var f=-1,p=c==null?0:c.length;for(this.clear();++f<p;){var m=c[f];this.set(m[0],m[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,Km=l,Km}var Ym,xS;function t5(){if(xS)return Ym;xS=1;var r=Gf();function e(){this.__data__=new r,this.size=0}return Ym=e,Ym}var Wm,TS;function n5(){if(TS)return Wm;TS=1;function r(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}return Wm=r,Wm}var Qm,SS;function r5(){if(SS)return Qm;SS=1;function r(e){return this.__data__.get(e)}return Qm=r,Qm}var Xm,wS;function i5(){if(wS)return Xm;wS=1;function r(e){return this.__data__.has(e)}return Xm=r,Xm}var Jm,AS;function A2(){if(AS)return Jm;AS=1;var r=typeof As=="object"&&As&&As.Object===Object&&As;return Jm=r,Jm}var Zm,RS;function Nr(){if(RS)return Zm;RS=1;var r=A2(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return Zm=t,Zm}var eg,CS;function ol(){if(CS)return eg;CS=1;var r=Nr(),e=r.Symbol;return eg=e,eg}var tg,IS;function s5(){if(IS)return tg;IS=1;var r=ol(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,a=r?r.toStringTag:void 0;function l(c){var f=t.call(c,a),p=c[a];try{c[a]=void 0;var m=!0}catch{}var v=i.call(c);return m&&(f?c[a]=p:delete c[a]),v}return tg=l,tg}var ng,NS;function a5(){if(NS)return ng;NS=1;var r=Object.prototype,e=r.toString;function t(i){return e.call(i)}return ng=t,ng}var rg,OS;function Ua(){if(OS)return rg;OS=1;var r=ol(),e=s5(),t=a5(),i="[object Null]",a="[object Undefined]",l=r?r.toStringTag:void 0;function c(f){return f==null?f===void 0?a:i:l&&l in Object(f)?e(f):t(f)}return rg=c,rg}var ig,DS;function cr(){if(DS)return ig;DS=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return ig=r,ig}var sg,kS;function j0(){if(kS)return sg;kS=1;var r=Ua(),e=cr(),t="[object AsyncFunction]",i="[object Function]",a="[object GeneratorFunction]",l="[object Proxy]";function c(f){if(!e(f))return!1;var p=r(f);return p==i||p==a||p==t||p==l}return sg=c,sg}var ag,MS;function o5(){if(MS)return ag;MS=1;var r=Nr(),e=r["__core-js_shared__"];return ag=e,ag}var og,jS;function l5(){if(jS)return og;jS=1;var r=o5(),e=(function(){var i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})();function t(i){return!!e&&e in i}return og=t,og}var lg,VS;function R2(){if(VS)return lg;VS=1;var r=Function.prototype,e=r.toString;function t(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return lg=t,lg}var ug,LS;function u5(){if(LS)return ug;LS=1;var r=j0(),e=l5(),t=cr(),i=R2(),a=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,p=c.toString,m=f.hasOwnProperty,v=RegExp("^"+p.call(m).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b(T){if(!t(T)||e(T))return!1;var S=r(T)?v:l;return S.test(i(T))}return ug=b,ug}var cg,PS;function c5(){if(PS)return cg;PS=1;function r(e,t){return e?.[t]}return cg=r,cg}var hg,US;function qa(){if(US)return hg;US=1;var r=u5(),e=c5();function t(i,a){var l=e(i,a);return r(l)?l:void 0}return hg=t,hg}var fg,qS;function V0(){if(qS)return fg;qS=1;var r=qa(),e=Nr(),t=r(e,"Map");return fg=t,fg}var dg,zS;function $f(){if(zS)return dg;zS=1;var r=qa(),e=r(Object,"create");return dg=e,dg}var pg,BS;function h5(){if(BS)return pg;BS=1;var r=$f();function e(){this.__data__=r?r(null):{},this.size=0}return pg=e,pg}var mg,FS;function f5(){if(FS)return mg;FS=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return mg=r,mg}var gg,HS;function d5(){if(HS)return gg;HS=1;var r=$f(),e="__lodash_hash_undefined__",t=Object.prototype,i=t.hasOwnProperty;function a(l){var c=this.__data__;if(r){var f=c[l];return f===e?void 0:f}return i.call(c,l)?c[l]:void 0}return gg=a,gg}var yg,GS;function p5(){if(GS)return yg;GS=1;var r=$f(),e=Object.prototype,t=e.hasOwnProperty;function i(a){var l=this.__data__;return r?l[a]!==void 0:t.call(l,a)}return yg=i,yg}var vg,$S;function m5(){if($S)return vg;$S=1;var r=$f(),e="__lodash_hash_undefined__";function t(i,a){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=r&&a===void 0?e:a,this}return vg=t,vg}var _g,KS;function g5(){if(KS)return _g;KS=1;var r=h5(),e=f5(),t=d5(),i=p5(),a=m5();function l(c){var f=-1,p=c==null?0:c.length;for(this.clear();++f<p;){var m=c[f];this.set(m[0],m[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,_g=l,_g}var bg,YS;function y5(){if(YS)return bg;YS=1;var r=g5(),e=Gf(),t=V0();function i(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return bg=i,bg}var Eg,WS;function v5(){if(WS)return Eg;WS=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Eg=r,Eg}var xg,QS;function Kf(){if(QS)return xg;QS=1;var r=v5();function e(t,i){var a=t.__data__;return r(i)?a[typeof i=="string"?"string":"hash"]:a.map}return xg=e,xg}var Tg,XS;function _5(){if(XS)return Tg;XS=1;var r=Kf();function e(t){var i=r(this,t).delete(t);return this.size-=i?1:0,i}return Tg=e,Tg}var Sg,JS;function b5(){if(JS)return Sg;JS=1;var r=Kf();function e(t){return r(this,t).get(t)}return Sg=e,Sg}var wg,ZS;function E5(){if(ZS)return wg;ZS=1;var r=Kf();function e(t){return r(this,t).has(t)}return wg=e,wg}var Ag,ew;function x5(){if(ew)return Ag;ew=1;var r=Kf();function e(t,i){var a=r(this,t),l=a.size;return a.set(t,i),this.size+=a.size==l?0:1,this}return Ag=e,Ag}var Rg,tw;function L0(){if(tw)return Rg;tw=1;var r=y5(),e=_5(),t=b5(),i=E5(),a=x5();function l(c){var f=-1,p=c==null?0:c.length;for(this.clear();++f<p;){var m=c[f];this.set(m[0],m[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,Rg=l,Rg}var Cg,nw;function T5(){if(nw)return Cg;nw=1;var r=Gf(),e=V0(),t=L0(),i=200;function a(l,c){var f=this.__data__;if(f instanceof r){var p=f.__data__;if(!e||p.length<i-1)return p.push([l,c]),this.size=++f.size,this;f=this.__data__=new t(p)}return f.set(l,c),this.size=f.size,this}return Cg=a,Cg}var Ig,rw;function Yf(){if(rw)return Ig;rw=1;var r=Gf(),e=t5(),t=n5(),i=r5(),a=i5(),l=T5();function c(f){var p=this.__data__=new r(f);this.size=p.size}return c.prototype.clear=e,c.prototype.delete=t,c.prototype.get=i,c.prototype.has=a,c.prototype.set=l,Ig=c,Ig}var Ng,iw;function C2(){if(iw)return Ng;iw=1;var r=qa(),e=(function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}})();return Ng=e,Ng}var Og,sw;function Wf(){if(sw)return Og;sw=1;var r=C2();function e(t,i,a){i=="__proto__"&&r?r(t,i,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[i]=a}return Og=e,Og}var Dg,aw;function I2(){if(aw)return Dg;aw=1;var r=Wf(),e=ic();function t(i,a,l){(l!==void 0&&!e(i[a],l)||l===void 0&&!(a in i))&&r(i,a,l)}return Dg=t,Dg}var kg,ow;function S5(){if(ow)return kg;ow=1;function r(e){return function(t,i,a){for(var l=-1,c=Object(t),f=a(t),p=f.length;p--;){var m=f[e?p:++l];if(i(c[m],m,c)===!1)break}return t}}return kg=r,kg}var Mg,lw;function N2(){if(lw)return Mg;lw=1;var r=S5(),e=r();return Mg=e,Mg}var Ru={exports:{}};Ru.exports;var uw;function O2(){return uw||(uw=1,(function(r,e){var t=Nr(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,l=a&&a.exports===i,c=l?t.Buffer:void 0,f=c?c.allocUnsafe:void 0;function p(m,v){if(v)return m.slice();var b=m.length,T=f?f(b):new m.constructor(b);return m.copy(T),T}r.exports=p})(Ru,Ru.exports)),Ru.exports}var jg,cw;function D2(){if(cw)return jg;cw=1;var r=Nr(),e=r.Uint8Array;return jg=e,jg}var Vg,hw;function P0(){if(hw)return Vg;hw=1;var r=D2();function e(t){var i=new t.constructor(t.byteLength);return new r(i).set(new r(t)),i}return Vg=e,Vg}var Lg,fw;function k2(){if(fw)return Lg;fw=1;var r=P0();function e(t,i){var a=i?r(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}return Lg=e,Lg}var Pg,dw;function U0(){if(dw)return Pg;dw=1;function r(e,t){var i=-1,a=e.length;for(t||(t=Array(a));++i<a;)t[i]=e[i];return t}return Pg=r,Pg}var Ug,pw;function w5(){if(pw)return Ug;pw=1;var r=cr(),e=Object.create,t=(function(){function i(){}return function(a){if(!r(a))return{};if(e)return e(a);i.prototype=a;var l=new i;return i.prototype=void 0,l}})();return Ug=t,Ug}var qg,mw;function M2(){if(mw)return qg;mw=1;function r(e,t){return function(i){return e(t(i))}}return qg=r,qg}var zg,gw;function q0(){if(gw)return zg;gw=1;var r=M2(),e=r(Object.getPrototypeOf,Object);return zg=e,zg}var Bg,yw;function z0(){if(yw)return Bg;yw=1;var r=Object.prototype;function e(t){var i=t&&t.constructor,a=typeof i=="function"&&i.prototype||r;return t===a}return Bg=e,Bg}var Fg,vw;function j2(){if(vw)return Fg;vw=1;var r=w5(),e=q0(),t=z0();function i(a){return typeof a.constructor=="function"&&!t(a)?r(e(a)):{}}return Fg=i,Fg}var Hg,_w;function oi(){if(_w)return Hg;_w=1;function r(e){return e!=null&&typeof e=="object"}return Hg=r,Hg}var Gg,bw;function A5(){if(bw)return Gg;bw=1;var r=Ua(),e=oi(),t="[object Arguments]";function i(a){return e(a)&&r(a)==t}return Gg=i,Gg}var $g,Ew;function Qf(){if(Ew)return $g;Ew=1;var r=A5(),e=oi(),t=Object.prototype,i=t.hasOwnProperty,a=t.propertyIsEnumerable,l=r((function(){return arguments})())?r:function(c){return e(c)&&i.call(c,"callee")&&!a.call(c,"callee")};return $g=l,$g}var Kg,xw;function gn(){if(xw)return Kg;xw=1;var r=Array.isArray;return Kg=r,Kg}var Yg,Tw;function B0(){if(Tw)return Yg;Tw=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return Yg=e,Yg}var Wg,Sw;function ll(){if(Sw)return Wg;Sw=1;var r=j0(),e=B0();function t(i){return i!=null&&e(i.length)&&!r(i)}return Wg=t,Wg}var Qg,ww;function R5(){if(ww)return Qg;ww=1;var r=ll(),e=oi();function t(i){return e(i)&&r(i)}return Qg=t,Qg}var Cu={exports:{}},Xg,Aw;function C5(){if(Aw)return Xg;Aw=1;function r(){return!1}return Xg=r,Xg}Cu.exports;var Rw;function Xf(){return Rw||(Rw=1,(function(r,e){var t=Nr(),i=C5(),a=e&&!e.nodeType&&e,l=a&&!0&&r&&!r.nodeType&&r,c=l&&l.exports===a,f=c?t.Buffer:void 0,p=f?f.isBuffer:void 0,m=p||i;r.exports=m})(Cu,Cu.exports)),Cu.exports}var Jg,Cw;function V2(){if(Cw)return Jg;Cw=1;var r=Ua(),e=q0(),t=oi(),i="[object Object]",a=Function.prototype,l=Object.prototype,c=a.toString,f=l.hasOwnProperty,p=c.call(Object);function m(v){if(!t(v)||r(v)!=i)return!1;var b=e(v);if(b===null)return!0;var T=f.call(b,"constructor")&&b.constructor;return typeof T=="function"&&T instanceof T&&c.call(T)==p}return Jg=m,Jg}var Zg,Iw;function I5(){if(Iw)return Zg;Iw=1;var r=Ua(),e=B0(),t=oi(),i="[object Arguments]",a="[object Array]",l="[object Boolean]",c="[object Date]",f="[object Error]",p="[object Function]",m="[object Map]",v="[object Number]",b="[object Object]",T="[object RegExp]",S="[object Set]",O="[object String]",M="[object WeakMap]",k="[object ArrayBuffer]",B="[object DataView]",z="[object Float32Array]",Y="[object Float64Array]",ae="[object Int8Array]",ue="[object Int16Array]",oe="[object Int32Array]",R="[object Uint8Array]",C="[object Uint8ClampedArray]",N="[object Uint16Array]",j="[object Uint32Array]",D={};D[z]=D[Y]=D[ae]=D[ue]=D[oe]=D[R]=D[C]=D[N]=D[j]=!0,D[i]=D[a]=D[k]=D[l]=D[B]=D[c]=D[f]=D[p]=D[m]=D[v]=D[b]=D[T]=D[S]=D[O]=D[M]=!1;function L(I){return t(I)&&e(I.length)&&!!D[r(I)]}return Zg=L,Zg}var ey,Nw;function Jf(){if(Nw)return ey;Nw=1;function r(e){return function(t){return e(t)}}return ey=r,ey}var Iu={exports:{}};Iu.exports;var Ow;function F0(){return Ow||(Ow=1,(function(r,e){var t=A2(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,l=a&&a.exports===i,c=l&&t.process,f=(function(){try{var p=a&&a.require&&a.require("util").types;return p||c&&c.binding&&c.binding("util")}catch{}})();r.exports=f})(Iu,Iu.exports)),Iu.exports}var ty,Dw;function H0(){if(Dw)return ty;Dw=1;var r=I5(),e=Jf(),t=F0(),i=t&&t.isTypedArray,a=i?e(i):r;return ty=a,ty}var ny,kw;function L2(){if(kw)return ny;kw=1;function r(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}return ny=r,ny}var ry,Mw;function G0(){if(Mw)return ry;Mw=1;var r=Wf(),e=ic(),t=Object.prototype,i=t.hasOwnProperty;function a(l,c,f){var p=l[c];(!(i.call(l,c)&&e(p,f))||f===void 0&&!(c in l))&&r(l,c,f)}return ry=a,ry}var iy,jw;function ul(){if(jw)return iy;jw=1;var r=G0(),e=Wf();function t(i,a,l,c){var f=!l;l||(l={});for(var p=-1,m=a.length;++p<m;){var v=a[p],b=c?c(l[v],i[v],v,l,i):void 0;b===void 0&&(b=i[v]),f?e(l,v,b):r(l,v,b)}return l}return iy=t,iy}var sy,Vw;function N5(){if(Vw)return sy;Vw=1;function r(e,t){for(var i=-1,a=Array(e);++i<e;)a[i]=t(i);return a}return sy=r,sy}var ay,Lw;function Zf(){if(Lw)return ay;Lw=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(i,a){var l=typeof i;return a=a??r,!!a&&(l=="number"||l!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<a}return ay=t,ay}var oy,Pw;function P2(){if(Pw)return oy;Pw=1;var r=N5(),e=Qf(),t=gn(),i=Xf(),a=Zf(),l=H0(),c=Object.prototype,f=c.hasOwnProperty;function p(m,v){var b=t(m),T=!b&&e(m),S=!b&&!T&&i(m),O=!b&&!T&&!S&&l(m),M=b||T||S||O,k=M?r(m.length,String):[],B=k.length;for(var z in m)(v||f.call(m,z))&&!(M&&(z=="length"||S&&(z=="offset"||z=="parent")||O&&(z=="buffer"||z=="byteLength"||z=="byteOffset")||a(z,B)))&&k.push(z);return k}return oy=p,oy}var ly,Uw;function O5(){if(Uw)return ly;Uw=1;function r(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}return ly=r,ly}var uy,qw;function D5(){if(qw)return uy;qw=1;var r=cr(),e=z0(),t=O5(),i=Object.prototype,a=i.hasOwnProperty;function l(c){if(!r(c))return t(c);var f=e(c),p=[];for(var m in c)m=="constructor"&&(f||!a.call(c,m))||p.push(m);return p}return uy=l,uy}var cy,zw;function sc(){if(zw)return cy;zw=1;var r=P2(),e=D5(),t=ll();function i(a){return t(a)?r(a,!0):e(a)}return cy=i,cy}var hy,Bw;function k5(){if(Bw)return hy;Bw=1;var r=ul(),e=sc();function t(i){return r(i,e(i))}return hy=t,hy}var fy,Fw;function M5(){if(Fw)return fy;Fw=1;var r=I2(),e=O2(),t=k2(),i=U0(),a=j2(),l=Qf(),c=gn(),f=R5(),p=Xf(),m=j0(),v=cr(),b=V2(),T=H0(),S=L2(),O=k5();function M(k,B,z,Y,ae,ue,oe){var R=S(k,z),C=S(B,z),N=oe.get(C);if(N){r(k,z,N);return}var j=ue?ue(R,C,z+"",k,B,oe):void 0,D=j===void 0;if(D){var L=c(C),I=!L&&p(C),Ce=!L&&!I&&T(C);j=C,L||I||Ce?c(R)?j=R:f(R)?j=i(R):I?(D=!1,j=e(C,!0)):Ce?(D=!1,j=t(C,!0)):j=[]:b(C)||l(C)?(j=R,l(R)?j=O(R):(!v(R)||m(R))&&(j=a(C))):D=!1}D&&(oe.set(C,j),ae(j,C,Y,ue,oe),oe.delete(C)),r(k,z,j)}return fy=M,fy}var dy,Hw;function j5(){if(Hw)return dy;Hw=1;var r=Yf(),e=I2(),t=N2(),i=M5(),a=cr(),l=sc(),c=L2();function f(p,m,v,b,T){p!==m&&t(m,function(S,O){if(T||(T=new r),a(S))i(p,m,O,v,f,b,T);else{var M=b?b(c(p,O),S,O+"",p,m,T):void 0;M===void 0&&(M=S),e(p,O,M)}},l)}return dy=f,dy}var py,Gw;function ed(){if(Gw)return py;Gw=1;function r(e){return e}return py=r,py}var my,$w;function V5(){if($w)return my;$w=1;function r(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}return my=r,my}var gy,Kw;function U2(){if(Kw)return gy;Kw=1;var r=V5(),e=Math.max;function t(i,a,l){return a=e(a===void 0?i.length-1:a,0),function(){for(var c=arguments,f=-1,p=e(c.length-a,0),m=Array(p);++f<p;)m[f]=c[a+f];f=-1;for(var v=Array(a+1);++f<a;)v[f]=c[f];return v[a]=l(m),r(i,this,v)}}return gy=t,gy}var yy,Yw;function L5(){if(Yw)return yy;Yw=1;function r(e){return function(){return e}}return yy=r,yy}var vy,Ww;function P5(){if(Ww)return vy;Ww=1;var r=L5(),e=C2(),t=ed(),i=e?function(a,l){return e(a,"toString",{configurable:!0,enumerable:!1,value:r(l),writable:!0})}:t;return vy=i,vy}var _y,Qw;function U5(){if(Qw)return _y;Qw=1;var r=800,e=16,t=Date.now;function i(a){var l=0,c=0;return function(){var f=t(),p=e-(f-c);if(c=f,p>0){if(++l>=r)return arguments[0]}else l=0;return a.apply(void 0,arguments)}}return _y=i,_y}var by,Xw;function q2(){if(Xw)return by;Xw=1;var r=P5(),e=U5(),t=e(r);return by=t,by}var Ey,Jw;function z2(){if(Jw)return Ey;Jw=1;var r=ed(),e=U2(),t=q2();function i(a,l){return t(e(a,l,r),a+"")}return Ey=i,Ey}var xy,Zw;function B2(){if(Zw)return xy;Zw=1;var r=ic(),e=ll(),t=Zf(),i=cr();function a(l,c,f){if(!i(f))return!1;var p=typeof c;return(p=="number"?e(f)&&t(c,f.length):p=="string"&&c in f)?r(f[c],l):!1}return xy=a,xy}var Ty,eA;function q5(){if(eA)return Ty;eA=1;var r=z2(),e=B2();function t(i){return r(function(a,l){var c=-1,f=l.length,p=f>1?l[f-1]:void 0,m=f>2?l[2]:void 0;for(p=i.length>3&&typeof p=="function"?(f--,p):void 0,m&&e(l[0],l[1],m)&&(p=f<3?void 0:p,f=1),a=Object(a);++c<f;){var v=l[c];v&&i(a,v,c,p)}return a})}return Ty=t,Ty}var Sy,tA;function z5(){if(tA)return Sy;tA=1;var r=j5(),e=q5(),t=e(function(i,a,l){r(i,a,l)});return Sy=t,Sy}var B5=z5();const F5=tn(B5);var nA="popstate";function H5(r={}){function e(a,l){let{pathname:c="/",search:f="",hash:p=""}=za(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),W_("",{pathname:c,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let p=a.location.href,m=p.indexOf("#");f=m===-1?p:p.slice(0,m)}return f+"#"+(typeof l=="string"?l:Hu(l))}function i(a,l){ur(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return $5(e,t,i,r)}function Ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ur(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G5(){return Math.random().toString(36).substring(2,10)}function rA(r,e){return{usr:r.state,key:r.key,idx:e}}function W_(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?za(e):e,state:t,key:e&&e.key||i||G5()}}function Hu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function za(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function $5(r,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,f="POP",p=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function b(){f="POP";let k=v(),B=k==null?null:k-m;m=k,p&&p({action:f,location:M.location,delta:B})}function T(k,B){f="PUSH";let z=W_(M.location,k,B);t&&t(z,k),m=v()+1;let Y=rA(z,m),ae=M.createHref(z);try{c.pushState(Y,"",ae)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;a.location.assign(ae)}l&&p&&p({action:f,location:M.location,delta:1})}function S(k,B){f="REPLACE";let z=W_(M.location,k,B);t&&t(z,k),m=v();let Y=rA(z,m),ae=M.createHref(z);c.replaceState(Y,"",ae),l&&p&&p({action:f,location:M.location,delta:0})}function O(k){return K5(k)}let M={get action(){return f},get location(){return r(a,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(nA,b),p=k,()=>{a.removeEventListener(nA,b),p=null}},createHref(k){return e(a,k)},createURL:O,encodeLocation(k){let B=O(k);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:T,replace:S,go(k){return c.go(k)}};return M}function K5(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Hu(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function F2(r,e,t="/"){return Y5(r,e,t,!1)}function Y5(r,e,t,i){let a=typeof e=="string"?za(e):e,l=Li(a.pathname||"/",t);if(l==null)return null;let c=H2(r);W5(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=aL(l);f=iL(c[p],m,i)}return f}function H2(r,e=[],t=[],i="",a=!1){let l=(c,f,p=a,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&p)return;Ct(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=Di([i,v.relativePath]),T=t.concat(v);c.children&&c.children.length>0&&(Ct(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),H2(c.children,e,T,b,p)),!(c.path==null&&!c.index)&&e.push({path:b,score:nL(b,c.index),routesMeta:T})};return r.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let p of G2(c.path))l(c,f,!0,p)}),e}function G2(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=G2(i.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...c),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function W5(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:rL(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Q5=/^:[\w-]+$/,X5=3,J5=2,Z5=1,eL=10,tL=-2,iA=r=>r==="*";function nL(r,e){let t=r.split("/"),i=t.length;return t.some(iA)&&(i+=tL),e&&(i+=J5),t.filter(a=>!iA(a)).reduce((a,l)=>a+(Q5.test(l)?X5:l===""?Z5:eL),i)}function rL(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function iL(r,e,t=!1){let{routesMeta:i}=r,a={},l="/",c=[];for(let f=0;f<i.length;++f){let p=i[f],m=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=wf({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),T=p.route;if(!b&&m&&t&&!i[i.length-1].route.index&&(b=wf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Di([l,b.pathname]),pathnameBase:cL(Di([l,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(l=Di([l,b.pathnameBase]))}return c}function wf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=sL(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:b},T)=>{if(v==="*"){let O=f[T]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const S=f[T];return b&&!S?m[v]=void 0:m[v]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:r}}function sL(r,e=!1,t=!0){ur(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function aL(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ur(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Li(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}var oL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function lL(r,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof r=="string"?za(r):r,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=sA(t.substring(1),"/"):l=sA(t,e)):l=e,{pathname:l,search:hL(i),hash:fL(a)}}function sA(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function wy(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uL(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function $0(r){let e=uL(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function K0(r,e,t,i=!1){let a;typeof r=="string"?a=za(r):(a={...r},Ct(!a.pathname||!a.pathname.includes("?"),wy("?","pathname","search",a)),Ct(!a.pathname||!a.pathname.includes("#"),wy("#","pathname","hash",a)),Ct(!a.search||!a.search.includes("#"),wy("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),b-=1;a.pathname=T.join("/")}f=b>=0?e[b]:"/"}let p=lL(a,f),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var Di=r=>r.join("/").replace(/\/\/+/g,"/"),cL=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),hL=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,fL=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,dL=class{constructor(r,e,t,i=!1){this.status=r,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function pL(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function mL(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function K2(r,e){let t=r;if(typeof t!="string"||!oL.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,a=!1;if($2)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),f=Li(c.pathname,e);c.origin===l.origin&&f!=null?t=f+c.search+c.hash:a=!0}catch{ur(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Y2=["POST","PUT","PATCH","DELETE"];new Set(Y2);var gL=["GET",...Y2];new Set(gL);var cl=U.createContext(null);cl.displayName="DataRouter";var td=U.createContext(null);td.displayName="DataRouterState";var yL=U.createContext(!1),W2=U.createContext({isTransitioning:!1});W2.displayName="ViewTransition";var vL=U.createContext(new Map);vL.displayName="Fetchers";var _L=U.createContext(null);_L.displayName="Await";var $n=U.createContext(null);$n.displayName="Navigation";var ac=U.createContext(null);ac.displayName="Location";var Or=U.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var Y0=U.createContext(null);Y0.displayName="RouteError";var Q2="REACT_ROUTER_ERROR",bL="REDIRECT",EL="ROUTE_ERROR_RESPONSE";function xL(r){if(r.startsWith(`${Q2}:${bL}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function TL(r){if(r.startsWith(`${Q2}:${EL}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new dL(e.status,e.statusText,e.data)}catch{}}function SL(r,{relative:e}={}){Ct(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext($n),{hash:a,pathname:l,search:c}=oc(r,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Di([t,l])),i.createHref({pathname:f,search:c,hash:a})}function hl(){return U.useContext(ac)!=null}function Bi(){return Ct(hl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(ac).location}var X2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J2(r){U.useContext($n).static||U.useLayoutEffect(r)}function W0(){let{isDataRoute:r}=U.useContext(Or);return r?PL():wL()}function wL(){Ct(hl(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(cl),{basename:e,navigator:t}=U.useContext($n),{matches:i}=U.useContext(Or),{pathname:a}=Bi(),l=JSON.stringify($0(i)),c=U.useRef(!1);return J2(()=>{c.current=!0}),U.useCallback((p,m={})=>{if(ur(c.current,X2),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=K0(p,JSON.parse(l),a,m.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Di([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,l,a,r])}U.createContext(null);function AL(){let{matches:r}=U.useContext(Or),e=r[r.length-1];return e?e.params:{}}function oc(r,{relative:e}={}){let{matches:t}=U.useContext(Or),{pathname:i}=Bi(),a=JSON.stringify($0(t));return U.useMemo(()=>K0(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function RL(r,e){return Z2(r,e)}function Z2(r,e,t,i,a){Ct(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=U.useContext($n),{matches:c}=U.useContext(Or),f=c[c.length-1],p=f?f.params:{},m=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let z=b&&b.path||"";tN(m,!b||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let T=Bi(),S;if(e){let z=typeof e=="string"?za(e):e;Ct(v==="/"||z.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${z.pathname}" was given in the \`location\` prop.`),S=z}else S=T;let O=S.pathname||"/",M=O;if(v!=="/"){let z=v.replace(/^\//,"").split("/");M="/"+O.replace(/^\//,"").split("/").slice(z.length).join("/")}let k=F2(r,{pathname:M});ur(b||k!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),ur(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=DL(k&&k.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:Di([v,l.encodeLocation?l.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:Di([v,l.encodeLocation?l.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),c,t,i,a);return e&&B?U.createElement(ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},B):B}function CL(){let r=LL(),e=pL(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:a},t):null,c)}var IL=U.createElement(CL,null),eN=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=TL(r.digest);t&&(r=t)}let e=r!==void 0?U.createElement(Or.Provider,{value:this.props.routeContext},U.createElement(Y0.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?U.createElement(NL,{error:r},e):e}};eN.contextType=yL;var Ay=new WeakMap;function NL({children:r,error:e}){let{basename:t}=U.useContext($n);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=xL(e.digest);if(i){let a=Ay.get(e);if(a)throw a;let l=K2(i.location,t);if($2&&!Ay.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Ay.set(e,c),c}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function OL({routeContext:r,match:e,children:t}){let i=U.useContext(cl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Or.Provider,{value:r},t)}function DL(r,e=[],t=null,i=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t?.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);Ct(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,p=-1;if(t)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:T,errors:S}=t,O=b.route.loader&&!T.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||O){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let m=t&&i?(v,b)=>{i(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:mL(t.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,T)=>{let S,O=!1,M=null,k=null;t&&(S=c&&b.route.id?c[b.route.id]:void 0,M=b.route.errorElement||IL,f&&(p<0&&T===0?(tN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,k=null):p===T&&(O=!0,k=b.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,T+1)),z=()=>{let Y;return S?Y=M:O?Y=k:b.route.Component?Y=U.createElement(b.route.Component,null):b.route.element?Y=b.route.element:Y=v,U.createElement(OL,{match:b,routeContext:{outlet:v,matches:B,isDataRoute:t!=null},children:Y})};return t&&(b.route.ErrorBoundary||b.route.errorElement||T===0)?U.createElement(eN,{location:t.location,revalidation:t.revalidation,component:M,error:S,children:z(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:m}):z()},null)}function Q0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kL(r){let e=U.useContext(cl);return Ct(e,Q0(r)),e}function ML(r){let e=U.useContext(td);return Ct(e,Q0(r)),e}function jL(r){let e=U.useContext(Or);return Ct(e,Q0(r)),e}function X0(r){let e=jL(r),t=e.matches[e.matches.length-1];return Ct(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function VL(){return X0("useRouteId")}function LL(){let r=U.useContext(Y0),e=ML("useRouteError"),t=X0("useRouteError");return r!==void 0?r:e.errors?.[t]}function PL(){let{router:r}=kL("useNavigate"),e=X0("useNavigate"),t=U.useRef(!1);return J2(()=>{t.current=!0}),U.useCallback(async(a,l={})=>{ur(t.current,X2),t.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var aA={};function tN(r,e,t){!e&&!aA[r]&&(aA[r]=!0,ur(!1,t))}U.memo(UL);function UL({routes:r,future:e,state:t,onError:i}){return Z2(r,void 0,t,i,e)}function Q_({to:r,replace:e,state:t,relative:i}){Ct(hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=U.useContext($n);ur(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=U.useContext(Or),{pathname:c}=Bi(),f=W0(),p=K0(r,$0(l),c,i==="path"),m=JSON.stringify(p);return U.useEffect(()=>{f(JSON.parse(m),{replace:e,state:t,relative:i})},[f,m,i,e,t]),null}function Aa(r){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qL({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Ct(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof t=="string"&&(t=za(t));let{pathname:m="/",search:v="",hash:b="",state:T=null,key:S="default"}=t,O=U.useMemo(()=>{let M=Li(m,f);return M==null?null:{location:{pathname:M,search:v,hash:b,state:T,key:S},navigationType:i}},[f,m,v,b,T,S,i]);return ur(O!=null,`<Router basename="${f}"> is not able to match the URL "${m}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:U.createElement($n.Provider,{value:p},U.createElement(ac.Provider,{children:e,value:O}))}function nN({children:r,location:e}){return RL(X_(r),e)}function X_(r,e=[]){let t=[];return U.Children.forEach(r,(i,a)=>{if(!U.isValidElement(i))return;let l=[...e,a];if(i.type===U.Fragment){t.push.apply(t,X_(i.props.children,l));return}Ct(i.type===Aa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=X_(i.props.children,l)),t.push(c)}),t}var nf="get",rf="application/x-www-form-urlencoded";function nd(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function zL(r){return nd(r)&&r.tagName.toLowerCase()==="button"}function BL(r){return nd(r)&&r.tagName.toLowerCase()==="form"}function FL(r){return nd(r)&&r.tagName.toLowerCase()==="input"}function HL(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function GL(r,e){return r.button===0&&(!e||e==="_self")&&!HL(r)}var Fh=null;function $L(){if(Fh===null)try{new FormData(document.createElement("form"),0),Fh=!1}catch{Fh=!0}return Fh}var KL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ry(r){return r!=null&&!KL.has(r)?(ur(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rf}"`),null):r}function YL(r,e){let t,i,a,l,c;if(BL(r)){let f=r.getAttribute("action");i=f?Li(f,e):null,t=r.getAttribute("method")||nf,a=Ry(r.getAttribute("enctype"))||rf,l=new FormData(r)}else if(zL(r)||FL(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(i=p?Li(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||nf,a=Ry(r.getAttribute("formenctype"))||Ry(f.getAttribute("enctype"))||rf,l=new FormData(f,r),!$L()){let{name:m,type:v,value:b}=r;if(v==="image"){let T=m?`${m}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else m&&l.append(m,b)}}else{if(nd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=nf,i=null,a=rf,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function J0(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function WL(r,e,t,i){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Li(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function QL(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XL(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function JL(r,e,t){let i=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await QL(l,t);return c.links?c.links():[]}return[]}));return nP(i.flat(1).filter(XL).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function oA(r,e,t,i,a,l){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,f=(p,m)=>t[m].pathname!==p.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,m)=>c(p,m)||f(p,m)):l==="data"?e.filter((p,m)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function ZL(r,e,{includeHydrateFallback:t}={}){return eP(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function eP(r){return[...new Set(r)]}function tP(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function nP(r,e){let t=new Set;return new Set(e),r.reduce((i,a)=>{let l=JSON.stringify(tP(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function rN(){let r=U.useContext(cl);return J0(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function rP(){let r=U.useContext(td);return J0(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Z0=U.createContext(void 0);Z0.displayName="FrameworkContext";function iN(){let r=U.useContext(Z0);return J0(r,"You must render this element inside a <HydratedRouter> element"),r}function iP(r,e){let t=U.useContext(Z0),[i,a]=U.useState(!1),[l,c]=U.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:b}=e,T=U.useRef(null);U.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let M=B=>{B.forEach(z=>{c(z.isIntersecting)})},k=new IntersectionObserver(M,{threshold:.5});return T.current&&k.observe(T.current),()=>{k.disconnect()}}},[r]),U.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let S=()=>{a(!0)},O=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,T,{}]:[l,T,{onFocus:bu(f,S),onBlur:bu(p,O),onMouseEnter:bu(m,S),onMouseLeave:bu(v,O),onTouchStart:bu(b,S)}]:[!1,T,{}]}function bu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function sP({page:r,...e}){let{router:t}=rN(),i=U.useMemo(()=>F2(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?U.createElement(oP,{page:r,matches:i,...e}):null}function aP(r){let{manifest:e,routeModules:t}=iN(),[i,a]=U.useState([]);return U.useEffect(()=>{let l=!1;return JL(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),i}function oP({page:r,matches:e,...t}){let i=Bi(),{future:a,manifest:l,routeModules:c}=iN(),{basename:f}=rN(),{loaderData:p,matches:m}=rP(),v=U.useMemo(()=>oA(r,e,m,l,i,"data"),[r,e,m,l,i]),b=U.useMemo(()=>oA(r,e,m,l,i,"assets"),[r,e,m,l,i]),T=U.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let M=new Set,k=!1;if(e.forEach(z=>{let Y=l.routes[z.route.id];!Y||!Y.hasLoader||(!v.some(ae=>ae.route.id===z.route.id)&&z.route.id in p&&c[z.route.id]?.shouldRevalidate||Y.hasClientLoader?k=!0:M.add(z.route.id))}),M.size===0)return[];let B=WL(r,f,a.unstable_trailingSlashAwareDataRequests,"data");return k&&M.size>0&&B.searchParams.set("_routes",e.filter(z=>M.has(z.route.id)).map(z=>z.route.id).join(",")),[B.pathname+B.search]},[f,a.unstable_trailingSlashAwareDataRequests,p,i,l,v,e,r,c]),S=U.useMemo(()=>ZL(b,l),[b,l]),O=aP(b);return U.createElement(U.Fragment,null,T.map(M=>U.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),S.map(M=>U.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),O.map(({key:M,link:k})=>U.createElement("link",{key:M,nonce:t.nonce,...k,crossOrigin:k.crossOrigin??t.crossOrigin})))}function lP(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var uP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uP&&(window.__reactRouterVersion="7.13.0")}catch{}function cP({basename:r,children:e,unstable_useTransitions:t,window:i}){let a=U.useRef();a.current==null&&(a.current=H5({window:i,v5Compat:!0}));let l=a.current,[c,f]=U.useState({action:l.action,location:l.location}),p=U.useCallback(m=>{t===!1?f(m):U.startTransition(()=>f(m))},[t]);return U.useLayoutEffect(()=>l.listen(p),[l,p]),U.createElement(qL,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var sN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aN=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:f,target:p,to:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:T,...S},O){let{basename:M,unstable_useTransitions:k}=U.useContext($n),B=typeof m=="string"&&sN.test(m),z=K2(m,M);m=z.to;let Y=SL(m,{relative:a}),[ae,ue,oe]=iP(i,S),R=dP(m,{replace:c,state:f,target:p,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:T,unstable_useTransitions:k});function C(j){e&&e(j),j.defaultPrevented||R(j)}let N=U.createElement("a",{...S,...oe,href:z.absoluteURL||Y,onClick:z.isExternal||l?e:C,ref:lP(O,ue),target:p,"data-discover":!B&&t==="render"?"true":void 0});return ae&&!B?U.createElement(U.Fragment,null,N,U.createElement(sP,{page:Y})):N});aN.displayName="Link";var Gu=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:f,children:p,...m},v){let b=oc(c,{relative:m.relative}),T=Bi(),S=U.useContext(td),{navigator:O,basename:M}=U.useContext($n),k=S!=null&&vP(b)&&f===!0,B=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,z=T.pathname,Y=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(z=z.toLowerCase(),Y=Y?Y.toLowerCase():null,B=B.toLowerCase()),Y&&M&&(Y=Li(Y,M)||Y);const ae=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ue=z===B||!a&&z.startsWith(B)&&z.charAt(ae)==="/",oe=Y!=null&&(Y===B||!a&&Y.startsWith(B)&&Y.charAt(B.length)==="/"),R={isActive:ue,isPending:oe,isTransitioning:k},C=ue?e:void 0,N;typeof i=="function"?N=i(R):N=[i,ue?"active":null,oe?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(R):l;return U.createElement(aN,{...m,"aria-current":C,className:N,ref:v,style:j,to:c,viewTransition:f},typeof p=="function"?p(R):p)});Gu.displayName="NavLink";var hP=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=nf,action:f,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:T,...S},O)=>{let{unstable_useTransitions:M}=U.useContext($n),k=gP(),B=yP(f,{relative:m}),z=c.toLowerCase()==="get"?"get":"post",Y=typeof f=="string"&&sN.test(f),ae=ue=>{if(p&&p(ue),ue.defaultPrevented)return;ue.preventDefault();let oe=ue.nativeEvent.submitter,R=oe?.getAttribute("formmethod")||c,C=()=>k(oe||ue.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:a,state:l,relative:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:T});M&&t!==!1?U.startTransition(()=>C()):C()};return U.createElement("form",{ref:O,method:z,action:B,onSubmit:i?p:ae,...S,"data-discover":!Y&&r==="render"?"true":void 0})});hP.displayName="Form";function fP(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oN(r){let e=U.useContext(cl);return Ct(e,fP(r)),e}function dP(r,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let m=W0(),v=Bi(),b=oc(r,{relative:l});return U.useCallback(T=>{if(GL(T,e)){T.preventDefault();let S=t!==void 0?t:Hu(v)===Hu(b),O=()=>m(r,{replace:S,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});p?U.startTransition(()=>O()):O()}},[v,m,b,t,i,e,r,a,l,c,f,p])}var pP=0,mP=()=>`__${String(++pP)}__`;function gP(){let{router:r}=oN("useSubmit"),{basename:e}=U.useContext($n),t=VL(),i=r.fetch,a=r.navigate;return U.useCallback(async(l,c={})=>{let{action:f,method:p,encType:m,formData:v,body:b}=YL(l,e);if(c.navigate===!1){let T=c.fetcherKey||mP();await i(T,t,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||p,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||p,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,t])}function yP(r,{relative:e}={}){let{basename:t}=U.useContext($n),i=U.useContext(Or);Ct(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...oc(r||".",{relative:e})},c=Bi();if(r==null){l.search=c.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Di([t,l.pathname])),Hu(l)}function vP(r,{relative:e}={}){let t=U.useContext(W2);Ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=oN("useViewTransitionState"),a=oc(r,{relative:e});if(!t.isTransitioning)return!1;let l=Li(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Li(t.nextLocation.pathname,i)||t.nextLocation.pathname;return wf(a.pathname,c)!=null||wf(a.pathname,l)!=null}const _P="modulepreload",bP=function(r){return"/check-list/"+r},lA={},Xe=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let m=function(v){return Promise.all(v.map(b=>Promise.resolve(b).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};var c=m;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");a=m(t.map(v=>{if(v=bP(v),v in lA)return;lA[v]=!0;const b=v.endsWith(".css"),T=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${T}`))return;const S=document.createElement("link");if(S.rel=b?"stylesheet":_P,b||(S.as="script"),S.crossOrigin="",S.href=v,p&&S.setAttribute("nonce",p),document.head.appendChild(S),b)return new Promise((O,M)=>{S.addEventListener("load",O),S.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return a.then(f=>{for(const p of f||[])p.status==="rejected"&&l(p.reason);return e().catch(l)})},lN=(r,e,t)=>{const i=r[e];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((a,l)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(l.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})};const uN=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();const EP=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const xP=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());const uA=r=>{const e=xP(r);return e.charAt(0).toUpperCase()+e.slice(1)};var TP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const SP=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const wP=U.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...f},p)=>U.createElement("svg",{ref:p,...TP,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:uN("lucide",a),...!l&&!SP(f)&&{"aria-hidden":"true"},...f},[...c.map(([m,v])=>U.createElement(m,v)),...Array.isArray(l)?l:[l]]));const De=(r,e)=>{const t=U.forwardRef(({className:i,...a},l)=>U.createElement(wP,{ref:l,iconNode:e,className:uN(`lucide-${EP(uA(r))}`,`lucide-${r}`,i),...a}));return t.displayName=uA(r),t};const AP=[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]],RP=De("accessibility",AP);const CP=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],IP=De("archive",CP);const NP=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],OP=De("book-open",NP);const DP=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]],kP=De("book-text",DP);const MP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jP=De("check",MP);const VP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],LP=De("chevron-down",VP);const PP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],UP=De("chevron-right",PP);const qP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zP=De("circle-alert",qP);const BP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],FP=De("circle-question-mark",BP);const HP=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],GP=De("cloud",HP);const $P=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],KP=De("dna",$P);const YP=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],WP=De("download",YP);const QP=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],XP=De("eye-off",QP);const JP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZP=De("eye",JP);const e6=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],t6=De("fish",e6);const n6=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],r6=De("gem",n6);const i6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],s6=De("globe",i6);const a6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],o6=De("history",a6);const l6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],u6=De("info",l6);const c6=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],h6=De("leaf",c6);const f6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],d6=De("loader-circle",f6);const p6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],m6=De("lock",p6);const g6=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],y6=De("log-in",g6);const v6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_6=De("log-out",v6);const b6=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],E6=De("map",b6);const x6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],T6=De("menu",x6);const S6=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],w6=De("minimize-2",S6);const A6=[["path",{d:"M5 12h14",key:"1ays0h"}]],R6=De("minus",A6);const C6=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],I6=De("monitor",C6);const N6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],O6=De("pencil",N6);const D6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],k6=De("plus",D6);const M6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],j6=De("search",M6);const V6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],L6=De("settings",V6);const P6=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],U6=De("shopping-cart",P6);const q6=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],z6=De("smartphone",q6);const B6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],F6=De("star",B6);const H6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],G6=De("trash-2",H6);const $6=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],K6=De("trash",$6);const Y6=[["path",{d:"M8 19a4 4 0 0 1-2.24-7.32A3.5 3.5 0 0 1 9 6.03V6a3 3 0 1 1 6 0v.04a3.5 3.5 0 0 1 3.24 5.65A4 4 0 0 1 16 19Z",key:"oadzkq"}],["path",{d:"M12 19v3",key:"npa21l"}]],W6=De("tree-deciduous",Y6);const Q6=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],X6=De("tree-pine",Q6);const J6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Z6=De("triangle-alert",J6);const e9=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],t9=De("undo-2",e9);const n9=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],r9=De("undo",n9);const i9=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],s9=De("upload",i9);const a9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}],["path",{d:"m7.9 7.9 2.7 2.7",key:"hpeyl3"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}],["path",{d:"m13.4 10.6 2.7-2.7",key:"264c1n"}],["circle",{cx:"7.5",cy:"16.5",r:".5",fill:"currentColor",key:"nkw3mc"}],["path",{d:"m7.9 16.1 2.7-2.7",key:"p81g5e"}],["circle",{cx:"16.5",cy:"16.5",r:".5",fill:"currentColor",key:"fubopw"}],["path",{d:"m13.4 13.4 2.7 2.7",key:"abhel3"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],o9=De("vault",a9);const l9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],u9=De("x",l9),ks={Check:jP,ChevronDown:LP,ChevronRight:UP,AlertTriangle:Z6,BookText:kP,BookOpen:OP,Vault:o9,Lock:m6,Settings:L6,Trash2:G6,Trash:K6,ShoppingCart:U6,Archive:IP,Menu:T6,Search:j6,X:u9,EyeOff:XP,Info:u6,Cloud:GP,Download:WP,Upload:s9,History:o6,LogIn:y6,LogOut:_6,Minimize2:w6,Monitor:I6,Loader2:d6,Undo2:t9,Undo:r9,Plus:k6,Minus:R6,Pencil:O6,AlertCircle:zP,Star:F6,Globe:s6,Eye:ZP,Accessibility:RP,Smartphone:z6,Gem:r6,TreePine:X6,TreeDeciduous:W6,Leaf:h6,Map:E6,Fish:t6,Dna:KP,HelpCircle:FP},tt=(r,e="HelpCircle")=>({className:i="",...a})=>{const l=ks[r]||ks[e];if(!l)return null;const c=["lucide-icon",i].filter(Boolean).join(" ");return y.jsx(l,{className:c,size:"1.05em",strokeWidth:2.5,...a})},pn=({className:r="",...e})=>{const t=ks.Check||ks.HelpCircle;if(!t)return null;const i=["lucide-icon",r].filter(Boolean).join(" ");return y.jsx(t,{className:i,size:"1.05em",strokeWidth:4.5,...e})},eb=({className:r="",...e})=>{const t=ks.ChevronDown||ks.HelpCircle;if(!t)return null;const i=["lucide-icon",r].filter(Boolean).join(" ");return y.jsx(t,{className:i,size:"1.05em",strokeWidth:4.5,...e})},rd=({className:r="",...e})=>{const t=ks.ChevronRight||ks.HelpCircle;if(!t)return null;const i=["lucide-icon",r].filter(Boolean).join(" ");return y.jsx(t,{className:i,size:"1.05em",strokeWidth:4.5,...e})},id=tt("AlertTriangle"),ja=tt("BookText","BookOpen"),sd=tt("Vault","Lock"),lc=tt("Settings"),tb=tt("Trash2","Trash"),J_=tt("ShoppingCart"),c9=tt("Archive"),h9=tt("Menu"),f9=tt("Search"),An=tt("X"),sf=tt("EyeOff"),nb=tt("Info"),af=tt("Cloud"),d9=tt("Download"),p9=tt("Upload"),cN=tt("History"),m9=tt("LogIn"),g9=tt("LogOut"),y9=tt("Minimize2"),cA=tt("Monitor"),Ms=tt("Loader2"),v9=tt("Undo2","Undo"),Go=tt("Plus"),rb=tt("Minus"),ad=tt("Pencil"),uc=tt("AlertCircle"),hN=tt("Star"),_9=tt("Globe"),b9=tt("Eye"),E9=tt("Smartphone"),hA=tt("Gem"),x9=tt("TreePine","TreeDeciduous"),T9=tt("Leaf"),S9=tt("Map"),w9=tt("Fish"),A9=tt("Dna"),R9=(r,e,t)=>({type:"TOGGLE_ITEM",game:r,category:e,title:t}),C9=r=>({type:"TOGGLE_RELIC",relic:r}),fA=(r,e,t)=>({type:"CLEAR_ITEMS",game:r,category:e,titles:t}),I9=(r,e,t)=>({type:"ADD_ITEM",game:r,category:e,item:t}),N9=(r,e,t)=>({type:"ADD_BUILD_ITEM",game:r,category:e,item:t}),O9=(r,e,t)=>({type:"ADD_VOID_ITEM",game:r,category:e,item:t}),D9=(r,e,t)=>({type:"REMOVE_ITEM",game:r,category:e,title:t}),k9=(r,e,t)=>({type:"REMOVE_BUILD_ITEM",game:r,category:e,title:t}),M9=(r,e,t)=>({type:"REMOVE_VOID_ITEM",game:r,category:e,title:t}),j9=(r,e,t)=>({type:"INCREMENT_ITEM",game:r,category:e,title:t}),V9=(r,e,t)=>({type:"DECREMENT_ITEM",game:r,category:e,title:t}),L9=(r,e,t,i,a)=>({type:"UPDATE_ITEM",game:r,category:e,title:t,notes:i,count:a}),P9=(r,e,t,i)=>({type:"UPDATE_BUILD_ITEM",game:r,category:e,title:t,item:i}),U9=r=>({type:"SET_SEARCH_FILTER",filter:r}),q9=r=>({type:"SET_VISIBILITY_FILTER",filter:r}),z9=(r,e)=>({type:"SET_RELIC_VISIBILITY",relic:r,visible:e}),Pt={SHOW_ALL:"SHOW_ALL",SHOW_ACTIVE:"SHOW_ACTIVE"},B9=r=>({type:"UPLOAD_STATE",state:r}),Cy=r=>typeof r=="object"&&r!==null;class F9 extends Jt.Component{renderItems(e,t){return y.jsx("ul",{className:"list-none p-0 m-0",children:e.map((i,a)=>this.renderItem(i,a,t))})}handleItemClick(e){return t=>{const i=Cy(e)?e.key||e.title:e;i&&(this.props.onItemClick(i),t.stopPropagation())}}handleClearClick(e){return t=>{const i=e.map(a=>Cy(a)?a.key||a.title:a).filter(a=>!!a);this.props.onClear(i),t.stopPropagation()}}renderLocation(e){return!e||!e.length||e===""?null:(Array.isArray(e)?e:[e]).map((i,a)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:i},a))}renderItem(e,t,i){if(!e)return null;const a=Cy(e)?e:null;if(a?.hidden)return null;const l=a?.readOnly;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(e).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const c=this.props.visibilityFilter===Pt.SHOW_ACTIVE&&!!a?.checked,f=typeof e=="string"||e instanceof String?e:a?.title,p=!!a?.items,m=a?.checked?"text-green-500":"text-gray-400",v=a?.tags?a.tags.map((S,O)=>S==="missable"?y.jsx("span",{title:S,className:"text-red-600 ml-1 inline-block font-normal",children:y.jsx(id,{})},O):null):null,b=a?.hint?y.jsxs("span",{className:"opacity-40 text-sm italic font-normal",children:[" ",a.hint]}):null,T=!a?.items&&!(l||i);return y.jsx("li",{className:`py-0.5 rounded-sm ${c?"opacity-40":""} ${p?"mt-1.5":""}`,children:y.jsxs("div",{className:"flex items-start",children:[!(l||i)&&y.jsx("div",{className:`mr-1 shrink-0 flex items-center h-[1.35em] ${m} ${T?"cursor-pointer":""}`,onClick:T?this.handleItemClick(e):void 0,children:a?.items?a?.checked?y.jsx(pn,{}):y.jsx(eb,{}):a?.checked?y.jsx(pn,{}):y.jsx(rd,{})}),y.jsxs("div",{className:"grow",children:[y.jsxs("div",{className:"leading-tight",children:[a?.items&&a.readOnly?y.jsxs("span",{className:"underline font-bold text-gray-900 text-base",children:[f,b,v]}):i?y.jsxs("span",{className:"font-normal text-gray-700 text-sm",children:[f,b,v]}):y.jsxs("span",{className:"font-bold text-gray-900 text-base",children:[f,b,v]}),a?.url?y.jsx("a",{href:a.url,title:"wiki",className:"ml-1 text-gray-500 opacity-70 hover:opacity-100 inline-block",target:"_blank",rel:"noopener noreferrer",onClick:S=>S.stopPropagation(),children:y.jsx(ja,{})}):null,a?.isVaulted?y.jsx("span",{title:"Vaulted",className:"ml-1 text-gray-500 inline-block",children:y.jsx(sd,{})}):null,a?.partOf?y.jsx("span",{title:`Part of ${a.partOf.join(", ")}`,className:"ml-1 text-gray-500 inline-block",children:y.jsx(lc,{})}):null,a?.items&&a.props&&a.props.includes("clearable")?y.jsx("span",{title:"Clear",className:"ml-1 text-red-600 opacity-70 hover:opacity-100 cursor-pointer inline-block",onClick:this.handleClearClick(a.items),children:y.jsx(tb,{})}):null]}),a?.description?Array.isArray(a.description)?a.description.map((S,O)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:S},O)):y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:a.description}):null,this.renderLocation(a?.location),a?.items&&a.items.length?y.jsx("div",{className:"ml-2",children:this.renderItems(a.items,l)}):null]})]})},t)}render(){return!this.props.items||!this.props.items.length?y.jsx("div",{className:"text-gray-500 italic",children:"No items"}):y.jsx("div",{className:"mb-4",children:this.renderItems(this.props.items)})}}const xs={TYPE:"type",INTRODUCED:"introduced",NONE:"none"},Iy=r=>typeof r=="string"||r instanceof String,ba=r=>typeof r=="object"&&r!==null,H9=r=>{if(!r)return null;const e=String(r).trim();if(!e)return null;const t=e.split(/\s+/);if(t.length<2)return`https://wiki.warframe.com/w/${encodeURIComponent(e.replace(/\s+/g,"_"))}`;const i=t[0],a=t.slice(1).join(" "),c=`Update_${a.split(".")[0]}`.replace(/\s+/g,"_"),f=`${i}_${a}`.replace(/\s+/g,"_");return`https://wiki.warframe.com/w/${encodeURIComponent(c)}%23${encodeURIComponent(f)}`},G9=r=>{if(!r)return null;const e=String(r).trim();if(!e)return null;const t=e.replace(/\s+/g,"_");return`https://wiki.warframe.com/w/${encodeURIComponent(t)}`};class $9 extends Jt.Component{constructor(e){super(e),this.state={groupBy:xs.TYPE}}handleGroupByChange(){return e=>{this.setState({groupBy:e.target.value})}}renderItems(e,t){return y.jsx("ul",{className:"list-none p-0 m-0",children:e.map((i,a)=>this.renderItem(i,a,t))})}handleItemClick(e){return t=>{const i=ba(e)?e.key||e.title:e;i&&(this.props.onItemClick(i),t.stopPropagation())}}handleClearClick(e){return t=>{const i=e.map(a=>ba(a)?a.key||a.title:a).filter(a=>!!a);this.props.onClear(i),t.stopPropagation()}}renderLocation(e){return!e||!e.length||e===""?null:(Array.isArray(e)?e:[e]).map((i,a)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:i},a))}renderItem(e,t,i){if(!e)return null;const a=ba(e)?e:null;if(a?.hidden)return null;const l=a?.readOnly;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(e).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const c=this.props.visibilityFilter===Pt.SHOW_ACTIVE&&!!a?.checked,f=Iy(e)?e:a?.title,p=!!a?.items,m=a?.checked?"text-green-500":"text-gray-400",v=a?.tags?a.tags.map((O,M)=>O==="missable"?y.jsx("span",{title:O,className:"text-red-600 ml-1 inline-block font-normal",children:y.jsx(id,{})},M):null):null,b=a?.hint?y.jsxs("span",{className:"opacity-40 text-sm italic font-normal",children:[" ",a.hint]}):null,T=!a?.items&&!(l||i),S=a?.url||(a?.items?null:G9(f));return y.jsx("li",{className:`py-0.5 rounded-sm ${c?"opacity-40":""} ${p?"mt-1.5":""}`,children:y.jsxs("div",{className:"flex items-start",children:[!(l||i)&&y.jsx("div",{className:`mr-1 shrink-0 flex items-center h-[1.35em] ${m} ${T?"cursor-pointer":""}`,onClick:T?this.handleItemClick(e):void 0,children:a?.items?a?.checked?y.jsx(pn,{}):y.jsx(eb,{}):a?.checked?y.jsx(pn,{}):y.jsx(rd,{})}),y.jsxs("div",{className:"grow",children:[y.jsxs("div",{className:"leading-tight",children:[a?.items&&a.readOnly?y.jsxs("span",{className:"underline font-bold text-gray-900 text-base",children:[f,b,v]}):i?y.jsxs("span",{className:"font-normal text-gray-700 text-sm",children:[f,b,v]}):y.jsxs("span",{className:"font-bold text-gray-900 text-base",children:[f,b,v]}),S?y.jsx("a",{href:S,title:"wiki",className:"ml-1 text-gray-500 opacity-70 hover:opacity-100 inline-block",target:"_blank",rel:"noopener noreferrer",onClick:O=>O.stopPropagation(),children:y.jsx(ja,{})}):null,a?.isVaulted?y.jsx("span",{title:"Vaulted",className:"ml-1 text-gray-500 inline-block",children:y.jsx(sd,{})}):null,a?.incarnon?y.jsx("span",{title:"Incarnon Genesis",className:"ml-1 text-amber-600 inline-block",children:y.jsx(A9,{})}):null,a?.unobtainable?y.jsx("span",{title:"Unobtainable",className:"ml-1 text-rose-600 inline-block",children:y.jsx(uc,{})}):null,a?.partOf?y.jsx("span",{title:`Part of ${a.partOf.join(", ")}`,className:"ml-1 text-gray-500 inline-block",children:y.jsx(lc,{})}):null,a?.items&&a.props&&a.props.includes("clearable")?y.jsx("span",{title:"Clear",className:"ml-1 text-red-600 opacity-70 hover:opacity-100 cursor-pointer inline-block",onClick:this.handleClearClick(a.items),children:y.jsx(tb,{})}):null]}),a?.description?Array.isArray(a.description)?a.description.map((O,M)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:O},M)):y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:a.description}):null,this.renderLocation(a?.location),a?.items&&a.items.length?y.jsx("div",{className:"ml-2",children:this.renderItems(a.items,l)}):null]})]})},t)}collectLeafItems(e,t=[],i=null){return Array.isArray(e)&&e.forEach(a=>{if(a){if(Iy(a)){t.push({item:a,groupTitle:i});return}if(a.items&&a.items.length){this.collectLeafItems(a.items,t,a.title||i);return}t.push({item:a,groupTitle:i})}}),t}getItemTitle(e){return Iy(e)?e:e.title||""}getGroupedItems(){const e=this.props.items||[],t=this.props.enableIntroducedGrouping!==!1,i=this.state.groupBy===xs.INTRODUCED&&!t?xs.TYPE:this.state.groupBy;if(i===xs.TYPE)return e;const l=this.collectLeafItems(e).slice().sort((p,m)=>this.getItemTitle(p.item).localeCompare(this.getItemTitle(m.item)));if(i===xs.NONE)return l.map(({item:p})=>p);const c={},f={};return l.forEach(({item:p,groupTitle:m})=>{const b=(ba(p)&&p.introduced?.parent?p.introduced.parent:null)||m||"Unknown";c[b]||(c[b]=[]),c[b].push(p);const T=ba(p)?p.introduced?.name:null,S=ba(p)?p.introduced?.date:null;if(!f[b])f[b]={name:T||null,date:S||null,sourceGroupTitle:m||null};else{if(!f[b].name&&T&&(f[b].name=T),S){const O=f[b].date;(!O||S<O)&&(f[b].date=S)}!f[b].sourceGroupTitle&&m&&(f[b].sourceGroupTitle=m)}}),Object.keys(c).sort((p,m)=>{const v=f[p]?.date||"",b=f[m]?.date||"";return v&&b&&v!==b?v.localeCompare(b):p.localeCompare(m)}).map(p=>{const m=f[p]??{name:null,date:null,sourceGroupTitle:null},v=m.sourceGroupTitle||(p!=="Unknown"?`Update ${p}`:p),b=m.name||v,T=H9(b)||void 0,S=m.date||void 0,O=c[p]??[];return{title:b,url:T,description:S,checked:O.every(M=>ba(M)&&M.checked),items:O}})}render(){if(!this.props.items||!this.props.items.length)return y.jsx("div",{className:"text-gray-500 italic",children:"No items"});const e=this.getGroupedItems();return y.jsxs("div",{className:"mb-4 relative",children:[y.jsx("div",{className:"absolute right-0 top-0 z-10",children:y.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-500 bg-white/90 px-1.5 py-0.5 rounded-md",children:[y.jsx("span",{children:"Group by"}),y.jsxs("select",{value:this.state.groupBy,onChange:this.handleGroupByChange(),className:"border border-gray-200 rounded-md px-2 py-1 text-sm text-gray-700 bg-white",children:[y.jsx("option",{value:xs.TYPE,children:"Type"}),this.props.enableIntroducedGrouping!==!1&&y.jsx("option",{value:xs.INTRODUCED,children:"Introduced"}),y.jsx("option",{value:xs.NONE,children:"None"})]})]})}),this.renderItems(e)]})}}var Ny,dA;function K9(){if(dA)return Ny;dA=1;function r(e,t,i,a){for(var l=-1,c=e==null?0:e.length;++l<c;){var f=e[l];t(a,f,i(f),e)}return a}return Ny=r,Ny}var Oy,pA;function Y9(){if(pA)return Oy;pA=1;var r=M2(),e=r(Object.keys,Object);return Oy=e,Oy}var Dy,mA;function W9(){if(mA)return Dy;mA=1;var r=z0(),e=Y9(),t=Object.prototype,i=t.hasOwnProperty;function a(l){if(!r(l))return e(l);var c=[];for(var f in Object(l))i.call(l,f)&&f!="constructor"&&c.push(f);return c}return Dy=a,Dy}var ky,gA;function Ba(){if(gA)return ky;gA=1;var r=P2(),e=W9(),t=ll();function i(a){return t(a)?r(a):e(a)}return ky=i,ky}var My,yA;function Q9(){if(yA)return My;yA=1;var r=N2(),e=Ba();function t(i,a){return i&&r(i,a,e)}return My=t,My}var jy,vA;function X9(){if(vA)return jy;vA=1;var r=ll();function e(t,i){return function(a,l){if(a==null)return a;if(!r(a))return t(a,l);for(var c=a.length,f=i?c:-1,p=Object(a);(i?f--:++f<c)&&l(p[f],f,p)!==!1;);return a}}return jy=e,jy}var Vy,_A;function ib(){if(_A)return Vy;_A=1;var r=Q9(),e=X9(),t=e(r);return Vy=t,Vy}var Ly,bA;function J9(){if(bA)return Ly;bA=1;var r=ib();function e(t,i,a,l){return r(t,function(c,f,p){i(l,c,a(c),p)}),l}return Ly=e,Ly}var Py,EA;function Z9(){if(EA)return Py;EA=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return Py=e,Py}var Uy,xA;function eU(){if(xA)return Uy;xA=1;function r(e){return this.__data__.has(e)}return Uy=r,Uy}var qy,TA;function tU(){if(TA)return qy;TA=1;var r=L0(),e=Z9(),t=eU();function i(a){var l=-1,c=a==null?0:a.length;for(this.__data__=new r;++l<c;)this.add(a[l])}return i.prototype.add=i.prototype.push=e,i.prototype.has=t,qy=i,qy}var zy,SA;function nU(){if(SA)return zy;SA=1;function r(e,t){for(var i=-1,a=e==null?0:e.length;++i<a;)if(t(e[i],i,e))return!0;return!1}return zy=r,zy}var By,wA;function rU(){if(wA)return By;wA=1;function r(e,t){return e.has(t)}return By=r,By}var Fy,AA;function fN(){if(AA)return Fy;AA=1;var r=tU(),e=nU(),t=rU(),i=1,a=2;function l(c,f,p,m,v,b){var T=p&i,S=c.length,O=f.length;if(S!=O&&!(T&&O>S))return!1;var M=b.get(c),k=b.get(f);if(M&&k)return M==f&&k==c;var B=-1,z=!0,Y=p&a?new r:void 0;for(b.set(c,f),b.set(f,c);++B<S;){var ae=c[B],ue=f[B];if(m)var oe=T?m(ue,ae,B,f,c,b):m(ae,ue,B,c,f,b);if(oe!==void 0){if(oe)continue;z=!1;break}if(Y){if(!e(f,function(R,C){if(!t(Y,C)&&(ae===R||v(ae,R,p,m,b)))return Y.push(C)})){z=!1;break}}else if(!(ae===ue||v(ae,ue,p,m,b))){z=!1;break}}return b.delete(c),b.delete(f),z}return Fy=l,Fy}var Hy,RA;function iU(){if(RA)return Hy;RA=1;function r(e){var t=-1,i=Array(e.size);return e.forEach(function(a,l){i[++t]=[l,a]}),i}return Hy=r,Hy}var Gy,CA;function sU(){if(CA)return Gy;CA=1;function r(e){var t=-1,i=Array(e.size);return e.forEach(function(a){i[++t]=a}),i}return Gy=r,Gy}var $y,IA;function aU(){if(IA)return $y;IA=1;var r=ol(),e=D2(),t=ic(),i=fN(),a=iU(),l=sU(),c=1,f=2,p="[object Boolean]",m="[object Date]",v="[object Error]",b="[object Map]",T="[object Number]",S="[object RegExp]",O="[object Set]",M="[object String]",k="[object Symbol]",B="[object ArrayBuffer]",z="[object DataView]",Y=r?r.prototype:void 0,ae=Y?Y.valueOf:void 0;function ue(oe,R,C,N,j,D,L){switch(C){case z:if(oe.byteLength!=R.byteLength||oe.byteOffset!=R.byteOffset)return!1;oe=oe.buffer,R=R.buffer;case B:return!(oe.byteLength!=R.byteLength||!D(new e(oe),new e(R)));case p:case m:case T:return t(+oe,+R);case v:return oe.name==R.name&&oe.message==R.message;case S:case M:return oe==R+"";case b:var I=a;case O:var Ce=N&c;if(I||(I=l),oe.size!=R.size&&!Ce)return!1;var Ve=L.get(oe);if(Ve)return Ve==R;N|=f,L.set(oe,R);var X=i(I(oe),I(R),N,j,D,L);return L.delete(oe),X;case k:if(ae)return ae.call(oe)==ae.call(R)}return!1}return $y=ue,$y}var Ky,NA;function od(){if(NA)return Ky;NA=1;function r(e,t){for(var i=-1,a=t.length,l=e.length;++i<a;)e[l+i]=t[i];return e}return Ky=r,Ky}var Yy,OA;function dN(){if(OA)return Yy;OA=1;var r=od(),e=gn();function t(i,a,l){var c=a(i);return e(i)?c:r(c,l(i))}return Yy=t,Yy}var Wy,DA;function pN(){if(DA)return Wy;DA=1;function r(e,t){for(var i=-1,a=e==null?0:e.length,l=0,c=[];++i<a;){var f=e[i];t(f,i,e)&&(c[l++]=f)}return c}return Wy=r,Wy}var Qy,kA;function mN(){if(kA)return Qy;kA=1;function r(){return[]}return Qy=r,Qy}var Xy,MA;function sb(){if(MA)return Xy;MA=1;var r=pN(),e=mN(),t=Object.prototype,i=t.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(c){return c==null?[]:(c=Object(c),r(a(c),function(f){return i.call(c,f)}))}:e;return Xy=l,Xy}var Jy,jA;function gN(){if(jA)return Jy;jA=1;var r=dN(),e=sb(),t=Ba();function i(a){return r(a,t,e)}return Jy=i,Jy}var Zy,VA;function oU(){if(VA)return Zy;VA=1;var r=gN(),e=1,t=Object.prototype,i=t.hasOwnProperty;function a(l,c,f,p,m,v){var b=f&e,T=r(l),S=T.length,O=r(c),M=O.length;if(S!=M&&!b)return!1;for(var k=S;k--;){var B=T[k];if(!(b?B in c:i.call(c,B)))return!1}var z=v.get(l),Y=v.get(c);if(z&&Y)return z==c&&Y==l;var ae=!0;v.set(l,c),v.set(c,l);for(var ue=b;++k<S;){B=T[k];var oe=l[B],R=c[B];if(p)var C=b?p(R,oe,B,c,l,v):p(oe,R,B,l,c,v);if(!(C===void 0?oe===R||m(oe,R,f,p,v):C)){ae=!1;break}ue||(ue=B=="constructor")}if(ae&&!ue){var N=l.constructor,j=c.constructor;N!=j&&"constructor"in l&&"constructor"in c&&!(typeof N=="function"&&N instanceof N&&typeof j=="function"&&j instanceof j)&&(ae=!1)}return v.delete(l),v.delete(c),ae}return Zy=a,Zy}var ev,LA;function lU(){if(LA)return ev;LA=1;var r=qa(),e=Nr(),t=r(e,"DataView");return ev=t,ev}var tv,PA;function uU(){if(PA)return tv;PA=1;var r=qa(),e=Nr(),t=r(e,"Promise");return tv=t,tv}var nv,UA;function cU(){if(UA)return nv;UA=1;var r=qa(),e=Nr(),t=r(e,"Set");return nv=t,nv}var rv,qA;function hU(){if(qA)return rv;qA=1;var r=qa(),e=Nr(),t=r(e,"WeakMap");return rv=t,rv}var iv,zA;function ld(){if(zA)return iv;zA=1;var r=lU(),e=V0(),t=uU(),i=cU(),a=hU(),l=Ua(),c=R2(),f="[object Map]",p="[object Object]",m="[object Promise]",v="[object Set]",b="[object WeakMap]",T="[object DataView]",S=c(r),O=c(e),M=c(t),k=c(i),B=c(a),z=l;return(r&&z(new r(new ArrayBuffer(1)))!=T||e&&z(new e)!=f||t&&z(t.resolve())!=m||i&&z(new i)!=v||a&&z(new a)!=b)&&(z=function(Y){var ae=l(Y),ue=ae==p?Y.constructor:void 0,oe=ue?c(ue):"";if(oe)switch(oe){case S:return T;case O:return f;case M:return m;case k:return v;case B:return b}return ae}),iv=z,iv}var sv,BA;function fU(){if(BA)return sv;BA=1;var r=Yf(),e=fN(),t=aU(),i=oU(),a=ld(),l=gn(),c=Xf(),f=H0(),p=1,m="[object Arguments]",v="[object Array]",b="[object Object]",T=Object.prototype,S=T.hasOwnProperty;function O(M,k,B,z,Y,ae){var ue=l(M),oe=l(k),R=ue?v:a(M),C=oe?v:a(k);R=R==m?b:R,C=C==m?b:C;var N=R==b,j=C==b,D=R==C;if(D&&c(M)){if(!c(k))return!1;ue=!0,N=!1}if(D&&!N)return ae||(ae=new r),ue||f(M)?e(M,k,B,z,Y,ae):t(M,k,R,B,z,Y,ae);if(!(B&p)){var L=N&&S.call(M,"__wrapped__"),I=j&&S.call(k,"__wrapped__");if(L||I){var Ce=L?M.value():M,Ve=I?k.value():k;return ae||(ae=new r),Y(Ce,Ve,B,z,ae)}}return D?(ae||(ae=new r),i(M,k,B,z,Y,ae)):!1}return sv=O,sv}var av,FA;function yN(){if(FA)return av;FA=1;var r=fU(),e=oi();function t(i,a,l,c,f){return i===a?!0:i==null||a==null||!e(i)&&!e(a)?i!==i&&a!==a:r(i,a,l,c,t,f)}return av=t,av}var ov,HA;function dU(){if(HA)return ov;HA=1;var r=Yf(),e=yN(),t=1,i=2;function a(l,c,f,p){var m=f.length,v=m,b=!p;if(l==null)return!v;for(l=Object(l);m--;){var T=f[m];if(b&&T[2]?T[1]!==l[T[0]]:!(T[0]in l))return!1}for(;++m<v;){T=f[m];var S=T[0],O=l[S],M=T[1];if(b&&T[2]){if(O===void 0&&!(S in l))return!1}else{var k=new r;if(p)var B=p(O,M,S,l,c,k);if(!(B===void 0?e(M,O,t|i,p,k):B))return!1}}return!0}return ov=a,ov}var lv,GA;function vN(){if(GA)return lv;GA=1;var r=cr();function e(t){return t===t&&!r(t)}return lv=e,lv}var uv,$A;function pU(){if($A)return uv;$A=1;var r=vN(),e=Ba();function t(i){for(var a=e(i),l=a.length;l--;){var c=a[l],f=i[c];a[l]=[c,f,r(f)]}return a}return uv=t,uv}var cv,KA;function _N(){if(KA)return cv;KA=1;function r(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==void 0||e in Object(i))}}return cv=r,cv}var hv,YA;function mU(){if(YA)return hv;YA=1;var r=dU(),e=pU(),t=_N();function i(a){var l=e(a);return l.length==1&&l[0][2]?t(l[0][0],l[0][1]):function(c){return c===a||r(c,a,l)}}return hv=i,hv}var fv,WA;function cc(){if(WA)return fv;WA=1;var r=Ua(),e=oi(),t="[object Symbol]";function i(a){return typeof a=="symbol"||e(a)&&r(a)==t}return fv=i,fv}var dv,QA;function ab(){if(QA)return dv;QA=1;var r=gn(),e=cc(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function a(l,c){if(r(l))return!1;var f=typeof l;return f=="number"||f=="symbol"||f=="boolean"||l==null||e(l)?!0:i.test(l)||!t.test(l)||c!=null&&l in Object(c)}return dv=a,dv}var pv,XA;function gU(){if(XA)return pv;XA=1;var r=L0(),e="Expected a function";function t(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var l=function(){var c=arguments,f=a?a.apply(this,c):c[0],p=l.cache;if(p.has(f))return p.get(f);var m=i.apply(this,c);return l.cache=p.set(f,m)||p,m};return l.cache=new(t.Cache||r),l}return t.Cache=r,pv=t,pv}var mv,JA;function yU(){if(JA)return mv;JA=1;var r=gU(),e=500;function t(i){var a=r(i,function(c){return l.size===e&&l.clear(),c}),l=a.cache;return a}return mv=t,mv}var gv,ZA;function vU(){if(ZA)return gv;ZA=1;var r=yU(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,i=r(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(e,function(c,f,p,m){l.push(p?m.replace(t,"$1"):f||c)}),l});return gv=i,gv}var yv,eR;function ud(){if(eR)return yv;eR=1;function r(e,t){for(var i=-1,a=e==null?0:e.length,l=Array(a);++i<a;)l[i]=t(e[i],i,e);return l}return yv=r,yv}var vv,tR;function _U(){if(tR)return vv;tR=1;var r=ol(),e=ud(),t=gn(),i=cc(),a=r?r.prototype:void 0,l=a?a.toString:void 0;function c(f){if(typeof f=="string")return f;if(t(f))return e(f,c)+"";if(i(f))return l?l.call(f):"";var p=f+"";return p=="0"&&1/f==-1/0?"-0":p}return vv=c,vv}var _v,nR;function bN(){if(nR)return _v;nR=1;var r=_U();function e(t){return t==null?"":r(t)}return _v=e,_v}var bv,rR;function hc(){if(rR)return bv;rR=1;var r=gn(),e=ab(),t=vU(),i=bN();function a(l,c){return r(l)?l:e(l,c)?[l]:t(i(l))}return bv=a,bv}var Ev,iR;function fl(){if(iR)return Ev;iR=1;var r=cc();function e(t){if(typeof t=="string"||r(t))return t;var i=t+"";return i=="0"&&1/t==-1/0?"-0":i}return Ev=e,Ev}var xv,sR;function cd(){if(sR)return xv;sR=1;var r=hc(),e=fl();function t(i,a){a=r(a,i);for(var l=0,c=a.length;i!=null&&l<c;)i=i[e(a[l++])];return l&&l==c?i:void 0}return xv=t,xv}var Tv,aR;function EN(){if(aR)return Tv;aR=1;var r=cd();function e(t,i,a){var l=t==null?void 0:r(t,i);return l===void 0?a:l}return Tv=e,Tv}var Sv,oR;function bU(){if(oR)return Sv;oR=1;function r(e,t){return e!=null&&t in Object(e)}return Sv=r,Sv}var wv,lR;function xN(){if(lR)return wv;lR=1;var r=hc(),e=Qf(),t=gn(),i=Zf(),a=B0(),l=fl();function c(f,p,m){p=r(p,f);for(var v=-1,b=p.length,T=!1;++v<b;){var S=l(p[v]);if(!(T=f!=null&&m(f,S)))break;f=f[S]}return T||++v!=b?T:(b=f==null?0:f.length,!!b&&a(b)&&i(S,b)&&(t(f)||e(f)))}return wv=c,wv}var Av,uR;function EU(){if(uR)return Av;uR=1;var r=bU(),e=xN();function t(i,a){return i!=null&&e(i,a,r)}return Av=t,Av}var Rv,cR;function xU(){if(cR)return Rv;cR=1;var r=yN(),e=EN(),t=EU(),i=ab(),a=vN(),l=_N(),c=fl(),f=1,p=2;function m(v,b){return i(v)&&a(b)?l(c(v),b):function(T){var S=e(T,v);return S===void 0&&S===b?t(T,v):r(b,S,f|p)}}return Rv=m,Rv}var Cv,hR;function TU(){if(hR)return Cv;hR=1;function r(e){return function(t){return t?.[e]}}return Cv=r,Cv}var Iv,fR;function SU(){if(fR)return Iv;fR=1;var r=cd();function e(t){return function(i){return r(i,t)}}return Iv=e,Iv}var Nv,dR;function wU(){if(dR)return Nv;dR=1;var r=TU(),e=SU(),t=ab(),i=fl();function a(l){return t(l)?r(i(l)):e(l)}return Nv=a,Nv}var Ov,pR;function ob(){if(pR)return Ov;pR=1;var r=mU(),e=xU(),t=ed(),i=gn(),a=wU();function l(c){return typeof c=="function"?c:c==null?t:typeof c=="object"?i(c)?e(c[0],c[1]):r(c):a(c)}return Ov=l,Ov}var Dv,mR;function AU(){if(mR)return Dv;mR=1;var r=K9(),e=J9(),t=ob(),i=gn();function a(l,c){return function(f,p){var m=i(f)?r:e,v=c?c():{};return m(f,l,t(p,2),v)}}return Dv=a,Dv}var kv,gR;function RU(){if(gR)return kv;gR=1;var r=Wf(),e=AU(),t=Object.prototype,i=t.hasOwnProperty,a=e(function(l,c,f){i.call(l,f)?l[f].push(c):r(l,f,[c])});return kv=a,kv}var CU=RU();const Af=tn(CU),IU={BLUEPRINT:"BP","CHASSIS BLUEPRINT":"CH","SYSTEMS BLUEPRINT":"SYS","NEUROPTICS BLUEPRINT":"NEU"},NU={Common:"bg-yellow-900",Uncommon:"bg-slate-700",Rare:"bg-yellow-500"},OU={Common:"border-yellow-900",Uncommon:"border-slate-700",Rare:"border-yellow-500"},yR=r=>{if(!r)return null;const e=String(r).trim();if(!e)return null;const t=e.replace(/\s+/g,"_");return`https://wiki.warframe.com/w/${encodeURIComponent(t)}`},Hh=r=>typeof r=="string"||r instanceof String,DU=r=>typeof r=="string"||r instanceof String;class kU extends Jt.Component{handleItemClick(e){return t=>{this.props.onItemClick(e),t.stopPropagation()}}renderAcquisition(e){if(e.location)return y.jsx("td",{className:"py-1 px-3 align-top border-l border-gray-100 text-gray-700 text-sm leading-snug",children:Array.isArray(e.location)?y.jsx("ul",{className:"list-disc list-inside m-0 p-0",children:e.location.map((t,i)=>y.jsx("li",{children:t},i))}):e.location});if(e.relics){const t=Af(e.relics,"part"),i=Object.getOwnPropertyNames(t).map((a,l)=>y.jsxs("tr",{className:"border-none",children:[y.jsx("td",{className:"py-0 px-1 w-8 text-xs font-bold text-gray-500",children:IU[a.toUpperCase()]??""}),y.jsx("td",{className:"py-0.5 px-1 flex flex-wrap gap-1",children:(t[a]??[]).map((c,f)=>{const p=NU[c.rarity]||"bg-gray-400",m=OU[c.rarity]||"border-gray-400",v=c.isVaulted?`border-2 ${m} !bg-transparent !text-inherit opacity-70`:`${p} border-2 ${m} text-white`;return y.jsx("span",{className:`px-1 rounded-[2px] text-[10px] font-bold uppercase ${v}`,title:c.isVaulted?"Vaulted":void 0,children:c.name},f)})})]},l));return y.jsx("td",{className:"py-1 px-3 align-top border-l border-gray-100",children:y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:i})})})}return y.jsx("td",{className:"py-1 px-3 border-l border-gray-100"})}renderBody(){const e=this.props.items.map((t,i)=>{if(DU(t))return null;const a=this.props.visibilityFilter===Pt.SHOW_ACTIVE&&t.checked;return this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(t).toLowerCase().includes(this.props.searchFilter.toLowerCase())?null:y.jsxs("tr",{className:`${t.checked?"bg-green-50":""} ${a?"opacity-30":""} transition-colors`,children:[y.jsx("td",{className:"py-1 px-3 align-top w-40",children:y.jsxs("div",{className:"flex items-center gap-1.5",children:[t.checked&&y.jsx(pn,{className:"text-green-500 shrink-0"}),y.jsx("span",{className:"font-bold text-gray-900 text-base",children:t.title})]})}),y.jsx("td",{className:"py-1 px-2 align-top w-20 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center gap-2",children:[t.url||yR(t.title)?y.jsx("a",{href:t.url||yR(t.title)||void 0,title:"wiki",className:"text-gray-500 opacity-70 hover:opacity-100",target:"_blank",rel:"noopener noreferrer",children:y.jsx(ja,{})}):null,t.market?y.jsx("a",{href:t.market,title:"market",className:"text-gray-500 opacity-70 hover:opacity-100",target:"_blank",rel:"noopener noreferrer",children:y.jsx(J_,{})}):null,t.isVaulted?y.jsx(sd,{className:"text-red-600",title:"Vaulted"}):null]})}),y.jsx("td",{className:"py-1 px-3 align-top w-48",children:t.items?y.jsx("div",{className:"flex flex-col gap-0.5",children:t.items.map((l,c)=>{const f=Hh(l)?l:l.title;return f?y.jsxs("span",{className:"flex items-center gap-1.5 whitespace-nowrap text-sm text-gray-700",children:[y.jsx("div",{className:`cursor-pointer ${!Hh(l)&&l.checked?"text-green-500":"text-gray-400 hover:text-gray-600"}`,onClick:this.handleItemClick(f),children:!Hh(l)&&l.checked?y.jsx(pn,{}):y.jsx(rd,{})}),y.jsx("span",{className:"font-medium",children:!Hh(l)&&l.short?l.short:f})]},c):null})}):null}),this.renderAcquisition(t)]},i)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:e})}render(){return y.jsx("div",{className:"overflow-x-auto border-t border-gray-100",children:y.jsx("table",{className:"w-full border-collapse",children:this.renderBody()})})}}var Mv,vR;function MU(){if(vR)return Mv;vR=1;var r=bN(),e=/[\\^$.*+?()[\]{}|]/g,t=RegExp(e.source);function i(a){return a=r(a),a&&t.test(a)?a.replace(e,"\\$&"):a}return Mv=i,Mv}var jU=MU();const Ra=tn(jU);var jv,_R;function VU(){if(_R)return jv;_R=1;var r=ib();function e(t,i){var a=[];return r(t,function(l,c,f){i(l,c,f)&&a.push(l)}),a}return jv=e,jv}var Vv,bR;function LU(){if(bR)return Vv;bR=1;var r=pN(),e=VU(),t=ob(),i=gn();function a(l,c){var f=i(l)?r:e;return f(l,t(c,3))}return Vv=a,Vv}var PU=LU();const Ca=tn(PU);var Lv,ER;function UU(){if(ER)return Lv;ER=1;var r=ud();function e(t,i){return r(i,function(a){return t[a]})}return Lv=e,Lv}var Pv,xR;function qU(){if(xR)return Pv;xR=1;var r=UU(),e=Ba();function t(i){return i==null?[]:r(i,e(i))}return Pv=t,Pv}var zU=qU();const Ia=tn(zU);var BU=Ba();const ei=tn(BU);var FU=EN();const Ii=tn(FU);var Uv,TR;function HU(){if(TR)return Uv;TR=1;var r=ib(),e=ll();function t(i,a){var l=-1,c=e(i)?Array(i.length):[];return r(i,function(f,p,m){c[++l]=a(f,p,m)}),c}return Uv=t,Uv}var qv,SR;function GU(){if(SR)return qv;SR=1;function r(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}return qv=r,qv}var zv,wR;function $U(){if(wR)return zv;wR=1;var r=cc();function e(t,i){if(t!==i){var a=t!==void 0,l=t===null,c=t===t,f=r(t),p=i!==void 0,m=i===null,v=i===i,b=r(i);if(!m&&!b&&!f&&t>i||f&&p&&v&&!m&&!b||l&&p&&v||!a&&v||!c)return 1;if(!l&&!f&&!b&&t<i||b&&a&&c&&!l&&!f||m&&a&&c||!p&&c||!v)return-1}return 0}return zv=e,zv}var Bv,AR;function KU(){if(AR)return Bv;AR=1;var r=$U();function e(t,i,a){for(var l=-1,c=t.criteria,f=i.criteria,p=c.length,m=a.length;++l<p;){var v=r(c[l],f[l]);if(v){if(l>=m)return v;var b=a[l];return v*(b=="desc"?-1:1)}}return t.index-i.index}return Bv=e,Bv}var Fv,RR;function TN(){if(RR)return Fv;RR=1;var r=ud(),e=cd(),t=ob(),i=HU(),a=GU(),l=Jf(),c=KU(),f=ed(),p=gn();function m(v,b,T){b.length?b=r(b,function(M){return p(M)?function(k){return e(k,M.length===1?M[0]:M)}:M}):b=[f];var S=-1;b=r(b,l(t));var O=i(v,function(M,k,B){var z=r(b,function(Y){return Y(M)});return{criteria:z,index:++S,value:M}});return a(O,function(M,k){return c(M,k,T)})}return Fv=m,Fv}var Hv,CR;function YU(){if(CR)return Hv;CR=1;var r=TN(),e=gn();function t(i,a,l,c){return i==null?[]:(e(a)||(a=a==null?[]:[a]),l=c?void 0:l,e(l)||(l=l==null?[]:[l]),r(i,a,l))}return Hv=t,Hv}var WU=YU();const lb=tn(WU);var Gv,IR;function QU(){if(IR)return Gv;IR=1;var r=Nr(),e=function(){return r.Date.now()};return Gv=e,Gv}var $v,NR;function XU(){if(NR)return $v;NR=1;var r=/\s/;function e(t){for(var i=t.length;i--&&r.test(t.charAt(i)););return i}return $v=e,$v}var Kv,OR;function JU(){if(OR)return Kv;OR=1;var r=XU(),e=/^\s+/;function t(i){return i&&i.slice(0,r(i)+1).replace(e,"")}return Kv=t,Kv}var Yv,DR;function ZU(){if(DR)return Yv;DR=1;var r=JU(),e=cr(),t=cc(),i=NaN,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;function p(m){if(typeof m=="number")return m;if(t(m))return i;if(e(m)){var v=typeof m.valueOf=="function"?m.valueOf():m;m=e(v)?v+"":v}if(typeof m!="string")return m===0?m:+m;m=r(m);var b=l.test(m);return b||c.test(m)?f(m.slice(2),b?2:8):a.test(m)?i:+m}return Yv=p,Yv}var Wv,kR;function eq(){if(kR)return Wv;kR=1;var r=cr(),e=QU(),t=ZU(),i="Expected a function",a=Math.max,l=Math.min;function c(f,p,m){var v,b,T,S,O,M,k=0,B=!1,z=!1,Y=!0;if(typeof f!="function")throw new TypeError(i);p=t(p)||0,r(m)&&(B=!!m.leading,z="maxWait"in m,T=z?a(t(m.maxWait)||0,p):T,Y="trailing"in m?!!m.trailing:Y);function ae(I){var Ce=v,Ve=b;return v=b=void 0,k=I,S=f.apply(Ve,Ce),S}function ue(I){return k=I,O=setTimeout(C,p),B?ae(I):S}function oe(I){var Ce=I-M,Ve=I-k,X=p-Ce;return z?l(X,T-Ve):X}function R(I){var Ce=I-M,Ve=I-k;return M===void 0||Ce>=p||Ce<0||z&&Ve>=T}function C(){var I=e();if(R(I))return N(I);O=setTimeout(C,oe(I))}function N(I){return O=void 0,Y&&v?ae(I):(v=b=void 0,S)}function j(){O!==void 0&&clearTimeout(O),k=0,v=M=b=O=void 0}function D(){return O===void 0?S:N(e())}function L(){var I=e(),Ce=R(I);if(v=arguments,b=this,M=I,Ce){if(O===void 0)return ue(M);if(z)return clearTimeout(O),O=setTimeout(C,p),ae(M)}return O===void 0&&(O=setTimeout(C,p)),S}return L.cancel=j,L.flush=D,L}return Wv=c,Wv}var tq=eq();const hd=tn(tq),MR={Common:"bronze",Uncommon:"grey",Rare:"yellow"},of={red:{bg:"bg-red-600",border:"border-red-600",text:"text-red-600",icon:"text-red-600"},orange:{bg:"bg-orange-500",border:"border-orange-500",text:"text-orange-500",icon:"text-orange-500"},yellow:{bg:"bg-yellow-500",border:"border-yellow-500",text:"text-yellow-500",icon:"text-yellow-500"},olive:{bg:"bg-lime-600",border:"border-lime-600",text:"text-lime-600",icon:"text-lime-600"},green:{bg:"bg-green-500",border:"border-green-500",text:"text-green-500",icon:"text-green-500"},teal:{bg:"bg-teal-500",border:"border-teal-500",text:"text-teal-500",icon:"text-teal-500"},blue:{bg:"bg-blue-600",border:"border-blue-600",text:"text-sky-700",icon:"text-sky-700"},violet:{bg:"bg-violet-600",border:"border-violet-600",text:"text-violet-600",icon:"text-violet-600"},purple:{bg:"bg-purple-600",border:"border-purple-600",text:"text-purple-600",icon:"text-purple-600"},pink:{bg:"bg-pink-500",border:"border-pink-500",text:"text-pink-500",icon:"text-pink-500"},bronze:{bg:"bg-yellow-900",border:"border-yellow-900",text:"text-yellow-900",icon:"text-yellow-900"},grey:{bg:"bg-slate-700",border:"border-slate-700",text:"text-slate-700",icon:"text-slate-700"},black:{bg:"bg-gray-900",border:"border-gray-900",text:"text-gray-900",icon:"text-gray-900"}},jR=["red","olive","yellow","green","teal","blue","orange","violet","purple","pink","bronze","grey","black"],nq={bg:"bg-gray-400",border:"border-gray-400",text:"text-gray-400",icon:"text-gray-400"},VR=r=>r&&of[r]?of[r]:of.grey??nq,Eu={isLoading:!1,results:[],value:"",hovered:[],activeIndex:0};class rq extends Jt.Component{debouncedSearch;constructor(e){super(e),this.state=Eu,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=hd(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(Eu)}handleKeyDown(e){const{results:t,activeIndex:i,value:a}=this.state;if(e.key==="ArrowDown"&&t.length){e.preventDefault(),this.setState({activeIndex:(i+1)%t.length});return}if(e.key==="ArrowUp"&&t.length){e.preventDefault(),this.setState({activeIndex:(i-1+t.length)%t.length});return}if(e.key==="Enter"){if(t.length&&t[i]){e.preventDefault(),this.handleResultSelect(e,{result:t[i]});return}a&&(e.preventDefault(),this.debouncedSearch.cancel(),this.props.onItemAdd({title:a,arbitrary:!0}),this.setState(Eu))}}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleVisibilityToggle(){return()=>{const e=this.props.relicVisibility===Pt.SHOW_ALL?Pt.SHOW_ACTIVE:Pt.SHOW_ALL;this.props.onRelicVisibilityToggle(e)}}handleSearchChange(e,{value:t}){if(this.setState({isLoading:!0,value:t,activeIndex:0}),t.length<1){this.setState(Eu);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(Eu);return}const t=new RegExp(Ra(e),"i"),i=Ia(this.props.voidDrops).map(l=>l.title),a=l=>t.test(l.title)&&!i.includes(l.title);this.setState({isLoading:!1,results:Ca(this.props.items,a),activeIndex:0})}resultRenderer({title:e}){return y.jsx("div",{children:e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e})},"content")}renderTypeIcon(e){const t=e?of[e]:void 0,i=t?t.icon:"text-gray-400";return y.jsx(hN,{className:`text-xs align-middle mr-1 ${i}`})}renderItemsTable(){const e=Ia(this.props.voidDrops),t=[];let i;if(!e.length)return null;const a=lb(e,["item","arbitrary","title"],["asc","desc","asc"]).map(l=>{let c=l.title,f=[];l.item&&!t.includes(l.item)&&t.push(l.item),l.count&&(c=`${c} x${l.count}`);const p=l.item&&this.props.primeChecked?.[l.item],m=l.relics||[],v=l.arbitrary||!l.relics?[]:m.map(b=>{const T=b.name,S=Ii(this.props,["markedRelics",T,"available"]);let O=null;S===!0?O=y.jsx(pn,{className:"mr-1 text-[0.9em]"}):S===!1&&(O=y.jsx(sf,{className:"mr-1 text-[0.9em]"}));const M=MR[b.rarity],k=VR(M),B=b.isVaulted?`border-2 ${k.border} !bg-transparent !text-inherit opacity-70`:`${k.bg} ${k.border} border-2 text-white`,z=S===!1?"opacity-30":"";return y.jsxs("span",{className:`cursor-pointer inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-bold uppercase tracking-tight mr-1 mb-1 transition-colors ${B} ${z}`,onClick:this.handleRelicClick(T),children:[O,`${T}${b.isBaro?" [Baro]":""}`]},T)});if(!l.arbitrary&&l.item){const b=`${l.item.replace(/\s+/g,"_")}`,T=`https://wiki.warframe.com/w/${encodeURIComponent(b)}`,S=`https://warframe.market/items/${l.title.toLowerCase().split(" ").join("_")}`;i=jR[t.indexOf(l.item)%jR.length],f=[y.jsx("a",{href:T,title:"wiki",target:"_blank",rel:"noreferrer",className:"hover:opacity-70",children:y.jsx(ja,{className:"text-gray-400"})},"wiki"),y.jsx("a",{href:S,title:"market",target:"_blank",rel:"noreferrer",className:"hover:opacity-70 ml-1",children:y.jsx(J_,{className:"text-gray-400"})},"market")]}else if(l.arbitrary){const b=`https://warframe.market/items/${l.title.toLowerCase().split(" ").join("_")}`;f=[y.jsx("a",{href:b,title:"market",target:"_blank",rel:"noreferrer",className:"hover:opacity-70",children:y.jsx(J_,{className:"text-gray-400"})},"market")]}return y.jsxs("tr",{className:`hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors ${this.state.hovered.includes(c)?"bg-gray-50":""}`,children:[y.jsx("td",{className:"py-1 px-2 align-middle",children:y.jsxs("div",{className:"flex items-center flex-wrap",children:[this.renderTypeIcon(i),y.jsx("span",{className:`mr-2 ${p?"line-through opacity-60":""}`,children:c}),y.jsx("span",{className:"mr-3 inline-flex items-center",children:f}),y.jsx("div",{className:"inline-flex flex-wrap items-center mt-0.5",children:v})]})}),y.jsx("td",{className:"py-1 px-2 text-right align-middle",children:y.jsx(An,{className:"cursor-pointer text-red-600 hover:opacity-80",onClick:this.handleItemRemove(l.title)})})]},c)});return y.jsx("table",{className:"w-full border-collapse mb-4","data-testid":"items-table",children:y.jsx("tbody",{children:a})})}renderRelicsTable(){const e=Ia(this.props.voidDrops);if(!e.length)return null;const t={Lith:{},Meso:{},Neo:{},Axi:{},Vanguard:{},Requiem:{}};e.forEach(a=>{a.arbitrary||!a.relics||a.relics.forEach(l=>{const c=t[l.tier];if(!c)return;const f=c[l.name]??(c[l.name]=[]),p={title:a.title,rarity:l.rarity,isVaulted:l.isVaulted};l.isBaro&&(p.isBaro=l.isBaro),f.push(p)})});const i=["Lith","Meso","Neo","Axi","Vanguard","Requiem"];return y.jsxs("div",{className:"mt-4","data-testid":"relics-list",children:[y.jsxs("div",{className:"relative flex items-center mb-4",children:[y.jsx("div",{className:"grow border-t border-gray-200"}),y.jsx("span",{className:"shrink mx-4 text-gray-400 text-sm font-bold uppercase tracking-widest leading-none",children:"Relics to run"}),y.jsx("div",{className:"grow border-t border-gray-200"})]}),y.jsx("div",{className:"bg-white p-2 mb-2",children:i.map((a,l)=>{const c=t[a]??{};if(ei(c).length===0)return null;const f=l>0?i[l-1]:null,p=f?ei(t[f]??{}).length>0:!1;return y.jsxs(Jt.Fragment,{children:[p&&y.jsx("div",{className:"h-1"}),y.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 border-b border-gray-50 pb-1",children:a}),y.jsx("div",{className:"flex flex-wrap",children:this.renderGroupedRelicsList(c)})]},a)})})]},"relics-container")}handleMouseOver(e){return()=>{this.setState({hovered:e})}}handleMouseOut(){return()=>{this.setState({hovered:[]})}}handleRelicClick(e){return()=>{this.props.onRelicToggle({title:e})}}renderGroupedRelicsList(e){return ei(e).sort().map(t=>{const i=e[t]??[],a=i[0];if(!a)return null;const l=t;let c=null;i.length>1&&(c=y.jsx("span",{className:"ml-1 opacity-70 font-normal",children:`x${i.length}`}));let f=null;const p=Ii(this.props,["markedRelics",l,"available"]);if(p===!0?f=y.jsx(pn,{className:"mr-1 text-green-500"}):p===!1&&(f=y.jsx(sf,{className:"mr-1 text-red-600"})),a.isVaulted&&this.props.relicVisibility===Pt.SHOW_ACTIVE&&p!==!0)return null;const m=a.isVaulted?null:y.jsx("a",{href:`https://wiki.warframe.com/w/${t.replace(" ","_")}`,target:"_blank",rel:"noreferrer",onClick:O=>O.stopPropagation(),className:"mr-1 hover:opacity-70 flex items-center",children:y.jsx(ja,{className:"text-sky-700 text-[0.9em]"})}),v=MR[a.rarity],b=VR(v),T=a.isVaulted?`border-2 ${b.border} !bg-transparent !text-inherit opacity-70`:`${b.bg} ${b.border} border-2 text-white`,S=p===!1?"opacity-30":"";return y.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-lg font-bold uppercase tracking-tight mr-1 mb-1 cursor-pointer transition-colors ${T} ${S}`,onClick:this.handleRelicClick(l),children:[f,m,y.jsx(_9,{className:"mr-1 opacity-70 text-[0.9em]"}),t,a.isBaro?" [Baro]":"",c]},t)})}render(){const{isLoading:e,value:t,results:i,activeIndex:a}=this.state;return y.jsxs("div",{children:[ei(this.props.voidDrops).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(uc,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing prime part name to add it to the list."})]}),y.jsxs("div",{className:"flex gap-2 mb-4",children:[y.jsxs("div",{className:"relative grow",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search prime parts...",value:t,onChange:l=>this.handleSearchChange(l,{value:l.target.value}),onKeyDown:this.handleKeyDown}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Ms,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((l,c)=>y.jsx("div",{className:`px-3 py-2 cursor-pointer border-b border-gray-100 last:border-0 ${c===a?"bg-gray-100":"hover:bg-gray-50"}`,onClick:f=>this.handleResultSelect(f,{result:l}),children:this.resultRenderer(l)},c))})]}),y.jsx("button",{onClick:this.handleVisibilityToggle(),className:`px-3 py-2 border rounded-md transition-colors font-bold flex items-center justify-center min-w-[40px] ${this.props.relicVisibility===Pt.SHOW_ALL?"border-blue-600 text-sky-700 hover:bg-blue-50":"border-red-600 text-red-600 hover:bg-red-50"}`,title:this.props.relicVisibility===Pt.SHOW_ALL?"Hide vaulted":"Show all",children:this.props.relicVisibility===Pt.SHOW_ALL?y.jsx(b9,{}):y.jsx(sf,{})})]}),this.renderItemsTable(),this.renderRelicsTable()]})}}var Qv,LR;function iq(){if(LR)return Qv;LR=1;var r=ol(),e=Qf(),t=gn(),i=r?r.isConcatSpreadable:void 0;function a(l){return t(l)||e(l)||!!(i&&l&&l[i])}return Qv=a,Qv}var Xv,PR;function ub(){if(PR)return Xv;PR=1;var r=od(),e=iq();function t(i,a,l,c,f){var p=-1,m=i.length;for(l||(l=e),f||(f=[]);++p<m;){var v=i[p];a>0&&l(v)?a>1?t(v,a-1,l,c,f):r(f,v):c||(f[f.length]=v)}return f}return Xv=t,Xv}var Jv,UR;function sq(){if(UR)return Jv;UR=1;var r=ub(),e=TN(),t=z2(),i=B2(),a=t(function(l,c){if(l==null)return[];var f=c.length;return f>1&&i(l,c[0],c[1])?c=[]:f>2&&i(c[0],c[1],c[2])&&(c=[c[0]]),e(l,r(c,1),[])});return Jv=a,Jv}var aq=sq();const cb=tn(aq);class oq extends Jt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",count:this.props.count||0,modalOpen:!1},this.handleNotesChange=this.handleNotesChange.bind(this),this.handleCountChange=this.handleCountChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target instanceof HTMLElement&&e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target instanceof HTMLElement&&e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleNotesChange(e){this.setState({notes:e.target.value})}handleCountChange(e){const t=e.target.value;if(t===""||t===void 0)this.setState({count:0});else{const i=parseInt(t,10);!isNaN(i)&&i>=0&&this.setState({count:i})}}handleSave(){this.props.onSave(this.state.notes.trim(),this.state.count),this.handleClose()}handleOpen(){this.setState({modalOpen:!0,notes:this.props.notes||"",count:this.props.count||0})}handleClose(){this.setState({modalOpen:!1})}render(){return y.jsxs(y.Fragment,{children:[y.jsx(ad,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.url?y.jsx("a",{href:this.props.url,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:this.props.title}):this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(An,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto",children:[this.props.category&&y.jsxs("p",{className:"mb-4 text-sm",children:[y.jsx("strong",{children:"Category:"})," ",this.props.category]}),y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"todo-count",className:"block text-sm font-bold text-gray-700 mb-1",children:"Count"}),y.jsx("input",{id:"todo-count",type:"number",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",value:this.state.count,onChange:this.handleCountChange,min:"0"})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"todo-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"todo-notes",autoFocus:!0,className:"w-full h-64 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleNotesChange})]})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(pn,{})," Save"]})})]})})]})}}const hb=r=>{if(!r||typeof r!="string")return r;const e=r.split(/(\n)/g),t=[],i=/(https?:\/\/[^\s]+)/g;return e.forEach((a,l)=>{a===`
`?t.push(y.jsx("br",{},`br-${l}`)):a!==""&&a.split(i).forEach((f,p)=>{f.match(i)?t.push(y.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"text-sky-700 hover:underline",children:f},`link-${l}-${p}`)):f!==""&&t.push(f)})}),t},xu={isLoading:!1,results:[],value:"",activeIndex:0};class lq extends Jt.Component{debouncedSearch;constructor(e){super(e),this.state=xu,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=hd(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(xu)}handleKeyDown(e){const{results:t,activeIndex:i,value:a}=this.state;if(e.key==="ArrowDown"&&t.length){e.preventDefault(),this.setState({activeIndex:(i+1)%t.length});return}if(e.key==="ArrowUp"&&t.length){e.preventDefault(),this.setState({activeIndex:(i-1+t.length)%t.length});return}if(e.key==="Enter"){if(t.length&&t[i]){e.preventDefault(),this.handleResultSelect(e,{result:t[i]});return}a&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:a}),this.setState(xu))}}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return(t,i)=>{this.props.onItemUpdate(e,t,i)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t,activeIndex:0}),t.length<1){this.setState(xu);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(xu);return}const t=new RegExp(Ra(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:Ca(this.props.items,i),activeIndex:0})}resultRenderer({title:e,category:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:t})]},"content")}renderTable(){const e=cb(Ia(this.props.todoItems),["category","title"]);if(!e.length)return null;const t=e.map((i,a)=>{let l=i.title;i.count&&(l=`${l} x${i.count}`);const c=i.url||(i.title?`https://wiki.warframe.com/w/${i.title.split(" ").join("_")}`:"https://wiki.warframe.com");return y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsx("a",{href:c,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:l})}),y.jsx("td",{className:"py-1 px-2 text-gray-500",children:i.category}),y.jsx("td",{className:"py-1 px-2 text-gray-500 italic text-sm",children:hb(i.notes)}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1",children:[y.jsx(oq,{title:i.title,category:i.category,url:i.url,notes:i.notes,count:i.count,onSave:this.handleItemUpdate(i.title)}),y.jsx(Go,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(i.title)}),y.jsx(rb,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(i.title)}),y.jsx(An,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(i.title)})]})]},`${i.category||""}-${i.title}-${a}`)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:t})})}render(){const{isLoading:e,value:t,results:i,activeIndex:a}=this.state;return y.jsxs("div",{children:[ei(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(uc,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyDown:this.handleKeyDown}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Ms,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((l,c)=>y.jsx("div",{className:`px-3 py-2 cursor-pointer border-b border-gray-100 last:border-0 ${c===a?"bg-gray-100":"hover:bg-gray-50"}`,onClick:f=>this.handleResultSelect(f,{result:l}),children:this.resultRenderer(l)},c))})]}),this.renderTable()]})}}class qR extends Jt.Component{constructor(e){super(e),this.state={title:this.props.title||"",itemName:this.props.itemName||"",notes:this.props.notes||"",auraMods:this.props.auraMods||[],mods:this.props.mods||[],arcanes:this.props.arcanes||[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0,modalOpen:this.props.forceOpen||!1},this.handleTitleChange=this.handleTitleChange.bind(this),this.handleItemNameChange=this.handleItemNameChange.bind(this),this.handleNotesChange=this.handleNotesChange.bind(this),this.handleAuraModSearchChange=this.handleAuraModSearchChange.bind(this),this.handleModSearchChange=this.handleModSearchChange.bind(this),this.handleArcaneSearchChange=this.handleArcaneSearchChange.bind(this),this.handleAuraModKeyDown=this.handleAuraModKeyDown.bind(this),this.handleModKeyDown=this.handleModKeyDown.bind(this),this.handleArcaneKeyDown=this.handleArcaneKeyDown.bind(this),this.handleAddAuraMod=this.handleAddAuraMod.bind(this),this.handleRemoveAuraMod=this.handleRemoveAuraMod.bind(this),this.handleAddMod=this.handleAddMod.bind(this),this.handleRemoveMod=this.handleRemoveMod.bind(this),this.handleAddArcane=this.handleAddArcane.bind(this),this.handleRemoveArcane=this.handleRemoveArcane.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){if(e.key==="Escape")this.handleClose();else if(e.key==="Enter"){if(e.target instanceof HTMLElement&&e.target.tagName==="TEXTAREA")e.shiftKey||(e.preventDefault(),this.handleSave());else if(e.target instanceof HTMLElement&&e.target.tagName==="INPUT"){if(e.target.dataset.searchInput==="true")return;e.preventDefault(),this.handleSave()}}}componentDidMount(){this.state.modalOpen&&document.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleTitleChange(e){this.setState({title:e.target.value})}handleItemNameChange(e){this.setState({itemName:e.target.value})}handleNotesChange(e){this.setState({notes:e.target.value})}handleAuraModSearchChange(e){const t=e.target.value;if(this.setState({auraModSearch:t,activeAuraModIndex:0}),t.length<1){this.setState({auraModResults:[]});return}const i=new RegExp(Ra(t),"i"),a=Ca(this.props.availableMods||[],l=>i.test(l)&&!this.state.auraMods.includes(l)).slice(0,10);this.setState({auraModResults:a})}handleModSearchChange(e){const t=e.target.value;if(this.setState({modSearch:t,activeModIndex:0}),t.length<1){this.setState({modResults:[]});return}const i=new RegExp(Ra(t),"i"),a=Ca(this.props.availableMods||[],l=>i.test(l)&&!this.state.mods.includes(l)).slice(0,10);this.setState({modResults:a})}handleArcaneSearchChange(e){const t=e.target.value;if(this.setState({arcaneSearch:t,activeArcaneIndex:0}),t.length<1){this.setState({arcaneResults:[]});return}const i=new RegExp(Ra(t),"i"),a=Ca(this.props.availableArcanes||[],l=>i.test(l)&&!this.state.arcanes.includes(l)).slice(0,10);this.setState({arcaneResults:a})}handleAuraModKeyDown(e){const{auraModResults:t,activeAuraModIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeAuraModIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeAuraModIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddAuraMod(t[i])))}handleModKeyDown(e){const{modResults:t,activeModIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeModIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeModIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddMod(t[i])))}handleArcaneKeyDown(e){const{arcaneResults:t,activeArcaneIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeArcaneIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeArcaneIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddArcane(t[i])))}handleAddAuraMod(e){this.setState(t=>({auraMods:[...t.auraMods,e],auraModSearch:"",auraModResults:[]}))}handleRemoveAuraMod(e){this.setState(t=>({auraMods:t.auraMods.filter(i=>i!==e)}))}handleAddMod(e){this.setState(t=>({mods:[...t.mods,e],modSearch:"",modResults:[]}))}handleRemoveMod(e){this.setState(t=>({mods:t.mods.filter(i=>i!==e)}))}handleAddArcane(e){this.setState(t=>({arcanes:[...t.arcanes,e],arcaneSearch:"",arcaneResults:[]}))}handleRemoveArcane(e){this.setState(t=>({arcanes:t.arcanes.filter(i=>i!==e)}))}handleSave(){this.state.title.trim()&&(this.props.onSave({id:this.props.id||`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,title:this.state.title.trim(),itemName:this.state.itemName.trim(),notes:this.state.notes.trim(),auraMods:this.state.auraMods,mods:this.state.mods,arcanes:this.state.arcanes,category:"builds"}),this.handleClose(),!this.props.id&&!this.props.title&&this.setState({title:"",itemName:"",notes:"",auraMods:[],mods:[],arcanes:[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0}))}handleOpen(){this.setState({modalOpen:!0,title:this.props.title||"",itemName:this.props.itemName||"",notes:this.props.notes||"",auraMods:this.props.auraMods||[],mods:this.props.mods||[],arcanes:this.props.arcanes||[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0})}handleClose(){this.setState({modalOpen:!1})}render(){const{trigger:e}=this.props;return y.jsxs(y.Fragment,{children:[e?Jt.cloneElement(e,{onClick:this.handleOpen}):y.jsx(ad,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left text-gray-900",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.title?y.jsxs(y.Fragment,{children:["Edit Build: ",y.jsx("span",{className:"text-sky-700",children:this.props.title}),this.props.itemName&&y.jsx("a",{href:`https://wiki.warframe.com/w/${this.props.itemName.split(" ").join("_")}`,target:"_blank",rel:"noreferrer",className:"ml-2 text-xs text-gray-400 hover:text-sky-700 font-normal align-middle",children:"(wiki)"})]}):"Add New Build"}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(An,{className:"text-gray-400"})})]}),y.jsx("div",{className:"p-4 grow overflow-y-auto",children:y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"build-title",className:"block text-sm font-bold text-gray-700 mb-1",children:"Build Name"}),y.jsx("input",{id:"build-title",type:"text",autoFocus:!this.props.title,className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",placeholder:"e.g. Speed Run, High Strength",value:this.state.title,onChange:this.handleTitleChange})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"build-item",className:"block text-sm font-bold text-gray-700 mb-1",children:"Item"}),y.jsx("input",{id:"build-item",type:"text",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",placeholder:"e.g. Gauss, Ignis Wraith",value:this.state.itemName,onChange:this.handleItemNameChange})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Aura/Exilus Mods"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.auraMods.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-50 text-cyan-700 text-xs font-bold rounded border border-blue-100 uppercase",children:[t,y.jsx(An,{className:"w-3 h-3 cursor-pointer hover:text-cyan-900",onClick:()=>this.handleRemoveAuraMod(t)})]},i)),this.state.auraMods.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No mods added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search aura/exilus mods to add...",value:this.state.auraModSearch,onChange:this.handleAuraModSearchChange,onKeyDown:this.handleAuraModKeyDown})}),this.state.auraModResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.auraModResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeAuraModIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddAuraMod(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(Go,{className:`text-gray-400 ${i===this.state.activeAuraModIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Mods"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.mods.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-50 text-indigo-700 text-xs font-bold rounded border border-blue-100 uppercase",children:[t,y.jsx(An,{className:"w-3 h-3 cursor-pointer hover:text-indigo-900",onClick:()=>this.handleRemoveMod(t)})]},i)),this.state.mods.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No mods added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search mods to add...",value:this.state.modSearch,onChange:this.handleModSearchChange,onKeyDown:this.handleModKeyDown})}),this.state.modResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.modResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeModIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddMod(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(Go,{className:`text-gray-400 ${i===this.state.activeModIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Arcanes"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.arcanes.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-50 text-purple-700 text-xs font-bold rounded border border-purple-100 uppercase",children:[t,y.jsx(An,{className:"w-3 h-3 cursor-pointer hover:text-purple-900",onClick:()=>this.handleRemoveArcane(t)})]},i)),this.state.arcanes.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No arcanes added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search arcanes to add...",value:this.state.arcaneSearch,onChange:this.handleArcaneSearchChange,onKeyDown:this.handleArcaneKeyDown})}),this.state.arcaneResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.arcaneResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeArcaneIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddArcane(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(Go,{className:`text-gray-400 ${i===this.state.activeArcaneIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"build-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"build-notes",className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none text-sm",value:this.state.notes,onChange:this.handleNotesChange})]})]})}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(pn,{})," ",this.props.title?"Update Build":"Add Build"]})})]})})]})}}const uq=({builds:r,onBuildAdd:e,onBuildRemove:t,onBuildUpdate:i,mods:a,arcanes:l})=>{const c=cb(Ia(r),["itemName","title"]),f=Af(c,v=>v.itemName||"Other"),m=ei(f).sort().map(v=>{const b=f[v]??[],T=`https://wiki.warframe.com/w/${v.split(" ").join("_")}`;return y.jsxs(Jt.Fragment,{children:[y.jsx("tr",{className:"bg-gray-50 border-t border-b border-gray-100",children:y.jsx("td",{colSpan:3,className:"py-1.5 px-3 font-bold text-gray-700 text-[10px] uppercase tracking-wider",children:v!=="Other"?y.jsx("a",{href:T,target:"_blank",rel:"noreferrer",className:"hover:underline",children:v}):v})}),b.map((S,O)=>{const M=S.id||S.title;return y.jsxs("tr",{className:"border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-4 align-top",children:y.jsx("div",{className:"flex flex-col",children:y.jsx(qR,{id:S.id,title:S.title,itemName:S.itemName,notes:S.notes,auraMods:S.auraMods,mods:S.mods,arcanes:S.arcanes,availableMods:a,availableArcanes:l,onSave:k=>i(M,k),trigger:y.jsx("span",{className:"text-sky-700 font-bold hover:underline cursor-pointer",children:S.title})})})}),y.jsx("td",{className:"py-1 px-2 align-top",children:y.jsxs("div",{className:"flex flex-col gap-1",children:[S.auraMods&&S.auraMods.length>0&&y.jsx("div",{className:"grid grid-cols-4 gap-1",children:[...S.auraMods||[]].map((k,B)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-cyan-800 text-[10px] font-bold rounded border border-blue-100 uppercase truncate",title:k,children:k},B))}),S.mods&&S.mods.length>0&&y.jsx("div",{className:"grid grid-cols-4 gap-1",children:[...S.mods||[]].map((k,B)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-indigo-800 text-[10px] font-bold rounded border border-blue-100 uppercase truncate",title:k,children:k},B))}),S.arcanes&&S.arcanes.length>0&&y.jsx("div",{className:"flex flex-wrap gap-1",children:S.arcanes.map((k,B)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-purple-50 text-yellow-700 text-[10px] font-bold rounded border border-purple-100 uppercase",children:k},B))}),S.notes&&y.jsx("div",{className:"text-gray-500 italic text-sm",children:hb(S.notes)})]})}),y.jsx("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1 align-top",children:y.jsx(An,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:()=>{window.confirm(`Are you sure you want to delete the build "${S.title}"?`)&&t(M)}})})]},`${M}-${O}`)})]},v)});return y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"flex justify-end",children:y.jsx(qR,{availableMods:a,availableArcanes:l,onSave:e,trigger:y.jsx("button",{className:"px-4 py-2 bg-black text-white rounded-md font-bold text-sm",children:"Add Build"})})}),c.length>0?y.jsx("div",{className:"overflow-hidden",children:y.jsx("table",{className:"w-full border-collapse bg-white",children:y.jsx("tbody",{children:m})})}):y.jsx("div",{className:"py-10 text-center text-gray-400 italic",children:'No builds added yet. Click "Add Build" to start.'})]})},cq={red:{icon:"text-red-600"},orange:{icon:"text-orange-500"},yellow:{icon:"text-yellow-500"},olive:{icon:"text-lime-600"},green:{icon:"text-green-500"},teal:{icon:"text-teal-500"},blue:{icon:"text-sky-700"},violet:{icon:"text-violet-600"},purple:{icon:"text-purple-600"},pink:{icon:"text-pink-500"},bronze:{icon:"text-yellow-900"},grey:{icon:"text-slate-700"},black:{icon:"text-gray-900"}},zR=["red","olive","yellow","green","teal","blue","orange","violet","purple","pink","bronze","grey","black"],BR={"/Lotus/Types/Recipes/Weapons/WeaponParts/GrineerCombatKnifeHeatsink":"Sheev Heatsink","/Lotus/Types/Recipes/Weapons/WeaponParts/GrineerCombatKnifeHilt":"Sheev Hilt","/Lotus/Types/Recipes/Weapons/WeaponParts/GrineerCombatKnifeBlade":"Sheev Blade","/Lotus/Types/Recipes/Weapons/SnipetronVandalBlueprint":"Snipetron Vandal Blueprint","/Lotus/Types/Recipes/Weapons/WeaponParts/SnipetronVandalBarrel":"Snipetron Vandal Barrel","/Lotus/Types/Recipes/Weapons/WeaponParts/SnipetronVandalReceiver":"Snipetron Vandal Receiver","/Lotus/Types/Recipes/Weapons/WeaponParts/SnipetronVandalStock":"Snipetron Vandal Stock","/Lotus/Types/Recipes/Weapons/LatronWraithBlueprint":"Latron Wraith Blueprint","/Lotus/Types/Recipes/Weapons/WeaponParts/LatronWraithBarrel":"Latron Wraith Barrel","/Lotus/Types/Recipes/Weapons/WeaponParts/LatronWraithReceiver":"Latron Wraith Receiver","/Lotus/Types/Recipes/Weapons/WeaponParts/LatronWraithStock":"Latron Wraith Stock","/Lotus/Types/Recipes/Weapons/StrunWraithBlueprint":"Strun Wraith Blueprint","/Lotus/Types/Recipes/Weapons/WeaponParts/StrunWraithBarrel":"Strun Wraith Barrel","/Lotus/Types/Recipes/Weapons/WeaponParts/StrunWraithReceiver":"Strun Wraith Receiver","/Lotus/Types/Recipes/Weapons/WeaponParts/StrunWraithStock":"Strun Wraith Stock","/Lotus/Types/Recipes/Weapons/KarakWraithBlueprint":"Karak Wraith Blueprint","/Lotus/Types/Recipes/Weapons/WeaponParts/KarakWraithBarrel":"Karak Wraith Barrel","/Lotus/Types/Recipes/Weapons/WeaponParts/KarakWraithReceiver":"Karak Wraith Receiver","/Lotus/Types/Recipes/Weapons/WeaponParts/KarakWraithStock":"Karak Wraith Stock","/Lotus/Types/Recipes/Weapons/TwinVipersWraithBlueprint":"Twin Vipers Wraith Blueprint","/Lotus/Types/Recipes/Weapons/WeaponParts/TwinVipersWraithBarrel":"Twin Vipers Wraith Barrel","/Lotus/Types/Recipes/Weapons/WeaponParts/TwinVipersWraithReceiver":"Twin Vipers Wraith Receiver","/Lotus/Types/Recipes/Weapons/WeaponParts/TwinVipersWraithLink":"Twin Vipers Wraith Link","/Lotus/Types/Recipes/Weapons/DeraVandalBlueprint":"Dera Vandal Blueprint","/Lotus/Types/Recipes/Weapons/WeaponParts/DeraVandalBarrel":"Dera Vandal Barrel","/Lotus/Types/Recipes/Weapons/WeaponParts/DeraVandalReceiver":"Dera Vandal Receiver","/Lotus/Types/Recipes/Weapons/WeaponParts/DeraVandalStock":"Dera Vandal Stock","/Lotus/Types/Items/Research/ChemComponent":"Detonite Injector","/Lotus/Types/Items/Research/EnergyComponent":"Fieldron","/Lotus/Types/Items/Research/BioComponent":"Mutagen Mass","/Lotus/Types/Items/MiscItems/InfestedAladCoordinate":"Mutalist Alad V Nav Coordinate","/Lotus/Types/Items/MiscItems/ZanukaCaptureTarget":"Zanuka Hunter Nav Coordinate"},hq=r=>typeof r=="string"||r instanceof String,Gh=r=>typeof r=="object"&&r!==null;class fq extends Jt.Component{constructor(e){super(e),this.state={invasions:[],invasionsLoading:!0,invasionsError:null}}componentDidMount(){this.fetchInvasions()}async fetchInvasions(){try{const e=await window.fetch("https://oracle.browse.wf/worldState.json");if(!e.ok)throw new Error("Failed to fetch invasions");const t=await e.json(),i=t&&typeof t=="object"&&"Invasions"in t?t.Invasions??[]:[];i.sort((a,l)=>{const c=parseInt(a.Activation?.$date?.$numberLong||"0");return parseInt(l.Activation?.$date?.$numberLong||"0")-c}),this.setState({invasions:i,invasionsLoading:!1})}catch(e){this.setState({invasionsError:e instanceof Error?e.message:"Failed to load invasions",invasionsLoading:!1})}}handleInvasionItemClick(e){return t=>{this.props.onItemClick(`invasions.${e}`),t.stopPropagation()}}isInvasionItemChecked(e){if(!this.props.checkedInCategory)return!1;const t=`invasions.${e}`;return Object.prototype.hasOwnProperty.call(this.props.checkedInCategory,t)}renderItems(e,t,i){return y.jsx("ul",{className:"list-none p-0 m-0",children:e.map((a,l)=>this.renderItem(a,l,t,i))})}buildItemMap(e,t=new Map){return!e||!e.length||e.forEach(i=>{Gh(i)&&(i.title&&!t.has(i.title)&&t.set(i.title,i),i.key&&!t.has(i.key)&&t.set(i.key,i),i.items&&i.items.length&&this.buildItemMap(i.items,t))}),t}handleItemClick(e){return t=>{const i=Gh(e)?e.key||e.title:e;i&&(this.props.onItemClick(i),t.stopPropagation())}}handleClearClick(e){return t=>{const i=e.map(a=>Gh(a)?a.key||a.title:a).filter(a=>!!a);this.props.onClear(i),t.stopPropagation()}}renderLocation(e){return!e||!e.length||e===""?null:(Array.isArray(e)?e:[e]).map((i,a)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:i},a))}formatDuration(e){const t=Math.max(0,Math.floor(e/6e4)),i=t%60,a=Math.floor(t/60),l=a%24,c=Math.floor(a/24),f=[];return c&&f.push(`${c}d`),(l||c)&&f.push(`${l}h`),f.push(`${i}m`),f.join(" ")}getResetCountdown(e){if(!e||e.scheduleType)return null;const t=e.scheduleAnchorUtc||e.scheduleAnchor;if(!t||!e.interval)return null;const i=new Date(t);if(Number.isNaN(i.getTime()))return null;const a=this.parseInterval(e.interval);if(!a)return null;const l=new Date;if(l<i)return`Resets in ${this.formatDuration(i.getTime()-l.getTime())}`;const f=(l.getTime()-i.getTime())%a,p=a-f;return`Resets in ${this.formatDuration(p)}`}formatDurationVerbose(e){const t=Math.max(0,Math.floor(e/1e3)),i=t%60,a=Math.floor(t/60),l=a%60,c=Math.floor(a/60),f=c%24,p=Math.floor(c/24),m=[];return p&&m.push(`${p} ${p===1?"day":"days"}`),(f||p)&&m.push(`${f} ${f===1?"hour":"hours"}`),(l||f||p)&&m.push(`${l} ${l===1?"minute":"minutes"}`),m.push(`${i} ${i===1?"second":"seconds"}`),m.join(" ")}getScheduleInfo(e){if(!e||!e.scheduleType)return null;const t=e.scheduleAnchorUtc||e.scheduleAnchor;if(!t)return null;const i=new Date(t);if(Number.isNaN(i.getTime()))return null;const a=new Date;if(e.scheduleType==="availability-window"){const l=this.parseInterval(e.interval),c=this.parseInterval(e.duration||"48h");if(!l||!c)return null;if(a<i){const m=i.getTime()-a.getTime();return{statusText:`Will appear in ${this.formatDuration(m)}`,isPresent:!1}}const f=(a.getTime()-i.getTime())%l;if(f<c){const m=c-f;return{statusText:`Present for the next ${this.formatDuration(m)}`,isPresent:!0}}const p=l-f;return{statusText:`Will appear in ${this.formatDuration(p)}`,isPresent:!1}}if(e.scheduleType==="rotation"){const l=this.parseInterval(e.interval);if(!l||!e.rotations||!e.rotations.length)return null;if(a<i){const S=i.getTime()-a.getTime(),O=e.rotations.length,M=e.rotations[O-1];return{statusText:`${M?.title||"Rotation"}. Time left until ${e.rotations[0]?.title||"next rotation"}: ${this.formatDurationVerbose(S)}`,currentRotation:M}}const c=a.getTime()-i.getTime(),f=e.rotations.length,p=Math.floor(c/l)%f,m=e.rotations[p],v=e.rotations[(p+1)%f],T=i.getTime()+(Math.floor(c/l)+1)*l-a.getTime();return{statusText:`${m?.title||"Rotation"}. Time left until ${v?.title||"next rotation"}: ${this.formatDurationVerbose(T)}`,currentRotation:m}}return null}parseInterval(e){if(!e)return null;if(typeof e=="number")return e;const t=String(e).trim().match(/^(\d+)\s*(ms|s|m|h|d|w)$/i);if(!t)return null;const i=Number(t[1]),a=t?.[2]?.toLowerCase();if(!a)return null;switch(a){case"ms":return i;case"s":return i*1e3;case"m":return i*60*1e3;case"h":return i*60*60*1e3;case"d":return i*24*60*60*1e3;case"w":return i*7*24*60*60*1e3;default:return null}}getScheduleStatus(e){const t=this.getScheduleInfo(e);return t?t.statusText:null}isScheduleReadOnly(e){const t=this.getScheduleInfo(e);return t?t.isPresent===!1:!1}getCompletedIfIdentifiers(e){return!e||!e.completedIf?[]:Array.isArray(e.completedIf)?e.completedIf:[e.completedIf]}isItemCompleted(e,t,i=new Set){if(!e)return!1;if(e.checked)return!0;const a=this.getCompletedIfIdentifiers(e);if(!a.length||i.has(e))return!1;i.add(e);const l=a.some(c=>{const f=t.get(c);return f?this.isItemCompleted(f,t,i):!1});return i.delete(e),l}isCompletedByDependencies(e,t){const i=this.getCompletedIfIdentifiers(e);return i.length?i.some(a=>{const l=t.get(a);return l?this.isItemCompleted(l,t,new Set([e])):!1}):!1}renderItem(e,t,i,a){if(!e)return null;const l=Gh(e)?e:null;if(l?.hidden)return null;const c=l?.readOnly,f=l?this.isCompletedByDependencies(l,a):!1,p=!!(l?.checked||f);if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(e).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const m=this.props.visibilityFilter===Pt.SHOW_ACTIVE&&p,v=hq(e)?e:l?.title,b=!!l?.items,T=p?"text-green-500":"text-gray-400",S=l?.tags?l.tags.map((Y,ae)=>Y==="missable"?y.jsx("span",{title:Y,className:"text-red-600 ml-1 inline-block font-normal",children:y.jsx(id,{})},ae):null):null,O=l?.hint?y.jsxs("span",{className:"opacity-40 text-sm italic font-normal",children:[" ",l.hint]}):null,M=l?this.getScheduleStatus(l):null,k=l?this.getResetCountdown(l):null,B=l?this.isScheduleReadOnly(l):!1,z=!l?.items&&!(c||i||f||B);return y.jsx("li",{className:`py-0.5 rounded-sm ${b?"mt-1.5":""}`,children:y.jsxs("div",{className:"flex items-start",children:[!(c||i||B)&&y.jsx("div",{className:`mr-1 shrink-0 flex items-center h-[1.35em] ${T} ${z?"cursor-pointer":""} ${m?"opacity-40":""}`,onClick:z?this.handleItemClick(e):void 0,children:l?.items?p?y.jsx(pn,{}):y.jsx(eb,{}):p?y.jsx(pn,{}):y.jsx(rd,{})}),y.jsxs("div",{className:"grow",children:[y.jsxs("div",{className:"leading-tight",children:[l?.items&&l.readOnly?y.jsxs("span",{className:`underline font-bold text-gray-900 text-base ${m?"opacity-40":""}`,children:[v,O,S]}):i?y.jsxs("span",{className:`font-normal text-gray-700 text-sm ${m?"opacity-40":""}`,children:[v,O,S]}):y.jsxs("span",{className:`font-bold text-gray-900 text-base ${m?"opacity-40":""}`,children:[v,O,S]}),l?.url?y.jsx("a",{href:l.url,title:"wiki",className:"ml-1 text-gray-500 opacity-70 hover:opacity-100 inline-block",target:"_blank",rel:"noopener noreferrer",onClick:Y=>Y.stopPropagation(),children:y.jsx(ja,{})}):null,l?.isVaulted?y.jsx("span",{title:"Vaulted",className:"ml-1 text-gray-500 inline-block",children:y.jsx(sd,{})}):null,l?.partOf?y.jsx("span",{title:`Part of ${l.partOf.join(", ")}`,className:"ml-1 text-gray-500 inline-block",children:y.jsx(lc,{})}):null,l?.items&&l.props&&l.props.includes("clearable")?y.jsx("span",{title:"Clear",className:"ml-1 text-red-600 opacity-70 hover:opacity-100 cursor-pointer inline-block",onClick:this.handleClearClick(l.items),children:y.jsx(tb,{})}):null]}),l?.description?Array.isArray(l.description)?l.description.map((Y,ae)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:Y},ae)):y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:l.description}):null,k?y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:k}):null,M?y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:M}):null,this.renderLocation(l?.location),l?.items&&l.items.length?y.jsx("div",{className:"ml-2",children:this.renderItems(l.items,c,a)}):null]})]})},t)}render(){if(!this.props.items||!this.props.items.length)return y.jsx("div",{className:"text-gray-500 italic",children:"No items"});const e=this.buildItemMap(this.props.items);return y.jsxs("div",{className:"mb-4",children:[this.renderItems(this.props.items,void 0,e),y.jsxs("div",{className:"relative flex items-center mb-4 mt-4",children:[y.jsx("div",{className:"grow border-t border-gray-200"}),y.jsxs("span",{className:"shrink mx-4 text-gray-400 text-sm font-bold uppercase tracking-widest leading-none",children:["Invasions",y.jsx("a",{href:"https://browse.wf/live",title:"wiki",className:"ml-1 text-gray-500 opacity-70 hover:opacity-100 inline-block",target:"_blank",rel:"noopener noreferrer",onClick:t=>t.stopPropagation(),children:y.jsx(ja,{})})]}),y.jsx("div",{className:"grow border-t border-gray-200"})]}),y.jsxs("div",{children:[this.state.invasionsLoading&&y.jsx("div",{className:"text-gray-500 italic",children:"Loading invasions..."}),this.state.invasionsError&&y.jsxs("div",{className:"text-red-600",children:["Error: ",this.state.invasionsError]}),!this.state.invasionsLoading&&!this.state.invasionsError&&this.state.invasions.length===0&&y.jsx("div",{className:"text-gray-500 italic",children:"No active invasions"}),!this.state.invasionsLoading&&!this.state.invasionsError&&this.state.invasions.length>0&&y.jsx("ul",{className:"list-none p-0 m-0",children:(()=>{const t=[],i=[];this.state.invasions.forEach((l,c)=>{const f=l._id?.$oid||`invasion-${c}`,p=l.Activation?.$date?.$numberLong;let m="";p&&(m=new Date(parseInt(p)).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})),l.AttackerReward?.countedItems&&l.AttackerReward.countedItems.forEach(v=>{const b=BR[v.ItemType]||v.ItemType.split("/").pop();if(!b)return;const T=b;i.push({id:`${f}-attacker`,invasionId:f,name:T,count:v.ItemCount,displayText:`${v.ItemCount}x ${T}`,date:m})}),l.DefenderReward?.countedItems&&l.DefenderReward.countedItems.forEach(v=>{const b=BR[v.ItemType]||v.ItemType.split("/").pop();if(!b)return;const T=b;i.push({id:`${f}-defender`,invasionId:f,name:T,count:v.ItemCount,displayText:`${v.ItemCount}x ${T}`,date:m})}),t.includes(f)||t.push(f)});const a=new Set;return i.map(l=>{const c=this.isInvasionItemChecked(l.name),f=t.indexOf(l.invasionId),p=zR[f%zR.length],m=p?cq[p]:void 0,v=m?m.icon:"text-gray-400",b=!a.has(l.invasionId);return b&&a.add(l.invasionId),y.jsx("li",{className:"py-0.5 rounded-sm",children:y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:`mr-1 shrink-0 flex items-center justify-center h-[1.35em] w-[1.35em] cursor-pointer ${b?v:""}`,onClick:this.handleInvasionItemClick(l.name),children:b&&y.jsx(hN,{className:"text-xs align-middle"})}),y.jsx("div",{className:"grow",children:y.jsxs("div",{className:"leading-tight",children:[y.jsx("span",{className:`font-bold text-gray-900 text-base ${c?"line-through opacity-40":""}`,children:l.displayText}),l.date&&y.jsx("span",{className:"ml-2 text-gray-600 opacity-60 text-sm font-normal",children:l.date})]})})]})},l.id)})})()})]})]})}}class dq extends Jt.Component{handleItemClick(e){return t=>{this.props.onItemClick(e),t.stopPropagation()}}renderBody(){const e=this.props.items.map((t,i)=>{const a=this.props.visibilityFilter===Pt.SHOW_ACTIVE&&t.checked;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(t).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const l=t.Tier?t.Tier[4]:null;return y.jsxs("tr",{className:`${t.checked?"bg-green-50":""} ${a?"opacity-30":""} border-b border-gray-100 last:border-0`,children:[y.jsx("td",{className:"py-1 px-3 align-middle text-gray-900",children:y.jsx("div",{className:"flex items-center gap-1.5",children:y.jsx("span",{className:"text-base leading-tight",children:t.title})})}),y.jsx("td",{className:"py-1 px-2 align-middle",children:y.jsxs("div",{className:"flex items-center gap-2",children:[t.crafting?y.jsx(lc,{className:"text-gray-400"}):null,t.canAppearInChest?y.jsx(c9,{className:"text-gray-400"}):null]})}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Popular)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Popular + Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Popular)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Popular + Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm text-center",children:l}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t.Culture})]},i)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:e})}render(){return y.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:y.jsxs("table",{className:"w-full border-collapse bg-white",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-3 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Name"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Props"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (P)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (P+R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (P)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (P+R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Tier"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Culture"})]})}),this.renderBody()]})})}}class pq extends Jt.Component{formatWorkshopReason(e){const t=e.filter(l=>l!=="Workshop"),i={1:"I",2:"II",3:"III",4:"IV",5:"V"};return t.map(l=>{const c=l.match(/^(?:Level )?(\d+)(?:\s+-\s+.+)?$/);if(c?.[1]){const f=parseInt(c[1],10);return i[f]||l}return l}).join(" ")}formatProjectReason(e){return e.filter(i=>i!=="Goals").map(i=>i.startsWith("Project: ")?i.substring(9):i).filter(i=>!i.match(/^.+\s+\d+\/\d+$/)).join(" ")}extractNeededItems(){const e=[],t={};if(this.props.goalsItems&&this.props.goalsChecked){const i=(a,l=[])=>{!a||!Array.isArray(a)||a.forEach(c=>{if(!c.title)return;const f=[...l,c.title];if(c.key&&!Object.prototype.hasOwnProperty.call(this.props.goalsChecked||{},c.key)){const m=c.title.match(/^(\d+)x\s+(.+)$/),v=m?.[1]?parseInt(m[1],10):1,b=m?.[2]||c.title||"";if(!b)return;e.push({title:b,quantity:v,url:c.url,key:c.key}),t[b]||(t[b]={workshop:[],projects:[],quests:[]});const T=l[0],S=f.slice(0,-1);if(T==="Workshop"){const O=this.formatWorkshopReason(S),M=`${v}x ${O}`;t[b].workshop.push(M)}else if(T&&T.startsWith("Project:")){const O=this.formatProjectReason(S),M=`${v}x ${O}`;t[b].projects.push(M)}}c.items&&i(c.items,f)})};this.props.goalsItems.forEach(a=>{a.items&&i(a.items,[a.title])})}return this.props.questsItems&&this.props.questsChecked&&this.props.questsItems.forEach(i=>{const a=i.title;if(!a)return;!Object.prototype.hasOwnProperty.call(this.props.questsChecked||{},a)&&Array.isArray(i.required_items)&&i.required_items.forEach(c=>{if(c.title){const f=c.quantity||1;e.push({title:c.title,quantity:f,url:c.url});const p=c.title;t[p]||(t[p]={workshop:[],projects:[],quests:[]});const m=`${f}x ${i.title??"Quest"}`;t[p].quests.push(m)}})}),{neededItems:e,itemReasons:t}}handleKeepCheckbox(e){return()=>{const t=`resource-${e}`;this.props.onItemClick(t)}}getRarityClass(e){if(!e)return"border-gray-500";switch(e.toLowerCase()){case"common":return"border-gray-500";case"uncommon":return"border-green-500";case"rare":return"border-blue-600";case"epic":return"border-purple-600";case"legendary":return"border-orange-500";default:return"border-gray-500"}}renderCellValue(e){return Array.isArray(e)?y.jsx("ul",{className:"list-none m-0 p-0",children:e.map((t,i)=>y.jsx("li",{className:"leading-tight mb-0.5 last:mb-0",children:t},i))}):e}renderBody(){const{neededItems:e,itemReasons:t}=this.extractNeededItems(),i=new Map;e.forEach(c=>{const f=i.get(c.title)||0;i.set(c.title,f+c.quantity)});const l=[...this.props.items].sort((c,f)=>{const p=c.title||"",m=f.title||"",v=`resource-${p}`,b=`resource-${m}`,T=Object.prototype.hasOwnProperty.call(this.props.checkedList,v),S=Object.prototype.hasOwnProperty.call(this.props.checkedList,b),O=i.has(p),M=i.has(m);if(T&&!S)return-1;if(!T&&S)return 1;if(!T&&!S){if(O&&!M)return-1;if(!O&&M)return 1}return p.localeCompare(m)}).map((c,f)=>{if(!c.title)return null;const p=this.props.visibilityFilter===Pt.SHOW_ACTIVE&&c.checked;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(c).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const m=this.getRarityClass(c.rarity),v=`resource-${c.title}`,b=Object.prototype.hasOwnProperty.call(this.props.checkedList,v),T=p?"opacity-30":"",S=c.icon?y.jsx("img",{src:c.icon,alt:c.title,className:"w-12 h-12 mx-auto object-contain"}):null,O=i.get(c.title)||null,M=t[c.title]||{workshop:[],projects:[],quests:[]},k=M.workshop.length>0?M.workshop:null,B=M.quests.length>0?M.quests:null,z=M.projects.length>0?M.projects:null;return y.jsxs("tr",{className:`${c.checked?"bg-green-50":""} ${T} hover:bg-black/[0.01] transition-colors border-b border-gray-100 last:border-0`,children:[y.jsx("td",{className:`py-1 px-2 text-center align-middle cursor-pointer ${b?"bg-green-500/10":""}`,onClick:this.handleKeepCheckbox(c.title),children:y.jsx("div",{className:`w-4 h-4 mx-auto border rounded-[2px] flex items-center justify-center ${b?"bg-green-500 border-green-500":"bg-white border-gray-300"}`,children:b&&y.jsx(pn,{className:"text-[10px] text-white"})})}),y.jsx("td",{className:"py-1 px-2 align-middle text-center",children:y.jsx("div",{className:"w-12 h-12 flex items-center justify-center mx-auto",children:c.url?y.jsx("a",{href:c.url,title:"wiki",target:"_blank",rel:"noopener noreferrer",className:"block w-full h-full",children:S}):S})}),y.jsx("td",{className:`py-1 px-3 align-middle font-bold text-gray-900 border-l-4 ${m}`,children:y.jsxs("div",{className:"flex items-center gap-1.5",children:[c.checked&&y.jsx(pn,{className:"text-green-500 shrink-0"}),y.jsx("span",{className:"text-base leading-tight",children:c.title})]})}),y.jsx("td",{className:`py-1 px-2 text-center align-middle font-bold text-sm ${O?"bg-orange-400/10 text-orange-700":"text-gray-400"}`,children:O||""}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.recycles)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.sell_price)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(k)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(B)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(z)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.keep_for_crafting)})]},f)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:l})}render(){return y.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:y.jsxs("table",{className:"w-full border-collapse bg-white",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Keep"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Icon"}),y.jsx("th",{className:"py-2 px-3 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Name"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Needed"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Recycles"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Sell Price"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Workshop"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Quests"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Projects"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Crafting"})]})}),this.renderBody()]})})}}var Zv,FR;function mq(){if(FR)return Zv;FR=1;var r=Object.prototype,e=r.hasOwnProperty;function t(i,a){return i!=null&&e.call(i,a)}return Zv=t,Zv}var e_,HR;function gq(){if(HR)return e_;HR=1;var r=mq(),e=xN();function t(i,a){return i!=null&&e(i,a,r)}return e_=t,e_}var yq=gq();const Vu=tn(yq);var t_,GR;function vq(){if(GR)return t_;GR=1;var r=od(),e=ub(),t=U0(),i=gn();function a(){var l=arguments.length;if(!l)return[];for(var c=Array(l-1),f=arguments[0],p=l;p--;)c[p-1]=arguments[p];return r(i(f)?t(f):[f],e(c,1))}return t_=a,t_}var _q=vq();const bq=tn(_q);class Eq extends Jt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",modalOpen:!1},this.handleChange=this.handleChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target instanceof HTMLElement&&e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target instanceof HTMLElement&&e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleChange(e){this.setState({notes:e.target.value})}handleSave(){this.props.onSave(this.state.notes.trim()),this.handleClose()}handleOpen(){this.setState({modalOpen:!0})}handleClose(){this.setState({modalOpen:!1})}renderPlaces(){return this.props.places?y.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 mb-4 space-y-1",children:lb(this.props.places,["zone","area"]).map((e,t)=>y.jsx("li",{children:[e.zone,e.name].filter(i=>!!i).join(" - ")},t))}):null}render(){return y.jsxs(y.Fragment,{children:[y.jsx(ad,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(An,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto flex flex-col",children:[this.renderPlaces(),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"ffxiv-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"ffxiv-notes",autoFocus:!0,className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleChange})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(pn,{})," Save"]})})]})})]})}}const xq={red:"text-red-600",orange:"text-orange-500",yellow:"text-yellow-500",olive:"text-lime-600",green:"text-green-500",teal:"text-teal-500",blue:"text-sky-700",violet:"text-violet-600",purple:"text-purple-600",pink:"text-pink-500",brown:"text-amber-700",grey:"text-gray-500",black:"text-gray-900"},$R=["red","olive","yellow","green","teal","blue","orange","violet","purple","pink","brown","grey","black"],Tu={isLoading:!1,results:[],value:""};class Tq extends Jt.Component{debouncedSearch;constructor(e){super(e),this.state=Tu,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=hd(this.performSearch,300)}handleResultSelect(e){this.debouncedSearch.cancel(),this.props.onItemAdd(e),this.setState(Tu)}handleKeyPress(e){e.key==="Enter"&&this.state.value&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:this.state.value}),this.setState(Tu))}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return t=>{this.props.onItemUpdate(e,t)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t}),t.length<1){this.setState(Tu);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(Tu);return}const t=new RegExp(Ra(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:Ca(this.props.items,i)})}formatPlaces(e,t=!1){return!e||!e.length?null:t?e.slice(0,1).map(i=>[i.zone,i.name].filter(a=>!!a).join(" - ")):e.map(i=>[i.zone,i.name].filter(a=>!!a).join(" - ")).join(" /// ")}resultRenderer({title:e,places:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:this.formatPlaces(t)})]},"content")}renderTypeIcon(e){switch(e.type){case"e":return y.jsx(E9,{className:"text-red-600 text-xs align-middle mr-1",title:"Enemy"});case"m":return y.jsx(hA,{className:"text-yellow-500 text-xs align-middle mr-1",title:"Mining"});case"q":return y.jsx(hA,{className:"text-yellow-500 text-xs align-middle mr-1 opacity-50",title:"Quarrying"});case"l":return y.jsx(x9,{className:"text-green-500 text-xs align-middle mr-1",title:"Logging"});case"h":return y.jsx(T9,{className:"text-green-500 text-xs align-middle mr-1",title:"Harvesting"});case"f":return y.jsx(w9,{className:"text-sky-700 text-xs align-middle mr-1",title:"Fish"});default:return null}}renderTable(){const e=Ia(this.props.todoItems);if(!e.length)return null;const t=[];e.forEach(c=>{const f=Vu(c,"places.0.zone")?Ii(c,"places.0.zone"):c.notes;t.includes(f)||t.push(f)});let i=[];const a=Af(e,"places.0.area");ei(a).sort().forEach(c=>{const f=a[c],p=Af(f,"places.0.zone");ei(p).sort().forEach(m=>{const v=p[m];i=bq(i,lb(v,"places.0.name"))})});const l=i.map(c=>{let f=c.title;const p=Vu(c,"places.0.zone")?Ii(c,"places.0.zone"):c.notes,m=t.indexOf(p),v=$R[(m>=0?m:0)%$R.length]??"grey",b=xq[v]||"text-gray-400",T=y.jsx(S9,{className:`${b} align-middle mr-1`});c.count&&(f=`${f} x${c.count}`);const S=`https://ffxiv.gamerescape.com/wiki/${c.title.split(" ").join("_")}`;let O;return c.places&&c.notes&&c.notes!==""?O=y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[T,this.formatPlaces(c.places,!0)]}),y.jsx("div",{className:"text-gray-500 text-xs italic",children:c.notes})]}):c.places?O=y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[T,this.formatPlaces(c.places,!0)]}):O=y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[T,c.notes]}),y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"shrink-0",children:this.renderTypeIcon(c)}),y.jsxs("div",{className:"ml-1",children:[y.jsx("a",{href:S,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline font-bold leading-tight block",children:f}),O]})]})}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1 align-top",children:[y.jsx(Eq,{title:c.title,places:c.places,notes:c.notes,onSave:this.handleItemUpdate(c.title)}),y.jsx(Go,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(c.title)}),y.jsx(rb,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(c.title)}),y.jsx(An,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(c.title)})]})]},f)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:l})})}render(){const{isLoading:e,value:t,results:i}=this.state;return y.jsxs("div",{children:[ei(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(uc,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item or enemy name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyPress:this.handleKeyPress}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Ms,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((a,l)=>y.jsx("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-0",onClick:()=>this.handleResultSelect(a),children:this.resultRenderer(a)},l))})]}),this.renderTable()]})}}class Sq extends Jt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",count:this.props.count||0,modalOpen:!1},this.handleNotesChange=this.handleNotesChange.bind(this),this.handleCountChange=this.handleCountChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target instanceof HTMLElement&&e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target instanceof HTMLElement&&e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleNotesChange(e){this.setState({notes:e.target.value})}handleCountChange(e){const t=e.target.value;if(t===""||t===void 0)this.setState({count:0});else{const i=parseInt(t,10);!isNaN(i)&&i>=0&&this.setState({count:i})}}handleSave(){this.props.onSave(this.state.notes.trim(),this.state.count),this.handleClose()}handleOpen(){this.setState({modalOpen:!0,notes:this.props.notes||"",count:this.props.count||0})}handleClose(){this.setState({modalOpen:!1})}render(){return y.jsxs(y.Fragment,{children:[y.jsx(ad,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.url?y.jsx("a",{href:this.props.url,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:this.props.title}):this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(An,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto",children:[this.props.category&&y.jsxs("p",{className:"mb-4 text-sm",children:[y.jsx("strong",{children:"Category:"})," ",this.props.category]}),y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"todo-count",className:"block text-sm font-bold text-gray-700 mb-1",children:"Count"}),y.jsx("input",{id:"todo-count",type:"number",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",value:this.state.count,onChange:this.handleCountChange,min:"0"})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"todo-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"todo-notes",autoFocus:!0,className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleNotesChange})]})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(pn,{})," Save"]})})]})})]})}}const Su={isLoading:!1,results:[],value:"",activeIndex:0},KR="https://wiki.avakot.org/";class wq extends Jt.Component{debouncedSearch;constructor(e){super(e),this.state=Su,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=hd(this.performSearch,300)}handleResultSelect(e){this.debouncedSearch.cancel(),this.props.onItemAdd(e),this.setState(Su)}handleKeyDown(e){const{results:t,activeIndex:i,value:a}=this.state;if(e.key==="ArrowDown"&&t.length){e.preventDefault(),this.setState({activeIndex:(i+1)%t.length});return}if(e.key==="ArrowUp"&&t.length){e.preventDefault(),this.setState({activeIndex:(i-1+t.length)%t.length});return}if(e.key==="Enter"){if(t.length&&t[i]){e.preventDefault(),this.handleResultSelect(t[i]);return}a&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:a}),this.setState(Su))}}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return(t,i)=>{this.props.onItemUpdate(e,t,i)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t,activeIndex:0}),t.length<1){this.setState(Su);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(Su);return}const t=new RegExp(Ra(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:Ca(this.props.items,i),activeIndex:0})}resultRenderer({title:e,category:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:t})]},"content")}renderTable(){const e=cb(Ia(this.props.todoItems),["category","title"]);if(!e.length)return null;const t=e.map((i,a)=>{let l=i.title;i.count&&(l=`${l} x${i.count}`);const c=i.url||(i.title?`${KR}${encodeURIComponent(i.title.replace(/\s+/g,"_"))}`:KR);return y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsx("a",{href:c,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:l})}),y.jsx("td",{className:"py-1 px-2 text-gray-500",children:i.category}),y.jsx("td",{className:"py-1 px-2 text-gray-500 italic text-sm",children:hb(i.notes)}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1",children:[y.jsx(Sq,{title:i.title,category:i.category,url:i.url,notes:i.notes,count:i.count,onSave:this.handleItemUpdate(i.title)}),y.jsx(Go,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(i.title)}),y.jsx(rb,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(i.title)}),y.jsx(An,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(i.title)})]})]},`${i.category||""}-${i.title}-${a}`)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:t})})}render(){const{isLoading:e,value:t,results:i,activeIndex:a}=this.state;return y.jsxs("div",{children:[ei(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(uc,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyDown:this.handleKeyDown}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Ms,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((l,c)=>y.jsx("div",{className:`px-3 py-2 cursor-pointer border-b border-gray-100 last:border-0 ${c===a?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleResultSelect(l),children:this.resultRenderer(l)},c))})]}),this.renderTable()]})}}var n_,YR;function Aq(){if(YR)return n_;YR=1;var r=Ua(),e=gn(),t=oi(),i="[object String]";function a(l){return typeof l=="string"||!e(l)&&t(l)&&r(l)==i}return n_=a,n_}var Rq=Aq();const Lo=tn(Rq);var r_,WR;function Cq(){if(WR)return r_;WR=1;var r=G0(),e=hc(),t=Zf(),i=cr(),a=fl();function l(c,f,p,m){if(!i(c))return c;f=e(f,c);for(var v=-1,b=f.length,T=b-1,S=c;S!=null&&++v<b;){var O=a(f[v]),M=p;if(O==="__proto__"||O==="constructor"||O==="prototype")return c;if(v!=T){var k=S[O];M=m?m(k,O,S):void 0,M===void 0&&(M=i(k)?k:t(f[v+1])?[]:{})}r(S,O,M),S=S[O]}return c}return r_=l,r_}var i_,QR;function Iq(){if(QR)return i_;QR=1;var r=Cq();function e(t,i,a){return t==null?t:r(t,i,a)}return i_=e,i_}var Nq=Iq();const Ta=tn(Nq),XR=r=>typeof r=="object"&&r!==null,s_=r=>typeof r=="string"||r instanceof String,Oq=r=>{if(!r)return null;if(typeof r=="number")return r;const e=String(r).trim().match(/^(\d+)\s*(ms|s|m|h|d|w)$/i);if(!e)return null;const t=Number(e[1]),i=e?.[2]?.toLowerCase();if(!i)return null;switch(i){case"ms":return t;case"s":return t*1e3;case"m":return t*60*1e3;case"h":return t*60*60*1e3;case"d":return t*24*60*60*1e3;case"w":return t*7*24*60*60*1e3;default:return null}},Dq=(r,e)=>{let t=e?.anchorMs??null,i=e?.intervalMs??null;const a=r.scheduleAnchorUtc||r.scheduleAnchor;if(a){const l=Date.parse(a);Number.isNaN(l)||(t=l)}if(r.interval){const l=Oq(r.interval);l&&(i=l)}return{anchorMs:t,intervalMs:i}},SN=(r,e=null,t=new Map)=>(Array.isArray(r)&&r.forEach(i=>{if(Lo(i)){e?.anchorMs&&e?.intervalMs&&t.set(i,e);return}if(!i)return;const a=Dq(i,e);if(Array.isArray(i.items)&&i.items.length){SN(i.items,a,t);return}if(a?.anchorMs&&a?.intervalMs){const c=i.key||i.title;c&&t.set(c,a)}}),t),kq=(r,e)=>{if(!e||!e.size)return{filteredChecked:r,expiredKeys:[]};const t={},i=[],a=Date.now();return Object.keys(r).forEach(l=>{const c=r[l],f=e.get(l);if(typeof c>"u")return;if(!f||typeof f.anchorMs!="number"||typeof f.intervalMs!="number"){t[l]=c;return}if(typeof c!="number"){t[l]=c;return}if(f.intervalMs<=0){t[l]=c;return}const p=c-f.anchorMs,m=p>=0?Math.floor(p/f.intervalMs):-1,v=a-f.anchorMs,b=v>=0?Math.floor(v/f.intervalMs):-1;m===b?t[l]=c:i.push(l)}),{filteredChecked:t,expiredKeys:i}},Mq=({configs:r})=>{const{gameName:e=""}=AL(),t=W0(),i=sj(),[a,l]=U.useState(null),[c,f]=U.useState(!0),p=_a(ie=>ie.gameConfig),m=_a(ie=>ie.visibilityFilter),v=_a(ie=>ie.relicVisibility),b=_a(ie=>ie.searchFilter)??"",T=_a(ie=>ie.todoItems),S=_a(ie=>ie.voidDrops),O=_a(ie=>ie.markedRelics),M=b.trim(),k=M.toLowerCase(),z=r.find(ie=>ie.name===e)?.format??"yaml",Y=U.useRef(a),ae=U.useRef(e);Y.current=a,ae.current=e;const ue=U.useCallback(ie=>{if(!k)return 0;const J=_e=>{let Ye=0;return _e.forEach(He=>{if(He){if(XR(He)){if(He.hidden)return;if(Array.isArray(He.items)&&He.items.length){Ye+=J(He.items);return}}JSON.stringify(He).toLowerCase().includes(k)&&(Ye+=1)}}),Ye};return J(ie)},[k]),oe=U.useCallback(ie=>{const J=a?.renderer?.[ie];return J?J==="warframe"||J==="moonlighter"||J==="arcraiders"||J==="warframe-resets":!0},[a?.renderer]);U.useEffect(()=>{if(!e){l(null),f(!1);return}f(!0),lN(Object.assign({"../game-configs/arcraiders.yaml":()=>Xe(()=>import("./arcraiders-CGcPX7Cr.js"),[]),"../game-configs/d2.yaml":()=>Xe(()=>import("./d2-BjSTgg9v.js"),[]),"../game-configs/demonsouls.yaml":()=>Xe(()=>import("./demonsouls-C91dXxDH.js"),[]),"../game-configs/desperadosiii.yaml":()=>Xe(()=>import("./desperadosiii-DUwKvpm_.js"),[]),"../game-configs/eldenring.yaml":()=>Xe(()=>import("./eldenring-CAX0gqaT.js"),[]),"../game-configs/ff14.yaml":()=>Xe(()=>import("./ff14-LheJ4Sdj.js"),[]),"../game-configs/ff7.yaml":()=>Xe(()=>import("./ff7-CYGlgb_3.js"),[]),"../game-configs/hades.yaml":()=>Xe(()=>import("./hades-BkYqhHey.js"),[]),"../game-configs/lordsofthefallen.yaml":()=>Xe(()=>import("./lordsofthefallen-vi3erB2s.js"),[]),"../game-configs/moonlighter.yaml":()=>Xe(()=>import("./moonlighter-DWWSqXAQ.js"),[]),"../game-configs/nioh2.yaml":()=>Xe(()=>import("./nioh2-CN3uolYz.js"),[]),"../game-configs/remnant.yaml":()=>Xe(()=>import("./remnant-EWC1nFV0.js"),[]),"../game-configs/remnant2.yaml":()=>Xe(()=>import("./remnant2-Drru-4q0.js"),[]),"../game-configs/riskofrain2.yaml":()=>Xe(()=>import("./riskofrain2-Du4jsvq1.js"),[]),"../game-configs/seaofthieves.yaml":()=>Xe(()=>import("./seaofthieves-DDa2AQaY.js"),[]),"../game-configs/shadowgambit.yaml":()=>Xe(()=>import("./shadowgambit-Cy1gMF9x.js"),[]),"../game-configs/soulframe.yaml":()=>Xe(()=>import("./soulframe-BUEpWpF6.js"),[]),"../game-configs/warframe.yaml":()=>Xe(()=>import("./warframe-CfRsvG-m.js"),[])}),`../game-configs/${e}.${z}`,3).then(ie=>{const J=ie.default;l(J),f(!1)}).catch(ie=>{console.error("Failed to load config",ie),f(!1),l(null)})},[e,z]);const R=U.useMemo(()=>a?.renderer?Object.keys(a.renderer).filter(ie=>a.renderer?.[ie]==="warframe-resets"):[],[a]),C=U.useMemo(()=>{const ie={},J=a?.categories;return J&&R.forEach(_e=>{ie[_e]=SN(J[_e])}),ie},[a,R]),N=U.useMemo(()=>{const ie={};return R.forEach(J=>{const _e=Ii(p,[e,J]);if(!_e)return;const Ye=C[J]??new Map,{filteredChecked:He,expiredKeys:me}=kq(_e,Ye);ie[J]={filteredChecked:He,expiredKeys:me}}),ie},[p,e,R,C]);U.useEffect(()=>{R.forEach(ie=>{const J=N[ie];J?.expiredKeys?.length&&i(fA(e,ie,J.expiredKeys))})},[i,e,R,N]),U.useEffect(()=>{const ie=J=>{if(J.key<"1"||J.key>"9"||J.target instanceof HTMLElement&&(J.target.tagName==="INPUT"||J.target.tagName==="TEXTAREA")||J.metaKey||J.ctrlKey)return;const _e=Y.current;if(!_e?.categories)return;J.preventDefault();const Ye=parseInt(J.key,10)-1,He=Object.getOwnPropertyNames(_e.categories);if(Ye<He.length){const me=He[Ye];t(`/${ae.current}/${me}`)}};return window.addEventListener("keydown",ie),()=>window.removeEventListener("keydown",ie)},[t]);const j=U.useCallback(ie=>J=>{i(R9(e,ie,J))},[i,e]),D=U.useCallback(ie=>J=>{i(fA(e,ie,J))},[i,e]),L=U.useCallback(ie=>J=>{i(I9(e,ie,J))},[i,e]),I=U.useCallback(ie=>J=>{i(D9(e,ie,J))},[i,e]),Ce=U.useCallback(ie=>J=>{i(O9(e,ie,J))},[i,e]),Ve=U.useCallback(ie=>J=>{i(M9(e,ie,J))},[i,e]),X=U.useCallback(ie=>J=>{i(N9(e,ie,J))},[i,e]),ce=U.useCallback(ie=>J=>{i(k9(e,ie,J))},[i,e]),ve=U.useCallback(ie=>(J,_e)=>{i(P9(e,ie,J,_e))},[i,e]),Le=U.useCallback(ie=>J=>{i(j9(e,ie,J))},[i,e]),Fe=U.useCallback(ie=>J=>{i(V9(e,ie,J))},[i,e]),P=U.useCallback(ie=>(J,_e,Ye)=>{i(L9(e,ie,J,_e,Ye))},[i,e]),ee=U.useCallback((ie,J=new Map)=>(!ie||!ie.length||ie.forEach(_e=>{XR(_e)&&(_e.title&&!J.has(_e.title)&&J.set(_e.title,_e),_e.key&&!J.has(_e.key)&&J.set(_e.key,_e),_e.items&&_e.items.length&&ee(_e.items,J))}),J),[]),le=U.useCallback((ie,J)=>!ie||!ie.completedIf?!1:(Array.isArray(ie.completedIf)?ie.completedIf:[ie.completedIf]).some(Ye=>Object.prototype.hasOwnProperty.call(J,Ye)),[]),fe=U.useCallback((ie,J,_e,Ye=null)=>{const He=ie.map(Ie=>Lo(Ie)?Ie:{...Ie});let me=!0;return Ye||(Ye=ee(ie)),He.forEach((Ie,ge)=>{let Ue,Ne=!1;if(s_(Ie))Ue=Object.prototype.hasOwnProperty.call(J,Ie),Ta(He,ge,{title:Ie,checked:Ue});else{const Se=Ie.key||Ie.title;if(!Se)return;Ue=Object.prototype.hasOwnProperty.call(J,Se),Ne=le(Ie,J),Ta(He,[ge,"checked"],Ue)}if(!s_(Ie)&&Ie.items){const Se=fe(Ie.items,J,_e,Ye);Ta(He,[ge,"items"],Se.items),Se.allChecked&&(Ue=!0,Ta(He,[ge,"checked"],!0))}else _e.total++,(Ue||Ne)&&_e.checked++;!Ue&&!Ne&&(me=!1)}),{items:He,allChecked:me,counter:_e}},[ee,le]),Te=(ie,J,_e)=>{const Ye=new Set(["primary","secondary","melee","companions","archwing"]),He=new Set(["primary","secondary","melee"]);if(a?.renderer&&a.renderer[J]==="warframe")return y.jsx(kU,{items:ie,onItemClick:j(J),visibilityFilter:m,searchFilter:b});if(a?.renderer&&a.renderer[J]==="ff14-todo"){const me={},Ie=`${e}-`;return Object.keys(T).forEach(ge=>{if(ge.startsWith(Ie)){const Ue=T[ge];Ue&&(me[ge]=Ue)}}),y.jsx(Tq,{items:ie,todoItems:me,onItemAdd:L(J),onItemRemove:I(J),onItemIncrement:Le(J),onItemDecrement:Fe(J),onItemUpdate:P(J)})}else{if(a?.renderer&&a.renderer[J]==="moonlighter")return y.jsx(dq,{items:ie,onItemClick:j(J),visibilityFilter:m,searchFilter:b});if(a?.renderer&&a.renderer[J]==="arcraiders"){const me=Ii(p,[e,"Goals"]),Ie={total:0,checked:0};let ge=null;a.categories?.Goals&&me?ge=fe(a.categories.Goals,me,Ie).items:a.categories?.Goals&&(ge=a.categories.Goals);const Ue=Ii(p,[e,"quests"]);let Ne=null;return a.categories?.quests&&(Ne=a.categories.quests),y.jsx(pq,{items:ie,checkedList:_e||{},goalsItems:ge,goalsChecked:me||{},questsItems:Ne,questsChecked:Ue||{},onItemClick:j(J),visibilityFilter:m,searchFilter:b})}else if(a?.renderer&&a.renderer[J]==="void-planner"){const me={};return["primary","secondary","melee"].forEach(Ie=>{const ge=Ii(p,[e,Ie]);ge&&Object.assign(me,ge)}),y.jsx(rq,{items:ie,voidDrops:S,onItemAdd:Ce(J),onItemRemove:Ve(J),onRelicToggle:Ie=>i(C9(Ie.title)),markedRelics:O,onRelicVisibilityToggle:Ie=>i(z9("relic",Ie==="SHOW_ALL")),relicVisibility:v,primeChecked:me})}else if(a?.renderer&&a.renderer[J]==="warframe-todo"){const me=a.categories??{},Ie=["warframes","primary","secondary","melee","companions","archwing","arcanes","mods"],ge=[];Ie.forEach(Se=>{const rt=me[Se]||a.hidden_categories&&a.hidden_categories[Se];Array.isArray(rt)&&rt.forEach(lt=>{if(Se==="warframes"){const st=lt.title;if(!st)return;ge.push({title:st,url:lt.url??"",category:Se})}else if(Array.isArray(lt.items))lt.items?.forEach(st=>{const It=Lo(st)?st:st.title;It&&ge.push({title:It,url:Lo(st)?"":st.url??"",category:Se})});else if(lt.title){const st=lt.title;if(!st)return;ge.push({title:st,url:lt.url??"",category:Se})}})});const Ue={},Ne=`${e}-`;return Object.keys(T).forEach(Se=>{if(Se.startsWith(Ne)){const rt=T[Se];rt&&(Ue[Se]=rt)}}),y.jsx(lq,{items:ge,todoItems:Ue,onItemAdd:L(J),onItemRemove:I(J),onItemIncrement:Le(J),onItemDecrement:Fe(J),onItemUpdate:P(J)})}else if(a?.renderer&&a.renderer[J]==="soulframe-todo"){const me=a.categories??{},Ie=[],ge=(Se,rt)=>{Se.forEach(lt=>{if(s_(lt)){Ie.push({title:lt,url:"",category:rt});return}if(lt){if(Array.isArray(lt.items)){ge(lt.items,rt);return}lt.title&&Ie.push({title:lt.title,url:lt.url??"",category:rt})}})};Object.keys(me).forEach(Se=>{if(Se===J)return;const rt=me[Se];Array.isArray(rt)&&ge(rt,Se)});const Ue={},Ne=`${e}-`;return Object.keys(T).forEach(Se=>{if(Se.startsWith(Ne)){const rt=T[Se];rt&&(Ue[Se]=rt)}}),y.jsx(wq,{items:Ie,todoItems:Ue,onItemAdd:L(J),onItemRemove:I(J),onItemIncrement:Le(J),onItemDecrement:Fe(J),onItemUpdate:P(J)})}else if(a?.renderer&&a.renderer[J]==="warframe-builds"){const me=[],Ie=[];return a.hidden_categories&&(Array.isArray(a.hidden_categories.mods)&&a.hidden_categories.mods.forEach(ge=>{Array.isArray(ge.items)&&ge.items?.forEach(Ue=>{const Ne=Lo(Ue)?Ue:Ue.title;Ne&&me.push(Ne)})}),Array.isArray(a.hidden_categories.arcanes)&&a.hidden_categories.arcanes.forEach(ge=>{Array.isArray(ge.items)&&ge.items?.forEach(Ue=>{const Ne=Lo(Ue)?Ue:Ue.title;Ne&&Ie.push(Ne)})})),y.jsx(uq,{builds:_e||{},onBuildAdd:X(J),onBuildRemove:ce(J),onBuildUpdate:ve(J),mods:me,arcanes:Ie})}else return a?.renderer&&a.renderer[J]==="warframe-resets"?y.jsx(fq,{items:ie,checkedInCategory:_e,onItemClick:j(J),onClear:D(J),visibilityFilter:m,searchFilter:b}):e==="warframe"&&Ye.has(J)?y.jsx($9,{items:ie,onItemClick:j(J),onClear:D(J),visibilityFilter:m,searchFilter:b,enableIntroducedGrouping:He.has(J)}):y.jsx(F9,{items:ie,onItemClick:j(J),onClear:D(J),visibilityFilter:m,searchFilter:b})}};if(c)return y.jsxs("div",{className:"flex items-center justify-center py-20 text-gray-500",children:[y.jsx(Ms,{className:"mr-3"}),y.jsx("span",{children:"Loading config..."})]});if(!a||!a.categories)return y.jsx("div",{children:"Empty config."});const Ae=a.categories,Pe=[],bt=[];let Ke="";return Object.getOwnPropertyNames(Ae).forEach(ie=>{Ke||(Ke=ie);let J=Ii(p,[e,ie]);const _e=N[ie];_e?.filteredChecked&&(J=_e.filteredChecked);const Ye=Ae[ie]??[];let He=Ye;const me={total:0,checked:0};J&&(He=fe(Ye,J,me).items);const Ie=me.total&&me.checked?(me.checked/me.total*100).toFixed(0):null,ge=a.options&&a.options[ie]==="quantity_progress",Ue=me.total&&me.checked?ge?`${me.checked}/${me.total}`:`${Ie} %`:null,Ne=!!M&&oe(ie),Se=Ne?ue(He):null,rt=[];Ue&&rt.push(Ue),Ne&&rt.push(`[${Se??0}]`);const lt=rt.length?` ${rt.join(" ")}`:null;Pe.push(y.jsxs(Gu,{to:`/${e}/${ie}`,className:"px-2.5 py-1 mr-1 border-b-[2px] border-transparent hover:text-gray-900 hover:border-gray-300 transition-colors [&.active]:border-black [&.active]:font-bold text-gray-600 flex items-baseline text-base",children:[ie.charAt(0).toUpperCase()+ie.slice(1),y.jsx("span",{className:"ml-1 text-[0.85em] text-gray-400 font-normal",children:lt})]},ie)),bt.push(y.jsx(Aa,{path:ie,element:Te(He,ie,J)},ie))}),[y.jsx("div",{className:"flex flex-wrap border-b border-gray-200 mb-2 list-none px-0 py-1",children:Pe},"menu"),y.jsxs(nN,{children:[y.jsx(Aa,{index:!0,element:y.jsx(Q_,{to:`/${e}/${Ke}`,replace:!0})}),bt,y.jsx(Aa,{path:"*",element:y.jsx(Q_,{to:`/${e}/${Ke}`,replace:!0})})]},"switch")]},jq=async r=>{const e=await lN(Object.assign({"../game-configs/arcraiders.yaml":()=>Xe(()=>import("./arcraiders-CGcPX7Cr.js"),[]),"../game-configs/d2.yaml":()=>Xe(()=>import("./d2-BjSTgg9v.js"),[]),"../game-configs/demonsouls.yaml":()=>Xe(()=>import("./demonsouls-C91dXxDH.js"),[]),"../game-configs/desperadosiii.yaml":()=>Xe(()=>import("./desperadosiii-DUwKvpm_.js"),[]),"../game-configs/eldenring.yaml":()=>Xe(()=>import("./eldenring-CAX0gqaT.js"),[]),"../game-configs/ff14.yaml":()=>Xe(()=>import("./ff14-LheJ4Sdj.js"),[]),"../game-configs/ff7.yaml":()=>Xe(()=>import("./ff7-CYGlgb_3.js"),[]),"../game-configs/hades.yaml":()=>Xe(()=>import("./hades-BkYqhHey.js"),[]),"../game-configs/lordsofthefallen.yaml":()=>Xe(()=>import("./lordsofthefallen-vi3erB2s.js"),[]),"../game-configs/moonlighter.yaml":()=>Xe(()=>import("./moonlighter-DWWSqXAQ.js"),[]),"../game-configs/nioh2.yaml":()=>Xe(()=>import("./nioh2-CN3uolYz.js"),[]),"../game-configs/remnant.yaml":()=>Xe(()=>import("./remnant-EWC1nFV0.js"),[]),"../game-configs/remnant2.yaml":()=>Xe(()=>import("./remnant2-Drru-4q0.js"),[]),"../game-configs/riskofrain2.yaml":()=>Xe(()=>import("./riskofrain2-Du4jsvq1.js"),[]),"../game-configs/seaofthieves.yaml":()=>Xe(()=>import("./seaofthieves-DDa2AQaY.js"),[]),"../game-configs/shadowgambit.yaml":()=>Xe(()=>import("./shadowgambit-Cy1gMF9x.js"),[]),"../game-configs/soulframe.yaml":()=>Xe(()=>import("./soulframe-BUEpWpF6.js"),[]),"../game-configs/warframe.yaml":()=>Xe(()=>import("./warframe-CfRsvG-m.js"),[])}),`../game-configs/${r}.yaml`,3);return(e&&typeof e=="object"?e.default:void 0)??{}},Vq=()=>{const[r,e]=U.useState("loading...");return U.useEffect(()=>{jq("warframe").then(t=>{e(t?.dateUpdated??"Unknown")})},[]),y.jsxs("div",{className:"max-w-3xl mx-auto px-4 mt-4 text-base leading-relaxed text-gray-800",children:[y.jsxs("p",{className:"mb-4",children:["This site is purely client-side, everything is hosted on free GitHub pages. Your progress is saved in the cloud when you sign in, or stored locally in ",y.jsx("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage",className:"text-sky-700 hover:underline",children:"browser local storage"})," when signed out."]}),y.jsx("p",{className:"mb-4",children:'Data is persistent and can be synced across devices when signed in. You can also download/upload your state via the top nav menu or directly from the browser console (Application tab, look for "state" variable).'}),y.jsxs("p",{className:"mb-8 border-b border-gray-100 pb-4",children:["If you have any suggestions or find any mistakes: email me ",y.jsx("a",{href:"mailto:poehartgroove@gmail.com",className:"text-sky-700 hover:underline",children:"poehartgroove@gmail.com"}),"."]}),y.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-6 mb-4",children:"Data Sources:"}),y.jsxs("ul",{className:"list-disc list-outside ml-5 space-y-4 text-sm",children:[y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Arc Raiders:"})," Data compiled from official sources and community wikis."]})}),y.jsxs("li",{children:[y.jsxs("div",{children:[y.jsx("strong",{children:"Warframe:"})," Data sources: ",y.jsx("a",{href:"https://wf.snekw.com/",className:"text-sky-700 hover:underline",children:"wf.snekw.com"}),", "," ",y.jsx("a",{href:"https://warframe-web-assets.nyc3.cdn.digitaloceanspaces.com/uploads/cms/hnfvc0o3jnfvc873njb03enrf56.html",className:"text-sky-700 hover:underline",children:"Drop tables"}),", and "," ",y.jsx("a",{href:"https://github.com/WFCD/warframe-items",className:"text-sky-700 hover:underline",children:"WFCD/warframe-items"})]}),y.jsxs("div",{className:"text-gray-500 italic mt-1 text-xs",children:["Last update date: ",r]})]}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Remnant: From the Ashes:"})," ",y.jsx("a",{href:"https://remnantfromtheashes.wiki.fextralife.com/Remnant+From+The+Ashes+Wiki",className:"text-sky-700 hover:underline",children:"Remnant From The Ashes Wiki"})]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Remnant 2:"})," Data taken from ",y.jsx("a",{href:"https://remnant2.wiki.fextralife.com/Remnant+2+Wiki",className:"text-sky-700 hover:underline",children:"Remnant 2 Wiki"})," and community guides."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Nioh 2:"})," Smithing texts and arts taken from this ",y.jsx("a",{href:"https://docs.google.com/document/d/1dCPVlyB7avz7yJPzST4_JBSsCTLPaZFm97QwDzTiiu8/edit#heading=h.34si98irfbct",className:"text-sky-700 hover:underline",children:"Google doc"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Final Fantasy VII Remake:"})," Data taken from ",y.jsx("a",{href:"https://www.powerpyx.com/final-fantasy-vii-remake-wiki-strategy-guide/",className:"text-sky-700 hover:underline",children:"PowerPyx"})," and ",y.jsx("a",{href:"https://finalfantasy7remake.wiki.fextralife.com/Final+Fantasy+VII+Remake+Wiki",className:"text-sky-700 hover:underline",children:"Final Fantasy VII Remake Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Final Fantasy XIV:"})," Data taken from ",y.jsx("a",{href:"https://xivapi.com/",className:"text-sky-700 hover:underline",children:"XIVAPI"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Desperados III:"})," Guide taken from ",y.jsx("a",{href:"https://steamcommunity.com/sharedfiles/filedetails/?id=2133857369",className:"text-sky-700 hover:underline",children:"All Badges + Mission-by-Mission Achievements Guide by MMOtte"}),", ",y.jsx("a",{href:"https://psnprofiles.com/trophies/10788-desperados-iii",className:"text-sky-700 hover:underline",children:"psnprofiles"}),", and ",y.jsx("a",{href:"https://www.trueachievements.com/game/Desperados-III/achievements",className:"text-sky-700 hover:underline",children:"TrueAchievements"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Hades:"})," Data compiled from ",y.jsx("a",{href:"https://hades.fandom.com/wiki/Hades_Wiki",className:"text-sky-700 hover:underline",children:"Hades Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Risk of Rain 2:"})," Data compiled from ",y.jsx("a",{href:"https://riskofrain2.fandom.com/wiki/Risk_of_Rain_2_Wiki",className:"text-sky-700 hover:underline",children:"Risk of Rain 2 Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Moonlighter:"})," Data compiled from ",y.jsx("a",{href:"https://moonlighter.fandom.com/wiki/Moonlighter_Wiki",className:"text-sky-700 hover:underline",children:"Moonlighter Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Demon's Souls:"})," Data taken from ",y.jsx("a",{href:"https://demonssouls.wiki.fextralife.com/Demon's+Souls+Wiki",className:"text-sky-700 hover:underline",children:"Demon's Souls Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Diablo 2:"})," Data compiled from ",y.jsx("a",{href:"https://diablo2.diablowiki.net/",className:"text-sky-700 hover:underline",children:"Diablo Wiki"})," and community resources."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Elden Ring:"})," Data taken from ",y.jsx("a",{href:"https://eldenring.wiki.fextralife.com/Elden+Ring+Wiki",className:"text-sky-700 hover:underline",children:"Elden Ring Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Lords of the Fallen:"})," Checklist made with ",y.jsx("a",{href:"https://forum.psnprofiles.com/topic/151185-checklist-for-nearly-everything/",className:"text-sky-700 hover:underline",children:"psnprofiles community"}),". Data taken from the ",y.jsx("a",{href:"https://thelordsofthefallen.wiki.fextralife.com/",className:"text-sky-700 hover:underline",children:"fextralife wiki"}),". Special thanks to PSN: Adkov for contributions."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Shadow Gambit: The Cursed Crew:"})," Mostly taken from ",y.jsx("a",{href:"https://steamcommunity.com/app/1545560/guides/?browsefilter=trend&filetype=11&requiredtags[]=english",className:"text-sky-700 hover:underline",children:"Steam guides"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Sea of Thieves:"})," Data compiled from ",y.jsx("a",{href:"https://seaofthieves.fandom.com/wiki/Sea_of_Thieves_Wiki",className:"text-sky-700 hover:underline",children:"Sea of Thieves Wiki"})," and official sources."]})})]})]})};var Lq="firebase",Pq="12.9.0";Ns(Lq,Pq,"app");var JR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Os,wN;(function(){var r;function e(R,C){function N(){}N.prototype=C.prototype,R.F=C.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(j,D,L){for(var I=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)I[Ce-2]=arguments[Ce];return C.prototype[D].apply(j,I)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,C,N){N||(N=0);const j=Array(16);if(typeof C=="string")for(var D=0;D<16;++D)j[D]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(D=0;D<16;++D)j[D]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=R.g[0],N=R.g[1],D=R.g[2];let L=R.g[3],I;I=C+(L^N&(D^L))+j[0]+3614090360&4294967295,C=N+(I<<7&4294967295|I>>>25),I=L+(D^C&(N^D))+j[1]+3905402710&4294967295,L=C+(I<<12&4294967295|I>>>20),I=D+(N^L&(C^N))+j[2]+606105819&4294967295,D=L+(I<<17&4294967295|I>>>15),I=N+(C^D&(L^C))+j[3]+3250441966&4294967295,N=D+(I<<22&4294967295|I>>>10),I=C+(L^N&(D^L))+j[4]+4118548399&4294967295,C=N+(I<<7&4294967295|I>>>25),I=L+(D^C&(N^D))+j[5]+1200080426&4294967295,L=C+(I<<12&4294967295|I>>>20),I=D+(N^L&(C^N))+j[6]+2821735955&4294967295,D=L+(I<<17&4294967295|I>>>15),I=N+(C^D&(L^C))+j[7]+4249261313&4294967295,N=D+(I<<22&4294967295|I>>>10),I=C+(L^N&(D^L))+j[8]+1770035416&4294967295,C=N+(I<<7&4294967295|I>>>25),I=L+(D^C&(N^D))+j[9]+2336552879&4294967295,L=C+(I<<12&4294967295|I>>>20),I=D+(N^L&(C^N))+j[10]+4294925233&4294967295,D=L+(I<<17&4294967295|I>>>15),I=N+(C^D&(L^C))+j[11]+2304563134&4294967295,N=D+(I<<22&4294967295|I>>>10),I=C+(L^N&(D^L))+j[12]+1804603682&4294967295,C=N+(I<<7&4294967295|I>>>25),I=L+(D^C&(N^D))+j[13]+4254626195&4294967295,L=C+(I<<12&4294967295|I>>>20),I=D+(N^L&(C^N))+j[14]+2792965006&4294967295,D=L+(I<<17&4294967295|I>>>15),I=N+(C^D&(L^C))+j[15]+1236535329&4294967295,N=D+(I<<22&4294967295|I>>>10),I=C+(D^L&(N^D))+j[1]+4129170786&4294967295,C=N+(I<<5&4294967295|I>>>27),I=L+(N^D&(C^N))+j[6]+3225465664&4294967295,L=C+(I<<9&4294967295|I>>>23),I=D+(C^N&(L^C))+j[11]+643717713&4294967295,D=L+(I<<14&4294967295|I>>>18),I=N+(L^C&(D^L))+j[0]+3921069994&4294967295,N=D+(I<<20&4294967295|I>>>12),I=C+(D^L&(N^D))+j[5]+3593408605&4294967295,C=N+(I<<5&4294967295|I>>>27),I=L+(N^D&(C^N))+j[10]+38016083&4294967295,L=C+(I<<9&4294967295|I>>>23),I=D+(C^N&(L^C))+j[15]+3634488961&4294967295,D=L+(I<<14&4294967295|I>>>18),I=N+(L^C&(D^L))+j[4]+3889429448&4294967295,N=D+(I<<20&4294967295|I>>>12),I=C+(D^L&(N^D))+j[9]+568446438&4294967295,C=N+(I<<5&4294967295|I>>>27),I=L+(N^D&(C^N))+j[14]+3275163606&4294967295,L=C+(I<<9&4294967295|I>>>23),I=D+(C^N&(L^C))+j[3]+4107603335&4294967295,D=L+(I<<14&4294967295|I>>>18),I=N+(L^C&(D^L))+j[8]+1163531501&4294967295,N=D+(I<<20&4294967295|I>>>12),I=C+(D^L&(N^D))+j[13]+2850285829&4294967295,C=N+(I<<5&4294967295|I>>>27),I=L+(N^D&(C^N))+j[2]+4243563512&4294967295,L=C+(I<<9&4294967295|I>>>23),I=D+(C^N&(L^C))+j[7]+1735328473&4294967295,D=L+(I<<14&4294967295|I>>>18),I=N+(L^C&(D^L))+j[12]+2368359562&4294967295,N=D+(I<<20&4294967295|I>>>12),I=C+(N^D^L)+j[5]+4294588738&4294967295,C=N+(I<<4&4294967295|I>>>28),I=L+(C^N^D)+j[8]+2272392833&4294967295,L=C+(I<<11&4294967295|I>>>21),I=D+(L^C^N)+j[11]+1839030562&4294967295,D=L+(I<<16&4294967295|I>>>16),I=N+(D^L^C)+j[14]+4259657740&4294967295,N=D+(I<<23&4294967295|I>>>9),I=C+(N^D^L)+j[1]+2763975236&4294967295,C=N+(I<<4&4294967295|I>>>28),I=L+(C^N^D)+j[4]+1272893353&4294967295,L=C+(I<<11&4294967295|I>>>21),I=D+(L^C^N)+j[7]+4139469664&4294967295,D=L+(I<<16&4294967295|I>>>16),I=N+(D^L^C)+j[10]+3200236656&4294967295,N=D+(I<<23&4294967295|I>>>9),I=C+(N^D^L)+j[13]+681279174&4294967295,C=N+(I<<4&4294967295|I>>>28),I=L+(C^N^D)+j[0]+3936430074&4294967295,L=C+(I<<11&4294967295|I>>>21),I=D+(L^C^N)+j[3]+3572445317&4294967295,D=L+(I<<16&4294967295|I>>>16),I=N+(D^L^C)+j[6]+76029189&4294967295,N=D+(I<<23&4294967295|I>>>9),I=C+(N^D^L)+j[9]+3654602809&4294967295,C=N+(I<<4&4294967295|I>>>28),I=L+(C^N^D)+j[12]+3873151461&4294967295,L=C+(I<<11&4294967295|I>>>21),I=D+(L^C^N)+j[15]+530742520&4294967295,D=L+(I<<16&4294967295|I>>>16),I=N+(D^L^C)+j[2]+3299628645&4294967295,N=D+(I<<23&4294967295|I>>>9),I=C+(D^(N|~L))+j[0]+4096336452&4294967295,C=N+(I<<6&4294967295|I>>>26),I=L+(N^(C|~D))+j[7]+1126891415&4294967295,L=C+(I<<10&4294967295|I>>>22),I=D+(C^(L|~N))+j[14]+2878612391&4294967295,D=L+(I<<15&4294967295|I>>>17),I=N+(L^(D|~C))+j[5]+4237533241&4294967295,N=D+(I<<21&4294967295|I>>>11),I=C+(D^(N|~L))+j[12]+1700485571&4294967295,C=N+(I<<6&4294967295|I>>>26),I=L+(N^(C|~D))+j[3]+2399980690&4294967295,L=C+(I<<10&4294967295|I>>>22),I=D+(C^(L|~N))+j[10]+4293915773&4294967295,D=L+(I<<15&4294967295|I>>>17),I=N+(L^(D|~C))+j[1]+2240044497&4294967295,N=D+(I<<21&4294967295|I>>>11),I=C+(D^(N|~L))+j[8]+1873313359&4294967295,C=N+(I<<6&4294967295|I>>>26),I=L+(N^(C|~D))+j[15]+4264355552&4294967295,L=C+(I<<10&4294967295|I>>>22),I=D+(C^(L|~N))+j[6]+2734768916&4294967295,D=L+(I<<15&4294967295|I>>>17),I=N+(L^(D|~C))+j[13]+1309151649&4294967295,N=D+(I<<21&4294967295|I>>>11),I=C+(D^(N|~L))+j[4]+4149444226&4294967295,C=N+(I<<6&4294967295|I>>>26),I=L+(N^(C|~D))+j[11]+3174756917&4294967295,L=C+(I<<10&4294967295|I>>>22),I=D+(C^(L|~N))+j[2]+718787259&4294967295,D=L+(I<<15&4294967295|I>>>17),I=N+(L^(D|~C))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+L&4294967295}i.prototype.v=function(R,C){C===void 0&&(C=R.length);const N=C-this.blockSize,j=this.C;let D=this.h,L=0;for(;L<C;){if(D==0)for(;L<=N;)a(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<C;)if(j[D++]=R.charCodeAt(L++),D==this.blockSize){a(this,j),D=0;break}}else for(;L<C;)if(j[D++]=R[L++],D==this.blockSize){a(this,j),D=0;break}}this.h=D,this.o+=C},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;C=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=C&255,C/=256;for(this.v(R),R=Array(16),C=0,N=0;N<4;++N)for(let j=0;j<32;j+=8)R[C++]=this.g[N]>>>j&255;return R};function l(R,C){var N=f;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=C(R)}function c(R,C){this.h=C;const N=[];let j=!0;for(let D=R.length-1;D>=0;D--){const L=R[D]|0;j&&L==C||(N[D]=L,j=!1)}this.g=N}var f={};function p(R){return-128<=R&&R<128?l(R,function(C){return new c([C|0],C<0?-1:0)}):new c([R|0],R<0?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return k(m(-R));const C=[];let N=1;for(let j=0;R>=N;j++)C[j]=R/N|0,N*=4294967296;return new c(C,0)}function v(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return k(v(R.substring(1),C));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=m(Math.pow(C,8));let j=b;for(let L=0;L<R.length;L+=8){var D=Math.min(8,R.length-L);const I=parseInt(R.substring(L,L+D),C);D<8?(D=m(Math.pow(C,D)),j=j.j(D).add(m(I))):(j=j.j(N),j=j.add(m(I)))}return j}var b=p(0),T=p(1),S=p(16777216);r=c.prototype,r.m=function(){if(M(this))return-k(this).m();let R=0,C=1;for(let N=0;N<this.g.length;N++){const j=this.i(N);R+=(j>=0?j:4294967296+j)*C,C*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(O(this))return"0";if(M(this))return"-"+k(this).toString(R);const C=m(Math.pow(R,6));var N=this;let j="";for(;;){const D=ae(N,C).g;N=B(N,D.j(C));let L=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=D,O(N))return L+j;for(;L.length<6;)L="0"+L;j=L+j}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function O(R){if(R.h!=0)return!1;for(let C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function M(R){return R.h==-1}r.l=function(R){return R=B(this,R),M(R)?-1:O(R)?0:1};function k(R){const C=R.g.length,N=[];for(let j=0;j<C;j++)N[j]=~R.g[j];return new c(N,~R.h).add(T)}r.abs=function(){return M(this)?k(this):this},r.add=function(R){const C=Math.max(this.g.length,R.g.length),N=[];let j=0;for(let D=0;D<=C;D++){let L=j+(this.i(D)&65535)+(R.i(D)&65535),I=(L>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);j=I>>>16,L&=65535,I&=65535,N[D]=I<<16|L}return new c(N,N[N.length-1]&-2147483648?-1:0)};function B(R,C){return R.add(k(C))}r.j=function(R){if(O(this)||O(R))return b;if(M(this))return M(R)?k(this).j(k(R)):k(k(this).j(R));if(M(R))return k(this.j(k(R)));if(this.l(S)<0&&R.l(S)<0)return m(this.m()*R.m());const C=this.g.length+R.g.length,N=[];for(var j=0;j<2*C;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(let D=0;D<R.g.length;D++){const L=this.i(j)>>>16,I=this.i(j)&65535,Ce=R.i(D)>>>16,Ve=R.i(D)&65535;N[2*j+2*D]+=I*Ve,z(N,2*j+2*D),N[2*j+2*D+1]+=L*Ve,z(N,2*j+2*D+1),N[2*j+2*D+1]+=I*Ce,z(N,2*j+2*D+1),N[2*j+2*D+2]+=L*Ce,z(N,2*j+2*D+2)}for(R=0;R<C;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=C;R<2*C;R++)N[R]=0;return new c(N,0)};function z(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function Y(R,C){this.g=R,this.h=C}function ae(R,C){if(O(C))throw Error("division by zero");if(O(R))return new Y(b,b);if(M(R))return C=ae(k(R),C),new Y(k(C.g),k(C.h));if(M(C))return C=ae(R,k(C)),new Y(k(C.g),C.h);if(R.g.length>30){if(M(R)||M(C))throw Error("slowDivide_ only works with positive integers.");for(var N=T,j=C;j.l(R)<=0;)N=ue(N),j=ue(j);var D=oe(N,1),L=oe(j,1);for(j=oe(j,2),N=oe(N,2);!O(j);){var I=L.add(j);I.l(R)<=0&&(D=D.add(N),L=I),j=oe(j,1),N=oe(N,1)}return C=B(R,D.j(C)),new Y(D,C)}for(D=b;R.l(C)>=0;){for(N=Math.max(1,Math.floor(R.m()/C.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),L=m(N),I=L.j(C);M(I)||I.l(R)>0;)N-=j,L=m(N),I=L.j(C);O(L)&&(L=T),D=D.add(L),R=B(R,I)}return new Y(D,R)}r.B=function(R){return ae(this,R).h},r.and=function(R){const C=Math.max(this.g.length,R.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)&R.i(j);return new c(N,this.h&R.h)},r.or=function(R){const C=Math.max(this.g.length,R.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)|R.i(j);return new c(N,this.h|R.h)},r.xor=function(R){const C=Math.max(this.g.length,R.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)^R.i(j);return new c(N,this.h^R.h)};function ue(R){const C=R.g.length+1,N=[];for(let j=0;j<C;j++)N[j]=R.i(j)<<1|R.i(j-1)>>>31;return new c(N,R.h)}function oe(R,C){const N=C>>5;C%=32;const j=R.g.length-N,D=[];for(let L=0;L<j;L++)D[L]=C>0?R.i(L+N)>>>C|R.i(L+N+1)<<32-C:R.i(L+N);return new c(D,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,wN=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,Os=c}).apply(typeof JR<"u"?JR:typeof self<"u"?self:typeof window<"u"?window:{});var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var AN,Nu,RN,lf,Z_,CN,IN,NN;(function(){var r,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof $h=="object"&&$h];for(var _=0;_<h.length;++_){var x=h[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=t(this);function a(h,_){if(_)e:{var x=i;h=h.split(".");for(var A=0;A<h.length-1;A++){var H=h[A];if(!(H in x))break e;x=x[H]}h=h[h.length-1],A=x[h],_=_(A),_!=A&&_!=null&&e(x,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var x=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&x.push([A,_[A]]);return x}});var l=l||{},c=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,x){return h.call.apply(h.bind,arguments)}function m(h,_,x){return m=p,m.apply(null,arguments)}function v(h,_){var x=Array.prototype.slice.call(arguments,1);return function(){var A=x.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function b(h,_){function x(){}x.prototype=_.prototype,h.Z=_.prototype,h.prototype=new x,h.prototype.constructor=h,h.Ob=function(A,H,W){for(var he=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)he[qe-2]=arguments[qe];return _.prototype[H].apply(A,he)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const _=h.length;if(_>0){const x=Array(_);for(let A=0;A<_;A++)x[A]=h[A];return x}return[]}function O(h,_){for(let A=1;A<arguments.length;A++){const H=arguments[A];var x=typeof H;if(x=x!="object"?x:H?Array.isArray(H)?"array":x:"null",x=="array"||x=="object"&&typeof H.length=="number"){x=h.length||0;const W=H.length||0;h.length=x+W;for(let he=0;he<W;he++)h[x+he]=H[he]}else h.push(H)}}class M{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(h){c.setTimeout(()=>{throw h},0)}function B(){var h=R;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class z{constructor(){this.h=this.g=null}add(_,x){const A=Y.get();A.set(_,x),this.h?this.h.next=A:this.g=A,this.h=A}}var Y=new M(()=>new ae,h=>h.reset());class ae{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,oe=!1,R=new z,C=()=>{const h=Promise.resolve(void 0);ue=()=>{h.then(N)}};function N(){for(var h;h=B();){try{h.h.call(h.g)}catch(x){k(x)}var _=Y;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}oe=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};c.addEventListener("test",x,_),c.removeEventListener("test",x,_)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function Ce(h,_){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(Ce,D),Ce.prototype.init=function(h,_){const x=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(x=="mouseover"?_=h.fromElement:x=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ce.Z.h.call(this)},Ce.prototype.h=function(){Ce.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),X=0;function ce(h,_,x,A,H){this.listener=h,this.proxy=null,this.src=_,this.type=x,this.capture=!!A,this.ha=H,this.key=++X,this.da=this.fa=!1}function ve(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Le(h,_,x){for(const A in h)_.call(x,h[A],A,h)}function Fe(h,_){for(const x in h)_.call(void 0,h[x],x,h)}function P(h){const _={};for(const x in h)_[x]=h[x];return _}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,_){let x,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(x in A)h[x]=A[x];for(let W=0;W<ee.length;W++)x=ee[W],Object.prototype.hasOwnProperty.call(A,x)&&(h[x]=A[x])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,_,x,A,H){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const he=Ae(h,_,A,H);return he>-1?(_=h[he],x||(_.fa=!1)):(_=new ce(_,this.src,W,!!A,H),_.fa=x,h.push(_)),_};function Te(h,_){const x=_.type;if(x in h.g){var A=h.g[x],H=Array.prototype.indexOf.call(A,_,void 0),W;(W=H>=0)&&Array.prototype.splice.call(A,H,1),W&&(ve(_),h.g[x].length==0&&(delete h.g[x],h.h--))}}function Ae(h,_,x,A){for(let H=0;H<h.length;++H){const W=h[H];if(!W.da&&W.listener==_&&W.capture==!!x&&W.ha==A)return H}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),bt={};function Ke(h,_,x,A,H){if(Array.isArray(_)){for(let W=0;W<_.length;W++)Ke(h,_[W],x,A,H);return null}return x=Ue(x),h&&h[Ve]?h.J(_,x,f(A)?!!A.capture:!1,H):ie(h,_,x,!1,A,H)}function ie(h,_,x,A,H,W){if(!_)throw Error("Invalid event type");const he=f(H)?!!H.capture:!!H;let qe=Ie(h);if(qe||(h[Pe]=qe=new fe(h)),x=qe.add(_,x,A,he,W),x.proxy)return x;if(A=J(),x.proxy=A,A.src=h,A.listener=x,h.addEventListener)L||(H=he),H===void 0&&(H=!1),h.addEventListener(_.toString(),A,H);else if(h.attachEvent)h.attachEvent(He(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return x}function J(){function h(x){return _.call(h.src,h.listener,x)}const _=me;return h}function _e(h,_,x,A,H){if(Array.isArray(_))for(var W=0;W<_.length;W++)_e(h,_[W],x,A,H);else A=f(A)?!!A.capture:!!A,x=Ue(x),h&&h[Ve]?(h=h.i,W=String(_).toString(),W in h.g&&(_=h.g[W],x=Ae(_,x,A,H),x>-1&&(ve(_[x]),Array.prototype.splice.call(_,x,1),_.length==0&&(delete h.g[W],h.h--)))):h&&(h=Ie(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Ae(_,x,A,H)),(x=h>-1?_[h]:null)&&Ye(x))}function Ye(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Ve])Te(_.i,h);else{var x=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(x,A,h.capture):_.detachEvent?_.detachEvent(He(x),A):_.addListener&&_.removeListener&&_.removeListener(A),(x=Ie(_))?(Te(x,h),x.h==0&&(x.src=null,_[Pe]=null)):ve(h)}}}function He(h){return h in bt?bt[h]:bt[h]="on"+h}function me(h,_){if(h.da)h=!0;else{_=new Ce(_,this);const x=h.listener,A=h.ha||h.src;h.fa&&Ye(h),h=x.call(A,_)}return h}function Ie(h){return h=h[Pe],h instanceof fe?h:null}var ge="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ue(h){return typeof h=="function"?h:(h[ge]||(h[ge]=function(_){return h.handleEvent(_)}),h[ge])}function Ne(){j.call(this),this.i=new fe(this),this.M=this,this.G=null}b(Ne,j),Ne.prototype[Ve]=!0,Ne.prototype.removeEventListener=function(h,_,x,A){_e(this,h,_,x,A)};function Se(h,_){var x,A=h.G;if(A)for(x=[];A;A=A.G)x.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new D(_,h);else if(_ instanceof D)_.target=_.target||h;else{var H=_;_=new D(A,h),le(_,H)}H=!0;let W,he;if(x)for(he=x.length-1;he>=0;he--)W=_.g=x[he],H=rt(W,A,!0,_)&&H;if(W=_.g=h,H=rt(W,A,!0,_)&&H,H=rt(W,A,!1,_)&&H,x)for(he=0;he<x.length;he++)W=_.g=x[he],H=rt(W,A,!1,_)&&H}Ne.prototype.N=function(){if(Ne.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const x=h.g[_];for(let A=0;A<x.length;A++)ve(x[A]);delete h.g[_],h.h--}}this.G=null},Ne.prototype.J=function(h,_,x,A){return this.i.add(String(h),_,!1,x,A)},Ne.prototype.K=function(h,_,x,A){return this.i.add(String(h),_,!0,x,A)};function rt(h,_,x,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let H=!0;for(let W=0;W<_.length;++W){const he=_[W];if(he&&!he.da&&he.capture==x){const qe=he.listener,Mt=he.ha||he.src;he.fa&&Te(h.i,he),H=qe.call(Mt,A)!==!1&&H}}return H&&!A.defaultPrevented}function lt(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function st(h){h.g=lt(()=>{h.g=null,h.i&&(h.i=!1,st(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class It extends j{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:st(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kn(h){j.call(this),this.h=h,this.g={}}b(Kn,j);var Bs=[];function Fi(h){Le(h.g,function(_,x){this.g.hasOwnProperty(x)&&Ye(_)},h),h.g={}}Kn.prototype.N=function(){Kn.Z.N.call(this),Fi(this)},Kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=c.JSON.stringify,Ka=c.JSON.parse,Fs=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ya(){}function Hs(){}var Ut={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xt(){D.call(this,"d")}b(xt,D);function Yn(){D.call(this,"c")}b(Yn,D);var kt={},yc=null;function Wa(){return yc=yc||new Ne}kt.Ia="serverreachability";function vc(h){D.call(this,kt.Ia,h)}b(vc,D);function Dr(h){const _=Wa();Se(_,new vc(_))}kt.STAT_EVENT="statevent";function Gs(h,_){D.call(this,kt.STAT_EVENT,h),this.stat=_}b(Gs,D);function qt(h){const _=Wa();Se(_,new Gs(_,h))}kt.Ja="timingevent";function kr(h,_){D.call(this,kt.Ja,h),this.size=_}b(kr,D);function Mr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function hr(){this.g=!0}hr.prototype.ua=function(){this.g=!1};function Rd(h,_,x,A,H,W){h.info(function(){if(h.g)if(W){var he="",qe=W.split("&");for(let ut=0;ut<qe.length;ut++){var Mt=qe[ut].split("=");if(Mt.length>1){const At=Mt[0];Mt=Mt[1];const Jn=At.split("_");he=Jn.length>=2&&Jn[1]=="type"?he+(At+"="+Mt+"&"):he+(At+"=redacted&")}}}else he=null;else he=W;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+_+`
`+x+`
`+he})}function _c(h,_,x,A,H,W,he){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+_+`
`+x+`
`+W+" "+he})}function jr(h,_,x,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Cd(h,x)+(A?" "+A:"")})}function $s(h,_){h.info(function(){return"TIMEOUT: "+_})}hr.prototype.info=function(){};function Cd(h,_){if(!h.g)return _;if(!_)return null;try{const W=JSON.parse(_);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var x=W[h];if(!(x.length<2)){var A=x[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let he=1;he<A.length;he++)A[he]=""}}}}return Tn(W)}catch{return _}}var Ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_l={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bl;function Ys(){}b(Ys,Ya),Ys.prototype.g=function(){return new XMLHttpRequest},bl=new Ys;function li(h){return encodeURIComponent(String(h))}function bc(h){var _=1;h=h.split(":");const x=[];for(;_>0&&h.length;)x.push(h.shift()),_--;return h.length&&x.push(h.join(":")),x}function fr(h,_,x,A){this.j=h,this.i=_,this.l=x,this.S=A||1,this.V=new Kn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dr}function dr(){this.i=null,this.g="",this.h=!1}var zt={},nn={};function Vr(h,_,x){h.M=1,h.A=Ws(Ft(_)),h.u=x,h.R=!0,Qa(h,null)}function Qa(h,_){h.F=Date.now(),Lr(h),h.B=Ft(h.A);var x=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),eo(x.i,"t",A),h.C=0,x=h.j.L,h.h=new dr,h.g=jc(h.j,x?_:null,!h.u),h.P>0&&(h.O=new It(m(h.Y,h,h.g),h.P)),_=h.V,x=h.g,A=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(Bs[0]=H.toString()),H=Bs);for(let W=0;W<H.length;W++){const he=Ke(x,H[W],A||_.handleEvent,!1,_.h||_);if(!he)break;_.g[he.key]=he}_=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Dr(),Rd(h.i,h.v,h.B,h.l,h.S,h.u)}fr.prototype.ba=function(h){h=h.target;const _=this.O;_&&gr(h)==3?_.j():this.Y(h)},fr.prototype.Y=function(h){try{if(h==this.g)e:{const qe=gr(this.g),Mt=this.g.ya(),ut=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||qe!=4||Mt==7||(Mt==8||ut<=0?Dr(3):Dr(2)),Pr(this);var _=this.g.ca();this.X=_;var x=Id(this);if(this.o=_==200,_c(this.i,this.v,this.B,this.l,this.S,qe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var W=A;break t}}W=null}if(h=W)jr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ur(this,h);else{this.o=!1,this.m=3,qt(12),Vn(this),Wn(this);break e}}if(this.R){h=!0;let At;for(;!this.K&&this.C<x.length;)if(At=xc(this,x),At==nn){qe==4&&(this.m=4,qt(14),h=!1),jr(this.i,this.l,null,"[Incomplete Response]");break}else if(At==zt){this.m=4,qt(15),jr(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else jr(this.i,this.l,At,null),Ur(this,At);if(Ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||x.length!=0||this.h.h||(this.m=1,qt(16),h=!1),this.o=this.o&&h,!h)jr(this.i,this.l,x,"[Invalid Chunked Response]"),Vn(this),Wn(this);else if(x.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),jl(he),he.P=!0,qt(11))}}else jr(this.i,this.l,x,null),Ur(this,x);qe==4&&Vn(this),this.o&&!this.K&&(qe==4?Oc(this.j,this):(this.o=!1,Lr(this)))}else ci(this.g),_==400&&x.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),Vn(this),Wn(this)}}}catch{}};function Id(h){if(!Ec(h))return h.g.la();const _=on(h.g);if(_==="")return"";let x="";const A=_.length,H=gr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Vn(h),Wn(h),"";h.h.i=new c.TextDecoder}for(let W=0;W<A;W++)h.h.h=!0,x+=h.h.i.decode(_[W],{stream:!(H&&W==A-1)});return _.length=0,h.h.g+=x,h.C=0,h.h.g}function Ec(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function xc(h,_){var x=h.C,A=_.indexOf(`
`,x);return A==-1?nn:(x=Number(_.substring(x,A)),isNaN(x)?zt:(A+=1,A+x>_.length?nn:(_=_.slice(A,A+x),h.C=A+x,_)))}fr.prototype.cancel=function(){this.K=!0,Vn(this)};function Lr(h){h.T=Date.now()+h.H,Xa(h,h.H)}function Xa(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Mr(m(h.aa,h),_)}function Pr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}fr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?($s(this.i,this.B),this.M!=2&&(Dr(),qt(17)),Vn(this),this.m=2,Wn(this)):Xa(this,this.T-h)};function Wn(h){h.j.I==0||h.K||Oc(h.j,h)}function Vn(h){Pr(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Fi(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Ur(h,_){try{var x=h.j;if(x.I!=0&&(x.g==h||zr(x.h,h))){if(!h.L&&zr(x.h,h)&&x.I==3){try{var A=x.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<h.F)so(x),Xi(x);else break e;na(x),qt(18)}}else x.xa=H[1],0<x.xa-x.K&&H[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Mr(m(x.Va,x),6e3));qr(x.h)<=1&&x.ta&&(x.ta=void 0)}else Kr(x,11)}else if((h.L||x.g==h)&&so(x),!I(_))for(H=x.Ba.g.parse(_),_=0;_<H.length;_++){let ut=H[_];const At=ut[0];if(!(At<=x.K))if(x.K=At,ut=ut[1],x.I==2)if(ut[0]=="c"){x.M=ut[1],x.ba=ut[2];const Jn=ut[3];Jn!=null&&(x.ka=Jn,x.j.info("VER="+x.ka));const Yr=ut[4];Yr!=null&&(x.za=Yr,x.j.info("SVER="+x.za));const yr=ut[5];yr!=null&&typeof yr=="number"&&yr>0&&(A=1.5*yr,x.O=A,x.j.info("backChannelRequestTimeoutMs_="+A)),A=x;const vr=h.g;if(vr){const ra=vr.g?vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var W=A.h;W.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Tl(W,W.h),W.h=null))}if(A.G){const ao=vr.g?vr.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(A.wa=ao,ft(A.J,A.G,ao))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-h.F,x.j.info("Handshake RTT: "+x.T+"ms")),A=x;var he=h;if(A.na=Mc(A,A.L?A.ba:null,A.W),he.L){Sl(A.h,he);var qe=he,Mt=A.O;Mt&&(qe.H=Mt),qe.D&&(Pr(qe),Lr(qe)),A.g=he}else Ic(A);x.i.length>0&&$r(x)}else ut[0]!="stop"&&ut[0]!="close"||Kr(x,7);else x.I==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?Kr(x,7):kl(x):ut[0]!="noop"&&x.l&&x.l.qa(ut),x.A=0)}}Dr(4)}catch{}}var Bt=class{constructor(h,_){this.g=h,this.map=_}};function El(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function qr(h){return h.h?1:h.g?h.g.size:0}function zr(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Tl(h,_){h.g?h.g.add(_):h.h=_}function Sl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}El.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function wl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const x of h.g.values())_=_.concat(x.G);return _}return S(h.i)}var Tc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ja(h,_){if(h){h=h.split("&");for(let x=0;x<h.length;x++){const A=h[x].indexOf("=");let H,W=null;A>=0?(H=h[x].substring(0,A),W=h[x].substring(A+1)):H=h[x],_(H,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Ln(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Ln?(this.l=h.l,rn(this,h.j),this.o=h.o,this.g=h.g,Hi(this,h.u),this.h=h.h,Al(this,Rc(h.i)),this.m=h.m):h&&(_=String(h).match(Tc))?(this.l=!1,rn(this,_[1]||"",!0),this.o=Br(_[2]||""),this.g=Br(_[3]||"",!0),Hi(this,_[4]),this.h=Br(_[5]||"",!0),Al(this,_[6]||"",!0),this.m=Br(_[7]||"")):(this.l=!1,this.i=new $i(null,this.l))}Ln.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Qs(_,Za,!0),":");var x=this.g;return(x||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Qs(_,Za,!0),"@"),h.push(li(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&h.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(Qs(x,x.charAt(0)=="/"?Rl:Sc,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",Qs(x,wc)),h.join("")},Ln.prototype.resolve=function(h){const _=Ft(this);let x=!!h.j;x?rn(_,h.j):x=!!h.o,x?_.o=h.o:x=!!h.g,x?_.g=h.g:x=h.u!=null;var A=h.h;if(x)Hi(_,h.u);else if(x=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=_.h.lastIndexOf("/");H!=-1&&(A=_.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const W=[];for(let he=0;he<H.length;){const qe=H[he++];qe=="."?A&&he==H.length&&W.push(""):qe==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),A&&he==H.length&&W.push("")):(W.push(qe),A=!0)}A=W.join("/")}else A=H}return x?_.h=A:x=h.i.toString()!=="",x?Al(_,Rc(h.i)):x=!!h.m,x&&(_.m=h.m),_};function Ft(h){return new Ln(h)}function rn(h,_,x){h.j=x?Br(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Hi(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Al(h,_,x){_ instanceof $i?(h.i=_,to(h.i,h.l)):(x||(_=Qs(_,Gi)),h.i=new $i(_,h.l))}function ft(h,_,x){h.i.set(_,x)}function Ws(h){return ft(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Br(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Qs(h,_,x){return typeof h=="string"?(h=encodeURI(h).replace(_,Rn),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Rn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Za=/[#\/\?@]/g,Sc=/[#\?:]/g,Rl=/[#\?]/g,Gi=/[#\?@]/g,wc=/#/g;function $i(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Cn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ja(h.i,function(_,x){h.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}r=$i.prototype,r.add=function(h,_){Cn(this),this.i=null,h=Ki(this,h);let x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(_),this.h+=1,this};function Ac(h,_){Cn(h),_=Ki(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Cl(h,_){return Cn(h),_=Ki(h,_),h.g.has(_)}r.forEach=function(h,_){Cn(this),this.g.forEach(function(x,A){x.forEach(function(H){h.call(_,H,A,this)},this)},this)};function Il(h,_){Cn(h);let x=[];if(typeof _=="string")Cl(h,_)&&(x=x.concat(h.g.get(Ki(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)x=x.concat(h[_]);return x}r.set=function(h,_){return Cn(this),this.i=null,h=Ki(this,h),Cl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},r.get=function(h,_){return h?(h=Il(this,h),h.length>0?String(h[0]):_):_};function eo(h,_,x){Ac(h,_),x.length>0&&(h.i=null,h.g.set(Ki(h,_),S(x)),h.h+=x.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var x=_[A];const H=li(x);x=Il(this,x);for(let W=0;W<x.length;W++){let he=H;x[W]!==""&&(he+="="+li(x[W])),h.push(he)}}return this.i=h.join("&")};function Rc(h){const _=new $i;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Ki(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function to(h,_){_&&!h.j&&(Cn(h),h.i=null,h.g.forEach(function(x,A){const H=A.toLowerCase();A!=H&&(Ac(this,A),eo(this,H,x))},h)),h.j=_}function pr(h,_){const x=new hr;if(c.Image){const A=new Image;A.onload=v(Qn,x,"TestLoadImage: loaded",!0,_,A),A.onerror=v(Qn,x,"TestLoadImage: error",!1,_,A),A.onabort=v(Qn,x,"TestLoadImage: abort",!1,_,A),A.ontimeout=v(Qn,x,"TestLoadImage: timeout",!1,_,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function Nl(h,_){const x=new hr,A=new AbortController,H=setTimeout(()=>{A.abort(),Qn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then(W=>{clearTimeout(H),W.ok?Qn(x,"TestPingServer: ok",!0,_):Qn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),Qn(x,"TestPingServer: error",!1,_)})}function Qn(h,_,x,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(x)}catch{}}function Yi(){this.g=new Fs}function Fr(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Fr,Ya),Fr.prototype.g=function(){return new Xs(this.i,this.h)};function Xs(h,_){Ne.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Xs,Ne),r=Xs.prototype,r.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,mr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wi(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;no(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function no(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Wi(this):mr(this),this.readyState==3&&no(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,Wi(this))},r.Na=function(h){this.g&&(this.response=h,Wi(this))},r.ga=function(){this.g&&Wi(this)};function Wi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,mr(h)}r.setRequestHeader=function(h,_){this.A.append(h,_)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=_.next();return h.join(`\r
`)};function mr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xn(h){let _="";return Le(h,function(x,A){_+=A,_+=":",_+=x,_+=`\r
`}),_}function Js(h,_,x){e:{for(A in x){var A=!1;break e}A=!0}A||(x=Xn(x),typeof h=="string"?x!=null&&li(x):ft(h,_,x))}function mt(h){Ne.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(mt,Ne);var Hr=/^https?$/i,Ol=["POST","PUT"];r=mt.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,_,x,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bl.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(W){Zs(this,W);return}if(h=x||"",x=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)x.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const W of A.keys())x.set(W,A.get(W));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(x.keys()).find(W=>W.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Ol,_,void 0)>=0)||A||H||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,he]of x)this.g.setRequestHeader(W,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){Zs(this,W)}};function Zs(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Dl(h),ui(h)}function Dl(h){h.A||(h.A=!0,Se(h,"complete"),Se(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Se(this,"complete"),Se(this,"abort"),ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),mt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ea(this):this.Xa())},r.Xa=function(){ea(this)};function ea(h){if(h.h&&typeof l<"u"){if(h.v&&gr(h)==4)setTimeout(h.Ca.bind(h),0);else if(Se(h,"readystatechange"),gr(h)==4){h.h=!1;try{const W=h.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var A;if(A=W===0){let he=String(h.D).match(Tc)[1]||null;!he&&c.self&&c.self.location&&(he=c.self.location.protocol.slice(0,-1)),A=!Hr.test(he?he.toLowerCase():"")}x=A}if(x)Se(h,"complete"),Se(h,"success");else{h.o=6;try{var H=gr(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",Dl(h)}}finally{ui(h)}}}}function ui(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const x=h.g;h.g=null,_||Se(h,"ready");try{x.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function gr(h){return h.g?h.g.readyState:0}r.ca=function(){try{return gr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Ka(_)}};function on(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ci(h){const _={};h=(h.g&&gr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(I(h[A]))continue;var x=bc(h[A]);const H=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const W=_[H]||[];_[H]=W,W.push(x)}Fe(_,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(h,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||_}function Qi(h){this.za=0,this.i=[],this.j=new hr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gr("baseRetryDelayMs",5e3,h),this.Za=Gr("retryDelaySeedMs",1e4,h),this.Ta=Gr("forwardChannelMaxRetries",2,h),this.va=Gr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new El(h&&h.concurrentRequestLimit),this.Ba=new Yi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Qi.prototype,r.ka=8,r.I=1,r.connect=function(h,_,x,A){qt(0),this.W=h,this.H=_||{},x&&A!==void 0&&(this.H.OSID=x,this.H.OAID=A),this.F=this.X,this.J=Mc(this,null,this.W),$r(this)};function kl(h){if(ro(h),h.I==3){var _=h.V++,x=Ft(h.J);if(ft(x,"SID",h.M),ft(x,"RID",_),ft(x,"TYPE","terminate"),ta(h,x),_=new fr(h,h.j,_),_.M=2,_.A=Ws(Ft(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!x&&c.Image&&(new Image().src=_.A,x=!0),x||(_.g=jc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Lr(_)}kc(h)}function Xi(h){h.g&&(jl(h),h.g.cancel(),h.g=null)}function ro(h){Xi(h),h.v&&(c.clearTimeout(h.v),h.v=null),so(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function $r(h){if(!xl(h.h)&&!h.m){h.m=!0;var _=h.Ea;ue||C(),oe||(ue(),oe=!0),R.add(_,h),h.D=0}}function io(h,_){return qr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Mr(m(h.Ea,h,_),Dc(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new fr(this,this.j,h);let W=this.o;if(this.U&&(W?(W=P(W),le(W,this.U)):W=this.U),this.u!==null||this.R||(H.J=W,W=null),this.S)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var A=this.i[x];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=Cc(this,H,_),x=Ft(this.J),ft(x,"RID",h),ft(x,"CVER",22),this.G&&ft(x,"X-HTTP-Session-Id",this.G),ta(this,x),W&&(this.R?_="headers="+li(Xn(W))+"&"+_:this.u&&Js(x,this.u,W)),Tl(this.h,H),this.Ra&&ft(x,"TYPE","init"),this.S?(ft(x,"$req",_),ft(x,"SID","null"),H.U=!0,Vr(H,x,null)):Vr(H,x,_),this.I=2}}else this.I==3&&(h?Ml(this,h):this.i.length==0||xl(this.h)||Ml(this))};function Ml(h,_){var x;_?x=_.l:x=h.V++;const A=Ft(h.J);ft(A,"SID",h.M),ft(A,"RID",x),ft(A,"AID",h.K),ta(h,A),h.u&&h.o&&Js(A,h.u,h.o),x=new fr(h,h.j,x,h.D+1),h.u===null&&(x.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Cc(h,x,1e3),x.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Tl(h.h,x),Vr(x,A,_)}function ta(h,_){h.H&&Le(h.H,function(x,A){ft(_,A,x)}),h.l&&Le({},function(x,A){ft(_,A,x)})}function Cc(h,_,x){x=Math.min(h.i.length,x);const A=h.l?m(h.l.Ka,h.l,h):null;e:{var H=h.i;let qe=-1;for(;;){const Mt=["count="+x];qe==-1?x>0?(qe=H[0].g,Mt.push("ofs="+qe)):qe=0:Mt.push("ofs="+qe);let ut=!0;for(let At=0;At<x;At++){var W=H[At].g;const Jn=H[At].map;if(W-=qe,W<0)qe=Math.max(0,H[At].g-100),ut=!1;else try{W="req"+W+"_"||"";try{var he=Jn instanceof Map?Jn:Object.entries(Jn);for(const[Yr,yr]of he){let vr=yr;f(yr)&&(vr=Tn(yr)),Mt.push(W+Yr+"="+encodeURIComponent(vr))}}catch(Yr){throw Mt.push(W+"type="+encodeURIComponent("_badmap")),Yr}}catch{A&&A(Jn)}}if(ut){he=Mt.join("&");break e}}he=void 0}return h=h.i.splice(0,x),_.G=h,he}function Ic(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ue||C(),oe||(ue(),oe=!0),R.add(_,h),h.A=0}}function na(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Mr(m(h.Da,h),Dc(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,Nc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Mr(m(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),Xi(this),Nc(this))};function jl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Nc(h){h.g=new fr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ft(h.na);ft(_,"RID","rpc"),ft(_,"SID",h.M),ft(_,"AID",h.K),ft(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&ft(_,"TO",h.ia),ft(_,"TYPE","xmlhttp"),ta(h,_),h.u&&h.o&&Js(_,h.u,h.o),h.O&&(h.g.H=h.O);var x=h.g;h=h.ba,x.M=1,x.A=Ws(Ft(_)),x.u=null,x.R=!0,Qa(x,h)}r.Va=function(){this.C!=null&&(this.C=null,Xi(this),na(this),qt(19))};function so(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Oc(h,_){var x=null;if(h.g==_){so(h),jl(h),h.g=null;var A=2}else if(zr(h.h,_))x=_.G,Sl(h.h,_),A=1;else return;if(h.I!=0){if(_.o)if(A==1){x=_.u?_.u.length:0,_=Date.now()-_.F;var H=h.D;A=Wa(),Se(A,new kr(A,x)),$r(h)}else Ic(h);else if(H=_.m,H==3||H==0&&_.X>0||!(A==1&&io(h,_)||A==2&&na(h)))switch(x&&x.length>0&&(_=h.h,_.i=_.i.concat(x)),H){case 1:Kr(h,5);break;case 4:Kr(h,10);break;case 3:Kr(h,6);break;default:Kr(h,2)}}}function Dc(h,_){let x=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(x*=2),x*_}function Kr(h,_){if(h.j.info("Error code "+_),_==2){var x=m(h.bb,h),A=h.Ua;const H=!A;A=new Ln(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||rn(A,"https"),Ws(A),H?pr(A.toString(),x):Nl(A.toString(),x)}else qt(2);h.I=0,h.l&&h.l.pa(_),kc(h),ro(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function kc(h){if(h.I=0,h.ja=[],h.l){const _=wl(h.h);(_.length!=0||h.i.length!=0)&&(O(h.ja,_),O(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function Mc(h,_,x){var A=x instanceof Ln?Ft(x):new Ln(x);if(A.g!="")_&&(A.g=_+"."+A.g),Hi(A,A.u);else{var H=c.location;A=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;const W=new Ln(null);A&&rn(W,A),_&&(W.g=_),H&&Hi(W,H),x&&(W.h=x),A=W}return x=h.G,_=h.wa,x&&_&&ft(A,x,_),ft(A,"VER",h.ka),ta(h,A),A}function jc(h,_,x){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new mt(new Fr({ab:x})):new mt(h.ma),_.Fa(h.L),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vc(){}r=Vc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ji(){}Ji.prototype.g=function(h,_){return new Sn(h,_)};function Sn(h,_){Ne.call(this),this.g=new Qi(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!I(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new hi(this)}b(Sn,Ne),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){kl(this.g)},Sn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.v&&(x={},x.__data__=Tn(h),h=x);_.i.push(new Bt(_.Ya++,h)),_.I==3&&$r(_)},Sn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,Sn.Z.N.call(this)};function Lc(h){xt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const x in _){h=x;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(Lc,xt);function Pc(){Yn.call(this),this.status=1}b(Pc,Yn);function hi(h){this.g=h}b(hi,Vc),hi.prototype.ra=function(){Se(this.g,"a")},hi.prototype.qa=function(h){Se(this.g,new Lc(h))},hi.prototype.pa=function(h){Se(this.g,new Pc)},hi.prototype.oa=function(){Se(this.g,"b")},Ji.prototype.createWebChannel=Ji.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,NN=function(){return new Ji},IN=function(){return Wa()},CN=kt,Z_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ks.NO_ERROR=0,Ks.TIMEOUT=8,Ks.HTTP_ERROR=6,lf=Ks,_l.COMPLETE="complete",RN=_l,Hs.EventType=Ut,Ut.OPEN="a",Ut.CLOSE="b",Ut.ERROR="c",Ut.MESSAGE="d",Ne.prototype.listen=Ne.prototype.J,Nu=Hs,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,AN=mt}).apply(typeof $h<"u"?$h:typeof self<"u"?self:typeof window<"u"?window:{});class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");let dl="12.9.0";function Uq(r){dl=r}const Va=new E0("@firebase/firestore");function Po(){return Va.logLevel}function pe(r,...e){if(Va.logLevel<=Je.DEBUG){const t=e.map(fb);Va.debug(`Firestore (${dl}): ${r}`,...t)}}function Pi(r,...e){if(Va.logLevel<=Je.ERROR){const t=e.map(fb);Va.error(`Firestore (${dl}): ${r}`,...t)}}function La(r,...e){if(Va.logLevel<=Je.WARN){const t=e.map(fb);Va.warn(`Firestore (${dl}): ${r}`,...t)}}function fb(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function Re(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,ON(r,i,t)}function ON(r,e,t){let i=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Pi(i),new Error(i)}function ht(r,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,r||ON(e,a,i)}function je(r,e){return r}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends zi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ki{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class DN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(bn.UNAUTHENTICATED)))}shutdown(){}}class zq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Bq{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ht(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ki,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},f=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ki)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ht(typeof i.accessToken=="string",31837,{l:i}),new DN(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class Fq{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Hq{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new Fq(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ZR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gq{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ht(this.o===void 0,3512);const i=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ZR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ht(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ZR(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $q(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class db{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=$q(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Ze(r,e){return r<e?-1:r>e?1:0}function e0(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const a=r.charAt(i),l=e.charAt(i);if(a!==l)return a_(a)===a_(l)?Ze(a,l):a_(a)?1:-1}return Ze(r.length,e.length)}const Kq=55296,Yq=57343;function a_(r){const e=r.charCodeAt(0);return e>=Kq&&e<=Yq}function Jo(r,e,t){return r.length===e.length&&r.every(((i,a)=>t(i,e[a])))}const eC="__name__";class Zr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Re(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Zr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Zr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ze(e.length,t.length)}static compareSegments(e,t){const i=Zr.isNumericId(e),a=Zr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Zr.extractNumericId(e).compare(Zr.extractNumericId(t)):e0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Os.fromString(e.substring(4,e.length-2))}}class Et extends Zr{construct(e,t,i){return new Et(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new Et(t)}static emptyPath(){return new Et([])}}const Wq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Zr{construct(e,t,i){return new dn(e,t,i)}static isValidIdentifier(e){return Wq.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eC}static keyField(){return new dn([eC])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(t)}static emptyPath(){return new dn([])}}class xe{constructor(e){this.path=e}static fromPath(e){return new xe(Et.fromString(e))}static fromName(e){return new xe(Et.fromString(e).popFirst(5))}static empty(){return new xe(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new Et(e.slice()))}}function kN(r,e,t){if(!t)throw new de(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Qq(r,e,t,i){if(e===!0&&i===!0)throw new de(ne.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function tC(r){if(!xe.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function nC(r){if(xe.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function MN(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function fd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Re(12329,{type:typeof r})}function Ui(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fd(r);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Xq(r,e){if(e<=0)throw new de(ne.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function Qt(r,e){const t={typeString:r};return e&&(t.value=e),t}function fc(r,e){if(!MN(r))throw new de(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const c=r[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new de(ne.INVALID_ARGUMENT,t);return!0}const rC=-62135596800,iC=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*iC);return new wt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<rC)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iC}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fc(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:Qt("string",wt._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new wt(0,0))}static max(){return new ke(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $u=-1;function Jq(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(i===1e9?new wt(t+1,0):new wt(t,i));return new js(a,xe.empty(),e)}function Zq(r){return new js(r.readTime,r.key,$u)}class js{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new js(ke.min(),xe.empty(),$u)}static max(){return new js(ke.max(),xe.empty(),$u)}}function e7(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(r.documentKey,e.documentKey),t!==0?t:Ze(r.largestBatchId,e.largestBatchId))}const t7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function pl(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==t7)throw r;pe("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,i)=>{t(e)}))}static reject(e){return new se(((t,i)=>{i(e)}))}static waitFor(e){return new se(((t,i)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&t()}),(p=>i(p)))})),c=!0,l===a&&t()}))}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next((a=>a?se.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new se(((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next((v=>{c[m]=v,++f,f===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new se(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}function r7(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ml(r){return r.name==="IndexedDbTransactionError"}class dd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dd.ce=-1;const pb=-1;function pd(r){return r==null}function Rf(r){return r===0&&1/r==-1/0}function i7(r){return typeof r=="number"&&Number.isInteger(r)&&!Rf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const jN="";function s7(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=sC(e)),e=a7(r.get(t),e);return sC(e)}function a7(r,e){let t=e;const i=r.length;for(let a=0;a<i;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case jN:t+="";break;default:t+=l}}return t}function sC(r){return r+jN+""}function aC(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Fa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function VN(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Nt{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new Nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kh(this.root,e,this.comparator,!0)}}class Kh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??fn.RED,this.left=a??fn.EMPTY,this.right=l??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new fn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return fn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oC(this.data.getIterator())}getIteratorFrom(e){return new oC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new en(this.comparator);return t.data=e,t}}class oC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sr{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Sr([])}unionWith(e){let t=new en(dn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class LN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new LN("Invalid base64 string: "+l):l}})(e);return new mn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new mn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const o7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(r){if(ht(!!r,39018),typeof r=="string"){let e=0;const t=o7.exec(r);if(ht(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Lt(r.seconds),nanos:Lt(r.nanos)}}function Lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ls(r){return typeof r=="string"?mn.fromBase64String(r):mn.fromUint8Array(r)}const PN="server_timestamp",UN="__type__",qN="__previous_value__",zN="__local_write_time__";function mb(r){return(r?.mapValue?.fields||{})[UN]?.stringValue===PN}function md(r){const e=r.mapValue.fields[qN];return mb(e)?md(e):e}function Ku(r){const e=Vs(r.mapValue.fields[zN].timestampValue);return new wt(e.seconds,e.nanos)}class l7{constructor(e,t,i,a,l,c,f,p,m,v,b){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=v,this.apiKey=b}}const Cf="(default)";class Yu{constructor(e,t){this.projectId=e,this.database=t||Cf}static empty(){return new Yu("","")}get isDefaultDatabase(){return this.database===Cf}isEqual(e){return e instanceof Yu&&e.projectId===this.projectId&&e.database===this.database}}function u7(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yu(r.options.projectId,e)}const BN="__type__",c7="__max__",Yh={mapValue:{}},FN="__vector__",If="value";function Ps(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?mb(r)?4:f7(r)?9007199254740991:h7(r)?10:11:Re(28295,{value:r})}function ai(r,e){if(r===e)return!0;const t=Ps(r);if(t!==Ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ku(r).isEqual(Ku(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Vs(a.timestampValue),f=Vs(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return Ls(a.bytesValue).isEqual(Ls(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return Lt(a.geoPointValue.latitude)===Lt(l.geoPointValue.latitude)&&Lt(a.geoPointValue.longitude)===Lt(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Lt(a.integerValue)===Lt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Lt(a.doubleValue),f=Lt(l.doubleValue);return c===f?Rf(c)===Rf(f):isNaN(c)&&isNaN(f)}return!1})(r,e);case 9:return Jo(r.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(aC(c)!==aC(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!ai(c[p],f[p])))return!1;return!0})(r,e);default:return Re(52216,{left:r})}}function Wu(r,e){return(r.values||[]).find((t=>ai(t,e)))!==void 0}function Zo(r,e){if(r===e)return 0;const t=Ps(r),i=Ps(e);if(t!==i)return Ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ze(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Lt(l.integerValue||l.doubleValue),p=Lt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(r,e);case 3:return lC(r.timestampValue,e.timestampValue);case 4:return lC(Ku(r),Ku(e));case 5:return e0(r.stringValue,e.stringValue);case 6:return(function(l,c){const f=Ls(l),p=Ls(c);return f.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const v=Ze(f[m],p[m]);if(v!==0)return v}return Ze(f.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Ze(Lt(l.latitude),Lt(c.latitude));return f!==0?f:Ze(Lt(l.longitude),Lt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return uC(r.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},p=c.fields||{},m=f[If]?.arrayValue,v=p[If]?.arrayValue,b=Ze(m?.values?.length||0,v?.values?.length||0);return b!==0?b:uC(m,v)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Yh.mapValue&&c===Yh.mapValue)return 0;if(l===Yh.mapValue)return 1;if(c===Yh.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=c.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const T=e0(p[b],v[b]);if(T!==0)return T;const S=Zo(f[p[b]],m[v[b]]);if(S!==0)return S}return Ze(p.length,v.length)})(r.mapValue,e.mapValue);default:throw Re(23264,{he:t})}}function lC(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ze(r,e);const t=Vs(r),i=Vs(e),a=Ze(t.seconds,i.seconds);return a!==0?a:Ze(t.nanos,i.nanos)}function uC(r,e){const t=r.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Zo(t[a],i[a]);if(l)return l}return Ze(t.length,i.length)}function el(r){return t0(r)}function t0(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=Vs(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Ls(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return xe.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=t0(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${t0(t.fields[c])}`;return a+"}"})(r.mapValue):Re(61005,{value:r})}function uf(r){switch(Ps(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=md(r);return e?16+uf(e):16;case 5:return 2*r.stringValue.length;case 6:return Ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+uf(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let a=0;return Fa(i.fields,((l,c)=>{a+=l.length+uf(c)})),a})(r.mapValue);default:throw Re(13486,{value:r})}}function cC(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function n0(r){return!!r&&"integerValue"in r}function gb(r){return!!r&&"arrayValue"in r}function hC(r){return!!r&&"nullValue"in r}function fC(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function cf(r){return!!r&&"mapValue"in r}function h7(r){return(r?.mapValue?.fields||{})[BN]?.stringValue===FN}function Lu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Fa(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Lu(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lu(r.arrayValue.values[t]);return e}return{...r}}function f7(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===c7}class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!cf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(t)}setAll(e){let t=dn.emptyPath(),i={},a=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=f.popLast()}c?i[f.lastSegment()]=Lu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());cf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];cf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Fa(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new or(Lu(this.value))}}function HN(r){const e=[];return Fa(r.fields,((t,i)=>{const a=new dn([t]);if(cf(i)){const l=HN(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Sr(e)}class En{constructor(e,t,i,a,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new En(e,0,ke.min(),ke.min(),ke.min(),or.empty(),0)}static newFoundDocument(e,t,i,a){return new En(e,1,t,ke.min(),i,a,0)}static newNoDocument(e,t){return new En(e,2,t,ke.min(),ke.min(),or.empty(),0)}static newUnknownDocument(e,t){return new En(e,3,t,ke.min(),ke.min(),or.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nf{constructor(e,t){this.position=e,this.inclusive=t}}function dC(r,e,t){let i=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?i=xe.comparator(xe.fromName(c.referenceValue),t.key):i=Zo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function pC(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ai(r.position[t],e.position[t]))return!1;return!0}class Qu{constructor(e,t="asc"){this.field=e,this.dir=t}}function d7(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class GN{}class Wt extends GN{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new m7(e,t,i):t==="array-contains"?new v7(e,i):t==="in"?new _7(e,i):t==="not-in"?new b7(e,i):t==="array-contains-any"?new E7(e,i):new Wt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new g7(e,i):new y7(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Zo(t,this.value)):t!==null&&Ps(this.value)===Ps(t)&&this.matchesComparison(Zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends GN{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ir(e,t)}matches(e){return $N(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $N(r){return r.op==="and"}function KN(r){return p7(r)&&$N(r)}function p7(r){for(const e of r.filters)if(e instanceof Ir)return!1;return!0}function r0(r){if(r instanceof Wt)return r.field.canonicalString()+r.op.toString()+el(r.value);if(KN(r))return r.filters.map((e=>r0(e))).join(",");{const e=r.filters.map((t=>r0(t))).join(",");return`${r.op}(${e})`}}function YN(r,e){return r instanceof Wt?(function(i,a){return a instanceof Wt&&i.op===a.op&&i.field.isEqual(a.field)&&ai(i.value,a.value)})(r,e):r instanceof Ir?(function(i,a){return a instanceof Ir&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,f)=>l&&YN(c,a.filters[f])),!0):!1})(r,e):void Re(19439)}function WN(r){return r instanceof Wt?(function(t){return`${t.field.canonicalString()} ${t.op} ${el(t.value)}`})(r):r instanceof Ir?(function(t){return t.op.toString()+" {"+t.getFilters().map(WN).join(" ,")+"}"})(r):"Filter"}class m7 extends Wt{constructor(e,t,i){super(e,t,i),this.key=xe.fromName(i.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class g7 extends Wt{constructor(e,t){super(e,"in",t),this.keys=QN("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class y7 extends Wt{constructor(e,t){super(e,"not-in",t),this.keys=QN("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function QN(r,e){return(e.arrayValue?.values||[]).map((t=>xe.fromName(t.referenceValue)))}class v7 extends Wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gb(t)&&Wu(t.arrayValue,this.value)}}class _7 extends Wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wu(this.value.arrayValue,t)}}class b7 extends Wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wu(this.value.arrayValue,t)}}class E7 extends Wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gb(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Wu(this.value.arrayValue,i)))}}class x7{constructor(e,t=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function mC(r,e=null,t=[],i=[],a=null,l=null,c=null){return new x7(r,e,t,i,a,l,c)}function yb(r){const e=je(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>r0(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),pd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>el(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>el(i))).join(",")),e.Te=t}return e.Te}function vb(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!d7(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!YN(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!pC(r.startAt,e.startAt)&&pC(r.endAt,e.endAt)}function i0(r){return xe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class gl{constructor(e,t=null,i=[],a=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function T7(r,e,t,i,a,l,c,f){return new gl(r,e,t,i,a,l,c,f)}function _b(r){return new gl(r)}function gC(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function S7(r){return xe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function XN(r){return r.collectionGroup!==null}function Pu(r){const e=je(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new en(dn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Qu(l,i))})),t.has(dn.keyField().canonicalString())||e.Ie.push(new Qu(dn.keyField(),i))}return e.Ie}function ni(r){const e=je(r);return e.Ee||(e.Ee=w7(e,Pu(r))),e.Ee}function w7(r,e){if(r.limitType==="F")return mC(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Qu(a.field,l)}));const t=r.endAt?new Nf(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Nf(r.startAt.position,r.startAt.inclusive):null;return mC(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function s0(r,e){const t=r.filters.concat([e]);return new gl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function A7(r,e){const t=r.explicitOrderBy.concat([e]);return new gl(r.path,r.collectionGroup,t,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Of(r,e,t){return new gl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function gd(r,e){return vb(ni(r),ni(e))&&r.limitType===e.limitType}function JN(r){return`${yb(ni(r))}|lt:${r.limitType}`}function Uo(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>WN(a))).join(", ")}]`),pd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>el(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>el(a))).join(",")),`Target(${i})`})(ni(r))}; limitType=${r.limitType})`}function yd(r,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):xe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,a){for(const l of Pu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(i,a){return!(i.startAt&&!(function(c,f,p){const m=dC(c,f,p);return c.inclusive?m<=0:m<0})(i.startAt,Pu(i),a)||i.endAt&&!(function(c,f,p){const m=dC(c,f,p);return c.inclusive?m>=0:m>0})(i.endAt,Pu(i),a))})(r,e)}function R7(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ZN(r){return(e,t)=>{let i=!1;for(const a of Pu(r)){const l=C7(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function C7(r,e,t){const i=r.field.isKeyField()?xe.comparator(e.key,t.key):(function(l,c,f){const p=c.data.field(l),m=f.data.field(l);return p!==null&&m!==null?Zo(p,m):Re(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:r.dir})}}class Ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Fa(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return VN(this.inner)}size(){return this.innerSize}}const I7=new Nt(xe.comparator);function qi(){return I7}const eO=new Nt(xe.comparator);function Ou(...r){let e=eO;for(const t of r)e=e.insert(t.key,t);return e}function tO(r){let e=eO;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Sa(){return Uu()}function nO(){return Uu()}function Uu(){return new Ha((r=>r.toString()),((r,e)=>r.isEqual(e)))}const N7=new Nt(xe.comparator),O7=new en(xe.comparator);function et(...r){let e=O7;for(const t of r)e=e.add(t);return e}const D7=new en(Ze);function k7(){return D7}function bb(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rf(e)?"-0":e}}function rO(r){return{integerValue:""+r}}function M7(r,e){return i7(e)?rO(e):bb(r,e)}class vd{constructor(){this._=void 0}}function j7(r,e,t){return r instanceof Df?(function(a,l){const c={fields:{[UN]:{stringValue:PN},[zN]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&mb(l)&&(l=md(l)),l&&(c.fields[qN]=l),{mapValue:c}})(t,e):r instanceof Xu?sO(r,e):r instanceof Ju?aO(r,e):(function(a,l){const c=iO(a,l),f=yC(c)+yC(a.Ae);return n0(c)&&n0(a.Ae)?rO(f):bb(a.serializer,f)})(r,e)}function V7(r,e,t){return r instanceof Xu?sO(r,e):r instanceof Ju?aO(r,e):t}function iO(r,e){return r instanceof kf?(function(i){return n0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Df extends vd{}class Xu extends vd{constructor(e){super(),this.elements=e}}function sO(r,e){const t=oO(e);for(const i of r.elements)t.some((a=>ai(a,i)))||t.push(i);return{arrayValue:{values:t}}}class Ju extends vd{constructor(e){super(),this.elements=e}}function aO(r,e){let t=oO(e);for(const i of r.elements)t=t.filter((a=>!ai(a,i)));return{arrayValue:{values:t}}}class kf extends vd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function yC(r){return Lt(r.integerValue||r.doubleValue)}function oO(r){return gb(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function L7(r,e){return r.field.isEqual(e.field)&&(function(i,a){return i instanceof Xu&&a instanceof Xu||i instanceof Ju&&a instanceof Ju?Jo(i.elements,a.elements,ai):i instanceof kf&&a instanceof kf?ai(i.Ae,a.Ae):i instanceof Df&&a instanceof Df})(r.transform,e.transform)}class P7{constructor(e,t){this.version=e,this.transformResults=t}}class Ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _d{}function lO(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Eb(r.key,Ar.none()):new dc(r.key,r.data,Ar.none());{const t=r.data,i=or.empty();let a=new en(dn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ga(r.key,i,new Sr(a.toArray()),Ar.none())}}function U7(r,e,t){r instanceof dc?(function(a,l,c){const f=a.value.clone(),p=_C(a.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(r,e,t):r instanceof Ga?(function(a,l,c){if(!hf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=_C(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(uO(a)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function qu(r,e,t,i){return r instanceof dc?(function(l,c,f,p){if(!hf(l.precondition,c))return f;const m=l.value.clone(),v=bC(l.fieldTransforms,p,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(r,e,t,i):r instanceof Ga?(function(l,c,f,p){if(!hf(l.precondition,c))return f;const m=bC(l.fieldTransforms,p,c),v=c.data;return v.setAll(uO(l)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(r,e,t,i):(function(l,c,f){return hf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(r,e,t)}function q7(r,e){let t=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),l=iO(i.transform,a||null);l!=null&&(t===null&&(t=or.empty()),t.set(i.field,l))}return t||null}function vC(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Jo(i,a,((l,c)=>L7(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class dc extends _d{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ga extends _d{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function uO(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function _C(r,e,t){const i=new Map;ht(r.length===t.length,32656,{Ve:t.length,de:r.length});for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,V7(c,f,t[a]))}return i}function bC(r,e,t){const i=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);i.set(a.field,j7(l,c,e))}return i}class Eb extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z7 extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class B7{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&U7(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=qu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=qu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=nO();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const p=lO(c,f);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(ke.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),et())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,((t,i)=>vC(t,i)))&&Jo(this.baseMutations,e.baseMutations,((t,i)=>vC(t,i)))}}class xb{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){ht(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return N7})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new xb(e,t,i,a)}}class F7{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class H7{constructor(e,t){this.count=e,this.unchangedNames=t}}var Yt,it;function G7(r){switch(r){case ne.OK:return Re(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Re(15467,{code:r})}}function cO(r){if(r===void 0)return Pi("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Yt.OK:return ne.OK;case Yt.CANCELLED:return ne.CANCELLED;case Yt.UNKNOWN:return ne.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ne.INTERNAL;case Yt.UNAVAILABLE:return ne.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ne.NOT_FOUND;case Yt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Yt.ABORTED:return ne.ABORTED;case Yt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Yt.DATA_LOSS:return ne.DATA_LOSS;default:return Re(39323,{code:r})}}(it=Yt||(Yt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";function $7(){return new TextEncoder}const K7=new Os([4294967295,4294967295],0);function EC(r){const e=$7().encode(r),t=new wN;return t.update(e),new Uint8Array(t.digest())}function xC(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Os([t,i],0),new Os([a,l],0)]}class Tb{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Du(`Invalid padding: ${t}`);if(i<0)throw new Du(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Du(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Du(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Os.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(Os.fromNumber(i)));return a.compare(K7)===1&&(a=new Os([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=EC(e),[i,a]=xC(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Tb(l,a,t);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=EC(e),[i,a]=xC(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bd{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new bd(ke.min(),a,new Nt(Ze),qi(),et())}}class pc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new pc(i,t,et(),et(),et())}}class ff{constructor(e,t,i,a){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=a}}class hO{constructor(e,t){this.targetId=e,this.Ce=t}}class fO{constructor(e,t,i=mn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class TC{constructor(){this.ve=0,this.Fe=SC(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),t=et(),i=et();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Re(38017,{changeType:l})}})),new pc(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=SC()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Y7{constructor(e){this.Ge=e,this.ze=new Map,this.je=qi(),this.He=Wh(),this.Je=Wh(),this.Ze=new Nt(Ze)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(i0(l))if(i===0){const c=new xe(l.path);this.et(t,c,En.newNoDocument(c,ke.min()))}else ht(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const f=this.ut(e),p=f?this.ct(f,e,c):1;if(p!==0){this.it(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=Ls(i).toUint8Array()}catch(p){if(p instanceof LN)return La("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Tb(c,a,l)}catch(p){return La(p instanceof Du?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&i0(f.target)){const p=new xe(f.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,En.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let i=et();this.Je.forEach(((l,c)=>{let f=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new bd(e,t,this.Ze,this.je,i);return this.je=qi(),this.He=Wh(),this.Je=Wh(),this.Ze=new Nt(Ze),a}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new TC,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new en(Ze),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new en(Ze),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new TC),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Wh(){return new Nt(xe.comparator)}function SC(){return new Nt(xe.comparator)}const W7={asc:"ASCENDING",desc:"DESCENDING"},Q7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X7={and:"AND",or:"OR"};class J7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function a0(r,e){return r.useProto3Json||pd(e)?e:{value:e}}function Mf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dO(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Z7(r,e){return Mf(r,e.toTimestamp())}function ri(r){return ht(!!r,49232),ke.fromTimestamp((function(t){const i=Vs(t);return new wt(i.seconds,i.nanos)})(r))}function Sb(r,e){return o0(r,e).canonicalString()}function o0(r,e){const t=(function(a){return new Et(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function pO(r){const e=Et.fromString(r);return ht(_O(e),10190,{key:e.toString()}),e}function l0(r,e){return Sb(r.databaseId,e.path)}function o_(r,e){const t=pO(e);if(t.get(1)!==r.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new xe(gO(t))}function mO(r,e){return Sb(r.databaseId,e)}function e8(r){const e=pO(r);return e.length===4?Et.emptyPath():gO(e)}function u0(r){return new Et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function gO(r){return ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function wC(r,e,t){return{name:l0(r,e),fields:t.value.mapValue.fields}}function t8(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Re(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,v){return m.useProto3Json?(ht(v===void 0||typeof v=="string",58123),mn.fromBase64String(v||"")):(ht(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),mn.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(m){const v=m.code===void 0?ne.UNKNOWN:cO(m.code);return new de(v,m.message||"")})(c);t=new fO(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=o_(r,i.document.name),l=ri(i.document.updateTime),c=i.document.createTime?ri(i.document.createTime):ke.min(),f=new or({mapValue:{fields:i.document.fields}}),p=En.newFoundDocument(a,l,c,f),m=i.targetIds||[],v=i.removedTargetIds||[];t=new ff(m,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=o_(r,i.document),l=i.readTime?ri(i.readTime):ke.min(),c=En.newNoDocument(a,l),f=i.removedTargetIds||[];t=new ff([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=o_(r,i.document),l=i.removedTargetIds||[];t=new ff([],l,a,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new H7(a,l),f=i.targetId;t=new hO(f,c)}}return t}function n8(r,e){let t;if(e instanceof dc)t={update:wC(r,e.key,e.value)};else if(e instanceof Eb)t={delete:l0(r,e.key)};else if(e instanceof Ga)t={update:wC(r,e.key,e.data),updateMask:h8(e.fieldMask)};else{if(!(e instanceof z7))return Re(16599,{dt:e.type});t={verify:l0(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof Df)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ju)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof kf)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Re(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Z7(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)})(r,e.precondition)),t}function r8(r,e){return r&&r.length>0?(ht(e!==void 0,14353),r.map((t=>(function(a,l){let c=a.updateTime?ri(a.updateTime):ri(l);return c.isEqual(ke.min())&&(c=ri(l)),new P7(c,a.transformResults||[])})(t,e)))):[]}function i8(r,e){return{documents:[mO(r,e.path)]}}function s8(r,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=mO(r,a);const l=(function(m){if(m.length!==0)return vO(Ir.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((v=>(function(T){return{field:qo(T.field),direction:l8(T.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=a0(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function a8(r){let e=e8(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){ht(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(b){const T=yO(b);return T instanceof Ir&&KN(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((T=>(function(O){return new Qu(zo(O.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(T)))})(t.orderBy));let f=null;t.limit&&(f=(function(b){let T;return T=typeof b=="object"?b.value:b,pd(T)?null:T})(t.limit));let p=null;t.startAt&&(p=(function(b){const T=!!b.before,S=b.values||[];return new Nf(S,T)})(t.startAt));let m=null;return t.endAt&&(m=(function(b){const T=!b.before,S=b.values||[];return new Nf(S,T)})(t.endAt)),T7(e,a,c,l,f,"F",p,m)}function o8(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yO(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=zo(t.unaryFilter.field);return Wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=zo(t.unaryFilter.field);return Wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=zo(t.unaryFilter.field);return Wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=zo(t.unaryFilter.field);return Wt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Wt.create(zo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Ir.create(t.compositeFilter.filters.map((i=>yO(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(t.compositeFilter.op))})(r):Re(30097,{filter:r})}function l8(r){return W7[r]}function u8(r){return Q7[r]}function c8(r){return X7[r]}function qo(r){return{fieldPath:r.canonicalString()}}function zo(r){return dn.fromServerFormat(r.fieldPath)}function vO(r){return r instanceof Wt?(function(t){if(t.op==="=="){if(fC(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NAN"}};if(hC(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fC(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NAN"}};if(hC(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(t.field),op:u8(t.op),value:t.value}}})(r):r instanceof Ir?(function(t){const i=t.getFilters().map((a=>vO(a)));return i.length===1?i[0]:{compositeFilter:{op:c8(t.op),filters:i}}})(r):Re(54877,{filter:r})}function h8(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function _O(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function bO(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Rs{constructor(e,t,i,a,l=ke.min(),c=ke.min(),f=mn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class f8{constructor(e){this.yt=e}}function d8(r){const e=a8({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Of(e,e.limit,"L"):e}class p8{constructor(){this.Sn=new m8}addToCollectionParentIndex(e,t){return this.Sn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(js.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(js.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class m8{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new en(Et.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new en(Et.comparator)).toArray()}}const AC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EO=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(EO,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class tl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new tl(0)}static ar(){return new tl(-1)}}const RC="LruGarbageCollector",g8=1048576;function CC([r,e],[t,i]){const a=Ze(r,t);return a===0?Ze(e,i):a}class y8{constructor(e){this.Pr=e,this.buffer=new en(CC),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();CC(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class v8{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pe(RC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ml(t)?pe(RC,"Ignoring IndexedDB error during garbage collection: ",t):await pl(t)}await this.Ar(3e5)}))}}class _8{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(dd.ce);const i=new y8(t);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(AC)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AC):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,a,l,c,f,p,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,f=Date.now(),this.removeTargets(e,i,t)))).next((b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(m=Date.now(),Po()<=Je.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${b} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function b8(r,e){return new _8(r,e)}class E8{constructor(){this.changes=new Ha((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class x8{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class T8{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&qu(i.mutation,a,Sr.empty(),wt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,et()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=et()){const a=Sa();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=Ou();return l.forEach(((f,p)=>{c=c.insert(f,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Sa();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,et())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,i,a){let l=qi();const c=Uu(),f=(function(){return Uu()})();return t.forEach(((p,m)=>{const v=i.get(m.key);a.has(m.key)&&(v===void 0||v.mutation instanceof Ga)?l=l.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),qu(v.mutation,m,v.mutation.getFieldMask(),wt.now())):c.set(m.key,Sr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((m,v)=>c.set(m,v))),t.forEach(((m,v)=>f.set(m,new x8(v,c.get(m)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=Uu();let a=new Nt(((c,f)=>c-f)),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((p=>{const m=t.get(p);if(m===null)return;let v=i.get(p)||Sr.empty();v=f.applyToLocalView(m,v),i.set(p,v);const b=(a.get(f.batchId)||et()).add(p);a=a.insert(f.batchId,b)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,v=p.value,b=nO();v.forEach((T=>{if(!l.has(T)){const S=lO(t.get(T),i.get(T));S!==null&&b.set(T,S),l=l.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return se.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return S7(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):XN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):se.resolve(Sa());let f=$u,p=l;return c.next((m=>se.forEach(m,((v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{p=p.insert(v,T)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,p,m,et()))).next((v=>({batchId:f,changes:tO(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next((i=>{let a=Ou();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Ou();return this.indexManager.getCollectionParents(e,l).next((f=>se.forEach(f,(p=>{const m=(function(b,T){return new gl(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next((v=>{v.forEach(((b,T)=>{c=c.insert(b,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((p,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,En.newInvalidDocument(v)))}));let f=Ou();return c.forEach(((p,m)=>{const v=l.get(p);v!==void 0&&qu(v.mutation,m,Sr.empty(),wt.now()),yd(t,m)&&(f=f.insert(p,m))})),f}))}}class S8{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return se.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:ri(a.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:d8(a.bundledQuery),readTime:ri(a.readTime)}})(t)),se.resolve()}}class w8{constructor(){this.overlays=new Nt(xe.comparator),this.Lr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Sa();return se.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.bt(e,t,l)})),se.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const a=Sa(),l=t.length+1,c=new xe(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return se.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Nt(((m,v)=>m-v));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=l.get(m.largestBatchId);v===null&&(v=Sa(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=Sa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,v)=>f.set(m,v))),!(f.size()>=a)););return se.resolve(f)}bt(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new F7(t,i));let l=this.Lr.get(t);l===void 0&&(l=et(),this.Lr.set(t,l)),this.Lr.set(t,l.add(i.key))}}class A8{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}class wb{constructor(){this.kr=new en(an.Kr),this.qr=new en(an.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new an(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new an(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new xe(new Et([])),i=new an(t,e),a=new an(t,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new xe(new Et([])),i=new an(t,e),a=new an(t,e+1);let l=et();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new an(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class an{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return xe.comparator(e.key,t.key)||Ze(e.Hr,t.Hr)}static Ur(e,t){return Ze(e.Hr,t.Hr)||xe.comparator(e.key,t.key)}}class R8{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new en(an.Kr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new B7(l,t,i,a);this.mutationQueue.push(c);for(const f of a)this.Jr=this.Jr.add(new an(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Xr(i),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?pb:this.Yn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new an(t,0),a=new an(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const f=this.Zr(c.Hr);l.push(f)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new en(Ze);return t.forEach((a=>{const l=new an(a,0),c=new an(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(f=>{i=i.add(f.Hr)}))})),se.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;xe.isDocumentKey(l)||(l=l.child(""));const c=new an(new xe(l),0);let f=new en(Ze);return this.Jr.forEachWhile((p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Hr)),!0)}),c),se.resolve(this.Yr(f))}Yr(e){const t=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){ht(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return se.forEach(t.mutations,(a=>{const l=new an(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new an(t,0),a=this.Jr.firstAfterOrEqual(i);return se.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class C8{constructor(e){this.ti=e,this.docs=(function(){return new Nt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():En.newInvalidDocument(t))}getEntries(e,t){let i=qi();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():En.newInvalidDocument(a))})),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=qi();const c=t.path,f=new xe(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||e7(Zq(v),i)<=0||(a.has(v.key)||yd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Re(9500)}ni(e,t){return se.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new I8(this)}getSize(e){return se.resolve(this.size)}}class I8 extends E8{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),se.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class N8{constructor(e){this.persistence=e,this.ri=new Ha((t=>yb(t)),vb),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.ii=0,this.si=new wb,this.targetCount=0,this.oi=tl._r()}forEachTarget(e,t){return this.ri.forEach(((i,a)=>t(a))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),se.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new tl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.lr(t),se.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.ri.forEach(((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),se.waitFor(l).next((()=>a))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.si.containsKey(t))}}class xO{constructor(e,t){this._i={},this.overlays={},this.ai=new dd(0),this.ui=!1,this.ui=!0,this.ci=new A8,this.referenceDelegate=e(this),this.li=new N8(this),this.indexManager=new p8,this.remoteDocumentCache=(function(a){return new C8(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new f8(t),this.Pi=new S8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new w8,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new R8(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const a=new O8(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return se.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class O8 extends n7{constructor(e){super(),this.currentSequenceNumber=e}}class Ab{constructor(e){this.persistence=e,this.Ri=new wb,this.Ai=null}static Vi(e){return new Ab(e)}get di(){if(this.Ai)return this.Ai;throw Re(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,(i=>{const a=xe.fromPath(i);return this.mi(e,a).next((l=>{l||t.removeEntry(a,ke.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class jf{constructor(e,t){this.persistence=e,this.fi=new Ha((i=>s7(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=b8(this,t)}static Vi(e,t){return new jf(e,t)}Ti(){}Ii(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return se.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?se.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,t).next((f=>{f||(i++,l.removeEntry(c,ke.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),se.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uf(e.data.value)),t}wr(e,t,i){return se.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return se.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Rb{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=a}static Es(e,t){let i=et(),a=et();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Rb(e,t.fromCache,i,a)}}class D8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class k8{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return kj()?8:r7(xn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new D8;return this.ys(e,t,c).next((f=>{if(l.result=f,this.As)return this.ws(e,t,c,f.size)}))})).next((()=>l.result))}ws(e,t,i,a){return i.documentReadCount<this.Vs?(Po()<=Je.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Uo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(Po()<=Je.DEBUG&&pe("QueryEngine","Query:",Uo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Po()<=Je.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Uo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(t))):se.resolve())}gs(e,t){if(gC(t))return se.resolve(null);let i=ni(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Of(t,null,"F"),i=ni(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=et(...l);return this.fs.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const m=this.bs(t,f);return this.Ss(t,m,c,p.readTime)?this.gs(e,Of(t,null,"F")):this.Ds(e,m,t,p)}))))})))))}ps(e,t,i,a){return gC(t)||a.isEqual(ke.min())?se.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,i,a)?se.resolve(null):(Po()<=Je.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Uo(t)),this.Ds(e,c,t,Jq(a,$u)).next((f=>f)))}))}bs(e,t){let i=new en(ZN(e));return t.forEach(((a,l)=>{yd(e,l)&&(i=i.add(l))})),i}Ss(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,i){return Po()<=Je.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Uo(t)),this.fs.getDocumentsMatchingQuery(e,t,js.min(),i)}Ds(e,t,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Cb="LocalStore",M8=3e8;class j8{constructor(e,t,i,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new Nt(Ze),this.Fs=new Ha((l=>yb(l)),vb),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T8(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function V8(r,e,t,i){return new j8(r,e,t,i)}async function TO(r,e){const t=je(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let p=et();for(const m of a){c.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of l){f.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:f})))}))}))}function L8(r,e){const t=je(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(f,p,m,v){const b=m.batch,T=b.keys();let S=se.resolve();return T.forEach((O=>{S=S.next((()=>v.getEntry(p,O))).next((M=>{const k=m.docVersions.get(O);ht(k!==null,48541),M.version.compareTo(k)<0&&(b.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),v.addEntry(M)))}))})),S.next((()=>f.mutationQueue.removeMutationBatch(p,b)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=et();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function SO(r){const e=je(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function P8(r,e){const t=je(r),i=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const f=[];e.targetChanges.forEach(((v,b)=>{const T=a.get(b);if(!T)return;f.push(t.li.removeMatchingKeys(l,v.removedDocuments,b).next((()=>t.li.addMatchingKeys(l,v.addedDocuments,b))));let S=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(mn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,i)),a=a.insert(b,S),(function(M,k,B){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=M8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(T,S,v)&&f.push(t.li.updateTargetData(l,S))}));let p=qi(),m=et();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(U8(l,c,e.documentUpdates).next((v=>{p=v.Bs,m=v.Ls}))),!i.isEqual(ke.min())){const v=t.li.getLastRemoteSnapshotVersion(l).next((b=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(v)}return se.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(t.vs=a,l)))}function U8(r,e,t){let i=et(),a=et();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let c=qi();return t.forEach(((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):pe(Cb,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)})),{Bs:c,Ls:a}}))}function q8(r,e){const t=je(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=pb),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function z8(r,e){const t=je(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.li.getTargetData(i,e).next((l=>l?(a=l,se.resolve(a)):t.li.allocateTargetId(i).next((c=>(a=new Rs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function c0(r,e,t){const i=je(r),a=i.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ml(c))throw c;pe(Cb,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function IC(r,e,t){const i=je(r);let a=ke.min(),l=et();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,v){const b=je(p),T=b.Fs.get(v);return T!==void 0?se.resolve(b.vs.get(T)):b.li.getTargetData(m,v)})(i,c,ni(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,f.targetId).next((p=>{l=p}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,t?a:ke.min(),t?l:et()))).next((f=>(B8(i,R7(e),f),{documents:f,ks:l})))))}function B8(r,e,t){let i=r.Ms.get(e)||ke.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Ms.set(e,i)}class NC{constructor(){this.activeTargetIds=k7()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F8{constructor(){this.vo=new NC,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new NC,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class H8{Mo(e){}shutdown(){}}const OC="ConnectivityMonitor";class DC{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pe(OC,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pe(OC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qh=null;function h0(){return Qh===null?Qh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qh++,"0x"+Qh.toString(16)}const l_="RestConnection",G8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class $8{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Cf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,t,i,a,l){const c=h0(),f=this.Qo(e,t.toUriEncodedString());pe(l_,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:m}=new URL(f),v=il(m);return this.zo(e,f,p,i,v).then((b=>(pe(l_,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw La(l_,`RPC '${e}' ${c} failed with error: `,b,"url: ",f,"request:",i),b}))}jo(e,t,i,a,l,c){return this.Wo(e,t,i,a,l)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const i=G8[e];let a=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class K8{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const vn="WebChannelConnection",wu=(r,e,t)=>{r.listen(e,(i=>{try{t(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class $o extends $8{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!$o.c_){const e=IN();wu(e,CN.STAT_EVENT,(t=>{t.stat===Z_.PROXY?pe(vn,"STAT_EVENT: detected buffering proxy"):t.stat===Z_.NOPROXY&&pe(vn,"STAT_EVENT: detected no buffering proxy")})),$o.c_=!0}}zo(e,t,i,a,l){const c=h0();return new Promise(((f,p)=>{const m=new AN;m.setWithCredentials(!0),m.listenOnce(RN.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case lf.NO_ERROR:const b=m.getResponseJson();pe(vn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),f(b);break;case lf.TIMEOUT:pe(vn,`RPC '${e}' ${c} timed out`),p(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:const T=m.getStatus();if(pe(vn,`RPC '${e}' ${c} failed with status:`,T,"response text:",m.getResponseText()),T>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const O=S?.error;if(O&&O.status&&O.message){const M=(function(B){const z=B.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(z)>=0?z:ne.UNKNOWN})(O.status);p(new de(M,O.message))}else p(new de(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new de(ne.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{pe(vn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);pe(vn,`RPC '${e}' ${c} sending request:`,a),m.send(t,"POST",v,i,15)}))}T_(e,t,i){const a=h0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const m=l.join("");pe(vn,`Creating RPC '${e}' stream ${a}: ${m}`,f);const v=c.createWebChannel(m,f);this.I_(v);let b=!1,T=!1;const S=new K8({Ho:O=>{T?pe(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(b||(pe(vn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),pe(vn,`RPC '${e}' stream ${a} sending:`,O),v.send(O))},Jo:()=>v.close()});return wu(v,Nu.EventType.OPEN,(()=>{T||(pe(vn,`RPC '${e}' stream ${a} transport opened.`),S.i_())})),wu(v,Nu.EventType.CLOSE,(()=>{T||(T=!0,pe(vn,`RPC '${e}' stream ${a} transport closed`),S.o_(),this.E_(v))})),wu(v,Nu.EventType.ERROR,(O=>{T||(T=!0,La(vn,`RPC '${e}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),S.o_(new de(ne.UNAVAILABLE,"The operation could not be completed")))})),wu(v,Nu.EventType.MESSAGE,(O=>{if(!T){const M=O.data[0];ht(!!M,16349);const k=M,B=k?.error||k[0]?.error;if(B){pe(vn,`RPC '${e}' stream ${a} received error:`,B);const z=B.status;let Y=(function(oe){const R=Yt[oe];if(R!==void 0)return cO(R)})(z),ae=B.message;z==="NOT_FOUND"&&ae.includes("database")&&ae.includes("does not exist")&&ae.includes(this.databaseId.database)&&La(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Y===void 0&&(Y=ne.INTERNAL,ae="Unknown error status: "+z+" with message "+B.message),T=!0,S.o_(new de(Y,ae)),v.close()}else pe(vn,`RPC '${e}' stream ${a} received:`,M),S.__(M)}})),$o.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return NN()}}function Y8(r){return new $o(r)}function u_(){return typeof document<"u"?document:null}function Ed(r){return new J7(r,!0)}$o.c_=!1;class wO{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const kC="PersistentStream";class AO{constructor(e,t,i,a,l,c,f,p){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wO(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Pi(t.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new de(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(kC,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(pe(kC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class W8 extends AO{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=t8(this.serializer,e),i=(function(l){if(!("targetChange"in l))return ke.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ke.min():c.readTime?ri(c.readTime):ke.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=u0(this.serializer),t.addTarget=(function(l,c){let f;const p=c.target;if(f=i0(p)?{documents:i8(l,p)}:{query:s8(l,p).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=dO(l,c.resumeToken);const m=a0(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(ke.min())>0){f.readTime=Mf(l,c.snapshotVersion.toTimestamp());const m=a0(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f})(this.serializer,e);const i=o8(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=u0(this.serializer),t.removeTarget=e,this.K_(t)}}class Q8 extends AO{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=r8(e.writeResults,e.commitTime),i=ri(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=u0(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>n8(this.serializer,i)))};this.K_(t)}}class X8{}class J8 extends X8{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,o0(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(ne.UNKNOWN,l.toString())}))}jo(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.jo(e,o0(t,i),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Z8(r,e,t,i){return new J8(r,e,t,i)}class ez{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(t),this.aa=!1):pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Pa="RemoteStore";class tz{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{$a(this)&&(pe(Pa,"Restarting streams for network reachability change."),await(async function(p){const m=je(p);m.Ea.add(4),await mc(m),m.Va.set("Unknown"),m.Ea.delete(4),await xd(m)})(this))}))})),this.Va=new ez(i,a)}}async function xd(r){if($a(r))for(const e of r.Ra)await e(!0)}async function mc(r){for(const e of r.Ra)await e(!1)}function RO(r,e){const t=je(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Db(t)?Ob(t):yl(t).O_()&&Nb(t,e))}function Ib(r,e){const t=je(r),i=yl(t);t.Ia.delete(e),i.O_()&&CO(t,e),t.Ia.size===0&&(i.O_()?i.L_():$a(t)&&t.Va.set("Unknown"))}function Nb(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yl(r).Z_(e)}function CO(r,e){r.da.$e(e),yl(r).X_(e)}function Ob(r){r.da=new Y7({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),yl(r).start(),r.Va.ua()}function Db(r){return $a(r)&&!yl(r).x_()&&r.Ia.size>0}function $a(r){return je(r).Ea.size===0}function IO(r){r.da=void 0}async function nz(r){r.Va.set("Online")}async function rz(r){r.Ia.forEach(((e,t)=>{Nb(r,e)}))}async function iz(r,e){IO(r),Db(r)?(r.Va.ha(e),Ob(r)):r.Va.set("Unknown")}async function sz(r,e,t){if(r.Va.set("Online"),e instanceof fO&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.da.removeTarget(f))})(r,e)}catch(i){pe(Pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Vf(r,i)}else if(e instanceof ff?r.da.Xe(e):e instanceof hO?r.da.st(e):r.da.tt(e),!t.isEqual(ke.min()))try{const i=await SO(r.localStore);t.compareTo(i)>=0&&await(function(l,c){const f=l.da.Tt(c);return f.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(m);v&&l.Ia.set(m,v.withResumeToken(p.resumeToken,c))}})),f.targetMismatches.forEach(((p,m)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(mn.EMPTY_BYTE_STRING,v.snapshotVersion)),CO(l,p);const b=new Rs(v.target,p,m,v.sequenceNumber);Nb(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(i){pe(Pa,"Failed to raise snapshot:",i),await Vf(r,i)}}async function Vf(r,e,t){if(!ml(e))throw e;r.Ea.add(1),await mc(r),r.Va.set("Offline"),t||(t=()=>SO(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{pe(Pa,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await xd(r)}))}function NO(r,e){return e().catch((t=>Vf(r,t,e)))}async function Td(r){const e=je(r),t=Us(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pb;for(;az(e);)try{const a=await q8(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,oz(e,a)}catch(a){await Vf(e,a)}OO(e)&&DO(e)}function az(r){return $a(r)&&r.Ta.length<10}function oz(r,e){r.Ta.push(e);const t=Us(r);t.O_()&&t.Y_&&t.ea(e.mutations)}function OO(r){return $a(r)&&!Us(r).x_()&&r.Ta.length>0}function DO(r){Us(r).start()}async function lz(r){Us(r).ra()}async function uz(r){const e=Us(r);for(const t of r.Ta)e.ea(t.mutations)}async function cz(r,e,t){const i=r.Ta.shift(),a=xb.from(i,e,t);await NO(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await Td(r)}async function hz(r,e){e&&Us(r).Y_&&await(async function(i,a){if((function(c){return G7(c)&&c!==ne.ABORTED})(a.code)){const l=i.Ta.shift();Us(i).B_(),await NO(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Td(i)}})(r,e),OO(r)&&DO(r)}async function MC(r,e){const t=je(r);t.asyncQueue.verifyOperationInProgress(),pe(Pa,"RemoteStore received new credentials");const i=$a(t);t.Ea.add(3),await mc(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await xd(t)}async function fz(r,e){const t=je(r);e?(t.Ea.delete(2),await xd(t)):e||(t.Ea.add(2),await mc(t),t.Va.set("Unknown"))}function yl(r){return r.ma||(r.ma=(function(t,i,a){const l=je(t);return l.sa(),new W8(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Zo:nz.bind(null,r),Yo:rz.bind(null,r),t_:iz.bind(null,r),J_:sz.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Db(r)?Ob(r):r.Va.set("Unknown")):(await r.ma.stop(),IO(r))}))),r.ma}function Us(r){return r.fa||(r.fa=(function(t,i,a){const l=je(t);return l.sa(),new Q8(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:lz.bind(null,r),t_:hz.bind(null,r),ta:uz.bind(null,r),na:cz.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Td(r)):(await r.fa.stop(),r.Ta.length>0&&(pe(Pa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class kb{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,f=new kb(e,t,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mb(r,e){if(Pi("AsyncQueue",`${e}: ${r}`),ml(r))return new de(ne.UNAVAILABLE,`${e}: ${r}`);throw r}class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||xe.comparator(t.key,i.key):(t,i)=>xe.comparator(t.key,i.key),this.keyedMap=Ou(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ko;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class jC{constructor(){this.ga=new Nt(xe.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Re(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class nl{constructor(e,t,i,a,l,c,f,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new nl(e,t,Ko.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class dz{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class pz{constructor(){this.queries=VC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=je(t),l=a.queries;a.queries=VC(),l.forEach(((c,f)=>{for(const p of f.ba)p.onError(i)}))})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function VC(){return new Ha((r=>JN(r)),gd)}async function kO(r,e){const t=je(r);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new dz,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=Mb(c,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&jb(t)}async function MO(r,e){const t=je(r),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function mz(r,e){const t=je(r);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.ba)f.Fa(a)&&(i=!0);c.wa=a}}i&&jb(t)}function gz(r,e,t){const i=je(r),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(t);i.queries.delete(e)}function jb(r){r.Ca.forEach((e=>{e.next()}))}var f0,LC;(LC=f0||(f0={})).Ma="default",LC.Cache="cache";class jO{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new nl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==f0.Cache}}class VO{constructor(e){this.key=e}}class LO{constructor(e){this.key=e}}class yz{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=et(),this.mutatedKeys=et(),this.eu=ZN(e),this.tu=new Ko(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new jC,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const T=a.get(v),S=yd(this.query,b)?b:null,O=!!T&&this.mutatedKeys.has(T.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let k=!1;T&&S?T.data.isEqual(S.data)?O!==M&&(i.track({type:3,doc:S}),k=!0):this.su(T,S)||(i.track({type:2,doc:S}),k=!0,(p&&this.eu(S,p)>0||m&&this.eu(S,m)<0)&&(f=!0)):!T&&S?(i.track({type:0,doc:S}),k=!0):T&&!S&&(i.track({type:1,doc:T}),k=!0,(p||m)&&(f=!0)),k&&(S?(c=c.add(S),l=M?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Ss:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(S,O){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:k})}};return M(S)-M(O)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(i),a=a??!1;const f=t&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,m=p!==this.Xa;return this.Xa=p,c.length!==0||m?{snapshot:new nl(this.query,e.tu,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jC,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=et(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new LO(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new VO(i))})),t}cu(e){this.Za=e.ks,this.Ya=et();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Vb="SyncEngine";class vz{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class _z{constructor(e){this.key=e,this.hu=!1}}class bz{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ha((f=>JN(f)),gd),this.Iu=new Map,this.Eu=new Set,this.Ru=new Nt(xe.comparator),this.Au=new Map,this.Vu=new wb,this.du={},this.mu=new Map,this.fu=tl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ez(r,e,t=!0){const i=FO(r);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await PO(i,e,t,!0),a}async function xz(r,e){const t=FO(r);await PO(t,e,!0,!1)}async function PO(r,e,t,i){const a=await z8(r.localStore,ni(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await Tz(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&RO(r.remoteStore,a),f}async function Tz(r,e,t,i,a){r.pu=(b,T,S)=>(async function(M,k,B,z){let Y=k.view.ru(B);Y.Ss&&(Y=await IC(M.localStore,k.query,!1).then((({documents:R})=>k.view.ru(R,Y))));const ae=z&&z.targetChanges.get(k.targetId),ue=z&&z.targetMismatches.get(k.targetId)!=null,oe=k.view.applyChanges(Y,M.isPrimaryClient,ae,ue);return UC(M,k.targetId,oe.au),oe.snapshot})(r,b,T,S);const l=await IC(r.localStore,e,!0),c=new yz(e,l.ks),f=c.ru(l.documents),p=pc.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",a),m=c.applyChanges(f,r.isPrimaryClient,p);UC(r,t,m.au);const v=new vz(e,t,c);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),m.snapshot}async function Sz(r,e,t){const i=je(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!gd(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await c0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Ib(i.remoteStore,a.targetId),d0(i,a.targetId)})).catch(pl)):(d0(i,a.targetId),await c0(i.localStore,a.targetId,!0))}async function wz(r,e){const t=je(r),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ib(t.remoteStore,i.targetId))}async function Az(r,e,t){const i=kz(r);try{const a=await(function(c,f){const p=je(c),m=wt.now(),v=f.reduce(((S,O)=>S.add(O.key)),et());let b,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let O=qi(),M=et();return p.xs.getEntries(S,v).next((k=>{O=k,O.forEach(((B,z)=>{z.isValidDocument()||(M=M.add(B))}))})).next((()=>p.localDocuments.getOverlayedDocuments(S,O))).next((k=>{b=k;const B=[];for(const z of f){const Y=q7(z,b.get(z.key).overlayedDocument);Y!=null&&B.push(new Ga(z.key,Y,HN(Y.value.mapValue),Ar.exists(!0)))}return p.mutationQueue.addMutationBatch(S,m,B,f)})).next((k=>{T=k;const B=k.applyToLocalDocumentSet(b,M);return p.documentOverlayCache.saveOverlays(S,k.batchId,B)}))})).then((()=>({batchId:T.batchId,changes:tO(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,f,p){let m=c.du[c.currentUser.toKey()];m||(m=new Nt(Ze)),m=m.insert(f,p),c.du[c.currentUser.toKey()]=m})(i,a.batchId,t),await gc(i,a.changes),await Td(i.remoteStore)}catch(a){const l=Mb(a,"Failed to persist write");t.reject(l)}}async function UO(r,e){const t=je(r);try{const i=await P8(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(ht(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ht(c.hu,14607):a.removedDocuments.size>0&&(ht(c.hu,42227),c.hu=!1))})),await gc(t,i,e)}catch(i){await pl(i)}}function PC(r,e,t){const i=je(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const p=je(c);p.onlineState=f;let m=!1;p.queries.forEach(((v,b)=>{for(const T of b.ba)T.va(f)&&(m=!0)})),m&&jb(p)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Rz(r,e,t){const i=je(r);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new Nt(xe.comparator);c=c.insert(l,En.newNoDocument(l,ke.min()));const f=et().add(l),p=new bd(ke.min(),new Map,new Nt(Ze),c,f);await UO(i,p),i.Ru=i.Ru.remove(l),i.Au.delete(e),Lb(i)}else await c0(i.localStore,e,!1).then((()=>d0(i,e,t))).catch(pl)}async function Cz(r,e){const t=je(r),i=e.batch.batchId;try{const a=await L8(t.localStore,e);zO(t,i,null),qO(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await gc(t,a)}catch(a){await pl(a)}}async function Iz(r,e,t){const i=je(r);try{const a=await(function(c,f){const p=je(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return p.mutationQueue.lookupMutationBatch(m,f).next((b=>(ht(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(m,b)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,v,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>p.localDocuments.getDocuments(m,v)))}))})(i.localStore,e);zO(i,e,t),qO(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await gc(i,a)}catch(a){await pl(a)}}function qO(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function zO(r,e,t){const i=je(r);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function d0(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||BO(r,i)}))}function BO(r,e){r.Eu.delete(e.path.canonicalString());const t=r.Ru.get(e);t!==null&&(Ib(r.remoteStore,t),r.Ru=r.Ru.remove(e),r.Au.delete(t),Lb(r))}function UC(r,e,t){for(const i of t)i instanceof VO?(r.Vu.addReference(i.key,e),Nz(r,i)):i instanceof LO?(pe(Vb,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||BO(r,i.key)):Re(19791,{wu:i})}function Nz(r,e){const t=e.key,i=t.path.canonicalString();r.Ru.get(t)||r.Eu.has(i)||(pe(Vb,"New document in limbo: "+t),r.Eu.add(i),Lb(r))}function Lb(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new xe(Et.fromString(e)),i=r.fu.next();r.Au.set(i,new _z(t)),r.Ru=r.Ru.insert(t,i),RO(r.remoteStore,new Rs(ni(_b(t.path)),i,"TargetPurposeLimboResolution",dd.ce))}}async function gc(r,e,t){const i=je(r),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,p)=>{c.push(i.pu(p,e,t).then((m=>{if((m||t)&&i.isPrimaryClient){const v=m?!m.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(m){a.push(m);const v=Rb.Es(p.targetId,m);l.push(v)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(p,m){const v=je(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>se.forEach(m,(T=>se.forEach(T.Ts,(S=>v.persistence.referenceDelegate.addReference(b,T.targetId,S))).next((()=>se.forEach(T.Is,(S=>v.persistence.referenceDelegate.removeReference(b,T.targetId,S)))))))))}catch(b){if(!ml(b))throw b;pe(Cb,"Failed to update sequence numbers: "+b)}for(const b of m){const T=b.targetId;if(!b.fromCache){const S=v.vs.get(T),O=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(O);v.vs=v.vs.insert(T,M)}}})(i.localStore,l))}async function Oz(r,e){const t=je(r);if(!t.currentUser.isEqual(e)){pe(Vb,"User change. New user:",e.toKey());const i=await TO(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new de(ne.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await gc(t,i.Ns)}}function Dz(r,e){const t=je(r),i=t.Au.get(e);if(i&&i.hu)return et().add(i.key);{let a=et();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const f=t.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function FO(r){const e=je(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=UO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rz.bind(null,e),e.Pu.J_=mz.bind(null,e.eventManager),e.Pu.yu=gz.bind(null,e.eventManager),e}function kz(r){const e=je(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Iz.bind(null,e),e}class Lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return V8(this.persistence,new k8,e.initialUser,this.serializer)}Cu(e){return new xO(Ab.Vi,this.serializer)}Du(e){return new F8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lf.provider={build:()=>new Lf};class Mz extends Lf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ht(this.persistence.referenceDelegate instanceof jf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new v8(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new xO((i=>jf.Vi(i,t)),this.serializer)}}class p0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>PC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Oz.bind(null,this.syncEngine),await fz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pz})()}createDatastore(e){const t=Ed(e.databaseInfo.databaseId),i=Y8(e.databaseInfo);return Z8(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,f){return new tz(i,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>PC(this.syncEngine,t,0)),(function(){return DC.v()?new DC:new H8})())}createSyncEngine(e,t){return(function(a,l,c,f,p,m,v){const b=new bz(a,l,c,f,p,m);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=je(t);pe(Pa,"RemoteStore shutting down."),i.Ea.add(5),await mc(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}p0.provider={build:()=>new p0};class HO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const qs="FirestoreClient";class jz{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=a,this.user=bn.UNAUTHENTICATED,this.clientId=db.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{pe(qs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(pe(qs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Mb(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function c_(r,e){r.asyncQueue.verifyOperationInProgress(),pe(qs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async a=>{i.isEqual(a)||(await TO(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function qC(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Vz(r);pe(qs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>MC(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,a)=>MC(e.remoteStore,a))),r._onlineComponents=e}async function Vz(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pe(qs,"Using user provided OfflineComponentProvider");try{await c_(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;La("Error using user provided cache. Falling back to memory cache: "+t),await c_(r,new Lf)}}else pe(qs,"Using default OfflineComponentProvider"),await c_(r,new Mz(void 0));return r._offlineComponents}async function GO(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pe(qs,"Using user provided OnlineComponentProvider"),await qC(r,r._uninitializedComponentsProvider._online)):(pe(qs,"Using default OnlineComponentProvider"),await qC(r,new p0))),r._onlineComponents}function Lz(r){return GO(r).then((e=>e.syncEngine))}async function $O(r){const e=await GO(r),t=e.eventManager;return t.onListen=Ez.bind(null,e.syncEngine),t.onUnlisten=Sz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=xz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=wz.bind(null,e.syncEngine),t}function Pz(r,e,t={}){const i=new ki;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,p,m){const v=new HO({next:T=>{v.Nu(),c.enqueueAndForget((()=>MO(l,b)));const S=T.docs.has(f);!S&&T.fromCache?m.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&p&&p.source==="server"?m.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),b=new jO(_b(f.path),v,{includeMetadataChanges:!0,Ka:!0});return kO(l,b)})(await $O(r),r.asyncQueue,e,t,i))),i.promise}function Uz(r,e,t={}){const i=new ki;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,p,m){const v=new HO({next:T=>{v.Nu(),c.enqueueAndForget((()=>MO(l,b))),T.fromCache&&p.source==="server"?m.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),b=new jO(f,v,{includeMetadataChanges:!0,Ka:!0});return kO(l,b)})(await $O(r),r.asyncQueue,e,t,i))),i.promise}function qz(r,e){const t=new ki;return r.asyncQueue.enqueueAndForget((async()=>Az(await Lz(r),e,t))),t.promise}function KO(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const zz="ComponentProvider",zC=new Map;function Bz(r,e,t,i,a){return new l7(r,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,KO(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const YO="firestore.googleapis.com",BC=!0;class FC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YO,this.ssl=BC}else this.host=e.host,this.ssl=e.ssl??BC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<g8)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KO(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sd{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new qq;switch(i.type){case"firstParty":return new Hq(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=zC.get(t);i&&(pe(zz,"Removing Datastore"),zC.delete(t),i.terminate())})(this),Promise.resolve()}}function Fz(r,e,t,i={}){r=Ui(r,Sd);const a=il(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},f=`${e}:${t}`;a&&(zI(`https://${f}`),BI("Firestore",!0)),l.host!==YO&&l.host!==f&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:a,emulatorOptions:i};if(!Da(p,c)&&(r._setSettings(p),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=bn.MOCK_USER;else{m=Sj(i.mockUserToken,r._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new bn(b)}r._authCredentials=new zq(new DN(m,v))}}class zs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new zs(this.firestore,e,this._query)}}class Xt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(fc(t,Xt._jsonSchema))return new Xt(e,i||null,new xe(Et.fromString(t.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:Qt("string",Xt._jsonSchemaVersion),referencePath:Qt("string")};class Ds extends zs{constructor(e,t,i){super(e,t,_b(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new xe(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function Pb(r,e,...t){if(r=jn(r),kN("collection","path",e),r instanceof Sd){const i=Et.fromString(e,...t);return nC(i),new Ds(r,null,i)}{if(!(r instanceof Xt||r instanceof Ds))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Et.fromString(e,...t));return nC(i),new Ds(r.firestore,null,i)}}function wd(r,e,...t){if(r=jn(r),arguments.length===1&&(e=db.newId()),kN("doc","path",e),r instanceof Sd){const i=Et.fromString(e,...t);return tC(i),new Xt(r,null,new xe(i))}{if(!(r instanceof Xt||r instanceof Ds))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Et.fromString(e,...t));return tC(i),new Xt(r.firestore,r instanceof Ds?r.converter:null,new xe(i))}}const HC="AsyncQueue";class GC{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wO(this,"async_queue_retry"),this._c=()=>{const i=u_();i&&pe(HC,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=u_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=u_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ki;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ml(e))throw e;pe(HC,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",$C(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=kb.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Re(47125,{Pc:$C(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function $C(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class vl extends Sd{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new GC,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GC(e),this._firestoreClient=void 0,await e}}}function Hz(r,e){const t=typeof r=="object"?r:$I(),i=typeof r=="string"?r:Cf,a=T0(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=xj("firestore");l&&Fz(a,...l)}return a}function Ub(r){if(r._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Gz(r),r._firestoreClient}function Gz(r){const e=r._freezeSettings(),t=Bz(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new jz(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(r._componentsProvider))}class lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lr(mn.fromBase64String(e))}catch(t){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new lr(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fc(e,lr._jsonSchema))return lr.fromBase64String(e.bytes)}}lr._jsonSchemaVersion="firestore/bytes/1.0",lr._jsonSchema={type:Qt("string",lr._jsonSchemaVersion),bytes:Qt("string")};class WO{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class QO{constructor(e){this._methodName=e}}class ii{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(fc(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:Qt("string",ii._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class Rr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fc(e,Rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Rr(e.vectorValues);throw new de(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rr._jsonSchemaVersion="firestore/vectorValue/1.0",Rr._jsonSchema={type:Qt("string",Rr._jsonSchemaVersion),vectorValues:Qt("object")};const $z=/^__.*__$/;class Kz{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ga(e,this.data,this.fieldMask,t,this.fieldTransforms):new dc(e,this.data,t,this.fieldTransforms)}}function XO(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{dataSource:r})}}class qb{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new qb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Pf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(XO(this.dataSource)&&$z.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Yz{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ed(e)}createContext(e,t,i,a=!1){return new qb({dataSource:e,methodName:t,targetDoc:i,path:dn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zb(r){const e=r._freezeSettings(),t=Ed(r._databaseId);return new Yz(r._databaseId,!!e.ignoreUndefinedProperties,t)}function JO(r,e,t,i,a,l={}){const c=r.createContext(l.merge||l.mergeFields?2:0,e,t,a);tD("Data must be an object, but it was:",c,i);const f=ZO(i,c);let p,m;if(l.merge)p=new Sr(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const T=Ad(e,b,t);if(!c.contains(T))throw new de(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Jz(v,T)||v.push(T)}p=new Sr(v),m=c.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,m=c.fieldTransforms;return new Kz(new or(f),p,m)}function Wz(r,e,t,i=!1){return Bb(t,r.createContext(i?4:3,e))}function Bb(r,e){if(eD(r=jn(r)))return tD("Unsupported field value:",e,r),ZO(r,e);if(r instanceof QO)return(function(i,a){if(!XO(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const f of i){let p=Bb(f,a.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(r,e)}return(function(i,a){if((i=jn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return M7(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=wt.fromDate(i);return{timestampValue:Mf(a.serializer,l)}}if(i instanceof wt){const l=new wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Mf(a.serializer,l)}}if(i instanceof ii)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof lr)return{bytesValue:dO(a.serializer,i._byteString)};if(i instanceof Xt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Sb(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Rr)return(function(c,f){const p=c instanceof Rr?c.toArray():c;return{mapValue:{fields:{[BN]:{stringValue:FN},[If]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw f.createError("VectorValues must only contain numeric values.");return bb(f.serializer,v)}))}}}}}})(i,a);if(bO(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${fd(i)}`)})(r,e)}function ZO(r,e){const t={};return VN(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fa(r,((i,a)=>{const l=Bb(a,e.childContextForField(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function eD(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof wt||r instanceof ii||r instanceof lr||r instanceof Xt||r instanceof QO||r instanceof Rr||bO(r))}function tD(r,e,t){if(!eD(t)||!MN(t)){const i=fd(t);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function Ad(r,e,t){if((e=jn(e))instanceof WO)return e._internalPath;if(typeof e=="string")return Xz(r,e);throw Pf("Field path arguments must be of type string or ",r,!1,void 0,t)}const Qz=new RegExp("[~\\*/\\[\\]]");function Xz(r,e,t){if(e.search(Qz)>=0)throw Pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new WO(...e.split("."))._internalPath}catch{throw Pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Pf(r,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new de(ne.INVALID_ARGUMENT,f+r+p)}function Jz(r,e){return r.some((t=>t.isEqual(e)))}class Zz{convertValue(e,t="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Fa(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[If].arrayValue?.values?.map((i=>Lt(i.doubleValue)));return new Rr(t)}convertGeoPoint(e){return new ii(Lt(e.latitude),Lt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=md(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ku(e));default:return null}}convertTimestamp(e){const t=Vs(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Et.fromString(e);ht(_O(i),9688,{name:e});const a=new Yu(i.get(1),i.get(3)),l=new xe(i.popFirst(5));return a.isEqual(t)||Pi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class nD extends Zz{constructor(e){super(),this.firestore=e}convertBytes(e){return new lr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,t)}}const KC="@firebase/firestore",YC="4.11.0";class rD{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Ad("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class eB extends rD{data(){return super.data()}}function tB(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fb{}class Hb extends Fb{}function Gb(r,e,...t){let i=[];e instanceof Fb&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((p=>p instanceof Kb)).length,f=l.filter((p=>p instanceof $b)).length;if(c>1||c>0&&f>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)r=a._apply(r);return r}class $b extends Hb{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new $b(e,t,i)}_apply(e){const t=this._parse(e);return iD(e._query,t),new zs(e.firestore,e.converter,s0(e._query,t))}_parse(e){const t=zb(e.firestore);return(function(l,c,f,p,m,v,b){let T;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){QC(b,v);const O=[];for(const M of b)O.push(WC(p,l,M));T={arrayValue:{values:O}}}else T=WC(p,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||QC(b,v),T=Wz(f,c,b,v==="in"||v==="not-in");return Wt.create(m,v,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Kb extends Fb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Kb(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const p of f)iD(c,p),c=s0(c,p)})(e._query,t),new zs(e.firestore,e.converter,s0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yb extends Hb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yb(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qu(l,c)})(e._query,this._field,this._direction);return new zs(e.firestore,e.converter,A7(e._query,t))}}function Wb(r,e="asc"){const t=e,i=Ad("orderBy",r);return Yb._create(i,t)}class Qb extends Hb{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Qb(e,t,i)}_apply(e){return new zs(e.firestore,e.converter,Of(e._query,this._limit,this._limitType))}}function Xb(r){return Xq("limit",r),Qb._create("limit",r,"F")}function WC(r,e,t){if(typeof(t=jn(t))=="string"){if(t==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XN(e)&&t.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Et.fromString(t));if(!xe.isDocumentKey(i))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cC(r,new xe(i))}if(t instanceof Xt)return cC(r,t._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(t)}.`)}function QC(r,e){if(!Array.isArray(r)||r.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iD(r,e){const t=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function sD(r,e,t){let i;return i=r?r.toFirestore(e):e,i}class ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends rD{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ad("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Na._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:Qt("string",Na._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class df extends Na{data(e={}){return super.data(e)}}class Yo{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ku(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new df(this._firestore,this._userDataWriter,i.key,i,new ku(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const p=new df(a._firestore,a._userDataWriter,f.doc.key,f.doc,new ku(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new df(a._firestore,a._userDataWriter,f.doc.key,f.doc,new ku(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,v=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:nB(f.type),doc:p,oldIndex:m,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=db.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nB(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:r})}}Yo._jsonSchemaVersion="firestore/querySnapshot/1.0",Yo._jsonSchema={type:Qt("string",Yo._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};function aD(r){r=Ui(r,Xt);const e=Ui(r.firestore,vl),t=Ub(e);return Pz(t,r._key).then((i=>iB(e,r,i)))}function Jb(r){r=Ui(r,zs);const e=Ui(r.firestore,vl),t=Ub(e),i=new nD(e);return tB(r._query),Uz(t,r._query).then((a=>new Yo(e,i,r,a)))}function rB(r,e,t){r=Ui(r,Xt);const i=Ui(r.firestore,vl),a=sD(r.converter,e),l=zb(i);return Zb(i,[JO(l,"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Ar.none())])}function oD(r){return Zb(Ui(r.firestore,vl),[new Eb(r._key,Ar.none())])}function lD(r,e){const t=Ui(r.firestore,vl),i=wd(r),a=sD(r.converter,e),l=zb(r.firestore);return Zb(t,[JO(l,"addDoc",i._key,a,r.converter!==null,{}).toMutation(i._key,Ar.exists(!1))]).then((()=>i))}function Zb(r,e){const t=Ub(r);return qz(t,e)}function iB(r,e,t){const i=t.docs.get(e._key),a=new nD(r);return new Na(r,a,e._key,i,new ku(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){Uq(sl),Qo(new ka("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new vl(new Bq(i.getProvider("auth-internal")),new Gq(c,i.getProvider("app-check-internal")),u7(c,a),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Ns(KC,YC,e),Ns(KC,YC,"esm2020")})();const sB={apiKey:"AIzaSyDXya7ukJ5P7pR2MVidcqxrWYWhK-VP8tY",authDomain:"completionist-state.firebaseapp.com",projectId:"completionist-state",storageBucket:"completionist-state.firebasestorage.app",messagingSenderId:"319558268180",appId:"1:319558268180:web:332ac473de29adf0b0fe01",measurementId:"G-78MMCXL994"},uD=GI(sB),Cr=YV(uD),cD=new Ci,rl=Hz(uD),aB=({onAuthChange:r})=>{const[e,t]=U.useState(null),[i,a]=U.useState(!0);U.useEffect(()=>{const f=D0(Cr,p=>{t(p),a(!1),r&&r(p)});return()=>f()},[r]);const l=()=>{(async()=>{try{await S2(Cr,cD),window.location.reload()}catch(f){console.error("Error signing in:",f)}})()},c=()=>{(async()=>{try{await P3(Cr),window.location.reload()}catch(f){console.error("Error signing out:",f)}})()};return i?y.jsx(Ms,{className:"text-gray-400"}):e?y.jsxs("button",{onClick:c,className:"flex items-center w-full px-2 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors rounded-md",title:`Sign out (${e.email})`,children:[y.jsx(g9,{className:"mr-2 text-red-500 text-xl"}),"Sign Out"]}):y.jsxs("button",{onClick:l,className:"flex items-center w-full px-2 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors rounded-md",title:"Sign in with Google",children:[y.jsx(m9,{className:"mr-2 text-gray-400 text-xl"}),"Sign in with Google"]})},Oa=25,XC=4e5,oB=60*1e3;let zu=0,m0=null;const hD=r=>{if(r){if(r instanceof Date||typeof r=="number")return r;if(typeof r=="object"&&r&&"toDate"in r){const e=r;if(typeof e.toDate=="function")return e.toDate()}}},fD=r=>{const e=r.data();return e&&typeof e=="object"?e:{}},lB=()=>zu,JC=r=>r?!!(r.gameConfig&&Object.keys(r.gameConfig).length>0)||!!(r.todoItems&&Object.keys(r.todoItems).length>0):!1,uB=async()=>{const r=localStorage.getItem("state");let e;try{e=(r?JSON.parse(r):void 0)||void 0}catch(t){console.error("Error parsing localStorage state:",t),localStorage.removeItem("state"),localStorage.removeItem("state_local_updated_at")}try{const t=Cr.currentUser;if(!t)return e;const i=wd(rl,"users",t.uid,"data","state"),a=await aD(i);if(a.exists()){const l=fD(a),c=l.state||void 0,f=hD(l.updatedAt),p=f instanceof Date?f.getTime():Number(f);if(JC(e)&&JC(c)){const m=Number(localStorage.getItem("state_local_updated_at"));return m&&p?m>p?e:c:{_conflict:!0,cloudState:c,localState:e,cloudUpdated:f instanceof Date?f:new Date(p)}}return c}else return e!==void 0?(await Ri(e),e):void 0}catch(t){return console.error("Error loading state:",t),t.code==="permission-denied"?{_error:!0,errorType:"permission-denied",errorMessage:"Failed to load cloud data due to insufficient permissions. Check Firestore security rules.",localState:e}:void 0}},Ri=async r=>{if(r===void 0)return;const e=JSON.stringify(r);localStorage.setItem("state",e);const t=new Date;localStorage.setItem("state_local_updated_at",String(t.getTime()));try{const i=Cr.currentUser;if(!i)return;const a=new Blob([e]).size;if(a>XC){console.error(`State too large: ${a} bytes (max ${XC})`),window.alert(`Your data is too large (${Math.round(a/1024)}KB). Please reduce todo items or checked items.`);return}const l=wd(rl,"users",i.uid,"data","state");await rB(l,{state:r,updatedAt:t});const c=t.getTime()-zu,f=e;if(m0!==f&&(zu===0||c>=oB)){zu=t.getTime(),m0=f;const v=Pb(rl,"users",i.uid,"data","state","history");await lD(v,{state:r,savedAt:t});const b=Gb(v,Wb("savedAt","desc"),Xb(Oa+1)),T=await Jb(b);if(T.size>Oa){const S=[];T.docs.forEach((O,M)=>{M>=Oa&&S.push(oD(O.ref))}),await Promise.all(S)}}}catch(i){console.error(" Error saving state to cloud:",i);const a=i;console.error("Error code:",a.code),console.error("Error message:",a.message),a.code==="permission-denied"&&(console.error(" PERMISSION DENIED during save"),window.alert("Failed to save to cloud due to permission error. Your data is saved locally."))}},cB=async()=>{try{const r=Cr.currentUser;if(!r)return[];const e=Pb(rl,"users",r.uid,"data","state","history"),t=Gb(e,Wb("savedAt","desc"),Xb(Oa));return(await Jb(t)).docs.map(a=>{const l=a.data(),c=l&&typeof l=="object"?l:{};return{id:a.id,state:c.state,savedAt:hD(c.savedAt)||new Date(0)}})}catch(r){return console.error("Error loading version history:",r),[]}},hB=async()=>{try{const r=Cr.currentUser;if(!r)return console.error(" ForceSaveToHistory - No user authenticated"),!1;const e=localStorage.getItem("state");if(!e)return console.error(" ForceSaveToHistory - No state in localStorage"),!1;const t=JSON.parse(e),i=new Date;console.log(" ForceSaveToHistory - Saving to history...");const a=Pb(rl,"users",r.uid,"data","state","history");await lD(a,{state:t,savedAt:i}),zu=i.getTime(),m0=e,console.log(" ForceSaveToHistory - Successfully saved to history");const l=Gb(a,Wb("savedAt","desc"),Xb(Oa+1)),c=await Jb(l);if(c.size>Oa){const f=[];c.docs.forEach((p,m)=>{m>=Oa&&f.push(oD(p.ref))}),await Promise.all(f)}return!0}catch(r){console.error(" Error force saving to history:",r);const e=r;return console.error("Error code:",e.code),console.error("Error message:",e.message),!1}},fB=async r=>{try{const e=Cr.currentUser;if(!e)return console.error(" RestoreVersion - No user authenticated"),null;const t=wd(rl,"users",e.uid,"data","state","history",r),i=await aD(t);if(i.exists()){const l=fD(i).state;return await Ri(l),l}return console.error(" RestoreVersion - Version document not found"),null}catch(e){console.error(" Error restoring version:",e);const t=e;return console.error("Error code:",t.code),console.error("Error message:",t.message),null}},dB=({open:r,onClose:e,onRestore:t})=>{const[i,a]=U.useState([]),[l,c]=U.useState(!0),[f,p]=U.useState(null);U.useEffect(()=>{r&&m()},[r]);const m=async()=>{c(!0);const S=await cB();a(S),c(!1)},v=async S=>{p(S);const O=await fB(S);O&&t&&t(O),p(null),e(),window.location.reload()},b=S=>S?new Date(S).toLocaleString():"Unknown",T=S=>{let O=0;S.gameConfig&&Object.values(S.gameConfig).forEach(k=>{typeof k=="object"&&Object.values(k).forEach(B=>{typeof B=="object"&&(O+=Object.keys(B).length)})});const M=S.todoItems?Object.keys(S.todoItems).length:0;return`${O} items, ${M} todo`};return r?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-11/12 md:w-3/4 overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh] text-left",children:[y.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-gray-100 rounded-lg text-gray-600",children:y.jsx(cN,{className:"text-2xl"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Version History (Last 25)"})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(An,{className:"text-gray-400 text-2xl"})})]}),y.jsx("div",{className:"grow overflow-y-auto p-6",children:l?y.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[y.jsx(Ms,{className:"mb-4"}),y.jsx("p",{children:"Loading versions..."})]}):i.length===0?y.jsx("div",{className:"text-center py-12 text-gray-500",children:y.jsx("p",{children:"No version history available yet. Versions are saved when you make changes while signed in."})}):y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left text-lg",children:[y.jsx("thead",{className:"text-base text-gray-500 uppercase tracking-wider bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-2 font-semibold",children:"Date & Time"}),y.jsx("th",{className:"px-4 py-2 font-semibold",children:"Summary"}),y.jsx("th",{className:"px-4 py-2 font-semibold text-right",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-100",children:i.map((S,O)=>y.jsxs("tr",{className:O===0?"bg-green-50/30":"",children:[y.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center gap-2",children:[O===0&&y.jsx(pn,{className:"text-green-500"}),y.jsx("span",{className:O===0?"font-bold text-gray-900":"text-gray-700",children:b(S.savedAt)}),O===0&&y.jsx("span",{className:"text-base text-green-500 font-medium",children:"(Current)"})]})}),y.jsx("td",{className:"px-4 py-3 text-gray-500",children:T(S.state)}),y.jsx("td",{className:"px-4 py-3 text-right",children:O===0?y.jsx("span",{className:"text-gray-400 italic",children:"Current Version"}):y.jsxs("button",{disabled:f!==null,onClick:()=>{v(S.id)},className:"inline-flex items-center gap-1.5 px-3 py-1 bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50 transition-colors shadow-sm text-base font-bold",children:[f===S.id?y.jsx(Ms,{}):y.jsx(v9,{}),"Restore"]})})]},S.id))})]})})}),y.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsx("button",{onClick:e,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 text-gray-700 font-bold transition-colors shadow-sm text-lg",children:"Close"})})]})}):null};let pB=class extends Jt.Component{unsubscribe;settingsRef;fileInput;constructor(e){super(e),this.state={isCloudUser:!1,showVersionHistory:!1,isSavingHistory:!1,settingsOpened:!1},this.handleFileUploadClick=this.handleFileUploadClick.bind(this),this.handleFileUpload=this.handleFileUpload.bind(this),this.handleVersionHistoryOpen=this.handleVersionHistoryOpen.bind(this),this.handleVersionHistoryClose=this.handleVersionHistoryClose.bind(this),this.handleForceSaveToHistory=this.handleForceSaveToHistory.bind(this),this.settingsRef=Jt.createRef(),this.fileInput=Jt.createRef(),this.handleClickOutside=this.handleClickOutside.bind(this)}componentDidMount(){this.unsubscribe=D0(Cr,e=>{this.setState({isCloudUser:!!e})}),document.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){this.unsubscribe&&this.unsubscribe(),document.removeEventListener("mousedown",this.handleClickOutside)}handleClickOutside(e){this.settingsRef.current&&e.target instanceof Node&&!this.settingsRef.current.contains(e.target)&&this.setState({settingsOpened:!1})}handleVisibilityToggle(){return()=>{const e=this.props.visibilityFilter===Pt.SHOW_ALL?Pt.SHOW_ACTIVE:Pt.SHOW_ALL;this.props.setVisibilityFilter(e)}}handleSearchFilterChange(){return e=>{this.props.setSearchValue(e.target.value)}}handleClearFilter(){return()=>{this.props.setSearchValue("")}}handleFileUploadClick(e){e.preventDefault(),this.setState({settingsOpened:!1}),this.fileInput.current?.value&&(this.fileInput.current.value=""),this.fileInput.current?.click()}handleFileUpload(e){if(e.preventDefault(),!this.fileInput.current?.files||!this.fileInput.current.files.length||this.fileInput.current.files.length!==1)return;const t=this.fileInput.current.files?.[0];if(!t||t.type!=="application/json"||t.size>200*1024)return;const i=new FileReader;i.onload=a=>{const l=a.target?.result;if(typeof l!="string")return;const c=JSON.parse(l);this.props.uploadState(c)},i.readAsText(t)}handleVersionHistoryOpen(){this.setState({showVersionHistory:!0,settingsOpened:!1})}handleVersionHistoryClose(){this.setState({showVersionHistory:!1})}handleSignIn(){(async()=>{try{await S2(Cr,cD),window.location.reload()}catch(e){console.error("Error signing in:",e)}})()}handleForceSaveToHistory(){(async()=>{this.setState({isSavingHistory:!0});const e=await hB();this.setState({isSavingHistory:!1}),e?this.forceUpdate():window.alert("Failed to save to history. Check console for details.")})()}getCloudTooltip(){const e=lB();return e===0?"Click to save current state to history":`Click to save current state to history
Last saved: ${new Date(e).toLocaleString()}`}render(){return y.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 ml-auto",children:[y.jsxs("div",{className:"relative flex items-center group text-gray-400 mr-4",children:[y.jsx("input",{type:"text",placeholder:"Filter...",value:this.props.searchFilter,onChange:this.handleSearchFilterChange(),className:"pl-3 pr-10 py-1 w-32 sm:w-48 text-sm bg-transparent focus:outline-none transition-all"}),y.jsx(f9,{className:"transition-colors text-lg pointer-events-none roup-focus-within:text-gray-900"}),this.props.searchFilter&&y.jsx("button",{onClick:this.handleClearFilter(),className:"absolute right-7 top-1/2 -translate-y-1/2 p-0.5 hover:bg-gray-200 rounded-full transition-colors",children:y.jsx(An,{className:"text-red-600 text-xs"})})]}),y.jsx("button",{onClick:this.handleVisibilityToggle(),title:"Hide Marked",className:`p-1 cursor-pointer transition-colors ${this.props.visibilityFilter!==Pt.SHOW_ALL?"text-red-600":"text-gray-700 hover:text-gray-900"}`,children:y.jsx(sf,{className:"text-lg"})}),y.jsx(Gu,{to:"/info",title:"Info",className:"p-1 text-gray-700 hover:text-gray-900 transition-colors [&.active]:text-black",children:y.jsx(nb,{className:"text-lg"})}),y.jsx("button",{onClick:this.state.isCloudUser?()=>this.handleForceSaveToHistory():()=>this.handleSignIn(),title:this.state.isCloudUser?this.getCloudTooltip():"Sign in with Google",className:`p-1 cursor-pointer transition-all ${this.state.isCloudUser?"text-sky-700 hover:opacity-80":"text-gray-400 hover:text-gray-600"}`,children:y.jsx(af,{className:`text-lg ${this.state.isSavingHistory?"animate-pulse":""}`})}),y.jsxs("div",{className:"relative",ref:this.settingsRef,children:[y.jsx("button",{onClick:()=>this.setState(e=>({settingsOpened:!e.settingsOpened})),className:"p-1 text-gray-700 hover:text-gray-900 transition-colors cursor-pointer",children:y.jsx(lc,{className:"text-lg"})}),this.state.settingsOpened&&y.jsxs("div",{className:"absolute right-0 mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[y.jsx("div",{className:"px-3 py-1.5 text-base font-semibold text-gray-500 uppercase tracking-wider",children:"Settings"}),y.jsxs("button",{onClick:()=>{this.props.downloadState(),this.setState({settingsOpened:!1})},className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(d9,{className:"mr-2 text-gray-400 text-xl"}),"Download state"]}),y.jsxs("button",{onClick:this.handleFileUploadClick,className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(p9,{className:"mr-2 text-gray-400 text-xl"}),"Upload state"]}),y.jsx("input",{type:"file",ref:this.fileInput,hidden:!0,onChange:this.handleFileUpload}),this.state.isCloudUser&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"border-t border-gray-100 my-1"}),y.jsxs("button",{onClick:()=>this.handleVersionHistoryOpen(),className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(cN,{className:"mr-2 text-gray-400 text-xl"}),"Version History"]})]}),y.jsx("div",{className:"border-t border-gray-100 my-1"}),y.jsx("div",{className:"px-2 py-1",children:y.jsx(aB,{onAuthChange:()=>{}})})]})]}),y.jsx(dB,{open:this.state.showVersionHistory,onClose:this.handleVersionHistoryClose,onRestore:()=>{}})]})}};var pf={exports:{}},mB=pf.exports,ZC;function gB(){return ZC||(ZC=1,(function(r,e){(function(t,i){i()})(mB,function(){function t(m,v){return typeof v>"u"?v={autoBom:!1}:typeof v!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),v={autoBom:!v}),v.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function i(m,v,b){var T=new XMLHttpRequest;T.open("GET",m),T.responseType="blob",T.onload=function(){p(T.response,v,b)},T.onerror=function(){console.error("could not download file")},T.send()}function a(m){var v=new XMLHttpRequest;v.open("HEAD",m,!1);try{v.send()}catch{}return 200<=v.status&&299>=v.status}function l(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(v)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof As=="object"&&As.global===As?As:void 0,f=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!f?function(m,v,b){var T=c.URL||c.webkitURL,S=document.createElement("a");v=v||m.name||"download",S.download=v,S.rel="noopener",typeof m=="string"?(S.href=m,S.origin===location.origin?l(S):a(S.href)?i(m,v,b):l(S,S.target="_blank")):(S.href=T.createObjectURL(m),setTimeout(function(){T.revokeObjectURL(S.href)},4e4),setTimeout(function(){l(S)},0))}:"msSaveOrOpenBlob"in navigator?function(m,v,b){if(v=v||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(t(m,b),v);else if(a(m))i(m,v,b);else{var T=document.createElement("a");T.href=m,T.target="_blank",setTimeout(function(){l(T)})}}:function(m,v,b,T){if(T=T||open("","_blank"),T&&(T.document.title=T.document.body.innerText="downloading..."),typeof m=="string")return i(m,v,b);var S=m.type==="application/octet-stream",O=/constructor/i.test(c.HTMLElement)||c.safari,M=/CriOS\/[\d]+/.test(navigator.userAgent);if((M||S&&O||f)&&typeof FileReader<"u"){var k=new FileReader;k.onloadend=function(){var Y=k.result;Y=M?Y:Y.replace(/^data:[^;]*;/,"data:attachment/file;"),T?T.location.href=Y:location=Y,T=null},k.readAsDataURL(m)}else{var B=c.URL||c.webkitURL,z=B.createObjectURL(m);T?T.location=z:location.href=z,T=null,setTimeout(function(){B.revokeObjectURL(z)},4e4)}});c.saveAs=p.saveAs=p,r.exports=p})})(pf)),pf.exports}var yB=gB();const dD=tn(yB),vB=r=>({visibilityFilter:r.visibilityFilter,searchFilter:r.searchFilter,gameConfig:r.gameConfig,fullState:r}),_B=r=>({uploadState:e=>r(B9(e)),setVisibilityFilter:e=>r(q9(e)),setSearchValue:e=>r(U9(e))}),bB=(r,e,t)=>({...t,visibilityFilter:r.visibilityFilter,searchFilter:r.searchFilter,gameConfig:r.gameConfig,...e,downloadState:()=>{const i=new Blob([JSON.stringify(r.fullState,null,2)],{type:"text/json;charset=utf-8"});dD.saveAs(i,"state.json")}}),EB=tj(vB,_B,bB)(pB),xB=({configs:r,children:e})=>{const[t,i]=U.useState(!1),a=U.useRef(null),l=Bi();U.useEffect(()=>{const m=v=>{a.current&&v.target instanceof Node&&!a.current.contains(v.target)&&t&&i(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[t]);const c=()=>{i(!t)},f=r.find(m=>l.pathname.startsWith(`/${m.name}`)),p=f?f.title:"Select Game";return y.jsxs("div",{className:"min-h-screen bg-white",children:[y.jsx("header",{className:"sticky top-0 z-40 w-full bg-white border-b border-gray-200",children:y.jsxs("div",{className:"px-3 h-11 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:c,className:"p-1 hover:bg-gray-100 rounded-md transition-colors text-gray-500",title:"Menu",children:y.jsx(h9,{className:"text-lg"})}),y.jsx("span",{className:"text-gray-900 font-bold text-lg truncate",children:p})]}),y.jsx("div",{className:"flex items-center",children:y.jsx(EB,{})})]})}),y.jsx("div",{className:`fixed inset-0 bg-black/20 backdrop-blur-[1px] z-[60] duration-300 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>i(!1)}),y.jsx("div",{ref:a,className:`fixed inset-y-0 left-0 w-64 bg-white shadow-2xl z-[70] transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"-translate-x-full"}`,children:y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsxs("div",{className:"px-4 py-4 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("span",{className:"font-bold text-xl text-gray-900",children:"Completionist"}),y.jsx("button",{onClick:()=>i(!1),className:"p-1 hover:bg-gray-100 rounded-md transition-colors text-gray-400 hover:text-gray-600",children:y.jsx(An,{className:"text-xl"})})]}),y.jsxs("div",{className:"grow overflow-y-auto py-2",children:[y.jsx("div",{className:"px-4 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest border-b border-gray-50 mb-1",children:"Select Game"}),r.map(m=>y.jsx(Gu,{to:`/${m.name}`,onClick:()=>i(!1),className:"flex items-center px-4 py-2.5 text-base text-gray-700 hover:bg-gray-50 transition-colors [&.active]:bg-gray-100 [&.active]:text-black [&.active]:font-bold border-l-4 border-transparent [&.active]:border-black",children:m.title},m.name))]}),y.jsx("div",{className:"py-2 border-t border-gray-100",children:y.jsxs(Gu,{to:"/info",onClick:()=>i(!1),className:"flex items-center px-4 py-2.5 text-base text-gray-700 hover:bg-gray-50 transition-colors [&.active]:bg-gray-100 [&.active]:text-black [&.active]:font-bold border-l-4 border-transparent [&.active]:border-black",children:[y.jsx(nb,{className:"mr-2 text-xl"}),"Info / Credits"]})})]})}),y.jsx("main",{className:"max-w-7xl mx-auto px-2",children:e})]})},g0=({configs:r})=>{const e=r[0]?.name;return y.jsx(cP,{children:y.jsx(xB,{configs:r,children:y.jsxs(nN,{children:[y.jsx(Aa,{path:"/info",element:y.jsx(Vq,{})}),y.jsx(Aa,{path:"/:gameName/*",element:y.jsx(Mq,{configs:r})}),y.jsx(Aa,{path:"/",element:y.jsx(Q_,{to:`/${e}`,replace:!0})})]})})})};var h_,eI;function TB(){if(eI)return h_;eI=1;function r(e,t){for(var i=-1,a=e==null?0:e.length;++i<a&&t(e[i],i,e)!==!1;);return e}return h_=r,h_}var f_,tI;function SB(){if(tI)return f_;tI=1;var r=ul(),e=Ba();function t(i,a){return i&&r(a,e(a),i)}return f_=t,f_}var d_,nI;function wB(){if(nI)return d_;nI=1;var r=ul(),e=sc();function t(i,a){return i&&r(a,e(a),i)}return d_=t,d_}var p_,rI;function AB(){if(rI)return p_;rI=1;var r=ul(),e=sb();function t(i,a){return r(i,e(i),a)}return p_=t,p_}var m_,iI;function pD(){if(iI)return m_;iI=1;var r=od(),e=q0(),t=sb(),i=mN(),a=Object.getOwnPropertySymbols,l=a?function(c){for(var f=[];c;)r(f,t(c)),c=e(c);return f}:i;return m_=l,m_}var g_,sI;function RB(){if(sI)return g_;sI=1;var r=ul(),e=pD();function t(i,a){return r(i,e(i),a)}return g_=t,g_}var y_,aI;function mD(){if(aI)return y_;aI=1;var r=dN(),e=pD(),t=sc();function i(a){return r(a,t,e)}return y_=i,y_}var v_,oI;function CB(){if(oI)return v_;oI=1;var r=Object.prototype,e=r.hasOwnProperty;function t(i){var a=i.length,l=new i.constructor(a);return a&&typeof i[0]=="string"&&e.call(i,"index")&&(l.index=i.index,l.input=i.input),l}return v_=t,v_}var __,lI;function IB(){if(lI)return __;lI=1;var r=P0();function e(t,i){var a=i?r(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}return __=e,__}var b_,uI;function NB(){if(uI)return b_;uI=1;var r=/\w*$/;function e(t){var i=new t.constructor(t.source,r.exec(t));return i.lastIndex=t.lastIndex,i}return b_=e,b_}var E_,cI;function OB(){if(cI)return E_;cI=1;var r=ol(),e=r?r.prototype:void 0,t=e?e.valueOf:void 0;function i(a){return t?Object(t.call(a)):{}}return E_=i,E_}var x_,hI;function DB(){if(hI)return x_;hI=1;var r=P0(),e=IB(),t=NB(),i=OB(),a=k2(),l="[object Boolean]",c="[object Date]",f="[object Map]",p="[object Number]",m="[object RegExp]",v="[object Set]",b="[object String]",T="[object Symbol]",S="[object ArrayBuffer]",O="[object DataView]",M="[object Float32Array]",k="[object Float64Array]",B="[object Int8Array]",z="[object Int16Array]",Y="[object Int32Array]",ae="[object Uint8Array]",ue="[object Uint8ClampedArray]",oe="[object Uint16Array]",R="[object Uint32Array]";function C(N,j,D){var L=N.constructor;switch(j){case S:return r(N);case l:case c:return new L(+N);case O:return e(N,D);case M:case k:case B:case z:case Y:case ae:case ue:case oe:case R:return a(N,D);case f:return new L;case p:case b:return new L(N);case m:return t(N);case v:return new L;case T:return i(N)}}return x_=C,x_}var T_,fI;function kB(){if(fI)return T_;fI=1;var r=ld(),e=oi(),t="[object Map]";function i(a){return e(a)&&r(a)==t}return T_=i,T_}var S_,dI;function MB(){if(dI)return S_;dI=1;var r=kB(),e=Jf(),t=F0(),i=t&&t.isMap,a=i?e(i):r;return S_=a,S_}var w_,pI;function jB(){if(pI)return w_;pI=1;var r=ld(),e=oi(),t="[object Set]";function i(a){return e(a)&&r(a)==t}return w_=i,w_}var A_,mI;function VB(){if(mI)return A_;mI=1;var r=jB(),e=Jf(),t=F0(),i=t&&t.isSet,a=i?e(i):r;return A_=a,A_}var R_,gI;function gD(){if(gI)return R_;gI=1;var r=Yf(),e=TB(),t=G0(),i=SB(),a=wB(),l=O2(),c=U0(),f=AB(),p=RB(),m=gN(),v=mD(),b=ld(),T=CB(),S=DB(),O=j2(),M=gn(),k=Xf(),B=MB(),z=cr(),Y=VB(),ae=Ba(),ue=sc(),oe=1,R=2,C=4,N="[object Arguments]",j="[object Array]",D="[object Boolean]",L="[object Date]",I="[object Error]",Ce="[object Function]",Ve="[object GeneratorFunction]",X="[object Map]",ce="[object Number]",ve="[object Object]",Le="[object RegExp]",Fe="[object Set]",P="[object String]",ee="[object Symbol]",le="[object WeakMap]",fe="[object ArrayBuffer]",Te="[object DataView]",Ae="[object Float32Array]",Pe="[object Float64Array]",bt="[object Int8Array]",Ke="[object Int16Array]",ie="[object Int32Array]",J="[object Uint8Array]",_e="[object Uint8ClampedArray]",Ye="[object Uint16Array]",He="[object Uint32Array]",me={};me[N]=me[j]=me[fe]=me[Te]=me[D]=me[L]=me[Ae]=me[Pe]=me[bt]=me[Ke]=me[ie]=me[X]=me[ce]=me[ve]=me[Le]=me[Fe]=me[P]=me[ee]=me[J]=me[_e]=me[Ye]=me[He]=!0,me[I]=me[Ce]=me[le]=!1;function Ie(ge,Ue,Ne,Se,rt,lt){var st,It=Ue&oe,Kn=Ue&R,Bs=Ue&C;if(Ne&&(st=rt?Ne(ge,Se,rt,lt):Ne(ge)),st!==void 0)return st;if(!z(ge))return ge;var Fi=M(ge);if(Fi){if(st=T(ge),!It)return c(ge,st)}else{var Tn=b(ge),Ka=Tn==Ce||Tn==Ve;if(k(ge))return l(ge,It);if(Tn==ve||Tn==N||Ka&&!rt){if(st=Kn||Ka?{}:O(ge),!It)return Kn?p(ge,a(st,ge)):f(ge,i(st,ge))}else{if(!me[Tn])return rt?ge:{};st=S(ge,Tn,It)}}lt||(lt=new r);var Fs=lt.get(ge);if(Fs)return Fs;lt.set(ge,st),Y(ge)?ge.forEach(function(Ut){st.add(Ie(Ut,Ue,Ne,Ut,ge,lt))}):B(ge)&&ge.forEach(function(Ut,xt){st.set(xt,Ie(Ut,Ue,Ne,xt,ge,lt))});var Ya=Bs?Kn?v:m:Kn?ue:ae,Hs=Fi?void 0:Ya(ge);return e(Hs||ge,function(Ut,xt){Hs&&(xt=Ut,Ut=ge[xt]),t(st,xt,Ie(Ut,Ue,Ne,xt,ge,lt))}),st}return R_=Ie,R_}var C_,yI;function LB(){if(yI)return C_;yI=1;var r=gD(),e=4;function t(i){return r(i,e)}return C_=t,C_}var PB=LB();const Gn=tn(PB);var I_,vI;function UB(){if(vI)return I_;vI=1;function r(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return I_=r,I_}var N_,_I;function qB(){if(_I)return N_;_I=1;function r(e,t,i){var a=-1,l=e.length;t<0&&(t=-t>l?0:l+t),i=i>l?l:i,i<0&&(i+=l),l=t>i?0:i-t>>>0,t>>>=0;for(var c=Array(l);++a<l;)c[a]=e[a+t];return c}return N_=r,N_}var O_,bI;function zB(){if(bI)return O_;bI=1;var r=cd(),e=qB();function t(i,a){return a.length<2?i:r(i,e(a,0,-1))}return O_=t,O_}var D_,EI;function yD(){if(EI)return D_;EI=1;var r=hc(),e=UB(),t=zB(),i=fl(),a=Object.prototype,l=a.hasOwnProperty;function c(f,p){p=r(p,f);var m=-1,v=p.length;if(!v)return!0;for(var b=f==null||typeof f!="object"&&typeof f!="function";++m<v;){var T=p[m];if(typeof T=="string"){if(T==="__proto__"&&!l.call(f,"__proto__"))return!1;if(T==="constructor"&&m+1<v&&typeof p[m+1]=="string"&&p[m+1]==="prototype"){if(b&&m===0)continue;return!1}}}var S=t(f,p);return S==null||delete S[i(e(p))]}return D_=c,D_}var k_,xI;function BB(){if(xI)return k_;xI=1;var r=yD();function e(t,i){return t==null?!0:r(t,i)}return k_=e,k_}var FB=BB();const Xh=tn(FB),HB=(r={},e)=>{switch(e.type){case"TOGGLE_ITEM":{const t=Gn(r),i=e.game==="warframe"&&e.category==="resets";return Vu(t,[e.game,e.category,e.title])?Xh(t,[e.game,e.category,e.title]):Ta(t,[e.game,e.category,e.title],i?Date.now():!0),t}case"CLEAR_ITEMS":{const t=Gn(r);return e.titles&&e.titles.length&&e.titles.forEach(i=>{Vu(t,[e.game,e.category,i])&&Xh(t,[e.game,e.category,i])}),t}case"ADD_BUILD_ITEM":{const t=Gn(r),i=e.item.id||e.item.title;return Ta(t,[e.game,e.category,i],e.item),t}case"REMOVE_BUILD_ITEM":{const t=Gn(r);return Xh(t,[e.game,e.category,e.title]),t}case"UPDATE_BUILD_ITEM":{const t=Gn(r),i=e.title,a=e.item.id||e.item.title;return Vu(t,[e.game,e.category,i])&&(i!==a&&Xh(t,[e.game,e.category,i]),Ta(t,[e.game,e.category,a],e.item)),t}case"UPLOAD_STATE":return e.state&&e.state.gameConfig?e.state.gameConfig:r;default:return r}},GB=(r=Pt.SHOW_ALL,e)=>e.type==="SET_VISIBILITY_FILTER"?e.filter:r,$B=(r=Pt.SHOW_ALL,e)=>e.type==="SET_RELIC_VISIBILITY"?e.visible?Pt.SHOW_ALL:Pt.SHOW_ACTIVE:r,KB=(r="",e)=>e.type==="SET_SEARCH_FILTER"?e.filter:r,YB=()=>{try{const r=localStorage.getItem("state");return r===null?void 0:JSON.parse(r)}catch{return}},WB=(r={},e)=>{if(e.type==="DOWNLOAD_STATE"){const t=new Blob([JSON.stringify(YB(),null," ")],{type:"text/json;charset=utf-8"});return dD.saveAs(t,"state.json"),r}else return r};var M_,TI;function QB(){if(TI)return M_;TI=1;var r=V2();function e(t){return r(t)?void 0:t}return M_=e,M_}var j_,SI;function XB(){if(SI)return j_;SI=1;var r=ub();function e(t){var i=t==null?0:t.length;return i?r(t,1):[]}return j_=e,j_}var V_,wI;function JB(){if(wI)return V_;wI=1;var r=XB(),e=U2(),t=q2();function i(a){return t(e(a,void 0,r),a+"")}return V_=i,V_}var L_,AI;function ZB(){if(AI)return L_;AI=1;var r=ud(),e=gD(),t=yD(),i=hc(),a=ul(),l=QB(),c=JB(),f=mD(),p=1,m=2,v=4,b=c(function(T,S){var O={};if(T==null)return O;var M=!1;S=r(S,function(B){return B=i(B,T),M||(M=B.length>1),B}),a(T,f(T),O),M&&(O=e(O,p|m|v,l));for(var k=S.length;k--;)t(O,S[k]);return O});return L_=b,L_}var eF=ZB();const e1=tn(eF);function Au(r){const e=r.type==="ADD_ITEM"?r.item.title:r.title;return`${r.game}-${r.category}-${e}`}const tF=(r={},e)=>{switch(e.type){case"ADD_ITEM":{const t=Gn(r),i=e.item;return i.timestamp=Date.now(),t[Au(e)]=i,t}case"REMOVE_ITEM":{const t=Gn(r);return e1(t,Au(e))}case"INCREMENT_ITEM":{const t=Au(e);if(!r[t])return r;const i=Gn(r);return i[t].count=(r[t].count?r[t].count:0)+1,i}case"DECREMENT_ITEM":{const t=Au(e);if(!r[t])return r;const i=Gn(r),a=r[t].count??0;return a>0&&(i[t].count=a-1),i}case"UPDATE_ITEM":{const t=Au(e);if(!r[t])return r;const i=Gn(r);return i[t].notes=e.notes,e.count!==void 0&&(i[t].count=e.count),i}default:return r}};function RI(r){const e=r.type==="ADD_VOID_ITEM"?r.item.title:r.title;return`${r.game}-${r.category}-${e}`}const nF=(r={},e)=>{switch(e.type){case"ADD_VOID_ITEM":{const t=Gn(r),i=e.item;return i.timestamp=Date.now(),t[RI(e)]=i,t}case"REMOVE_VOID_ITEM":{const t=Gn(r);return e1(t,RI(e))}default:return r}};function rF(r){return typeof r=="string"?r:r&&typeof r=="object"&&typeof r.title=="string"?r.title:""}function iF(r){const e=r.relic;return rF(e)}const sF=(r={},e)=>{switch(e.type){case"TOGGLE_RELIC":{const t=Gn(r),i=iF(e),a=e.relic,l={title:typeof a=="string"?a:a.title||i,available:!0,timestamp:Date.now()};if(!r[i])l.available=!0,t[i]=l;else if(r[i].available===!0)l.available=!1,t[i]=l;else return e1(t,i);return t}default:return r}},aF=dj({gameConfig:HB,visibilityFilter:GB,relicVisibility:$B,searchFilter:KB,stateBackup:WB,todoItems:tF,voidDrops:nF,markedRelics:sF}),oF=({open:r,onUseCloud:e,onUseLocal:t,onMerge:i,cloudUpdated:a,localUpdated:l})=>r?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-11/12 md:w-3/4 overflow-hidden animate-in fade-in zoom-in duration-200 text-left",children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:y.jsx(af,{className:"text-2xl text-sky-700"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Sync Conflict Detected"})]}),y.jsxs("div",{className:"space-y-4 text-gray-600",children:[y.jsx("p",{children:"You have data both in the cloud and locally on this device. Which version would you like to use?"}),y.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2 border border-gray-100",children:[y.jsxs("div",{className:"flex justify-between items-center text-lg",children:[y.jsxs("span",{className:"font-medium text-gray-500 flex items-center gap-1.5",children:[y.jsx(af,{className:"text-xl"})," Cloud data:"]}),y.jsx("span",{className:"text-gray-900",children:a?new Date(a).toLocaleString():"unknown"})]}),y.jsxs("div",{className:"flex justify-between items-center text-lg",children:[y.jsxs("span",{className:"font-medium text-gray-500 flex items-center gap-1.5",children:[y.jsx(cA,{className:"text-xl"})," Local data:"]}),y.jsx("span",{className:"text-gray-900",children:l?new Date(l).toLocaleString():"recently"})]})]})]})]}),y.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex flex-col gap-2",children:[y.jsxs("button",{onClick:i,className:"flex items-center justify-center gap-2 w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(y9,{className:"text-xl"})," Merge Both"]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[y.jsxs("button",{onClick:e,className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(af,{className:"text-xl"})," Use Cloud"]}),y.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-2 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(cA,{className:"text-xl"})," Use Local"]})]})]})]})}):null,lF=({errorType:r,errorMessage:e})=>y.jsxs("div",{className:"m-4 p-4 bg-amber-50 border border-amber-200 rounded-lg text-amber-900 shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(id,{className:"text-amber-600 text-xl"}),y.jsx("h3",{className:"text-lg font-bold",children:"Cloud Sync Unavailable"})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"font-semibold",children:"Unable to connect to cloud storage."}),y.jsxs("p",{children:["You're currently using ",y.jsx("strong",{children:"local storage only"}),". Your changes will be saved to this browser, but won't sync across devices until cloud access is restored."]}),y.jsx("p",{children:"For now, Sign Out to remove this banner and use local storage only."}),y.jsxs("div",{className:"pt-2",children:[y.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[y.jsx(nb,{className:"text-xl"}),y.jsx("span",{children:"What this means:"})]}),y.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[y.jsx("li",{children:"You can continue using the app normally"}),y.jsx("li",{children:"Your data is saved locally in this browser"}),y.jsx("li",{className:"text-amber-800 font-medium",children:"Changes won't sync to the cloud or other devices"}),y.jsx("li",{className:"text-amber-800 font-medium",children:"Clearing browser data will delete your progress"})]})]}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-amber-200 text-sm text-amber-800/80 italic",children:[y.jsx("strong",{children:"Technical details:"})," ",r==="permission-denied"?"Cloud permissions need to be configured. Contact the app administrator.":e||"Connection to cloud storage failed."]})]})]}),y0=[{name:"warframe",title:"Warframe",format:"yaml"},{name:"soulframe",title:"Soulframe",format:"yaml"},{name:"remnant",title:"Remnant: From the Ashes"},{name:"remnant2",title:"Remnant 2",format:"yaml"},{name:"nioh2",title:"Nioh 2"},{name:"ff7",title:"Final Fantasy VII Remake"},{name:"ff14",title:"Final Fantasy XIV"},{name:"desperadosiii",title:"Desperados III"},{name:"hades",title:"Hades"},{name:"riskofrain2",title:"Risk of Rain 2"},{name:"moonlighter",title:"Moonlighter"},{name:"demonsouls",title:"Demon's Souls"},{name:"d2",title:"Diablo 2"},{name:"eldenring",title:"Elden Ring"},{name:"lordsofthefallen",title:"Lords of the Fallen",format:"yaml"},{name:"shadowgambit",title:"Shadow Gambit: The Cursed Crew",format:"yaml"},{name:"seaofthieves",title:"Sea of Thieves",format:"yaml"},{name:"arcraiders",title:"Arc Raiders",format:"yaml"}],Wo=r=>hj(aF,r),uF=({initialStore:r,conflictData:e})=>{const[t,i]=U.useState(r),[a,l]=U.useState(!!e),c=()=>{(async()=>{const m=Wo(e.cloudState);m.subscribe(()=>{Ri(m.getState())}),await Ri(e.cloudState),i(m),l(!1)})()},f=()=>{(async()=>{const m=Wo(e.localState);m.subscribe(()=>{Ri(m.getState())}),await Ri(e.localState),i(m),l(!1)})()},p=()=>{(async()=>{const m=F5({},e.cloudState,e.localState),v=Wo(m);v.subscribe(()=>{Ri(v.getState())}),await Ri(m),i(v),l(!1)})()};return y.jsxs(y.Fragment,{children:[a&&y.jsx(oF,{open:a,onUseCloud:c,onUseLocal:f,onMerge:p,cloudUpdated:e?.cloudUpdated,localUpdated:Date.now()}),y.jsx(q_,{store:t,children:y.jsx(g0,{configs:y0})})]})},cF=async()=>{await new Promise(t=>{const i=D0(Cr,()=>{i(),t()})});const r=await uB();if(r&&"_conflict"in r&&r._conflict){const t=Wo();return{conflict:!0,conflictData:r,store:t}}if(r&&"_error"in r&&r._error){const t=Wo(r.localState);return{error:!0,errorData:r,store:t}}const e=Wo(r);return e.subscribe(()=>{Ri(e.getState())}),{store:e}},hF=()=>{const[r,e]=U.useState(null);return U.useEffect(()=>{let t=!0;return cF().then(i=>{t&&e(i)}).catch(i=>{console.error("Failed to initialize app",i)}),()=>{t=!1}},[]),r?"conflict"in r&&r.conflict?y.jsx(uF,{initialStore:r.store,conflictData:r.conflictData}):"error"in r&&r.error?y.jsxs(q_,{store:r.store,children:[y.jsx(lF,{errorType:r.errorData.errorType,errorMessage:r.errorData.errorMessage}),y.jsx(g0,{configs:y0})]}):y.jsx(q_,{store:r.store,children:y.jsx(g0,{configs:y0})}):null},vD=document.createElement("div");document.body.appendChild(vD);iM.createRoot(vD).render(y.jsx(hF,{}));
