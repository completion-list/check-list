(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var ws=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bm={exports:{}},mu={};var _x;function bj(){if(_x)return mu;_x=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:l}}return mu.Fragment=e,mu.jsx=t,mu.jsxs=t,mu}var bx;function Ej(){return bx||(bx=1,bm.exports=bj()),bm.exports}var y=Ej(),Em={exports:{}},Ne={};var Ex;function Tj(){if(Ex)return Ne;Ex=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,M={};function F(D,X,re){this.props=D,this.context=X,this.refs=M,this.updater=re||k}F.prototype.isReactComponent={},F.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},F.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function z(){}z.prototype=F.prototype;function J(D,X,re){this.props=D,this.context=X,this.refs=M,this.updater=re||k}var le=J.prototype=new z;le.constructor=J,P(le,F.prototype),le.isPureReactComponent=!0;var de=Array.isArray;function ue(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(D,X,re){var ce=re.ref;return{$$typeof:r,type:D,key:X,ref:ce!==void 0?ce:null,props:re}}function j(D,X){return N(D.type,X,D.props)}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function L(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(re){return X[re]})}var I=/\/+/g;function we(D,X){return typeof D=="object"&&D!==null&&D.key!=null?L(""+D.key):X.toString(36)}function Ie(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ue,ue):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Z(D,X,re,ce,fe){var ve=typeof D;(ve==="undefined"||ve==="boolean")&&(D=null);var be=!1;if(D===null)be=!0;else switch(ve){case"bigint":case"string":case"number":be=!0;break;case"object":switch(D.$$typeof){case r:case e:be=!0;break;case v:return be=D._init,Z(be(D._payload),X,re,ce,fe)}}if(be)return fe=fe(D),be=ce===""?"."+we(D,0):ce,de(fe)?(re="",be!=null&&(re=be.replace(I,"$&/")+"/"),Z(fe,X,re,"",function(In){return In})):fe!=null&&(O(fe)&&(fe=j(fe,re+(fe.key==null||D&&D.key===fe.key?"":(""+fe.key).replace(I,"$&/")+"/")+be)),X.push(fe)),1;be=0;var et=ce===""?".":ce+":";if(de(D))for(var Qe=0;Qe<D.length;Qe++)ce=D[Qe],ve=et+we(ce,Qe),be+=Z(ce,X,re,ve,fe);else if(Qe=A(D),typeof Qe=="function")for(D=Qe.call(D),Qe=0;!(ce=D.next()).done;)ce=ce.value,ve=et+we(ce,Qe++),be+=Z(ce,X,re,ve,fe);else if(ve==="object"){if(typeof D.then=="function")return Z(Ie(D),X,re,ce,fe);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return be}function he(D,X,re){if(D==null)return D;var ce=[],fe=0;return Z(D,ce,"","",function(ve){return X.call(re,ve,fe++)}),ce}function ee(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(re){(D._status===0||D._status===-1)&&(D._status=1,D._result=re)},function(re){(D._status===0||D._status===-1)&&(D._status=2,D._result=re)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var ae=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Se={map:he,forEach:function(D,X,re){he(D,function(){X.apply(this,arguments)},re)},count:function(D){var X=0;return he(D,function(){X++}),X},toArray:function(D){return he(D,function(X){return X})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ne.Activity=b,Ne.Children=Se,Ne.Component=F,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=J,Ne.StrictMode=i,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},Ne.cache=function(D){return function(){return D.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(D,X,re){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ce=P({},D.props),fe=D.key;if(X!=null)for(ve in X.key!==void 0&&(fe=""+X.key),X)!R.call(X,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&X.ref===void 0||(ce[ve]=X[ve]);var ve=arguments.length-2;if(ve===1)ce.children=re;else if(1<ve){for(var be=Array(ve),et=0;et<ve;et++)be[et]=arguments[et+2];ce.children=be}return N(D.type,fe,ce)},Ne.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},Ne.createElement=function(D,X,re){var ce,fe={},ve=null;if(X!=null)for(ce in X.key!==void 0&&(ve=""+X.key),X)R.call(X,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(fe[ce]=X[ce]);var be=arguments.length-2;if(be===1)fe.children=re;else if(1<be){for(var et=Array(be),Qe=0;Qe<be;Qe++)et[Qe]=arguments[Qe+2];fe.children=et}if(D&&D.defaultProps)for(ce in be=D.defaultProps,be)fe[ce]===void 0&&(fe[ce]=be[ce]);return N(D,ve,fe)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(D){return{$$typeof:d,render:D}},Ne.isValidElement=O,Ne.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:ee}},Ne.memo=function(D,X){return{$$typeof:g,type:D,compare:X===void 0?null:X}},Ne.startTransition=function(D){var X=C.T,re={};C.T=re;try{var ce=D(),fe=C.S;fe!==null&&fe(re,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ue,ae)}catch(ve){ae(ve)}finally{X!==null&&re.types!==null&&(X.types=re.types),C.T=X}},Ne.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ne.use=function(D){return C.H.use(D)},Ne.useActionState=function(D,X,re){return C.H.useActionState(D,X,re)},Ne.useCallback=function(D,X){return C.H.useCallback(D,X)},Ne.useContext=function(D){return C.H.useContext(D)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(D,X){return C.H.useDeferredValue(D,X)},Ne.useEffect=function(D,X){return C.H.useEffect(D,X)},Ne.useEffectEvent=function(D){return C.H.useEffectEvent(D)},Ne.useId=function(){return C.H.useId()},Ne.useImperativeHandle=function(D,X,re){return C.H.useImperativeHandle(D,X,re)},Ne.useInsertionEffect=function(D,X){return C.H.useInsertionEffect(D,X)},Ne.useLayoutEffect=function(D,X){return C.H.useLayoutEffect(D,X)},Ne.useMemo=function(D,X){return C.H.useMemo(D,X)},Ne.useOptimistic=function(D,X){return C.H.useOptimistic(D,X)},Ne.useReducer=function(D,X,re){return C.H.useReducer(D,X,re)},Ne.useRef=function(D){return C.H.useRef(D)},Ne.useState=function(D){return C.H.useState(D)},Ne.useSyncExternalStore=function(D,X,re){return C.H.useSyncExternalStore(D,X,re)},Ne.useTransition=function(){return C.H.useTransition()},Ne.version="19.2.3",Ne}var Tx;function Pf(){return Tx||(Tx=1,Em.exports=Tj()),Em.exports}var B=Pf();const Xt=Bt(B);var Sx="popstate";function Sj(r={}){function e(a,l){let{pathname:c="/",search:d="",hash:m=""}=Va(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),k_("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=a.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof l=="string"?l:qu(l))}function i(a,l){zn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Aj(e,t,i,r)}function yt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xj(){return Math.random().toString(36).substring(2,10)}function xx(r,e){return{usr:r.state,key:r.key,idx:e}}function k_(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Va(e):e,state:t,key:e&&e.key||i||xj()}}function qu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Va(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function Aj(r,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let M=v(),F=M==null?null:M-g;g=M,m&&m({action:d,location:P.location,delta:F})}function S(M,F){d="PUSH";let z=k_(P.location,M,F);t&&t(z,M),g=v()+1;let J=xx(z,g),le=P.createHref(z);try{c.pushState(J,"",le)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;a.location.assign(le)}l&&m&&m({action:d,location:P.location,delta:1})}function A(M,F){d="REPLACE";let z=k_(P.location,M,F);t&&t(z,M),g=v();let J=xx(z,g),le=P.createHref(z);c.replaceState(J,"",le),l&&m&&m({action:d,location:P.location,delta:0})}function k(M){return wj(M)}let P={get action(){return d},get location(){return r(a,c)},listen(M){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Sx,b),m=M,()=>{a.removeEventListener(Sx,b),m=null}},createHref(M){return e(a,M)},createURL:k,encodeLocation(M){let F=k(M);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:S,replace:A,go(M){return c.go(M)}};return P}function wj(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),yt(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:qu(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function _I(r,e,t="/"){return Rj(r,e,t,!1)}function Rj(r,e,t,i){let a=typeof e=="string"?Va(e):e,l=ji(a.pathname||"/",t);if(l==null)return null;let c=bI(r);Cj(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=Uj(l);d=Pj(c[m],g,i)}return d}function bI(r,e=[],t=[],i="",a=!1){let l=(c,d,m=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;yt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=Di([i,v.relativePath]),S=t.concat(v);c.children&&c.children.length>0&&(yt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),bI(c.children,e,S,b,m)),!(c.path==null&&!c.index)&&e.push({path:b,score:kj(b,c.index),routesMeta:S})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of EI(c.path))l(c,d,!0,m)}),e}function EI(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=EI(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>r.startsWith("/")&&m===""?"/":m)}function Cj(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Vj(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Ij=/^:[\w-]+$/,Nj=3,Oj=2,Dj=1,Mj=10,jj=-2,Ax=r=>r==="*";function kj(r,e){let t=r.split("/"),i=t.length;return t.some(Ax)&&(i+=jj),e&&(i+=Oj),t.filter(a=>!Ax(a)).reduce((a,l)=>a+(Ij.test(l)?Nj:l===""?Dj:Mj),i)}function Vj(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function Pj(r,e,t=!1){let{routesMeta:i}=r,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=cf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),S=m.route;if(!b&&g&&t&&!i[i.length-1].route.index&&(b=cf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Di([l,b.pathname]),pathnameBase:Fj(Di([l,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(l=Di([l,b.pathnameBase]))}return c}function cf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=Lj(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:b},S)=>{if(v==="*"){let k=d[S]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const A=d[S];return b&&!A?g[v]=void 0:g[v]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:r}}function Lj(r,e=!1,t=!0){zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function Uj(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ji(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}var TI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qj=r=>TI.test(r);function zj(r,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof r=="string"?Va(r):r,l;if(t)if(qj(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),zn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=wx(t.substring(1),"/"):l=wx(t,e)}else l=e;return{pathname:l,search:Hj(i),hash:Gj(a)}}function wx(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Tm(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bj(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function g0(r){let e=Bj(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function y0(r,e,t,i=!1){let a;typeof r=="string"?a=Va(r):(a={...r},yt(!a.pathname||!a.pathname.includes("?"),Tm("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),Tm("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),Tm("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),b-=1;a.pathname=S.join("/")}d=b>=0?e[b]:"/"}let m=zj(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Di=r=>r.join("/").replace(/\/\/+/g,"/"),Fj=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Hj=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Gj=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Kj=class{constructor(r,e,t,i=!1){this.status=r,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function $j(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Yj(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var SI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xI(r,e){let t=r;if(typeof t!="string"||!TI.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,a=!1;if(SI)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=ji(c.pathname,e);c.origin===l.origin&&d!=null?t=d+c.search+c.hash:a=!0}catch{zn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var AI=["POST","PUT","PATCH","DELETE"];new Set(AI);var Qj=["GET",...AI];new Set(Qj);var tl=B.createContext(null);tl.displayName="DataRouter";var Lf=B.createContext(null);Lf.displayName="DataRouterState";var Xj=B.createContext(!1),wI=B.createContext({isTransitioning:!1});wI.displayName="ViewTransition";var Wj=B.createContext(new Map);Wj.displayName="Fetchers";var Jj=B.createContext(null);Jj.displayName="Await";var Bn=B.createContext(null);Bn.displayName="Navigation";var Ju=B.createContext(null);Ju.displayName="Location";var Ir=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ir.displayName="Route";var v0=B.createContext(null);v0.displayName="RouteError";var RI="REACT_ROUTER_ERROR",Zj="REDIRECT",ek="ROUTE_ERROR_RESPONSE";function tk(r){if(r.startsWith(`${RI}:${Zj}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function nk(r){if(r.startsWith(`${RI}:${ek}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Kj(e.status,e.statusText,e.data)}catch{}}function rk(r,{relative:e}={}){yt(nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(Bn),{hash:a,pathname:l,search:c}=Zu(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Di([t,l])),i.createHref({pathname:d,search:c,hash:a})}function nl(){return B.useContext(Ju)!=null}function Bi(){return yt(nl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Ju).location}var CI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function II(r){B.useContext(Bn).static||B.useLayoutEffect(r)}function _0(){let{isDataRoute:r}=B.useContext(Ir);return r?yk():ik()}function ik(){yt(nl(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(tl),{basename:e,navigator:t}=B.useContext(Bn),{matches:i}=B.useContext(Ir),{pathname:a}=Bi(),l=JSON.stringify(g0(i)),c=B.useRef(!1);return II(()=>{c.current=!0}),B.useCallback((m,g={})=>{if(zn(c.current,CI),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=y0(m,JSON.parse(l),a,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Di([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,r])}B.createContext(null);function sk(){let{matches:r}=B.useContext(Ir),e=r[r.length-1];return e?e.params:{}}function Zu(r,{relative:e}={}){let{matches:t}=B.useContext(Ir),{pathname:i}=Bi(),a=JSON.stringify(g0(t));return B.useMemo(()=>y0(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function ak(r,e){return NI(r,e)}function NI(r,e,t,i,a){yt(nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=B.useContext(Bn),{matches:c}=B.useContext(Ir),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let z=b&&b.path||"";DI(g,!b||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let S=Bi(),A;if(e){let z=typeof e=="string"?Va(e):e;yt(v==="/"||z.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${z.pathname}" was given in the \`location\` prop.`),A=z}else A=S;let k=A.pathname||"/",P=k;if(v!=="/"){let z=v.replace(/^\//,"").split("/");P="/"+k.replace(/^\//,"").split("/").slice(z.length).join("/")}let M=_I(r,{pathname:P});zn(b||M!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),zn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=hk(M&&M.map(z=>Object.assign({},z,{params:Object.assign({},m,z.params),pathname:Di([v,l.encodeLocation?l.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:Di([v,l.encodeLocation?l.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),c,t,i,a);return e&&F?B.createElement(Ju.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},F):F}function ok(){let r=gk(),e=$j(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=B.createElement(B.Fragment,null,B.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:l},"ErrorBoundary")," or"," ",B.createElement("code",{style:l},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:a},t):null,c)}var lk=B.createElement(ok,null),OI=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=nk(r.digest);t&&(r=t)}let e=r!==void 0?B.createElement(Ir.Provider,{value:this.props.routeContext},B.createElement(v0.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?B.createElement(uk,{error:r},e):e}};OI.contextType=Xj;var Sm=new WeakMap;function uk({children:r,error:e}){let{basename:t}=B.useContext(Bn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=tk(e.digest);if(i){let a=Sm.get(e);if(a)throw a;let l=xI(i.location,t);if(SI&&!Sm.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Sm.set(e,c),c}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function ck({routeContext:r,match:e,children:t}){let i=B.useContext(tl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ir.Provider,{value:r},t)}function hk(r,e=[],t=null,i=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t?.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);yt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(t)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=v),b.route.id){let{loaderData:S,errors:A}=t,k=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!A||A[b.route.id]===void 0);if(b.route.lazy||k){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=t&&i?(v,b)=>{i(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:Yj(t.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,S)=>{let A,k=!1,P=null,M=null;t&&(A=c&&b.route.id?c[b.route.id]:void 0,P=b.route.errorElement||lk,d&&(m<0&&S===0?(DI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,M=null):m===S&&(k=!0,M=b.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,S+1)),z=()=>{let J;return A?J=P:k?J=M:b.route.Component?J=B.createElement(b.route.Component,null):b.route.element?J=b.route.element:J=v,B.createElement(ck,{match:b,routeContext:{outlet:v,matches:F,isDataRoute:t!=null},children:J})};return t&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?B.createElement(OI,{location:t.location,revalidation:t.revalidation,component:P,error:A,children:z(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:g}):z()},null)}function b0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fk(r){let e=B.useContext(tl);return yt(e,b0(r)),e}function dk(r){let e=B.useContext(Lf);return yt(e,b0(r)),e}function pk(r){let e=B.useContext(Ir);return yt(e,b0(r)),e}function E0(r){let e=pk(r),t=e.matches[e.matches.length-1];return yt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function mk(){return E0("useRouteId")}function gk(){let r=B.useContext(v0),e=dk("useRouteError"),t=E0("useRouteError");return r!==void 0?r:e.errors?.[t]}function yk(){let{router:r}=fk("useNavigate"),e=E0("useNavigate"),t=B.useRef(!1);return II(()=>{t.current=!0}),B.useCallback(async(a,l={})=>{zn(t.current,CI),t.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var Rx={};function DI(r,e,t){!e&&!Rx[r]&&(Rx[r]=!0,zn(!1,t))}B.memo(vk);function vk({routes:r,future:e,state:t,onError:i}){return NI(r,void 0,t,i,e)}function V_({to:r,replace:e,state:t,relative:i}){yt(nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=B.useContext(Bn);zn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=B.useContext(Ir),{pathname:c}=Bi(),d=_0(),m=y0(r,g0(l),c,i==="path"),g=JSON.stringify(m);return B.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:i})},[d,g,i,e,t]),null}function Sa(r){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _k({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){yt(!nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof t=="string"&&(t=Va(t));let{pathname:g="/",search:v="",hash:b="",state:S=null,key:A="default"}=t,k=B.useMemo(()=>{let P=ji(g,d);return P==null?null:{location:{pathname:P,search:v,hash:b,state:S,key:A},navigationType:i}},[d,g,v,b,S,A,i]);return zn(k!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:B.createElement(Bn.Provider,{value:m},B.createElement(Ju.Provider,{children:e,value:k}))}function MI({children:r,location:e}){return ak(P_(r),e)}function P_(r,e=[]){let t=[];return B.Children.forEach(r,(i,a)=>{if(!B.isValidElement(i))return;let l=[...e,a];if(i.type===B.Fragment){t.push.apply(t,P_(i.props.children,l));return}yt(i.type===Sa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=P_(i.props.children,l)),t.push(c)}),t}var Xh="get",Wh="application/x-www-form-urlencoded";function Uf(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function bk(r){return Uf(r)&&r.tagName.toLowerCase()==="button"}function Ek(r){return Uf(r)&&r.tagName.toLowerCase()==="form"}function Tk(r){return Uf(r)&&r.tagName.toLowerCase()==="input"}function Sk(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function xk(r,e){return r.button===0&&(!e||e==="_self")&&!Sk(r)}var zh=null;function Ak(){if(zh===null)try{new FormData(document.createElement("form"),0),zh=!1}catch{zh=!0}return zh}var wk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(r){return r!=null&&!wk.has(r)?(zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wh}"`),null):r}function Rk(r,e){let t,i,a,l,c;if(Ek(r)){let d=r.getAttribute("action");i=d?ji(d,e):null,t=r.getAttribute("method")||Xh,a=xm(r.getAttribute("enctype"))||Wh,l=new FormData(r)}else if(bk(r)||Tk(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||d.getAttribute("action");if(i=m?ji(m,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||Xh,a=xm(r.getAttribute("formenctype"))||xm(d.getAttribute("enctype"))||Wh,l=new FormData(d,r),!Ak()){let{name:g,type:v,value:b}=r;if(v==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,b)}}else{if(Uf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Xh,i=null,a=Wh,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function T0(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ck(r,e,t,i){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&ji(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function Ik(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Nk(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Ok(r,e,t){let i=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await Ik(l,t);return c.links?c.links():[]}return[]}));return kk(i.flat(1).filter(Nk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Cx(r,e,t,i,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Dk(r,e,{includeHydrateFallback:t}={}){return Mk(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Mk(r){return[...new Set(r)]}function jk(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function kk(r,e){let t=new Set;return new Set(e),r.reduce((i,a)=>{let l=JSON.stringify(jk(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function jI(){let r=B.useContext(tl);return T0(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Vk(){let r=B.useContext(Lf);return T0(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var S0=B.createContext(void 0);S0.displayName="FrameworkContext";function kI(){let r=B.useContext(S0);return T0(r,"You must render this element inside a <HydratedRouter> element"),r}function Pk(r,e){let t=B.useContext(S0),[i,a]=B.useState(!1),[l,c]=B.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,S=B.useRef(null);B.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let P=F=>{F.forEach(z=>{c(z.isIntersecting)})},M=new IntersectionObserver(P,{threshold:.5});return S.current&&M.observe(S.current),()=>{M.disconnect()}}},[r]),B.useEffect(()=>{if(i){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[i]);let A=()=>{a(!0)},k=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,S,{}]:[l,S,{onFocus:gu(d,A),onBlur:gu(m,k),onMouseEnter:gu(g,A),onMouseLeave:gu(v,k),onTouchStart:gu(b,A)}]:[!1,S,{}]}function gu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Lk({page:r,...e}){let{router:t}=jI(),i=B.useMemo(()=>_I(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?B.createElement(qk,{page:r,matches:i,...e}):null}function Uk(r){let{manifest:e,routeModules:t}=kI(),[i,a]=B.useState([]);return B.useEffect(()=>{let l=!1;return Ok(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),i}function qk({page:r,matches:e,...t}){let i=Bi(),{future:a,manifest:l,routeModules:c}=kI(),{basename:d}=jI(),{loaderData:m,matches:g}=Vk(),v=B.useMemo(()=>Cx(r,e,g,l,i,"data"),[r,e,g,l,i]),b=B.useMemo(()=>Cx(r,e,g,l,i,"assets"),[r,e,g,l,i]),S=B.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let P=new Set,M=!1;if(e.forEach(z=>{let J=l.routes[z.route.id];!J||!J.hasLoader||(!v.some(le=>le.route.id===z.route.id)&&z.route.id in m&&c[z.route.id]?.shouldRevalidate||J.hasClientLoader?M=!0:P.add(z.route.id))}),P.size===0)return[];let F=Ck(r,d,a.unstable_trailingSlashAwareDataRequests,"data");return M&&P.size>0&&F.searchParams.set("_routes",e.filter(z=>P.has(z.route.id)).map(z=>z.route.id).join(",")),[F.pathname+F.search]},[d,a.unstable_trailingSlashAwareDataRequests,m,i,l,v,e,r,c]),A=B.useMemo(()=>Dk(b,l),[b,l]),k=Uk(b);return B.createElement(B.Fragment,null,S.map(P=>B.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),A.map(P=>B.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),k.map(({key:P,link:M})=>B.createElement("link",{key:P,nonce:t.nonce,...M})))}function zk(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Bk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bk&&(window.__reactRouterVersion="7.12.0")}catch{}function Fk({basename:r,children:e,unstable_useTransitions:t,window:i}){let a=B.useRef();a.current==null&&(a.current=Sj({window:i,v5Compat:!0}));let l=a.current,[c,d]=B.useState({action:l.action,location:l.location}),m=B.useCallback(g=>{t===!1?d(g):B.startTransition(()=>d(g))},[t]);return B.useLayoutEffect(()=>l.listen(m),[l,m]),B.createElement(_k,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var VI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PI=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:S,...A},k){let{basename:P,unstable_useTransitions:M}=B.useContext(Bn),F=typeof g=="string"&&VI.test(g),z=xI(g,P);g=z.to;let J=rk(g,{relative:a}),[le,de,ue]=Pk(i,A),C=Kk(g,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:S,unstable_useTransitions:M});function R(j){e&&e(j),j.defaultPrevented||C(j)}let N=B.createElement("a",{...A,...ue,href:z.absoluteURL||J,onClick:z.isExternal||l?e:R,ref:zk(k,de),target:m,"data-discover":!F&&t==="render"?"true":void 0});return le&&!F?B.createElement(B.Fragment,null,N,B.createElement(Lk,{page:J})):N});PI.displayName="Link";var zu=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},v){let b=Zu(c,{relative:g.relative}),S=Bi(),A=B.useContext(Lf),{navigator:k,basename:P}=B.useContext(Bn),M=A!=null&&Wk(b)&&d===!0,F=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,z=S.pathname,J=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(z=z.toLowerCase(),J=J?J.toLowerCase():null,F=F.toLowerCase()),J&&P&&(J=ji(J,P)||J);const le=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let de=z===F||!a&&z.startsWith(F)&&z.charAt(le)==="/",ue=J!=null&&(J===F||!a&&J.startsWith(F)&&J.charAt(F.length)==="/"),C={isActive:de,isPending:ue,isTransitioning:M},R=de?e:void 0,N;typeof i=="function"?N=i(C):N=[i,de?"active":null,ue?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(C):l;return B.createElement(PI,{...g,"aria-current":R,className:N,ref:v,style:j,to:c,viewTransition:d},typeof m=="function"?m(C):m)});zu.displayName="NavLink";var Hk=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Xh,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:S,...A},k)=>{let{unstable_useTransitions:P}=B.useContext(Bn),M=Qk(),F=Xk(d,{relative:g}),z=c.toLowerCase()==="get"?"get":"post",J=typeof d=="string"&&VI.test(d),le=de=>{if(m&&m(de),de.defaultPrevented)return;de.preventDefault();let ue=de.nativeEvent.submitter,C=ue?.getAttribute("formmethod")||c,R=()=>M(ue||de.currentTarget,{fetcherKey:e,method:C,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:S});P&&t!==!1?B.startTransition(()=>R()):R()};return B.createElement("form",{ref:k,method:z,action:F,onSubmit:i?m:le,...A,"data-discover":!J&&r==="render"?"true":void 0})});Hk.displayName="Form";function Gk(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LI(r){let e=B.useContext(tl);return yt(e,Gk(r)),e}function Kk(r,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let g=_0(),v=Bi(),b=Zu(r,{relative:l});return B.useCallback(S=>{if(xk(S,e)){S.preventDefault();let A=t!==void 0?t:qu(v)===qu(b),k=()=>g(r,{replace:A,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});m?B.startTransition(()=>k()):k()}},[v,g,b,t,i,e,r,a,l,c,d,m])}var $k=0,Yk=()=>`__${String(++$k)}__`;function Qk(){let{router:r}=LI("useSubmit"),{basename:e}=B.useContext(Bn),t=mk(),i=r.fetch,a=r.navigate;return B.useCallback(async(l,c={})=>{let{action:d,method:m,encType:g,formData:v,body:b}=Rk(l,e);if(c.navigate===!1){let S=c.fetcherKey||Yk();await i(S,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,t])}function Xk(r,{relative:e}={}){let{basename:t}=B.useContext(Bn),i=B.useContext(Ir);yt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Zu(r||".",{relative:e})},c=Bi();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Di([t,l.pathname])),qu(l)}function Wk(r,{relative:e}={}){let t=B.useContext(wI);yt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=LI("useViewTransitionState"),a=Zu(r,{relative:e});if(!t.isTransitioning)return!1;let l=ji(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ji(t.nextLocation.pathname,i)||t.nextLocation.pathname;return cf(a.pathname,c)!=null||cf(a.pathname,l)!=null}var Am={exports:{}},ln={};var Ix;function Jk(){if(Ix)return ln;Ix=1;var r=Pf();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:g,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ln.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},ln.flushSync=function(m){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=v,i.d.f()}},ln.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},ln.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},ln.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:A}):v==="script"&&i.d.X(m,{crossOrigin:b,integrity:S,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ln.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},ln.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ln.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},ln.requestFormReset=function(m){i.d.r(m)},ln.unstable_batchedUpdates=function(m,g){return m(g)},ln.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},ln.useFormStatus=function(){return c.H.useHostTransitionStatus()},ln.version="19.2.3",ln}var Nx;function Zk(){if(Nx)return Am.exports;Nx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Am.exports=Jk(),Am.exports}var wm={exports:{}},Rm,Ox;function eV(){if(Ox)return Rm;Ox=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Rm=r,Rm}var Cm,Dx;function tV(){if(Dx)return Cm;Dx=1;var r=eV();function e(){}function t(){}return t.resetWarningCache=e,Cm=function(){function i(c,d,m,g,v,b){if(b!==r){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Cm}var Mx;function nV(){return Mx||(Mx=1,wm.exports=tV()()),wm.exports}var rV=nV();const U=Bt(rV),iV="modulepreload",sV=function(r){return"/check-list/"+r},jx={},Je=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let g=function(v){return Promise.all(v.map(b=>Promise.resolve(b).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var c=g;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");a=g(t.map(v=>{if(v=sV(v),v in jx)return;jx[v]=!0;const b=v.endsWith(".css"),S=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${S}`))return;const A=document.createElement("link");if(A.rel=b?"stylesheet":iV,b||(A.as="script"),A.crossOrigin="",A.href=v,m&&A.setAttribute("nonce",m),document.head.appendChild(A),b)return new Promise((k,P)=>{A.addEventListener("load",k),A.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return a.then(d=>{for(const m of d||[])m.status==="rejected"&&l(m.reason);return e().catch(l)})},UI=(r,e,t)=>{const i=r[e];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((a,l)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(l.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})};var Im={exports:{}},Nm={};var kx;function aV(){if(kx)return Nm;kx=1;var r=Pf();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=r.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,d=r.useDebugValue;return Nm.useSyncExternalStoreWithSelector=function(m,g,v,b,S){var A=a(null);if(A.current===null){var k={hasValue:!1,value:null};A.current=k}else k=A.current;A=c(function(){function M(de){if(!F){if(F=!0,z=de,de=b(de),S!==void 0&&k.hasValue){var ue=k.value;if(S(ue,de))return J=ue}return J=de}if(ue=J,t(z,de))return ue;var C=b(de);return S!==void 0&&S(ue,C)?(z=de,ue):(z=de,J=C)}var F=!1,z,J,le=v===void 0?null:v;return[function(){return M(g())},le===null?void 0:function(){return M(le())}]},[g,v,b,S]);var P=i(m,A[0],A[1]);return l(function(){k.hasValue=!0,k.value=P},[P]),d(P),P},Nm}var Vx;function oV(){return Vx||(Vx=1,Im.exports=aV()),Im.exports}var lV=oV(),uV=B.version.startsWith("19"),cV=Symbol.for(uV?"react.transitional.element":"react.element"),hV=Symbol.for("react.portal"),fV=Symbol.for("react.fragment"),dV=Symbol.for("react.strict_mode"),pV=Symbol.for("react.profiler"),mV=Symbol.for("react.consumer"),gV=Symbol.for("react.context"),qI=Symbol.for("react.forward_ref"),yV=Symbol.for("react.suspense"),vV=Symbol.for("react.suspense_list"),x0=Symbol.for("react.memo"),_V=Symbol.for("react.lazy"),bV=qI,EV=x0;function TV(r){if(typeof r=="object"&&r!==null){const{$$typeof:e}=r;switch(e){case cV:switch(r=r.type,r){case fV:case pV:case dV:case yV:case vV:return r;default:switch(r=r&&r.$$typeof,r){case gV:case qI:case _V:case x0:return r;case mV:return r;default:return e}}case hV:return e}}}function SV(r){return TV(r)===x0}function xV(r,e,t,i,{areStatesEqual:a,areOwnPropsEqual:l,areStatePropsEqual:c}){let d=!1,m,g,v,b,S;function A(z,J){return m=z,g=J,v=r(m,g),b=e(i,g),S=t(v,b,g),d=!0,S}function k(){return v=r(m,g),e.dependsOnOwnProps&&(b=e(i,g)),S=t(v,b,g),S}function P(){return r.dependsOnOwnProps&&(v=r(m,g)),e.dependsOnOwnProps&&(b=e(i,g)),S=t(v,b,g),S}function M(){const z=r(m,g),J=!c(z,v);return v=z,J&&(S=t(v,b,g)),S}function F(z,J){const le=!l(J,g),de=!a(z,m,J,g);return m=z,g=J,le&&de?k():le?P():de?M():S}return function(J,le){return d?F(J,le):A(J,le)}}function AV(r,{initMapStateToProps:e,initMapDispatchToProps:t,initMergeProps:i,...a}){const l=e(r,a),c=t(r,a),d=i(r,a);return xV(l,c,d,r,a)}function wV(r,e){const t={};for(const i in r){const a=r[i];typeof a=="function"&&(t[i]=(...l)=>e(a(...l)))}return t}function L_(r){return function(t){const i=r(t);function a(){return i}return a.dependsOnOwnProps=!1,a}}function Px(r){return r.dependsOnOwnProps?!!r.dependsOnOwnProps:r.length!==1}function zI(r,e){return function(i,{displayName:a}){const l=function(d,m){return l.dependsOnOwnProps?l.mapToProps(d,m):l.mapToProps(d,void 0)};return l.dependsOnOwnProps=!0,l.mapToProps=function(d,m){l.mapToProps=r,l.dependsOnOwnProps=Px(r);let g=l(d,m);return typeof g=="function"&&(l.mapToProps=g,l.dependsOnOwnProps=Px(g),g=l(d,m)),g},l}}function A0(r,e){return(t,i)=>{throw new Error(`Invalid value of type ${typeof r} for ${e} argument when connecting component ${i.wrappedComponentName}.`)}}function RV(r){return r&&typeof r=="object"?L_(e=>wV(r,e)):r?typeof r=="function"?zI(r):A0(r,"mapDispatchToProps"):L_(e=>({dispatch:e}))}function CV(r){return r?typeof r=="function"?zI(r):A0(r,"mapStateToProps"):L_(()=>({}))}function IV(r,e,t){return{...t,...r,...e}}function NV(r){return function(t,{displayName:i,areMergedPropsEqual:a}){let l=!1,c;return function(m,g,v){const b=r(m,g,v);return l?a(b,c)||(c=b):(l=!0,c=b),c}}}function OV(r){return r?typeof r=="function"?NV(r):A0(r,"mergeProps"):()=>IV}function DV(r){r()}function MV(){let r=null,e=null;return{clear(){r=null,e=null},notify(){DV(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=r;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:r=a,function(){!i||r===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:r=a.next)}}}}var Lx={notify(){},get:()=>[]};function BI(r,e){let t,i=Lx,a=0,l=!1;function c(P){v();const M=i.subscribe(P);let F=!1;return()=>{F||(F=!0,M(),b())}}function d(){i.notify()}function m(){k.onStateChange&&k.onStateChange()}function g(){return l}function v(){a++,t||(t=e?e.addNestedSub(m):r.subscribe(m),i=MV())}function b(){a--,t&&a===0&&(t(),t=void 0,i.clear(),i=Lx)}function S(){l||(l=!0,v())}function A(){l&&(l=!1,b())}const k={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:g,trySubscribe:S,tryUnsubscribe:A,getListeners:()=>i};return k}var jV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kV=jV(),VV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",PV=VV(),LV=()=>kV||PV?B.useLayoutEffect:B.useEffect,hf=LV();function Ux(r,e){return r===e?r!==0||e!==0||1/r===1/e:r!==r&&e!==e}function Om(r,e){if(Ux(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;const t=Object.keys(r),i=Object.keys(e);if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(!Object.prototype.hasOwnProperty.call(e,t[a])||!Ux(r[t[a]],e[t[a]]))return!1;return!0}var UV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},qV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},zV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},FI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},BV={[bV]:zV,[EV]:FI};function qx(r){return SV(r)?FI:BV[r.$$typeof]||UV}var FV=Object.defineProperty,HV=Object.getOwnPropertyNames,zx=Object.getOwnPropertySymbols,GV=Object.getOwnPropertyDescriptor,KV=Object.getPrototypeOf,Bx=Object.prototype;function U_(r,e){if(typeof e!="string"){if(Bx){const l=KV(e);l&&l!==Bx&&U_(r,l)}let t=HV(e);zx&&(t=t.concat(zx(e)));const i=qx(r),a=qx(e);for(let l=0;l<t.length;++l){const c=t[l];if(!qV[c]&&!(a&&a[c])&&!(i&&i[c])){const d=GV(e,c);try{FV(r,c,d)}catch{}}}}return r}var $V=Symbol.for("react-redux-context"),YV=typeof globalThis<"u"?globalThis:{};function QV(){if(!B.createContext)return{};const r=YV[$V]??=new Map;let e=r.get(B.createContext);return e||(e=B.createContext(null),r.set(B.createContext,e)),e}var ki=QV(),XV=[null,null];function WV(r,e,t){hf(()=>r(...e),t)}function JV(r,e,t,i,a,l){r.current=i,t.current=!1,a.current&&(a.current=null,l())}function ZV(r,e,t,i,a,l,c,d,m,g,v){if(!r)return()=>{};let b=!1,S=null;const A=()=>{if(b||!d.current)return;const P=e.getState();let M,F;try{M=i(P,a.current)}catch(z){F=z,S=z}F||(S=null),M===l.current?c.current||g():(l.current=M,m.current=M,c.current=!0,v())};return t.onStateChange=A,t.trySubscribe(),A(),()=>{if(b=!0,t.tryUnsubscribe(),t.onStateChange=null,S)throw S}}function eP(r,e){return r===e}function tP(r,e,t,{pure:i,areStatesEqual:a=eP,areOwnPropsEqual:l=Om,areStatePropsEqual:c=Om,areMergedPropsEqual:d=Om,forwardRef:m=!1,context:g=ki}={}){const v=g,b=CV(r),S=RV(e),A=OV(t),k=!!r;return M=>{const F=M.displayName||M.name||"Component",z=`Connect(${F})`,J={shouldHandleStateChanges:k,displayName:z,wrappedComponentName:F,WrappedComponent:M,initMapStateToProps:b,initMapDispatchToProps:S,initMergeProps:A,areStatesEqual:a,areStatePropsEqual:c,areOwnPropsEqual:l,areMergedPropsEqual:d};function le(C){const[R,N,j]=B.useMemo(()=>{const{reactReduxForwardedRef:Et,...vn}=C;return[C.context,Et,vn]},[C]),O=B.useMemo(()=>{let Et=v;return R?.Consumer,Et},[R,v]),L=B.useContext(O),I=!!C.store&&!!C.store.getState&&!!C.store.dispatch,we=!!L&&!!L.store,Ie=I?C.store:L.store,Z=we?L.getServerState:Ie.getState,he=B.useMemo(()=>AV(Ie.dispatch,J),[Ie]),[ee,ae]=B.useMemo(()=>{if(!k)return XV;const Et=BI(Ie,I?void 0:L.subscription),vn=Et.notifyNestedSubs.bind(Et);return[Et,vn]},[Ie,I,L]),Se=B.useMemo(()=>I?L:{...L,subscription:ee},[I,L,ee]),D=B.useRef(void 0),X=B.useRef(j),re=B.useRef(void 0),ce=B.useRef(!1),fe=B.useRef(!1),ve=B.useRef(void 0);hf(()=>(fe.current=!0,()=>{fe.current=!1}),[]);const be=B.useMemo(()=>()=>re.current&&j===X.current?re.current:he(Ie.getState(),j),[Ie,j]),et=B.useMemo(()=>vn=>ee?ZV(k,Ie,ee,he,X,D,ce,fe,re,ae,vn):()=>{},[ee]);WV(JV,[X,D,ce,j,re,ae]);let Qe;try{Qe=B.useSyncExternalStore(et,be,Z?()=>he(Z(),j):be)}catch(Et){throw ve.current&&(Et.message+=`
The error may be correlated with this previous error:
${ve.current.stack}

`),Et}hf(()=>{ve.current=void 0,re.current=void 0,D.current=Qe});const In=B.useMemo(()=>B.createElement(M,{...Qe,ref:N}),[N,M,Qe]);return B.useMemo(()=>k?B.createElement(O.Provider,{value:Se},In):In,[O,In,Se])}const ue=B.memo(le);if(ue.WrappedComponent=M,ue.displayName=le.displayName=z,m){const R=B.forwardRef(function(j,O){return B.createElement(ue,{...j,reactReduxForwardedRef:O})});return R.displayName=z,R.WrappedComponent=M,U_(R,M)}return U_(ue,M)}}var nP=tP;function rP(r){const{children:e,context:t,serverState:i,store:a}=r,l=B.useMemo(()=>{const m=BI(a);return{store:a,subscription:m,getServerState:i?()=>i:void 0}},[a,i]),c=B.useMemo(()=>a.getState(),[a]);hf(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==a.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=t||ki;return B.createElement(d.Provider,{value:l},e)}var q_=rP;function w0(r=ki){return function(){return B.useContext(r)}}var HI=w0();function GI(r=ki){const e=r===ki?HI:w0(r),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var iP=GI();function sP(r=ki){const e=r===ki?iP:GI(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var aP=sP(),oP=(r,e)=>r===e;function lP(r=ki){const e=r===ki?HI:w0(r),t=(i,a={})=>{const{equalityFn:l=oP}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:d,subscription:m,getServerState:g}=c;B.useRef(!0);const v=B.useCallback({[i.name](S){return i(S)}}[i.name],[i]),b=lV.useSyncExternalStoreWithSelector(m.addNestedSub,d.getState,g||d.getState,v,l);return B.useDebugValue(b),b};return Object.assign(t,{withTypes:()=>t}),t}var ya=lP();const Rn=({className:r="",...e})=>y.jsx("i",{className:`checkmark icon ${r}`,...e}),KI=({className:r="",...e})=>y.jsx("i",{className:`chevron down icon ${r}`,...e}),R0=({className:r="",...e})=>y.jsx("i",{className:`chevron right icon ${r}`,...e}),C0=({className:r="",...e})=>y.jsx("i",{className:`exclamation triangle icon ${r}`,...e}),Bu=({className:r="",...e})=>y.jsx("i",{className:`book open icon ${r}`,...e}),I0=({className:r="",...e})=>y.jsx("i",{className:`lock icon ${r}`,...e}),qf=({className:r="",...e})=>y.jsx("i",{className:`settings icon ${r}`,...e}),$I=({className:r="",...e})=>y.jsx("i",{className:`trash icon ${r}`,...e}),ff=({className:r="",...e})=>y.jsx("i",{className:`shopping cart icon ${r}`,...e}),YI=({className:r="",...e})=>y.jsx("i",{className:`archive icon ${r}`,...e}),QI=({className:r="",...e})=>y.jsx("i",{className:`bars icon ${r}`,...e}),XI=({className:r="",...e})=>y.jsx("i",{className:`search icon ${r}`,...e}),dn=({className:r="",...e})=>y.jsx("i",{className:`remove icon ${r}`,...e}),df=({className:r="",...e})=>y.jsx("i",{className:`eye slash icon ${r}`,...e}),zf=({className:r="",...e})=>y.jsx("i",{className:`info circle icon ${r}`,...e}),Ou=({className:r="",...e})=>y.jsx("i",{className:`cloud icon ${r}`,...e}),WI=({className:r="",...e})=>y.jsx("i",{className:`download icon ${r}`,...e}),JI=({className:r="",...e})=>y.jsx("i",{className:`upload icon ${r}`,...e}),N0=({className:r="",...e})=>y.jsx("i",{className:`history icon ${r}`,...e}),ZI=({className:r="",...e})=>y.jsx("i",{className:`sign in icon ${r}`,...e}),eN=({className:r="",...e})=>y.jsx("i",{className:`sign out icon ${r}`,...e}),tN=({className:r="",...e})=>y.jsx("i",{className:`compress icon ${r}`,...e}),z_=({className:r="",...e})=>y.jsx("i",{className:`desktop icon ${r}`,...e}),Vi=({className:r="",...e})=>y.jsx("i",{className:`spinner loading icon ${r}`,...e}),nN=({className:r="",...e})=>y.jsx("i",{className:`undo icon ${r}`,...e}),xa=({className:r="",...e})=>y.jsx("i",{className:`plus icon ${r}`,...e}),Bf=({className:r="",...e})=>y.jsx("i",{className:`minus icon ${r}`,...e}),ec=({className:r="",...e})=>y.jsx("i",{className:`edit icon ${r}`,...e}),tc=({className:r="",...e})=>y.jsx("i",{className:`warning circle icon ${r}`,...e}),rN=({className:r="",...e})=>y.jsx("i",{className:`star icon ${r}`,...e}),iN=({className:r="",...e})=>y.jsx("i",{className:`globe icon ${r}`,...e}),sN=({className:r="",...e})=>y.jsx("i",{className:`eye icon ${r}`,...e}),aN=({className:r="",...e})=>y.jsx("i",{className:`low vision icon ${r}`,...e}),oN=({className:r="",...e})=>y.jsx("i",{className:`android icon ${r}`,...e}),B_=({className:r="",...e})=>y.jsx("i",{className:`gem icon ${r}`,...e}),lN=({className:r="",...e})=>y.jsx("i",{className:`tree icon ${r}`,...e}),uN=({className:r="",...e})=>y.jsx("i",{className:`leaf icon ${r}`,...e}),cN=({className:r="",...e})=>y.jsx("i",{className:`map signs icon ${r}`,...e}),hN=({className:r="",...e})=>y.jsx("i",{className:`fish icon ${r}`,...e}),ke={className:U.string,onClick:U.func,title:U.string};Rn.propTypes=ke;KI.propTypes=ke;R0.propTypes=ke;C0.propTypes=ke;Bu.propTypes=ke;I0.propTypes=ke;qf.propTypes=ke;$I.propTypes=ke;ff.propTypes=ke;YI.propTypes=ke;QI.propTypes=ke;XI.propTypes=ke;dn.propTypes=ke;df.propTypes=ke;zf.propTypes=ke;Ou.propTypes=ke;WI.propTypes=ke;JI.propTypes=ke;N0.propTypes=ke;ZI.propTypes=ke;eN.propTypes=ke;tN.propTypes=ke;z_.propTypes=ke;Vi.propTypes=ke;nN.propTypes=ke;xa.propTypes=ke;Bf.propTypes=ke;ec.propTypes=ke;tc.propTypes=ke;rN.propTypes=ke;iN.propTypes=ke;sN.propTypes=ke;aN.propTypes=ke;oN.propTypes=ke;B_.propTypes=ke;lN.propTypes=ke;uN.propTypes=ke;cN.propTypes=ke;hN.propTypes=ke;const uP=(r,e,t)=>({type:"TOGGLE_ITEM",game:r,category:e,title:t}),cP=r=>({type:"TOGGLE_RELIC",relic:r}),hP=(r,e,t)=>({type:"CLEAR_ITEMS",game:r,category:e,titles:t}),fP=(r,e,t)=>({type:"ADD_ITEM",game:r,category:e,item:t}),dP=(r,e,t)=>({type:"ADD_BUILD_ITEM",game:r,category:e,item:t}),pP=(r,e,t)=>({type:"ADD_VOID_ITEM",game:r,category:e,item:t}),mP=(r,e,t)=>({type:"REMOVE_ITEM",game:r,category:e,title:t}),gP=(r,e,t)=>({type:"REMOVE_BUILD_ITEM",game:r,category:e,title:t}),yP=(r,e,t)=>({type:"REMOVE_VOID_ITEM",game:r,category:e,title:t}),vP=(r,e,t)=>({type:"INCREMENT_ITEM",game:r,category:e,title:t}),_P=(r,e,t)=>({type:"DECREMENT_ITEM",game:r,category:e,title:t}),bP=(r,e,t,i,a)=>({type:"UPDATE_ITEM",game:r,category:e,title:t,notes:i,count:a}),EP=(r,e,t,i)=>({type:"UPDATE_BUILD_ITEM",game:r,category:e,title:t,item:i}),TP=r=>({type:"SET_SEARCH_VALUE",value:r}),SP=r=>({type:"SET_VISIBILITY_FILTER",filter:r}),xP=r=>({type:"SET_RELIC_VISIBILITY",filter:r}),rn={SHOW_ALL:"SHOW_ALL",SHOW_ACTIVE:"SHOW_ACTIVE"},AP=r=>({type:"UPLOAD_STATE",state:r});class fN extends Xt.Component{renderItems(e,t){return y.jsx("ul",{className:"list-none p-0 m-0",children:e.map((i,a)=>this.renderItem(i,a,t))})}handleItemClick(e){return t=>{const i=typeof e=="object"&&e!==null?e.key||e.title:e;this.props.onItemClick(i),t.stopPropagation()}}handleClearClick(e){return t=>{this.props.onClear(e.map(i=>typeof i=="object"&&i!==null?i.key||i.title:i)),t.stopPropagation()}}renderLocation(e){return!e||!e.length||e===""?null:(Array.isArray(e)?e:[e]).map((i,a)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:i},a))}renderItem(e,t,i){if(!e||e.hidden)return null;const a=e.readOnly;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(e).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const l=this.props.visibilityFilter===rn.SHOW_ACTIVE&&e.checked,c=typeof e=="string"||e instanceof String?e:e.title,d=!!e.items,m=e.checked?"text-green-500":"text-gray-400",g=e.tags?e.tags.map((S,A)=>S==="missable"?y.jsx("span",{title:S,className:"text-red-600 ml-1 inline-block font-normal",children:y.jsx(C0,{})},A):null):null,v=e.hint?y.jsxs("span",{className:"opacity-40 text-sm italic font-normal",children:[" ",e.hint]}):null,b=!e.items&&!(a||i);return y.jsx("li",{className:`py-0.5 rounded-sm ${l?"opacity-40":""} ${d?"mt-1.5":""}`,children:y.jsxs("div",{className:"flex items-start",children:[!(a||i)&&y.jsx("div",{className:`mr-1 shrink-0 flex items-center h-[1.35em] ${m} ${b?"cursor-pointer":""}`,onClick:b?this.handleItemClick(e):void 0,children:e.items?e.checked?y.jsx(Rn,{}):y.jsx(KI,{}):e.checked?y.jsx(Rn,{}):y.jsx(R0,{})}),y.jsxs("div",{className:"grow",children:[y.jsxs("div",{className:"leading-tight",children:[e.items&&e.readOnly?y.jsxs("span",{className:"underline font-bold text-gray-900 text-base",children:[c,v,g]}):i?y.jsxs("span",{className:"font-normal text-gray-700 text-sm",children:[c,v,g]}):y.jsxs("span",{className:"font-bold text-gray-900 text-base",children:[c,v,g]}),e.url?y.jsx("a",{href:e.url,title:"wiki",className:"ml-1 text-gray-500 opacity-70 hover:opacity-100 inline-block",target:"_blank",rel:"noopener noreferrer",onClick:S=>S.stopPropagation(),children:y.jsx(Bu,{})}):null,e.isVaulted?y.jsx("span",{title:"Vaulted",className:"ml-1 text-gray-500 inline-block",children:y.jsx(I0,{})}):null,e.partOf?y.jsx("span",{title:`Part of ${e.partOf.join(", ")}`,className:"ml-1 text-gray-500 inline-block",children:y.jsx(qf,{})}):null,e.items&&e.props&&e.props.includes("clearable")?y.jsx("span",{title:"Clear",className:"ml-1 text-red-600 opacity-70 hover:opacity-100 cursor-pointer inline-block",onClick:this.handleClearClick(e.items),children:y.jsx($I,{})}):null]}),e.description?Array.isArray(e.description)?e.description.map((S,A)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:S},A)):y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:e.description}):null,this.renderLocation(e.location),e.items&&e.items.length?y.jsx("div",{className:"ml-2",children:this.renderItems(e.items,a)}):null]})]})},t)}render(){return!this.props.items||!this.props.items.length?y.jsx("div",{className:"text-gray-500 italic",children:"No items"}):y.jsx("div",{className:"mb-4",children:this.renderItems(this.props.items)})}}fN.propTypes={items:U.arrayOf(U.oneOfType([U.string,U.shape({title:U.string,url:U.string,icon:U.string,description:U.oneOfType([U.string,U.arrayOf(U.string)]),location:U.oneOfType([U.string,U.arrayOf(U.string)]),checked:U.bool,items:U.array,tags:U.arrayOf(U.string),hint:U.string,readOnly:U.bool,hidden:U.bool,key:U.string,isVaulted:U.bool,partOf:U.arrayOf(U.string),props:U.arrayOf(U.string)})])),onItemClick:U.func.isRequired,onClear:U.func.isRequired,visibilityFilter:U.string,searchFilter:U.string};var Dm,Fx;function dN(){if(Fx)return Dm;Fx=1;var r=typeof ws=="object"&&ws&&ws.Object===Object&&ws;return Dm=r,Dm}var Mm,Hx;function Nr(){if(Hx)return Mm;Hx=1;var r=dN(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return Mm=t,Mm}var jm,Gx;function rl(){if(Gx)return jm;Gx=1;var r=Nr(),e=r.Symbol;return jm=e,jm}var km,Kx;function wP(){if(Kx)return km;Kx=1;var r=rl(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,a=r?r.toStringTag:void 0;function l(c){var d=t.call(c,a),m=c[a];try{c[a]=void 0;var g=!0}catch{}var v=i.call(c);return g&&(d?c[a]=m:delete c[a]),v}return km=l,km}var Vm,$x;function RP(){if($x)return Vm;$x=1;var r=Object.prototype,e=r.toString;function t(i){return e.call(i)}return Vm=t,Vm}var Pm,Yx;function Pa(){if(Yx)return Pm;Yx=1;var r=rl(),e=wP(),t=RP(),i="[object Null]",a="[object Undefined]",l=r?r.toStringTag:void 0;function c(d){return d==null?d===void 0?a:i:l&&l in Object(d)?e(d):t(d)}return Pm=c,Pm}var Lm,Qx;function ur(){if(Qx)return Lm;Qx=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Lm=r,Lm}var Um,Xx;function O0(){if(Xx)return Um;Xx=1;var r=Pa(),e=ur(),t="[object AsyncFunction]",i="[object Function]",a="[object GeneratorFunction]",l="[object Proxy]";function c(d){if(!e(d))return!1;var m=r(d);return m==i||m==a||m==t||m==l}return Um=c,Um}var qm,Wx;function CP(){if(Wx)return qm;Wx=1;var r=Nr(),e=r["__core-js_shared__"];return qm=e,qm}var zm,Jx;function IP(){if(Jx)return zm;Jx=1;var r=CP(),e=(function(){var i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})();function t(i){return!!e&&e in i}return zm=t,zm}var Bm,Zx;function pN(){if(Zx)return Bm;Zx=1;var r=Function.prototype,e=r.toString;function t(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return Bm=t,Bm}var Fm,eA;function NP(){if(eA)return Fm;eA=1;var r=O0(),e=IP(),t=ur(),i=pN(),a=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,m=c.toString,g=d.hasOwnProperty,v=RegExp("^"+m.call(g).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b(S){if(!t(S)||e(S))return!1;var A=r(S)?v:l;return A.test(i(S))}return Fm=b,Fm}var Hm,tA;function OP(){if(tA)return Hm;tA=1;function r(e,t){return e?.[t]}return Hm=r,Hm}var Gm,nA;function La(){if(nA)return Gm;nA=1;var r=NP(),e=OP();function t(i,a){var l=e(i,a);return r(l)?l:void 0}return Gm=t,Gm}var Km,rA;function mN(){if(rA)return Km;rA=1;var r=La(),e=(function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}})();return Km=e,Km}var $m,iA;function Ff(){if(iA)return $m;iA=1;var r=mN();function e(t,i,a){i=="__proto__"&&r?r(t,i,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[i]=a}return $m=e,$m}var Ym,sA;function DP(){if(sA)return Ym;sA=1;function r(e,t,i,a){for(var l=-1,c=e==null?0:e.length;++l<c;){var d=e[l];t(a,d,i(d),e)}return a}return Ym=r,Ym}var Qm,aA;function MP(){if(aA)return Qm;aA=1;function r(e){return function(t,i,a){for(var l=-1,c=Object(t),d=a(t),m=d.length;m--;){var g=d[e?m:++l];if(i(c[g],g,c)===!1)break}return t}}return Qm=r,Qm}var Xm,oA;function gN(){if(oA)return Xm;oA=1;var r=MP(),e=r();return Xm=e,Xm}var Wm,lA;function jP(){if(lA)return Wm;lA=1;function r(e,t){for(var i=-1,a=Array(e);++i<e;)a[i]=t(i);return a}return Wm=r,Wm}var Jm,uA;function ai(){if(uA)return Jm;uA=1;function r(e){return e!=null&&typeof e=="object"}return Jm=r,Jm}var Zm,cA;function kP(){if(cA)return Zm;cA=1;var r=Pa(),e=ai(),t="[object Arguments]";function i(a){return e(a)&&r(a)==t}return Zm=i,Zm}var eg,hA;function Hf(){if(hA)return eg;hA=1;var r=kP(),e=ai(),t=Object.prototype,i=t.hasOwnProperty,a=t.propertyIsEnumerable,l=r((function(){return arguments})())?r:function(c){return e(c)&&i.call(c,"callee")&&!a.call(c,"callee")};return eg=l,eg}var tg,fA;function on(){if(fA)return tg;fA=1;var r=Array.isArray;return tg=r,tg}var xu={exports:{}},ng,dA;function VP(){if(dA)return ng;dA=1;function r(){return!1}return ng=r,ng}xu.exports;var pA;function Gf(){return pA||(pA=1,(function(r,e){var t=Nr(),i=VP(),a=e&&!e.nodeType&&e,l=a&&!0&&r&&!r.nodeType&&r,c=l&&l.exports===a,d=c?t.Buffer:void 0,m=d?d.isBuffer:void 0,g=m||i;r.exports=g})(xu,xu.exports)),xu.exports}var rg,mA;function Kf(){if(mA)return rg;mA=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(i,a){var l=typeof i;return a=a??r,!!a&&(l=="number"||l!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<a}return rg=t,rg}var ig,gA;function D0(){if(gA)return ig;gA=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return ig=e,ig}var sg,yA;function PP(){if(yA)return sg;yA=1;var r=Pa(),e=D0(),t=ai(),i="[object Arguments]",a="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",m="[object Function]",g="[object Map]",v="[object Number]",b="[object Object]",S="[object RegExp]",A="[object Set]",k="[object String]",P="[object WeakMap]",M="[object ArrayBuffer]",F="[object DataView]",z="[object Float32Array]",J="[object Float64Array]",le="[object Int8Array]",de="[object Int16Array]",ue="[object Int32Array]",C="[object Uint8Array]",R="[object Uint8ClampedArray]",N="[object Uint16Array]",j="[object Uint32Array]",O={};O[z]=O[J]=O[le]=O[de]=O[ue]=O[C]=O[R]=O[N]=O[j]=!0,O[i]=O[a]=O[M]=O[l]=O[F]=O[c]=O[d]=O[m]=O[g]=O[v]=O[b]=O[S]=O[A]=O[k]=O[P]=!1;function L(I){return t(I)&&e(I.length)&&!!O[r(I)]}return sg=L,sg}var ag,vA;function $f(){if(vA)return ag;vA=1;function r(e){return function(t){return e(t)}}return ag=r,ag}var Au={exports:{}};Au.exports;var _A;function M0(){return _A||(_A=1,(function(r,e){var t=dN(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,l=a&&a.exports===i,c=l&&t.process,d=(function(){try{var m=a&&a.require&&a.require("util").types;return m||c&&c.binding&&c.binding("util")}catch{}})();r.exports=d})(Au,Au.exports)),Au.exports}var og,bA;function j0(){if(bA)return og;bA=1;var r=PP(),e=$f(),t=M0(),i=t&&t.isTypedArray,a=i?e(i):r;return og=a,og}var lg,EA;function yN(){if(EA)return lg;EA=1;var r=jP(),e=Hf(),t=on(),i=Gf(),a=Kf(),l=j0(),c=Object.prototype,d=c.hasOwnProperty;function m(g,v){var b=t(g),S=!b&&e(g),A=!b&&!S&&i(g),k=!b&&!S&&!A&&l(g),P=b||S||A||k,M=P?r(g.length,String):[],F=M.length;for(var z in g)(v||d.call(g,z))&&!(P&&(z=="length"||A&&(z=="offset"||z=="parent")||k&&(z=="buffer"||z=="byteLength"||z=="byteOffset")||a(z,F)))&&M.push(z);return M}return lg=m,lg}var ug,TA;function k0(){if(TA)return ug;TA=1;var r=Object.prototype;function e(t){var i=t&&t.constructor,a=typeof i=="function"&&i.prototype||r;return t===a}return ug=e,ug}var cg,SA;function vN(){if(SA)return cg;SA=1;function r(e,t){return function(i){return e(t(i))}}return cg=r,cg}var hg,xA;function LP(){if(xA)return hg;xA=1;var r=vN(),e=r(Object.keys,Object);return hg=e,hg}var fg,AA;function UP(){if(AA)return fg;AA=1;var r=k0(),e=LP(),t=Object.prototype,i=t.hasOwnProperty;function a(l){if(!r(l))return e(l);var c=[];for(var d in Object(l))i.call(l,d)&&d!="constructor"&&c.push(d);return c}return fg=a,fg}var dg,wA;function il(){if(wA)return dg;wA=1;var r=O0(),e=D0();function t(i){return i!=null&&e(i.length)&&!r(i)}return dg=t,dg}var pg,RA;function Ua(){if(RA)return pg;RA=1;var r=yN(),e=UP(),t=il();function i(a){return t(a)?r(a):e(a)}return pg=i,pg}var mg,CA;function qP(){if(CA)return mg;CA=1;var r=gN(),e=Ua();function t(i,a){return i&&r(i,a,e)}return mg=t,mg}var gg,IA;function zP(){if(IA)return gg;IA=1;var r=il();function e(t,i){return function(a,l){if(a==null)return a;if(!r(a))return t(a,l);for(var c=a.length,d=i?c:-1,m=Object(a);(i?d--:++d<c)&&l(m[d],d,m)!==!1;);return a}}return gg=e,gg}var yg,NA;function V0(){if(NA)return yg;NA=1;var r=qP(),e=zP(),t=e(r);return yg=t,yg}var vg,OA;function BP(){if(OA)return vg;OA=1;var r=V0();function e(t,i,a,l){return r(t,function(c,d,m){i(l,c,a(c),m)}),l}return vg=e,vg}var _g,DA;function FP(){if(DA)return _g;DA=1;function r(){this.__data__=[],this.size=0}return _g=r,_g}var bg,MA;function nc(){if(MA)return bg;MA=1;function r(e,t){return e===t||e!==e&&t!==t}return bg=r,bg}var Eg,jA;function Yf(){if(jA)return Eg;jA=1;var r=nc();function e(t,i){for(var a=t.length;a--;)if(r(t[a][0],i))return a;return-1}return Eg=e,Eg}var Tg,kA;function HP(){if(kA)return Tg;kA=1;var r=Yf(),e=Array.prototype,t=e.splice;function i(a){var l=this.__data__,c=r(l,a);if(c<0)return!1;var d=l.length-1;return c==d?l.pop():t.call(l,c,1),--this.size,!0}return Tg=i,Tg}var Sg,VA;function GP(){if(VA)return Sg;VA=1;var r=Yf();function e(t){var i=this.__data__,a=r(i,t);return a<0?void 0:i[a][1]}return Sg=e,Sg}var xg,PA;function KP(){if(PA)return xg;PA=1;var r=Yf();function e(t){return r(this.__data__,t)>-1}return xg=e,xg}var Ag,LA;function $P(){if(LA)return Ag;LA=1;var r=Yf();function e(t,i){var a=this.__data__,l=r(a,t);return l<0?(++this.size,a.push([t,i])):a[l][1]=i,this}return Ag=e,Ag}var wg,UA;function Qf(){if(UA)return wg;UA=1;var r=FP(),e=HP(),t=GP(),i=KP(),a=$P();function l(c){var d=-1,m=c==null?0:c.length;for(this.clear();++d<m;){var g=c[d];this.set(g[0],g[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,wg=l,wg}var Rg,qA;function YP(){if(qA)return Rg;qA=1;var r=Qf();function e(){this.__data__=new r,this.size=0}return Rg=e,Rg}var Cg,zA;function QP(){if(zA)return Cg;zA=1;function r(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}return Cg=r,Cg}var Ig,BA;function XP(){if(BA)return Ig;BA=1;function r(e){return this.__data__.get(e)}return Ig=r,Ig}var Ng,FA;function WP(){if(FA)return Ng;FA=1;function r(e){return this.__data__.has(e)}return Ng=r,Ng}var Og,HA;function P0(){if(HA)return Og;HA=1;var r=La(),e=Nr(),t=r(e,"Map");return Og=t,Og}var Dg,GA;function Xf(){if(GA)return Dg;GA=1;var r=La(),e=r(Object,"create");return Dg=e,Dg}var Mg,KA;function JP(){if(KA)return Mg;KA=1;var r=Xf();function e(){this.__data__=r?r(null):{},this.size=0}return Mg=e,Mg}var jg,$A;function ZP(){if($A)return jg;$A=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return jg=r,jg}var kg,YA;function e4(){if(YA)return kg;YA=1;var r=Xf(),e="__lodash_hash_undefined__",t=Object.prototype,i=t.hasOwnProperty;function a(l){var c=this.__data__;if(r){var d=c[l];return d===e?void 0:d}return i.call(c,l)?c[l]:void 0}return kg=a,kg}var Vg,QA;function t4(){if(QA)return Vg;QA=1;var r=Xf(),e=Object.prototype,t=e.hasOwnProperty;function i(a){var l=this.__data__;return r?l[a]!==void 0:t.call(l,a)}return Vg=i,Vg}var Pg,XA;function n4(){if(XA)return Pg;XA=1;var r=Xf(),e="__lodash_hash_undefined__";function t(i,a){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=r&&a===void 0?e:a,this}return Pg=t,Pg}var Lg,WA;function r4(){if(WA)return Lg;WA=1;var r=JP(),e=ZP(),t=e4(),i=t4(),a=n4();function l(c){var d=-1,m=c==null?0:c.length;for(this.clear();++d<m;){var g=c[d];this.set(g[0],g[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,Lg=l,Lg}var Ug,JA;function i4(){if(JA)return Ug;JA=1;var r=r4(),e=Qf(),t=P0();function i(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return Ug=i,Ug}var qg,ZA;function s4(){if(ZA)return qg;ZA=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return qg=r,qg}var zg,ew;function Wf(){if(ew)return zg;ew=1;var r=s4();function e(t,i){var a=t.__data__;return r(i)?a[typeof i=="string"?"string":"hash"]:a.map}return zg=e,zg}var Bg,tw;function a4(){if(tw)return Bg;tw=1;var r=Wf();function e(t){var i=r(this,t).delete(t);return this.size-=i?1:0,i}return Bg=e,Bg}var Fg,nw;function o4(){if(nw)return Fg;nw=1;var r=Wf();function e(t){return r(this,t).get(t)}return Fg=e,Fg}var Hg,rw;function l4(){if(rw)return Hg;rw=1;var r=Wf();function e(t){return r(this,t).has(t)}return Hg=e,Hg}var Gg,iw;function u4(){if(iw)return Gg;iw=1;var r=Wf();function e(t,i){var a=r(this,t),l=a.size;return a.set(t,i),this.size+=a.size==l?0:1,this}return Gg=e,Gg}var Kg,sw;function L0(){if(sw)return Kg;sw=1;var r=i4(),e=a4(),t=o4(),i=l4(),a=u4();function l(c){var d=-1,m=c==null?0:c.length;for(this.clear();++d<m;){var g=c[d];this.set(g[0],g[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,Kg=l,Kg}var $g,aw;function c4(){if(aw)return $g;aw=1;var r=Qf(),e=P0(),t=L0(),i=200;function a(l,c){var d=this.__data__;if(d instanceof r){var m=d.__data__;if(!e||m.length<i-1)return m.push([l,c]),this.size=++d.size,this;d=this.__data__=new t(m)}return d.set(l,c),this.size=d.size,this}return $g=a,$g}var Yg,ow;function Jf(){if(ow)return Yg;ow=1;var r=Qf(),e=YP(),t=QP(),i=XP(),a=WP(),l=c4();function c(d){var m=this.__data__=new r(d);this.size=m.size}return c.prototype.clear=e,c.prototype.delete=t,c.prototype.get=i,c.prototype.has=a,c.prototype.set=l,Yg=c,Yg}var Qg,lw;function h4(){if(lw)return Qg;lw=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return Qg=e,Qg}var Xg,uw;function f4(){if(uw)return Xg;uw=1;function r(e){return this.__data__.has(e)}return Xg=r,Xg}var Wg,cw;function d4(){if(cw)return Wg;cw=1;var r=L0(),e=h4(),t=f4();function i(a){var l=-1,c=a==null?0:a.length;for(this.__data__=new r;++l<c;)this.add(a[l])}return i.prototype.add=i.prototype.push=e,i.prototype.has=t,Wg=i,Wg}var Jg,hw;function p4(){if(hw)return Jg;hw=1;function r(e,t){for(var i=-1,a=e==null?0:e.length;++i<a;)if(t(e[i],i,e))return!0;return!1}return Jg=r,Jg}var Zg,fw;function m4(){if(fw)return Zg;fw=1;function r(e,t){return e.has(t)}return Zg=r,Zg}var ey,dw;function _N(){if(dw)return ey;dw=1;var r=d4(),e=p4(),t=m4(),i=1,a=2;function l(c,d,m,g,v,b){var S=m&i,A=c.length,k=d.length;if(A!=k&&!(S&&k>A))return!1;var P=b.get(c),M=b.get(d);if(P&&M)return P==d&&M==c;var F=-1,z=!0,J=m&a?new r:void 0;for(b.set(c,d),b.set(d,c);++F<A;){var le=c[F],de=d[F];if(g)var ue=S?g(de,le,F,d,c,b):g(le,de,F,c,d,b);if(ue!==void 0){if(ue)continue;z=!1;break}if(J){if(!e(d,function(C,R){if(!t(J,R)&&(le===C||v(le,C,m,g,b)))return J.push(R)})){z=!1;break}}else if(!(le===de||v(le,de,m,g,b))){z=!1;break}}return b.delete(c),b.delete(d),z}return ey=l,ey}var ty,pw;function bN(){if(pw)return ty;pw=1;var r=Nr(),e=r.Uint8Array;return ty=e,ty}var ny,mw;function g4(){if(mw)return ny;mw=1;function r(e){var t=-1,i=Array(e.size);return e.forEach(function(a,l){i[++t]=[l,a]}),i}return ny=r,ny}var ry,gw;function y4(){if(gw)return ry;gw=1;function r(e){var t=-1,i=Array(e.size);return e.forEach(function(a){i[++t]=a}),i}return ry=r,ry}var iy,yw;function v4(){if(yw)return iy;yw=1;var r=rl(),e=bN(),t=nc(),i=_N(),a=g4(),l=y4(),c=1,d=2,m="[object Boolean]",g="[object Date]",v="[object Error]",b="[object Map]",S="[object Number]",A="[object RegExp]",k="[object Set]",P="[object String]",M="[object Symbol]",F="[object ArrayBuffer]",z="[object DataView]",J=r?r.prototype:void 0,le=J?J.valueOf:void 0;function de(ue,C,R,N,j,O,L){switch(R){case z:if(ue.byteLength!=C.byteLength||ue.byteOffset!=C.byteOffset)return!1;ue=ue.buffer,C=C.buffer;case F:return!(ue.byteLength!=C.byteLength||!O(new e(ue),new e(C)));case m:case g:case S:return t(+ue,+C);case v:return ue.name==C.name&&ue.message==C.message;case A:case P:return ue==C+"";case b:var I=a;case k:var we=N&c;if(I||(I=l),ue.size!=C.size&&!we)return!1;var Ie=L.get(ue);if(Ie)return Ie==C;N|=d,L.set(ue,C);var Z=i(I(ue),I(C),N,j,O,L);return L.delete(ue),Z;case M:if(le)return le.call(ue)==le.call(C)}return!1}return iy=de,iy}var sy,vw;function Zf(){if(vw)return sy;vw=1;function r(e,t){for(var i=-1,a=t.length,l=e.length;++i<a;)e[l+i]=t[i];return e}return sy=r,sy}var ay,_w;function EN(){if(_w)return ay;_w=1;var r=Zf(),e=on();function t(i,a,l){var c=a(i);return e(i)?c:r(c,l(i))}return ay=t,ay}var oy,bw;function TN(){if(bw)return oy;bw=1;function r(e,t){for(var i=-1,a=e==null?0:e.length,l=0,c=[];++i<a;){var d=e[i];t(d,i,e)&&(c[l++]=d)}return c}return oy=r,oy}var ly,Ew;function SN(){if(Ew)return ly;Ew=1;function r(){return[]}return ly=r,ly}var uy,Tw;function U0(){if(Tw)return uy;Tw=1;var r=TN(),e=SN(),t=Object.prototype,i=t.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(c){return c==null?[]:(c=Object(c),r(a(c),function(d){return i.call(c,d)}))}:e;return uy=l,uy}var cy,Sw;function xN(){if(Sw)return cy;Sw=1;var r=EN(),e=U0(),t=Ua();function i(a){return r(a,t,e)}return cy=i,cy}var hy,xw;function _4(){if(xw)return hy;xw=1;var r=xN(),e=1,t=Object.prototype,i=t.hasOwnProperty;function a(l,c,d,m,g,v){var b=d&e,S=r(l),A=S.length,k=r(c),P=k.length;if(A!=P&&!b)return!1;for(var M=A;M--;){var F=S[M];if(!(b?F in c:i.call(c,F)))return!1}var z=v.get(l),J=v.get(c);if(z&&J)return z==c&&J==l;var le=!0;v.set(l,c),v.set(c,l);for(var de=b;++M<A;){F=S[M];var ue=l[F],C=c[F];if(m)var R=b?m(C,ue,F,c,l,v):m(ue,C,F,l,c,v);if(!(R===void 0?ue===C||g(ue,C,d,m,v):R)){le=!1;break}de||(de=F=="constructor")}if(le&&!de){var N=l.constructor,j=c.constructor;N!=j&&"constructor"in l&&"constructor"in c&&!(typeof N=="function"&&N instanceof N&&typeof j=="function"&&j instanceof j)&&(le=!1)}return v.delete(l),v.delete(c),le}return hy=a,hy}var fy,Aw;function b4(){if(Aw)return fy;Aw=1;var r=La(),e=Nr(),t=r(e,"DataView");return fy=t,fy}var dy,ww;function E4(){if(ww)return dy;ww=1;var r=La(),e=Nr(),t=r(e,"Promise");return dy=t,dy}var py,Rw;function T4(){if(Rw)return py;Rw=1;var r=La(),e=Nr(),t=r(e,"Set");return py=t,py}var my,Cw;function S4(){if(Cw)return my;Cw=1;var r=La(),e=Nr(),t=r(e,"WeakMap");return my=t,my}var gy,Iw;function ed(){if(Iw)return gy;Iw=1;var r=b4(),e=P0(),t=E4(),i=T4(),a=S4(),l=Pa(),c=pN(),d="[object Map]",m="[object Object]",g="[object Promise]",v="[object Set]",b="[object WeakMap]",S="[object DataView]",A=c(r),k=c(e),P=c(t),M=c(i),F=c(a),z=l;return(r&&z(new r(new ArrayBuffer(1)))!=S||e&&z(new e)!=d||t&&z(t.resolve())!=g||i&&z(new i)!=v||a&&z(new a)!=b)&&(z=function(J){var le=l(J),de=le==m?J.constructor:void 0,ue=de?c(de):"";if(ue)switch(ue){case A:return S;case k:return d;case P:return g;case M:return v;case F:return b}return le}),gy=z,gy}var yy,Nw;function x4(){if(Nw)return yy;Nw=1;var r=Jf(),e=_N(),t=v4(),i=_4(),a=ed(),l=on(),c=Gf(),d=j0(),m=1,g="[object Arguments]",v="[object Array]",b="[object Object]",S=Object.prototype,A=S.hasOwnProperty;function k(P,M,F,z,J,le){var de=l(P),ue=l(M),C=de?v:a(P),R=ue?v:a(M);C=C==g?b:C,R=R==g?b:R;var N=C==b,j=R==b,O=C==R;if(O&&c(P)){if(!c(M))return!1;de=!0,N=!1}if(O&&!N)return le||(le=new r),de||d(P)?e(P,M,F,z,J,le):t(P,M,C,F,z,J,le);if(!(F&m)){var L=N&&A.call(P,"__wrapped__"),I=j&&A.call(M,"__wrapped__");if(L||I){var we=L?P.value():P,Ie=I?M.value():M;return le||(le=new r),J(we,Ie,F,z,le)}}return O?(le||(le=new r),i(P,M,F,z,J,le)):!1}return yy=k,yy}var vy,Ow;function AN(){if(Ow)return vy;Ow=1;var r=x4(),e=ai();function t(i,a,l,c,d){return i===a?!0:i==null||a==null||!e(i)&&!e(a)?i!==i&&a!==a:r(i,a,l,c,t,d)}return vy=t,vy}var _y,Dw;function A4(){if(Dw)return _y;Dw=1;var r=Jf(),e=AN(),t=1,i=2;function a(l,c,d,m){var g=d.length,v=g,b=!m;if(l==null)return!v;for(l=Object(l);g--;){var S=d[g];if(b&&S[2]?S[1]!==l[S[0]]:!(S[0]in l))return!1}for(;++g<v;){S=d[g];var A=S[0],k=l[A],P=S[1];if(b&&S[2]){if(k===void 0&&!(A in l))return!1}else{var M=new r;if(m)var F=m(k,P,A,l,c,M);if(!(F===void 0?e(P,k,t|i,m,M):F))return!1}}return!0}return _y=a,_y}var by,Mw;function wN(){if(Mw)return by;Mw=1;var r=ur();function e(t){return t===t&&!r(t)}return by=e,by}var Ey,jw;function w4(){if(jw)return Ey;jw=1;var r=wN(),e=Ua();function t(i){for(var a=e(i),l=a.length;l--;){var c=a[l],d=i[c];a[l]=[c,d,r(d)]}return a}return Ey=t,Ey}var Ty,kw;function RN(){if(kw)return Ty;kw=1;function r(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==void 0||e in Object(i))}}return Ty=r,Ty}var Sy,Vw;function R4(){if(Vw)return Sy;Vw=1;var r=A4(),e=w4(),t=RN();function i(a){var l=e(a);return l.length==1&&l[0][2]?t(l[0][0],l[0][1]):function(c){return c===a||r(c,a,l)}}return Sy=i,Sy}var xy,Pw;function rc(){if(Pw)return xy;Pw=1;var r=Pa(),e=ai(),t="[object Symbol]";function i(a){return typeof a=="symbol"||e(a)&&r(a)==t}return xy=i,xy}var Ay,Lw;function q0(){if(Lw)return Ay;Lw=1;var r=on(),e=rc(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function a(l,c){if(r(l))return!1;var d=typeof l;return d=="number"||d=="symbol"||d=="boolean"||l==null||e(l)?!0:i.test(l)||!t.test(l)||c!=null&&l in Object(c)}return Ay=a,Ay}var wy,Uw;function C4(){if(Uw)return wy;Uw=1;var r=L0(),e="Expected a function";function t(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var l=function(){var c=arguments,d=a?a.apply(this,c):c[0],m=l.cache;if(m.has(d))return m.get(d);var g=i.apply(this,c);return l.cache=m.set(d,g)||m,g};return l.cache=new(t.Cache||r),l}return t.Cache=r,wy=t,wy}var Ry,qw;function I4(){if(qw)return Ry;qw=1;var r=C4(),e=500;function t(i){var a=r(i,function(c){return l.size===e&&l.clear(),c}),l=a.cache;return a}return Ry=t,Ry}var Cy,zw;function N4(){if(zw)return Cy;zw=1;var r=I4(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,i=r(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(e,function(c,d,m,g){l.push(m?g.replace(t,"$1"):d||c)}),l});return Cy=i,Cy}var Iy,Bw;function td(){if(Bw)return Iy;Bw=1;function r(e,t){for(var i=-1,a=e==null?0:e.length,l=Array(a);++i<a;)l[i]=t(e[i],i,e);return l}return Iy=r,Iy}var Ny,Fw;function O4(){if(Fw)return Ny;Fw=1;var r=rl(),e=td(),t=on(),i=rc(),a=r?r.prototype:void 0,l=a?a.toString:void 0;function c(d){if(typeof d=="string")return d;if(t(d))return e(d,c)+"";if(i(d))return l?l.call(d):"";var m=d+"";return m=="0"&&1/d==-1/0?"-0":m}return Ny=c,Ny}var Oy,Hw;function CN(){if(Hw)return Oy;Hw=1;var r=O4();function e(t){return t==null?"":r(t)}return Oy=e,Oy}var Dy,Gw;function ic(){if(Gw)return Dy;Gw=1;var r=on(),e=q0(),t=N4(),i=CN();function a(l,c){return r(l)?l:e(l,c)?[l]:t(i(l))}return Dy=a,Dy}var My,Kw;function sl(){if(Kw)return My;Kw=1;var r=rc();function e(t){if(typeof t=="string"||r(t))return t;var i=t+"";return i=="0"&&1/t==-1/0?"-0":i}return My=e,My}var jy,$w;function nd(){if($w)return jy;$w=1;var r=ic(),e=sl();function t(i,a){a=r(a,i);for(var l=0,c=a.length;i!=null&&l<c;)i=i[e(a[l++])];return l&&l==c?i:void 0}return jy=t,jy}var ky,Yw;function IN(){if(Yw)return ky;Yw=1;var r=nd();function e(t,i,a){var l=t==null?void 0:r(t,i);return l===void 0?a:l}return ky=e,ky}var Vy,Qw;function D4(){if(Qw)return Vy;Qw=1;function r(e,t){return e!=null&&t in Object(e)}return Vy=r,Vy}var Py,Xw;function NN(){if(Xw)return Py;Xw=1;var r=ic(),e=Hf(),t=on(),i=Kf(),a=D0(),l=sl();function c(d,m,g){m=r(m,d);for(var v=-1,b=m.length,S=!1;++v<b;){var A=l(m[v]);if(!(S=d!=null&&g(d,A)))break;d=d[A]}return S||++v!=b?S:(b=d==null?0:d.length,!!b&&a(b)&&i(A,b)&&(t(d)||e(d)))}return Py=c,Py}var Ly,Ww;function M4(){if(Ww)return Ly;Ww=1;var r=D4(),e=NN();function t(i,a){return i!=null&&e(i,a,r)}return Ly=t,Ly}var Uy,Jw;function j4(){if(Jw)return Uy;Jw=1;var r=AN(),e=IN(),t=M4(),i=q0(),a=wN(),l=RN(),c=sl(),d=1,m=2;function g(v,b){return i(v)&&a(b)?l(c(v),b):function(S){var A=e(S,v);return A===void 0&&A===b?t(S,v):r(b,A,d|m)}}return Uy=g,Uy}var qy,Zw;function rd(){if(Zw)return qy;Zw=1;function r(e){return e}return qy=r,qy}var zy,e1;function k4(){if(e1)return zy;e1=1;function r(e){return function(t){return t?.[e]}}return zy=r,zy}var By,t1;function V4(){if(t1)return By;t1=1;var r=nd();function e(t){return function(i){return r(i,t)}}return By=e,By}var Fy,n1;function P4(){if(n1)return Fy;n1=1;var r=k4(),e=V4(),t=q0(),i=sl();function a(l){return t(l)?r(i(l)):e(l)}return Fy=a,Fy}var Hy,r1;function z0(){if(r1)return Hy;r1=1;var r=R4(),e=j4(),t=rd(),i=on(),a=P4();function l(c){return typeof c=="function"?c:c==null?t:typeof c=="object"?i(c)?e(c[0],c[1]):r(c):a(c)}return Hy=l,Hy}var Gy,i1;function L4(){if(i1)return Gy;i1=1;var r=DP(),e=BP(),t=z0(),i=on();function a(l,c){return function(d,m){var g=i(d)?r:e,v=c?c():{};return g(d,l,t(m,2),v)}}return Gy=a,Gy}var Ky,s1;function U4(){if(s1)return Ky;s1=1;var r=Ff(),e=L4(),t=Object.prototype,i=t.hasOwnProperty,a=e(function(l,c,d){i.call(l,d)?l[d].push(c):r(l,d,[c])});return Ky=a,Ky}var q4=U4();const pf=Bt(q4),z4={BLUEPRINT:"BP","CHASSIS BLUEPRINT":"CH","SYSTEMS BLUEPRINT":"SYS","NEUROPTICS BLUEPRINT":"NEU"},B4={Common:"bg-amber-700",Uncommon:"bg-gray-500",Rare:"bg-yellow-500"};class ON extends Xt.Component{handleItemClick(e){return t=>{this.props.onItemClick(e),t.stopPropagation()}}renderAcquisition(e){if(e.location)return y.jsx("td",{className:"py-1 px-3 align-top border-l border-gray-100 text-gray-700 text-sm leading-snug",children:Array.isArray(e.location)?y.jsx("ul",{className:"list-disc list-inside m-0 p-0",children:e.location.map((t,i)=>y.jsx("li",{children:t},i))}):e.location});if(e.relics){const t=pf(e.relics,"part"),i=Object.getOwnPropertyNames(t).map((a,l)=>y.jsxs("tr",{className:"border-none",children:[y.jsx("td",{className:"py-0 px-1 w-8 text-xs font-bold text-gray-500",children:z4[a.toUpperCase()]}),y.jsx("td",{className:"py-0.5 px-1 flex flex-wrap gap-1",children:t[a].map((c,d)=>y.jsx("span",{className:`px-1 rounded-[2px] text-[10px] font-bold text-white uppercase ${B4[c.rarity]||"bg-gray-400"} ${c.isVaulted?"opacity-50 ring-1 ring-inset ring-gray-300":""}`,title:c.isVaulted?"Vaulted":void 0,children:c.name},d))})]},l));return y.jsx("td",{className:"py-1 px-3 align-top border-l border-gray-100",children:y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:i})})})}return y.jsx("td",{className:"py-1 px-3 border-l border-gray-100"})}renderBody(){const e=this.props.items.map((t,i)=>{const a=this.props.visibilityFilter===rn.SHOW_ACTIVE&&t.checked;return this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(t).toLowerCase().includes(this.props.searchFilter.toLowerCase())?null:y.jsxs("tr",{className:`${t.checked?"bg-green-50":""} ${a?"opacity-30":""} transition-colors`,children:[y.jsx("td",{className:"py-1 px-3 align-top w-40",children:y.jsxs("div",{className:"flex items-center gap-1.5",children:[t.checked&&y.jsx(Rn,{className:"text-green-500 shrink-0"}),y.jsx("span",{className:"font-bold text-gray-900 text-base",children:t.title})]})}),y.jsx("td",{className:"py-1 px-2 align-top w-20 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center gap-2",children:[t.url?y.jsx("a",{href:t.url,title:"wiki",className:"text-gray-500 opacity-70 hover:opacity-100",target:"_blank",rel:"noopener noreferrer",children:y.jsx(Bu,{})}):null,t.market?y.jsx("a",{href:t.market,title:"market",className:"text-gray-500 opacity-70 hover:opacity-100",target:"_blank",rel:"noopener noreferrer",children:y.jsx(ff,{})}):null,t.isVaulted?y.jsx(I0,{className:"text-red-600",title:"Vaulted"}):null]})}),y.jsx("td",{className:"py-1 px-3 align-top w-48",children:t.items?y.jsx("div",{className:"flex flex-col gap-0.5",children:t.items.map((l,c)=>{const d=typeof l=="string"||l instanceof String?l:l.title;return y.jsxs("span",{className:"flex items-center gap-1.5 whitespace-nowrap text-sm text-gray-700",children:[y.jsx("div",{className:`cursor-pointer ${l.checked?"text-green-500":"text-gray-400 hover:text-gray-600"}`,onClick:this.handleItemClick(d),children:l.checked?y.jsx(Rn,{}):y.jsx(R0,{})}),y.jsx("span",{className:"font-medium",children:l.short?l.short:l.title})]},c)})}):null}),this.renderAcquisition(t)]},i)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:e})}render(){return y.jsx("div",{className:"overflow-x-auto border-t border-gray-100",children:y.jsx("table",{className:"w-full border-collapse",children:this.renderBody()})})}}ON.propTypes={items:U.arrayOf(U.shape({title:U.string,short:U.string,url:U.string,market:U.string,description:U.string,location:U.oneOfType([U.string,U.arrayOf(U.string)]),checked:U.bool})),onItemClick:U.func.isRequired,visibilityFilter:U.string,searchFilter:U.string};var $y,a1;function F4(){if(a1)return $y;a1=1;var r=CN(),e=/[\\^$.*+?()[\]{}|]/g,t=RegExp(e.source);function i(a){return a=r(a),a&&t.test(a)?a.replace(e,"\\$&"):a}return $y=i,$y}var H4=F4();const Aa=Bt(H4);var Yy,o1;function G4(){if(o1)return Yy;o1=1;var r=V0();function e(t,i){var a=[];return r(t,function(l,c,d){i(l,c,d)&&a.push(l)}),a}return Yy=e,Yy}var Qy,l1;function K4(){if(l1)return Qy;l1=1;var r=TN(),e=G4(),t=z0(),i=on();function a(l,c){var d=i(l)?r:e;return d(l,t(c,3))}return Qy=a,Qy}var $4=K4();const wa=Bt($4);var Xy,u1;function Y4(){if(u1)return Xy;u1=1;var r=td();function e(t,i){return r(i,function(a){return t[a]})}return Xy=e,Xy}var Wy,c1;function Q4(){if(c1)return Wy;c1=1;var r=Y4(),e=Ua();function t(i){return i==null?[]:r(i,e(i))}return Wy=t,Wy}var X4=Q4();const Ra=Bt(X4);var W4=Ua();const Zr=Bt(W4);var J4=IN();const Ii=Bt(J4);var Jy,h1;function Z4(){if(h1)return Jy;h1=1;var r=V0(),e=il();function t(i,a){var l=-1,c=e(i)?Array(i.length):[];return r(i,function(d,m,g){c[++l]=a(d,m,g)}),c}return Jy=t,Jy}var Zy,f1;function eL(){if(f1)return Zy;f1=1;function r(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}return Zy=r,Zy}var ev,d1;function tL(){if(d1)return ev;d1=1;var r=rc();function e(t,i){if(t!==i){var a=t!==void 0,l=t===null,c=t===t,d=r(t),m=i!==void 0,g=i===null,v=i===i,b=r(i);if(!g&&!b&&!d&&t>i||d&&m&&v&&!g&&!b||l&&m&&v||!a&&v||!c)return 1;if(!l&&!d&&!b&&t<i||b&&a&&c&&!l&&!d||g&&a&&c||!m&&c||!v)return-1}return 0}return ev=e,ev}var tv,p1;function nL(){if(p1)return tv;p1=1;var r=tL();function e(t,i,a){for(var l=-1,c=t.criteria,d=i.criteria,m=c.length,g=a.length;++l<m;){var v=r(c[l],d[l]);if(v){if(l>=g)return v;var b=a[l];return v*(b=="desc"?-1:1)}}return t.index-i.index}return tv=e,tv}var nv,m1;function DN(){if(m1)return nv;m1=1;var r=td(),e=nd(),t=z0(),i=Z4(),a=eL(),l=$f(),c=nL(),d=rd(),m=on();function g(v,b,S){b.length?b=r(b,function(P){return m(P)?function(M){return e(M,P.length===1?P[0]:P)}:P}):b=[d];var A=-1;b=r(b,l(t));var k=i(v,function(P,M,F){var z=r(b,function(J){return J(P)});return{criteria:z,index:++A,value:P}});return a(k,function(P,M){return c(P,M,S)})}return nv=g,nv}var rv,g1;function rL(){if(g1)return rv;g1=1;var r=DN(),e=on();function t(i,a,l,c){return i==null?[]:(e(a)||(a=a==null?[]:[a]),l=c?void 0:l,e(l)||(l=l==null?[]:[l]),r(i,a,l))}return rv=t,rv}var iL=rL();const B0=Bt(iL);var iv,y1;function sL(){if(y1)return iv;y1=1;var r=Nr(),e=function(){return r.Date.now()};return iv=e,iv}var sv,v1;function aL(){if(v1)return sv;v1=1;var r=/\s/;function e(t){for(var i=t.length;i--&&r.test(t.charAt(i)););return i}return sv=e,sv}var av,_1;function oL(){if(_1)return av;_1=1;var r=aL(),e=/^\s+/;function t(i){return i&&i.slice(0,r(i)+1).replace(e,"")}return av=t,av}var ov,b1;function lL(){if(b1)return ov;b1=1;var r=oL(),e=ur(),t=rc(),i=NaN,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;function m(g){if(typeof g=="number")return g;if(t(g))return i;if(e(g)){var v=typeof g.valueOf=="function"?g.valueOf():g;g=e(v)?v+"":v}if(typeof g!="string")return g===0?g:+g;g=r(g);var b=l.test(g);return b||c.test(g)?d(g.slice(2),b?2:8):a.test(g)?i:+g}return ov=m,ov}var lv,E1;function uL(){if(E1)return lv;E1=1;var r=ur(),e=sL(),t=lL(),i="Expected a function",a=Math.max,l=Math.min;function c(d,m,g){var v,b,S,A,k,P,M=0,F=!1,z=!1,J=!0;if(typeof d!="function")throw new TypeError(i);m=t(m)||0,r(g)&&(F=!!g.leading,z="maxWait"in g,S=z?a(t(g.maxWait)||0,m):S,J="trailing"in g?!!g.trailing:J);function le(I){var we=v,Ie=b;return v=b=void 0,M=I,A=d.apply(Ie,we),A}function de(I){return M=I,k=setTimeout(R,m),F?le(I):A}function ue(I){var we=I-P,Ie=I-M,Z=m-we;return z?l(Z,S-Ie):Z}function C(I){var we=I-P,Ie=I-M;return P===void 0||we>=m||we<0||z&&Ie>=S}function R(){var I=e();if(C(I))return N(I);k=setTimeout(R,ue(I))}function N(I){return k=void 0,J&&v?le(I):(v=b=void 0,A)}function j(){k!==void 0&&clearTimeout(k),M=0,v=P=b=k=void 0}function O(){return k===void 0?A:N(e())}function L(){var I=e(),we=C(I);if(v=arguments,b=this,P=I,we){if(k===void 0)return de(P);if(z)return clearTimeout(k),k=setTimeout(R,m),le(P)}return k===void 0&&(k=setTimeout(R,m)),A}return L.cancel=j,L.flush=O,L}return lv=c,lv}var cL=uL();const id=Bt(cL),T1={Common:"brown",Uncommon:"grey",Rare:"yellow"},yu={red:{bg:"bg-red-600",border:"border-red-600",text:"text-red-600",icon:"text-red-600"},orange:{bg:"bg-orange-500",border:"border-orange-500",text:"text-orange-500",icon:"text-orange-500"},yellow:{bg:"bg-yellow-500",border:"border-yellow-500",text:"text-yellow-500",icon:"text-yellow-500"},olive:{bg:"bg-lime-600",border:"border-lime-600",text:"text-lime-600",icon:"text-lime-600"},green:{bg:"bg-green-500",border:"border-green-500",text:"text-green-500",icon:"text-green-500"},teal:{bg:"bg-teal-500",border:"border-teal-500",text:"text-teal-500",icon:"text-teal-500"},blue:{bg:"bg-blue-600",border:"border-blue-600",text:"text-sky-700",icon:"text-sky-700"},violet:{bg:"bg-violet-600",border:"border-violet-600",text:"text-violet-600",icon:"text-violet-600"},purple:{bg:"bg-purple-600",border:"border-purple-600",text:"text-purple-600",icon:"text-purple-600"},pink:{bg:"bg-pink-500",border:"border-pink-500",text:"text-pink-500",icon:"text-pink-500"},brown:{bg:"bg-amber-700",border:"border-amber-700",text:"text-amber-700",icon:"text-amber-700"},grey:{bg:"bg-gray-500",border:"border-gray-500",text:"text-gray-500",icon:"text-gray-500"},black:{bg:"bg-gray-900",border:"border-gray-900",text:"text-gray-900",icon:"text-gray-900"}},S1=["red","olive","yellow","green","teal","blue","orange","violet","purple","pink","brown","grey","black"],Bh={isLoading:!1,results:[],value:"",hovered:[]};class MN extends Xt.Component{constructor(e){super(e),this.state=Bh,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=id(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(Bh)}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleVisibilityToggle(){return()=>{const e=this.props.relicVisibility===rn.SHOW_ALL?rn.SHOW_ACTIVE:rn.SHOW_ALL;this.props.onRelicVisibilityToggle(e)}}handleSearchChange(e,{value:t}){if(this.setState({isLoading:!0,value:t}),t.length<1){this.setState(Bh);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(Bh);return}const t=new RegExp(Aa(e),"i"),i=Ra(this.props.voidDrops).map(l=>l.title),a=l=>t.test(l.title)&&!i.includes(l.title);this.setState({isLoading:!1,results:wa(this.props.items,a)})}resultRenderer({title:e}){return y.jsx("div",{children:e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e})},"content")}renderTypeIcon(e){const t=yu[e],i=t?t.icon:"text-gray-400";return y.jsx(rN,{className:`text-xs align-middle mr-1 ${i}`})}renderItemsTable(){const e=Ra(this.props.voidDrops),t=[];let i;if(!e.length)return null;const a=B0(e,["item","arbitrary","title"],["asc","desc","asc"]).map(l=>{let c=l.title,d=[];t.includes(l.item)||t.push(l.item),l.count&&(c=`${c} x${l.count}`);let m=!1;const g=l.relics||[],v=l.arbitrary||!l.relics?[]:g.map(b=>{const S=b.name,A=Ii(this.props,["markedRelics",S,"available"]);(!b.isVaulted||A===!0)&&(m=!0);let k=null;A===!0?k=y.jsx(Rn,{className:"mr-1 text-[0.9em]"}):A===!1&&(k=y.jsx(df,{className:"mr-1 text-[0.9em]"}));const P=T1[b.rarity],M=yu[P]||yu.grey,F=b.isVaulted?`border-2 ${M.border} !bg-transparent !text-inherit opacity-70`:`${M.bg} ${M.border} border-2 text-white`,z=A===!1?"opacity-30":"";return y.jsxs("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-bold uppercase tracking-tight mr-1 mb-1 transition-colors ${F} ${z}`,children:[k,`${S}${b.isBaro?" [Baro]":""}`]},S)});if(!l.arbitrary&&l.item){const b=`https://warframe.fandom.com/wiki/${l.item.toLowerCase()}_Prime`,S=`https://warframe.market/items/${l.title.toLowerCase().split(" ").join("_")}`;i=S1[t.indexOf(l.item)%S1.length],d=[y.jsx("a",{href:b,title:"wiki",target:"_blank",rel:"noreferrer",className:"hover:opacity-70",children:y.jsx(Bu,{className:"text-gray-400"})},"wiki"),y.jsx("a",{href:S,title:"market",target:"_blank",rel:"noreferrer",className:"hover:opacity-70 ml-1",children:y.jsx(ff,{className:m?"text-gray-400":"text-sky-700"})},"market")]}else if(l.arbitrary){const b=`https://warframe.market/items/${l.title.toLowerCase().split(" ").join("_")}`;d=[y.jsx("a",{href:b,title:"market",target:"_blank",rel:"noreferrer",className:"hover:opacity-70",children:y.jsx(ff,{className:"text-sky-700"})},"market")]}return y.jsxs("tr",{className:`hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors ${this.state.hovered.includes(c)?"bg-gray-50":""}`,children:[y.jsx("td",{className:"py-1 px-2 align-middle",children:y.jsxs("div",{className:"flex items-center flex-wrap",children:[this.renderTypeIcon(i),y.jsx("span",{className:"mr-2",children:c}),y.jsx("span",{className:"mr-3 inline-flex items-center",children:d}),y.jsx("div",{className:"inline-flex flex-wrap items-center mt-0.5",children:v})]})}),y.jsx("td",{className:"py-1 px-2 text-right align-middle",children:y.jsx(dn,{className:"cursor-pointer text-red-600 hover:opacity-80",onClick:this.handleItemRemove(l.title)})})]},c)});return y.jsx("table",{className:"w-full border-collapse mb-4",children:y.jsx("tbody",{children:a})})}renderRelicsTable(){const e=Ra(this.props.voidDrops);if(!e.length)return null;const t={Lith:{},Meso:{},Neo:{},Axi:{},Vanguard:{},Requiem:{}};e.forEach(a=>{a.arbitrary||!a.relics||a.relics.forEach(l=>{if(!t[l.tier])return;t[l.tier][l.name]||(t[l.tier][l.name]=[]);const c={title:a.title,rarity:l.rarity,isVaulted:l.isVaulted};l.isBaro&&(c.isBaro=l.isBaro),t[l.tier][l.name].push(c)})});const i=["Lith","Meso","Neo","Axi","Vanguard","Requiem"];return y.jsxs("div",{className:"mt-8",children:[y.jsxs("div",{className:"relative flex items-center mb-6",children:[y.jsx("div",{className:"grow border-t border-gray-200"}),y.jsx("span",{className:"flex-shrink mx-4 text-gray-400 text-sm font-bold uppercase tracking-widest leading-none",children:"Required Relics"}),y.jsx("div",{className:"grow border-t border-gray-200"})]}),y.jsx("div",{className:"bg-white p-4 mb-4",children:i.map((a,l)=>Zr(t[a]).length===0?null:y.jsxs(Xt.Fragment,{children:[l>0&&Zr(t[i[l-1]]).length>0&&y.jsx("div",{className:"h-6"}),y.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 border-b border-gray-50 pb-1",children:a}),y.jsx("div",{className:"flex flex-wrap",children:this.renderGroupedRelicsList(t[a])})]},a))})]},"relics-container")}handleMouseOver(e){return()=>{this.setState({hovered:e})}}handleMouseOut(){return()=>{this.setState({hovered:[]})}}handleRelicClick(e){return()=>{this.props.onRelicToggle({title:e})}}renderGroupedRelicsList(e){return Zr(e).sort().map(t=>{const i=e[t],a=i[0],l=t;let c=null;i.length>1&&(c=y.jsx("span",{className:"ml-1 opacity-70 font-normal",children:`x${i.length}`}));let d=null;const m=Ii(this.props,["markedRelics",l,"available"]);if(m===!0?d=y.jsx(Rn,{className:"mr-1 text-green-500"}):m===!1&&(d=y.jsx(df,{className:"mr-1 text-red-600"})),a.isVaulted&&this.props.relicVisibility===rn.SHOW_ACTIVE&&m===!1)return null;const g=a.isVaulted?null:y.jsx("a",{href:`https://wiki.warframe.com/w/${t.replace(" ","_")}`,target:"_blank",rel:"noreferrer",onClick:k=>k.stopPropagation(),className:"mr-1 hover:opacity-70 flex items-center",children:y.jsx(Bu,{className:"text-sky-700 text-[0.9em]"})}),v=T1[a.rarity],b=yu[v]||yu.grey,S=a.isVaulted?`border-2 ${b.border} !bg-transparent !text-inherit opacity-70`:`${b.bg} ${b.border} border-2 text-white`,A=m===!1?"opacity-30":"";return y.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-lg font-bold uppercase tracking-tight mr-1 mb-1 cursor-pointer transition-colors ${S} ${A}`,onClick:this.handleRelicClick(l),children:[d,g,y.jsx(iN,{className:"mr-1 opacity-70 text-[0.9em]"}),t,a.isBaro?" [Baro]":"",c]},t)})}render(){const{isLoading:e,value:t,results:i}=this.state;return y.jsxs("div",{children:[Zr(this.props.voidDrops).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(tc,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing prime part name to add it to the list."})]}),y.jsxs("div",{className:"flex gap-2 mb-4",children:[y.jsxs("div",{className:"relative grow",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search prime parts...",value:t,onChange:a=>this.handleSearchChange(a,{value:a.target.value}),onKeyPress:a=>{a.key==="Enter"&&t&&this.handleResultSelect(a,{result:{title:t,arbitrary:!0}})}}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vi,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((a,l)=>y.jsx("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-0",onClick:c=>this.handleResultSelect(c,{result:a}),children:this.resultRenderer(a)},l))})]}),y.jsx("button",{onClick:this.handleVisibilityToggle(),className:`px-3 py-2 border rounded-md transition-colors font-bold flex items-center justify-center min-w-[40px] ${this.props.relicVisibility===rn.SHOW_ALL?"border-blue-600 text-sky-700 hover:bg-blue-50":"border-red-600 text-red-600 hover:bg-red-50"}`,title:this.props.relicVisibility===rn.SHOW_ALL?"Hide vaulted":"Show all",children:this.props.relicVisibility===rn.SHOW_ALL?y.jsx(sN,{}):y.jsx(aN,{})})]}),this.renderItemsTable(),this.renderRelicsTable()]})}}MN.propTypes={items:U.arrayOf(U.object),voidDrops:U.object,onItemAdd:U.func.isRequired,onItemRemove:U.func.isRequired,onRelicToggle:U.func.isRequired,markedRelics:U.object,relicVisibility:U.string,onRelicVisibilityToggle:U.func.isRequired};var uv,x1;function hL(){if(x1)return uv;x1=1;var r=rl(),e=Hf(),t=on(),i=r?r.isConcatSpreadable:void 0;function a(l){return t(l)||e(l)||!!(i&&l&&l[i])}return uv=a,uv}var cv,A1;function F0(){if(A1)return cv;A1=1;var r=Zf(),e=hL();function t(i,a,l,c,d){var m=-1,g=i.length;for(l||(l=e),d||(d=[]);++m<g;){var v=i[m];a>0&&l(v)?a>1?t(v,a-1,l,c,d):r(d,v):c||(d[d.length]=v)}return d}return cv=t,cv}var hv,w1;function fL(){if(w1)return hv;w1=1;function r(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}return hv=r,hv}var fv,R1;function jN(){if(R1)return fv;R1=1;var r=fL(),e=Math.max;function t(i,a,l){return a=e(a===void 0?i.length-1:a,0),function(){for(var c=arguments,d=-1,m=e(c.length-a,0),g=Array(m);++d<m;)g[d]=c[a+d];d=-1;for(var v=Array(a+1);++d<a;)v[d]=c[d];return v[a]=l(g),r(i,this,v)}}return fv=t,fv}var dv,C1;function dL(){if(C1)return dv;C1=1;function r(e){return function(){return e}}return dv=r,dv}var pv,I1;function pL(){if(I1)return pv;I1=1;var r=dL(),e=mN(),t=rd(),i=e?function(a,l){return e(a,"toString",{configurable:!0,enumerable:!1,value:r(l),writable:!0})}:t;return pv=i,pv}var mv,N1;function mL(){if(N1)return mv;N1=1;var r=800,e=16,t=Date.now;function i(a){var l=0,c=0;return function(){var d=t(),m=e-(d-c);if(c=d,m>0){if(++l>=r)return arguments[0]}else l=0;return a.apply(void 0,arguments)}}return mv=i,mv}var gv,O1;function kN(){if(O1)return gv;O1=1;var r=pL(),e=mL(),t=e(r);return gv=t,gv}var yv,D1;function VN(){if(D1)return yv;D1=1;var r=rd(),e=jN(),t=kN();function i(a,l){return t(e(a,l,r),a+"")}return yv=i,yv}var vv,M1;function PN(){if(M1)return vv;M1=1;var r=nc(),e=il(),t=Kf(),i=ur();function a(l,c,d){if(!i(d))return!1;var m=typeof c;return(m=="number"?e(d)&&t(c,d.length):m=="string"&&c in d)?r(d[c],l):!1}return vv=a,vv}var _v,j1;function gL(){if(j1)return _v;j1=1;var r=F0(),e=DN(),t=VN(),i=PN(),a=t(function(l,c){if(l==null)return[];var d=c.length;return d>1&&i(l,c[0],c[1])?c=[]:d>2&&i(c[0],c[1],c[2])&&(c=[c[0]]),e(l,r(c,1),[])});return _v=a,_v}var yL=gL();const H0=Bt(yL);class LN extends Xt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",count:this.props.count||0,modalOpen:!1},this.handleNotesChange=this.handleNotesChange.bind(this),this.handleCountChange=this.handleCountChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleNotesChange(e){this.setState({notes:e.target.value})}handleCountChange(e){const t=e.target.value;if(t===""||t===void 0)this.setState({count:0});else{const i=parseInt(t,10);!isNaN(i)&&i>=0&&this.setState({count:i})}}handleSave(){this.props.onSave(this.state.notes.trim(),this.state.count),this.handleClose()}handleOpen(){this.setState({modalOpen:!0,notes:this.props.notes||"",count:this.props.count||0})}handleClose(){this.setState({modalOpen:!1})}render(){return y.jsxs(y.Fragment,{children:[y.jsx(ec,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.url?y.jsx("a",{href:this.props.url,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:this.props.title}):this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(dn,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto",children:[this.props.category&&y.jsxs("p",{className:"mb-4 text-sm",children:[y.jsx("strong",{children:"Category:"})," ",this.props.category]}),y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"todo-count",className:"block text-sm font-bold text-gray-700 mb-1",children:"Count"}),y.jsx("input",{id:"todo-count",type:"number",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",value:this.state.count,onChange:this.handleCountChange,min:"0"})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"todo-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"todo-notes",autoFocus:!0,className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleNotesChange})]})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(Rn,{})," Save"]})})]})})]})}}LN.propTypes={title:U.string.isRequired,category:U.string,url:U.string,notes:U.string,count:U.number,onSave:U.func.isRequired};const G0=r=>{if(!r||typeof r!="string")return r;const e=r.split(/(\n)/g),t=[],i=/(https?:\/\/[^\s]+)/g;return e.forEach((a,l)=>{a===`
`?t.push(y.jsx("br",{},`br-${l}`)):a!==""&&a.split(i).forEach((d,m)=>{d.match(i)?t.push(y.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"text-sky-700 hover:underline",children:d},`link-${l}-${m}`)):d!==""&&t.push(d)})}),t},vu={isLoading:!1,results:[],value:"",activeIndex:0};class UN extends Xt.Component{constructor(e){super(e),this.state=vu,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=id(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(vu)}handleKeyDown(e){const{results:t,activeIndex:i,value:a}=this.state;if(e.key==="ArrowDown"&&t.length){e.preventDefault(),this.setState({activeIndex:(i+1)%t.length});return}if(e.key==="ArrowUp"&&t.length){e.preventDefault(),this.setState({activeIndex:(i-1+t.length)%t.length});return}if(e.key==="Enter"){if(t.length&&t[i]){e.preventDefault(),this.handleResultSelect(e,{result:t[i]});return}a&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:a}),this.setState(vu))}}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return(t,i)=>{this.props.onItemUpdate(e,t,i)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t,activeIndex:0}),t.length<1){this.setState(vu);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(vu);return}const t=new RegExp(Aa(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:wa(this.props.items,i),activeIndex:0})}resultRenderer({title:e,category:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:t})]},"content")}renderTable(){const e=H0(Ra(this.props.todoItems),["category","title"]);if(!e.length)return null;const t=e.map((i,a)=>{let l=i.title;i.count&&(l=`${l} x${i.count}`);const c=i.url||(i.title?`https://wiki.warframe.com/w/${i.title.split(" ").join("_")}`:"https://wiki.warframe.com");return y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsx("a",{href:c,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:l})}),y.jsx("td",{className:"py-1 px-2 text-gray-500",children:i.category}),y.jsx("td",{className:"py-1 px-2 text-gray-500 italic text-sm",children:G0(i.notes)}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1",children:[y.jsx(LN,{title:i.title,category:i.category,url:i.url,notes:i.notes,count:i.count,onSave:this.handleItemUpdate(i.title)}),y.jsx(xa,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(i.title)}),y.jsx(Bf,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(i.title)}),y.jsx(dn,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(i.title)})]})]},`${i.category||""}-${i.title}-${a}`)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:t})})}render(){const{isLoading:e,value:t,results:i,activeIndex:a}=this.state;return y.jsxs("div",{children:[Zr(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(tc,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyDown:this.handleKeyDown}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vi,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((l,c)=>y.jsx("div",{className:`px-3 py-2 cursor-pointer border-b border-gray-100 last:border-0 ${c===a?"bg-gray-100":"hover:bg-gray-50"}`,onClick:d=>this.handleResultSelect(d,{result:l}),children:this.resultRenderer(l)},c))})]}),this.renderTable()]})}}UN.propTypes={items:U.arrayOf(U.object),todoItems:U.object,onItemAdd:U.func.isRequired,onItemRemove:U.func.isRequired,onItemIncrement:U.func.isRequired,onItemDecrement:U.func.isRequired,onItemUpdate:U.func.isRequired};class F_ extends Xt.Component{constructor(e){super(e),this.state={title:this.props.title||"",itemName:this.props.itemName||"",notes:this.props.notes||"",auraMods:this.props.auraMods||[],mods:this.props.mods||[],arcanes:this.props.arcanes||[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0,modalOpen:this.props.forceOpen||!1},this.handleTitleChange=this.handleTitleChange.bind(this),this.handleItemNameChange=this.handleItemNameChange.bind(this),this.handleNotesChange=this.handleNotesChange.bind(this),this.handleAuraModSearchChange=this.handleAuraModSearchChange.bind(this),this.handleModSearchChange=this.handleModSearchChange.bind(this),this.handleArcaneSearchChange=this.handleArcaneSearchChange.bind(this),this.handleAuraModKeyDown=this.handleAuraModKeyDown.bind(this),this.handleModKeyDown=this.handleModKeyDown.bind(this),this.handleArcaneKeyDown=this.handleArcaneKeyDown.bind(this),this.handleAddAuraMod=this.handleAddAuraMod.bind(this),this.handleRemoveAuraMod=this.handleRemoveAuraMod.bind(this),this.handleAddMod=this.handleAddMod.bind(this),this.handleRemoveMod=this.handleRemoveMod.bind(this),this.handleAddArcane=this.handleAddArcane.bind(this),this.handleRemoveArcane=this.handleRemoveArcane.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){if(e.key==="Escape")this.handleClose();else if(e.key==="Enter"){if(e.target.tagName==="TEXTAREA")e.shiftKey||(e.preventDefault(),this.handleSave());else if(e.target.tagName==="INPUT"){if(e.target.dataset.searchInput==="true")return;e.preventDefault(),this.handleSave()}}}componentDidMount(){this.state.modalOpen&&document.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleTitleChange(e){this.setState({title:e.target.value})}handleItemNameChange(e){this.setState({itemName:e.target.value})}handleNotesChange(e){this.setState({notes:e.target.value})}handleAuraModSearchChange(e){const t=e.target.value;if(this.setState({auraModSearch:t,activeAuraModIndex:0}),t.length<1){this.setState({auraModResults:[]});return}const i=new RegExp(Aa(t),"i"),a=wa(this.props.availableMods,l=>i.test(l)&&!this.state.auraMods.includes(l)).slice(0,10);this.setState({auraModResults:a})}handleModSearchChange(e){const t=e.target.value;if(this.setState({modSearch:t,activeModIndex:0}),t.length<1){this.setState({modResults:[]});return}const i=new RegExp(Aa(t),"i"),a=wa(this.props.availableMods,l=>i.test(l)&&!this.state.mods.includes(l)).slice(0,10);this.setState({modResults:a})}handleArcaneSearchChange(e){const t=e.target.value;if(this.setState({arcaneSearch:t,activeArcaneIndex:0}),t.length<1){this.setState({arcaneResults:[]});return}const i=new RegExp(Aa(t),"i"),a=wa(this.props.availableArcanes,l=>i.test(l)&&!this.state.arcanes.includes(l)).slice(0,10);this.setState({arcaneResults:a})}handleAuraModKeyDown(e){const{auraModResults:t,activeAuraModIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeAuraModIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeAuraModIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddAuraMod(t[i])))}handleModKeyDown(e){const{modResults:t,activeModIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeModIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeModIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddMod(t[i])))}handleArcaneKeyDown(e){const{arcaneResults:t,activeArcaneIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeArcaneIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeArcaneIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddArcane(t[i])))}handleAddAuraMod(e){this.setState(t=>({auraMods:[...t.auraMods,e],auraModSearch:"",auraModResults:[]}))}handleRemoveAuraMod(e){this.setState(t=>({auraMods:t.auraMods.filter(i=>i!==e)}))}handleAddMod(e){this.setState(t=>({mods:[...t.mods,e],modSearch:"",modResults:[]}))}handleRemoveMod(e){this.setState(t=>({mods:t.mods.filter(i=>i!==e)}))}handleAddArcane(e){this.setState(t=>({arcanes:[...t.arcanes,e],arcaneSearch:"",arcaneResults:[]}))}handleRemoveArcane(e){this.setState(t=>({arcanes:t.arcanes.filter(i=>i!==e)}))}handleSave(){this.state.title.trim()&&(this.props.onSave({id:this.props.id||`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,title:this.state.title.trim(),itemName:this.state.itemName.trim(),notes:this.state.notes.trim(),auraMods:this.state.auraMods,mods:this.state.mods,arcanes:this.state.arcanes,category:"builds"}),this.handleClose(),!this.props.id&&!this.props.title&&this.setState({title:"",itemName:"",notes:"",auraMods:[],mods:[],arcanes:[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0}))}handleOpen(){this.setState({modalOpen:!0,title:this.props.title||"",itemName:this.props.itemName||"",notes:this.props.notes||"",auraMods:this.props.auraMods||[],mods:this.props.mods||[],arcanes:this.props.arcanes||[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0})}handleClose(){this.setState({modalOpen:!1})}render(){const{trigger:e}=this.props;return y.jsxs(y.Fragment,{children:[e?Xt.cloneElement(e,{onClick:this.handleOpen}):y.jsx(ec,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left text-gray-900",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.title?y.jsxs(y.Fragment,{children:["Edit Build: ",y.jsx("span",{className:"text-sky-700",children:this.props.title}),this.props.itemName&&y.jsx("a",{href:`https://wiki.warframe.com/w/${this.props.itemName.split(" ").join("_")}`,target:"_blank",rel:"noreferrer",className:"ml-2 text-xs text-gray-400 hover:text-sky-700 font-normal align-middle",children:"(wiki)"})]}):"Add New Build"}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(dn,{className:"text-gray-400"})})]}),y.jsx("div",{className:"p-4 grow overflow-y-auto",children:y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"build-title",className:"block text-sm font-bold text-gray-700 mb-1",children:"Build Name"}),y.jsx("input",{id:"build-title",type:"text",autoFocus:!this.props.title,className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",placeholder:"e.g. Speed Run, High Strength",value:this.state.title,onChange:this.handleTitleChange})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"build-item",className:"block text-sm font-bold text-gray-700 mb-1",children:"Item"}),y.jsx("input",{id:"build-item",type:"text",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",placeholder:"e.g. Gauss, Ignis Wraith",value:this.state.itemName,onChange:this.handleItemNameChange})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Aura/Exilus Mods"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.auraMods.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-50 text-cyan-700 text-xs font-bold rounded border border-blue-100 uppercase",children:[t,y.jsx(dn,{className:"w-3 h-3 cursor-pointer hover:text-cyan-900",onClick:()=>this.handleRemoveAuraMod(t)})]},i)),this.state.auraMods.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No mods added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search aura/exilus mods to add...",value:this.state.auraModSearch,onChange:this.handleAuraModSearchChange,onKeyDown:this.handleAuraModKeyDown})}),this.state.auraModResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.auraModResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeAuraModIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddAuraMod(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(xa,{className:`text-gray-400 ${i===this.state.activeAuraModIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Mods"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.mods.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-50 text-indigo-700 text-xs font-bold rounded border border-blue-100 uppercase",children:[t,y.jsx(dn,{className:"w-3 h-3 cursor-pointer hover:text-indigo-900",onClick:()=>this.handleRemoveMod(t)})]},i)),this.state.mods.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No mods added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search mods to add...",value:this.state.modSearch,onChange:this.handleModSearchChange,onKeyDown:this.handleModKeyDown})}),this.state.modResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.modResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeModIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddMod(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(xa,{className:`text-gray-400 ${i===this.state.activeModIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Arcanes"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.arcanes.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-50 text-purple-700 text-xs font-bold rounded border border-purple-100 uppercase",children:[t,y.jsx(dn,{className:"w-3 h-3 cursor-pointer hover:text-purple-900",onClick:()=>this.handleRemoveArcane(t)})]},i)),this.state.arcanes.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No arcanes added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search arcanes to add...",value:this.state.arcaneSearch,onChange:this.handleArcaneSearchChange,onKeyDown:this.handleArcaneKeyDown})}),this.state.arcaneResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.arcaneResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeArcaneIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddArcane(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(xa,{className:`text-gray-400 ${i===this.state.activeArcaneIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"build-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"build-notes",className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none text-sm",value:this.state.notes,onChange:this.handleNotesChange})]})]})}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(Rn,{})," ",this.props.title?"Update Build":"Add Build"]})})]})})]})}}F_.propTypes={id:U.string,title:U.string,itemName:U.string,notes:U.string,auraMods:U.arrayOf(U.string),mods:U.arrayOf(U.string),arcanes:U.arrayOf(U.string),availableMods:U.arrayOf(U.string),availableArcanes:U.arrayOf(U.string),onSave:U.func.isRequired,trigger:U.element,forceOpen:U.bool};const qN=({builds:r,onBuildAdd:e,onBuildRemove:t,onBuildUpdate:i,mods:a,arcanes:l})=>{const c=H0(Ra(r),["itemName","title"]),d=pf(c,v=>v.itemName||"Other"),g=Zr(d).sort().map(v=>{const b=d[v],S=`https://wiki.warframe.com/w/${v.split(" ").join("_")}`;return y.jsxs(Xt.Fragment,{children:[y.jsx("tr",{className:"bg-gray-50 border-t border-b border-gray-100",children:y.jsx("td",{colSpan:"3",className:"py-1.5 px-3 font-bold text-gray-700 text-[10px] uppercase tracking-wider",children:v!=="Other"?y.jsx("a",{href:S,target:"_blank",rel:"noreferrer",className:"hover:underline",children:v}):v})}),b.map((A,k)=>{const P=A.id||A.title;return y.jsxs("tr",{className:"border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-4 align-top",children:y.jsx("div",{className:"flex flex-col",children:y.jsx(F_,{id:A.id,title:A.title,itemName:A.itemName,notes:A.notes,auraMods:A.auraMods,mods:A.mods,arcanes:A.arcanes,availableMods:a,availableArcanes:l,onSave:M=>i(P,M),trigger:y.jsx("span",{className:"text-sky-700 font-bold hover:underline cursor-pointer",children:A.title})})})}),y.jsx("td",{className:"py-1 px-2 align-top",children:y.jsxs("div",{className:"flex flex-col gap-1",children:[A.auraMods&&A.auraMods.length>0&&y.jsx("div",{className:"grid grid-cols-4 gap-1",children:[...A.auraMods||[]].map((M,F)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-cyan-800 text-[10px] font-bold rounded border border-blue-100 uppercase truncate",title:M,children:M},F))}),A.mods&&A.mods.length>0&&y.jsx("div",{className:"grid grid-cols-4 gap-1",children:[...A.mods||[]].map((M,F)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-indigo-800 text-[10px] font-bold rounded border border-blue-100 uppercase truncate",title:M,children:M},F))}),A.arcanes&&A.arcanes.length>0&&y.jsx("div",{className:"flex flex-wrap gap-1",children:A.arcanes.map((M,F)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-purple-50 text-yellow-700 text-[10px] font-bold rounded border border-purple-100 uppercase",children:M},F))}),A.notes&&y.jsx("div",{className:"text-gray-500 italic text-sm",children:G0(A.notes)})]})}),y.jsx("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1 align-top",children:y.jsx(dn,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:()=>{window.confirm(`Are you sure you want to delete the build "${A.title}"?`)&&t(P)}})})]},`${P}-${k}`)})]},v)});return y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"flex justify-end",children:y.jsx(F_,{availableMods:a,availableArcanes:l,onSave:e,trigger:y.jsx("button",{className:"px-4 py-2 bg-black text-white rounded-md font-bold text-sm",children:"Add Build"})})}),c.length>0?y.jsx("div",{className:"overflow-hidden",children:y.jsx("table",{className:"w-full border-collapse bg-white",children:y.jsx("tbody",{children:g})})}):y.jsx("div",{className:"py-10 text-center text-gray-400 italic",children:'No builds added yet. Click "Add Build" to start.'})]})};qN.propTypes={builds:U.object,onBuildAdd:U.func.isRequired,onBuildRemove:U.func.isRequired,onBuildUpdate:U.func.isRequired,mods:U.arrayOf(U.string),arcanes:U.arrayOf(U.string)};class zN extends Xt.Component{handleItemClick(e){return t=>{this.props.onItemClick(e),t.stopPropagation()}}renderBody(){const e=this.props.items.map((t,i)=>{const a=this.props.visibilityFilter===rn.SHOW_ACTIVE&&t.checked;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(t).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const l=t.Tier?t.Tier[4]:null;return y.jsxs("tr",{className:`${t.checked?"bg-green-50":""} ${a?"opacity-30":""} border-b border-gray-100 last:border-0`,children:[y.jsx("td",{className:"py-1 px-3 align-middle text-gray-900",children:y.jsx("div",{className:"flex items-center gap-1.5",children:y.jsx("span",{className:"text-base leading-tight",children:t.title})})}),y.jsx("td",{className:"py-1 px-2 align-middle",children:y.jsxs("div",{className:"flex items-center gap-2",children:[t.crafting?y.jsx(qf,{className:"text-gray-400"}):null,t.canAppearInChest?y.jsx(YI,{className:"text-gray-400"}):null]})}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Popular)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Popular + Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Popular)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Popular + Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm text-center",children:l}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t.Culture})]},i)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:e})}render(){return y.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:y.jsxs("table",{className:"w-full border-collapse bg-white",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-3 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Name"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Props"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (P)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (P+R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (P)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (P+R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Tier"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Culture"})]})}),this.renderBody()]})})}}zN.propTypes={items:U.arrayOf(U.shape({title:U.string,"Perfect Price":U.number,"Perfect Price (Popular)":U.number,"Perfect Price (Rich)":U.number,"Perfect Price (Popular + Rich)":U.number,"Max Price":U.number,"Max Price (Popular)":U.number,"Max Price (Rich)":U.number,"Max Price (Popular + Rich)":U.number,Tier:U.string,Culture:U.string,maxStack:U.number,minChestStack:U.number,maxChestStack:U.number,canAppearInChest:U.bool,crafting:U.bool})),onItemClick:U.func.isRequired,visibilityFilter:U.string,searchFilter:U.string};class BN extends Xt.Component{formatWorkshopReason(e){const t=e.filter(l=>l!=="Workshop"),i={1:"I",2:"II",3:"III",4:"IV",5:"V"};return t.map(l=>{const c=l.match(/^(?:Level )?(\d+)(?:\s+-\s+.+)?$/);if(c){const d=parseInt(c[1],10);return i[d]||l}return l}).join(" ")}formatProjectReason(e){return e.filter(i=>i!=="Goals").map(i=>i.startsWith("Project: ")?i.substring(9):i).filter(i=>!i.match(/^.+\s+\d+\/\d+$/)).join(" ")}extractNeededItems(){const e=[],t={};if(this.props.goalsItems&&this.props.goalsChecked){const i=(a,l=[])=>{!a||!Array.isArray(a)||a.forEach(c=>{const d=[...l,c.title];if(c.key&&!Object.prototype.hasOwnProperty.call(this.props.goalsChecked,c.key)){const g=c.title.match(/^(\d+)x\s+(.+)$/),v=g?parseInt(g[1],10):1,b=g?g[2]:c.title;e.push({title:b,quantity:v,url:c.url,key:c.key}),t[b]||(t[b]={workshop:[],projects:[],quests:[]});const S=l[0],A=d.slice(0,-1);if(S==="Workshop"){const k=this.formatWorkshopReason(A),P=`${v}x ${k}`;t[b].workshop.push(P)}else if(S&&S.startsWith("Project:")){const k=this.formatProjectReason(A),P=`${v}x ${k}`;t[b].projects.push(P)}}c.items&&i(c.items,d)})};this.props.goalsItems.forEach(a=>{a.items&&i(a.items,[a.title])})}return this.props.questsItems&&this.props.questsChecked&&this.props.questsItems.forEach(i=>{const a=i.title;if(!a)return;!Object.prototype.hasOwnProperty.call(this.props.questsChecked,a)&&Array.isArray(i.required_items)&&i.required_items.forEach(c=>{if(c.title){const d=c.quantity||1;e.push({title:c.title,quantity:d,url:c.url}),t[c.title]||(t[c.title]={workshop:[],projects:[],quests:[]});const m=`${d}x ${i.title}`;t[c.title].quests.push(m)}})}),{neededItems:e,itemReasons:t}}handleKeepCheckbox(e){return()=>{const t=`resource-${e}`;this.props.onItemClick(t)}}getRarityClass(e){if(!e)return"border-gray-500";switch(e.toLowerCase()){case"common":return"border-gray-500";case"uncommon":return"border-green-500";case"rare":return"border-blue-600";case"epic":return"border-purple-600";case"legendary":return"border-orange-500";default:return"border-gray-500"}}renderCellValue(e){return Array.isArray(e)?y.jsx("ul",{className:"list-none m-0 p-0",children:e.map((t,i)=>y.jsx("li",{className:"leading-tight mb-0.5 last:mb-0",children:t},i))}):e}renderBody(){const{neededItems:e,itemReasons:t}=this.extractNeededItems(),i=new Map;e.forEach(c=>{const d=i.get(c.title)||0;i.set(c.title,d+c.quantity)});const l=[...this.props.items].sort((c,d)=>{const m=`resource-${c.title}`,g=`resource-${d.title}`,v=Object.prototype.hasOwnProperty.call(this.props.checkedList,m),b=Object.prototype.hasOwnProperty.call(this.props.checkedList,g),S=i.has(c.title),A=i.has(d.title);if(v&&!b)return-1;if(!v&&b)return 1;if(!v&&!b){if(S&&!A)return-1;if(!S&&A)return 1}return(c.title||"").localeCompare(d.title||"")}).map((c,d)=>{const m=this.props.visibilityFilter===rn.SHOW_ACTIVE&&c.checked;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(c).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const g=this.getRarityClass(c.rarity),v=`resource-${c.title}`,b=Object.prototype.hasOwnProperty.call(this.props.checkedList,v),S=m?"opacity-30":"",A=c.icon?y.jsx("img",{src:c.icon,alt:c.title,className:"w-12 h-12 mx-auto object-contain"}):null,k=i.get(c.title)||null,P=t[c.title]||{workshop:[],projects:[],quests:[]},M=P.workshop.length>0?P.workshop:null,F=P.quests.length>0?P.quests:null,z=P.projects.length>0?P.projects:null;return y.jsxs("tr",{className:`${c.checked?"bg-green-50":""} ${S} hover:bg-black/[0.01] transition-colors border-b border-gray-100 last:border-0`,children:[y.jsx("td",{className:`py-1 px-2 text-center align-middle cursor-pointer ${b?"bg-green-500/10":""}`,onClick:this.handleKeepCheckbox(c.title),children:y.jsx("div",{className:`w-4 h-4 mx-auto border rounded-[2px] flex items-center justify-center ${b?"bg-green-500 border-green-500":"bg-white border-gray-300"}`,children:b&&y.jsx(Rn,{className:"text-[10px] text-white"})})}),y.jsx("td",{className:"py-1 px-2 align-middle text-center",children:y.jsx("div",{className:"w-12 h-12 flex items-center justify-center mx-auto",children:c.url?y.jsx("a",{href:c.url,title:"wiki",target:"_blank",rel:"noopener noreferrer",className:"block w-full h-full",children:A}):A})}),y.jsx("td",{className:`py-1 px-3 align-middle font-bold text-gray-900 border-l-4 ${g}`,children:y.jsxs("div",{className:"flex items-center gap-1.5",children:[c.checked&&y.jsx(Rn,{className:"text-green-500 shrink-0"}),y.jsx("span",{className:"text-base leading-tight",children:c.title})]})}),y.jsx("td",{className:`py-1 px-2 text-center align-middle font-bold text-sm ${k?"bg-orange-400/10 text-orange-700":"text-gray-400"}`,children:k||""}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.recycles)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.sell_price)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(M)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(F)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(z)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.keep_for_crafting)})]},d)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:l})}render(){return y.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:y.jsxs("table",{className:"w-full border-collapse bg-white",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Keep"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Icon"}),y.jsx("th",{className:"py-2 px-3 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Name"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Needed"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Recycles"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Sell Price"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Workshop"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Quests"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Projects"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Crafting"})]})}),this.renderBody()]})})}}BN.propTypes={items:U.arrayOf(U.shape({title:U.string,icon:U.string,url:U.string,rarity:U.string,recycles:U.oneOfType([U.string,U.arrayOf(U.string)]),sell_price:U.oneOfType([U.number,U.string]),category:U.string,keep_for_crafting:U.oneOfType([U.number,U.string,U.bool,U.arrayOf(U.string)])})),checkedList:U.object.isRequired,goalsItems:U.array,goalsChecked:U.object,questsItems:U.array,questsChecked:U.object,onItemClick:U.func.isRequired,visibilityFilter:U.string,searchFilter:U.string};var bv,k1;function vL(){if(k1)return bv;k1=1;var r=Object.prototype,e=r.hasOwnProperty;function t(i,a){return i!=null&&e.call(i,a)}return bv=t,bv}var Ev,V1;function _L(){if(V1)return Ev;V1=1;var r=vL(),e=NN();function t(i,a){return i!=null&&e(i,a,r)}return Ev=t,Ev}var bL=_L();const Du=Bt(bL);var Tv,P1;function K0(){if(P1)return Tv;P1=1;function r(e,t){var i=-1,a=e.length;for(t||(t=Array(a));++i<a;)t[i]=e[i];return t}return Tv=r,Tv}var Sv,L1;function EL(){if(L1)return Sv;L1=1;var r=Zf(),e=F0(),t=K0(),i=on();function a(){var l=arguments.length;if(!l)return[];for(var c=Array(l-1),d=arguments[0],m=l;m--;)c[m-1]=arguments[m];return r(i(d)?t(d):[d],e(c,1))}return Sv=a,Sv}var TL=EL();const SL=Bt(TL);class FN extends Xt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",modalOpen:!1},this.handleChange=this.handleChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleChange(e){this.setState({notes:e.target.value})}handleSave(){this.props.onSave(this.state.notes.trim()),this.handleClose()}handleOpen(){this.setState({modalOpen:!0})}handleClose(){this.setState({modalOpen:!1})}renderPlaces(){return this.props.places?y.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 mb-4 space-y-1",children:B0(this.props.places,"zone","area").map((e,t)=>y.jsx("li",{children:[e.zone,e.name].filter(i=>!!i).join(" - ")},t))}):null}render(){return y.jsxs(y.Fragment,{children:[y.jsx(ec,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(dn,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto flex flex-col",children:[this.renderPlaces(),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"ffxiv-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"ffxiv-notes",autoFocus:!0,className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleChange})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(Rn,{})," Save"]})})]})})]})}}FN.propTypes={title:U.string.isRequired,places:U.array,notes:U.string,onSave:U.func.isRequired};const xL={red:"text-red-600",orange:"text-orange-500",yellow:"text-yellow-500",olive:"text-lime-600",green:"text-green-500",teal:"text-teal-500",blue:"text-sky-700",violet:"text-violet-600",purple:"text-purple-600",pink:"text-pink-500",brown:"text-amber-700",grey:"text-gray-500",black:"text-gray-900"},U1=["red","olive","yellow","green","teal","blue","orange","violet","purple","pink","brown","grey","black"],_u={isLoading:!1,results:[],value:""};class HN extends Xt.Component{constructor(e){super(e),this.state=_u,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=id(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(_u)}handleKeyPress(e){e.key==="Enter"&&this.state.value&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:this.state.value}),this.setState(_u))}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return t=>{this.props.onItemUpdate(e,t)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t}),t.length<1){this.setState(_u);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(_u);return}const t=new RegExp(Aa(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:wa(this.props.items,i)})}formatPlaces(e,t=!1){return!e||!e.length?null:t?e.slice(0,1).map(i=>[i.zone,i.name].filter(a=>!!a).join(" - ")):e.map(i=>[i.zone,i.name].filter(a=>!!a).join(" - ")).join(" /// ")}resultRenderer({title:e,places:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:this.formatPlaces(t)})]},"content")}renderTypeIcon(e){switch(e.type){case"e":return y.jsx(oN,{className:"text-red-600 text-xs align-middle mr-1",title:"Enemy"});case"m":return y.jsx(B_,{className:"text-yellow-500 text-xs align-middle mr-1",title:"Mining"});case"q":return y.jsx(B_,{className:"text-yellow-500 text-xs align-middle mr-1 opacity-50",title:"Quarrying"});case"l":return y.jsx(lN,{className:"text-green-500 text-xs align-middle mr-1",title:"Logging"});case"h":return y.jsx(uN,{className:"text-green-500 text-xs align-middle mr-1",title:"Harvesting"});case"f":return y.jsx(hN,{className:"text-sky-700 text-xs align-middle mr-1",title:"Fish"});default:return null}}renderTable(){const e=Ra(this.props.todoItems);if(!e.length)return null;const t=[];e.forEach(c=>{const d=Du(c,"places.0.zone")?Ii(c,"places.0.zone"):Ii(c,"notes");t.includes(d)||t.push(d)});let i=[];const a=pf(e,"places.0.area");Zr(a).sort().forEach(c=>{const d=a[c],m=pf(d,"places.0.zone");Zr(m).sort().forEach(g=>{const v=m[g];i=SL(i,B0(v,"places.0.name"))})});const l=i.map(c=>{let d=c.title;const m=Du(c,"places.0.zone")?Ii(c,"places.0.zone"):Ii(c,"notes"),g=U1[t.indexOf(m)%U1.length],v=y.jsx(cN,{className:`${xL[g]||"text-gray-400"} align-middle mr-1`});c.count&&(d=`${d} x${c.count}`);const b=`https://ffxiv.gamerescape.com/wiki/${c.title.split(" ").join("_")}`;let S;return c.places&&c.notes&&c.notes!==""?S=y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[v,this.formatPlaces(c.places,!0)]}),y.jsx("div",{className:"text-gray-500 text-xs italic",children:c.notes})]}):c.places?S=y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[v,this.formatPlaces(c.places,!0)]}):S=y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[v,c.notes]}),y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"shrink-0",children:this.renderTypeIcon(c)}),y.jsxs("div",{className:"ml-1",children:[y.jsx("a",{href:b,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline font-bold leading-tight block",children:d}),S]})]})}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1 align-top",children:[y.jsx(FN,{title:c.title,places:c.places,notes:c.notes,onSave:this.handleItemUpdate(c.title)}),y.jsx(xa,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(c.title)}),y.jsx(Bf,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(c.title)}),y.jsx(dn,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(c.title)})]})]},d)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:l})})}render(){const{isLoading:e,value:t,results:i}=this.state;return y.jsxs("div",{children:[Zr(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(tc,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item or enemy name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyPress:this.handleKeyPress}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vi,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((a,l)=>y.jsx("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-0",onClick:c=>this.handleResultSelect(c,{result:a}),children:this.resultRenderer(a)},l))})]}),this.renderTable()]})}}HN.propTypes={items:U.arrayOf(U.object),todoItems:U.object,onItemAdd:U.func.isRequired,onItemRemove:U.func.isRequired,onItemIncrement:U.func.isRequired,onItemDecrement:U.func.isRequired,onItemUpdate:U.func.isRequired};class GN extends Xt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",count:this.props.count||0,modalOpen:!1},this.handleNotesChange=this.handleNotesChange.bind(this),this.handleCountChange=this.handleCountChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleNotesChange(e){this.setState({notes:e.target.value})}handleCountChange(e){const t=e.target.value;if(t===""||t===void 0)this.setState({count:0});else{const i=parseInt(t,10);!isNaN(i)&&i>=0&&this.setState({count:i})}}handleSave(){this.props.onSave(this.state.notes.trim(),this.state.count),this.handleClose()}handleOpen(){this.setState({modalOpen:!0,notes:this.props.notes||"",count:this.props.count||0})}handleClose(){this.setState({modalOpen:!1})}render(){return y.jsxs(y.Fragment,{children:[y.jsx(ec,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.url?y.jsx("a",{href:this.props.url,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:this.props.title}):this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(dn,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto",children:[this.props.category&&y.jsxs("p",{className:"mb-4 text-sm",children:[y.jsx("strong",{children:"Category:"})," ",this.props.category]}),y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"todo-count",className:"block text-sm font-bold text-gray-700 mb-1",children:"Count"}),y.jsx("input",{id:"todo-count",type:"number",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",value:this.state.count,onChange:this.handleCountChange,min:"0"})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"todo-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"todo-notes",autoFocus:!0,className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleNotesChange})]})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(Rn,{})," Save"]})})]})})]})}}GN.propTypes={title:U.string.isRequired,category:U.string,url:U.string,notes:U.string,count:U.number,onSave:U.func.isRequired};const bu={isLoading:!1,results:[],value:"",activeIndex:0},q1="https://wiki.avakot.org/";class KN extends Xt.Component{constructor(e){super(e),this.state=bu,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=id(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(bu)}handleKeyDown(e){const{results:t,activeIndex:i,value:a}=this.state;if(e.key==="ArrowDown"&&t.length){e.preventDefault(),this.setState({activeIndex:(i+1)%t.length});return}if(e.key==="ArrowUp"&&t.length){e.preventDefault(),this.setState({activeIndex:(i-1+t.length)%t.length});return}if(e.key==="Enter"){if(t.length&&t[i]){e.preventDefault(),this.handleResultSelect(e,{result:t[i]});return}a&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:a}),this.setState(bu))}}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return(t,i)=>{this.props.onItemUpdate(e,t,i)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t,activeIndex:0}),t.length<1){this.setState(bu);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(bu);return}const t=new RegExp(Aa(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:wa(this.props.items,i),activeIndex:0})}resultRenderer({title:e,category:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:t})]},"content")}renderTable(){const e=H0(Ra(this.props.todoItems),["category","title"]);if(!e.length)return null;const t=e.map((i,a)=>{let l=i.title;i.count&&(l=`${l} x${i.count}`);const c=i.url||(i.title?`${q1}${encodeURIComponent(i.title.replace(/\s+/g,"_"))}`:q1);return y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsx("a",{href:c,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:l})}),y.jsx("td",{className:"py-1 px-2 text-gray-500",children:i.category}),y.jsx("td",{className:"py-1 px-2 text-gray-500 italic text-sm",children:G0(i.notes)}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1",children:[y.jsx(GN,{title:i.title,category:i.category,url:i.url,notes:i.notes,count:i.count,onSave:this.handleItemUpdate(i.title)}),y.jsx(xa,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(i.title)}),y.jsx(Bf,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(i.title)}),y.jsx(dn,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(i.title)})]})]},`${i.category||""}-${i.title}-${a}`)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:t})})}render(){const{isLoading:e,value:t,results:i,activeIndex:a}=this.state;return y.jsxs("div",{children:[Zr(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(tc,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyDown:this.handleKeyDown}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vi,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((l,c)=>y.jsx("div",{className:`px-3 py-2 cursor-pointer border-b border-gray-100 last:border-0 ${c===a?"bg-gray-100":"hover:bg-gray-50"}`,onClick:d=>this.handleResultSelect(d,{result:l}),children:this.resultRenderer(l)},c))})]}),this.renderTable()]})}}KN.propTypes={items:U.arrayOf(U.object),todoItems:U.object,onItemAdd:U.func.isRequired,onItemRemove:U.func.isRequired,onItemIncrement:U.func.isRequired,onItemDecrement:U.func.isRequired,onItemUpdate:U.func.isRequired};var xv,z1;function AL(){if(z1)return xv;z1=1;var r=Pa(),e=on(),t=ai(),i="[object String]";function a(l){return typeof l=="string"||!e(l)&&t(l)&&r(l)==i}return xv=a,xv}var wL=AL();const va=Bt(wL);var Av,B1;function $0(){if(B1)return Av;B1=1;var r=Ff(),e=nc(),t=Object.prototype,i=t.hasOwnProperty;function a(l,c,d){var m=l[c];(!(i.call(l,c)&&e(m,d))||d===void 0&&!(c in l))&&r(l,c,d)}return Av=a,Av}var wv,F1;function RL(){if(F1)return wv;F1=1;var r=$0(),e=ic(),t=Kf(),i=ur(),a=sl();function l(c,d,m,g){if(!i(c))return c;d=e(d,c);for(var v=-1,b=d.length,S=b-1,A=c;A!=null&&++v<b;){var k=a(d[v]),P=m;if(k==="__proto__"||k==="constructor"||k==="prototype")return c;if(v!=S){var M=A[k];P=g?g(M,k,A):void 0,P===void 0&&(P=i(M)?M:t(d[v+1])?[]:{})}r(A,k,P),A=A[k]}return c}return wv=l,wv}var Rv,H1;function CL(){if(H1)return Rv;H1=1;var r=RL();function e(t,i,a){return t==null?t:r(t,i,a)}return Rv=e,Rv}var IL=CL();const ba=Bt(IL),$N=({configs:r})=>{const{gameName:e}=sk(),t=_0(),i=aP(),[a,l]=B.useState(null),[c,d]=B.useState(!0),m=ya(ee=>ee.gameConfig),g=ya(ee=>ee.visibilityFilter),v=ya(ee=>ee.relicVisibility),b=ya(ee=>ee.searchFilter),S=ya(ee=>ee.todoItems),A=ya(ee=>ee.voidDrops),k=ya(ee=>ee.markedRelics),M=r.find(ee=>ee.name===e)?.format??"json";B.useEffect(()=>{d(!0),UI(Object.assign({"../game-configs/arcraiders.yaml":()=>Je(()=>import("./arcraiders-DwMnh1wG.js"),[]),"../game-configs/d2.json":()=>Je(()=>import("./d2-86jZVzfU.js"),[]),"../game-configs/demonsouls.json":()=>Je(()=>import("./demonsouls-BCfmklI_.js"),[]),"../game-configs/desperadosiii.json":()=>Je(()=>import("./desperadosiii-DRrR9JKY.js"),[]),"../game-configs/eldenring.json":()=>Je(()=>import("./eldenring-BhBw9KJo.js"),[]),"../game-configs/ff14.json":()=>Je(()=>import("./ff14-BBhf0-4D.js"),[]),"../game-configs/ff7.json":()=>Je(()=>import("./ff7-DLwRtRAW.js"),[]),"../game-configs/hades.json":()=>Je(()=>import("./hades-E0msANQS.js"),[]),"../game-configs/lordsofthefallen.yaml":()=>Je(()=>import("./lordsofthefallen-vi3erB2s.js"),[]),"../game-configs/moonlighter.json":()=>Je(()=>import("./moonlighter-cBH7j0Pd.js"),[]),"../game-configs/nioh2.json":()=>Je(()=>import("./nioh2-DxReD30-.js"),[]),"../game-configs/remnant.json":()=>Je(()=>import("./remnant-DGeWdaFe.js"),[]),"../game-configs/remnant2.yaml":()=>Je(()=>import("./remnant2-Drru-4q0.js"),[]),"../game-configs/riskofrain2.json":()=>Je(()=>import("./riskofrain2-B2vEN_Lq.js"),[]),"../game-configs/seaofthieves.yaml":()=>Je(()=>import("./seaofthieves-DDa2AQaY.js"),[]),"../game-configs/shadowgambit.yaml":()=>Je(()=>import("./shadowgambit-Cy1gMF9x.js"),[]),"../game-configs/soulframe.yaml":()=>Je(()=>import("./soulframe-BUEpWpF6.js"),[]),"../game-configs/warframe.json":()=>Je(()=>import("./warframe-CCBagT2h.js"),[])}),`../game-configs/${e}.${M}`,3).then(ee=>{l(ee.default),d(!1)}).catch(ee=>{console.error("Failed to load config",ee),d(!1),l(null)})},[e,M]),B.useEffect(()=>{const ee=ae=>{if(ae.key>="1"&&ae.key<="9"){if(ae.target.tagName==="INPUT"||ae.target.tagName==="TEXTAREA"||ae.metaKey||ae.ctrlKey)return;ae.preventDefault();const Se=parseInt(ae.key)-1;if(a&&a.categories){const D=Object.getOwnPropertyNames(a.categories);if(Se<D.length){const X=D[Se];t(`/${e}/${X}`)}}}};return window.addEventListener("keydown",ee),()=>window.removeEventListener("keydown",ee)},[a,e,t]);const F=B.useCallback(ee=>ae=>{i(uP(e,ee,ae))},[i,e]),z=B.useCallback(ee=>ae=>{i(hP(e,ee,ae))},[i,e]),J=B.useCallback(ee=>ae=>{i(fP(e,ee,ae))},[i,e]),le=B.useCallback(ee=>ae=>{i(mP(e,ee,ae))},[i,e]),de=B.useCallback(ee=>ae=>{i(pP(e,ee,ae))},[i,e]),ue=B.useCallback(ee=>ae=>{i(yP(e,ee,ae))},[i,e]),C=B.useCallback(ee=>ae=>{i(dP(e,ee,ae))},[i,e]),R=B.useCallback(ee=>ae=>{i(gP(e,ee,ae))},[i,e]),N=B.useCallback(ee=>(ae,Se)=>{i(EP(e,ee,ae,Se))},[i,e]),j=B.useCallback(ee=>ae=>{i(vP(e,ee,ae))},[i,e]),O=B.useCallback(ee=>ae=>{i(_P(e,ee,ae))},[i,e]),L=B.useCallback(ee=>(ae,Se,D)=>{i(bP(e,ee,ae,Se,D))},[i,e]),I=B.useCallback((ee,ae,Se)=>{const D=ee.map(re=>va(re)?re:{...re});let X=!0;return D.forEach((re,ce)=>{let fe;if(va(re))fe=Object.prototype.hasOwnProperty.call(ae,re),ba(D,ce,{title:re,checked:fe});else{const ve=re.key||re.title;fe=Object.prototype.hasOwnProperty.call(ae,ve),ba(D,[ce,"checked"],fe)}if(re.items){const ve=I(re.items,ae,Se);ba(D,[ce,"items"],ve.items),ve.allChecked&&(fe=!0,ba(D,[ce,"checked"],!0))}else Se.total++,fe&&Se.checked++;fe||(X=!1)}),{items:D,allChecked:X,counter:Se}},[]),we=(ee,ae,Se)=>{if(a.renderer&&a.renderer[ae]==="warframe")return y.jsx(ON,{items:ee,onItemClick:F(ae),visibilityFilter:g,searchFilter:b});if(a.renderer&&a.renderer[ae]==="ff14-todo"){const D={},X=`${e}-`;return Object.keys(S).forEach(re=>{re.startsWith(X)&&(D[re]=S[re])}),y.jsx(HN,{items:ee,todoItems:D,onItemAdd:J(ae),onItemRemove:le(ae),onItemIncrement:j(ae),onItemDecrement:O(ae),onItemUpdate:L(ae)})}else{if(a.renderer&&a.renderer[ae]==="moonlighter")return y.jsx(zN,{items:ee,onItemClick:F(ae),visibilityFilter:g,searchFilter:b});if(a.renderer&&a.renderer[ae]==="arcraiders"){const D=Ii(m,[e,"Goals"]),X={total:0,checked:0};let re=null;a.categories.Goals&&D?re=I(a.categories.Goals,D,X).items:a.categories.Goals&&(re=a.categories.Goals);const ce=Ii(m,[e,"quests"]);let fe=null;return a.categories.quests&&(fe=a.categories.quests),y.jsx(BN,{items:ee,checkedList:Se||{},goalsItems:re,goalsChecked:D||{},questsItems:fe,questsChecked:ce||{},onItemClick:F(ae),visibilityFilter:g,searchFilter:b})}else{if(a.renderer&&a.renderer[ae]==="void-planner")return y.jsx(MN,{items:ee,voidDrops:A,onItemAdd:de(ae),onItemRemove:ue(ae),onRelicToggle:D=>i(cP(D)),markedRelics:k,onRelicVisibilityToggle:D=>i(xP(D)),relicVisibility:v});if(a.renderer&&a.renderer[ae]==="warframe-todo"){const D=["warframes","primary","secondary","melee","companions","archwing","arcanes","mods"],X=[];D.forEach(fe=>{const ve=a.categories[fe]||a.hidden_categories&&a.hidden_categories[fe];Array.isArray(ve)&&ve.forEach(be=>{fe==="warframes"?X.push({title:be.title,url:be.url,category:fe}):Array.isArray(be.items)?be.items.forEach(et=>{X.push({title:va(et)?et:et.title,url:va(et)?"":et.url,category:fe})}):be.title&&X.push({title:be.title,url:be.url,category:fe})})});const re={},ce=`${e}-`;return Object.keys(S).forEach(fe=>{fe.startsWith(ce)&&(re[fe]=S[fe])}),y.jsx(UN,{items:X,todoItems:re,onItemAdd:J(ae),onItemRemove:le(ae),onItemIncrement:j(ae),onItemDecrement:O(ae),onItemUpdate:L(ae)})}else if(a.renderer&&a.renderer[ae]==="soulframe-todo"){const D=[],X=(fe,ve)=>{fe.forEach(be=>{if(va(be)){D.push({title:be,url:"",category:ve});return}if(be){if(Array.isArray(be.items)){X(be.items,ve);return}be.title&&D.push({title:be.title,url:be.url,category:ve})}})};Object.keys(a.categories||{}).forEach(fe=>{if(fe===ae)return;const ve=a.categories[fe];Array.isArray(ve)&&X(ve,fe)});const re={},ce=`${e}-`;return Object.keys(S).forEach(fe=>{fe.startsWith(ce)&&(re[fe]=S[fe])}),y.jsx(KN,{items:D,todoItems:re,onItemAdd:J(ae),onItemRemove:le(ae),onItemIncrement:j(ae),onItemDecrement:O(ae),onItemUpdate:L(ae)})}else if(a.renderer&&a.renderer[ae]==="warframe-builds"){const D=[],X=[];return a.hidden_categories&&(Array.isArray(a.hidden_categories.mods)&&a.hidden_categories.mods.forEach(re=>{Array.isArray(re.items)&&re.items.forEach(ce=>{D.push(va(ce)?ce:ce.title)})}),Array.isArray(a.hidden_categories.arcanes)&&a.hidden_categories.arcanes.forEach(re=>{Array.isArray(re.items)&&re.items.forEach(ce=>{X.push(va(ce)?ce:ce.title)})})),y.jsx(qN,{builds:Se||{},onBuildAdd:C(ae),onBuildRemove:R(ae),onBuildUpdate:N(ae),mods:D,arcanes:X})}else return y.jsx(fN,{items:ee,onItemClick:F(ae),onClear:z(ae),visibilityFilter:g,searchFilter:b})}}};if(c)return y.jsxs("div",{className:"flex items-center justify-center py-20 text-gray-500",children:[y.jsx(Vi,{className:"mr-3"}),y.jsx("span",{children:"Loading config..."})]});if(!a||!a.categories)return y.jsx("div",{children:"Empty config."});const Ie=[],Z=[];let he="";return Object.getOwnPropertyNames(a.categories).forEach(ee=>{he||(he=ee);const ae=Ii(m,[e,ee]);let Se;const D={total:0,checked:0};ae?Se=I(a.categories[ee],ae,D).items:Se=a.categories[ee];const X=D.total&&D.checked?(D.checked/D.total*100).toFixed(0):null,re=a.options&&a.options[ee]==="quantity_progress",ce=D.total&&D.checked?re?` ${D.checked}/${D.total}`:` ${X} %`:null;Ie.push(y.jsxs(zu,{to:`/${e}/${ee}`,className:"px-2.5 py-1 mr-1 border-b-[2px] border-transparent hover:text-gray-900 hover:border-gray-300 transition-colors [&.active]:border-black [&.active]:font-bold text-gray-600 flex items-baseline text-base",children:[ee.charAt(0).toUpperCase()+ee.slice(1),y.jsx("span",{className:"ml-1 text-[0.85em] text-gray-400 font-normal",children:ce})]},ee)),Z.push(y.jsx(Sa,{path:ee,element:we(Se,ee,ae)},ee))}),[y.jsx("div",{className:"flex flex-wrap border-b border-gray-200 mb-2 list-none px-0 py-1",children:Ie},"menu"),y.jsxs(MI,{children:[y.jsx(Sa,{index:!0,element:y.jsx(V_,{to:`/${e}/${he}`,replace:!0})}),Z,y.jsx(Sa,{path:"*",element:y.jsx(V_,{to:`/${e}/${he}`,replace:!0})})]},"switch")]};$N.propTypes={configs:U.arrayOf(U.shape({name:U.string.isRequired,title:U.string.isRequired,format:U.string})).isRequired};const NL=r=>UI(Object.assign({"../game-configs/d2.json":()=>Je(()=>import("./d2-86jZVzfU.js"),[]),"../game-configs/demonsouls.json":()=>Je(()=>import("./demonsouls-BCfmklI_.js"),[]),"../game-configs/desperadosiii.json":()=>Je(()=>import("./desperadosiii-DRrR9JKY.js"),[]),"../game-configs/eldenring.json":()=>Je(()=>import("./eldenring-BhBw9KJo.js"),[]),"../game-configs/ff14.json":()=>Je(()=>import("./ff14-BBhf0-4D.js"),[]),"../game-configs/ff7.json":()=>Je(()=>import("./ff7-DLwRtRAW.js"),[]),"../game-configs/hades.json":()=>Je(()=>import("./hades-E0msANQS.js"),[]),"../game-configs/moonlighter.json":()=>Je(()=>import("./moonlighter-cBH7j0Pd.js"),[]),"../game-configs/nioh2.json":()=>Je(()=>import("./nioh2-DxReD30-.js"),[]),"../game-configs/remnant.json":()=>Je(()=>import("./remnant-DGeWdaFe.js"),[]),"../game-configs/riskofrain2.json":()=>Je(()=>import("./riskofrain2-B2vEN_Lq.js"),[]),"../game-configs/warframe.json":()=>Je(()=>import("./warframe-CCBagT2h.js"),[])}),`../game-configs/${r}.json`,3).then(e=>e.default),OL=()=>{const[r,e]=B.useState("loading...");return B.useEffect(()=>{NL("warframe").then(t=>{e(t.dateUpdated)})},[]),y.jsxs("div",{className:"max-w-3xl mx-auto px-4 mt-4 text-base leading-relaxed text-gray-800",children:[y.jsxs("p",{className:"mb-4",children:["This site is purely client-side, everything is hosted on free GitHub pages. Your progress is saved in the cloud when you sign in, or stored locally in ",y.jsx("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage",className:"text-sky-700 hover:underline",children:"browser local storage"})," when signed out."]}),y.jsx("p",{className:"mb-4",children:'Data is persistent and can be synced across devices when signed in. You can also download/upload your state via the top nav menu or directly from the browser console (Application tab, look for "state" variable).'}),y.jsxs("p",{className:"mb-8 border-b border-gray-100 pb-4",children:["If you have any suggestions or find any mistakes: email me ",y.jsx("a",{href:"mailto:poehartgroove@gmail.com",className:"text-sky-700 hover:underline",children:"poehartgroove@gmail.com"}),"."]}),y.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-6 mb-4",children:"Data Sources:"}),y.jsxs("ul",{className:"list-disc list-outside ml-5 space-y-4 text-sm",children:[y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Arc Raiders:"})," Data compiled from official sources and community wikis."]})}),y.jsxs("li",{children:[y.jsxs("div",{children:[y.jsx("strong",{children:"Warframe:"})," Data sources: ",y.jsx("a",{href:"https://wf.snekw.com/",className:"text-sky-700 hover:underline",children:"wf.snekw.com"}),", "," ",y.jsx("a",{href:"https://warframe-web-assets.nyc3.cdn.digitaloceanspaces.com/uploads/cms/hnfvc0o3jnfvc873njb03enrf56.html",className:"text-sky-700 hover:underline",children:"Drop tables"}),", and "," ",y.jsx("a",{href:"https://github.com/WFCD/warframe-items",className:"text-sky-700 hover:underline",children:"WFCD/warframe-items"})]}),y.jsxs("div",{className:"text-gray-500 italic mt-1 text-xs",children:["Last update date: ",r]})]}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Remnant: From the Ashes:"})," ",y.jsx("a",{href:"https://remnantfromtheashes.wiki.fextralife.com/Remnant+From+The+Ashes+Wiki",className:"text-sky-700 hover:underline",children:"Remnant From The Ashes Wiki"})]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Remnant 2:"})," Data taken from ",y.jsx("a",{href:"https://remnant2.wiki.fextralife.com/Remnant+2+Wiki",className:"text-sky-700 hover:underline",children:"Remnant 2 Wiki"})," and community guides."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Nioh 2:"})," Smithing texts and arts taken from this ",y.jsx("a",{href:"https://docs.google.com/document/d/1dCPVlyB7avz7yJPzST4_JBSsCTLPaZFm97QwDzTiiu8/edit#heading=h.34si98irfbct",className:"text-sky-700 hover:underline",children:"Google doc"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Final Fantasy VII Remake:"})," Data taken from ",y.jsx("a",{href:"https://www.powerpyx.com/final-fantasy-vii-remake-wiki-strategy-guide/",className:"text-sky-700 hover:underline",children:"PowerPyx"})," and ",y.jsx("a",{href:"https://finalfantasy7remake.wiki.fextralife.com/Final+Fantasy+VII+Remake+Wiki",className:"text-sky-700 hover:underline",children:"Final Fantasy VII Remake Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Final Fantasy XIV:"})," Data taken from ",y.jsx("a",{href:"https://xivapi.com/",className:"text-sky-700 hover:underline",children:"XIVAPI"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Desperados III:"})," Guide taken from ",y.jsx("a",{href:"https://steamcommunity.com/sharedfiles/filedetails/?id=2133857369",className:"text-sky-700 hover:underline",children:"All Badges + Mission-by-Mission Achievements Guide by MMOtte"}),", ",y.jsx("a",{href:"https://psnprofiles.com/trophies/10788-desperados-iii",className:"text-sky-700 hover:underline",children:"psnprofiles"}),", and ",y.jsx("a",{href:"https://www.trueachievements.com/game/Desperados-III/achievements",className:"text-sky-700 hover:underline",children:"TrueAchievements"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Hades:"})," Data compiled from ",y.jsx("a",{href:"https://hades.fandom.com/wiki/Hades_Wiki",className:"text-sky-700 hover:underline",children:"Hades Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Risk of Rain 2:"})," Data compiled from ",y.jsx("a",{href:"https://riskofrain2.fandom.com/wiki/Risk_of_Rain_2_Wiki",className:"text-sky-700 hover:underline",children:"Risk of Rain 2 Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Moonlighter:"})," Data compiled from ",y.jsx("a",{href:"https://moonlighter.fandom.com/wiki/Moonlighter_Wiki",className:"text-sky-700 hover:underline",children:"Moonlighter Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Demon's Souls:"})," Data taken from ",y.jsx("a",{href:"https://demonssouls.wiki.fextralife.com/Demon's+Souls+Wiki",className:"text-sky-700 hover:underline",children:"Demon's Souls Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Diablo 2:"})," Data compiled from ",y.jsx("a",{href:"https://diablo2.diablowiki.net/",className:"text-sky-700 hover:underline",children:"Diablo Wiki"})," and community resources."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Elden Ring:"})," Data taken from ",y.jsx("a",{href:"https://eldenring.wiki.fextralife.com/Elden+Ring+Wiki",className:"text-sky-700 hover:underline",children:"Elden Ring Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Lords of the Fallen:"})," Checklist made with ",y.jsx("a",{href:"https://forum.psnprofiles.com/topic/151185-checklist-for-nearly-everything/",className:"text-sky-700 hover:underline",children:"psnprofiles community"}),". Data taken from the ",y.jsx("a",{href:"https://thelordsofthefallen.wiki.fextralife.com/",className:"text-sky-700 hover:underline",children:"fextralife wiki"}),". Special thanks to PSN: Adkov for contributions."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Shadow Gambit: The Cursed Crew:"})," Mostly taken from ",y.jsx("a",{href:"https://steamcommunity.com/app/1545560/guides/?browsefilter=trend&filetype=11&requiredtags[]=english",className:"text-sky-700 hover:underline",children:"Steam guides"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Sea of Thieves:"})," Data compiled from ",y.jsx("a",{href:"https://seaofthieves.fandom.com/wiki/Sea_of_Thieves_Wiki",className:"text-sky-700 hover:underline",children:"Sea of Thieves Wiki"})," and official sources."]})})]})]})},DL=()=>{};var G1={};const YN=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},ML=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const a=r[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],d=r[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=r[t++],c=r[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},QN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,d=c?r[a+1]:0,m=a+2<r.length,g=m?r[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,A=g&63;m||(A=64,c||(S=64)),i.push(t[v],t[b],t[S],t[A])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(YN(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ML(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const g=a<r.length?t[r.charAt(a)]:64;++a;const b=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||d==null||g==null||b==null)throw new jL;const S=l<<2|d>>4;if(i.push(S),g!==64){const A=d<<4&240|g>>2;if(i.push(A),b!==64){const k=g<<6&192|b;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class jL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kL=function(r){const e=YN(r);return QN.encodeByteArray(e,!0)},mf=function(r){return kL(r).replace(/\./g,"")},XN=function(r){try{return QN.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function VL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PL=()=>VL().__FIREBASE_DEFAULTS__,LL=()=>{if(typeof process>"u"||typeof G1>"u")return;const r=G1.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},UL=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&XN(r[1]);return e&&JSON.parse(e)},sd=()=>{try{return DL()||PL()||LL()||UL()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},WN=r=>sd()?.emulatorHosts?.[r],qL=r=>{const e=WN(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},JN=()=>sd()?.config,ZN=r=>sd()?.[`_${r}`];class zL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function al(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eO(r){return(await fetch(r,{credentials:"include"})).ok}function BL(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[mf(JSON.stringify(t)),mf(JSON.stringify(c)),""].join(".")}const Mu={};function FL(){const r={prod:[],emulator:[]};for(const e of Object.keys(Mu))Mu[e]?r.emulator.push(e):r.prod.push(e);return r}function HL(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let K1=!1;function tO(r,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||Mu[r]===e||Mu[r]||K1)return;Mu[r]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",l=FL().prod.length>0;function c(){const S=document.getElementById(i);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,A){S.setAttribute("width","24"),S.setAttribute("id",A),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{K1=!0,c()},S}function v(S,A){S.setAttribute("id",A),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=HL(i),A=t("text"),k=document.getElementById(A)||document.createElement("span"),P=t("learnmore"),M=document.getElementById(P)||document.createElement("a"),F=t("preprendIcon"),z=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const J=S.element;d(J),v(M,P);const le=g();m(z,F),J.append(z,k,M,le),document.body.appendChild(J)}l?(k.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function KL(){const r=sd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $L(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YL(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function QL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XL(){const r=pn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function WL(){return!KL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JL(){try{return typeof indexedDB=="object"}catch{return!1}}function ZL(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const e3="FirebaseError";class Fi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=e3,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sc.prototype.create)}}class sc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?t3(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Fi(a,d,i)}}function t3(r,e){return r.replace(n3,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const n3=/\{\$([^}]+)}/g;function r3(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Oa(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=r[a],c=e[a];if($1(l)&&$1(c)){if(!Oa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function $1(r){return r!==null&&typeof r=="object"}function ac(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function i3(r,e){const t=new s3(r,e);return t.subscribe.bind(t)}class s3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");a3(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Cv),a.error===void 0&&(a.error=Cv),a.complete===void 0&&(a.complete=Cv);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a3(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Cv(){}function Cn(r){return r&&r._delegate?r._delegate:r}class Da{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _a="[DEFAULT]";class o3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new zL;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u3(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:l3(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l3(r){return r===_a?void 0:r}function u3(r){return r.instantiationMode==="EAGER"}class c3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qe||(qe={}));const h3={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},f3=qe.INFO,d3={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},p3=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),a=d3[e];if(a)console[a](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Y0{constructor(e){this.name=e,this._logLevel=f3,this._logHandler=p3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const m3=(r,e)=>e.some(t=>r instanceof t);let Y1,Q1;function g3(){return Y1||(Y1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y3(){return Q1||(Q1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nO=new WeakMap,H_=new WeakMap,rO=new WeakMap,Iv=new WeakMap,Q0=new WeakMap;function v3(r){const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(Cs(r.result)),a()},c=()=>{i(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&nO.set(t,r)}).catch(()=>{}),Q0.set(e,r),e}function _3(r){if(H_.has(r))return;const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});H_.set(r,e)}let G_={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return H_.get(r);if(e==="objectStoreNames")return r.objectStoreNames||rO.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function b3(r){G_=r(G_)}function E3(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Nv(this),e,...t);return rO.set(i,e.sort?e.sort():[e]),Cs(i)}:y3().includes(r)?function(...e){return r.apply(Nv(this),e),Cs(nO.get(this))}:function(...e){return Cs(r.apply(Nv(this),e))}}function T3(r){return typeof r=="function"?E3(r):(r instanceof IDBTransaction&&_3(r),m3(r,g3())?new Proxy(r,G_):r)}function Cs(r){if(r instanceof IDBRequest)return v3(r);if(Iv.has(r))return Iv.get(r);const e=T3(r);return e!==r&&(Iv.set(r,e),Q0.set(e,r)),e}const Nv=r=>Q0.get(r);function S3(r,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),d=Cs(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Cs(c.result),m.oldVersion,m.newVersion,Cs(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const x3=["get","getKey","getAll","getAllKeys","count"],A3=["put","add","delete","clear"],Ov=new Map;function X1(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ov.get(e))return Ov.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=A3.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||x3.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&m.done]))[0]};return Ov.set(e,l),l}b3(r=>({...r,get:(e,t,i)=>X1(e,t)||r.get(e,t,i),has:(e,t)=>!!X1(e,t)||r.has(e,t)}));class w3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(R3(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function R3(r){return r.getComponent()?.type==="VERSION"}const K_="@firebase/app",W1="0.14.7";const Pi=new Y0("@firebase/app"),C3="@firebase/app-compat",I3="@firebase/analytics-compat",N3="@firebase/analytics",O3="@firebase/app-check-compat",D3="@firebase/app-check",M3="@firebase/auth",j3="@firebase/auth-compat",k3="@firebase/database",V3="@firebase/data-connect",P3="@firebase/database-compat",L3="@firebase/functions",U3="@firebase/functions-compat",q3="@firebase/installations",z3="@firebase/installations-compat",B3="@firebase/messaging",F3="@firebase/messaging-compat",H3="@firebase/performance",G3="@firebase/performance-compat",K3="@firebase/remote-config",$3="@firebase/remote-config-compat",Y3="@firebase/storage",Q3="@firebase/storage-compat",X3="@firebase/firestore",W3="@firebase/ai",J3="@firebase/firestore-compat",Z3="firebase",e6="12.8.0";const $_="[DEFAULT]",t6={[K_]:"fire-core",[C3]:"fire-core-compat",[N3]:"fire-analytics",[I3]:"fire-analytics-compat",[D3]:"fire-app-check",[O3]:"fire-app-check-compat",[M3]:"fire-auth",[j3]:"fire-auth-compat",[k3]:"fire-rtdb",[V3]:"fire-data-connect",[P3]:"fire-rtdb-compat",[L3]:"fire-fn",[U3]:"fire-fn-compat",[q3]:"fire-iid",[z3]:"fire-iid-compat",[B3]:"fire-fcm",[F3]:"fire-fcm-compat",[H3]:"fire-perf",[G3]:"fire-perf-compat",[K3]:"fire-rc",[$3]:"fire-rc-compat",[Y3]:"fire-gcs",[Q3]:"fire-gcs-compat",[X3]:"fire-fst",[J3]:"fire-fst-compat",[W3]:"fire-vertex","fire-js":"fire-js",[Z3]:"fire-js-all"};const gf=new Map,n6=new Map,Y_=new Map;function J1(r,e){try{r.container.addComponent(e)}catch(t){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ko(r){const e=r.name;if(Y_.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;Y_.set(e,r);for(const t of gf.values())J1(t,r);for(const t of n6.values())J1(t,r);return!0}function X0(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Er(r){return r==null?!1:r.settings!==void 0}const r6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new sc("app","Firebase",r6);class i6{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}const ol=e6;function iO(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:$_,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Is.create("bad-app-name",{appName:String(a)});if(t||(t=JN()),!t)throw Is.create("no-options");const l=gf.get(a);if(l){if(Oa(t,l.options)&&Oa(i,l.config))return l;throw Is.create("duplicate-app",{appName:a})}const c=new c3(a);for(const m of Y_.values())c.addComponent(m);const d=new i6(t,i,c);return gf.set(a,d),d}function sO(r=$_){const e=gf.get(r);if(!e&&r===$_&&JN())return iO();if(!e)throw Is.create("no-app",{appName:r});return e}function Ns(r,e,t){let i=t6[r]??r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(c.join(" "));return}Ko(new Da(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const s6="firebase-heartbeat-database",a6=1,Fu="firebase-heartbeat-store";let Dv=null;function aO(){return Dv||(Dv=S3(s6,a6,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Fu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Is.create("idb-open",{originalErrorMessage:r.message})})),Dv}async function o6(r){try{const t=(await aO()).transaction(Fu),i=await t.objectStore(Fu).get(oO(r));return await t.done,i}catch(e){if(e instanceof Fi)Pi.warn(e.message);else{const t=Is.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(t.message)}}}async function Z1(r,e){try{const i=(await aO()).transaction(Fu,"readwrite");await i.objectStore(Fu).put(e,oO(r)),await i.done}catch(t){if(t instanceof Fi)Pi.warn(t.message);else{const i=Is.create("idb-set",{originalErrorMessage:t?.message});Pi.warn(i.message)}}}function oO(r){return`${r.name}!${r.options.appId}`}const l6=1024,u6=30;class c6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new f6(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=eR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>u6){const a=d6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=eR(),{heartbeatsToSend:t,unsentEntries:i}=h6(this._heartbeatsCache.heartbeats),a=mf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Pi.warn(e),""}}}function eR(){return new Date().toISOString().substring(0,10)}function h6(r,e=l6){const t=[];let i=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),tR(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),tR(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class f6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JL()?ZL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await o6(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Z1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Z1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tR(r){return mf(JSON.stringify({version:2,heartbeats:r})).length}function d6(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}function p6(r){Ko(new Da("platform-logger",e=>new w3(e),"PRIVATE")),Ko(new Da("heartbeat",e=>new c6(e),"PRIVATE")),Ns(K_,W1,r),Ns(K_,W1,"esm2020"),Ns("fire-js","")}p6("");function lO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m6=lO,uO=new sc("auth","Firebase",lO());const yf=new Y0("@firebase/auth");function g6(r,...e){yf.logLevel<=qe.WARN&&yf.warn(`Auth (${ol}): ${r}`,...e)}function Jh(r,...e){yf.logLevel<=qe.ERROR&&yf.error(`Auth (${ol}): ${r}`,...e)}function ii(r,...e){throw J0(r,...e)}function xr(r,...e){return J0(r,...e)}function W0(r,e,t){const i={...m6(),[e]:t};return new sc("auth","Firebase",i).create(e,{appName:r.name})}function Ca(r){return W0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y6(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&ii(r,"argument-error"),W0(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function J0(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return uO.create(r,...e)}function Re(r,e,...t){if(!r)throw J0(e,...t)}function Ni(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Jh(e),new Error(e)}function Li(r,e){r||Ni(e)}function Q_(){return typeof self<"u"&&self.location?.href||""}function v6(){return nR()==="http:"||nR()==="https:"}function nR(){return typeof self<"u"&&self.location?.protocol||null}function _6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v6()||YL()||"connection"in navigator)?navigator.onLine:!0}function b6(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class oc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Li(t>e,"Short delay should be less than long delay!"),this.isMobile=GL()||QL()}get(){return _6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Z0(r,e){Li(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class cO{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const E6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const T6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],S6=new oc(3e4,6e4);function eb(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ll(r,e,t,i,a={}){return hO(r,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=ac({key:r.config.apiKey,...c}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:m,...l};return $L()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&al(r.emulatorConfig.host)&&(g.credentials="include"),cO.fetch()(await fO(r,r.config.apiHost,t,d),g)})}async function hO(r,e,t){r._canInitEmulator=!1;const i={...E6,...e};try{const a=new A6(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Fh(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(r,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Fh(r,"email-already-in-use",c);if(m==="USER_DISABLED")throw Fh(r,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw W0(r,v,g);ii(r,v)}}catch(a){if(a instanceof Fi)throw a;ii(r,"network-request-failed",{message:String(a)})}}async function x6(r,e,t,i,a={}){const l=await ll(r,e,t,i,a);return"mfaPendingCredential"in l&&ii(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function fO(r,e,t,i){const a=`${e}${t}?${i}`,l=r,c=l.config.emulator?Z0(r.config,a):`${r.config.apiScheme}://${a}`;return T6.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class A6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(xr(this.auth,"network-request-failed")),S6.get())})}}function Fh(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=xr(r,e,i);return a.customData._tokenResponse=t,a}async function w6(r,e){return ll(r,"POST","/v1/accounts:delete",e)}async function vf(r,e){return ll(r,"POST","/v1/accounts:lookup",e)}function ju(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function R6(r,e=!1){const t=Cn(r),i=await t.getIdToken(e),a=tb(i);Re(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:ju(Mv(a.auth_time)),issuedAtTime:ju(Mv(a.iat)),expirationTime:ju(Mv(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Mv(r){return Number(r)*1e3}function tb(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const a=XN(t);return a?JSON.parse(a):(Jh("Failed to decode base64 JWT payload"),null)}catch(a){return Jh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function rR(r){const e=tb(r);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Hu(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Fi&&C6(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function C6({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class I6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class X_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _f(r){const e=r.auth,t=await r.getIdToken(),i=await Hu(r,vf(e,{idToken:t}));Re(i?.users.length,e,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=a.providerUserInfo?.length?dO(a.providerUserInfo):[],c=O6(r.providerData,l),d=r.isAnonymous,m=!(r.email&&a.passwordHash)&&!c?.length,g=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new X_(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function N6(r){const e=Cn(r);await _f(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O6(r,e){return[...r.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function dO(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function D6(r,e){const t=await hO(r,{},async()=>{const i=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,c=await fO(r,a,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return r.emulatorConfig&&al(r.emulatorConfig.host)&&(m.credentials="include"),cO.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function M6(r,e){return ll(r,"POST","/v2/accounts:revokeToken",eb(r,e))}class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=rR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await D6(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Lo;return i&&(Re(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return Ni("not implemented")}}function Ts(r,e){Re(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Tr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new I6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new X_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Hu(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return R6(this,e)}reload(){return N6(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await _f(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(Ca(this.auth));const e=await this.getIdToken();return await Hu(this,w6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:A,providerData:k,stsTokenManager:P}=t;Re(b&&P,e,"internal-error");const M=Lo.fromJSON(this.name,P);Re(typeof b=="string",e,"internal-error"),Ts(i,e.name),Ts(a,e.name),Re(typeof S=="boolean",e,"internal-error"),Re(typeof A=="boolean",e,"internal-error"),Ts(l,e.name),Ts(c,e.name),Ts(d,e.name),Ts(m,e.name),Ts(g,e.name),Ts(v,e.name);const F=new Tr({uid:b,auth:e,email:a,emailVerified:S,displayName:i,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:M,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(F.providerData=k.map(z=>({...z}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(e,t,i=!1){const a=new Lo;a.updateFromServerResponse(t);const l=new Tr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await _f(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?dO(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Lo;d.updateFromIdToken(i);const m=new Tr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new X_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const iR=new Map;function Oi(r){Li(r instanceof Function,"Expected a class definition");let e=iR.get(r);return e?(Li(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,iR.set(r,e),e)}class pO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pO.type="NONE";const sR=pO;function Zh(r,e,t){return`firebase:${r}:${e}:${t}`}class Uo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Zh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Zh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await vf(this.auth,{idToken:e}).catch(()=>{});return t?Tr._fromGetAccountInfoResponse(this.auth,t,e):null}return Tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Uo(Oi(sR),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Oi(sR);const c=Zh(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const S=await vf(e,{idToken:v}).catch(()=>{});if(!S)break;b=await Tr._fromGetAccountInfoResponse(e,S,v)}else b=Tr._fromJSON(e,v);g!==l&&(d=b),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Uo(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Uo(l,e,i))}}function aR(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bO(e))return"Blackberry";if(EO(e))return"Webos";if(gO(e))return"Safari";if((e.includes("chrome/")||yO(e))&&!e.includes("edge/"))return"Chrome";if(_O(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function mO(r=pn()){return/firefox\//i.test(r)}function gO(r=pn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yO(r=pn()){return/crios\//i.test(r)}function vO(r=pn()){return/iemobile/i.test(r)}function _O(r=pn()){return/android/i.test(r)}function bO(r=pn()){return/blackberry/i.test(r)}function EO(r=pn()){return/webos/i.test(r)}function nb(r=pn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function j6(r=pn()){return nb(r)&&!!window.navigator?.standalone}function k6(){return XL()&&document.documentMode===10}function TO(r=pn()){return nb(r)||_O(r)||EO(r)||bO(r)||/windows phone/i.test(r)||vO(r)}function SO(r,e=[]){let t;switch(r){case"Browser":t=aR(pn());break;case"Worker":t=`${aR(pn())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ol}/${i}`}class V6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function P6(r,e={}){return ll(r,"GET","/v2/passwordPolicy",eb(r,e))}const L6=6;class U6{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??L6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class q6{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oR(this),this.idTokenSubscription=new oR(this),this.beforeStateQueue=new V6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await vf(this,{idToken:e}),i=await Tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Er(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _f(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=b6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(Ca(this));const t=e?Cn(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await P6(this),t=new U6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await M6(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Oi(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[Oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&g6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ad(r){return Cn(r)}class oR{constructor(e){this.auth=e,this.observer=null,this.addObserver=i3(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z6(r){rb=r}function B6(r){return rb.loadJS(r)}function F6(){return rb.gapiScript}function H6(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function G6(r,e){const t=X0(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Oa(l,e??{}))return a;ii(a,"already-initialized")}return t.initialize({options:e})}function K6(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Oi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function $6(r,e,t){const i=ad(r);Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=xO(e),{host:c,port:d}=Y6(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Re(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Re(Oa(g,i.config.emulator)&&Oa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,al(c)?(eO(`${l}//${c}${m}`),tO("Auth",!0)):Q6()}function xO(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Y6(r){const e=xO(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:lR(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:lR(c)}}}function lR(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Q6(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class AO{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function qo(r,e){return x6(r,"POST","/v1/accounts:signInWithIdp",eb(r,e))}const X6="http://localhost";class Ma extends AO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ii("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new Ma(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return qo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,qo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qo(e,t)}buildRequest(){const e={requestUri:X6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ac(t)}return e}}class ib{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lc extends ib{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ss extends lc{constructor(){super("facebook.com")}static credential(e){return Ma._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";class Ci extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ma._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ci.credential(t,i)}catch{return null}}}Ci.GOOGLE_SIGN_IN_METHOD="google.com";Ci.PROVIDER_ID="google.com";class xs extends lc{constructor(){super("github.com")}static credential(e){return Ma._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";class As extends lc{constructor(){super("twitter.com")}static credential(e,t){return Ma._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return As.credential(t,i)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";class $o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Tr._fromIdTokenResponse(e,i,a),c=uR(i);return new $o({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=uR(i);return new $o({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function uR(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class bf extends Fi{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,bf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new bf(e,t,i,a)}}function wO(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?bf._fromErrorAndOperation(r,l,e,i):l})}async function W6(r,e,t=!1){const i=await Hu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return $o._forOperation(r,"link",i)}async function J6(r,e,t=!1){const{auth:i}=r;if(Er(i.app))return Promise.reject(Ca(i));const a="reauthenticate";try{const l=await Hu(r,wO(i,a,e,r),t);Re(l.idToken,i,"internal-error");const c=tb(l.idToken);Re(c,i,"internal-error");const{sub:d}=c;return Re(r.uid===d,i,"user-mismatch"),$o._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ii(i,"user-mismatch"),l}}async function Z6(r,e,t=!1){if(Er(r.app))return Promise.reject(Ca(r));const i="signIn",a=await wO(r,i,e),l=await $o._fromIdTokenResponse(r,i,a);return t||await r._updateCurrentUser(l.user),l}function eU(r,e,t,i){return Cn(r).onIdTokenChanged(e,t,i)}function tU(r,e,t){return Cn(r).beforeAuthStateChanged(e,t)}function sb(r,e,t,i){return Cn(r).onAuthStateChanged(e,t,i)}function nU(r){return Cn(r).signOut()}const Ef="__sak";class RO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ef,"1"),this.storage.removeItem(Ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const rU=1e3,iU=10;class CO extends RO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);k6()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,iU):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},rU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}CO.type="LOCAL";const sU=CO;class IO extends RO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}IO.type="SESSION";const NO=IO;function aU(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class od{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new od(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await aU(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}od.receivers=[];function ab(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}class oU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=ab("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ei(){return window}function lU(r){ei().location.href=r}function OO(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function uU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cU(){return navigator?.serviceWorker?.controller||null}function hU(){return OO()?self:null}const DO="firebaseLocalStorageDb",fU=1,Tf="firebaseLocalStorage",MO="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ld(r,e){return r.transaction([Tf],e?"readwrite":"readonly").objectStore(Tf)}function dU(){const r=indexedDB.deleteDatabase(DO);return new uc(r).toPromise()}function W_(){const r=indexedDB.open(DO,fU);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Tf,{keyPath:MO})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Tf)?e(i):(i.close(),await dU(),e(await W_()))})})}async function cR(r,e,t){const i=ld(r,!0).put({[MO]:e,value:t});return new uc(i).toPromise()}async function pU(r,e){const t=ld(r,!1).get(e),i=await new uc(t).toPromise();return i===void 0?null:i.value}function hR(r,e){const t=ld(r,!0).delete(e);return new uc(t).toPromise()}const mU=800,gU=3;class jO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await W_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>gU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=od._getInstance(hU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uU(),!this.activeServiceWorker)return;this.sender=new oU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await W_();return await cR(e,Ef,"1"),await hR(e,Ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>cR(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>pU(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>hR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=ld(a,!1).getAll();return new uc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jO.type="LOCAL";const yU=jO;new oc(3e4,6e4);function kO(r,e){return e?Oi(e):(Re(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ob extends AO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vU(r){return Z6(r.auth,new ob(r),r.bypassAuthState)}function _U(r){const{auth:e,user:t}=r;return Re(t,e,"internal-error"),J6(t,new ob(r),r.bypassAuthState)}async function bU(r){const{auth:e,user:t}=r;return Re(t,e,"internal-error"),W6(t,new ob(r),r.bypassAuthState)}class VO{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vU;case"linkViaPopup":case"linkViaRedirect":return bU;case"reauthViaPopup":case"reauthViaRedirect":return _U;default:ii(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const EU=new oc(2e3,1e4);async function PO(r,e,t){if(Er(r.app))return Promise.reject(xr(r,"operation-not-supported-in-this-environment"));const i=ad(r);y6(r,e,ib);const a=kO(i,t);return new Ea(i,"signInViaPopup",e,a).executeNotNull()}class Ea extends VO{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=ab();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EU.get())};e()}}Ea.currentPopupAction=null;const TU="pendingRedirect",ef=new Map;class SU extends VO{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ef.get(this.auth._key());if(!e){try{const i=await xU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ef.set(this.auth._key(),e)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xU(r,e){const t=RU(e),i=wU(r);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function AU(r,e){ef.set(r._key(),e)}function wU(r){return Oi(r._redirectPersistence)}function RU(r){return Zh(TU,r.config.apiKey,r.name)}async function CU(r,e,t=!1){if(Er(r.app))return Promise.reject(Ca(r));const i=ad(r),a=kO(i,e),c=await new SU(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const IU=600*1e3;class NU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!LO(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(xr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IU&&this.cachedEventUids.clear(),this.cachedEventUids.has(fR(e))}saveEventToCache(e){this.cachedEventUids.add(fR(e)),this.lastProcessedEventTime=Date.now()}}function fR(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function LO({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function OU(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LO(r);default:return!1}}async function DU(r,e={}){return ll(r,"GET","/v1/projects",e)}const MU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jU=/^https?/;async function kU(r){if(r.config.emulator)return;const{authorizedDomains:e}=await DU(r);for(const t of e)try{if(VU(t))return}catch{}ii(r,"unauthorized-domain")}function VU(r){const e=Q_(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!jU.test(t))return!1;if(MU.test(r))return i===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const PU=new oc(3e4,6e4);function dR(){const r=ei().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function LU(r){return new Promise((e,t)=>{function i(){dR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dR(),t(xr(r,"network-request-failed"))},timeout:PU.get()})}if(ei().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ei().gapi?.load)i();else{const a=H6("iframefcb");return ei()[a]=()=>{gapi.load?i():t(xr(r,"network-request-failed"))},B6(`${F6()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw tf=null,e})}let tf=null;function UU(r){return tf=tf||LU(r),tf}const qU=new oc(5e3,15e3),zU="__/auth/iframe",BU="emulator/auth/iframe",FU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GU(r){const e=r.config;Re(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Z0(e,BU):`https://${r.config.authDomain}/${zU}`,i={apiKey:e.apiKey,appName:r.name,v:ol},a=HU.get(r.config.apiHost);a&&(i.eid=a);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${ac(i).slice(1)}`}async function KU(r){const e=await UU(r),t=ei().gapi;return Re(t,r,"internal-error"),e.open({where:document.body,url:GU(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FU,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=xr(r,"network-request-failed"),d=ei().setTimeout(()=>{l(c)},qU.get());function m(){ei().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const $U={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YU=500,QU=600,XU="_blank",WU="http://localhost";class pR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JU(r,e,t,i=YU,a=QU){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...$U,width:i.toString(),height:a.toString(),top:l,left:c},g=pn().toLowerCase();t&&(d=yO(g)?XU:t),mO(g)&&(e=e||WU,m.scrollbars="yes");const v=Object.entries(m).reduce((S,[A,k])=>`${S}${A}=${k},`,"");if(j6(g)&&d!=="_self")return ZU(e||"",d),new pR(null);const b=window.open(e||"",d,v);Re(b,r,"popup-blocked");try{b.focus()}catch{}return new pR(b)}function ZU(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const eq="__/auth/handler",tq="emulator/auth/handler",nq=encodeURIComponent("fac");async function mR(r,e,t,i,a,l){Re(r.config.authDomain,r,"auth-domain-config-required"),Re(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:ol,eventId:a};if(e instanceof ib){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",r3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof lc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await r._getAppCheckToken(),g=m?`#${nq}=${encodeURIComponent(m)}`:"";return`${rq(r)}?${ac(d).slice(1)}${g}`}function rq({config:r}){return r.emulator?Z0(r,tq):`https://${r.authDomain}/${eq}`}const jv="webStorageSupport";class iq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NO,this._completeRedirectFn=CU,this._overrideRedirectResult=AU}async _openPopup(e,t,i,a){Li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await mR(e,t,i,Q_(),a);return JU(e,l,ab())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await mR(e,t,i,Q_(),a);return lU(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Li(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await KU(e),i=new NU(e);return t.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jv,{type:jv},a=>{const l=a?.[0]?.[jv];l!==void 0&&t(!!l),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=kU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return TO()||gO()||nb()}}const sq=iq;var gR="@firebase/auth",yR="1.12.0";class aq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oq(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lq(r){Ko(new Da("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SO(r)},g=new q6(i,a,l,m);return K6(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ko(new Da("auth-internal",e=>{const t=ad(e.getProvider("auth").getImmediate());return(i=>new aq(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(gR,yR,oq(r)),Ns(gR,yR,"esm2020")}const uq=300,cq=ZN("authIdTokenMaxAge")||uq;let vR=null;const hq=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>cq)return;const a=t?.token;vR!==a&&(vR=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function fq(r=sO()){const e=X0(r,"auth");if(e.isInitialized())return e.getImmediate();const t=G6(r,{popupRedirectResolver:sq,persistence:[yU,sU,NO]}),i=ZN("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=hq(l.toString());tU(t,c,()=>c(t.currentUser)),eU(t,d=>c(d))}}const a=WN("auth");return a&&$6(t,`http://${a}`),t}function dq(){return document.getElementsByTagName("head")?.[0]??document}z6({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=a=>{const l=xr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",dq().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lq("Browser");var pq="firebase",mq="12.8.0";Ns(pq,mq,"app");var _R=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Os,UO;(function(){var r;function e(C,R){function N(){}N.prototype=R.prototype,C.F=R.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(j,O,L){for(var I=Array(arguments.length-2),we=2;we<arguments.length;we++)I[we-2]=arguments[we];return R.prototype[O].apply(j,I)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,R,N){N||(N=0);const j=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)j[O]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(O=0;O<16;++O)j[O]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=C.g[0],N=C.g[1],O=C.g[2];let L=C.g[3],I;I=R+(L^N&(O^L))+j[0]+3614090360&4294967295,R=N+(I<<7&4294967295|I>>>25),I=L+(O^R&(N^O))+j[1]+3905402710&4294967295,L=R+(I<<12&4294967295|I>>>20),I=O+(N^L&(R^N))+j[2]+606105819&4294967295,O=L+(I<<17&4294967295|I>>>15),I=N+(R^O&(L^R))+j[3]+3250441966&4294967295,N=O+(I<<22&4294967295|I>>>10),I=R+(L^N&(O^L))+j[4]+4118548399&4294967295,R=N+(I<<7&4294967295|I>>>25),I=L+(O^R&(N^O))+j[5]+1200080426&4294967295,L=R+(I<<12&4294967295|I>>>20),I=O+(N^L&(R^N))+j[6]+2821735955&4294967295,O=L+(I<<17&4294967295|I>>>15),I=N+(R^O&(L^R))+j[7]+4249261313&4294967295,N=O+(I<<22&4294967295|I>>>10),I=R+(L^N&(O^L))+j[8]+1770035416&4294967295,R=N+(I<<7&4294967295|I>>>25),I=L+(O^R&(N^O))+j[9]+2336552879&4294967295,L=R+(I<<12&4294967295|I>>>20),I=O+(N^L&(R^N))+j[10]+4294925233&4294967295,O=L+(I<<17&4294967295|I>>>15),I=N+(R^O&(L^R))+j[11]+2304563134&4294967295,N=O+(I<<22&4294967295|I>>>10),I=R+(L^N&(O^L))+j[12]+1804603682&4294967295,R=N+(I<<7&4294967295|I>>>25),I=L+(O^R&(N^O))+j[13]+4254626195&4294967295,L=R+(I<<12&4294967295|I>>>20),I=O+(N^L&(R^N))+j[14]+2792965006&4294967295,O=L+(I<<17&4294967295|I>>>15),I=N+(R^O&(L^R))+j[15]+1236535329&4294967295,N=O+(I<<22&4294967295|I>>>10),I=R+(O^L&(N^O))+j[1]+4129170786&4294967295,R=N+(I<<5&4294967295|I>>>27),I=L+(N^O&(R^N))+j[6]+3225465664&4294967295,L=R+(I<<9&4294967295|I>>>23),I=O+(R^N&(L^R))+j[11]+643717713&4294967295,O=L+(I<<14&4294967295|I>>>18),I=N+(L^R&(O^L))+j[0]+3921069994&4294967295,N=O+(I<<20&4294967295|I>>>12),I=R+(O^L&(N^O))+j[5]+3593408605&4294967295,R=N+(I<<5&4294967295|I>>>27),I=L+(N^O&(R^N))+j[10]+38016083&4294967295,L=R+(I<<9&4294967295|I>>>23),I=O+(R^N&(L^R))+j[15]+3634488961&4294967295,O=L+(I<<14&4294967295|I>>>18),I=N+(L^R&(O^L))+j[4]+3889429448&4294967295,N=O+(I<<20&4294967295|I>>>12),I=R+(O^L&(N^O))+j[9]+568446438&4294967295,R=N+(I<<5&4294967295|I>>>27),I=L+(N^O&(R^N))+j[14]+3275163606&4294967295,L=R+(I<<9&4294967295|I>>>23),I=O+(R^N&(L^R))+j[3]+4107603335&4294967295,O=L+(I<<14&4294967295|I>>>18),I=N+(L^R&(O^L))+j[8]+1163531501&4294967295,N=O+(I<<20&4294967295|I>>>12),I=R+(O^L&(N^O))+j[13]+2850285829&4294967295,R=N+(I<<5&4294967295|I>>>27),I=L+(N^O&(R^N))+j[2]+4243563512&4294967295,L=R+(I<<9&4294967295|I>>>23),I=O+(R^N&(L^R))+j[7]+1735328473&4294967295,O=L+(I<<14&4294967295|I>>>18),I=N+(L^R&(O^L))+j[12]+2368359562&4294967295,N=O+(I<<20&4294967295|I>>>12),I=R+(N^O^L)+j[5]+4294588738&4294967295,R=N+(I<<4&4294967295|I>>>28),I=L+(R^N^O)+j[8]+2272392833&4294967295,L=R+(I<<11&4294967295|I>>>21),I=O+(L^R^N)+j[11]+1839030562&4294967295,O=L+(I<<16&4294967295|I>>>16),I=N+(O^L^R)+j[14]+4259657740&4294967295,N=O+(I<<23&4294967295|I>>>9),I=R+(N^O^L)+j[1]+2763975236&4294967295,R=N+(I<<4&4294967295|I>>>28),I=L+(R^N^O)+j[4]+1272893353&4294967295,L=R+(I<<11&4294967295|I>>>21),I=O+(L^R^N)+j[7]+4139469664&4294967295,O=L+(I<<16&4294967295|I>>>16),I=N+(O^L^R)+j[10]+3200236656&4294967295,N=O+(I<<23&4294967295|I>>>9),I=R+(N^O^L)+j[13]+681279174&4294967295,R=N+(I<<4&4294967295|I>>>28),I=L+(R^N^O)+j[0]+3936430074&4294967295,L=R+(I<<11&4294967295|I>>>21),I=O+(L^R^N)+j[3]+3572445317&4294967295,O=L+(I<<16&4294967295|I>>>16),I=N+(O^L^R)+j[6]+76029189&4294967295,N=O+(I<<23&4294967295|I>>>9),I=R+(N^O^L)+j[9]+3654602809&4294967295,R=N+(I<<4&4294967295|I>>>28),I=L+(R^N^O)+j[12]+3873151461&4294967295,L=R+(I<<11&4294967295|I>>>21),I=O+(L^R^N)+j[15]+530742520&4294967295,O=L+(I<<16&4294967295|I>>>16),I=N+(O^L^R)+j[2]+3299628645&4294967295,N=O+(I<<23&4294967295|I>>>9),I=R+(O^(N|~L))+j[0]+4096336452&4294967295,R=N+(I<<6&4294967295|I>>>26),I=L+(N^(R|~O))+j[7]+1126891415&4294967295,L=R+(I<<10&4294967295|I>>>22),I=O+(R^(L|~N))+j[14]+2878612391&4294967295,O=L+(I<<15&4294967295|I>>>17),I=N+(L^(O|~R))+j[5]+4237533241&4294967295,N=O+(I<<21&4294967295|I>>>11),I=R+(O^(N|~L))+j[12]+1700485571&4294967295,R=N+(I<<6&4294967295|I>>>26),I=L+(N^(R|~O))+j[3]+2399980690&4294967295,L=R+(I<<10&4294967295|I>>>22),I=O+(R^(L|~N))+j[10]+4293915773&4294967295,O=L+(I<<15&4294967295|I>>>17),I=N+(L^(O|~R))+j[1]+2240044497&4294967295,N=O+(I<<21&4294967295|I>>>11),I=R+(O^(N|~L))+j[8]+1873313359&4294967295,R=N+(I<<6&4294967295|I>>>26),I=L+(N^(R|~O))+j[15]+4264355552&4294967295,L=R+(I<<10&4294967295|I>>>22),I=O+(R^(L|~N))+j[6]+2734768916&4294967295,O=L+(I<<15&4294967295|I>>>17),I=N+(L^(O|~R))+j[13]+1309151649&4294967295,N=O+(I<<21&4294967295|I>>>11),I=R+(O^(N|~L))+j[4]+4149444226&4294967295,R=N+(I<<6&4294967295|I>>>26),I=L+(N^(R|~O))+j[11]+3174756917&4294967295,L=R+(I<<10&4294967295|I>>>22),I=O+(R^(L|~N))+j[2]+718787259&4294967295,O=L+(I<<15&4294967295|I>>>17),I=N+(L^(O|~R))+j[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+L&4294967295}i.prototype.v=function(C,R){R===void 0&&(R=C.length);const N=R-this.blockSize,j=this.C;let O=this.h,L=0;for(;L<R;){if(O==0)for(;L<=N;)a(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<R;)if(j[O++]=C.charCodeAt(L++),O==this.blockSize){a(this,j),O=0;break}}else for(;L<R;)if(j[O++]=C[L++],O==this.blockSize){a(this,j),O=0;break}}this.h=O,this.o+=R},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,N=0;N<4;++N)for(let j=0;j<32;j+=8)C[R++]=this.g[N]>>>j&255;return C};function l(C,R){var N=d;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=R(C)}function c(C,R){this.h=R;const N=[];let j=!0;for(let O=C.length-1;O>=0;O--){const L=C[O]|0;j&&L==R||(N[O]=L,j=!1)}this.g=N}var d={};function m(C){return-128<=C&&C<128?l(C,function(R){return new c([R|0],R<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return M(g(-C));const R=[];let N=1;for(let j=0;C>=N;j++)R[j]=C/N|0,N*=4294967296;return new c(R,0)}function v(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return M(v(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(R,8));let j=b;for(let L=0;L<C.length;L+=8){var O=Math.min(8,C.length-L);const I=parseInt(C.substring(L,L+O),R);O<8?(O=g(Math.pow(R,O)),j=j.j(O).add(g(I))):(j=j.j(N),j=j.add(g(I)))}return j}var b=m(0),S=m(1),A=m(16777216);r=c.prototype,r.m=function(){if(P(this))return-M(this).m();let C=0,R=1;for(let N=0;N<this.g.length;N++){const j=this.i(N);C+=(j>=0?j:4294967296+j)*R,R*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(k(this))return"0";if(P(this))return"-"+M(this).toString(C);const R=g(Math.pow(C,6));var N=this;let j="";for(;;){const O=le(N,R).g;N=F(N,O.j(R));let L=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=O,k(N))return L+j;for(;L.length<6;)L="0"+L;j=L+j}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function k(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function P(C){return C.h==-1}r.l=function(C){return C=F(this,C),P(C)?-1:k(C)?0:1};function M(C){const R=C.g.length,N=[];for(let j=0;j<R;j++)N[j]=~C.g[j];return new c(N,~C.h).add(S)}r.abs=function(){return P(this)?M(this):this},r.add=function(C){const R=Math.max(this.g.length,C.g.length),N=[];let j=0;for(let O=0;O<=R;O++){let L=j+(this.i(O)&65535)+(C.i(O)&65535),I=(L>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);j=I>>>16,L&=65535,I&=65535,N[O]=I<<16|L}return new c(N,N[N.length-1]&-2147483648?-1:0)};function F(C,R){return C.add(M(R))}r.j=function(C){if(k(this)||k(C))return b;if(P(this))return P(C)?M(this).j(M(C)):M(M(this).j(C));if(P(C))return M(this.j(M(C)));if(this.l(A)<0&&C.l(A)<0)return g(this.m()*C.m());const R=this.g.length+C.g.length,N=[];for(var j=0;j<2*R;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(let O=0;O<C.g.length;O++){const L=this.i(j)>>>16,I=this.i(j)&65535,we=C.i(O)>>>16,Ie=C.i(O)&65535;N[2*j+2*O]+=I*Ie,z(N,2*j+2*O),N[2*j+2*O+1]+=L*Ie,z(N,2*j+2*O+1),N[2*j+2*O+1]+=I*we,z(N,2*j+2*O+1),N[2*j+2*O+2]+=L*we,z(N,2*j+2*O+2)}for(C=0;C<R;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=R;C<2*R;C++)N[C]=0;return new c(N,0)};function z(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function J(C,R){this.g=C,this.h=R}function le(C,R){if(k(R))throw Error("division by zero");if(k(C))return new J(b,b);if(P(C))return R=le(M(C),R),new J(M(R.g),M(R.h));if(P(R))return R=le(C,M(R)),new J(M(R.g),R.h);if(C.g.length>30){if(P(C)||P(R))throw Error("slowDivide_ only works with positive integers.");for(var N=S,j=R;j.l(C)<=0;)N=de(N),j=de(j);var O=ue(N,1),L=ue(j,1);for(j=ue(j,2),N=ue(N,2);!k(j);){var I=L.add(j);I.l(C)<=0&&(O=O.add(N),L=I),j=ue(j,1),N=ue(N,1)}return R=F(C,O.j(R)),new J(O,R)}for(O=b;C.l(R)>=0;){for(N=Math.max(1,Math.floor(C.m()/R.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),L=g(N),I=L.j(R);P(I)||I.l(C)>0;)N-=j,L=g(N),I=L.j(R);k(L)&&(L=S),O=O.add(L),C=F(C,I)}return new J(O,C)}r.B=function(C){return le(this,C).h},r.and=function(C){const R=Math.max(this.g.length,C.g.length),N=[];for(let j=0;j<R;j++)N[j]=this.i(j)&C.i(j);return new c(N,this.h&C.h)},r.or=function(C){const R=Math.max(this.g.length,C.g.length),N=[];for(let j=0;j<R;j++)N[j]=this.i(j)|C.i(j);return new c(N,this.h|C.h)},r.xor=function(C){const R=Math.max(this.g.length,C.g.length),N=[];for(let j=0;j<R;j++)N[j]=this.i(j)^C.i(j);return new c(N,this.h^C.h)};function de(C){const R=C.g.length+1,N=[];for(let j=0;j<R;j++)N[j]=C.i(j)<<1|C.i(j-1)>>>31;return new c(N,C.h)}function ue(C,R){const N=R>>5;R%=32;const j=C.g.length-N,O=[];for(let L=0;L<j;L++)O[L]=R>0?C.i(L+N)>>>R|C.i(L+N+1)<<32-R:C.i(L+N);return new c(O,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,UO=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Os=c}).apply(typeof _R<"u"?_R:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qO,wu,zO,nf,J_,BO,FO,HO;(function(){var r,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function a(h,_){if(_)e:{var T=i;h=h.split(".");for(var w=0;w<h.length-1;w++){var G=h[w];if(!(G in T))break e;T=T[G]}h=h[h.length-1],w=T[h],_=_(w),_!=w&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var T=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&T.push([w,_[w]]);return T}});var l=l||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,T){return h.call.apply(h.bind,arguments)}function g(h,_,T){return g=m,g.apply(null,arguments)}function v(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var w=T.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function b(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(w,G,Q){for(var pe=Array(arguments.length-2),De=2;De<arguments.length;De++)pe[De-2]=arguments[De];return _.prototype[G].apply(w,pe)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const _=h.length;if(_>0){const T=Array(_);for(let w=0;w<_;w++)T[w]=h[w];return T}return[]}function k(h,_){for(let w=1;w<arguments.length;w++){const G=arguments[w];var T=typeof G;if(T=T!="object"?T:G?Array.isArray(G)?"array":T:"null",T=="array"||T=="object"&&typeof G.length=="number"){T=h.length||0;const Q=G.length||0;h.length=T+Q;for(let pe=0;pe<Q;pe++)h[T+pe]=G[pe]}else h.push(G)}}class P{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(h){c.setTimeout(()=>{throw h},0)}function F(){var h=C;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class z{constructor(){this.h=this.g=null}add(_,T){const w=J.get();w.set(_,T),this.h?this.h.next=w:this.g=w,this.h=w}}var J=new P(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ue=!1,C=new z,R=()=>{const h=Promise.resolve(void 0);de=()=>{h.then(N)}};function N(){for(var h;h=F();){try{h.h.call(h.g)}catch(T){M(T)}var _=J;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ue=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function we(h,_){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(we,O),we.prototype.init=function(h,_){const T=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),Z=0;function he(h,_,T,w,G){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!w,this.ha=G,this.key=++Z,this.da=this.fa=!1}function ee(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ae(h,_,T){for(const w in h)_.call(T,h[w],w,h)}function Se(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function D(h){const _={};for(const T in h)_[T]=h[T];return _}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(h,_){let T,w;for(let G=1;G<arguments.length;G++){w=arguments[G];for(T in w)h[T]=w[T];for(let Q=0;Q<X.length;Q++)T=X[Q],Object.prototype.hasOwnProperty.call(w,T)&&(h[T]=w[T])}}function ce(h){this.src=h,this.g={},this.h=0}ce.prototype.add=function(h,_,T,w,G){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const pe=ve(h,_,w,G);return pe>-1?(_=h[pe],T||(_.fa=!1)):(_=new he(_,this.src,Q,!!w,G),_.fa=T,h.push(_)),_};function fe(h,_){const T=_.type;if(T in h.g){var w=h.g[T],G=Array.prototype.indexOf.call(w,_,void 0),Q;(Q=G>=0)&&Array.prototype.splice.call(w,G,1),Q&&(ee(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function ve(h,_,T,w){for(let G=0;G<h.length;++G){const Q=h[G];if(!Q.da&&Q.listener==_&&Q.capture==!!T&&Q.ha==w)return G}return-1}var be="closure_lm_"+(Math.random()*1e6|0),et={};function Qe(h,_,T,w,G){if(Array.isArray(_)){for(let Q=0;Q<_.length;Q++)Qe(h,_[Q],T,w,G);return null}return T=Gn(T),h&&h[Ie]?h.J(_,T,d(w)?!!w.capture:!1,G):In(h,_,T,!1,w,G)}function In(h,_,T,w,G,Q){if(!_)throw Error("Invalid event type");const pe=d(G)?!!G.capture:!!G;let De=Hn(h);if(De||(h[be]=De=new ce(h)),T=De.add(_,T,w,pe,Q),T.proxy)return T;if(w=oi(),T.proxy=w,w.src=h,w.listener=T,h.addEventListener)L||(G=pe),G===void 0&&(G=!1),h.addEventListener(_.toString(),w,G);else if(h.attachEvent)h.attachEvent(Fn(_.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return T}function oi(){function h(T){return _.call(h.src,h.listener,T)}const _=Ke;return h}function Et(h,_,T,w,G){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)Et(h,_[Q],T,w,G);else w=d(w)?!!w.capture:!!w,T=Gn(T),h&&h[Ie]?(h=h.i,Q=String(_).toString(),Q in h.g&&(_=h.g[Q],T=ve(_,T,w,G),T>-1&&(ee(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Hn(h))&&(_=h.g[_.toString()],h=-1,_&&(h=ve(_,T,w,G)),(T=h>-1?_[h]:null)&&vn(T))}function vn(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Ie])fe(_.i,h);else{var T=h.type,w=h.proxy;_.removeEventListener?_.removeEventListener(T,w,h.capture):_.detachEvent?_.detachEvent(Fn(T),w):_.addListener&&_.removeListener&&_.removeListener(w),(T=Hn(_))?(fe(T,h),T.h==0&&(T.src=null,_[be]=null)):ee(h)}}}function Fn(h){return h in et?et[h]:et[h]="on"+h}function Ke(h,_){if(h.da)h=!0;else{_=new we(_,this);const T=h.listener,w=h.ha||h.src;h.fa&&vn(h),h=T.call(w,_)}return h}function Hn(h){return h=h[be],h instanceof ce?h:null}var Fe="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gn(h){return typeof h=="function"?h:(h[Fe]||(h[Fe]=function(_){return h.handleEvent(_)}),h[Fe])}function lt(){j.call(this),this.i=new ce(this),this.M=this,this.G=null}b(lt,j),lt.prototype[Ie]=!0,lt.prototype.removeEventListener=function(h,_,T,w){Et(this,h,_,T,w)};function Tt(h,_){var T,w=h.G;if(w)for(T=[];w;w=w.G)T.push(w);if(h=h.M,w=_.type||_,typeof _=="string")_=new O(_,h);else if(_ instanceof O)_.target=_.target||h;else{var G=_;_=new O(w,h),re(_,G)}G=!0;let Q,pe;if(T)for(pe=T.length-1;pe>=0;pe--)Q=_.g=T[pe],G=Nn(Q,w,!0,_)&&G;if(Q=_.g=h,G=Nn(Q,w,!0,_)&&G,G=Nn(Q,w,!1,_)&&G,T)for(pe=0;pe<T.length;pe++)Q=_.g=T[pe],G=Nn(Q,w,!1,_)&&G}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let w=0;w<T.length;w++)ee(T[w]);delete h.g[_],h.h--}}this.G=null},lt.prototype.J=function(h,_,T,w){return this.i.add(String(h),_,!1,T,w)},lt.prototype.K=function(h,_,T,w){return this.i.add(String(h),_,!0,T,w)};function Nn(h,_,T,w){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let Q=0;Q<_.length;++Q){const pe=_[Q];if(pe&&!pe.da&&pe.capture==T){const De=pe.listener,xt=pe.ha||pe.src;pe.fa&&fe(h.i,pe),G=De.call(xt,w)!==!1&&G}}return G&&!w.defaultPrevented}function Kn(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function Ft(h){h.g=Kn(()=>{h.g=null,h.i&&(h.i=!1,Ft(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Ct extends j{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ft(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $n(h){j.call(this),this.h=h,this.g={}}b($n,j);var qs=[];function Hi(h){ae(h.g,function(_,T){this.g.hasOwnProperty(T)&&vn(_)},h),h.g={}}$n.prototype.N=function(){$n.Z.N.call(this),Hi(this)},$n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=c.JSON.stringify,Ha=c.JSON.parse,zs=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ga(){}function Bs(){}var It={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ht(){O.call(this,"d")}b(ht,O);function Yn(){O.call(this,"c")}b(Yn,O);var St={},gc=null;function Ka(){return gc=gc||new lt}St.Ia="serverreachability";function yc(h){O.call(this,St.Ia,h)}b(yc,O);function Or(h){const _=Ka();Tt(_,new yc(_))}St.STAT_EVENT="statevent";function Fs(h,_){O.call(this,St.STAT_EVENT,h),this.stat=_}b(Fs,O);function Nt(h){const _=Ka();Tt(_,new Fs(_,h))}St.Ja="timingevent";function Dr(h,_){O.call(this,St.Ja,h),this.size=_}b(Dr,O);function Mr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function cr(){this.g=!0}cr.prototype.ua=function(){this.g=!1};function xd(h,_,T,w,G,Q){h.info(function(){if(h.g)if(Q){var pe="",De=Q.split("&");for(let Xe=0;Xe<De.length;Xe++){var xt=De[Xe].split("=");if(xt.length>1){const mt=xt[0];xt=xt[1];const Jn=mt.split("_");pe=Jn.length>=2&&Jn[1]=="type"?pe+(mt+"="+xt+"&"):pe+(mt+"=redacted&")}}}else pe=null;else pe=Q;return"XMLHTTP REQ ("+w+") [attempt "+G+"]: "+_+`
`+T+`
`+pe})}function vc(h,_,T,w,G,Q,pe){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+G+"]: "+_+`
`+T+`
`+Q+" "+pe})}function jr(h,_,T,w){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ad(h,T)+(w?" "+w:"")})}function Hs(h,_){h.info(function(){return"TIMEOUT: "+_})}cr.prototype.info=function(){};function Ad(h,_){if(!h.g)return _;if(!_)return null;try{const Q=JSON.parse(_);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var T=Q[h];if(!(T.length<2)){var w=T[1];if(Array.isArray(w)&&!(w.length<1)){var G=w[0];if(G!="noop"&&G!="stop"&&G!="close")for(let pe=1;pe<w.length;pe++)w[pe]=""}}}}return mn(Q)}catch{return _}}var Gs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yl;function Ks(){}b(Ks,Ga),Ks.prototype.g=function(){return new XMLHttpRequest},yl=new Ks;function li(h){return encodeURIComponent(String(h))}function _c(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function hr(h,_,T,w){this.j=h,this.i=_,this.l=T,this.S=w||1,this.V=new $n(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fr}function fr(){this.i=null,this.g="",this.h=!1}var Ot={},Kt={};function kr(h,_,T){h.M=1,h.A=$s(Mt(_)),h.u=T,h.R=!0,$a(h,null)}function $a(h,_){h.F=Date.now(),Vr(h),h.B=Mt(h.A);var T=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Wa(T.i,"t",w),h.C=0,T=h.j.L,h.h=new fr,h.g=jc(h.j,T?_:null,!h.u),h.P>0&&(h.O=new Ct(g(h.Y,h,h.g),h.P)),_=h.V,T=h.g,w=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(qs[0]=G.toString()),G=qs);for(let Q=0;Q<G.length;Q++){const pe=Qe(T,G[Q],w||_.handleEvent,!1,_.h||_);if(!pe)break;_.g[pe.key]=pe}_=h.J?D(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Or(),xd(h.i,h.v,h.B,h.l,h.S,h.u)}hr.prototype.ba=function(h){h=h.target;const _=this.O;_&&mr(h)==3?_.j():this.Y(h)},hr.prototype.Y=function(h){try{if(h==this.g)e:{const De=mr(this.g),xt=this.g.ya(),Xe=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||De!=4||xt==7||(xt==8||Xe<=0?Or(3):Or(2)),Pr(this);var _=this.g.ca();this.X=_;var T=wd(this);if(this.o=_==200,vc(this.i,this.v,this.B,this.l,this.S,De,_),this.o){if(this.U&&!this.L){t:{if(this.g){var w,G=this.g;if((w=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var Q=w;break t}}Q=null}if(h=Q)jr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Lr(this,h);else{this.o=!1,this.m=3,Nt(12),On(this),Qn(this);break e}}if(this.R){h=!0;let mt;for(;!this.K&&this.C<T.length;)if(mt=Ec(this,T),mt==Kt){De==4&&(this.m=4,Nt(14),h=!1),jr(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Ot){this.m=4,Nt(15),jr(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else jr(this.i,this.l,mt,null),Lr(this,mt);if(bc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||T.length!=0||this.h.h||(this.m=1,Nt(16),h=!1),this.o=this.o&&h,!h)jr(this.i,this.l,T,"[Invalid Chunked Response]"),On(this),Qn(this);else if(T.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Dl(pe),pe.P=!0,Nt(11))}}else jr(this.i,this.l,T,null),Lr(this,T);De==4&&On(this),this.o&&!this.K&&(De==4?Nc(this.j,this):(this.o=!1,Vr(this)))}else ci(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),On(this),Qn(this)}}}catch{}};function wd(h){if(!bc(h))return h.g.la();const _=Wt(h.g);if(_==="")return"";let T="";const w=_.length,G=mr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return On(h),Qn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<w;Q++)h.h.h=!0,T+=h.h.i.decode(_[Q],{stream:!(G&&Q==w-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function bc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ec(h,_){var T=h.C,w=_.indexOf(`
`,T);return w==-1?Kt:(T=Number(_.substring(T,w)),isNaN(T)?Ot:(w+=1,w+T>_.length?Kt:(_=_.slice(w,w+T),h.C=w+T,_)))}hr.prototype.cancel=function(){this.K=!0,On(this)};function Vr(h){h.T=Date.now()+h.H,Ya(h,h.H)}function Ya(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Mr(g(h.aa,h),_)}function Pr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}hr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Hs(this.i,this.B),this.M!=2&&(Or(),Nt(17)),On(this),this.m=2,Qn(this)):Ya(this,this.T-h)};function Qn(h){h.j.I==0||h.K||Nc(h.j,h)}function On(h){Pr(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Hi(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Lr(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||qr(T.h,h))){if(!h.L&&qr(T.h,h)&&T.I==3){try{var w=T.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var G=w;if(G[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)no(T),Ji(T);else break e;ea(T),Nt(18)}}else T.xa=G[1],0<T.xa-T.K&&G[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Mr(g(T.Va,T),6e3));Ur(T.h)<=1&&T.ta&&(T.ta=void 0)}else Kr(T,11)}else if((h.L||T.g==h)&&no(T),!I(_))for(G=T.Ba.g.parse(_),_=0;_<G.length;_++){let Xe=G[_];const mt=Xe[0];if(!(mt<=T.K))if(T.K=mt,Xe=Xe[1],T.I==2)if(Xe[0]=="c"){T.M=Xe[1],T.ba=Xe[2];const Jn=Xe[3];Jn!=null&&(T.ka=Jn,T.j.info("VER="+T.ka));const $r=Xe[4];$r!=null&&(T.za=$r,T.j.info("SVER="+T.za));const gr=Xe[5];gr!=null&&typeof gr=="number"&&gr>0&&(w=1.5*gr,T.O=w,T.j.info("backChannelRequestTimeoutMs_="+w)),w=T;const yr=h.g;if(yr){const ta=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var Q=w.h;Q.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(bl(Q,Q.h),Q.h=null))}if(w.G){const ro=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;ro&&(w.wa=ro,tt(w.J,w.G,ro))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),w=T;var pe=h;if(w.na=Mc(w,w.L?w.ba:null,w.W),pe.L){El(w.h,pe);var De=pe,xt=w.O;xt&&(De.H=xt),De.D&&(Pr(De),Vr(De)),w.g=pe}else Cc(w);T.i.length>0&&Gr(T)}else Xe[0]!="stop"&&Xe[0]!="close"||Kr(T,7);else T.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Kr(T,7):Nl(T):Xe[0]!="noop"&&T.l&&T.l.qa(Xe),T.A=0)}}Or(4)}catch{}}var Dt=class{constructor(h,_){this.g=h,this.map=_}};function vl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ur(h){return h.h?1:h.g?h.g.size:0}function qr(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function bl(h,_){h.g?h.g.add(_):h.h=_}function El(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}vl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Tl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return A(h.i)}var Tc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qa(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const w=h[T].indexOf("=");let G,Q=null;w>=0?(G=h[T].substring(0,w),Q=h[T].substring(w+1)):G=h[T],_(G,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Dn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Dn?(this.l=h.l,$t(this,h.j),this.o=h.o,this.g=h.g,Gi(this,h.u),this.h=h.h,Sl(this,wc(h.i)),this.m=h.m):h&&(_=String(h).match(Tc))?(this.l=!1,$t(this,_[1]||"",!0),this.o=zr(_[2]||""),this.g=zr(_[3]||"",!0),Gi(this,_[4]),this.h=zr(_[5]||"",!0),Sl(this,_[6]||"",!0),this.m=zr(_[7]||"")):(this.l=!1,this.i=new $i(null,this.l))}Dn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Ys(_,Xa,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Ys(_,Xa,!0),"@"),h.push(li(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Ys(T,T.charAt(0)=="/"?xl:Sc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Ys(T,xc)),h.join("")},Dn.prototype.resolve=function(h){const _=Mt(this);let T=!!h.j;T?$t(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var w=h.h;if(T)Gi(_,h.u);else if(T=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var G=_.h.lastIndexOf("/");G!=-1&&(w=_.h.slice(0,G+1)+w)}if(G=w,G==".."||G==".")w="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){w=G.lastIndexOf("/",0)==0,G=G.split("/");const Q=[];for(let pe=0;pe<G.length;){const De=G[pe++];De=="."?w&&pe==G.length&&Q.push(""):De==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),w&&pe==G.length&&Q.push("")):(Q.push(De),w=!0)}w=Q.join("/")}else w=G}return T?_.h=w:T=h.i.toString()!=="",T?Sl(_,wc(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Mt(h){return new Dn(h)}function $t(h,_,T){h.j=T?zr(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Gi(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Sl(h,_,T){_ instanceof $i?(h.i=_,Ja(h.i,h.l)):(T||(_=Ys(_,Ki)),h.i=new $i(_,h.l))}function tt(h,_,T){h.i.set(_,T)}function $s(h){return tt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function zr(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ys(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,_n),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function _n(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Xa=/[#\/\?@]/g,Sc=/[#\?:]/g,xl=/[#\?]/g,Ki=/[#\?@]/g,xc=/#/g;function $i(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function bn(h){h.g||(h.g=new Map,h.h=0,h.i&&Qa(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}r=$i.prototype,r.add=function(h,_){bn(this),this.i=null,h=Yi(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function Ac(h,_){bn(h),_=Yi(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Al(h,_){return bn(h),_=Yi(h,_),h.g.has(_)}r.forEach=function(h,_){bn(this),this.g.forEach(function(T,w){T.forEach(function(G){h.call(_,G,w,this)},this)},this)};function wl(h,_){bn(h);let T=[];if(typeof _=="string")Al(h,_)&&(T=T.concat(h.g.get(Yi(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}r.set=function(h,_){return bn(this),this.i=null,h=Yi(this,h),Al(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},r.get=function(h,_){return h?(h=wl(this,h),h.length>0?String(h[0]):_):_};function Wa(h,_,T){Ac(h,_),T.length>0&&(h.i=null,h.g.set(Yi(h,_),A(T)),h.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var T=_[w];const G=li(T);T=wl(this,T);for(let Q=0;Q<T.length;Q++){let pe=G;T[Q]!==""&&(pe+="="+li(T[Q])),h.push(pe)}}return this.i=h.join("&")};function wc(h){const _=new $i;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Yi(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ja(h,_){_&&!h.j&&(bn(h),h.i=null,h.g.forEach(function(T,w){const G=w.toLowerCase();w!=G&&(Ac(this,w),Wa(this,G,T))},h)),h.j=_}function dr(h,_){const T=new cr;if(c.Image){const w=new Image;w.onload=v(Xn,T,"TestLoadImage: loaded",!0,_,w),w.onerror=v(Xn,T,"TestLoadImage: error",!1,_,w),w.onabort=v(Xn,T,"TestLoadImage: abort",!1,_,w),w.ontimeout=v(Xn,T,"TestLoadImage: timeout",!1,_,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else _(!1)}function Rl(h,_){const T=new cr,w=new AbortController,G=setTimeout(()=>{w.abort(),Xn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:w.signal}).then(Q=>{clearTimeout(G),Q.ok?Xn(T,"TestPingServer: ok",!0,_):Xn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Xn(T,"TestPingServer: error",!1,_)})}function Xn(h,_,T,w,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),w(T)}catch{}}function Qi(){this.g=new zs}function Br(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Br,Ga),Br.prototype.g=function(){return new Qs(this.i,this.h)};function Qs(h,_){lt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Qs,lt),r=Qs.prototype,r.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,pr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xi(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Za(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Za(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Xi(this):pr(this),this.readyState==3&&Za(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,Xi(this))},r.Na=function(h){this.g&&(this.response=h,Xi(this))},r.ga=function(){this.g&&Xi(this)};function Xi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,pr(h)}r.setRequestHeader=function(h,_){this.A.append(h,_)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function pr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Wn(h){let _="";return ae(h,function(T,w){_+=w,_+=":",_+=T,_+=`\r
`}),_}function Xs(h,_,T){e:{for(w in T){var w=!1;break e}w=!0}w||(T=Wn(T),typeof h=="string"?T!=null&&li(T):tt(h,_,T))}function it(h){lt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(it,lt);var Fr=/^https?$/i,Cl=["POST","PUT"];r=it.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,_,T,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(Q){Ws(this,Q);return}if(h=T||"",T=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var G in w)T.set(G,w[G]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())T.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Cl,_,void 0)>=0)||w||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,pe]of T)this.g.setRequestHeader(Q,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Ws(this,Q)}};function Ws(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Il(h),ui(h)}function Il(h){h.A||(h.A=!0,Tt(h,"complete"),Tt(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Tt(this,"complete"),Tt(this,"abort"),ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),it.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Js(this):this.Xa())},r.Xa=function(){Js(this)};function Js(h){if(h.h&&typeof l<"u"){if(h.v&&mr(h)==4)setTimeout(h.Ca.bind(h),0);else if(Tt(h,"readystatechange"),mr(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var w;if(w=Q===0){let pe=String(h.D).match(Tc)[1]||null;!pe&&c.self&&c.self.location&&(pe=c.self.location.protocol.slice(0,-1)),w=!Fr.test(pe?pe.toLowerCase():"")}T=w}if(T)Tt(h,"complete"),Tt(h,"success");else{h.o=6;try{var G=mr(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",Il(h)}}finally{ui(h)}}}}function ui(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||Tt(h,"ready");try{T.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function mr(h){return h.g?h.g.readyState:0}r.ca=function(){try{return mr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Ha(_)}};function Wt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ci(h){const _={};h=(h.g&&mr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(I(h[w]))continue;var T=_c(h[w]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=_[G]||[];_[G]=Q,Q.push(T)}Se(_,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Wi(h){this.za=0,this.i=[],this.j=new cr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hr("baseRetryDelayMs",5e3,h),this.Za=Hr("retryDelaySeedMs",1e4,h),this.Ta=Hr("forwardChannelMaxRetries",2,h),this.va=Hr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new vl(h&&h.concurrentRequestLimit),this.Ba=new Qi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Wi.prototype,r.ka=8,r.I=1,r.connect=function(h,_,T,w){Nt(0),this.W=h,this.H=_||{},T&&w!==void 0&&(this.H.OSID=T,this.H.OAID=w),this.F=this.X,this.J=Mc(this,null,this.W),Gr(this)};function Nl(h){if(eo(h),h.I==3){var _=h.V++,T=Mt(h.J);if(tt(T,"SID",h.M),tt(T,"RID",_),tt(T,"TYPE","terminate"),Zs(h,T),_=new hr(h,h.j,_),_.M=2,_.A=$s(Mt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=jc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Vr(_)}Dc(h)}function Ji(h){h.g&&(Dl(h),h.g.cancel(),h.g=null)}function eo(h){Ji(h),h.v&&(c.clearTimeout(h.v),h.v=null),no(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Gr(h){if(!_l(h.h)&&!h.m){h.m=!0;var _=h.Ea;de||R(),ue||(de(),ue=!0),C.add(_,h),h.D=0}}function to(h,_){return Ur(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Mr(g(h.Ea,h,_),Oc(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new hr(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=D(Q),re(Q,this.U)):Q=this.U),this.u!==null||this.R||(G.J=Q,Q=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var w=this.i[T];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Rc(this,G,_),T=Mt(this.J),tt(T,"RID",h),tt(T,"CVER",22),this.G&&tt(T,"X-HTTP-Session-Id",this.G),Zs(this,T),Q&&(this.R?_="headers="+li(Wn(Q))+"&"+_:this.u&&Xs(T,this.u,Q)),bl(this.h,G),this.Ra&&tt(T,"TYPE","init"),this.S?(tt(T,"$req",_),tt(T,"SID","null"),G.U=!0,kr(G,T,null)):kr(G,T,_),this.I=2}}else this.I==3&&(h?Ol(this,h):this.i.length==0||_l(this.h)||Ol(this))};function Ol(h,_){var T;_?T=_.l:T=h.V++;const w=Mt(h.J);tt(w,"SID",h.M),tt(w,"RID",T),tt(w,"AID",h.K),Zs(h,w),h.u&&h.o&&Xs(w,h.u,h.o),T=new hr(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Rc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),bl(h.h,T),kr(T,w,_)}function Zs(h,_){h.H&&ae(h.H,function(T,w){tt(_,w,T)}),h.l&&ae({},function(T,w){tt(_,w,T)})}function Rc(h,_,T){T=Math.min(h.i.length,T);const w=h.l?g(h.l.Ka,h.l,h):null;e:{var G=h.i;let De=-1;for(;;){const xt=["count="+T];De==-1?T>0?(De=G[0].g,xt.push("ofs="+De)):De=0:xt.push("ofs="+De);let Xe=!0;for(let mt=0;mt<T;mt++){var Q=G[mt].g;const Jn=G[mt].map;if(Q-=De,Q<0)De=Math.max(0,G[mt].g-100),Xe=!1;else try{Q="req"+Q+"_"||"";try{var pe=Jn instanceof Map?Jn:Object.entries(Jn);for(const[$r,gr]of pe){let yr=gr;d(gr)&&(yr=mn(gr)),xt.push(Q+$r+"="+encodeURIComponent(yr))}}catch($r){throw xt.push(Q+"type="+encodeURIComponent("_badmap")),$r}}catch{w&&w(Jn)}}if(Xe){pe=xt.join("&");break e}}pe=void 0}return h=h.i.splice(0,T),_.G=h,pe}function Cc(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;de||R(),ue||(de(),ue=!0),C.add(_,h),h.A=0}}function ea(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Mr(g(h.Da,h),Oc(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,Ic(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Mr(g(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Ji(this),Ic(this))};function Dl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Ic(h){h.g=new hr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Mt(h.na);tt(_,"RID","rpc"),tt(_,"SID",h.M),tt(_,"AID",h.K),tt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&tt(_,"TO",h.ia),tt(_,"TYPE","xmlhttp"),Zs(h,_),h.u&&h.o&&Xs(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=$s(Mt(_)),T.u=null,T.R=!0,$a(T,h)}r.Va=function(){this.C!=null&&(this.C=null,Ji(this),ea(this),Nt(19))};function no(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Nc(h,_){var T=null;if(h.g==_){no(h),Dl(h),h.g=null;var w=2}else if(qr(h.h,_))T=_.G,El(h.h,_),w=1;else return;if(h.I!=0){if(_.o)if(w==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var G=h.D;w=Ka(),Tt(w,new Dr(w,T)),Gr(h)}else Cc(h);else if(G=_.m,G==3||G==0&&_.X>0||!(w==1&&to(h,_)||w==2&&ea(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),G){case 1:Kr(h,5);break;case 4:Kr(h,10);break;case 3:Kr(h,6);break;default:Kr(h,2)}}}function Oc(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function Kr(h,_){if(h.j.info("Error code "+_),_==2){var T=g(h.bb,h),w=h.Ua;const G=!w;w=new Dn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$t(w,"https"),$s(w),G?dr(w.toString(),T):Rl(w.toString(),T)}else Nt(2);h.I=0,h.l&&h.l.pa(_),Dc(h),eo(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Dc(h){if(h.I=0,h.ja=[],h.l){const _=Tl(h.h);(_.length!=0||h.i.length!=0)&&(k(h.ja,_),k(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function Mc(h,_,T){var w=T instanceof Dn?Mt(T):new Dn(T);if(w.g!="")_&&(w.g=_+"."+w.g),Gi(w,w.u);else{var G=c.location;w=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const Q=new Dn(null);w&&$t(Q,w),_&&(Q.g=_),G&&Gi(Q,G),T&&(Q.h=T),w=Q}return T=h.G,_=h.wa,T&&_&&tt(w,T,_),tt(w,"VER",h.ka),Zs(h,w),w}function jc(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new it(new Br({ab:T})):new it(h.ma),_.Fa(h.L),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function kc(){}r=kc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Zi(){}Zi.prototype.g=function(h,_){return new gn(h,_)};function gn(h,_){lt.call(this),this.g=new Wi(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!I(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new hi(this)}b(gn,lt),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Nl(this.g)},gn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=mn(h),h=T);_.i.push(new Dt(_.Ya++,h)),_.I==3&&Gr(_)},gn.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,gn.Z.N.call(this)};function Vc(h){ht.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(Vc,ht);function Pc(){Yn.call(this),this.status=1}b(Pc,Yn);function hi(h){this.g=h}b(hi,kc),hi.prototype.ra=function(){Tt(this.g,"a")},hi.prototype.qa=function(h){Tt(this.g,new Vc(h))},hi.prototype.pa=function(h){Tt(this.g,new Pc)},hi.prototype.oa=function(){Tt(this.g,"b")},Zi.prototype.createWebChannel=Zi.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,HO=function(){return new Zi},FO=function(){return Ka()},BO=St,J_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,nf=Gs,gl.COMPLETE="complete",zO=gl,Bs.EventType=It,It.OPEN="a",It.CLOSE="b",It.ERROR="c",It.MESSAGE="d",lt.prototype.listen=lt.prototype.J,wu=Bs,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,qO=it}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let ul="12.8.0";function gq(r){ul=r}const ja=new Y0("@firebase/firestore");function jo(){return ja.logLevel}function ge(r,...e){if(ja.logLevel<=qe.DEBUG){const t=e.map(lb);ja.debug(`Firestore (${ul}): ${r}`,...t)}}function Ui(r,...e){if(ja.logLevel<=qe.ERROR){const t=e.map(lb);ja.error(`Firestore (${ul}): ${r}`,...t)}}function Yo(r,...e){if(ja.logLevel<=qe.WARN){const t=e.map(lb);ja.warn(`Firestore (${ul}): ${r}`,...t)}}function lb(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function Ae(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,GO(r,i,t)}function GO(r,e,t){let i=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ui(i),new Error(i)}function Ze(r,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,r||GO(e,a,i)}function Oe(r,e){return r}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class KO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hn.UNAUTHENTICATED)))}shutdown(){}}class vq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class _q{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mi,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mi)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string",31837,{l:i}),new KO(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class bq{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Eq{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new bq(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tq{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const i=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new bR(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Sq(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class ub{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Sq(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function ze(r,e){return r<e?-1:r>e?1:0}function Z_(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const a=r.charAt(i),l=e.charAt(i);if(a!==l)return kv(a)===kv(l)?ze(a,l):kv(a)?1:-1}return ze(r.length,e.length)}const xq=55296,Aq=57343;function kv(r){const e=r.charCodeAt(0);return e>=xq&&e<=Aq}function Qo(r,e,t){return r.length===e.length&&r.every(((i,a)=>t(i,e[a])))}const ER="__name__";class Jr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ae(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Jr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return ze(e.length,t.length)}static compareSegments(e,t){const i=Jr.isNumericId(e),a=Jr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Jr.extractNumericId(e).compare(Jr.extractNumericId(t)):Z_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Os.fromString(e.substring(4,e.length-2))}}class ct extends Jr{construct(e,t,i){return new ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new ct(t)}static emptyPath(){return new ct([])}}const wq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Jr{construct(e,t,i){return new sn(e,t,i)}static isValidIdentifier(e){return wq.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ER}static keyField(){return new sn([ER])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(t)}static emptyPath(){return new sn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ct.fromString(e))}static fromName(e){return new Te(ct.fromString(e).popFirst(5))}static empty(){return new Te(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ct(e.slice()))}}function $O(r,e,t){if(!t)throw new me(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Rq(r,e,t,i){if(e===!0&&i===!0)throw new me(ie.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function TR(r){if(!Te.isDocumentKey(r))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function SR(r){if(Te.isDocumentKey(r))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function YO(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ud(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae(12329,{type:typeof r})}function qi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ud(r);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Cq(r,e){if(e<=0)throw new me(ie.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function qt(r,e){const t={typeString:r};return e&&(t.value=e),t}function cc(r,e){if(!YO(r))throw new me(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const c=r[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new me(ie.INVALID_ARGUMENT,t);return!0}const xR=-62135596800,AR=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*AR);return new pt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<xR)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AR}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cc(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:qt("string",pt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new pt(0,0))}static max(){return new Ce(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gu=-1;function Iq(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(i===1e9?new pt(t+1,0):new pt(t,i));return new Ms(a,Te.empty(),e)}function Nq(r){return new Ms(r.readTime,r.key,Gu)}class Ms{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ms(Ce.min(),Te.empty(),Gu)}static max(){return new Ms(Ce.max(),Te.empty(),Gu)}}function Oq(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(r.documentKey,e.documentKey),t!==0?t:ze(r.largestBatchId,e.largestBatchId))}const Dq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function cl(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==Dq)throw r;ge("LocalStore","Unexpectedly lost primary lease")}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):oe.reject(t)}static resolve(e){return new oe(((t,i)=>{t(e)}))}static reject(e){return new oe(((t,i)=>{i(e)}))}static waitFor(e){return new oe(((t,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(m=>i(m)))})),c=!0,l===a&&t()}))}static or(e){let t=oe.resolve(!1);for(const i of e)t=t.next((a=>a?oe.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new oe(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next((v=>{c[g]=v,++d,d===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new oe(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}function jq(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hl(r){return r.name==="IndexedDbTransactionError"}class cd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cd.ce=-1;const cb=-1;function hd(r){return r==null}function Sf(r){return r===0&&1/r==-1/0}function kq(r){return typeof r=="number"&&Number.isInteger(r)&&!Sf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const QO="";function Vq(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=wR(e)),e=Pq(r.get(t),e);return wR(e)}function Pq(r,e){let t=e;const i=r.length;for(let a=0;a<i;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case QO:t+="";break;default:t+=l}}return t}function wR(r){return r+QO+""}function RR(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function qa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function XO(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class vt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gh(this.root,e,this.comparator,!0)}}class Gh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??nn.RED,this.left=a??nn.EMPTY,this.right=l??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new nn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return nn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CR(this.data.getIterator())}getIteratorFrom(e){return new CR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Gt(this.comparator);return t.data=e,t}}class CR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sr{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Sr([])}unionWith(e){let t=new Gt(sn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class WO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new WO("Invalid base64 string: "+l):l}})(e);return new an(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new an(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const Lq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(r){if(Ze(!!r,39018),typeof r=="string"){let e=0;const t=Lq.exec(r);if(Ze(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(r.seconds),nanos:Rt(r.nanos)}}function Rt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ks(r){return typeof r=="string"?an.fromBase64String(r):an.fromUint8Array(r)}const JO="server_timestamp",ZO="__type__",e2="__previous_value__",t2="__local_write_time__";function hb(r){return(r?.mapValue?.fields||{})[ZO]?.stringValue===JO}function fd(r){const e=r.mapValue.fields[e2];return hb(e)?fd(e):e}function Ku(r){const e=js(r.mapValue.fields[t2].timestampValue);return new pt(e.seconds,e.nanos)}class Uq{constructor(e,t,i,a,l,c,d,m,g,v,b){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=b}}const xf="(default)";class $u{constructor(e,t){this.projectId=e,this.database=t||xf}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===xf}isEqual(e){return e instanceof $u&&e.projectId===this.projectId&&e.database===this.database}}function qq(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(r.options.projectId,e)}const n2="__type__",zq="__max__",Kh={mapValue:{}},r2="__vector__",Af="value";function Vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?hb(r)?4:Fq(r)?9007199254740991:Bq(r)?10:11:Ae(28295,{value:r})}function si(r,e){if(r===e)return!0;const t=Vs(r);if(t!==Vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ku(r).isEqual(Ku(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=js(a.timestampValue),d=js(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return ks(a.bytesValue).isEqual(ks(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return Rt(a.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Rt(a.integerValue)===Rt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Rt(a.doubleValue),d=Rt(l.doubleValue);return c===d?Sf(c)===Sf(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return Qo(r.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(RR(c)!==RR(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!si(c[m],d[m])))return!1;return!0})(r,e);default:return Ae(52216,{left:r})}}function Yu(r,e){return(r.values||[]).find((t=>si(t,e)))!==void 0}function Xo(r,e){if(r===e)return 0;const t=Vs(r),i=Vs(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Rt(l.integerValue||l.doubleValue),m=Rt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(r,e);case 3:return IR(r.timestampValue,e.timestampValue);case 4:return IR(Ku(r),Ku(e));case 5:return Z_(r.stringValue,e.stringValue);case 6:return(function(l,c){const d=ks(l),m=ks(c);return d.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=ze(d[g],m[g]);if(v!==0)return v}return ze(d.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=ze(Rt(l.latitude),Rt(c.latitude));return d!==0?d:ze(Rt(l.longitude),Rt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return NR(r.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},g=d[Af]?.arrayValue,v=m[Af]?.arrayValue,b=ze(g?.values?.length||0,v?.values?.length||0);return b!==0?b:NR(g,v)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Kh.mapValue&&c===Kh.mapValue)return 0;if(l===Kh.mapValue)return 1;if(c===Kh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const S=Z_(m[b],v[b]);if(S!==0)return S;const A=Xo(d[m[b]],g[v[b]]);if(A!==0)return A}return ze(m.length,v.length)})(r.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function IR(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const t=js(r),i=js(e),a=ze(t.seconds,i.seconds);return a!==0?a:ze(t.nanos,i.nanos)}function NR(r,e){const t=r.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Xo(t[a],i[a]);if(l)return l}return ze(t.length,i.length)}function Wo(r){return e0(r)}function e0(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=js(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return ks(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Te.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=e0(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${e0(t.fields[c])}`;return a+"}"})(r.mapValue):Ae(61005,{value:r})}function rf(r){switch(Vs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fd(r);return e?16+rf(e):16;case 5:return 2*r.stringValue.length;case 6:return ks(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+rf(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let a=0;return qa(i.fields,((l,c)=>{a+=l.length+rf(c)})),a})(r.mapValue);default:throw Ae(13486,{value:r})}}function OR(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function t0(r){return!!r&&"integerValue"in r}function fb(r){return!!r&&"arrayValue"in r}function DR(r){return!!r&&"nullValue"in r}function MR(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function sf(r){return!!r&&"mapValue"in r}function Bq(r){return(r?.mapValue?.fields||{})[n2]?.stringValue===r2}function ku(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return qa(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=ku(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ku(r.arrayValue.values[t]);return e}return{...r}}function Fq(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===zq}class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!sf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ku(t)}setAll(e){let t=sn.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=ku(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());sf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];sf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){qa(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new or(ku(this.value))}}function i2(r){const e=[];return qa(r.fields,((t,i)=>{const a=new sn([t]);if(sf(i)){const l=i2(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Sr(e)}class fn{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new fn(e,0,Ce.min(),Ce.min(),Ce.min(),or.empty(),0)}static newFoundDocument(e,t,i,a){return new fn(e,1,t,Ce.min(),i,a,0)}static newNoDocument(e,t){return new fn(e,2,t,Ce.min(),Ce.min(),or.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,Ce.min(),Ce.min(),or.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wf{constructor(e,t){this.position=e,this.inclusive=t}}function jR(r,e,t){let i=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?i=Te.comparator(Te.fromName(c.referenceValue),t.key):i=Xo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function kR(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!si(r.position[t],e.position[t]))return!1;return!0}class Qu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Hq(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class s2{}class Ut extends s2{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Kq(e,t,i):t==="array-contains"?new Qq(e,i):t==="in"?new Xq(e,i):t==="not-in"?new Wq(e,i):t==="array-contains-any"?new Jq(e,i):new Ut(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new $q(e,i):new Yq(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xo(t,this.value)):t!==null&&Vs(this.value)===Vs(t)&&this.matchesComparison(Xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends s2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Cr(e,t)}matches(e){return a2(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function a2(r){return r.op==="and"}function o2(r){return Gq(r)&&a2(r)}function Gq(r){for(const e of r.filters)if(e instanceof Cr)return!1;return!0}function n0(r){if(r instanceof Ut)return r.field.canonicalString()+r.op.toString()+Wo(r.value);if(o2(r))return r.filters.map((e=>n0(e))).join(",");{const e=r.filters.map((t=>n0(t))).join(",");return`${r.op}(${e})`}}function l2(r,e){return r instanceof Ut?(function(i,a){return a instanceof Ut&&i.op===a.op&&i.field.isEqual(a.field)&&si(i.value,a.value)})(r,e):r instanceof Cr?(function(i,a){return a instanceof Cr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&l2(c,a.filters[d])),!0):!1})(r,e):void Ae(19439)}function u2(r){return r instanceof Ut?(function(t){return`${t.field.canonicalString()} ${t.op} ${Wo(t.value)}`})(r):r instanceof Cr?(function(t){return t.op.toString()+" {"+t.getFilters().map(u2).join(" ,")+"}"})(r):"Filter"}class Kq extends Ut{constructor(e,t,i){super(e,t,i),this.key=Te.fromName(i.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class $q extends Ut{constructor(e,t){super(e,"in",t),this.keys=c2("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Yq extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=c2("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function c2(r,e){return(e.arrayValue?.values||[]).map((t=>Te.fromName(t.referenceValue)))}class Qq extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fb(t)&&Yu(t.arrayValue,this.value)}}class Xq extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yu(this.value.arrayValue,t)}}class Wq extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yu(this.value.arrayValue,t)}}class Jq extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fb(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Yu(this.value.arrayValue,i)))}}class Zq{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function VR(r,e=null,t=[],i=[],a=null,l=null,c=null){return new Zq(r,e,t,i,a,l,c)}function db(r){const e=Oe(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>n0(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),hd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Wo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Wo(i))).join(",")),e.Te=t}return e.Te}function pb(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Hq(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!l2(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!kR(r.startAt,e.startAt)&&kR(r.endAt,e.endAt)}function r0(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class fl{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function e5(r,e,t,i,a,l,c,d){return new fl(r,e,t,i,a,l,c,d)}function mb(r){return new fl(r)}function PR(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function t5(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function h2(r){return r.collectionGroup!==null}function Vu(r){const e=Oe(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Gt(sn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Qu(l,i))})),t.has(sn.keyField().canonicalString())||e.Ie.push(new Qu(sn.keyField(),i))}return e.Ie}function ti(r){const e=Oe(r);return e.Ee||(e.Ee=n5(e,Vu(r))),e.Ee}function n5(r,e){if(r.limitType==="F")return VR(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Qu(a.field,l)}));const t=r.endAt?new wf(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new wf(r.startAt.position,r.startAt.inclusive):null;return VR(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function i0(r,e){const t=r.filters.concat([e]);return new fl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function r5(r,e){const t=r.explicitOrderBy.concat([e]);return new fl(r.path,r.collectionGroup,t,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Rf(r,e,t){return new fl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function dd(r,e){return pb(ti(r),ti(e))&&r.limitType===e.limitType}function f2(r){return`${db(ti(r))}|lt:${r.limitType}`}function ko(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>u2(a))).join(", ")}]`),hd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Wo(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Wo(a))).join(",")),`Target(${i})`})(ti(r))}; limitType=${r.limitType})`}function pd(r,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Te.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,a){for(const l of Vu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,m){const g=jR(c,d,m);return c.inclusive?g<=0:g<0})(i.startAt,Vu(i),a)||i.endAt&&!(function(c,d,m){const g=jR(c,d,m);return c.inclusive?g>=0:g>0})(i.endAt,Vu(i),a))})(r,e)}function i5(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function d2(r){return(e,t)=>{let i=!1;for(const a of Vu(r)){const l=s5(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function s5(r,e,t){const i=r.field.isKeyField()?Te.comparator(e.key,t.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Xo(m,g):Ae(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Ae(19790,{direction:r.dir})}}class za{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){qa(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return XO(this.inner)}size(){return this.innerSize}}const a5=new vt(Te.comparator);function zi(){return a5}const p2=new vt(Te.comparator);function Ru(...r){let e=p2;for(const t of r)e=e.insert(t.key,t);return e}function m2(r){let e=p2;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Ta(){return Pu()}function g2(){return Pu()}function Pu(){return new za((r=>r.toString()),((r,e)=>r.isEqual(e)))}const o5=new vt(Te.comparator),l5=new Gt(Te.comparator);function Be(...r){let e=l5;for(const t of r)e=e.add(t);return e}const u5=new Gt(ze);function c5(){return u5}function gb(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(e)?"-0":e}}function y2(r){return{integerValue:""+r}}function h5(r,e){return kq(e)?y2(e):gb(r,e)}class md{constructor(){this._=void 0}}function f5(r,e,t){return r instanceof Cf?(function(a,l){const c={fields:{[ZO]:{stringValue:JO},[t2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&hb(l)&&(l=fd(l)),l&&(c.fields[e2]=l),{mapValue:c}})(t,e):r instanceof Xu?_2(r,e):r instanceof Wu?b2(r,e):(function(a,l){const c=v2(a,l),d=LR(c)+LR(a.Ae);return t0(c)&&t0(a.Ae)?y2(d):gb(a.serializer,d)})(r,e)}function d5(r,e,t){return r instanceof Xu?_2(r,e):r instanceof Wu?b2(r,e):t}function v2(r,e){return r instanceof If?(function(i){return t0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Cf extends md{}class Xu extends md{constructor(e){super(),this.elements=e}}function _2(r,e){const t=E2(e);for(const i of r.elements)t.some((a=>si(a,i)))||t.push(i);return{arrayValue:{values:t}}}class Wu extends md{constructor(e){super(),this.elements=e}}function b2(r,e){let t=E2(e);for(const i of r.elements)t=t.filter((a=>!si(a,i)));return{arrayValue:{values:t}}}class If extends md{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function LR(r){return Rt(r.integerValue||r.doubleValue)}function E2(r){return fb(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function p5(r,e){return r.field.isEqual(e.field)&&(function(i,a){return i instanceof Xu&&a instanceof Xu||i instanceof Wu&&a instanceof Wu?Qo(i.elements,a.elements,si):i instanceof If&&a instanceof If?si(i.Ae,a.Ae):i instanceof Cf&&a instanceof Cf})(r.transform,e.transform)}class m5{constructor(e,t){this.version=e,this.transformResults=t}}class Ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function af(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class gd{}function T2(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new yb(r.key,Ar.none()):new hc(r.key,r.data,Ar.none());{const t=r.data,i=or.empty();let a=new Gt(sn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ba(r.key,i,new Sr(a.toArray()),Ar.none())}}function g5(r,e,t){r instanceof hc?(function(a,l,c){const d=a.value.clone(),m=qR(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,t):r instanceof Ba?(function(a,l,c){if(!af(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=qR(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(S2(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(r,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Lu(r,e,t,i){return r instanceof hc?(function(l,c,d,m){if(!af(l.precondition,c))return d;const g=l.value.clone(),v=zR(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(r,e,t,i):r instanceof Ba?(function(l,c,d,m){if(!af(l.precondition,c))return d;const g=zR(l.fieldTransforms,m,c),v=c.data;return v.setAll(S2(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(r,e,t,i):(function(l,c,d){return af(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,t)}function y5(r,e){let t=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),l=v2(i.transform,a||null);l!=null&&(t===null&&(t=or.empty()),t.set(i.field,l))}return t||null}function UR(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Qo(i,a,((l,c)=>p5(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class hc extends gd{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ba extends gd{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function S2(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function qR(r,e,t){const i=new Map;Ze(r.length===t.length,32656,{Ve:t.length,de:r.length});for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,d5(c,d,t[a]))}return i}function zR(r,e,t){const i=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);i.set(a.field,f5(l,c,e))}return i}class yb extends gd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class v5 extends gd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _5{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&g5(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Lu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Lu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=g2();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=T2(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ce.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,((t,i)=>UR(t,i)))&&Qo(this.baseMutations,e.baseMutations,((t,i)=>UR(t,i)))}}class vb{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Ze(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return o5})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new vb(e,t,i,a)}}class b5{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class E5{constructor(e,t){this.count=e,this.unchangedNames=t}}var Lt,Ge;function T5(r){switch(r){case ie.OK:return Ae(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ae(15467,{code:r})}}function x2(r){if(r===void 0)return Ui("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Lt.OK:return ie.OK;case Lt.CANCELLED:return ie.CANCELLED;case Lt.UNKNOWN:return ie.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ie.INTERNAL;case Lt.UNAVAILABLE:return ie.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ie.NOT_FOUND;case Lt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Lt.ABORTED:return ie.ABORTED;case Lt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Lt.DATA_LOSS:return ie.DATA_LOSS;default:return Ae(39323,{code:r})}}(Ge=Lt||(Lt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function S5(){return new TextEncoder}const x5=new Os([4294967295,4294967295],0);function BR(r){const e=S5().encode(r),t=new UO;return t.update(e),new Uint8Array(t.digest())}function FR(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Os([t,i],0),new Os([a,l],0)]}class _b{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Cu(`Invalid padding: ${t}`);if(i<0)throw new Cu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Os.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(Os.fromNumber(i)));return a.compare(x5)===1&&(a=new Os([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=BR(e),[i,a]=FR(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new _b(l,a,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=BR(e),[i,a]=FR(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yd{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new yd(Ce.min(),a,new vt(ze),zi(),Be())}}class fc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new fc(i,t,Be(),Be(),Be())}}class of{constructor(e,t,i,a){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=a}}class A2{constructor(e,t){this.targetId=e,this.Ce=t}}class w2{constructor(e,t,i=an.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class HR{constructor(){this.ve=0,this.Fe=GR(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),t=Be(),i=Be();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ae(38017,{changeType:l})}})),new fc(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=GR()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class A5{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.He=$h(),this.Je=$h(),this.Ze=new vt(ze)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(r0(l))if(i===0){const c=new Te(l.path);this.et(t,c,fn.newNoDocument(c,Ce.min()))}else Ze(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=ks(i).toUint8Array()}catch(m){if(m instanceof WO)return Yo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new _b(c,a,l)}catch(m){return Yo(m instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&r0(d.target)){const m=new Te(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,fn.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let i=Be();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new yd(e,t,this.Ze,this.je,i);return this.je=zi(),this.He=$h(),this.Je=$h(),this.Ze=new vt(ze),a}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new HR,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Gt(ze),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Gt(ze),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new HR),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function $h(){return new vt(Te.comparator)}function GR(){return new vt(Te.comparator)}const w5={asc:"ASCENDING",desc:"DESCENDING"},R5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C5={and:"AND",or:"OR"};class I5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function s0(r,e){return r.useProto3Json||hd(e)?e:{value:e}}function Nf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R2(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function N5(r,e){return Nf(r,e.toTimestamp())}function ni(r){return Ze(!!r,49232),Ce.fromTimestamp((function(t){const i=js(t);return new pt(i.seconds,i.nanos)})(r))}function bb(r,e){return a0(r,e).canonicalString()}function a0(r,e){const t=(function(a){return new ct(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function C2(r){const e=ct.fromString(r);return Ze(M2(e),10190,{key:e.toString()}),e}function o0(r,e){return bb(r.databaseId,e.path)}function Vv(r,e){const t=C2(e);if(t.get(1)!==r.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Te(N2(t))}function I2(r,e){return bb(r.databaseId,e)}function O5(r){const e=C2(r);return e.length===4?ct.emptyPath():N2(e)}function l0(r){return new ct(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function N2(r){return Ze(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function KR(r,e,t){return{name:o0(r,e),fields:t.value.mapValue.fields}}function D5(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Ze(v===void 0||typeof v=="string",58123),an.fromBase64String(v||"")):(Ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),an.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?ie.UNKNOWN:x2(g.code);return new me(v,g.message||"")})(c);t=new w2(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Vv(r,i.document.name),l=ni(i.document.updateTime),c=i.document.createTime?ni(i.document.createTime):Ce.min(),d=new or({mapValue:{fields:i.document.fields}}),m=fn.newFoundDocument(a,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new of(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Vv(r,i.document),l=i.readTime?ni(i.readTime):Ce.min(),c=fn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new of([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Vv(r,i.document),l=i.removedTargetIds||[];t=new of([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new E5(a,l),d=i.targetId;t=new A2(d,c)}}return t}function M5(r,e){let t;if(e instanceof hc)t={update:KR(r,e.key,e.value)};else if(e instanceof yb)t={delete:o0(r,e.key)};else if(e instanceof Ba)t={update:KR(r,e.key,e.data),updateMask:B5(e.fieldMask)};else{if(!(e instanceof v5))return Ae(16599,{dt:e.type});t={verify:o0(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof Cf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof If)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ae(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:N5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)})(r,e.precondition)),t}function j5(r,e){return r&&r.length>0?(Ze(e!==void 0,14353),r.map((t=>(function(a,l){let c=a.updateTime?ni(a.updateTime):ni(l);return c.isEqual(Ce.min())&&(c=ni(l)),new m5(c,a.transformResults||[])})(t,e)))):[]}function k5(r,e){return{documents:[I2(r,e.path)]}}function V5(r,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=I2(r,a);const l=(function(g){if(g.length!==0)return D2(Cr.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:Vo(S.field),direction:U5(S.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=s0(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function P5(r){let e=O5(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Ze(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(b){const S=O2(b);return S instanceof Cr&&o2(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((S=>(function(k){return new Qu(Po(k.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(S)))})(t.orderBy));let d=null;t.limit&&(d=(function(b){let S;return S=typeof b=="object"?b.value:b,hd(S)?null:S})(t.limit));let m=null;t.startAt&&(m=(function(b){const S=!!b.before,A=b.values||[];return new wf(A,S)})(t.startAt));let g=null;return t.endAt&&(g=(function(b){const S=!b.before,A=b.values||[];return new wf(A,S)})(t.endAt)),e5(e,a,c,l,d,"F",m,g)}function L5(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function O2(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Po(t.unaryFilter.field);return Ut.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Po(t.unaryFilter.field);return Ut.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Po(t.unaryFilter.field);return Ut.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Po(t.unaryFilter.field);return Ut.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Ut.create(Po(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Cr.create(t.compositeFilter.filters.map((i=>O2(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(t.compositeFilter.op))})(r):Ae(30097,{filter:r})}function U5(r){return w5[r]}function q5(r){return R5[r]}function z5(r){return C5[r]}function Vo(r){return{fieldPath:r.canonicalString()}}function Po(r){return sn.fromServerFormat(r.fieldPath)}function D2(r){return r instanceof Ut?(function(t){if(t.op==="=="){if(MR(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NAN"}};if(DR(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(MR(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NAN"}};if(DR(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(t.field),op:q5(t.op),value:t.value}}})(r):r instanceof Cr?(function(t){const i=t.getFilters().map((a=>D2(a)));return i.length===1?i[0]:{compositeFilter:{op:z5(t.op),filters:i}}})(r):Ae(54877,{filter:r})}function B5(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function M2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function j2(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Rs{constructor(e,t,i,a,l=Ce.min(),c=Ce.min(),d=an.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class F5{constructor(e){this.yt=e}}function H5(r){const e=P5({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rf(e,e.limit,"L"):e}class G5{constructor(){this.Sn=new K5}addToCollectionParentIndex(e,t){return this.Sn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(Ms.min())}updateCollectionGroup(e,t,i){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class K5{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Gt(ct.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Gt(ct.comparator)).toArray()}}const $R={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},k2=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(k2,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class Jo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Jo(0)}static ar(){return new Jo(-1)}}const YR="LruGarbageCollector",$5=1048576;function QR([r,e],[t,i]){const a=ze(r,t);return a===0?ze(e,i):a}class Y5{constructor(e){this.Pr=e,this.buffer=new Gt(QR),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();QR(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Q5{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ge(YR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){hl(t)?ge(YR,"Ignoring IndexedDB error during garbage collection: ",t):await cl(t)}await this.Ar(3e5)}))}}class X5{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(cd.ce);const i=new Y5(t);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve($R)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$R):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,a,l,c,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,d=Date.now(),this.removeTargets(e,i,t)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(g=Date.now(),jo()<=qe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function W5(r,e){return new X5(r,e)}class J5{constructor(){this.changes=new za((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?oe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Z5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class e9{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&Lu(i.mutation,a,Sr.empty(),pt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Be()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Be()){const a=Ta();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=Ru();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Ta();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Be())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,a){let l=zi();const c=Pu(),d=(function(){return Pu()})();return t.forEach(((m,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Ba)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Lu(v.mutation,g,v.mutation.getFieldMask(),pt.now())):c.set(g.key,Sr.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>d.set(g,new Z5(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=Pu();let a=new vt(((c,d)=>c-d)),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let v=i.get(m)||Sr.empty();v=d.applyToLocalView(g,v),i.set(m,v);const b=(a.get(d.batchId)||Be()).add(m);a=a.insert(d.batchId,b)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,b=g2();v.forEach((S=>{if(!l.has(S)){const A=T2(t.get(S),i.get(S));A!==null&&b.set(S,A),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return oe.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return t5(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):h2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):oe.resolve(Ta());let d=Gu,m=l;return c.next((g=>oe.forEach(g,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{m=m.insert(v,S)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Be()))).next((v=>({batchId:d,changes:m2(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next((i=>{let a=Ru();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Ru();return this.indexManager.getCollectionParents(e,l).next((d=>oe.forEach(d,(m=>{const g=(function(b,S){return new fl(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((v=>{v.forEach(((b,S)=>{c=c.insert(b,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,fn.newInvalidDocument(v)))}));let d=Ru();return c.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&Lu(v.mutation,g,Sr.empty(),pt.now()),pd(t,g)&&(d=d.insert(m,g))})),d}))}}class t9{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return oe.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:ni(a.createTime)}})(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:H5(a.bundledQuery),readTime:ni(a.readTime)}})(t)),oe.resolve()}}class n9{constructor(){this.overlays=new vt(Te.comparator),this.Lr=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ta();return oe.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.bt(e,t,l)})),oe.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),oe.resolve()}getOverlaysForCollection(e,t,i){const a=Ta(),l=t.length+1,c=new Te(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new vt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=Ta(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Ta(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return oe.resolve(d)}bt(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new b5(t,i));let l=this.Lr.get(t);l===void 0&&(l=Be(),this.Lr.set(t,l)),this.Lr.set(t,l.add(i.key))}}class r9{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}class Eb{constructor(){this.kr=new Gt(Qt.Kr),this.qr=new Gt(Qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new Qt(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new Qt(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new Te(new ct([])),i=new Qt(t,e),a=new Qt(t,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Te(new ct([])),i=new Qt(t,e),a=new Qt(t,e+1);let l=Be();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Qt(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Qt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Te.comparator(e.key,t.key)||ze(e.Hr,t.Hr)}static Ur(e,t){return ze(e.Hr,t.Hr)||Te.comparator(e.key,t.key)}}class i9{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Gt(Qt.Kr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _5(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Qt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,t){return oe.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Xr(i),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?cb:this.Yn-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Qt(t,0),a=new Qt(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Gt(ze);return t.forEach((a=>{const l=new Qt(a,0),c=new Qt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{i=i.add(d.Hr)}))})),oe.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Te.isDocumentKey(l)||(l=l.child(""));const c=new Qt(new Te(l),0);let d=new Gt(ze);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Hr)),!0)}),c),oe.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Ze(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return oe.forEach(t.mutations,(a=>{const l=new Qt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new Qt(t,0),a=this.Jr.firstAfterOrEqual(i);return oe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class s9{constructor(e){this.ti=e,this.docs=(function(){return new vt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return oe.resolve(i?i.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let i=zi();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():fn.newInvalidDocument(a))})),oe.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=zi();const c=t.path,d=new Te(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Oq(Nq(v),i)<=0||(a.has(v.key)||pd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Ae(9500)}ni(e,t){return oe.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new a9(this)}getSize(e){return oe.resolve(this.size)}}class a9 extends J5{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),oe.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class o9{constructor(e){this.persistence=e,this.ri=new za((t=>db(t)),pb),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ii=0,this.si=new Eb,this.targetCount=0,this.oi=Jo._r()}forEachTarget(e,t){return this.ri.forEach(((i,a)=>t(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),oe.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Jo(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.lr(t),oe.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),oe.waitFor(l).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return oe.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),oe.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return oe.resolve(i)}containsKey(e,t){return oe.resolve(this.si.containsKey(t))}}class V2{constructor(e,t){this._i={},this.overlays={},this.ai=new cd(0),this.ui=!1,this.ui=!0,this.ci=new r9,this.referenceDelegate=e(this),this.li=new o9(this),this.indexManager=new G5,this.remoteDocumentCache=(function(a){return new s9(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new F5(t),this.Pi=new t9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new n9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new i9(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const a=new l9(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return oe.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class l9 extends Mq{constructor(e){super(),this.currentSequenceNumber=e}}class Tb{constructor(e){this.persistence=e,this.Ri=new Eb,this.Ai=null}static Vi(e){return new Tb(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),oe.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.di,(i=>{const a=Te.fromPath(i);return this.mi(e,a).next((l=>{l||t.removeEntry(a,Ce.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return oe.or([()=>oe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Of{constructor(e,t){this.persistence=e,this.fi=new za((i=>Vq(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=W5(this,t)}static Vi(e,t){return new Of(e,t)}Ti(){}Ii(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return oe.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?oe.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,t).next((d=>{d||(i++,l.removeEntry(c,Ce.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),oe.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rf(e.data.value)),t}wr(e,t,i){return oe.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return oe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Sb{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=a}static Es(e,t){let i=Be(),a=Be();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Sb(e,t.fromCache,i,a)}}class u9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class c9{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return WL()?8:jq(pn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new u9;return this.ys(e,t,c).next((d=>{if(l.result=d,this.As)return this.ws(e,t,c,d.size)}))})).next((()=>l.result))}ws(e,t,i,a){return i.documentReadCount<this.Vs?(jo()<=qe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(jo()<=qe.DEBUG&&ge("QueryEngine","Query:",ko(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(jo()<=qe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(t))):oe.resolve())}gs(e,t){if(PR(t))return oe.resolve(null);let i=ti(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Rf(t,null,"F"),i=ti(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Be(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.bs(t,d);return this.Ss(t,g,c,m.readTime)?this.gs(e,Rf(t,null,"F")):this.Ds(e,g,t,m)}))))})))))}ps(e,t,i,a){return PR(t)||a.isEqual(Ce.min())?oe.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,i,a)?oe.resolve(null):(jo()<=qe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ko(t)),this.Ds(e,c,t,Iq(a,Gu)).next((d=>d)))}))}bs(e,t){let i=new Gt(d2(e));return t.forEach(((a,l)=>{pd(e,l)&&(i=i.add(l))})),i}Ss(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,i){return jo()<=qe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",ko(t)),this.fs.getDocumentsMatchingQuery(e,t,Ms.min(),i)}Ds(e,t,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const xb="LocalStore",h9=3e8;class f9{constructor(e,t,i,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new vt(ze),this.Fs=new za((l=>db(l)),pb),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new e9(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function d9(r,e,t,i){return new f9(r,e,t,i)}async function P2(r,e){const t=Oe(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let m=Be();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(i,m).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function p9(r,e){const t=Oe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,v){const b=g.batch,S=b.keys();let A=oe.resolve();return S.forEach((k=>{A=A.next((()=>v.getEntry(m,k))).next((P=>{const M=g.docVersions.get(k);Ze(M!==null,48541),P.version.compareTo(M)<0&&(b.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),v.addEntry(P)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(m,b)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let m=Be();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function L2(r){const e=Oe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function m9(r,e){const t=Oe(r),i=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const d=[];e.targetChanges.forEach(((v,b)=>{const S=a.get(b);if(!S)return;d.push(t.li.removeMatchingKeys(l,v.removedDocuments,b).next((()=>t.li.addMatchingKeys(l,v.addedDocuments,b))));let A=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken(an.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),a=a.insert(b,A),(function(P,M,F){return P.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=h9?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(S,A,v)&&d.push(t.li.updateTargetData(l,A))}));let m=zi(),g=Be();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(g9(l,c,e.documentUpdates).next((v=>{m=v.Bs,g=v.Ls}))),!i.isEqual(Ce.min())){const v=t.li.getLastRemoteSnapshotVersion(l).next((b=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return oe.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(t.vs=a,l)))}function g9(r,e,t){let i=Be(),a=Be();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let c=zi();return t.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ce.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ge(xb,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function y9(r,e){const t=Oe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=cb),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function v9(r,e){const t=Oe(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.li.getTargetData(i,e).next((l=>l?(a=l,oe.resolve(a)):t.li.allocateTargetId(i).next((c=>(a=new Rs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function u0(r,e,t){const i=Oe(r),a=i.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!hl(c))throw c;ge(xb,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function XR(r,e,t){const i=Oe(r);let a=Ce.min(),l=Be();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,v){const b=Oe(m),S=b.Fs.get(v);return S!==void 0?oe.resolve(b.vs.get(S)):b.li.getTargetData(g,v)})(i,c,ti(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,t?a:Ce.min(),t?l:Be()))).next((d=>(_9(i,i5(e),d),{documents:d,ks:l})))))}function _9(r,e,t){let i=r.Ms.get(e)||Ce.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Ms.set(e,i)}class WR{constructor(){this.activeTargetIds=c5()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b9{constructor(){this.vo=new WR,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new WR,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class E9{Mo(e){}shutdown(){}}const JR="ConnectivityMonitor";class ZR{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ge(JR,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ge(JR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yh=null;function c0(){return Yh===null?Yh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yh++,"0x"+Yh.toString(16)}const Pv="RestConnection",T9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class S9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===xf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,t,i,a,l){const c=c0(),d=this.Qo(e,t.toUriEncodedString());ge(Pv,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:g}=new URL(d),v=al(g);return this.zo(e,d,m,i,v).then((b=>(ge(Pv,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Yo(Pv,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",i),b}))}jo(e,t,i,a,l,c){return this.Wo(e,t,i,a,l)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const i=T9[e];let a=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class x9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const un="WebChannelConnection",Eu=(r,e,t)=>{r.listen(e,(i=>{try{t(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class zo extends S9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!zo.c_){const e=FO();Eu(e,BO.STAT_EVENT,(t=>{t.stat===J_.PROXY?ge(un,"STAT_EVENT: detected buffering proxy"):t.stat===J_.NOPROXY&&ge(un,"STAT_EVENT: detected no buffering proxy")})),zo.c_=!0}}zo(e,t,i,a,l){const c=c0();return new Promise(((d,m)=>{const g=new qO;g.setWithCredentials(!0),g.listenOnce(zO.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case nf.NO_ERROR:const b=g.getResponseJson();ge(un,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case nf.TIMEOUT:ge(un,`RPC '${e}' ${c} timed out`),m(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case nf.HTTP_ERROR:const S=g.getStatus();if(ge(un,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const k=A?.error;if(k&&k.status&&k.message){const P=(function(F){const z=F.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(z)>=0?z:ie.UNKNOWN})(k.status);m(new me(P,k.message))}else m(new me(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new me(ie.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ge(un,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ge(un,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,i,15)}))}T_(e,t,i){const a=c0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const g=l.join("");ge(un,`Creating RPC '${e}' stream ${a}: ${g}`,d);const v=c.createWebChannel(g,d);this.I_(v);let b=!1,S=!1;const A=new x9({Ho:k=>{S?ge(un,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(b||(ge(un,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),ge(un,`RPC '${e}' stream ${a} sending:`,k),v.send(k))},Jo:()=>v.close()});return Eu(v,wu.EventType.OPEN,(()=>{S||(ge(un,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),Eu(v,wu.EventType.CLOSE,(()=>{S||(S=!0,ge(un,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(v))})),Eu(v,wu.EventType.ERROR,(k=>{S||(S=!0,Yo(un,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),A.o_(new me(ie.UNAVAILABLE,"The operation could not be completed")))})),Eu(v,wu.EventType.MESSAGE,(k=>{if(!S){const P=k.data[0];Ze(!!P,16349);const M=P,F=M?.error||M[0]?.error;if(F){ge(un,`RPC '${e}' stream ${a} received error:`,F);const z=F.status;let J=(function(ue){const C=Lt[ue];if(C!==void 0)return x2(C)})(z),le=F.message;J===void 0&&(J=ie.INTERNAL,le="Unknown error status: "+z+" with message "+F.message),S=!0,A.o_(new me(J,le)),v.close()}else ge(un,`RPC '${e}' stream ${a} received:`,P),A.__(P)}})),zo.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return HO()}}function A9(r){return new zo(r)}function Lv(){return typeof document<"u"?document:null}function vd(r){return new I5(r,!0)}zo.c_=!1;class U2{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const eC="PersistentStream";class q2{constructor(e,t,i,a,l,c,d,m){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new U2(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Ui(t.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new me(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(eC,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ge(eC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class w9 extends q2{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=D5(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ce.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?ni(c.readTime):Ce.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=l0(this.serializer),t.addTarget=(function(l,c){let d;const m=c.target;if(d=r0(m)?{documents:k5(l,m)}:{query:V5(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=R2(l,c.resumeToken);const g=s0(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ce.min())>0){d.readTime=Nf(l,c.snapshotVersion.toTimestamp());const g=s0(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const i=L5(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=l0(this.serializer),t.removeTarget=e,this.K_(t)}}class R9 extends q2{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=j5(e.writeResults,e.commitTime),i=ni(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=l0(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>M5(this.serializer,i)))};this.K_(t)}}class C9{}class I9 extends C9{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,a0(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ie.UNKNOWN,l.toString())}))}jo(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,a0(t,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function N9(r,e,t,i){return new I9(r,e,t,i)}class O9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ui(t),this.aa=!1):ge("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ka="RemoteStore";class D9{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{Fa(this)&&(ge(ka,"Restarting streams for network reachability change."),await(async function(m){const g=Oe(m);g.Ea.add(4),await dc(g),g.Va.set("Unknown"),g.Ea.delete(4),await _d(g)})(this))}))})),this.Va=new O9(i,a)}}async function _d(r){if(Fa(r))for(const e of r.Ra)await e(!0)}async function dc(r){for(const e of r.Ra)await e(!1)}function z2(r,e){const t=Oe(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Cb(t)?Rb(t):dl(t).O_()&&wb(t,e))}function Ab(r,e){const t=Oe(r),i=dl(t);t.Ia.delete(e),i.O_()&&B2(t,e),t.Ia.size===0&&(i.O_()?i.L_():Fa(t)&&t.Va.set("Unknown"))}function wb(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}dl(r).Z_(e)}function B2(r,e){r.da.$e(e),dl(r).X_(e)}function Rb(r){r.da=new A5({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),dl(r).start(),r.Va.ua()}function Cb(r){return Fa(r)&&!dl(r).x_()&&r.Ia.size>0}function Fa(r){return Oe(r).Ea.size===0}function F2(r){r.da=void 0}async function M9(r){r.Va.set("Online")}async function j9(r){r.Ia.forEach(((e,t)=>{wb(r,e)}))}async function k9(r,e){F2(r),Cb(r)?(r.Va.ha(e),Rb(r)):r.Va.set("Unknown")}async function V9(r,e,t){if(r.Va.set("Online"),e instanceof w2&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(r,e)}catch(i){ge(ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Df(r,i)}else if(e instanceof of?r.da.Xe(e):e instanceof A2?r.da.st(e):r.da.tt(e),!t.isEqual(Ce.min()))try{const i=await L2(r.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(an.EMPTY_BYTE_STRING,v.snapshotVersion)),B2(l,m);const b=new Rs(v.target,m,g,v.sequenceNumber);wb(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(i){ge(ka,"Failed to raise snapshot:",i),await Df(r,i)}}async function Df(r,e,t){if(!hl(e))throw e;r.Ea.add(1),await dc(r),r.Va.set("Offline"),t||(t=()=>L2(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ge(ka,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await _d(r)}))}function H2(r,e){return e().catch((t=>Df(r,t,e)))}async function bd(r){const e=Oe(r),t=Ps(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cb;for(;P9(e);)try{const a=await y9(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,L9(e,a)}catch(a){await Df(e,a)}G2(e)&&K2(e)}function P9(r){return Fa(r)&&r.Ta.length<10}function L9(r,e){r.Ta.push(e);const t=Ps(r);t.O_()&&t.Y_&&t.ea(e.mutations)}function G2(r){return Fa(r)&&!Ps(r).x_()&&r.Ta.length>0}function K2(r){Ps(r).start()}async function U9(r){Ps(r).ra()}async function q9(r){const e=Ps(r);for(const t of r.Ta)e.ea(t.mutations)}async function z9(r,e,t){const i=r.Ta.shift(),a=vb.from(i,e,t);await H2(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await bd(r)}async function B9(r,e){e&&Ps(r).Y_&&await(async function(i,a){if((function(c){return T5(c)&&c!==ie.ABORTED})(a.code)){const l=i.Ta.shift();Ps(i).B_(),await H2(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await bd(i)}})(r,e),G2(r)&&K2(r)}async function tC(r,e){const t=Oe(r);t.asyncQueue.verifyOperationInProgress(),ge(ka,"RemoteStore received new credentials");const i=Fa(t);t.Ea.add(3),await dc(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await _d(t)}async function F9(r,e){const t=Oe(r);e?(t.Ea.delete(2),await _d(t)):e||(t.Ea.add(2),await dc(t),t.Va.set("Unknown"))}function dl(r){return r.ma||(r.ma=(function(t,i,a){const l=Oe(t);return l.sa(),new w9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Zo:M9.bind(null,r),Yo:j9.bind(null,r),t_:k9.bind(null,r),J_:V9.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Cb(r)?Rb(r):r.Va.set("Unknown")):(await r.ma.stop(),F2(r))}))),r.ma}function Ps(r){return r.fa||(r.fa=(function(t,i,a){const l=Oe(t);return l.sa(),new R9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:U9.bind(null,r),t_:B9.bind(null,r),ta:q9.bind(null,r),na:z9.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await bd(r)):(await r.fa.stop(),r.Ta.length>0&&(ge(ka,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ib{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Ib(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nb(r,e){if(Ui("AsyncQueue",`${e}: ${r}`),hl(r))return new me(ie.UNAVAILABLE,`${e}: ${r}`);throw r}class Bo{static emptySet(e){return new Bo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Te.comparator(t.key,i.key):(t,i)=>Te.comparator(t.key,i.key),this.keyedMap=Ru(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Bo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class nC{constructor(){this.ga=new vt(Te.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Zo{constructor(e,t,i,a,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Zo(e,t,Bo.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class H9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class G9{constructor(){this.queries=rC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Oe(t),l=a.queries;a.queries=rC(),l.forEach(((c,d)=>{for(const m of d.ba)m.onError(i)}))})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function rC(){return new za((r=>f2(r)),dd)}async function $2(r,e){const t=Oe(r);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new H9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Nb(c,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Ob(t)}async function Y2(r,e){const t=Oe(r),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function K9(r,e){const t=Oe(r);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(i=!0);c.wa=a}}i&&Ob(t)}function $9(r,e,t){const i=Oe(r),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(t);i.queries.delete(e)}function Ob(r){r.Ca.forEach((e=>{e.next()}))}var h0,iC;(iC=h0||(h0={})).Ma="default",iC.Cache="cache";class Q2{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Zo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==h0.Cache}}class X2{constructor(e){this.key=e}}class W2{constructor(e){this.key=e}}class Y9{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Be(),this.mutatedKeys=Be(),this.eu=d2(e),this.tu=new Bo(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new nC,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const S=a.get(v),A=pd(this.query,b)?b:null,k=!!S&&this.mutatedKeys.has(S.key),P=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let M=!1;S&&A?S.data.isEqual(A.data)?k!==P&&(i.track({type:3,doc:A}),M=!0):this.su(S,A)||(i.track({type:2,doc:A}),M=!0,(m&&this.eu(A,m)>0||g&&this.eu(A,g)<0)&&(d=!0)):!S&&A?(i.track({type:0,doc:A}),M=!0):S&&!A&&(i.track({type:1,doc:S}),M=!0,(m||g)&&(d=!0)),M&&(A?(c=c.add(A),l=P?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Ss:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(A,k){const P=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:M})}};return P(A)-P(k)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,g=m!==this.Xa;return this.Xa=m,c.length!==0||g?{snapshot:new Zo(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nC,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Be(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new W2(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new X2(i))})),t}cu(e){this.Za=e.ks,this.Ya=Be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Db="SyncEngine";class Q9{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class X9{constructor(e){this.key=e,this.hu=!1}}class W9{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new za((d=>f2(d)),dd),this.Iu=new Map,this.Eu=new Set,this.Ru=new vt(Te.comparator),this.Au=new Map,this.Vu=new Eb,this.du={},this.mu=new Map,this.fu=Jo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function J9(r,e,t=!0){const i=rD(r);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await J2(i,e,t,!0),a}async function Z9(r,e){const t=rD(r);await J2(t,e,!0,!1)}async function J2(r,e,t,i){const a=await v9(r.localStore,ti(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await ez(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&z2(r.remoteStore,a),d}async function ez(r,e,t,i,a){r.pu=(b,S,A)=>(async function(P,M,F,z){let J=M.view.ru(F);J.Ss&&(J=await XR(P.localStore,M.query,!1).then((({documents:C})=>M.view.ru(C,J))));const le=z&&z.targetChanges.get(M.targetId),de=z&&z.targetMismatches.get(M.targetId)!=null,ue=M.view.applyChanges(J,P.isPrimaryClient,le,de);return aC(P,M.targetId,ue.au),ue.snapshot})(r,b,S,A);const l=await XR(r.localStore,e,!0),c=new Y9(e,l.ks),d=c.ru(l.documents),m=fc.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",a),g=c.applyChanges(d,r.isPrimaryClient,m);aC(r,t,g.au);const v=new Q9(e,t,c);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function tz(r,e,t){const i=Oe(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!dd(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await u0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Ab(i.remoteStore,a.targetId),f0(i,a.targetId)})).catch(cl)):(f0(i,a.targetId),await u0(i.localStore,a.targetId,!0))}async function nz(r,e){const t=Oe(r),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ab(t.remoteStore,i.targetId))}async function rz(r,e,t){const i=cz(r);try{const a=await(function(c,d){const m=Oe(c),g=pt.now(),v=d.reduce(((A,k)=>A.add(k.key)),Be());let b,S;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let k=zi(),P=Be();return m.xs.getEntries(A,v).next((M=>{k=M,k.forEach(((F,z)=>{z.isValidDocument()||(P=P.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,k))).next((M=>{b=M;const F=[];for(const z of d){const J=y5(z,b.get(z.key).overlayedDocument);J!=null&&F.push(new Ba(z.key,J,i2(J.value.mapValue),Ar.exists(!0)))}return m.mutationQueue.addMutationBatch(A,g,F,d)})).next((M=>{S=M;const F=M.applyToLocalDocumentSet(b,P);return m.documentOverlayCache.saveOverlays(A,M.batchId,F)}))})).then((()=>({batchId:S.batchId,changes:m2(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let g=c.du[c.currentUser.toKey()];g||(g=new vt(ze)),g=g.insert(d,m),c.du[c.currentUser.toKey()]=g})(i,a.batchId,t),await pc(i,a.changes),await bd(i.remoteStore)}catch(a){const l=Nb(a,"Failed to persist write");t.reject(l)}}async function Z2(r,e){const t=Oe(r);try{const i=await m9(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(Ze(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ze(c.hu,14607):a.removedDocuments.size>0&&(Ze(c.hu,42227),c.hu=!1))})),await pc(t,i,e)}catch(i){await cl(i)}}function sC(r,e,t){const i=Oe(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Oe(c);m.onlineState=d;let g=!1;m.queries.forEach(((v,b)=>{for(const S of b.ba)S.va(d)&&(g=!0)})),g&&Ob(m)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function iz(r,e,t){const i=Oe(r);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new vt(Te.comparator);c=c.insert(l,fn.newNoDocument(l,Ce.min()));const d=Be().add(l),m=new yd(Ce.min(),new Map,new vt(ze),c,d);await Z2(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(e),Mb(i)}else await u0(i.localStore,e,!1).then((()=>f0(i,e,t))).catch(cl)}async function sz(r,e){const t=Oe(r),i=e.batch.batchId;try{const a=await p9(t.localStore,e);tD(t,i,null),eD(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await pc(t,a)}catch(a){await cl(a)}}async function az(r,e,t){const i=Oe(r);try{const a=await(function(c,d){const m=Oe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next((b=>(Ze(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(g,b)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(i.localStore,e);tD(i,e,t),eD(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await pc(i,a)}catch(a){await cl(a)}}function eD(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function tD(r,e,t){const i=Oe(r);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function f0(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||nD(r,i)}))}function nD(r,e){r.Eu.delete(e.path.canonicalString());const t=r.Ru.get(e);t!==null&&(Ab(r.remoteStore,t),r.Ru=r.Ru.remove(e),r.Au.delete(t),Mb(r))}function aC(r,e,t){for(const i of t)i instanceof X2?(r.Vu.addReference(i.key,e),oz(r,i)):i instanceof W2?(ge(Db,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||nD(r,i.key)):Ae(19791,{wu:i})}function oz(r,e){const t=e.key,i=t.path.canonicalString();r.Ru.get(t)||r.Eu.has(i)||(ge(Db,"New document in limbo: "+t),r.Eu.add(i),Mb(r))}function Mb(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Te(ct.fromString(e)),i=r.fu.next();r.Au.set(i,new X9(t)),r.Ru=r.Ru.insert(t,i),z2(r.remoteStore,new Rs(ti(mb(t.path)),i,"TargetPurposeLimboResolution",cd.ce))}}async function pc(r,e,t){const i=Oe(r),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,m)=>{c.push(i.pu(m,e,t).then((g=>{if((g||t)&&i.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){a.push(g);const v=Sb.Es(m.targetId,g);l.push(v)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(m,g){const v=Oe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>oe.forEach(g,(S=>oe.forEach(S.Ts,(A=>v.persistence.referenceDelegate.addReference(b,S.targetId,A))).next((()=>oe.forEach(S.Is,(A=>v.persistence.referenceDelegate.removeReference(b,S.targetId,A)))))))))}catch(b){if(!hl(b))throw b;ge(xb,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const A=v.vs.get(S),k=A.snapshotVersion,P=A.withLastLimboFreeSnapshotVersion(k);v.vs=v.vs.insert(S,P)}}})(i.localStore,l))}async function lz(r,e){const t=Oe(r);if(!t.currentUser.isEqual(e)){ge(Db,"User change. New user:",e.toKey());const i=await P2(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new me(ie.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await pc(t,i.Ns)}}function uz(r,e){const t=Oe(r),i=t.Au.get(e);if(i&&i.hu)return Be().add(i.key);{let a=Be();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function rD(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iz.bind(null,e),e.Pu.J_=K9.bind(null,e.eventManager),e.Pu.yu=$9.bind(null,e.eventManager),e}function cz(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=az.bind(null,e),e}class Mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return d9(this.persistence,new c9,e.initialUser,this.serializer)}Cu(e){return new V2(Tb.Vi,this.serializer)}Du(e){return new b9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mf.provider={build:()=>new Mf};class hz extends Mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ze(this.persistence.referenceDelegate instanceof Of,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Q5(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new V2((i=>Of.Vi(i,t)),this.serializer)}}class d0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=lz.bind(null,this.syncEngine),await F9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new G9})()}createDatastore(e){const t=vd(e.databaseInfo.databaseId),i=A9(e.databaseInfo);return N9(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,d){return new D9(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>sC(this.syncEngine,t,0)),(function(){return ZR.v()?new ZR:new E9})())}createSyncEngine(e,t){return(function(a,l,c,d,m,g,v){const b=new W9(a,l,c,d,m,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Oe(t);ge(ka,"RemoteStore shutting down."),i.Ea.add(5),await dc(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}d0.provider={build:()=>new d0};class iD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ls="FirestoreClient";class fz{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=ub.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ge(Ls,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ge(Ls,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Nb(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Uv(r,e){r.asyncQueue.verifyOperationInProgress(),ge(Ls,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async a=>{i.isEqual(a)||(await P2(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function oC(r,e){r.asyncQueue.verifyOperationInProgress();const t=await dz(r);ge(Ls,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>tC(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,a)=>tC(e.remoteStore,a))),r._onlineComponents=e}async function dz(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ge(Ls,"Using user provided OfflineComponentProvider");try{await Uv(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Yo("Error using user provided cache. Falling back to memory cache: "+t),await Uv(r,new Mf)}}else ge(Ls,"Using default OfflineComponentProvider"),await Uv(r,new hz(void 0));return r._offlineComponents}async function sD(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ge(Ls,"Using user provided OnlineComponentProvider"),await oC(r,r._uninitializedComponentsProvider._online)):(ge(Ls,"Using default OnlineComponentProvider"),await oC(r,new d0))),r._onlineComponents}function pz(r){return sD(r).then((e=>e.syncEngine))}async function aD(r){const e=await sD(r),t=e.eventManager;return t.onListen=J9.bind(null,e.syncEngine),t.onUnlisten=tz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Z9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=nz.bind(null,e.syncEngine),t}function mz(r,e,t={}){const i=new Mi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const v=new iD({next:S=>{v.Nu(),c.enqueueAndForget((()=>Y2(l,b)));const A=S.docs.has(d);!A&&S.fromCache?g.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&S.fromCache&&m&&m.source==="server"?g.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Q2(mb(d.path),v,{includeMetadataChanges:!0,Ka:!0});return $2(l,b)})(await aD(r),r.asyncQueue,e,t,i))),i.promise}function gz(r,e,t={}){const i=new Mi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const v=new iD({next:S=>{v.Nu(),c.enqueueAndForget((()=>Y2(l,b))),S.fromCache&&m.source==="server"?g.reject(new me(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Q2(d,v,{includeMetadataChanges:!0,Ka:!0});return $2(l,b)})(await aD(r),r.asyncQueue,e,t,i))),i.promise}function yz(r,e){const t=new Mi;return r.asyncQueue.enqueueAndForget((async()=>rz(await pz(r),e,t))),t.promise}function oD(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const vz="ComponentProvider",lC=new Map;function _z(r,e,t,i,a){return new Uq(r,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,oD(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const lD="firestore.googleapis.com",uC=!0;class cC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lD,this.ssl=uC}else this.host=e.host,this.ssl=e.ssl??uC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=k2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$5)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oD(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ed{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new yq;switch(i.type){case"firstParty":return new Eq(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=lC.get(t);i&&(ge(vz,"Removing Datastore"),lC.delete(t),i.terminate())})(this),Promise.resolve()}}function bz(r,e,t,i={}){r=qi(r,Ed);const a=al(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;a&&(eO(`https://${d}`),tO("Firestore",!0)),l.host!==lD&&l.host!==d&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!Oa(m,c)&&(r._setSettings(m),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=hn.MOCK_USER;else{g=BL(i.mockUserToken,r._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new hn(b)}r._authCredentials=new vq(new KO(g,v))}}class Us{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class zt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(cc(t,zt._jsonSchema))return new zt(e,i||null,new Te(ct.fromString(t.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:qt("string",zt._jsonSchemaVersion),referencePath:qt("string")};class Ds extends Us{constructor(e,t,i){super(e,t,mb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Te(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function jb(r,e,...t){if(r=Cn(r),$O("collection","path",e),r instanceof Ed){const i=ct.fromString(e,...t);return SR(i),new Ds(r,null,i)}{if(!(r instanceof zt||r instanceof Ds))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ct.fromString(e,...t));return SR(i),new Ds(r.firestore,null,i)}}function Td(r,e,...t){if(r=Cn(r),arguments.length===1&&(e=ub.newId()),$O("doc","path",e),r instanceof Ed){const i=ct.fromString(e,...t);return TR(i),new zt(r,null,new Te(i))}{if(!(r instanceof zt||r instanceof Ds))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ct.fromString(e,...t));return TR(i),new zt(r.firestore,r instanceof Ds?r.converter:null,new Te(i))}}const hC="AsyncQueue";class fC{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new U2(this,"async_queue_retry"),this._c=()=>{const i=Lv();i&&ge(hC,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Lv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Lv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Mi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!hl(e))throw e;ge(hC,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ui("INTERNAL UNHANDLED ERROR: ",dC(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Ib.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ae(47125,{Pc:dC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function dC(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class pl extends Ed{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new fC,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fC(e),this._firestoreClient=void 0,await e}}}function Ez(r,e){const t=typeof r=="object"?r:sO(),i=typeof r=="string"?r:xf,a=X0(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=qL("firestore");l&&bz(a,...l)}return a}function kb(r){if(r._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Tz(r),r._firestoreClient}function Tz(r){const e=r._freezeSettings(),t=_z(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new fz(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(r._componentsProvider))}class lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lr(an.fromBase64String(e))}catch(t){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new lr(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cc(e,lr._jsonSchema))return lr.fromBase64String(e.bytes)}}lr._jsonSchemaVersion="firestore/bytes/1.0",lr._jsonSchema={type:qt("string",lr._jsonSchemaVersion),bytes:qt("string")};class uD{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cD{constructor(e){this._methodName=e}}class ri{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(cc(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:qt("string",ri._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};class wr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cc(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new wr(e.vectorValues);throw new me(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:qt("string",wr._jsonSchemaVersion),vectorValues:qt("object")};const Sz=/^__.*__$/;class xz{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new hc(e,this.data,t,this.fieldTransforms)}}function hD(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:r})}}class Vb{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Vb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return jf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(hD(this.dataSource)&&Sz.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Az{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||vd(e)}createContext(e,t,i,a=!1){return new Vb({dataSource:e,methodName:t,targetDoc:i,path:sn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pb(r){const e=r._freezeSettings(),t=vd(r._databaseId);return new Az(r._databaseId,!!e.ignoreUndefinedProperties,t)}function fD(r,e,t,i,a,l={}){const c=r.createContext(l.merge||l.mergeFields?2:0,e,t,a);mD("Data must be an object, but it was:",c,i);const d=dD(i,c);let m,g;if(l.merge)m=new Sr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const S=Sd(e,b,t);if(!c.contains(S))throw new me(ie.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Iz(v,S)||v.push(S)}m=new Sr(v),g=c.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,g=c.fieldTransforms;return new xz(new or(d),m,g)}function wz(r,e,t,i=!1){return Lb(t,r.createContext(i?4:3,e))}function Lb(r,e){if(pD(r=Cn(r)))return mD("Unsupported field value:",e,r),dD(r,e);if(r instanceof cD)return(function(i,a){if(!hD(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let m=Lb(d,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(r,e)}return(function(i,a){if((i=Cn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return h5(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=pt.fromDate(i);return{timestampValue:Nf(a.serializer,l)}}if(i instanceof pt){const l=new pt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nf(a.serializer,l)}}if(i instanceof ri)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof lr)return{bytesValue:R2(a.serializer,i._byteString)};if(i instanceof zt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:bb(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof wr)return(function(c,d){const m=c instanceof wr?c.toArray():c;return{mapValue:{fields:{[n2]:{stringValue:r2},[Af]:{arrayValue:{values:m.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return gb(d.serializer,v)}))}}}}}})(i,a);if(j2(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${ud(i)}`)})(r,e)}function dD(r,e){const t={};return XO(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qa(r,((i,a)=>{const l=Lb(a,e.childContextForField(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function pD(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof pt||r instanceof ri||r instanceof lr||r instanceof zt||r instanceof cD||r instanceof wr||j2(r))}function mD(r,e,t){if(!pD(t)||!YO(t)){const i=ud(t);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function Sd(r,e,t){if((e=Cn(e))instanceof uD)return e._internalPath;if(typeof e=="string")return Cz(r,e);throw jf("Field path arguments must be of type string or ",r,!1,void 0,t)}const Rz=new RegExp("[~\\*/\\[\\]]");function Cz(r,e,t){if(e.search(Rz)>=0)throw jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new uD(...e.split("."))._internalPath}catch{throw jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function jf(r,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new me(ie.INVALID_ARGUMENT,d+r+m)}function Iz(r,e){return r.some((t=>t.isEqual(e)))}class Nz{convertValue(e,t="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return qa(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Af].arrayValue?.values?.map((i=>Rt(i.doubleValue)));return new wr(t)}convertGeoPoint(e){return new ri(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=fd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ku(e));default:return null}}convertTimestamp(e){const t=js(e);return new pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ct.fromString(e);Ze(M2(i),9688,{name:e});const a=new $u(i.get(1),i.get(3)),l=new Te(i.popFirst(5));return a.isEqual(t)||Ui(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class gD extends Nz{constructor(e){super(),this.firestore=e}convertBytes(e){return new lr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,t)}}const pC="@firebase/firestore",mC="4.10.0";class yD{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Oz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Sd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Oz extends yD{data(){return super.data()}}function Dz(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ub{}class qb extends Ub{}function zb(r,e,...t){let i=[];e instanceof Ub&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((m=>m instanceof Fb)).length,d=l.filter((m=>m instanceof Bb)).length;if(c>1||c>0&&d>0)throw new me(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)r=a._apply(r);return r}class Bb extends qb{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Bb(e,t,i)}_apply(e){const t=this._parse(e);return vD(e._query,t),new Us(e.firestore,e.converter,i0(e._query,t))}_parse(e){const t=Pb(e.firestore);return(function(l,c,d,m,g,v,b){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new me(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){yC(b,v);const k=[];for(const P of b)k.push(gC(m,l,P));S={arrayValue:{values:k}}}else S=gC(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||yC(b,v),S=wz(d,c,b,v==="in"||v==="not-in");return Ut.create(g,v,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Fb extends Ub{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Fb(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)vD(c,m),c=i0(c,m)})(e._query,t),new Us(e.firestore,e.converter,i0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hb extends qb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Hb(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new me(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new me(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qu(l,c)})(e._query,this._field,this._direction);return new Us(e.firestore,e.converter,r5(e._query,t))}}function Gb(r,e="asc"){const t=e,i=Sd("orderBy",r);return Hb._create(i,t)}class Kb extends qb{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Kb(e,t,i)}_apply(e){return new Us(e.firestore,e.converter,Rf(e._query,this._limit,this._limitType))}}function $b(r){return Cq("limit",r),Kb._create("limit",r,"F")}function gC(r,e,t){if(typeof(t=Cn(t))=="string"){if(t==="")throw new me(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h2(e)&&t.indexOf("/")!==-1)throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ct.fromString(t));if(!Te.isDocumentKey(i))throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return OR(r,new Te(i))}if(t instanceof zt)return OR(r,t._key);throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ud(t)}.`)}function yC(r,e){if(!Array.isArray(r)||r.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vD(r,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function _D(r,e,t){let i;return i=r?r.toFirestore(e):e,i}class Iu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ia extends yD{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Sd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ia._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:qt("string",Ia._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class lf extends Ia{data(e={}){return super.data(e)}}class Fo{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Iu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new lf(this._firestore,this._userDataWriter,i.key,i,new Iu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new lf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Iu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new lf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Iu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:Mz(d.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ub.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Mz(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:r})}}Fo._jsonSchemaVersion="firestore/querySnapshot/1.0",Fo._jsonSchema={type:qt("string",Fo._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};function bD(r){r=qi(r,zt);const e=qi(r.firestore,pl),t=kb(e);return mz(t,r._key).then((i=>kz(e,r,i)))}function Yb(r){r=qi(r,Us);const e=qi(r.firestore,pl),t=kb(e),i=new gD(e);return Dz(r._query),gz(t,r._query).then((a=>new Fo(e,i,r,a)))}function jz(r,e,t){r=qi(r,zt);const i=qi(r.firestore,pl),a=_D(r.converter,e),l=Pb(i);return Qb(i,[fD(l,"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Ar.none())])}function ED(r){return Qb(qi(r.firestore,pl),[new yb(r._key,Ar.none())])}function TD(r,e){const t=qi(r.firestore,pl),i=Td(r),a=_D(r.converter,e),l=Pb(r.firestore);return Qb(t,[fD(l,"addDoc",i._key,a,r.converter!==null,{}).toMutation(i._key,Ar.exists(!1))]).then((()=>i))}function Qb(r,e){const t=kb(r);return yz(t,e)}function kz(r,e,t){const i=t.docs.get(e._key),a=new gD(r);return new Ia(r,a,e._key,i,new Iu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){gq(ol),Ko(new Da("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new pl(new _q(i.getProvider("auth-internal")),new Tq(c,i.getProvider("app-check-internal")),qq(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Ns(pC,mC,e),Ns(pC,mC,"esm2020")})();const Vz={apiKey:"AIzaSyDXya7ukJ5P7pR2MVidcqxrWYWhK-VP8tY",authDomain:"completionist-state.firebaseapp.com",projectId:"completionist-state",storageBucket:"completionist-state.firebasestorage.app",messagingSenderId:"319558268180",appId:"1:319558268180:web:332ac473de29adf0b0fe01",measurementId:"G-78MMCXL994"},SD=iO(Vz),Rr=fq(SD),xD=new Ci,el=Ez(SD),AD=({onAuthChange:r})=>{const[e,t]=B.useState(null),[i,a]=B.useState(!0);B.useEffect(()=>{const d=sb(Rr,m=>{t(m),a(!1),r&&r(m)});return()=>d()},[r]);const l=async()=>{try{await PO(Rr,xD),window.location.reload()}catch(d){console.error("Error signing in:",d)}},c=async()=>{try{await nU(Rr),window.location.reload()}catch(d){console.error("Error signing out:",d)}};return i?y.jsx(Vi,{className:"text-gray-400"}):e?y.jsxs("button",{onClick:c,className:"flex items-center w-full px-2 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors rounded-md",title:`Sign out (${e.email})`,children:[y.jsx(eN,{className:"mr-2 text-red-500 text-xl"}),"Sign Out"]}):y.jsxs("button",{onClick:l,className:"flex items-center w-full px-2 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors rounded-md",title:"Sign in with Google",children:[y.jsx(ZI,{className:"mr-2 text-gray-400 text-xl"}),"Sign in with Google"]})};AD.propTypes={onAuthChange:U.func};const Na=25,vC=4e5,Pz=60*1e3;let Uu=0,p0=null;const Lz=()=>Uu,_C=r=>r?r.gameConfig&&Object.keys(r.gameConfig).length>0||r.todoItems&&Object.keys(r.todoItems).length>0:!1,Uz=async()=>{const r=localStorage.getItem("state");let e;try{e=(r?JSON.parse(r):void 0)||void 0}catch(t){console.error("Error parsing localStorage state:",t),localStorage.removeItem("state"),localStorage.removeItem("state_cloud_synced")}try{const t=Rr.currentUser;if(!t)return e;const i=Td(el,"users",t.uid,"data","state"),a=await bD(i);if(a.exists()){const l=a.data().state||void 0,c=a.data().updatedAt;return _C(e)&&_C(l)?localStorage.getItem("state_cloud_synced")==="true"?l:{_conflict:!0,cloudState:l,localState:e,cloudUpdated:c?.toDate?.()||c}:l}else return e!==void 0?(await Ri(e),e):void 0}catch(t){return console.error("Error loading state:",t),t.code==="permission-denied"?{_error:!0,errorType:"permission-denied",errorMessage:"Failed to load cloud data due to insufficient permissions. Check Firestore security rules.",localState:e}:void 0}},Ri=async r=>{if(r===void 0)return;const e=JSON.stringify(r);localStorage.setItem("state",e);try{const t=Rr.currentUser;if(!t){localStorage.removeItem("state_cloud_synced");return}const i=new Blob([e]).size;if(i>vC){console.error(`State too large: ${i} bytes (max ${vC})`),alert(`Your data is too large (${Math.round(i/1024)}KB). Please reduce todo items or checked items.`);return}const a=new Date,l=Td(el,"users",t.uid,"data","state");await jz(l,{state:r,updatedAt:a}),localStorage.setItem("state_cloud_synced","true");const c=a.getTime()-Uu,d=e;if(p0!==d&&(Uu===0||c>=Pz)){Uu=a.getTime(),p0=d;const v=jb(el,"users",t.uid,"data","state","history");await TD(v,{state:r,savedAt:a});const b=zb(v,Gb("savedAt","desc"),$b(Na+1)),S=await Yb(b);if(S.size>Na){const A=[];S.docs.forEach((k,P)=>{P>=Na&&A.push(ED(k.ref))}),await Promise.all(A)}}}catch(t){console.error("âŒ Error saving state to cloud:",t),console.error("Error code:",t.code),console.error("Error message:",t.message),t.code==="permission-denied"&&(console.error("ðŸš« PERMISSION DENIED during save"),alert("Failed to save to cloud due to permission error. Your data is saved locally."))}},qz=async()=>{try{const r=Rr.currentUser;if(!r)return[];const e=jb(el,"users",r.uid,"data","state","history"),t=zb(e,Gb("savedAt","desc"),$b(Na));return(await Yb(t)).docs.map(a=>({id:a.id,state:a.data().state,savedAt:a.data().savedAt?.toDate?.()||a.data().savedAt}))}catch(r){return console.error("Error loading version history:",r),[]}},zz=async()=>{try{const r=Rr.currentUser;if(!r)return console.error("âŒ ForceSaveToHistory - No user authenticated"),!1;const e=localStorage.getItem("state");if(!e)return console.error("âŒ ForceSaveToHistory - No state in localStorage"),!1;const t=JSON.parse(e),i=new Date;console.log("ðŸ’¾ ForceSaveToHistory - Saving to history...");const a=jb(el,"users",r.uid,"data","state","history");await TD(a,{state:t,savedAt:i}),Uu=i.getTime(),p0=e,console.log("âœ… ForceSaveToHistory - Successfully saved to history");const l=zb(a,Gb("savedAt","desc"),$b(Na+1)),c=await Yb(l);if(c.size>Na){const d=[];c.docs.forEach((m,g)=>{g>=Na&&d.push(ED(m.ref))}),await Promise.all(d)}return!0}catch(r){return console.error("âŒ Error force saving to history:",r),console.error("Error code:",r.code),console.error("Error message:",r.message),!1}},Bz=async r=>{try{const e=Rr.currentUser;if(!e)return console.error("âŒ RestoreVersion - No user authenticated"),null;const t=Td(el,"users",e.uid,"data","state","history",r),i=await bD(t);if(i.exists()){const a=i.data().state;return await Ri(a),a}return console.error("âŒ RestoreVersion - Version document not found"),null}catch(e){return console.error("âŒ Error restoring version:",e),console.error("Error code:",e.code),console.error("Error message:",e.message),null}},wD=({open:r,onClose:e,onRestore:t})=>{const[i,a]=B.useState([]),[l,c]=B.useState(!0),[d,m]=B.useState(null);B.useEffect(()=>{r&&g()},[r]);const g=async()=>{c(!0);const A=await qz();a(A),c(!1)},v=async A=>{m(A);const k=await Bz(A);k&&t&&t(k),m(null),e(),window.location.reload()},b=A=>A?new Date(A).toLocaleString():"Unknown",S=A=>{let k=0;A.gameConfig&&Object.values(A.gameConfig).forEach(M=>{typeof M=="object"&&Object.values(M).forEach(F=>{typeof F=="object"&&(k+=Object.keys(F).length)})});const P=A.todoItems?Object.keys(A.todoItems).length:0;return`${k} items, ${P} todo`};return r?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-11/12 md:w-3/4 overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh] text-left",children:[y.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-gray-100 rounded-lg text-gray-600",children:y.jsx(N0,{className:"text-2xl"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Version History (Last 25)"})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(dn,{className:"text-gray-400 text-2xl"})})]}),y.jsx("div",{className:"grow overflow-y-auto p-6",children:l?y.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[y.jsx(Vi,{className:"mb-4"}),y.jsx("p",{children:"Loading versions..."})]}):i.length===0?y.jsx("div",{className:"text-center py-12 text-gray-500",children:y.jsx("p",{children:"No version history available yet. Versions are saved when you make changes while signed in."})}):y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left text-lg",children:[y.jsx("thead",{className:"text-base text-gray-500 uppercase tracking-wider bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-2 font-semibold",children:"Date & Time"}),y.jsx("th",{className:"px-4 py-2 font-semibold",children:"Summary"}),y.jsx("th",{className:"px-4 py-2 font-semibold text-right",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-100",children:i.map((A,k)=>y.jsxs("tr",{className:k===0?"bg-green-50/30":"",children:[y.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center gap-2",children:[k===0&&y.jsx(Rn,{className:"text-green-500"}),y.jsx("span",{className:k===0?"font-bold text-gray-900":"text-gray-700",children:b(A.savedAt)}),k===0&&y.jsx("span",{className:"text-base text-green-500 font-medium",children:"(Current)"})]})}),y.jsx("td",{className:"px-4 py-3 text-gray-500",children:S(A.state)}),y.jsx("td",{className:"px-4 py-3 text-right",children:k===0?y.jsx("span",{className:"text-gray-400 italic",children:"Current Version"}):y.jsxs("button",{disabled:d!==null,onClick:()=>v(A.id),className:"inline-flex items-center gap-1.5 px-3 py-1 bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50 transition-colors shadow-sm text-base font-bold",children:[d===A.id?y.jsx(Vi,{}):y.jsx(nN,{}),"Restore"]})})]},A.id))})]})})}),y.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsx("button",{onClick:e,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 text-gray-700 font-bold transition-colors shadow-sm text-lg",children:"Close"})})]})}):null};wD.propTypes={open:U.bool.isRequired,onClose:U.func.isRequired,onRestore:U.func};let RD=class extends Xt.Component{constructor(e){super(e),this.state={isCloudUser:!1,showVersionHistory:!1,isSavingHistory:!1,settingsOpened:!1},this.handleFileUploadClick=this.handleFileUploadClick.bind(this),this.handleFileUpload=this.handleFileUpload.bind(this),this.handleVersionHistoryOpen=this.handleVersionHistoryOpen.bind(this),this.handleVersionHistoryClose=this.handleVersionHistoryClose.bind(this),this.handleForceSaveToHistory=this.handleForceSaveToHistory.bind(this),this.settingsRef=Xt.createRef(),this.fileInput=Xt.createRef(),this.handleClickOutside=this.handleClickOutside.bind(this)}componentDidMount(){this.unsubscribe=sb(Rr,e=>{this.setState({isCloudUser:!!e})}),document.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){this.unsubscribe&&this.unsubscribe(),document.removeEventListener("mousedown",this.handleClickOutside)}handleClickOutside(e){this.settingsRef.current&&!this.settingsRef.current.contains(e.target)&&this.setState({settingsOpened:!1})}handleVisibilityToggle(){return()=>{const e=this.props.visibilityFilter===rn.SHOW_ALL?rn.SHOW_ACTIVE:rn.SHOW_ALL;this.props.setVisibilityFilter(e)}}handleSearchFilterChange(){return e=>{this.props.setSearchValue(e.target.value)}}handleClearFilter(){return()=>{this.props.setSearchValue("")}}handleFileUploadClick(e){e.preventDefault(),this.setState({settingsOpened:!1}),this.fileInput.current.value&&(this.fileInput.current.value=null),this.fileInput.current.click()}handleFileUpload(e){if(e.preventDefault(),!this.fileInput.current.files||!this.fileInput.current.files.length||this.fileInput.current.files.length!==1)return;const t=this.fileInput.current.files[0];if(t.type!=="application/json"||t.size>200*1024)return;const i=new FileReader;i.onload=a=>{const l=a.target.result,c=JSON.parse(l);return this.props.uploadState(c)},i.readAsText(t)}handleVersionHistoryOpen(){this.setState({showVersionHistory:!0,settingsOpened:!1})}handleVersionHistoryClose(){this.setState({showVersionHistory:!1})}async handleSignIn(){try{await PO(Rr,xD),window.location.reload()}catch(e){console.error("Error signing in:",e)}}async handleForceSaveToHistory(){this.setState({isSavingHistory:!0});const e=await zz();this.setState({isSavingHistory:!1}),e?this.forceUpdate():alert("Failed to save to history. Check console for details.")}getCloudTooltip(){const e=Lz();return e===0?"Click to save current state to history":`Click to save current state to history
Last saved: ${new Date(e).toLocaleString()}`}render(){return y.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 ml-auto",children:[y.jsxs("div",{className:"relative flex items-center group text-gray-400 mr-4",children:[y.jsx("input",{type:"text",placeholder:"Filter...",value:this.props.searchFilter,onChange:this.handleSearchFilterChange(),className:"pl-3 pr-10 py-1 w-32 sm:w-48 text-sm bg-transparent focus:outline-none transition-all"}),y.jsx(XI,{className:"transition-colors text-lg pointer-events-none roup-focus-within:text-gray-900"}),this.props.searchFilter&&y.jsx("button",{onClick:this.handleClearFilter(),className:"absolute right-7 top-1/2 -translate-y-1/2 p-0.5 hover:bg-gray-200 rounded-full transition-colors",children:y.jsx(dn,{className:"text-red-600 text-xs"})})]}),y.jsx("button",{onClick:this.handleVisibilityToggle(),title:"Hide Marked",className:`p-1 cursor-pointer transition-colors ${this.props.visibilityFilter!==rn.SHOW_ALL?"text-red-600":"text-gray-700 hover:text-gray-900"}`,children:y.jsx(df,{className:"text-lg"})}),y.jsx(zu,{to:"/info",title:"Info",className:"p-1 text-gray-700 hover:text-gray-900 transition-colors [&.active]:text-black",children:y.jsx(zf,{className:"text-lg"})}),y.jsx("button",{onClick:this.state.isCloudUser?()=>this.handleForceSaveToHistory():()=>this.handleSignIn(),title:this.state.isCloudUser?this.getCloudTooltip():"Sign in with Google",className:`p-1 cursor-pointer transition-all ${this.state.isCloudUser?"text-sky-700 hover:opacity-80":"text-gray-400 hover:text-gray-600"}`,children:y.jsx(Ou,{className:`text-lg ${this.state.isSavingHistory?"animate-pulse":""}`})}),y.jsxs("div",{className:"relative",ref:this.settingsRef,children:[y.jsx("button",{onClick:()=>this.setState(e=>({settingsOpened:!e.settingsOpened})),className:"p-1 text-gray-700 hover:text-gray-900 transition-colors cursor-pointer",children:y.jsx(qf,{className:"text-lg"})}),this.state.settingsOpened&&y.jsxs("div",{className:"absolute right-0 mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[y.jsx("div",{className:"px-3 py-1.5 text-base font-semibold text-gray-500 uppercase tracking-wider",children:"Settings"}),y.jsxs("button",{onClick:()=>{this.props.downloadState(),this.setState({settingsOpened:!1})},className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(WI,{className:"mr-2 text-gray-400 text-xl"}),"Download state"]}),y.jsxs("button",{onClick:this.handleFileUploadClick,className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(JI,{className:"mr-2 text-gray-400 text-xl"}),"Upload state"]}),y.jsx("input",{type:"file",ref:this.fileInput,hidden:!0,onChange:this.handleFileUpload}),this.state.isCloudUser&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"border-t border-gray-100 my-1"}),y.jsxs("button",{onClick:()=>this.handleVersionHistoryOpen(),className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(N0,{className:"mr-2 text-gray-400 text-xl"}),"Version History"]})]}),y.jsx("div",{className:"border-t border-gray-100 my-1"}),y.jsx("div",{className:"px-2 py-1",children:y.jsx(AD,{})})]})]}),y.jsx(wD,{open:this.state.showVersionHistory,onClose:this.handleVersionHistoryClose})]})}};RD.propTypes={downloadState:U.func.isRequired,uploadState:U.func.isRequired,setVisibilityFilter:U.func.isRequired,visibilityFilter:U.string.isRequired,setSearchValue:U.func.isRequired,searchFilter:U.string.isRequired};var uf={exports:{}},Fz=uf.exports,bC;function Hz(){return bC||(bC=1,(function(r,e){(function(t,i){i()})(Fz,function(){function t(g,v){return typeof v>"u"?v={autoBom:!1}:typeof v!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),v={autoBom:!v}),v.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function i(g,v,b){var S=new XMLHttpRequest;S.open("GET",g),S.responseType="blob",S.onload=function(){m(S.response,v,b)},S.onerror=function(){console.error("could not download file")},S.send()}function a(g){var v=new XMLHttpRequest;v.open("HEAD",g,!1);try{v.send()}catch{}return 200<=v.status&&299>=v.status}function l(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(v)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ws=="object"&&ws.global===ws?ws:void 0,d=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),m=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(g,v,b){var S=c.URL||c.webkitURL,A=document.createElement("a");v=v||g.name||"download",A.download=v,A.rel="noopener",typeof g=="string"?(A.href=g,A.origin===location.origin?l(A):a(A.href)?i(g,v,b):l(A,A.target="_blank")):(A.href=S.createObjectURL(g),setTimeout(function(){S.revokeObjectURL(A.href)},4e4),setTimeout(function(){l(A)},0))}:"msSaveOrOpenBlob"in navigator?function(g,v,b){if(v=v||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(t(g,b),v);else if(a(g))i(g,v,b);else{var S=document.createElement("a");S.href=g,S.target="_blank",setTimeout(function(){l(S)})}}:function(g,v,b,S){if(S=S||open("","_blank"),S&&(S.document.title=S.document.body.innerText="downloading..."),typeof g=="string")return i(g,v,b);var A=g.type==="application/octet-stream",k=/constructor/i.test(c.HTMLElement)||c.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||A&&k||d)&&typeof FileReader<"u"){var M=new FileReader;M.onloadend=function(){var J=M.result;J=P?J:J.replace(/^data:[^;]*;/,"data:attachment/file;"),S?S.location.href=J:location=J,S=null},M.readAsDataURL(g)}else{var F=c.URL||c.webkitURL,z=F.createObjectURL(g);S?S.location=z:location.href=z,S=null,setTimeout(function(){F.revokeObjectURL(z)},4e4)}});c.saveAs=m.saveAs=m,r.exports=m})})(uf)),uf.exports}var Gz=Hz();const CD=Bt(Gz),Kz=r=>({visibilityFilter:r.visibilityFilter,searchFilter:r.searchFilter,gameConfig:r.gameConfig,fullState:r}),$z=r=>({uploadState:e=>r(AP(e)),setVisibilityFilter:e=>r(SP(e)),setSearchValue:e=>r(TP(e))}),Yz=(r,e,t)=>({...t,visibilityFilter:r.visibilityFilter,searchFilter:r.searchFilter,gameConfig:r.gameConfig,...e,downloadState:()=>{const i=new Blob([JSON.stringify(r.fullState,null,2)],{type:"text/json;charset=utf-8"});CD.saveAs(i,"state.json")}}),Qz=nP(Kz,$z,Yz)(RD),ID=({configs:r,children:e})=>{const[t,i]=B.useState(!1),a=B.useRef(null),l=Bi();B.useEffect(()=>{const g=v=>{a.current&&!a.current.contains(v.target)&&t&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[t]);const c=()=>{i(!t)},d=r.find(g=>l.pathname.startsWith(`/${g.name}`)),m=d?d.title:"Select Game";return y.jsxs("div",{className:"min-h-screen bg-white",children:[y.jsx("header",{className:"sticky top-0 z-40 w-full bg-white border-b border-gray-200",children:y.jsxs("div",{className:"px-3 h-11 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:c,className:"p-1 hover:bg-gray-100 rounded-md transition-colors text-gray-500",title:"Menu",children:y.jsx(QI,{className:"text-lg"})}),y.jsx("span",{className:"text-gray-900 font-bold text-lg truncate",children:m})]}),y.jsx("div",{className:"flex items-center",children:y.jsx(Qz,{})})]})}),y.jsx("div",{className:`fixed inset-0 bg-black/20 backdrop-blur-[1px] z-[60] duration-300 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>i(!1)}),y.jsx("div",{ref:a,className:`fixed inset-y-0 left-0 w-64 bg-white shadow-2xl z-[70] transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"-translate-x-full"}`,children:y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsxs("div",{className:"px-4 py-4 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("span",{className:"font-bold text-xl text-gray-900",children:"Completionist"}),y.jsx("button",{onClick:()=>i(!1),className:"p-1 hover:bg-gray-100 rounded-md transition-colors text-gray-400 hover:text-gray-600",children:y.jsx(dn,{className:"text-xl"})})]}),y.jsxs("div",{className:"grow overflow-y-auto py-2",children:[y.jsx("div",{className:"px-4 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest border-b border-gray-50 mb-1",children:"Select Game"}),r.map(g=>y.jsx(zu,{to:`/${g.name}`,onClick:()=>i(!1),className:"flex items-center px-4 py-2.5 text-base text-gray-700 hover:bg-gray-50 transition-colors [&.active]:bg-gray-100 [&.active]:text-black [&.active]:font-bold border-l-4 border-transparent [&.active]:border-black",children:g.title},g.name))]}),y.jsx("div",{className:"py-2 border-t border-gray-100",children:y.jsxs(zu,{to:"/info",onClick:()=>i(!1),className:"flex items-center px-4 py-2.5 text-base text-gray-700 hover:bg-gray-50 transition-colors [&.active]:bg-gray-100 [&.active]:text-black [&.active]:font-bold border-l-4 border-transparent [&.active]:border-black",children:[y.jsx(zf,{className:"mr-2 text-xl"}),"Info / Credits"]})})]})}),y.jsx("main",{className:"max-w-7xl mx-auto px-2",children:e})]})};ID.propTypes={children:U.node,configs:U.array.isRequired};const kf=({configs:r})=>{const e=r[0]?.name;return y.jsx(Fk,{children:y.jsx(ID,{configs:r,children:y.jsxs(MI,{children:[y.jsx(Sa,{path:"/info",element:y.jsx(OL,{})}),y.jsx(Sa,{path:"/:gameName/*",element:y.jsx($N,{configs:r})}),y.jsx(Sa,{path:"/",element:y.jsx(V_,{to:`/${e}`,replace:!0})})]})})})};kf.propTypes={configs:U.arrayOf(U.shape({name:U.string.isRequired,title:U.string.isRequired}))};var qv={exports:{}},Tu={},zv={exports:{}},Bv={};var EC;function Xz(){return EC||(EC=1,(function(r){function e(Z,he){var ee=Z.length;Z.push(he);e:for(;0<ee;){var ae=ee-1>>>1,Se=Z[ae];if(0<a(Se,he))Z[ae]=he,Z[ee]=Se,ee=ae;else break e}}function t(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var he=Z[0],ee=Z.pop();if(ee!==he){Z[0]=ee;e:for(var ae=0,Se=Z.length,D=Se>>>1;ae<D;){var X=2*(ae+1)-1,re=Z[X],ce=X+1,fe=Z[ce];if(0>a(re,ee))ce<Se&&0>a(fe,re)?(Z[ae]=fe,Z[ce]=ee,ae=ce):(Z[ae]=re,Z[X]=ee,ae=X);else if(ce<Se&&0>a(fe,ee))Z[ae]=fe,Z[ce]=ee,ae=ce;else break e}}return he}function a(Z,he){var ee=Z.sortIndex-he.sortIndex;return ee!==0?ee:Z.id-he.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,b=null,S=3,A=!1,k=!1,P=!1,M=!1,F=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function le(Z){for(var he=t(g);he!==null;){if(he.callback===null)i(g);else if(he.startTime<=Z)i(g),he.sortIndex=he.expirationTime,e(m,he);else break;he=t(g)}}function de(Z){if(P=!1,le(Z),!k)if(t(m)!==null)k=!0,ue||(ue=!0,L());else{var he=t(g);he!==null&&Ie(de,he.startTime-Z)}}var ue=!1,C=-1,R=5,N=-1;function j(){return M?!0:!(r.unstable_now()-N<R)}function O(){if(M=!1,ue){var Z=r.unstable_now();N=Z;var he=!0;try{e:{k=!1,P&&(P=!1,z(C),C=-1),A=!0;var ee=S;try{t:{for(le(Z),b=t(m);b!==null&&!(b.expirationTime>Z&&j());){var ae=b.callback;if(typeof ae=="function"){b.callback=null,S=b.priorityLevel;var Se=ae(b.expirationTime<=Z);if(Z=r.unstable_now(),typeof Se=="function"){b.callback=Se,le(Z),he=!0;break t}b===t(m)&&i(m),le(Z)}else i(m);b=t(m)}if(b!==null)he=!0;else{var D=t(g);D!==null&&Ie(de,D.startTime-Z),he=!1}}break e}finally{b=null,S=ee,A=!1}he=void 0}}finally{he?L():ue=!1}}}var L;if(typeof J=="function")L=function(){J(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,we=I.port2;I.port1.onmessage=O,L=function(){we.postMessage(null)}}else L=function(){F(O,0)};function Ie(Z,he){C=F(function(){Z(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var he=3;break;default:he=S}var ee=S;S=he;try{return Z()}finally{S=ee}},r.unstable_requestPaint=function(){M=!0},r.unstable_runWithPriority=function(Z,he){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ee=S;S=Z;try{return he()}finally{S=ee}},r.unstable_scheduleCallback=function(Z,he,ee){var ae=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ae+ee:ae):ee=ae,Z){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ee+Se,Z={id:v++,callback:he,priorityLevel:Z,startTime:ee,expirationTime:Se,sortIndex:-1},ee>ae?(Z.sortIndex=ee,e(g,Z),t(m)===null&&Z===t(g)&&(P?(z(C),C=-1):P=!0,Ie(de,ee-ae))):(Z.sortIndex=Se,e(m,Z),k||A||(k=!0,ue||(ue=!0,L()))),Z},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(Z){var he=S;return function(){var ee=S;S=he;try{return Z.apply(this,arguments)}finally{S=ee}}}})(Bv)),Bv}var TC;function Wz(){return TC||(TC=1,zv.exports=Xz()),zv.exports}var SC;function Jz(){if(SC)return Tu;SC=1;var r=Wz(),e=Pf(),t=Zk();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(l(n)!==n)throw Error(i(188))}function g(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),n;if(p===u)return m(f),s;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=p;else{for(var E=!1,x=f.child;x;){if(x===o){E=!0,o=f,u=p;break}if(x===u){E=!0,u=f,o=p;break}x=x.sibling}if(!E){for(x=p.child;x;){if(x===o){E=!0,o=p,u=f;break}if(x===u){E=!0,u=p,o=f;break}x=x.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),J=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function we(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case F:return"Profiler";case M:return"StrictMode";case de:return"Suspense";case ue:return"SuspenseList";case N:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case k:return"Portal";case J:return n.displayName||"Context";case z:return(n._context.displayName||"Context")+".Consumer";case le:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return s=n.displayName||null,s!==null?s:we(n.type)||"Memo";case R:s=n._payload,n=n._init;try{return we(n(s))}catch{}}return null}var Ie=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ae=[],Se=-1;function D(n){return{current:n}}function X(n){0>Se||(n.current=ae[Se],ae[Se]=null,Se--)}function re(n,s){Se++,ae[Se]=n.current,n.current=s}var ce=D(null),fe=D(null),ve=D(null),be=D(null);function et(n,s){switch(re(ve,s),re(fe,n),re(ce,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?BS(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=BS(s),n=FS(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}X(ce),re(ce,n)}function Qe(){X(ce),X(fe),X(ve)}function In(n){n.memoizedState!==null&&re(be,n);var s=ce.current,o=FS(s,n.type);s!==o&&(re(fe,n),re(ce,o))}function oi(n){fe.current===n&&(X(ce),X(fe)),be.current===n&&(X(be),hu._currentValue=ee)}var Et,vn;function Fn(n){if(Et===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Et=s&&s[1]||"",vn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Et+n+vn}var Ke=!1;function Hn(n,s){if(!n||Ke)return"";Ke=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var Y=W}Reflect.construct(n,[],se)}else{try{se.call()}catch(W){Y=W}n.call(se.prototype)}}else{try{throw Error()}catch(W){Y=W}(se=n())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],x=p[1];if(E&&x){var V=E.split(`
`),$=x.split(`
`);for(f=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(u===V.length||f===$.length)for(u=V.length-1,f=$.length-1;1<=u&&0<=f&&V[u]!==$[f];)f--;for(;1<=u&&0<=f;u--,f--)if(V[u]!==$[f]){if(u!==1||f!==1)do if(u--,f--,0>f||V[u]!==$[f]){var te=`
`+V[u].replace(" at new "," at ");return n.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",n.displayName)),te}while(1<=u&&0<=f);break}}}finally{Ke=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Fn(o):""}function Fe(n,s){switch(n.tag){case 26:case 27:case 5:return Fn(n.type);case 16:return Fn("Lazy");case 13:return n.child!==s&&s!==null?Fn("Suspense Fallback"):Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return Hn(n.type,!1);case 11:return Hn(n.type.render,!1);case 1:return Hn(n.type,!0);case 31:return Fn("Activity");default:return""}}function Gn(n){try{var s="",o=null;do s+=Fe(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var lt=Object.prototype.hasOwnProperty,Tt=r.unstable_scheduleCallback,Nn=r.unstable_cancelCallback,Kn=r.unstable_shouldYield,Ft=r.unstable_requestPaint,Ct=r.unstable_now,$n=r.unstable_getCurrentPriorityLevel,qs=r.unstable_ImmediatePriority,Hi=r.unstable_UserBlockingPriority,mn=r.unstable_NormalPriority,Ha=r.unstable_LowPriority,zs=r.unstable_IdlePriority,Ga=r.log,Bs=r.unstable_setDisableYieldValue,It=null,ht=null;function Yn(n){if(typeof Ga=="function"&&Bs(n),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(It,n)}catch{}}var St=Math.clz32?Math.clz32:yc,gc=Math.log,Ka=Math.LN2;function yc(n){return n>>>=0,n===0?32:31-(gc(n)/Ka|0)|0}var Or=256,Fs=262144,Nt=4194304;function Dr(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Mr(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var x=u&134217727;return x!==0?(u=x&~p,u!==0?f=Dr(u):(E&=x,E!==0?f=Dr(E):o||(o=x&~n,o!==0&&(f=Dr(o))))):(x=u&~p,x!==0?f=Dr(x):E!==0?f=Dr(E):o||(o=u&~n,o!==0&&(f=Dr(o)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:f}function cr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function xd(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vc(){var n=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),n}function jr(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Hs(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ad(n,s,o,u,f,p){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var x=n.entanglements,V=n.expirationTimes,$=n.hiddenUpdates;for(o=E&~o;0<o;){var te=31-St(o),se=1<<te;x[te]=0,V[te]=-1;var Y=$[te];if(Y!==null)for($[te]=null,te=0;te<Y.length;te++){var W=Y[te];W!==null&&(W.lane&=-536870913)}o&=~se}u!==0&&Gs(n,u,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~s))}function Gs(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-St(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function gl(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-St(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function yl(n,s){var o=s&-s;return o=(o&42)!==0?1:Ks(o),(o&(n.suspendedLanes|s))!==0?0:o}function Ks(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function li(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function _c(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:fx(n.type))}function hr(n,s){var o=he.p;try{return he.p=n,s()}finally{he.p=o}}var fr=Math.random().toString(36).slice(2),Ot="__reactFiber$"+fr,Kt="__reactProps$"+fr,kr="__reactContainer$"+fr,$a="__reactEvents$"+fr,wd="__reactListeners$"+fr,bc="__reactHandles$"+fr,Ec="__reactResources$"+fr,Vr="__reactMarker$"+fr;function Ya(n){delete n[Ot],delete n[Kt],delete n[$a],delete n[wd],delete n[bc]}function Pr(n){var s=n[Ot];if(s)return s;for(var o=n.parentNode;o;){if(s=o[kr]||o[Ot]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=XS(n);n!==null;){if(o=n[Ot])return o;n=XS(n)}return s}n=o,o=n.parentNode}return null}function Qn(n){if(n=n[Ot]||n[kr]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function On(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Lr(n){var s=n[Ec];return s||(s=n[Ec]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Dt(n){n[Vr]=!0}var vl=new Set,_l={};function Ur(n,s){qr(n,s),qr(n+"Capture",s)}function qr(n,s){for(_l[n]=s,n=0;n<s.length;n++)vl.add(s[n])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Tl={};function Tc(n){return lt.call(Tl,n)?!0:lt.call(El,n)?!1:bl.test(n)?Tl[n]=!0:(El[n]=!0,!1)}function Qa(n,s,o){if(Tc(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function Dn(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Mt(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function $t(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Gi(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Sl(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,p=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,p.call(this,E)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function tt(n){if(!n._valueTracker){var s=Gi(n)?"checked":"value";n._valueTracker=Sl(n,s,""+n[s])}}function $s(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Gi(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function zr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ys=/[\n"\\]/g;function _n(n){return n.replace(Ys,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Xa(n,s,o,u,f,p,E,x){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+$t(s)):n.value!==""+$t(s)&&(n.value=""+$t(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?xl(n,E,$t(s)):o!=null?xl(n,E,$t(o)):u!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.name=""+$t(x):n.removeAttribute("name")}function Sc(n,s,o,u,f,p,E,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){tt(n);return}o=o!=null?""+$t(o):"",s=s!=null?""+$t(s):o,x||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=x?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),tt(n)}function xl(n,s,o){s==="number"&&zr(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Ki(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+$t(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function xc(n,s,o){if(s!=null&&(s=""+$t(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+$t(o):""}function $i(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(Ie(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=$t(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),tt(n)}function bn(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Ac=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Al(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||Ac.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function wl(n,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Al(n,f,u)}else for(var p in s)s.hasOwnProperty(p)&&Al(n,p,s[p])}function Wa(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(n){return Yi.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function dr(){}var Rl=null;function Xn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Qi=null,Br=null;function Qs(n){var s=Qn(n);if(s&&(n=s.stateNode)){var o=n[Kt]||null;e:switch(n=s.stateNode,s.type){case"input":if(Xa(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+_n(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[Kt]||null;if(!f)throw Error(i(90));Xa(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&$s(u)}break e;case"textarea":xc(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ki(n,!!o.multiple,s,!1)}}}var Za=!1;function Xi(n,s,o){if(Za)return n(s,o);Za=!0;try{var u=n(s);return u}finally{if(Za=!1,(Qi!==null||Br!==null)&&(_h(),Qi&&(s=Qi,n=Br,Br=Qi=null,Qs(s),n)))for(s=0;s<n.length;s++)Qs(n[s])}}function pr(n,s){var o=n.stateNode;if(o===null)return null;var u=o[Kt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=!1;if(Wn)try{var it={};Object.defineProperty(it,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Xs=!1}var Fr=null,Cl=null,Ws=null;function Il(){if(Ws)return Ws;var n,s=Cl,o=s.length,u,f="value"in Fr?Fr.value:Fr.textContent,p=f.length;for(n=0;n<o&&s[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&s[o-u]===f[p-u];u++);return Ws=f.slice(n,1<u?1-u:void 0)}function Js(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ui(){return!0}function mr(){return!1}function Wt(n){function s(o,u,f,p,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var x in n)n.hasOwnProperty(x)&&(o=n[x],this[x]=o?o(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ui:mr,this.isPropagationStopped=mr,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),s}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hr=Wt(ci),Wi=b({},ci,{view:0,detail:0}),Nl=Wt(Wi),Ji,eo,Gr,to=b({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zi,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gr&&(Gr&&n.type==="mousemove"?(Ji=n.screenX-Gr.screenX,eo=n.screenY-Gr.screenY):eo=Ji=0,Gr=n),Ji)},movementY:function(n){return"movementY"in n?n.movementY:eo}}),Ol=Wt(to),Zs=b({},to,{dataTransfer:0}),Rc=Wt(Zs),Cc=b({},Wi,{relatedTarget:0}),ea=Wt(Cc),Dl=b({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),Ic=Wt(Dl),no=b({},ci,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Nc=Wt(no),Oc=b({},ci,{data:0}),Kr=Wt(Oc),Dc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=jc[n])?!!s[n]:!1}function Zi(){return kc}var gn=b({},Wi,{key:function(n){if(n.key){var s=Dc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Js(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Mc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zi,charCode:function(n){return n.type==="keypress"?Js(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Js(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Vc=Wt(gn),Pc=b({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hi=Wt(Pc),h=b({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zi}),_=Wt(h),T=b({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Wt(T),G=b({},to,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Wt(G),pe=b({},ci,{newState:0,oldState:0}),De=Wt(pe),xt=[9,13,27,32],Xe=Wn&&"CompositionEvent"in window,mt=null;Wn&&"documentMode"in document&&(mt=document.documentMode);var Jn=Wn&&"TextEvent"in window&&!mt,$r=Wn&&(!Xe||mt&&8<mt&&11>=mt),gr=" ",yr=!1;function ta(n,s){switch(n){case"keyup":return xt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var io=!1;function HD(n,s){switch(n){case"compositionend":return ro(s);case"keypress":return s.which!==32?null:(yr=!0,gr);case"textInput":return n=s.data,n===gr&&yr?null:n;default:return null}}function GD(n,s){if(io)return n==="compositionend"||!Xe&&ta(n,s)?(n=Il(),Ws=Cl=Fr=null,io=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return $r&&s.locale!=="ko"?null:s.data;default:return null}}var KD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zb(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!KD[n.type]:s==="textarea"}function eE(n,s,o,u){Qi?Br?Br.push(u):Br=[u]:Qi=u,s=wh(s,"onChange"),0<s.length&&(o=new Hr("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Ml=null,jl=null;function $D(n){VS(n,0)}function Lc(n){var s=On(n);if($s(s))return n}function tE(n,s){if(n==="change")return s}var nE=!1;if(Wn){var Rd;if(Wn){var Cd="oninput"in document;if(!Cd){var rE=document.createElement("div");rE.setAttribute("oninput","return;"),Cd=typeof rE.oninput=="function"}Rd=Cd}else Rd=!1;nE=Rd&&(!document.documentMode||9<document.documentMode)}function iE(){Ml&&(Ml.detachEvent("onpropertychange",sE),jl=Ml=null)}function sE(n){if(n.propertyName==="value"&&Lc(jl)){var s=[];eE(s,jl,n,Xn(n)),Xi($D,s)}}function YD(n,s,o){n==="focusin"?(iE(),Ml=s,jl=o,Ml.attachEvent("onpropertychange",sE)):n==="focusout"&&iE()}function QD(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Lc(jl)}function XD(n,s){if(n==="click")return Lc(s)}function WD(n,s){if(n==="input"||n==="change")return Lc(s)}function JD(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Mn=typeof Object.is=="function"?Object.is:JD;function kl(n,s){if(Mn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!lt.call(s,f)||!Mn(n[f],s[f]))return!1}return!0}function aE(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function oE(n,s){var o=aE(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=aE(o)}}function lE(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?lE(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function uE(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=zr(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=zr(n.document)}return s}function Id(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var ZD=Wn&&"documentMode"in document&&11>=document.documentMode,so=null,Nd=null,Vl=null,Od=!1;function cE(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Od||so==null||so!==zr(u)||(u=so,"selectionStart"in u&&Id(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Vl&&kl(Vl,u)||(Vl=u,u=wh(Nd,"onSelect"),0<u.length&&(s=new Hr("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=so)))}function na(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var ao={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},Dd={},hE={};Wn&&(hE=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function ra(n){if(Dd[n])return Dd[n];if(!ao[n])return n;var s=ao[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in hE)return Dd[n]=s[o];return n}var fE=ra("animationend"),dE=ra("animationiteration"),pE=ra("animationstart"),eM=ra("transitionrun"),tM=ra("transitionstart"),nM=ra("transitioncancel"),mE=ra("transitionend"),gE=new Map,Md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Md.push("scrollEnd");function vr(n,s){gE.set(n,s),Ur(s,[n])}var Uc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Zn=[],oo=0,jd=0;function qc(){for(var n=oo,s=jd=oo=0;s<n;){var o=Zn[s];Zn[s++]=null;var u=Zn[s];Zn[s++]=null;var f=Zn[s];Zn[s++]=null;var p=Zn[s];if(Zn[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}p!==0&&yE(o,f,p)}}function zc(n,s,o,u){Zn[oo++]=n,Zn[oo++]=s,Zn[oo++]=o,Zn[oo++]=u,jd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function kd(n,s,o,u){return zc(n,s,o,u),Bc(n)}function ia(n,s){return zc(n,null,null,s),Bc(n)}function yE(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=n.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&s!==null&&(f=31-St(o),n=p.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),p):null}function Bc(n){if(50<iu)throw iu=0,Hp=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var lo={};function rM(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(n,s,o,u){return new rM(n,s,o,u)}function Vd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function fi(n,s){var o=n.alternate;return o===null?(o=jn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function vE(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Fc(n,s,o,u,f,p){var E=0;if(u=n,typeof n=="function")Vd(n)&&(E=1);else if(typeof n=="string")E=lj(n,o,ce.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case N:return n=jn(31,o,s,f),n.elementType=N,n.lanes=p,n;case P:return sa(o.children,f,p,s);case M:E=8,f|=24;break;case F:return n=jn(12,o,s,f|2),n.elementType=F,n.lanes=p,n;case de:return n=jn(13,o,s,f),n.elementType=de,n.lanes=p,n;case ue:return n=jn(19,o,s,f),n.elementType=ue,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case J:E=10;break e;case z:E=9;break e;case le:E=11;break e;case C:E=14;break e;case R:E=16,u=null;break e}E=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=jn(E,o,s,f),s.elementType=n,s.type=u,s.lanes=p,s}function sa(n,s,o,u){return n=jn(7,n,u,s),n.lanes=o,n}function Pd(n,s,o){return n=jn(6,n,null,s),n.lanes=o,n}function _E(n){var s=jn(18,null,null,0);return s.stateNode=n,s}function Ld(n,s,o){return s=jn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var bE=new WeakMap;function er(n,s){if(typeof n=="object"&&n!==null){var o=bE.get(n);return o!==void 0?o:(s={value:n,source:s,stack:Gn(s)},bE.set(n,s),s)}return{value:n,source:s,stack:Gn(s)}}var uo=[],co=0,Hc=null,Pl=0,tr=[],nr=0,es=null,Yr=1,Qr="";function di(n,s){uo[co++]=Pl,uo[co++]=Hc,Hc=n,Pl=s}function EE(n,s,o){tr[nr++]=Yr,tr[nr++]=Qr,tr[nr++]=es,es=n;var u=Yr;n=Qr;var f=32-St(u)-1;u&=~(1<<f),o+=1;var p=32-St(s)+f;if(30<p){var E=f-f%5;p=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Yr=1<<32-St(s)+f|o<<f|u,Qr=p+n}else Yr=1<<p|o<<f|u,Qr=n}function Ud(n){n.return!==null&&(di(n,1),EE(n,1,0))}function qd(n){for(;n===Hc;)Hc=uo[--co],uo[co]=null,Pl=uo[--co],uo[co]=null;for(;n===es;)es=tr[--nr],tr[nr]=null,Qr=tr[--nr],tr[nr]=null,Yr=tr[--nr],tr[nr]=null}function TE(n,s){tr[nr++]=Yr,tr[nr++]=Qr,tr[nr++]=es,Yr=s.id,Qr=s.overflow,es=n}var Jt=null,ft=null,He=!1,ts=null,rr=!1,zd=Error(i(519));function ns(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(er(s,n)),zd}function SE(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Ot]=n,s[Kt]=u,o){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(o=0;o<au.length;o++)Pe(au[o],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),Sc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),$i(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||qS(s.textContent,o)?(u.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),u.onScroll!=null&&Pe("scroll",s),u.onScrollEnd!=null&&Pe("scrollend",s),u.onClick!=null&&(s.onclick=dr),s=!0):s=!1,s||ns(n,!0)}function xE(n){for(Jt=n.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:Jt=Jt.return}}function ho(n){if(n!==Jt)return!1;if(!He)return xE(n),He=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||sm(n.type,n.memoizedProps)),o=!o),o&&ft&&ns(n),xE(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));ft=QS(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));ft=QS(n)}else s===27?(s=ft,gs(n.type)?(n=cm,cm=null,ft=n):ft=s):ft=Jt?sr(n.stateNode.nextSibling):null;return!0}function aa(){ft=Jt=null,He=!1}function Bd(){var n=ts;return n!==null&&(xn===null?xn=n:xn.push.apply(xn,n),ts=null),n}function Ll(n){ts===null?ts=[n]:ts.push(n)}var Fd=D(null),oa=null,pi=null;function rs(n,s,o){re(Fd,s._currentValue),s._currentValue=o}function mi(n){n._currentValue=Fd.current,X(Fd)}function Hd(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Gd(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var x=p;p=f;for(var V=0;V<s.length;V++)if(x.context===s[V]){p.lanes|=o,x=p.alternate,x!==null&&(x.lanes|=o),Hd(p.return,o,n),u||(E=null);break e}p=x.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),Hd(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function fo(n,s,o,u){n=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var x=f.type;Mn(f.pendingProps.value,E.value)||(n!==null?n.push(x):n=[x])}}else if(f===be.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(hu):n=[hu])}f=f.return}n!==null&&Gd(s,n,o,u),s.flags|=262144}function Gc(n){for(n=n.firstContext;n!==null;){if(!Mn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function la(n){oa=n,pi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Zt(n){return AE(oa,n)}function Kc(n,s){return oa===null&&la(n),AE(n,s)}function AE(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},pi===null){if(n===null)throw Error(i(308));pi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else pi=pi.next=s;return o}var iM=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},sM=r.unstable_scheduleCallback,aM=r.unstable_NormalPriority,jt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kd(){return{controller:new iM,data:new Map,refCount:0}}function Ul(n){n.refCount--,n.refCount===0&&sM(aM,function(){n.controller.abort()})}var ql=null,$d=0,po=0,mo=null;function oM(n,s){if(ql===null){var o=ql=[];$d=0,po=Xp(),mo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return $d++,s.then(wE,wE),s}function wE(){if(--$d===0&&ql!==null){mo!==null&&(mo.status="fulfilled");var n=ql;ql=null,po=0,mo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function lM(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var RE=Z.S;Z.S=function(n,s){cS=Ct(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&oM(n,s),RE!==null&&RE(n,s)};var ua=D(null);function Yd(){var n=ua.current;return n!==null?n:ut.pooledCache}function $c(n,s){s===null?re(ua,ua.current):re(ua,s.pool)}function CE(){var n=Yd();return n===null?null:{parent:jt._currentValue,pool:n}}var go=Error(i(460)),Qd=Error(i(474)),Yc=Error(i(542)),Qc={then:function(){}};function IE(n){return n=n.status,n==="fulfilled"||n==="rejected"}function NE(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(dr,dr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,DE(n),n;default:if(typeof s.status=="string")s.then(dr,dr);else{if(n=ut,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,DE(n),n}throw ha=s,go}}function ca(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ha=o,go):o}}var ha=null;function OE(){if(ha===null)throw Error(i(459));var n=ha;return ha=null,n}function DE(n){if(n===go||n===Yc)throw Error(i(483))}var yo=null,zl=0;function Xc(n){var s=zl;return zl+=1,yo===null&&(yo=[]),NE(yo,n,s)}function Bl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Wc(n,s){throw s.$$typeof===S?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function ME(n){function s(H,q){if(n){var K=H.deletions;K===null?(H.deletions=[q],H.flags|=16):K.push(q)}}function o(H,q){if(!n)return null;for(;q!==null;)s(H,q),q=q.sibling;return null}function u(H){for(var q=new Map;H!==null;)H.key!==null?q.set(H.key,H):q.set(H.index,H),H=H.sibling;return q}function f(H,q){return H=fi(H,q),H.index=0,H.sibling=null,H}function p(H,q,K){return H.index=K,n?(K=H.alternate,K!==null?(K=K.index,K<q?(H.flags|=67108866,q):K):(H.flags|=67108866,q)):(H.flags|=1048576,q)}function E(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function x(H,q,K,ne){return q===null||q.tag!==6?(q=Pd(K,H.mode,ne),q.return=H,q):(q=f(q,K),q.return=H,q)}function V(H,q,K,ne){var Ee=K.type;return Ee===P?te(H,q,K.props.children,ne,K.key):q!==null&&(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&ca(Ee)===q.type)?(q=f(q,K.props),Bl(q,K),q.return=H,q):(q=Fc(K.type,K.key,K.props,null,H.mode,ne),Bl(q,K),q.return=H,q)}function $(H,q,K,ne){return q===null||q.tag!==4||q.stateNode.containerInfo!==K.containerInfo||q.stateNode.implementation!==K.implementation?(q=Ld(K,H.mode,ne),q.return=H,q):(q=f(q,K.children||[]),q.return=H,q)}function te(H,q,K,ne,Ee){return q===null||q.tag!==7?(q=sa(K,H.mode,ne,Ee),q.return=H,q):(q=f(q,K),q.return=H,q)}function se(H,q,K){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Pd(""+q,H.mode,K),q.return=H,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return K=Fc(q.type,q.key,q.props,null,H.mode,K),Bl(K,q),K.return=H,K;case k:return q=Ld(q,H.mode,K),q.return=H,q;case R:return q=ca(q),se(H,q,K)}if(Ie(q)||L(q))return q=sa(q,H.mode,K,null),q.return=H,q;if(typeof q.then=="function")return se(H,Xc(q),K);if(q.$$typeof===J)return se(H,Kc(H,q),K);Wc(H,q)}return null}function Y(H,q,K,ne){var Ee=q!==null?q.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Ee!==null?null:x(H,q,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return K.key===Ee?V(H,q,K,ne):null;case k:return K.key===Ee?$(H,q,K,ne):null;case R:return K=ca(K),Y(H,q,K,ne)}if(Ie(K)||L(K))return Ee!==null?null:te(H,q,K,ne,null);if(typeof K.then=="function")return Y(H,q,Xc(K),ne);if(K.$$typeof===J)return Y(H,q,Kc(H,K),ne);Wc(H,K)}return null}function W(H,q,K,ne,Ee){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get(K)||null,x(q,H,""+ne,Ee);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return H=H.get(ne.key===null?K:ne.key)||null,V(q,H,ne,Ee);case k:return H=H.get(ne.key===null?K:ne.key)||null,$(q,H,ne,Ee);case R:return ne=ca(ne),W(H,q,K,ne,Ee)}if(Ie(ne)||L(ne))return H=H.get(K)||null,te(q,H,ne,Ee,null);if(typeof ne.then=="function")return W(H,q,K,Xc(ne),Ee);if(ne.$$typeof===J)return W(H,q,K,Kc(q,ne),Ee);Wc(q,ne)}return null}function ye(H,q,K,ne){for(var Ee=null,$e=null,_e=q,je=q=0,Ue=null;_e!==null&&je<K.length;je++){_e.index>je?(Ue=_e,_e=null):Ue=_e.sibling;var Ye=Y(H,_e,K[je],ne);if(Ye===null){_e===null&&(_e=Ue);break}n&&_e&&Ye.alternate===null&&s(H,_e),q=p(Ye,q,je),$e===null?Ee=Ye:$e.sibling=Ye,$e=Ye,_e=Ue}if(je===K.length)return o(H,_e),He&&di(H,je),Ee;if(_e===null){for(;je<K.length;je++)_e=se(H,K[je],ne),_e!==null&&(q=p(_e,q,je),$e===null?Ee=_e:$e.sibling=_e,$e=_e);return He&&di(H,je),Ee}for(_e=u(_e);je<K.length;je++)Ue=W(_e,H,je,K[je],ne),Ue!==null&&(n&&Ue.alternate!==null&&_e.delete(Ue.key===null?je:Ue.key),q=p(Ue,q,je),$e===null?Ee=Ue:$e.sibling=Ue,$e=Ue);return n&&_e.forEach(function(Es){return s(H,Es)}),He&&di(H,je),Ee}function xe(H,q,K,ne){if(K==null)throw Error(i(151));for(var Ee=null,$e=null,_e=q,je=q=0,Ue=null,Ye=K.next();_e!==null&&!Ye.done;je++,Ye=K.next()){_e.index>je?(Ue=_e,_e=null):Ue=_e.sibling;var Es=Y(H,_e,Ye.value,ne);if(Es===null){_e===null&&(_e=Ue);break}n&&_e&&Es.alternate===null&&s(H,_e),q=p(Es,q,je),$e===null?Ee=Es:$e.sibling=Es,$e=Es,_e=Ue}if(Ye.done)return o(H,_e),He&&di(H,je),Ee;if(_e===null){for(;!Ye.done;je++,Ye=K.next())Ye=se(H,Ye.value,ne),Ye!==null&&(q=p(Ye,q,je),$e===null?Ee=Ye:$e.sibling=Ye,$e=Ye);return He&&di(H,je),Ee}for(_e=u(_e);!Ye.done;je++,Ye=K.next())Ye=W(_e,H,je,Ye.value,ne),Ye!==null&&(n&&Ye.alternate!==null&&_e.delete(Ye.key===null?je:Ye.key),q=p(Ye,q,je),$e===null?Ee=Ye:$e.sibling=Ye,$e=Ye);return n&&_e.forEach(function(_j){return s(H,_j)}),He&&di(H,je),Ee}function ot(H,q,K,ne){if(typeof K=="object"&&K!==null&&K.type===P&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case A:e:{for(var Ee=K.key;q!==null;){if(q.key===Ee){if(Ee=K.type,Ee===P){if(q.tag===7){o(H,q.sibling),ne=f(q,K.props.children),ne.return=H,H=ne;break e}}else if(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&ca(Ee)===q.type){o(H,q.sibling),ne=f(q,K.props),Bl(ne,K),ne.return=H,H=ne;break e}o(H,q);break}else s(H,q);q=q.sibling}K.type===P?(ne=sa(K.props.children,H.mode,ne,K.key),ne.return=H,H=ne):(ne=Fc(K.type,K.key,K.props,null,H.mode,ne),Bl(ne,K),ne.return=H,H=ne)}return E(H);case k:e:{for(Ee=K.key;q!==null;){if(q.key===Ee)if(q.tag===4&&q.stateNode.containerInfo===K.containerInfo&&q.stateNode.implementation===K.implementation){o(H,q.sibling),ne=f(q,K.children||[]),ne.return=H,H=ne;break e}else{o(H,q);break}else s(H,q);q=q.sibling}ne=Ld(K,H.mode,ne),ne.return=H,H=ne}return E(H);case R:return K=ca(K),ot(H,q,K,ne)}if(Ie(K))return ye(H,q,K,ne);if(L(K)){if(Ee=L(K),typeof Ee!="function")throw Error(i(150));return K=Ee.call(K),xe(H,q,K,ne)}if(typeof K.then=="function")return ot(H,q,Xc(K),ne);if(K.$$typeof===J)return ot(H,q,Kc(H,K),ne);Wc(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,q!==null&&q.tag===6?(o(H,q.sibling),ne=f(q,K),ne.return=H,H=ne):(o(H,q),ne=Pd(K,H.mode,ne),ne.return=H,H=ne),E(H)):o(H,q)}return function(H,q,K,ne){try{zl=0;var Ee=ot(H,q,K,ne);return yo=null,Ee}catch(_e){if(_e===go||_e===Yc)throw _e;var $e=jn(29,_e,null,H.mode);return $e.lanes=ne,$e.return=H,$e}}}var fa=ME(!0),jE=ME(!1),is=!1;function Xd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ss(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function as(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(We&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Bc(n),yE(n,null,o),s}return zc(n,u,s,o),Bc(n)}function Fl(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,gl(n,o)}}function Jd(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?f=p=s:p=p.next=s}else f=p=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var Zd=!1;function Hl(){if(Zd){var n=mo;if(n!==null)throw n}}function Gl(n,s,o,u){Zd=!1;var f=n.updateQueue;is=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var V=x,$=V.next;V.next=null,E===null?p=$:E.next=$,E=V;var te=n.alternate;te!==null&&(te=te.updateQueue,x=te.lastBaseUpdate,x!==E&&(x===null?te.firstBaseUpdate=$:x.next=$,te.lastBaseUpdate=V))}if(p!==null){var se=f.baseState;E=0,te=$=V=null,x=p;do{var Y=x.lane&-536870913,W=Y!==x.lane;if(W?(Le&Y)===Y:(u&Y)===Y){Y!==0&&Y===po&&(Zd=!0),te!==null&&(te=te.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ye=n,xe=x;Y=s;var ot=o;switch(xe.tag){case 1:if(ye=xe.payload,typeof ye=="function"){se=ye.call(ot,se,Y);break e}se=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=xe.payload,Y=typeof ye=="function"?ye.call(ot,se,Y):ye,Y==null)break e;se=b({},se,Y);break e;case 2:is=!0}}Y=x.callback,Y!==null&&(n.flags|=64,W&&(n.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:x.tag,payload:x.payload,callback:x.callback,next:null},te===null?($=te=W,V=se):te=te.next=W,E|=Y;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;W=x,x=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);te===null&&(V=se),f.baseState=V,f.firstBaseUpdate=$,f.lastBaseUpdate=te,p===null&&(f.shared.lanes=0),hs|=E,n.lanes=E,n.memoizedState=se}}function kE(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function VE(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)kE(o[n],s)}var vo=D(null),Jc=D(0);function PE(n,s){n=xi,re(Jc,n),re(vo,s),xi=n|s.baseLanes}function ep(){re(Jc,xi),re(vo,vo.current)}function tp(){xi=Jc.current,X(vo),X(Jc)}var kn=D(null),ir=null;function os(n){var s=n.alternate;re(At,At.current&1),re(kn,n),ir===null&&(s===null||vo.current!==null||s.memoizedState!==null)&&(ir=n)}function np(n){re(At,At.current),re(kn,n),ir===null&&(ir=n)}function LE(n){n.tag===22?(re(At,At.current),re(kn,n),ir===null&&(ir=n)):ls()}function ls(){re(At,At.current),re(kn,kn.current)}function Vn(n){X(kn),ir===n&&(ir=null),X(At)}var At=D(0);function Zc(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||lm(o)||um(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gi=0,Me=null,st=null,kt=null,eh=!1,_o=!1,da=!1,th=0,Kl=0,bo=null,uM=0;function _t(){throw Error(i(321))}function rp(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!Mn(n[o],s[o]))return!1;return!0}function ip(n,s,o,u,f,p){return gi=p,Me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=n===null||n.memoizedState===null?ET:_p,da=!1,p=o(u,f),da=!1,_o&&(p=qE(s,o,u,f)),UE(n),p}function UE(n){Z.H=Ql;var s=st!==null&&st.next!==null;if(gi=0,kt=st=Me=null,eh=!1,Kl=0,bo=null,s)throw Error(i(300));n===null||Vt||(n=n.dependencies,n!==null&&Gc(n)&&(Vt=!0))}function qE(n,s,o,u){Me=n;var f=0;do{if(_o&&(bo=null),Kl=0,_o=!1,25<=f)throw Error(i(301));if(f+=1,kt=st=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Z.H=TT,p=s(o,u)}while(_o);return p}function cM(){var n=Z.H,s=n.useState()[0];return s=typeof s.then=="function"?$l(s):s,n=n.useState()[0],(st!==null?st.memoizedState:null)!==n&&(Me.flags|=1024),s}function sp(){var n=th!==0;return th=0,n}function ap(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function op(n){if(eh){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}eh=!1}gi=0,kt=st=Me=null,_o=!1,Kl=th=0,bo=null}function yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Me.memoizedState=kt=n:kt=kt.next=n,kt}function wt(){if(st===null){var n=Me.alternate;n=n!==null?n.memoizedState:null}else n=st.next;var s=kt===null?Me.memoizedState:kt.next;if(s!==null)kt=s,st=n;else{if(n===null)throw Me.alternate===null?Error(i(467)):Error(i(310));st=n,n={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},kt===null?Me.memoizedState=kt=n:kt=kt.next=n}return kt}function nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(n){var s=Kl;return Kl+=1,bo===null&&(bo=[]),n=NE(bo,n,s),s=Me,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?ET:_p),n}function rh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return $l(n);if(n.$$typeof===J)return Zt(n)}throw Error(i(438,String(n)))}function lp(n){var s=null,o=Me.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Me.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=nh(),Me.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=j;return s.index++,o}function yi(n,s){return typeof s=="function"?s(n):s}function ih(n){var s=wt();return up(s,st,n)}function up(n,s,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=n.baseQueue,p=u.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}s.baseQueue=f=p,u.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{s=f.next;var x=E=null,V=null,$=s,te=!1;do{var se=$.lane&-536870913;if(se!==$.lane?(Le&se)===se:(gi&se)===se){var Y=$.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),se===po&&(te=!0);else if((gi&Y)===Y){$=$.next,Y===po&&(te=!0);continue}else se={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(x=V=se,E=p):V=V.next=se,Me.lanes|=Y,hs|=Y;se=$.action,da&&o(p,se),p=$.hasEagerState?$.eagerState:o(p,se)}else Y={lane:se,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(x=V=Y,E=p):V=V.next=Y,Me.lanes|=se,hs|=se;$=$.next}while($!==null&&$!==s);if(V===null?E=p:V.next=x,!Mn(p,n.memoizedState)&&(Vt=!0,te&&(o=mo,o!==null)))throw o;n.memoizedState=p,n.baseState=E,n.baseQueue=V,u.lastRenderedState=p}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function cp(n){var s=wt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,p=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do p=n(p,E.action),E=E.next;while(E!==f);Mn(p,s.memoizedState)||(Vt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function zE(n,s,o){var u=Me,f=wt(),p=He;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!Mn((st||f).memoizedState,o);if(E&&(f.memoizedState=o,Vt=!0),f=f.queue,dp(HE.bind(null,u,f,n),[n]),f.getSnapshot!==s||E||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,Eo(9,{destroy:void 0},FE.bind(null,u,f,o,s),null),ut===null)throw Error(i(349));p||(gi&127)!==0||BE(u,s,o)}return o}function BE(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Me.updateQueue,s===null?(s=nh(),Me.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function FE(n,s,o,u){s.value=o,s.getSnapshot=u,GE(s)&&KE(n)}function HE(n,s,o){return o(function(){GE(s)&&KE(n)})}function GE(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!Mn(n,o)}catch{return!0}}function KE(n){var s=ia(n,2);s!==null&&An(s,n,2)}function hp(n){var s=yn();if(typeof n=="function"){var o=n;if(n=o(),da){Yn(!0);try{o()}finally{Yn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:n},s}function $E(n,s,o,u){return n.baseState=o,up(n,st,typeof u=="function"?u:yi)}function hM(n,s,o,u,f){if(oh(n))throw Error(i(485));if(n=s.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};Z.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,YE(s,p)):(p.next=o.next,s.pending=o.next=p)}}function YE(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var p=Z.T,E={};Z.T=E;try{var x=o(f,u),V=Z.S;V!==null&&V(E,x),QE(n,s,x)}catch($){fp(n,s,$)}finally{p!==null&&E.types!==null&&(p.types=E.types),Z.T=p}}else try{p=o(f,u),QE(n,s,p)}catch($){fp(n,s,$)}}function QE(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){XE(n,s,u)},function(u){return fp(n,s,u)}):XE(n,s,o)}function XE(n,s,o){s.status="fulfilled",s.value=o,WE(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,YE(n,o)))}function fp(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,WE(s),s=s.next;while(s!==u)}n.action=null}function WE(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function JE(n,s){return s}function ZE(n,s){if(He){var o=ut.formState;if(o!==null){e:{var u=Me;if(He){if(ft){t:{for(var f=ft,p=rr;f.nodeType!==8;){if(!p){f=null;break t}if(f=sr(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ft=sr(f.nextSibling),u=f.data==="F!";break e}}ns(u)}u=!1}u&&(s=o[0])}}return o=yn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JE,lastRenderedState:s},o.queue=u,o=vT.bind(null,Me,u),u.dispatch=o,u=hp(!1),p=vp.bind(null,Me,!1,u.queue),u=yn(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=hM.bind(null,Me,f,p,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function eT(n){var s=wt();return tT(s,st,n)}function tT(n,s,o){if(s=up(n,s,JE)[0],n=ih(yi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=$l(s)}catch(E){throw E===go?Yc:E}else u=s;s=wt();var f=s.queue,p=f.dispatch;return o!==s.memoizedState&&(Me.flags|=2048,Eo(9,{destroy:void 0},fM.bind(null,f,o),null)),[u,p,n]}function fM(n,s){n.action=s}function nT(n){var s=wt(),o=st;if(o!==null)return tT(s,o,n);wt(),s=s.memoizedState,o=wt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function Eo(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Me.updateQueue,s===null&&(s=nh(),Me.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function rT(){return wt().memoizedState}function sh(n,s,o,u){var f=yn();Me.flags|=n,f.memoizedState=Eo(1|s,{destroy:void 0},o,u===void 0?null:u)}function ah(n,s,o,u){var f=wt();u=u===void 0?null:u;var p=f.memoizedState.inst;st!==null&&u!==null&&rp(u,st.memoizedState.deps)?f.memoizedState=Eo(s,p,o,u):(Me.flags|=n,f.memoizedState=Eo(1|s,p,o,u))}function iT(n,s){sh(8390656,8,n,s)}function dp(n,s){ah(2048,8,n,s)}function dM(n){Me.flags|=4;var s=Me.updateQueue;if(s===null)s=nh(),Me.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function sT(n){var s=wt().memoizedState;return dM({ref:s,nextImpl:n}),function(){if((We&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function aT(n,s){return ah(4,2,n,s)}function oT(n,s){return ah(4,4,n,s)}function lT(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function uT(n,s,o){o=o!=null?o.concat([n]):null,ah(4,4,lT.bind(null,s,n),o)}function pp(){}function cT(n,s){var o=wt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&rp(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function hT(n,s){var o=wt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&rp(s,u[1]))return u[0];if(u=n(),da){Yn(!0);try{n()}finally{Yn(!1)}}return o.memoizedState=[u,s],u}function mp(n,s,o){return o===void 0||(gi&1073741824)!==0&&(Le&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=fS(),Me.lanes|=n,hs|=n,o)}function fT(n,s,o,u){return Mn(o,s)?o:vo.current!==null?(n=mp(n,o,u),Mn(n,s)||(Vt=!0),n):(gi&42)===0||(gi&1073741824)!==0&&(Le&261930)===0?(Vt=!0,n.memoizedState=o):(n=fS(),Me.lanes|=n,hs|=n,s)}function dT(n,s,o,u,f){var p=he.p;he.p=p!==0&&8>p?p:8;var E=Z.T,x={};Z.T=x,vp(n,!1,s,o);try{var V=f(),$=Z.S;if($!==null&&$(x,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var te=lM(V,u);Yl(n,s,te,Un(n))}else Yl(n,s,u,Un(n))}catch(se){Yl(n,s,{then:function(){},status:"rejected",reason:se},Un())}finally{he.p=p,E!==null&&x.types!==null&&(E.types=x.types),Z.T=E}}function pM(){}function gp(n,s,o,u){if(n.tag!==5)throw Error(i(476));var f=pT(n).queue;dT(n,f,s,ee,o===null?pM:function(){return mT(n),o(u)})}function pT(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:ee},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function mT(n){var s=pT(n);s.next===null&&(s=n.alternate.memoizedState),Yl(n,s.next.queue,{},Un())}function yp(){return Zt(hu)}function gT(){return wt().memoizedState}function yT(){return wt().memoizedState}function mM(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Un();n=ss(o);var u=as(s,n,o);u!==null&&(An(u,s,o),Fl(u,s,o)),s={cache:Kd()},n.payload=s;return}s=s.return}}function gM(n,s,o){var u=Un();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},oh(n)?_T(s,o):(o=kd(n,s,o,u),o!==null&&(An(o,n,u),bT(o,s,u)))}function vT(n,s,o){var u=Un();Yl(n,s,o,u)}function Yl(n,s,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(oh(n))_T(s,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,x=p(E,o);if(f.hasEagerState=!0,f.eagerState=x,Mn(x,E))return zc(n,s,f,0),ut===null&&qc(),!1}catch{}if(o=kd(n,s,f,u),o!==null)return An(o,n,u),bT(o,s,u),!0}return!1}function vp(n,s,o,u){if(u={lane:2,revertLane:Xp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},oh(n)){if(s)throw Error(i(479))}else s=kd(n,o,u,2),s!==null&&An(s,n,2)}function oh(n){var s=n.alternate;return n===Me||s!==null&&s===Me}function _T(n,s){_o=eh=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function bT(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,gl(n,o)}}var Ql={readContext:Zt,use:rh,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Ql.useEffectEvent=_t;var ET={readContext:Zt,use:rh,useCallback:function(n,s){return yn().memoizedState=[n,s===void 0?null:s],n},useContext:Zt,useEffect:iT,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,sh(4194308,4,lT.bind(null,s,n),o)},useLayoutEffect:function(n,s){return sh(4194308,4,n,s)},useInsertionEffect:function(n,s){sh(4,2,n,s)},useMemo:function(n,s){var o=yn();s=s===void 0?null:s;var u=n();if(da){Yn(!0);try{n()}finally{Yn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=yn();if(o!==void 0){var f=o(s);if(da){Yn(!0);try{o(s)}finally{Yn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=gM.bind(null,Me,n),[u.memoizedState,n]},useRef:function(n){var s=yn();return n={current:n},s.memoizedState=n},useState:function(n){n=hp(n);var s=n.queue,o=vT.bind(null,Me,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:pp,useDeferredValue:function(n,s){var o=yn();return mp(o,n,s)},useTransition:function(){var n=hp(!1);return n=dT.bind(null,Me,n.queue,!0,!1),yn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Me,f=yn();if(He){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ut===null)throw Error(i(349));(Le&127)!==0||BE(u,s,o)}f.memoizedState=o;var p={value:o,getSnapshot:s};return f.queue=p,iT(HE.bind(null,u,p,n),[n]),u.flags|=2048,Eo(9,{destroy:void 0},FE.bind(null,u,p,o,s),null),o},useId:function(){var n=yn(),s=ut.identifierPrefix;if(He){var o=Qr,u=Yr;o=(u&~(1<<32-St(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=th++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=uM++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:yp,useFormState:ZE,useActionState:ZE,useOptimistic:function(n){var s=yn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=vp.bind(null,Me,!0,o),o.dispatch=s,[n,s]},useMemoCache:lp,useCacheRefresh:function(){return yn().memoizedState=mM.bind(null,Me)},useEffectEvent:function(n){var s=yn(),o={impl:n};return s.memoizedState=o,function(){if((We&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},_p={readContext:Zt,use:rh,useCallback:cT,useContext:Zt,useEffect:dp,useImperativeHandle:uT,useInsertionEffect:aT,useLayoutEffect:oT,useMemo:hT,useReducer:ih,useRef:rT,useState:function(){return ih(yi)},useDebugValue:pp,useDeferredValue:function(n,s){var o=wt();return fT(o,st.memoizedState,n,s)},useTransition:function(){var n=ih(yi)[0],s=wt().memoizedState;return[typeof n=="boolean"?n:$l(n),s]},useSyncExternalStore:zE,useId:gT,useHostTransitionStatus:yp,useFormState:eT,useActionState:eT,useOptimistic:function(n,s){var o=wt();return $E(o,st,n,s)},useMemoCache:lp,useCacheRefresh:yT};_p.useEffectEvent=sT;var TT={readContext:Zt,use:rh,useCallback:cT,useContext:Zt,useEffect:dp,useImperativeHandle:uT,useInsertionEffect:aT,useLayoutEffect:oT,useMemo:hT,useReducer:cp,useRef:rT,useState:function(){return cp(yi)},useDebugValue:pp,useDeferredValue:function(n,s){var o=wt();return st===null?mp(o,n,s):fT(o,st.memoizedState,n,s)},useTransition:function(){var n=cp(yi)[0],s=wt().memoizedState;return[typeof n=="boolean"?n:$l(n),s]},useSyncExternalStore:zE,useId:gT,useHostTransitionStatus:yp,useFormState:nT,useActionState:nT,useOptimistic:function(n,s){var o=wt();return st!==null?$E(o,st,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:lp,useCacheRefresh:yT};TT.useEffectEvent=sT;function bp(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:b({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Ep={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Un(),f=ss(u);f.payload=s,o!=null&&(f.callback=o),s=as(n,f,u),s!==null&&(An(s,n,u),Fl(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Un(),f=ss(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=as(n,f,u),s!==null&&(An(s,n,u),Fl(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Un(),u=ss(o);u.tag=2,s!=null&&(u.callback=s),s=as(n,u,o),s!==null&&(An(s,n,o),Fl(s,n,o))}};function ST(n,s,o,u,f,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,E):s.prototype&&s.prototype.isPureReactComponent?!kl(o,u)||!kl(f,p):!0}function xT(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Ep.enqueueReplaceState(s,s.state,null)}function pa(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=b({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function AT(n){Uc(n)}function wT(n){console.error(n)}function RT(n){Uc(n)}function lh(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function CT(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Tp(n,s,o){return o=ss(o),o.tag=3,o.payload={element:null},o.callback=function(){lh(n,s)},o}function IT(n){return n=ss(n),n.tag=3,n}function NT(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;n.payload=function(){return f(p)},n.callback=function(){CT(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){CT(s,o,u),typeof f!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function yM(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&fo(s,o,f,!0),o=kn.current,o!==null){switch(o.tag){case 31:case 13:return ir===null?bh():o.alternate===null&&bt===0&&(bt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Qc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),$p(n,u,f)),!1;case 22:return o.flags|=65536,u===Qc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),$p(n,u,f)),!1}throw Error(i(435,o.tag))}return $p(n,u,f),bh(),!1}if(He)return s=kn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==zd&&(n=Error(i(422),{cause:u}),Ll(er(n,o)))):(u!==zd&&(s=Error(i(423),{cause:u}),Ll(er(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=er(u,o),f=Tp(n.stateNode,u,f),Jd(n,f),bt!==4&&(bt=2)),!1;var p=Error(i(520),{cause:u});if(p=er(p,o),ru===null?ru=[p]:ru.push(p),bt!==4&&(bt=2),s===null)return!0;u=er(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Tp(o.stateNode,u,n),Jd(o,n),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(fs===null||!fs.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=IT(f),NT(f,n,o,u),Jd(o,f),!1}o=o.return}while(o!==null);return!1}var Sp=Error(i(461)),Vt=!1;function en(n,s,o,u){s.child=n===null?jE(s,null,o,u):fa(s,n.child,o,u)}function OT(n,s,o,u,f){o=o.render;var p=s.ref;if("ref"in u){var E={};for(var x in u)x!=="ref"&&(E[x]=u[x])}else E=u;return la(s),u=ip(n,s,o,E,p,f),x=sp(),n!==null&&!Vt?(ap(n,s,f),vi(n,s,f)):(He&&x&&Ud(s),s.flags|=1,en(n,s,u,f),s.child)}function DT(n,s,o,u,f){if(n===null){var p=o.type;return typeof p=="function"&&!Vd(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,MT(n,s,p,u,f)):(n=Fc(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!Op(n,f)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:kl,o(E,u)&&n.ref===s.ref)return vi(n,s,f)}return s.flags|=1,n=fi(p,u),n.ref=s.ref,n.return=s,s.child=n}function MT(n,s,o,u,f){if(n!==null){var p=n.memoizedProps;if(kl(p,u)&&n.ref===s.ref)if(Vt=!1,s.pendingProps=u=p,Op(n,f))(n.flags&131072)!==0&&(Vt=!0);else return s.lanes=n.lanes,vi(n,s,f)}return xp(n,s,o,u,f)}function jT(n,s,o,u){var f=u.children,p=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,n!==null){for(u=s.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~p}else u=0,s.child=null;return kT(n,s,p,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&$c(s,p!==null?p.cachePool:null),p!==null?PE(s,p):ep(),LE(s);else return u=s.lanes=536870912,kT(n,s,p!==null?p.baseLanes|o:o,o,u)}else p!==null?($c(s,p.cachePool),PE(s,p),ls(),s.memoizedState=null):(n!==null&&$c(s,null),ep(),ls());return en(n,s,f,o),s.child}function Xl(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function kT(n,s,o,u,f){var p=Yd();return p=p===null?null:{parent:jt._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},n!==null&&$c(s,null),ep(),LE(s),n!==null&&fo(n,s,u,!0),s.childLanes=f,null}function uh(n,s){return s=hh({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function VT(n,s,o){return fa(s,n.child,null,o),n=uh(s,s.pendingProps),n.flags|=2,Vn(s),s.memoizedState=null,n}function vM(n,s,o){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(He){if(u.mode==="hidden")return n=uh(s,u),s.lanes=536870912,Xl(null,n);if(np(s),(n=ft)?(n=YS(n,rr),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:es!==null?{id:Yr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},o=_E(n),o.return=s,s.child=o,Jt=s,ft=null)):n=null,n===null)throw ns(s);return s.lanes=536870912,null}return uh(s,u)}var p=n.memoizedState;if(p!==null){var E=p.dehydrated;if(np(s),f)if(s.flags&256)s.flags&=-257,s=VT(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(Vt||fo(n,s,o,!1),f=(o&n.childLanes)!==0,Vt||f){if(u=ut,u!==null&&(E=yl(u,o),E!==0&&E!==p.retryLane))throw p.retryLane=E,ia(n,E),An(u,n,E),Sp;bh(),s=VT(n,s,o)}else n=p.treeContext,ft=sr(E.nextSibling),Jt=s,He=!0,ts=null,rr=!1,n!==null&&TE(s,n),s=uh(s,u),s.flags|=4096;return s}return n=fi(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function ch(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function xp(n,s,o,u,f){return la(s),o=ip(n,s,o,u,void 0,f),u=sp(),n!==null&&!Vt?(ap(n,s,f),vi(n,s,f)):(He&&u&&Ud(s),s.flags|=1,en(n,s,o,f),s.child)}function PT(n,s,o,u,f,p){return la(s),s.updateQueue=null,o=qE(s,u,o,f),UE(n),u=sp(),n!==null&&!Vt?(ap(n,s,p),vi(n,s,p)):(He&&u&&Ud(s),s.flags|=1,en(n,s,o,p),s.child)}function LT(n,s,o,u,f){if(la(s),s.stateNode===null){var p=lo,E=o.contextType;typeof E=="object"&&E!==null&&(p=Zt(E)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ep,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},Xd(s),E=o.contextType,p.context=typeof E=="object"&&E!==null?Zt(E):lo,p.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(bp(s,o,E,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Ep.enqueueReplaceState(p,p.state,null),Gl(s,u,p,f),Hl(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){p=s.stateNode;var x=s.memoizedProps,V=pa(o,x);p.props=V;var $=p.context,te=o.contextType;E=lo,typeof te=="object"&&te!==null&&(E=Zt(te));var se=o.getDerivedStateFromProps;te=typeof se=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,te||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||$!==E)&&xT(s,p,u,E),is=!1;var Y=s.memoizedState;p.state=Y,Gl(s,u,p,f),Hl(),$=s.memoizedState,x||Y!==$||is?(typeof se=="function"&&(bp(s,o,se,u),$=s.memoizedState),(V=is||ST(s,o,V,u,Y,$,E))?(te||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=$),p.props=u,p.state=$,p.context=E,u=V):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,Wd(n,s),E=s.memoizedProps,te=pa(o,E),p.props=te,se=s.pendingProps,Y=p.context,$=o.contextType,V=lo,typeof $=="object"&&$!==null&&(V=Zt($)),x=o.getDerivedStateFromProps,($=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==se||Y!==V)&&xT(s,p,u,V),is=!1,Y=s.memoizedState,p.state=Y,Gl(s,u,p,f),Hl();var W=s.memoizedState;E!==se||Y!==W||is||n!==null&&n.dependencies!==null&&Gc(n.dependencies)?(typeof x=="function"&&(bp(s,o,x,u),W=s.memoizedState),(te=is||ST(s,o,te,u,Y,W,V)||n!==null&&n.dependencies!==null&&Gc(n.dependencies))?($||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,V)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=W),p.props=u,p.state=W,p.context=V,u=te):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),u=!1)}return p=u,ch(n,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&u?(s.child=fa(s,n.child,null,f),s.child=fa(s,null,o,f)):en(n,s,o,f),s.memoizedState=p.state,n=s.child):n=vi(n,s,f),n}function UT(n,s,o,u){return aa(),s.flags|=256,en(n,s,o,u),s.child}var Ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wp(n){return{baseLanes:n,cachePool:CE()}}function Rp(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Ln),n}function qT(n,s,o){var u=s.pendingProps,f=!1,p=(s.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(At.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(He){if(f?os(s):ls(),(n=ft)?(n=YS(n,rr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:es!==null?{id:Yr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},o=_E(n),o.return=s,s.child=o,Jt=s,ft=null)):n=null,n===null)throw ns(s);return um(n)?s.lanes=32:s.lanes=536870912,null}var x=u.children;return u=u.fallback,f?(ls(),f=s.mode,x=hh({mode:"hidden",children:x},f),u=sa(u,f,o,null),x.return=s,u.return=s,x.sibling=u,s.child=x,u=s.child,u.memoizedState=wp(o),u.childLanes=Rp(n,E,o),s.memoizedState=Ap,Xl(null,u)):(os(s),Cp(s,x))}var V=n.memoizedState;if(V!==null&&(x=V.dehydrated,x!==null)){if(p)s.flags&256?(os(s),s.flags&=-257,s=Ip(n,s,o)):s.memoizedState!==null?(ls(),s.child=n.child,s.flags|=128,s=null):(ls(),x=u.fallback,f=s.mode,u=hh({mode:"visible",children:u.children},f),x=sa(x,f,o,null),x.flags|=2,u.return=s,x.return=s,u.sibling=x,s.child=u,fa(s,n.child,null,o),u=s.child,u.memoizedState=wp(o),u.childLanes=Rp(n,E,o),s.memoizedState=Ap,s=Xl(null,u));else if(os(s),um(x)){if(E=x.nextSibling&&x.nextSibling.dataset,E)var $=E.dgst;E=$,u=Error(i(419)),u.stack="",u.digest=E,Ll({value:u,source:null,stack:null}),s=Ip(n,s,o)}else if(Vt||fo(n,s,o,!1),E=(o&n.childLanes)!==0,Vt||E){if(E=ut,E!==null&&(u=yl(E,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,ia(n,u),An(E,n,u),Sp;lm(x)||bh(),s=Ip(n,s,o)}else lm(x)?(s.flags|=192,s.child=n.child,s=null):(n=V.treeContext,ft=sr(x.nextSibling),Jt=s,He=!0,ts=null,rr=!1,n!==null&&TE(s,n),s=Cp(s,u.children),s.flags|=4096);return s}return f?(ls(),x=u.fallback,f=s.mode,V=n.child,$=V.sibling,u=fi(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,$!==null?x=fi($,x):(x=sa(x,f,o,null),x.flags|=2),x.return=s,u.return=s,u.sibling=x,s.child=u,Xl(null,u),u=s.child,x=n.child.memoizedState,x===null?x=wp(o):(f=x.cachePool,f!==null?(V=jt._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=CE(),x={baseLanes:x.baseLanes|o,cachePool:f}),u.memoizedState=x,u.childLanes=Rp(n,E,o),s.memoizedState=Ap,Xl(n.child,u)):(os(s),o=n.child,n=o.sibling,o=fi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=o,s.memoizedState=null,o)}function Cp(n,s){return s=hh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function hh(n,s){return n=jn(22,n,null,s),n.lanes=0,n}function Ip(n,s,o){return fa(s,n.child,null,o),n=Cp(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function zT(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Hd(n.return,s,o)}function Np(n,s,o,u,f,p){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:p}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=f,E.treeForkCount=p)}function BT(n,s,o){var u=s.pendingProps,f=u.revealOrder,p=u.tail;u=u.children;var E=At.current,x=(E&2)!==0;if(x?(E=E&1|2,s.flags|=128):E&=1,re(At,E),en(n,s,u,o),u=He?Pl:0,!x&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&zT(n,o,s);else if(n.tag===19)zT(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&Zc(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Np(s,!1,f,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Zc(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Np(s,!0,o,null,p,u);break;case"together":Np(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function vi(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),hs|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(fo(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,o=fi(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=fi(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Op(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Gc(n)))}function _M(n,s,o){switch(s.tag){case 3:et(s,s.stateNode.containerInfo),rs(s,jt,n.memoizedState.cache),aa();break;case 27:case 5:In(s);break;case 4:et(s,s.stateNode.containerInfo);break;case 10:rs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,np(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(os(s),s.flags|=128,null):(o&s.child.childLanes)!==0?qT(n,s,o):(os(s),n=vi(n,s,o),n!==null?n.sibling:null);os(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(fo(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return BT(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(At,At.current),u)break;return null;case 22:return s.lanes=0,jT(n,s,o,s.pendingProps);case 24:rs(s,jt,n.memoizedState.cache)}return vi(n,s,o)}function FT(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Vt=!0;else{if(!Op(n,o)&&(s.flags&128)===0)return Vt=!1,_M(n,s,o);Vt=(n.flags&131072)!==0}else Vt=!1,He&&(s.flags&1048576)!==0&&EE(s,Pl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=ca(s.elementType),s.type=n,typeof n=="function")Vd(n)?(u=pa(n,u),s.tag=1,s=LT(null,s,n,u,o)):(s.tag=0,s=xp(null,s,n,u,o));else{if(n!=null){var f=n.$$typeof;if(f===le){s.tag=11,s=OT(null,s,n,u,o);break e}else if(f===C){s.tag=14,s=DT(null,s,n,u,o);break e}}throw s=we(n)||n,Error(i(306,s,""))}}return s;case 0:return xp(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=pa(u,s.pendingProps),LT(n,s,u,f,o);case 3:e:{if(et(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var p=s.memoizedState;f=p.element,Wd(n,s),Gl(s,u,null,o);var E=s.memoizedState;if(u=E.cache,rs(s,jt,u),u!==p.cache&&Gd(s,[jt],o,!0),Hl(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=UT(n,s,u,o);break e}else if(u!==f){f=er(Error(i(424)),s),Ll(f),s=UT(n,s,u,o);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,ft=sr(n.firstChild),Jt=s,He=!0,ts=null,rr=!0,o=jE(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(aa(),u===f){s=vi(n,s,o);break e}en(n,s,u,o)}s=s.child}return s;case 26:return ch(n,s),n===null?(o=ex(s.type,null,s.pendingProps,null))?s.memoizedState=o:He||(o=s.type,n=s.pendingProps,u=Rh(ve.current).createElement(o),u[Ot]=s,u[Kt]=n,tn(u,o,n),Dt(u),s.stateNode=u):s.memoizedState=ex(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return In(s),n===null&&He&&(u=s.stateNode=WS(s.type,s.pendingProps,ve.current),Jt=s,rr=!0,f=ft,gs(s.type)?(cm=f,ft=sr(u.firstChild)):ft=f),en(n,s,s.pendingProps.children,o),ch(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&He&&((f=u=ft)&&(u=QM(u,s.type,s.pendingProps,rr),u!==null?(s.stateNode=u,Jt=s,ft=sr(u.firstChild),rr=!1,f=!0):f=!1),f||ns(s)),In(s),f=s.type,p=s.pendingProps,E=n!==null?n.memoizedProps:null,u=p.children,sm(f,p)?u=null:E!==null&&sm(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=ip(n,s,cM,null,null,o),hu._currentValue=f),ch(n,s),en(n,s,u,o),s.child;case 6:return n===null&&He&&((n=o=ft)&&(o=XM(o,s.pendingProps,rr),o!==null?(s.stateNode=o,Jt=s,ft=null,n=!0):n=!1),n||ns(s)),null;case 13:return qT(n,s,o);case 4:return et(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=fa(s,null,u,o):en(n,s,u,o),s.child;case 11:return OT(n,s,s.type,s.pendingProps,o);case 7:return en(n,s,s.pendingProps,o),s.child;case 8:return en(n,s,s.pendingProps.children,o),s.child;case 12:return en(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,rs(s,s.type,u.value),en(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,la(s),f=Zt(f),u=u(f),s.flags|=1,en(n,s,u,o),s.child;case 14:return DT(n,s,s.type,s.pendingProps,o);case 15:return MT(n,s,s.type,s.pendingProps,o);case 19:return BT(n,s,o);case 31:return vM(n,s,o);case 22:return jT(n,s,o,s.pendingProps);case 24:return la(s),u=Zt(jt),n===null?(f=Yd(),f===null&&(f=ut,p=Kd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),s.memoizedState={parent:u,cache:f},Xd(s),rs(s,jt,f)):((n.lanes&o)!==0&&(Wd(n,s),Gl(s,null,null,o),Hl()),f=n.memoizedState,p=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),rs(s,jt,u)):(u=p.cache,rs(s,jt,u),u!==f.cache&&Gd(s,[jt],o,!0))),en(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function _i(n){n.flags|=4}function Dp(n,s,o,u,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(gS())n.flags|=8192;else throw ha=Qc,Qd}else n.flags&=-16777217}function HT(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!sx(s))if(gS())n.flags|=8192;else throw ha=Qc,Qd}function fh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?vc():536870912,n.lanes|=s,Ao|=s)}function Wl(n,s){if(!He)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function dt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function bM(n,s,o){var u=s.pendingProps;switch(qd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(s),null;case 1:return dt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),mi(jt),Qe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ho(s)?_i(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bd())),dt(s),null;case 26:var f=s.type,p=s.memoizedState;return n===null?(_i(s),p!==null?(dt(s),HT(s,p)):(dt(s),Dp(s,f,null,u,o))):p?p!==n.memoizedState?(_i(s),dt(s),HT(s,p)):(dt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&_i(s),dt(s),Dp(s,f,n,u,o)),null;case 27:if(oi(s),o=ve.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&_i(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return dt(s),null}n=ce.current,ho(s)?SE(s):(n=WS(f,u,o),s.stateNode=n,_i(s))}return dt(s),null;case 5:if(oi(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&_i(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return dt(s),null}if(p=ce.current,ho(s))SE(s);else{var E=Rh(ve.current);switch(p){case 1:p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=E.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?E.createElement(f,{is:u.is}):E.createElement(f)}}p[Ot]=s,p[Kt]=u;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)p.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=p;e:switch(tn(p,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&_i(s)}}return dt(s),Dp(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&_i(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=ve.current,ho(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=Jt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Ot]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||qS(n.nodeValue,o)),n||ns(s,!0)}else n=Rh(n).createTextNode(u),n[Ot]=s,s.stateNode=n}return dt(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=ho(s),o!==null){if(n===null){if(!u)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Ot]=s}else aa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),n=!1}else o=Bd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(Vn(s),s):(Vn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return dt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ho(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Ot]=s}else aa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),f=!1}else f=Bd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Vn(s),s):(Vn(s),null)}return Vn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),fh(s,s.updateQueue),dt(s),null);case 4:return Qe(),n===null&&em(s.stateNode.containerInfo),dt(s),null;case 10:return mi(s.type),dt(s),null;case 19:if(X(At),u=s.memoizedState,u===null)return dt(s),null;if(f=(s.flags&128)!==0,p=u.rendering,p===null)if(f)Wl(u,!1);else{if(bt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=Zc(n),p!==null){for(s.flags|=128,Wl(u,!1),n=p.updateQueue,s.updateQueue=n,fh(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)vE(o,n),o=o.sibling;return re(At,At.current&1|2),He&&di(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&Ct()>yh&&(s.flags|=128,f=!0,Wl(u,!1),s.lanes=4194304)}else{if(!f)if(n=Zc(p),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,fh(s,n),Wl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!He)return dt(s),null}else 2*Ct()-u.renderingStartTime>yh&&o!==536870912&&(s.flags|=128,f=!0,Wl(u,!1),s.lanes=4194304);u.isBackwards?(p.sibling=s.child,s.child=p):(n=u.last,n!==null?n.sibling=p:s.child=p,u.last=p)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ct(),n.sibling=null,o=At.current,re(At,f?o&1|2:o&1),He&&di(s,u.treeForkCount),n):(dt(s),null);case 22:case 23:return Vn(s),tp(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(dt(s),s.subtreeFlags&6&&(s.flags|=8192)):dt(s),o=s.updateQueue,o!==null&&fh(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&X(ua),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),mi(jt),dt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function EM(n,s){switch(qd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return mi(jt),Qe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return oi(s),null;case 31:if(s.memoizedState!==null){if(Vn(s),s.alternate===null)throw Error(i(340));aa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Vn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));aa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return X(At),null;case 4:return Qe(),null;case 10:return mi(s.type),null;case 22:case 23:return Vn(s),tp(),n!==null&&X(ua),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return mi(jt),null;case 25:return null;default:return null}}function GT(n,s){switch(qd(s),s.tag){case 3:mi(jt),Qe();break;case 26:case 27:case 5:oi(s);break;case 4:Qe();break;case 31:s.memoizedState!==null&&Vn(s);break;case 13:Vn(s);break;case 19:X(At);break;case 10:mi(s.type);break;case 22:case 23:Vn(s),tp(),n!==null&&X(ua);break;case 24:mi(jt)}}function Jl(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==f)}}catch(x){rt(s,s.return,x)}}function us(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&n)===n){var E=u.inst,x=E.destroy;if(x!==void 0){E.destroy=void 0,f=s;var V=o,$=x;try{$()}catch(te){rt(f,V,te)}}}u=u.next}while(u!==p)}}catch(te){rt(s,s.return,te)}}function KT(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{VE(s,o)}catch(u){rt(n,n.return,u)}}}function $T(n,s,o){o.props=pa(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){rt(n,s,u)}}function Zl(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){rt(n,s,f)}}function Xr(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){rt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){rt(n,s,f)}else o.current=null}function YT(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){rt(n,n.return,f)}}function Mp(n,s,o){try{var u=n.stateNode;FM(u,n.type,o,s),u[Kt]=s}catch(f){rt(n,n.return,f)}}function QT(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&gs(n.type)||n.tag===4}function jp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||QT(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&gs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function kp(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=dr));else if(u!==4&&(u===27&&gs(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(kp(n,s,o),n=n.sibling;n!==null;)kp(n,s,o),n=n.sibling}function dh(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&gs(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(dh(n,s,o),n=n.sibling;n!==null;)dh(n,s,o),n=n.sibling}function XT(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);tn(s,u,o),s[Ot]=n,s[Kt]=o}catch(p){rt(n,n.return,p)}}var bi=!1,Pt=!1,Vp=!1,WT=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function TM(n,s){if(n=n.containerInfo,rm=jh,n=uE(n),Id(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,x=-1,V=-1,$=0,te=0,se=n,Y=null;t:for(;;){for(var W;se!==o||f!==0&&se.nodeType!==3||(x=E+f),se!==p||u!==0&&se.nodeType!==3||(V=E+u),se.nodeType===3&&(E+=se.nodeValue.length),(W=se.firstChild)!==null;)Y=se,se=W;for(;;){if(se===n)break t;if(Y===o&&++$===f&&(x=E),Y===p&&++te===u&&(V=E),(W=se.nextSibling)!==null)break;se=Y,Y=se.parentNode}se=W}o=x===-1||V===-1?null:{start:x,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(im={focusedElem:n,selectionRange:o},jh=!1,Yt=s;Yt!==null;)if(s=Yt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Yt=n;else for(;Yt!==null;){switch(s=Yt,p=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=s,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var ye=pa(o.type,f);n=u.getSnapshotBeforeUpdate(ye,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(xe){rt(o,o.return,xe)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)om(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":om(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,Yt=n;break}Yt=s.return}}function JT(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ti(n,o),u&4&&Jl(5,o);break;case 1:if(Ti(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(E){rt(o,o.return,E)}else{var f=pa(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){rt(o,o.return,E)}}u&64&&KT(o),u&512&&Zl(o,o.return);break;case 3:if(Ti(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{VE(n,s)}catch(E){rt(o,o.return,E)}}break;case 27:s===null&&u&4&&XT(o);case 26:case 5:Ti(n,o),s===null&&u&4&&YT(o),u&512&&Zl(o,o.return);break;case 12:Ti(n,o);break;case 31:Ti(n,o),u&4&&tS(n,o);break;case 13:Ti(n,o),u&4&&nS(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=OM.bind(null,o),WM(n,o))));break;case 22:if(u=o.memoizedState!==null||bi,!u){s=s!==null&&s.memoizedState!==null||Pt,f=bi;var p=Pt;bi=u,(Pt=s)&&!p?Si(n,o,(o.subtreeFlags&8772)!==0):Ti(n,o),bi=f,Pt=p}break;case 30:break;default:Ti(n,o)}}function ZT(n){var s=n.alternate;s!==null&&(n.alternate=null,ZT(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ya(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var gt=null,En=!1;function Ei(n,s,o){for(o=o.child;o!==null;)eS(n,s,o),o=o.sibling}function eS(n,s,o){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(It,o)}catch{}switch(o.tag){case 26:Pt||Xr(o,s),Ei(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Pt||Xr(o,s);var u=gt,f=En;gs(o.type)&&(gt=o.stateNode,En=!1),Ei(n,s,o),lu(o.stateNode),gt=u,En=f;break;case 5:Pt||Xr(o,s);case 6:if(u=gt,f=En,gt=null,Ei(n,s,o),gt=u,En=f,gt!==null)if(En)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(o.stateNode)}catch(p){rt(o,s,p)}else try{gt.removeChild(o.stateNode)}catch(p){rt(o,s,p)}break;case 18:gt!==null&&(En?(n=gt,KS(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Mo(n)):KS(gt,o.stateNode));break;case 4:u=gt,f=En,gt=o.stateNode.containerInfo,En=!0,Ei(n,s,o),gt=u,En=f;break;case 0:case 11:case 14:case 15:us(2,o,s),Pt||us(4,o,s),Ei(n,s,o);break;case 1:Pt||(Xr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&$T(o,s,u)),Ei(n,s,o);break;case 21:Ei(n,s,o);break;case 22:Pt=(u=Pt)||o.memoizedState!==null,Ei(n,s,o),Pt=u;break;default:Ei(n,s,o)}}function tS(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Mo(n)}catch(o){rt(s,s.return,o)}}}function nS(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Mo(n)}catch(o){rt(s,s.return,o)}}function SM(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new WT),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new WT),s;default:throw Error(i(435,n.tag))}}function ph(n,s){var o=SM(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var f=DM.bind(null,n,u);u.then(f,f)}})}function Tn(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=n,E=s,x=E;e:for(;x!==null;){switch(x.tag){case 27:if(gs(x.type)){gt=x.stateNode,En=!1;break e}break;case 5:gt=x.stateNode,En=!1;break e;case 3:case 4:gt=x.stateNode.containerInfo,En=!0;break e}x=x.return}if(gt===null)throw Error(i(160));eS(p,E,f),gt=null,En=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)rS(s,n),s=s.sibling}var _r=null;function rS(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Tn(s,n),Sn(n),u&4&&(us(3,n,n.return),Jl(3,n),us(5,n,n.return));break;case 1:Tn(s,n),Sn(n),u&512&&(Pt||o===null||Xr(o,o.return)),u&64&&bi&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=_r;if(Tn(s,n),Sn(n),u&512&&(Pt||o===null||Xr(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Vr]||p[Ot]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),tn(p,u,o),p[Ot]=n,Dt(p),u=p;break e;case"link":var E=rx("link","href",f).get(u+(o.href||""));if(E){for(var x=0;x<E.length;x++)if(p=E[x],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(x,1);break t}}p=f.createElement(u),tn(p,u,o),f.head.appendChild(p);break;case"meta":if(E=rx("meta","content",f).get(u+(o.content||""))){for(x=0;x<E.length;x++)if(p=E[x],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(x,1);break t}}p=f.createElement(u),tn(p,u,o),f.head.appendChild(p);break;default:throw Error(i(468,u))}p[Ot]=n,Dt(p),u=p}n.stateNode=u}else ix(f,n.type,n.stateNode);else n.stateNode=nx(f,u,n.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?ix(f,n.type,n.stateNode):nx(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Mp(n,n.memoizedProps,o.memoizedProps)}break;case 27:Tn(s,n),Sn(n),u&512&&(Pt||o===null||Xr(o,o.return)),o!==null&&u&4&&Mp(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Tn(s,n),Sn(n),u&512&&(Pt||o===null||Xr(o,o.return)),n.flags&32){f=n.stateNode;try{bn(f,"")}catch(ye){rt(n,n.return,ye)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Mp(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Vp=!0);break;case 6:if(Tn(s,n),Sn(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(ye){rt(n,n.return,ye)}}break;case 3:if(Nh=null,f=_r,_r=Ch(s.containerInfo),Tn(s,n),_r=f,Sn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Mo(s.containerInfo)}catch(ye){rt(n,n.return,ye)}Vp&&(Vp=!1,iS(n));break;case 4:u=_r,_r=Ch(n.stateNode.containerInfo),Tn(s,n),Sn(n),_r=u;break;case 12:Tn(s,n),Sn(n);break;case 31:Tn(s,n),Sn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,ph(n,u)));break;case 13:Tn(s,n),Sn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(gh=Ct()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,ph(n,u)));break;case 22:f=n.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,$=bi,te=Pt;if(bi=$||f,Pt=te||V,Tn(s,n),Pt=te,bi=$,Sn(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||V||bi||Pt||ma(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(p=V.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{x=V.stateNode;var se=V.memoizedProps.style,Y=se!=null&&se.hasOwnProperty("display")?se.display:null;x.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ye){rt(V,V.return,ye)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(ye){rt(V,V.return,ye)}}}else if(s.tag===18){if(o===null){V=s;try{var W=V.stateNode;f?$S(W,!0):$S(V.stateNode,!1)}catch(ye){rt(V,V.return,ye)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,ph(n,o))));break;case 19:Tn(s,n),Sn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,ph(n,u)));break;case 30:break;case 21:break;default:Tn(s,n),Sn(n)}}function Sn(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(QT(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,p=jp(n);dh(n,p,f);break;case 5:var E=o.stateNode;o.flags&32&&(bn(E,""),o.flags&=-33);var x=jp(n);dh(n,x,E);break;case 3:case 4:var V=o.stateNode.containerInfo,$=jp(n);kp(n,$,V);break;default:throw Error(i(161))}}catch(te){rt(n,n.return,te)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function iS(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;iS(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ti(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)JT(n,s.alternate,s),s=s.sibling}function ma(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:us(4,s,s.return),ma(s);break;case 1:Xr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&$T(s,s.return,o),ma(s);break;case 27:lu(s.stateNode);case 26:case 5:Xr(s,s.return),ma(s);break;case 22:s.memoizedState===null&&ma(s);break;case 30:ma(s);break;default:ma(s)}n=n.sibling}}function Si(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,p=s,E=p.flags;switch(p.tag){case 0:case 11:case 15:Si(f,p,o),Jl(4,p);break;case 1:if(Si(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){rt(u,u.return,$)}if(u=p,f=u.updateQueue,f!==null){var x=u.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)kE(V[f],x)}catch($){rt(u,u.return,$)}}o&&E&64&&KT(p),Zl(p,p.return);break;case 27:XT(p);case 26:case 5:Si(f,p,o),o&&u===null&&E&4&&YT(p),Zl(p,p.return);break;case 12:Si(f,p,o);break;case 31:Si(f,p,o),o&&E&4&&tS(f,p);break;case 13:Si(f,p,o),o&&E&4&&nS(f,p);break;case 22:p.memoizedState===null&&Si(f,p,o),Zl(p,p.return);break;case 30:break;default:Si(f,p,o)}s=s.sibling}}function Pp(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Ul(o))}function Lp(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ul(n))}function br(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sS(n,s,o,u),s=s.sibling}function sS(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:br(n,s,o,u),f&2048&&Jl(9,s);break;case 1:br(n,s,o,u);break;case 3:br(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ul(n)));break;case 12:if(f&2048){br(n,s,o,u),n=s.stateNode;try{var p=s.memoizedProps,E=p.id,x=p.onPostCommit;typeof x=="function"&&x(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){rt(s,s.return,V)}}else br(n,s,o,u);break;case 31:br(n,s,o,u);break;case 13:br(n,s,o,u);break;case 23:break;case 22:p=s.stateNode,E=s.alternate,s.memoizedState!==null?p._visibility&2?br(n,s,o,u):eu(n,s):p._visibility&2?br(n,s,o,u):(p._visibility|=2,To(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Pp(E,s);break;case 24:br(n,s,o,u),f&2048&&Lp(s.alternate,s);break;default:br(n,s,o,u)}}function To(n,s,o,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=n,E=s,x=o,V=u,$=E.flags;switch(E.tag){case 0:case 11:case 15:To(p,E,x,V,f),Jl(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?To(p,E,x,V,f):eu(p,E):(te._visibility|=2,To(p,E,x,V,f)),f&&$&2048&&Pp(E.alternate,E);break;case 24:To(p,E,x,V,f),f&&$&2048&&Lp(E.alternate,E);break;default:To(p,E,x,V,f)}s=s.sibling}}function eu(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:eu(o,u),f&2048&&Pp(u.alternate,u);break;case 24:eu(o,u),f&2048&&Lp(u.alternate,u);break;default:eu(o,u)}s=s.sibling}}var tu=8192;function So(n,s,o){if(n.subtreeFlags&tu)for(n=n.child;n!==null;)aS(n,s,o),n=n.sibling}function aS(n,s,o){switch(n.tag){case 26:So(n,s,o),n.flags&tu&&n.memoizedState!==null&&uj(o,_r,n.memoizedState,n.memoizedProps);break;case 5:So(n,s,o);break;case 3:case 4:var u=_r;_r=Ch(n.stateNode.containerInfo),So(n,s,o),_r=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=tu,tu=16777216,So(n,s,o),tu=u):So(n,s,o));break;default:So(n,s,o)}}function oS(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function nu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,uS(u,n)}oS(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)lS(n),n=n.sibling}function lS(n){switch(n.tag){case 0:case 11:case 15:nu(n),n.flags&2048&&us(9,n,n.return);break;case 3:nu(n);break;case 12:nu(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,mh(n)):nu(n);break;default:nu(n)}}function mh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,uS(u,n)}oS(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:us(8,s,s.return),mh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,mh(s));break;default:mh(s)}n=n.sibling}}function uS(n,s){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:us(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ul(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Yt=u;else e:for(o=n;Yt!==null;){u=Yt;var f=u.sibling,p=u.return;if(ZT(u),u===o){Yt=null;break e}if(f!==null){f.return=p,Yt=f;break e}Yt=p}}}var xM={getCacheForType:function(n){var s=Zt(jt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return Zt(jt).controller.signal}},AM=typeof WeakMap=="function"?WeakMap:Map,We=0,ut=null,Ve=null,Le=0,nt=0,Pn=null,cs=!1,xo=!1,Up=!1,xi=0,bt=0,hs=0,ga=0,qp=0,Ln=0,Ao=0,ru=null,xn=null,zp=!1,gh=0,cS=0,yh=1/0,vh=null,fs=null,Ht=0,ds=null,wo=null,Ai=0,Bp=0,Fp=null,hS=null,iu=0,Hp=null;function Un(){return(We&2)!==0&&Le!==0?Le&-Le:Z.T!==null?Xp():_c()}function fS(){if(Ln===0)if((Le&536870912)===0||He){var n=Fs;Fs<<=1,(Fs&3932160)===0&&(Fs=262144),Ln=n}else Ln=536870912;return n=kn.current,n!==null&&(n.flags|=32),Ln}function An(n,s,o){(n===ut&&(nt===2||nt===9)||n.cancelPendingCommit!==null)&&(Ro(n,0),ps(n,Le,Ln,!1)),Hs(n,o),((We&2)===0||n!==ut)&&(n===ut&&((We&2)===0&&(ga|=o),bt===4&&ps(n,Le,Ln,!1)),Wr(n))}function dS(n,s,o){if((We&6)!==0)throw Error(i(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||cr(n,s),f=u?CM(n,s):Kp(n,s,!0),p=u;do{if(f===0){xo&&!u&&ps(n,s,0,!1);break}else{if(o=n.current.alternate,p&&!wM(o)){f=Kp(n,s,!1),p=!1;continue}if(f===2){if(p=s,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var x=n;f=ru;var V=x.current.memoizedState.isDehydrated;if(V&&(Ro(x,E).flags|=256),E=Kp(x,E,!1),E!==2){if(Up&&!V){x.errorRecoveryDisabledLanes|=p,ga|=p,f=4;break e}p=xn,xn=f,p!==null&&(xn===null?xn=p:xn.push.apply(xn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Ro(n,0),ps(n,s,0,!0);break}e:{switch(u=n,p=f,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ps(u,s,Ln,!cs);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=gh+300-Ct(),10<f)){if(ps(u,s,Ln,!cs),Mr(u,0,!0)!==0)break e;Ai=s,u.timeoutHandle=HS(pS.bind(null,u,o,xn,vh,zp,s,Ln,ga,Ao,cs,p,"Throttled",-0,0),f);break e}pS(u,o,xn,vh,zp,s,Ln,ga,Ao,cs,p,null,-0,0)}}break}while(!0);Wr(n)}function pS(n,s,o,u,f,p,E,x,V,$,te,se,Y,W){if(n.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:dr},aS(s,p,se);var ye=(p&62914560)===p?gh-Ct():(p&4194048)===p?cS-Ct():0;if(ye=cj(se,ye),ye!==null){Ai=p,n.cancelPendingCommit=ye(TS.bind(null,n,s,p,o,u,f,E,x,V,te,se,null,Y,W)),ps(n,p,E,!$);return}}TS(n,s,p,o,u,f,E,x,V)}function wM(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!Mn(p(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ps(n,s,o,u){s&=~qp,s&=~ga,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var p=31-St(f),E=1<<p;u[p]=-1,f&=~E}o!==0&&Gs(n,o,s)}function _h(){return(We&6)===0?(su(0),!1):!0}function Gp(){if(Ve!==null){if(nt===0)var n=Ve.return;else n=Ve,pi=oa=null,op(n),yo=null,zl=0,n=Ve;for(;n!==null;)GT(n.alternate,n),n=n.return;Ve=null}}function Ro(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,KM(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Ai=0,Gp(),ut=n,Ve=o=fi(n.current,null),Le=s,nt=0,Pn=null,cs=!1,xo=cr(n,s),Up=!1,Ao=Ln=qp=ga=hs=bt=0,xn=ru=null,zp=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-St(u),p=1<<f;s|=n[f],u&=~p}return xi=s,qc(),o}function mS(n,s){Me=null,Z.H=Ql,s===go||s===Yc?(s=OE(),nt=3):s===Qd?(s=OE(),nt=4):nt=s===Sp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pn=s,Ve===null&&(bt=1,lh(n,er(s,n.current)))}function gS(){var n=kn.current;return n===null?!0:(Le&4194048)===Le?ir===null:(Le&62914560)===Le||(Le&536870912)!==0?n===ir:!1}function yS(){var n=Z.H;return Z.H=Ql,n===null?Ql:n}function vS(){var n=Z.A;return Z.A=xM,n}function bh(){bt=4,cs||(Le&4194048)!==Le&&kn.current!==null||(xo=!0),(hs&134217727)===0&&(ga&134217727)===0||ut===null||ps(ut,Le,Ln,!1)}function Kp(n,s,o){var u=We;We|=2;var f=yS(),p=vS();(ut!==n||Le!==s)&&(vh=null,Ro(n,s)),s=!1;var E=bt;e:do try{if(nt!==0&&Ve!==null){var x=Ve,V=Pn;switch(nt){case 8:Gp(),E=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(s=!0);var $=nt;if(nt=0,Pn=null,Co(n,x,V,$),o&&xo){E=0;break e}break;default:$=nt,nt=0,Pn=null,Co(n,x,V,$)}}RM(),E=bt;break}catch(te){mS(n,te)}while(!0);return s&&n.shellSuspendCounter++,pi=oa=null,We=u,Z.H=f,Z.A=p,Ve===null&&(ut=null,Le=0,qc()),E}function RM(){for(;Ve!==null;)_S(Ve)}function CM(n,s){var o=We;We|=2;var u=yS(),f=vS();ut!==n||Le!==s?(vh=null,yh=Ct()+500,Ro(n,s)):xo=cr(n,s);e:do try{if(nt!==0&&Ve!==null){s=Ve;var p=Pn;t:switch(nt){case 1:nt=0,Pn=null,Co(n,s,p,1);break;case 2:case 9:if(IE(p)){nt=0,Pn=null,bS(s);break}s=function(){nt!==2&&nt!==9||ut!==n||(nt=7),Wr(n)},p.then(s,s);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:IE(p)?(nt=0,Pn=null,bS(s)):(nt=0,Pn=null,Co(n,s,p,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var x=Ve;if(E?sx(E):x.stateNode.complete){nt=0,Pn=null;var V=x.sibling;if(V!==null)Ve=V;else{var $=x.return;$!==null?(Ve=$,Eh($)):Ve=null}break t}}nt=0,Pn=null,Co(n,s,p,5);break;case 6:nt=0,Pn=null,Co(n,s,p,6);break;case 8:Gp(),bt=6;break e;default:throw Error(i(462))}}IM();break}catch(te){mS(n,te)}while(!0);return pi=oa=null,Z.H=u,Z.A=f,We=o,Ve!==null?0:(ut=null,Le=0,qc(),bt)}function IM(){for(;Ve!==null&&!Kn();)_S(Ve)}function _S(n){var s=FT(n.alternate,n,xi);n.memoizedProps=n.pendingProps,s===null?Eh(n):Ve=s}function bS(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=PT(o,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=PT(o,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:op(s);default:GT(o,s),s=Ve=vE(s,xi),s=FT(o,s,xi)}n.memoizedProps=n.pendingProps,s===null?Eh(n):Ve=s}function Co(n,s,o,u){pi=oa=null,op(s),yo=null,zl=0;var f=s.return;try{if(yM(n,f,s,o,Le)){bt=1,lh(n,er(o,n.current)),Ve=null;return}}catch(p){if(f!==null)throw Ve=f,p;bt=1,lh(n,er(o,n.current)),Ve=null;return}s.flags&32768?(He||u===1?n=!0:xo||(Le&536870912)!==0?n=!1:(cs=n=!0,(u===2||u===9||u===3||u===6)&&(u=kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),ES(s,n)):Eh(s)}function Eh(n){var s=n;do{if((s.flags&32768)!==0){ES(s,cs);return}n=s.return;var o=bM(s.alternate,s,xi);if(o!==null){Ve=o;return}if(s=s.sibling,s!==null){Ve=s;return}Ve=s=n}while(s!==null);bt===0&&(bt=5)}function ES(n,s){do{var o=EM(n.alternate,n);if(o!==null){o.flags&=32767,Ve=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=o}while(n!==null);bt=6,Ve=null}function TS(n,s,o,u,f,p,E,x,V){n.cancelPendingCommit=null;do Th();while(Ht!==0);if((We&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=jd,Ad(n,o,p,E,x,V),n===ut&&(Ve=ut=null,Le=0),wo=s,ds=n,Ai=o,Bp=p,Fp=f,hS=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,MM(mn,function(){return RS(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=he.p,he.p=2,E=We,We|=4;try{TM(n,s,o)}finally{We=E,he.p=f,Z.T=u}}Ht=1,SS(),xS(),AS()}}function SS(){if(Ht===1){Ht=0;var n=ds,s=wo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=he.p;he.p=2;var f=We;We|=4;try{rS(s,n);var p=im,E=uE(n.containerInfo),x=p.focusedElem,V=p.selectionRange;if(E!==x&&x&&x.ownerDocument&&lE(x.ownerDocument.documentElement,x)){if(V!==null&&Id(x)){var $=V.start,te=V.end;if(te===void 0&&(te=$),"selectionStart"in x)x.selectionStart=$,x.selectionEnd=Math.min(te,x.value.length);else{var se=x.ownerDocument||document,Y=se&&se.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),ye=x.textContent.length,xe=Math.min(V.start,ye),ot=V.end===void 0?xe:Math.min(V.end,ye);!W.extend&&xe>ot&&(E=ot,ot=xe,xe=E);var H=oE(x,xe),q=oE(x,ot);if(H&&q&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==q.node||W.focusOffset!==q.offset)){var K=se.createRange();K.setStart(H.node,H.offset),W.removeAllRanges(),xe>ot?(W.addRange(K),W.extend(q.node,q.offset)):(K.setEnd(q.node,q.offset),W.addRange(K))}}}}for(se=[],W=x;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<se.length;x++){var ne=se[x];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}jh=!!rm,im=rm=null}finally{We=f,he.p=u,Z.T=o}}n.current=s,Ht=2}}function xS(){if(Ht===2){Ht=0;var n=ds,s=wo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=he.p;he.p=2;var f=We;We|=4;try{JT(n,s.alternate,s)}finally{We=f,he.p=u,Z.T=o}}Ht=3}}function AS(){if(Ht===4||Ht===3){Ht=0,Ft();var n=ds,s=wo,o=Ai,u=hS;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ht=5:(Ht=0,wo=ds=null,wS(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(fs=null),li(o),s=s.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(It,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,f=he.p,he.p=2,Z.T=null;try{for(var p=n.onRecoverableError,E=0;E<u.length;E++){var x=u[E];p(x.value,{componentStack:x.stack})}}finally{Z.T=s,he.p=f}}(Ai&3)!==0&&Th(),Wr(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===Hp?iu++:(iu=0,Hp=n):iu=0,su(0)}}function wS(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Ul(s)))}function Th(){return SS(),xS(),AS(),RS()}function RS(){if(Ht!==5)return!1;var n=ds,s=Bp;Bp=0;var o=li(Ai),u=Z.T,f=he.p;try{he.p=32>o?32:o,Z.T=null,o=Fp,Fp=null;var p=ds,E=Ai;if(Ht=0,wo=ds=null,Ai=0,(We&6)!==0)throw Error(i(331));var x=We;if(We|=4,lS(p.current),sS(p,p.current,E,o),We=x,su(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(It,p)}catch{}return!0}finally{he.p=f,Z.T=u,wS(n,s)}}function CS(n,s,o){s=er(o,s),s=Tp(n.stateNode,s,2),n=as(n,s,2),n!==null&&(Hs(n,2),Wr(n))}function rt(n,s,o){if(n.tag===3)CS(n,n,o);else for(;s!==null;){if(s.tag===3){CS(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(fs===null||!fs.has(u))){n=er(o,n),o=IT(2),u=as(s,o,2),u!==null&&(NT(o,u,s,n),Hs(u,2),Wr(u));break}}s=s.return}}function $p(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new AM;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Up=!0,f.add(o),n=NM.bind(null,n,s,o),s.then(n,n))}function NM(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ut===n&&(Le&o)===o&&(bt===4||bt===3&&(Le&62914560)===Le&&300>Ct()-gh?(We&2)===0&&Ro(n,0):qp|=o,Ao===Le&&(Ao=0)),Wr(n)}function IS(n,s){s===0&&(s=vc()),n=ia(n,s),n!==null&&(Hs(n,s),Wr(n))}function OM(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),IS(n,o)}function DM(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),IS(n,o)}function MM(n,s){return Tt(n,s)}var Sh=null,Io=null,Yp=!1,xh=!1,Qp=!1,ms=0;function Wr(n){n!==Io&&n.next===null&&(Io===null?Sh=Io=n:Io=Io.next=n),xh=!0,Yp||(Yp=!0,kM())}function su(n,s){if(!Qp&&xh){Qp=!0;do for(var o=!1,u=Sh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var E=u.suspendedLanes,x=u.pingedLanes;p=(1<<31-St(42|n)+1)-1,p&=f&~(E&~x),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,MS(u,p))}else p=Le,p=Mr(u,u===ut?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||cr(u,p)||(o=!0,MS(u,p));u=u.next}while(o);Qp=!1}}function jM(){NS()}function NS(){xh=Yp=!1;var n=0;ms!==0&&GM()&&(n=ms);for(var s=Ct(),o=null,u=Sh;u!==null;){var f=u.next,p=OS(u,s);p===0?(u.next=null,o===null?Sh=f:o.next=f,f===null&&(Io=o)):(o=u,(n!==0||(p&3)!==0)&&(xh=!0)),u=f}Ht!==0&&Ht!==5||su(n),ms!==0&&(ms=0)}function OS(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-St(p),x=1<<E,V=f[E];V===-1?((x&o)===0||(x&u)!==0)&&(f[E]=xd(x,s)):V<=s&&(n.expiredLanes|=x),p&=~x}if(s=ut,o=Le,o=Mr(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(nt===2||nt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Nn(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||cr(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&Nn(u),li(o)){case 2:case 8:o=Hi;break;case 32:o=mn;break;case 268435456:o=zs;break;default:o=mn}return u=DS.bind(null,n),o=Tt(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&Nn(u),n.callbackPriority=2,n.callbackNode=null,2}function DS(n,s){if(Ht!==0&&Ht!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Th()&&n.callbackNode!==o)return null;var u=Le;return u=Mr(n,n===ut?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(dS(n,u,s),OS(n,Ct()),n.callbackNode!=null&&n.callbackNode===o?DS.bind(null,n):null)}function MS(n,s){if(Th())return null;dS(n,s,!0)}function kM(){$M(function(){(We&6)!==0?Tt(qs,jM):NS()})}function Xp(){if(ms===0){var n=po;n===0&&(n=Or,Or<<=1,(Or&261888)===0&&(Or=256)),ms=n}return ms}function jS(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ja(""+n)}function kS(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function VM(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var p=jS((f[Kt]||null).action),E=u.submitter;E&&(s=(s=E[Kt]||null)?jS(s.formAction):E.getAttribute("formAction"),s!==null&&(p=s,E=null));var x=new Hr("action","action",null,u,f);n.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ms!==0){var V=E?kS(f,E):new FormData(f);gp(o,{pending:!0,data:V,method:f.method,action:p},null,V)}}else typeof p=="function"&&(x.preventDefault(),V=E?kS(f,E):new FormData(f),gp(o,{pending:!0,data:V,method:f.method,action:p},p,V))},currentTarget:f}]})}}for(var Wp=0;Wp<Md.length;Wp++){var Jp=Md[Wp],PM=Jp.toLowerCase(),LM=Jp[0].toUpperCase()+Jp.slice(1);vr(PM,"on"+LM)}vr(fE,"onAnimationEnd"),vr(dE,"onAnimationIteration"),vr(pE,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(eM,"onTransitionRun"),vr(tM,"onTransitionStart"),vr(nM,"onTransitionCancel"),vr(mE,"onTransitionEnd"),qr("onMouseEnter",["mouseout","mouseover"]),qr("onMouseLeave",["mouseout","mouseover"]),qr("onPointerEnter",["pointerout","pointerover"]),qr("onPointerLeave",["pointerout","pointerover"]),Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(au));function VS(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var E=u.length-1;0<=E;E--){var x=u[E],V=x.instance,$=x.currentTarget;if(x=x.listener,V!==p&&f.isPropagationStopped())break e;p=x,f.currentTarget=$;try{p(f)}catch(te){Uc(te)}f.currentTarget=null,p=V}else for(E=0;E<u.length;E++){if(x=u[E],V=x.instance,$=x.currentTarget,x=x.listener,V!==p&&f.isPropagationStopped())break e;p=x,f.currentTarget=$;try{p(f)}catch(te){Uc(te)}f.currentTarget=null,p=V}}}}function Pe(n,s){var o=s[$a];o===void 0&&(o=s[$a]=new Set);var u=n+"__bubble";o.has(u)||(PS(s,n,2,!1),o.add(u))}function Zp(n,s,o){var u=0;s&&(u|=4),PS(o,n,u,s)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function em(n){if(!n[Ah]){n[Ah]=!0,vl.forEach(function(o){o!=="selectionchange"&&(UM.has(o)||Zp(o,!1,n),Zp(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ah]||(s[Ah]=!0,Zp("selectionchange",!1,s))}}function PS(n,s,o,u){switch(fx(s)){case 2:var f=dj;break;case 8:f=pj;break;default:f=mm}o=f.bind(null,s,o,n),f=void 0,!Xs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function tm(n,s,o,u,f){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var x=u.stateNode.containerInfo;if(x===f)break;if(E===4)for(E=u.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;x!==null;){if(E=Pr(x),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){u=p=E;continue e}x=x.parentNode}}u=u.return}Xi(function(){var $=p,te=Xn(o),se=[];e:{var Y=gE.get(n);if(Y!==void 0){var W=Hr,ye=n;switch(n){case"keypress":if(Js(o)===0)break e;case"keydown":case"keyup":W=Vc;break;case"focusin":ye="focus",W=ea;break;case"focusout":ye="blur",W=ea;break;case"beforeblur":case"afterblur":W=ea;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=_;break;case fE:case dE:case pE:W=Ic;break;case mE:W=w;break;case"scroll":case"scrollend":W=Nl;break;case"wheel":W=Q;break;case"copy":case"cut":case"paste":W=Nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=hi;break;case"toggle":case"beforetoggle":W=De}var xe=(s&4)!==0,ot=!xe&&(n==="scroll"||n==="scrollend"),H=xe?Y!==null?Y+"Capture":null:Y;xe=[];for(var q=$,K;q!==null;){var ne=q;if(K=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||K===null||H===null||(ne=pr(q,H),ne!=null&&xe.push(ou(q,ne,K))),ot)break;q=q.return}0<xe.length&&(Y=new W(Y,ye,null,o,te),se.push({event:Y,listeners:xe}))}}if((s&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",W=n==="mouseout"||n==="pointerout",Y&&o!==Rl&&(ye=o.relatedTarget||o.fromElement)&&(Pr(ye)||ye[kr]))break e;if((W||Y)&&(Y=te.window===te?te:(Y=te.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(ye=o.relatedTarget||o.toElement,W=$,ye=ye?Pr(ye):null,ye!==null&&(ot=l(ye),xe=ye.tag,ye!==ot||xe!==5&&xe!==27&&xe!==6)&&(ye=null)):(W=null,ye=$),W!==ye)){if(xe=Ol,ne="onMouseLeave",H="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(xe=hi,ne="onPointerLeave",H="onPointerEnter",q="pointer"),ot=W==null?Y:On(W),K=ye==null?Y:On(ye),Y=new xe(ne,q+"leave",W,o,te),Y.target=ot,Y.relatedTarget=K,ne=null,Pr(te)===$&&(xe=new xe(H,q+"enter",ye,o,te),xe.target=K,xe.relatedTarget=ot,ne=xe),ot=ne,W&&ye)t:{for(xe=qM,H=W,q=ye,K=0,ne=H;ne;ne=xe(ne))K++;ne=0;for(var Ee=q;Ee;Ee=xe(Ee))ne++;for(;0<K-ne;)H=xe(H),K--;for(;0<ne-K;)q=xe(q),ne--;for(;K--;){if(H===q||q!==null&&H===q.alternate){xe=H;break t}H=xe(H),q=xe(q)}xe=null}else xe=null;W!==null&&LS(se,Y,W,xe,!1),ye!==null&&ot!==null&&LS(se,ot,ye,xe,!0)}}e:{if(Y=$?On($):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var $e=tE;else if(Zb(Y))if(nE)$e=WD;else{$e=QD;var _e=YD}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&Wa($.elementType)&&($e=tE):$e=XD;if($e&&($e=$e(n,$))){eE(se,$e,o,te);break e}_e&&_e(n,Y,$),n==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&xl(Y,"number",Y.value)}switch(_e=$?On($):window,n){case"focusin":(Zb(_e)||_e.contentEditable==="true")&&(so=_e,Nd=$,Vl=null);break;case"focusout":Vl=Nd=so=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,cE(se,o,te);break;case"selectionchange":if(ZD)break;case"keydown":case"keyup":cE(se,o,te)}var je;if(Xe)e:{switch(n){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else io?ta(n,o)&&(Ue="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Ue="onCompositionStart");Ue&&($r&&o.locale!=="ko"&&(io||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&io&&(je=Il()):(Fr=te,Cl="value"in Fr?Fr.value:Fr.textContent,io=!0)),_e=wh($,Ue),0<_e.length&&(Ue=new Kr(Ue,n,null,o,te),se.push({event:Ue,listeners:_e}),je?Ue.data=je:(je=ro(o),je!==null&&(Ue.data=je)))),(je=Jn?HD(n,o):GD(n,o))&&(Ue=wh($,"onBeforeInput"),0<Ue.length&&(_e=new Kr("onBeforeInput","beforeinput",null,o,te),se.push({event:_e,listeners:Ue}),_e.data=je)),VM(se,n,$,o,te)}VS(se,s)})}function ou(n,s,o){return{instance:n,listener:s,currentTarget:o}}function wh(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=pr(n,o),f!=null&&u.unshift(ou(n,f,p)),f=pr(n,s),f!=null&&u.push(ou(n,f,p))),n.tag===3)return u;n=n.return}return[]}function qM(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function LS(n,s,o,u,f){for(var p=s._reactName,E=[];o!==null&&o!==u;){var x=o,V=x.alternate,$=x.stateNode;if(x=x.tag,V!==null&&V===u)break;x!==5&&x!==26&&x!==27||$===null||(V=$,f?($=pr(o,p),$!=null&&E.unshift(ou(o,$,V))):f||($=pr(o,p),$!=null&&E.push(ou(o,$,V)))),o=o.return}E.length!==0&&n.push({event:s,listeners:E})}var zM=/\r\n?/g,BM=/\u0000|\uFFFD/g;function US(n){return(typeof n=="string"?n:""+n).replace(zM,`
`).replace(BM,"")}function qS(n,s){return s=US(s),US(n)===s}function at(n,s,o,u,f,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||bn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&bn(n,""+u);break;case"className":Dn(n,"class",u);break;case"tabIndex":Dn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(n,o,u);break;case"style":wl(n,u,p);break;case"data":if(s!=="object"){Dn(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ja(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&at(n,s,"name",f.name,f,null),at(n,s,"formEncType",f.formEncType,f,null),at(n,s,"formMethod",f.formMethod,f,null),at(n,s,"formTarget",f.formTarget,f,null)):(at(n,s,"encType",f.encType,f,null),at(n,s,"method",f.method,f,null),at(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ja(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=dr);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Ja(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),Qa(n,"popover",u);break;case"xlinkActuate":Mt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Mt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Mt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Mt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Mt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Mt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Mt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Mt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Mt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Qa(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=wc.get(o)||o,Qa(n,o,u))}}function nm(n,s,o,u,f,p){switch(o){case"style":wl(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?bn(n,u):(typeof u=="number"||typeof u=="bigint")&&bn(n,""+u);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=dr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),p=n[Kt]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(s,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Qa(n,o,u)}}}function tn(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:at(n,s,p,E,o,null)}}f&&at(n,s,"srcSet",o.srcSet,o,null),u&&at(n,s,"src",o.src,o,null);return;case"input":Pe("invalid",n);var x=p=E=f=null,V=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":f=te;break;case"type":E=te;break;case"checked":V=te;break;case"defaultChecked":$=te;break;case"value":p=te;break;case"defaultValue":x=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:at(n,s,u,te,o,null)}}Sc(n,p,x,V,$,E,f,!1);return;case"select":Pe("invalid",n),u=E=p=null;for(f in o)if(o.hasOwnProperty(f)&&(x=o[f],x!=null))switch(f){case"value":p=x;break;case"defaultValue":E=x;break;case"multiple":u=x;default:at(n,s,f,x,o,null)}s=p,o=E,n.multiple=!!u,s!=null?Ki(n,!!u,s,!1):o!=null&&Ki(n,!!u,o,!0);return;case"textarea":Pe("invalid",n),p=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(x=o[E],x!=null))switch(E){case"value":u=x;break;case"defaultValue":f=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:at(n,s,E,x,o,null)}$i(n,u,f,p);return;case"option":for(V in o)o.hasOwnProperty(V)&&(u=o[V],u!=null)&&(V==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":at(n,s,V,u,o,null));return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(u=0;u<au.length;u++)Pe(au[u],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:at(n,s,$,u,o,null)}return;default:if(Wa(s)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&nm(n,s,te,u,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(u=o[x],u!=null&&at(n,s,x,u,o,null))}function FM(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,x=null,V=null,$=null,te=null;for(W in o){var se=o[W];if(o.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":V=se;default:u.hasOwnProperty(W)||at(n,s,W,null,u,se)}}for(var Y in u){var W=u[Y];if(se=o[Y],u.hasOwnProperty(Y)&&(W!=null||se!=null))switch(Y){case"type":p=W;break;case"name":f=W;break;case"checked":$=W;break;case"defaultChecked":te=W;break;case"value":E=W;break;case"defaultValue":x=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==se&&at(n,s,Y,W,u,se)}}Xa(n,E,x,V,$,te,p,f);return;case"select":W=E=x=Y=null;for(p in o)if(V=o[p],o.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":W=V;default:u.hasOwnProperty(p)||at(n,s,p,null,u,V)}for(f in u)if(p=u[f],V=o[f],u.hasOwnProperty(f)&&(p!=null||V!=null))switch(f){case"value":Y=p;break;case"defaultValue":x=p;break;case"multiple":E=p;default:p!==V&&at(n,s,f,p,u,V)}s=x,o=E,u=W,Y!=null?Ki(n,!!o,Y,!1):!!u!=!!o&&(s!=null?Ki(n,!!o,s,!0):Ki(n,!!o,o?[]:"",!1));return;case"textarea":W=Y=null;for(x in o)if(f=o[x],o.hasOwnProperty(x)&&f!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:at(n,s,x,null,u,f)}for(E in u)if(f=u[E],p=o[E],u.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":Y=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==p&&at(n,s,E,f,u,p)}xc(n,Y,W);return;case"option":for(var ye in o)Y=o[ye],o.hasOwnProperty(ye)&&Y!=null&&!u.hasOwnProperty(ye)&&(ye==="selected"?n.selected=!1:at(n,s,ye,null,u,Y));for(V in u)Y=u[V],W=o[V],u.hasOwnProperty(V)&&Y!==W&&(Y!=null||W!=null)&&(V==="selected"?n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":at(n,s,V,Y,u,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)Y=o[xe],o.hasOwnProperty(xe)&&Y!=null&&!u.hasOwnProperty(xe)&&at(n,s,xe,null,u,Y);for($ in u)if(Y=u[$],W=o[$],u.hasOwnProperty($)&&Y!==W&&(Y!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:at(n,s,$,Y,u,W)}return;default:if(Wa(s)){for(var ot in o)Y=o[ot],o.hasOwnProperty(ot)&&Y!==void 0&&!u.hasOwnProperty(ot)&&nm(n,s,ot,void 0,u,Y);for(te in u)Y=u[te],W=o[te],!u.hasOwnProperty(te)||Y===W||Y===void 0&&W===void 0||nm(n,s,te,Y,u,W);return}}for(var H in o)Y=o[H],o.hasOwnProperty(H)&&Y!=null&&!u.hasOwnProperty(H)&&at(n,s,H,null,u,Y);for(se in u)Y=u[se],W=o[se],!u.hasOwnProperty(se)||Y===W||Y==null&&W==null||at(n,s,se,Y,u,W)}function zS(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HM(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],p=f.transferSize,E=f.initiatorType,x=f.duration;if(p&&x&&zS(E)){for(E=0,x=f.responseEnd,u+=1;u<o.length;u++){var V=o[u],$=V.startTime;if($>x)break;var te=V.transferSize,se=V.initiatorType;te&&zS(se)&&(V=V.responseEnd,E+=te*(V<x?1:(x-$)/(V-$)))}if(--u,s+=8*(p+E)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var rm=null,im=null;function Rh(n){return n.nodeType===9?n:n.ownerDocument}function BS(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FS(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function sm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var am=null;function GM(){var n=window.event;return n&&n.type==="popstate"?n===am?!1:(am=n,!0):(am=null,!1)}var HS=typeof setTimeout=="function"?setTimeout:void 0,KM=typeof clearTimeout=="function"?clearTimeout:void 0,GS=typeof Promise=="function"?Promise:void 0,$M=typeof queueMicrotask=="function"?queueMicrotask:typeof GS<"u"?function(n){return GS.resolve(null).then(n).catch(YM)}:HS;function YM(n){setTimeout(function(){throw n})}function gs(n){return n==="head"}function KS(n,s){var o=s,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(f),Mo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")lu(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,lu(o);for(var p=o.firstChild;p;){var E=p.nextSibling,x=p.nodeName;p[Vr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=E}}else o==="body"&&lu(n.ownerDocument.body);o=f}while(o);Mo(s)}function $S(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function om(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":om(o),Ya(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function QM(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Vr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=sr(n.nextSibling),n===null)break}return null}function XM(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=sr(n.nextSibling),n===null))return null;return n}function YS(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=sr(n.nextSibling),n===null))return null;return n}function lm(n){return n.data==="$?"||n.data==="$~"}function um(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function WM(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function sr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var cm=null;function QS(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return sr(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function XS(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function WS(n,s,o){switch(s=Rh(o),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function lu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ya(n)}var ar=new Map,JS=new Set;function Ch(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var wi=he.d;he.d={f:JM,r:ZM,D:ej,C:tj,L:nj,m:rj,X:sj,S:ij,M:aj};function JM(){var n=wi.f(),s=_h();return n||s}function ZM(n){var s=Qn(n);s!==null&&s.tag===5&&s.type==="form"?mT(s):wi.r(n)}var No=typeof document>"u"?null:document;function ZS(n,s,o){var u=No;if(u&&typeof s=="string"&&s){var f=_n(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),JS.has(f)||(JS.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),tn(s,"link",n),Dt(s),u.head.appendChild(s)))}}function ej(n){wi.D(n),ZS("dns-prefetch",n,null)}function tj(n,s){wi.C(n,s),ZS("preconnect",n,s)}function nj(n,s,o){wi.L(n,s,o);var u=No;if(u&&n&&s){var f='link[rel="preload"][as="'+_n(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+_n(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+_n(o.imageSizes)+'"]')):f+='[href="'+_n(n)+'"]';var p=f;switch(s){case"style":p=Oo(n);break;case"script":p=Do(n)}ar.has(p)||(n=b({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),ar.set(p,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(uu(p))||s==="script"&&u.querySelector(cu(p))||(s=u.createElement("link"),tn(s,"link",n),Dt(s),u.head.appendChild(s)))}}function rj(n,s){wi.m(n,s);var o=No;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+_n(u)+'"][href="'+_n(n)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Do(n)}if(!ar.has(p)&&(n=b({rel:"modulepreload",href:n},s),ar.set(p,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(cu(p)))return}u=o.createElement("link"),tn(u,"link",n),Dt(u),o.head.appendChild(u)}}}function ij(n,s,o){wi.S(n,s,o);var u=No;if(u&&n){var f=Lr(u).hoistableStyles,p=Oo(n);s=s||"default";var E=f.get(p);if(!E){var x={loading:0,preload:null};if(E=u.querySelector(uu(p)))x.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":s},o),(o=ar.get(p))&&hm(n,o);var V=E=u.createElement("link");Dt(V),tn(V,"link",n),V._p=new Promise(function($,te){V.onload=$,V.onerror=te}),V.addEventListener("load",function(){x.loading|=1}),V.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Ih(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:x},f.set(p,E)}}}function sj(n,s){wi.X(n,s);var o=No;if(o&&n){var u=Lr(o).hoistableScripts,f=Do(n),p=u.get(f);p||(p=o.querySelector(cu(f)),p||(n=b({src:n,async:!0},s),(s=ar.get(f))&&fm(n,s),p=o.createElement("script"),Dt(p),tn(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function aj(n,s){wi.M(n,s);var o=No;if(o&&n){var u=Lr(o).hoistableScripts,f=Do(n),p=u.get(f);p||(p=o.querySelector(cu(f)),p||(n=b({src:n,async:!0,type:"module"},s),(s=ar.get(f))&&fm(n,s),p=o.createElement("script"),Dt(p),tn(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function ex(n,s,o,u){var f=(f=ve.current)?Ch(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Oo(o.href),o=Lr(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Oo(o.href);var p=Lr(f).hoistableStyles,E=p.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=f.querySelector(uu(n)))&&!p._p&&(E.instance=p,E.state.loading=5),ar.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ar.set(n,o),p||oj(f,n,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Do(o),o=Lr(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Oo(n){return'href="'+_n(n)+'"'}function uu(n){return'link[rel="stylesheet"]['+n+"]"}function tx(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function oj(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),tn(s,"link",o),Dt(s),n.head.appendChild(s))}function Do(n){return'[src="'+_n(n)+'"]'}function cu(n){return"script[async]"+n}function nx(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+_n(o.href)+'"]');if(u)return s.instance=u,Dt(u),u;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Dt(u),tn(u,"style",f),Ih(u,o.precedence,n),s.instance=u;case"stylesheet":f=Oo(o.href);var p=n.querySelector(uu(f));if(p)return s.state.loading|=4,s.instance=p,Dt(p),p;u=tx(o),(f=ar.get(f))&&hm(u,f),p=(n.ownerDocument||n).createElement("link"),Dt(p);var E=p;return E._p=new Promise(function(x,V){E.onload=x,E.onerror=V}),tn(p,"link",u),s.state.loading|=4,Ih(p,o.precedence,n),s.instance=p;case"script":return p=Do(o.src),(f=n.querySelector(cu(p)))?(s.instance=f,Dt(f),f):(u=o,(f=ar.get(p))&&(u=b({},o),fm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Dt(f),tn(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Ih(u,o.precedence,n));return s.instance}function Ih(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,E=0;E<u.length;E++){var x=u[E];if(x.dataset.precedence===s)p=x;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function hm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function fm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Nh=null;function rx(n,s,o){if(Nh===null){var u=new Map,f=Nh=new Map;f.set(o,u)}else f=Nh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var p=o[f];if(!(p[Vr]||p[Ot]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(s)||"";E=n+E;var x=u.get(E);x?x.push(p):u.set(E,[p])}}return u}function ix(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function lj(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function sx(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function uj(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Oo(u.href),p=s.querySelector(uu(f));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Oh.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=p,Dt(p);return}p=s.ownerDocument||s,u=tx(u),(f=ar.get(f))&&hm(u,f),p=p.createElement("link"),Dt(p);var E=p;E._p=new Promise(function(x,V){E.onload=x,E.onerror=V}),tn(p,"link",u),o.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Oh.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var dm=0;function cj(n,s){return n.stylesheets&&n.count===0&&Mh(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&Mh(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+s);0<n.imgBytes&&dm===0&&(dm=62500*HM());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Mh(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>dm?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Dh=null;function Mh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Dh=new Map,s.forEach(hj,n),Dh=null,Oh.call(n))}function hj(n,s){if(!(s.state.loading&4)){var o=Dh.get(n);if(o)var u=o.get(null);else{o=new Map,Dh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,f),o.set(E,f),this.count++,u=Oh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var hu={$$typeof:J,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function fj(n,s,o,u,f,p,E,x,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.hiddenUpdates=jr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function ax(n,s,o,u,f,p,E,x,V,$,te,se){return n=new fj(n,s,o,E,V,$,te,se,x),s=1,p===!0&&(s|=24),p=jn(3,null,null,s),n.current=p,p.stateNode=n,s=Kd(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},Xd(p),n}function ox(n){return n?(n=lo,n):lo}function lx(n,s,o,u,f,p){f=ox(f),u.context===null?u.context=f:u.pendingContext=f,u=ss(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=as(n,u,s),o!==null&&(An(o,n,s),Fl(o,n,s))}function ux(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function pm(n,s){ux(n,s),(n=n.alternate)&&ux(n,s)}function cx(n){if(n.tag===13||n.tag===31){var s=ia(n,67108864);s!==null&&An(s,n,67108864),pm(n,67108864)}}function hx(n){if(n.tag===13||n.tag===31){var s=Un();s=Ks(s);var o=ia(n,s);o!==null&&An(o,n,s),pm(n,s)}}var jh=!0;function dj(n,s,o,u){var f=Z.T;Z.T=null;var p=he.p;try{he.p=2,mm(n,s,o,u)}finally{he.p=p,Z.T=f}}function pj(n,s,o,u){var f=Z.T;Z.T=null;var p=he.p;try{he.p=8,mm(n,s,o,u)}finally{he.p=p,Z.T=f}}function mm(n,s,o,u){if(jh){var f=gm(u);if(f===null)tm(n,s,u,kh,o),dx(n,u);else if(gj(f,n,s,o,u))u.stopPropagation();else if(dx(n,u),s&4&&-1<mj.indexOf(n)){for(;f!==null;){var p=Qn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Dr(p.pendingLanes);if(E!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;E;){var V=1<<31-St(E);x.entanglements[1]|=V,E&=~V}Wr(p),(We&6)===0&&(yh=Ct()+500,su(0))}}break;case 31:case 13:x=ia(p,2),x!==null&&An(x,p,2),_h(),pm(p,2)}if(p=gm(u),p===null&&tm(n,s,u,kh,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else tm(n,s,u,null,o)}}function gm(n){return n=Xn(n),ym(n)}var kh=null;function ym(n){if(kh=null,n=Pr(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return kh=n,null}function fx(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($n()){case qs:return 2;case Hi:return 8;case mn:case Ha:return 32;case zs:return 268435456;default:return 32}default:return 32}}var vm=!1,ys=null,vs=null,_s=null,fu=new Map,du=new Map,bs=[],mj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dx(n,s){switch(n){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":fu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(s.pointerId)}}function pu(n,s,o,u,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},s!==null&&(s=Qn(s),s!==null&&cx(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function gj(n,s,o,u,f){switch(s){case"focusin":return ys=pu(ys,n,s,o,u,f),!0;case"dragenter":return vs=pu(vs,n,s,o,u,f),!0;case"mouseover":return _s=pu(_s,n,s,o,u,f),!0;case"pointerover":var p=f.pointerId;return fu.set(p,pu(fu.get(p)||null,n,s,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,du.set(p,pu(du.get(p)||null,n,s,o,u,f)),!0}return!1}function px(n){var s=Pr(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,hr(n.priority,function(){hx(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,hr(n.priority,function(){hx(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Vh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=gm(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Rl=u,o.target.dispatchEvent(u),Rl=null}else return s=Qn(o),s!==null&&cx(s),n.blockedOn=o,!1;s.shift()}return!0}function mx(n,s,o){Vh(n)&&o.delete(s)}function yj(){vm=!1,ys!==null&&Vh(ys)&&(ys=null),vs!==null&&Vh(vs)&&(vs=null),_s!==null&&Vh(_s)&&(_s=null),fu.forEach(mx),du.forEach(mx)}function Ph(n,s){n.blockedOn===s&&(n.blockedOn=null,vm||(vm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yj)))}var Lh=null;function gx(n){Lh!==n&&(Lh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Lh===n&&(Lh=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(ym(u||o)===null)continue;break}var p=Qn(o);p!==null&&(n.splice(s,3),s-=3,gp(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Mo(n){function s(V){return Ph(V,n)}ys!==null&&Ph(ys,n),vs!==null&&Ph(vs,n),_s!==null&&Ph(_s,n),fu.forEach(s),du.forEach(s);for(var o=0;o<bs.length;o++){var u=bs[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<bs.length&&(o=bs[0],o.blockedOn===null);)px(o),o.blockedOn===null&&bs.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],E=f[Kt]||null;if(typeof p=="function")E||gx(o);else if(E){var x=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[Kt]||null)x=E.formAction;else if(ym(f)!==null)continue}else x=E.action;typeof x=="function"?o[u+1]=x:(o.splice(u,3),u-=3),gx(o)}}}function yx(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function _m(n){this._internalRoot=n}Uh.prototype.render=_m.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Un();lx(o,u,n,s,null,null)},Uh.prototype.unmount=_m.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;lx(n.current,2,null,n,null,null),_h(),s[kr]=null}};function Uh(n){this._internalRoot=n}Uh.prototype.unstable_scheduleHydration=function(n){if(n){var s=_c();n={blockedOn:null,target:n,priority:s};for(var o=0;o<bs.length&&s!==0&&s<bs[o].priority;o++);bs.splice(o,0,n),o===0&&px(n)}};var vx=e.version;if(vx!=="19.2.3")throw Error(i(527,vx,"19.2.3"));he.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var vj={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{It=qh.inject(vj),ht=qh}catch{}}return Tu.createRoot=function(n,s){if(!a(n))throw Error(i(299));var o=!1,u="",f=AT,p=wT,E=RT;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=ax(n,1,!1,null,null,o,u,null,f,p,E,yx),n[kr]=s.current,em(n),new _m(s)},Tu.hydrateRoot=function(n,s,o){if(!a(n))throw Error(i(299));var u=!1,f="",p=AT,E=wT,x=RT,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),s=ax(n,1,!0,s,o??null,u,f,V,p,E,x,yx),s.context=ox(null),o=s.current,u=Un(),u=Ks(u),f=ss(u),f.callback=null,as(o,f,u),o=u,s.current.lanes=o,Hs(s,o),Wr(s),n[kr]=s.current,em(n),new Uh(s)},Tu.version="19.2.3",Tu}var xC;function Zz(){if(xC)return qv.exports;xC=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qv.exports=Jz(),qv.exports}var eB=Zz();function cn(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var tB=typeof Symbol=="function"&&Symbol.observable||"@@observable",AC=tB,Fv=()=>Math.random().toString(36).substring(7).split("").join("."),nB={INIT:`@@redux/INIT${Fv()}`,REPLACE:`@@redux/REPLACE${Fv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Fv()}`},Vf=nB;function rB(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function ND(r,e,t){if(typeof r!="function")throw new Error(cn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(cn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(cn(1));return t(ND)(r,e)}let i=r,a=e,l=new Map,c=l,d=0,m=!1;function g(){c===l&&(c=new Map,l.forEach((M,F)=>{c.set(F,M)}))}function v(){if(m)throw new Error(cn(3));return a}function b(M){if(typeof M!="function")throw new Error(cn(4));if(m)throw new Error(cn(5));let F=!0;g();const z=d++;return c.set(z,M),function(){if(F){if(m)throw new Error(cn(6));F=!1,g(),c.delete(z),l=null}}}function S(M){if(!rB(M))throw new Error(cn(7));if(typeof M.type>"u")throw new Error(cn(8));if(typeof M.type!="string")throw new Error(cn(17));if(m)throw new Error(cn(9));try{m=!0,a=i(a,M)}finally{m=!1}return(l=c).forEach(z=>{z()}),M}function A(M){if(typeof M!="function")throw new Error(cn(10));i=M,S({type:Vf.REPLACE})}function k(){const M=b;return{subscribe(F){if(typeof F!="object"||F===null)throw new Error(cn(11));function z(){const le=F;le.next&&le.next(v())}return z(),{unsubscribe:M(z)}},[AC](){return this}}}return S({type:Vf.INIT}),{dispatch:S,subscribe:b,getState:v,replaceReducer:A,[AC]:k}}function Ho(r,e,t){return ND(r,e,t)}function iB(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:Vf.INIT})>"u")throw new Error(cn(12));if(typeof t(void 0,{type:Vf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cn(13))})}function sB(r){const e=Object.keys(r),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof r[c]=="function"&&(t[c]=r[c])}const i=Object.keys(t);let a;try{iB(t)}catch(l){a=l}return function(c={},d){if(a)throw a;let m=!1;const g={};for(let v=0;v<i.length;v++){const b=i[v],S=t[b],A=c[b],k=S(A,d);if(typeof k>"u")throw d&&d.type,new Error(cn(14));g[b]=k,m=m||k!==A}return m=m||i.length!==Object.keys(c).length,m?g:c}}var Hv,wC;function aB(){if(wC)return Hv;wC=1;function r(e,t){for(var i=-1,a=e==null?0:e.length;++i<a&&t(e[i],i,e)!==!1;);return e}return Hv=r,Hv}var Gv,RC;function ml(){if(RC)return Gv;RC=1;var r=$0(),e=Ff();function t(i,a,l,c){var d=!l;l||(l={});for(var m=-1,g=a.length;++m<g;){var v=a[m],b=c?c(l[v],i[v],v,l,i):void 0;b===void 0&&(b=i[v]),d?e(l,v,b):r(l,v,b)}return l}return Gv=t,Gv}var Kv,CC;function oB(){if(CC)return Kv;CC=1;var r=ml(),e=Ua();function t(i,a){return i&&r(a,e(a),i)}return Kv=t,Kv}var $v,IC;function lB(){if(IC)return $v;IC=1;function r(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}return $v=r,$v}var Yv,NC;function uB(){if(NC)return Yv;NC=1;var r=ur(),e=k0(),t=lB(),i=Object.prototype,a=i.hasOwnProperty;function l(c){if(!r(c))return t(c);var d=e(c),m=[];for(var g in c)g=="constructor"&&(d||!a.call(c,g))||m.push(g);return m}return Yv=l,Yv}var Qv,OC;function mc(){if(OC)return Qv;OC=1;var r=yN(),e=uB(),t=il();function i(a){return t(a)?r(a,!0):e(a)}return Qv=i,Qv}var Xv,DC;function cB(){if(DC)return Xv;DC=1;var r=ml(),e=mc();function t(i,a){return i&&r(a,e(a),i)}return Xv=t,Xv}var Nu={exports:{}};Nu.exports;var MC;function OD(){return MC||(MC=1,(function(r,e){var t=Nr(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,l=a&&a.exports===i,c=l?t.Buffer:void 0,d=c?c.allocUnsafe:void 0;function m(g,v){if(v)return g.slice();var b=g.length,S=d?d(b):new g.constructor(b);return g.copy(S),S}r.exports=m})(Nu,Nu.exports)),Nu.exports}var Wv,jC;function hB(){if(jC)return Wv;jC=1;var r=ml(),e=U0();function t(i,a){return r(i,e(i),a)}return Wv=t,Wv}var Jv,kC;function Xb(){if(kC)return Jv;kC=1;var r=vN(),e=r(Object.getPrototypeOf,Object);return Jv=e,Jv}var Zv,VC;function DD(){if(VC)return Zv;VC=1;var r=Zf(),e=Xb(),t=U0(),i=SN(),a=Object.getOwnPropertySymbols,l=a?function(c){for(var d=[];c;)r(d,t(c)),c=e(c);return d}:i;return Zv=l,Zv}var e_,PC;function fB(){if(PC)return e_;PC=1;var r=ml(),e=DD();function t(i,a){return r(i,e(i),a)}return e_=t,e_}var t_,LC;function MD(){if(LC)return t_;LC=1;var r=EN(),e=DD(),t=mc();function i(a){return r(a,t,e)}return t_=i,t_}var n_,UC;function dB(){if(UC)return n_;UC=1;var r=Object.prototype,e=r.hasOwnProperty;function t(i){var a=i.length,l=new i.constructor(a);return a&&typeof i[0]=="string"&&e.call(i,"index")&&(l.index=i.index,l.input=i.input),l}return n_=t,n_}var r_,qC;function Wb(){if(qC)return r_;qC=1;var r=bN();function e(t){var i=new t.constructor(t.byteLength);return new r(i).set(new r(t)),i}return r_=e,r_}var i_,zC;function pB(){if(zC)return i_;zC=1;var r=Wb();function e(t,i){var a=i?r(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}return i_=e,i_}var s_,BC;function mB(){if(BC)return s_;BC=1;var r=/\w*$/;function e(t){var i=new t.constructor(t.source,r.exec(t));return i.lastIndex=t.lastIndex,i}return s_=e,s_}var a_,FC;function gB(){if(FC)return a_;FC=1;var r=rl(),e=r?r.prototype:void 0,t=e?e.valueOf:void 0;function i(a){return t?Object(t.call(a)):{}}return a_=i,a_}var o_,HC;function jD(){if(HC)return o_;HC=1;var r=Wb();function e(t,i){var a=i?r(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}return o_=e,o_}var l_,GC;function yB(){if(GC)return l_;GC=1;var r=Wb(),e=pB(),t=mB(),i=gB(),a=jD(),l="[object Boolean]",c="[object Date]",d="[object Map]",m="[object Number]",g="[object RegExp]",v="[object Set]",b="[object String]",S="[object Symbol]",A="[object ArrayBuffer]",k="[object DataView]",P="[object Float32Array]",M="[object Float64Array]",F="[object Int8Array]",z="[object Int16Array]",J="[object Int32Array]",le="[object Uint8Array]",de="[object Uint8ClampedArray]",ue="[object Uint16Array]",C="[object Uint32Array]";function R(N,j,O){var L=N.constructor;switch(j){case A:return r(N);case l:case c:return new L(+N);case k:return e(N,O);case P:case M:case F:case z:case J:case le:case de:case ue:case C:return a(N,O);case d:return new L;case m:case b:return new L(N);case g:return t(N);case v:return new L;case S:return i(N)}}return l_=R,l_}var u_,KC;function vB(){if(KC)return u_;KC=1;var r=ur(),e=Object.create,t=(function(){function i(){}return function(a){if(!r(a))return{};if(e)return e(a);i.prototype=a;var l=new i;return i.prototype=void 0,l}})();return u_=t,u_}var c_,$C;function kD(){if($C)return c_;$C=1;var r=vB(),e=Xb(),t=k0();function i(a){return typeof a.constructor=="function"&&!t(a)?r(e(a)):{}}return c_=i,c_}var h_,YC;function _B(){if(YC)return h_;YC=1;var r=ed(),e=ai(),t="[object Map]";function i(a){return e(a)&&r(a)==t}return h_=i,h_}var f_,QC;function bB(){if(QC)return f_;QC=1;var r=_B(),e=$f(),t=M0(),i=t&&t.isMap,a=i?e(i):r;return f_=a,f_}var d_,XC;function EB(){if(XC)return d_;XC=1;var r=ed(),e=ai(),t="[object Set]";function i(a){return e(a)&&r(a)==t}return d_=i,d_}var p_,WC;function TB(){if(WC)return p_;WC=1;var r=EB(),e=$f(),t=M0(),i=t&&t.isSet,a=i?e(i):r;return p_=a,p_}var m_,JC;function VD(){if(JC)return m_;JC=1;var r=Jf(),e=aB(),t=$0(),i=oB(),a=cB(),l=OD(),c=K0(),d=hB(),m=fB(),g=xN(),v=MD(),b=ed(),S=dB(),A=yB(),k=kD(),P=on(),M=Gf(),F=bB(),z=ur(),J=TB(),le=Ua(),de=mc(),ue=1,C=2,R=4,N="[object Arguments]",j="[object Array]",O="[object Boolean]",L="[object Date]",I="[object Error]",we="[object Function]",Ie="[object GeneratorFunction]",Z="[object Map]",he="[object Number]",ee="[object Object]",ae="[object RegExp]",Se="[object Set]",D="[object String]",X="[object Symbol]",re="[object WeakMap]",ce="[object ArrayBuffer]",fe="[object DataView]",ve="[object Float32Array]",be="[object Float64Array]",et="[object Int8Array]",Qe="[object Int16Array]",In="[object Int32Array]",oi="[object Uint8Array]",Et="[object Uint8ClampedArray]",vn="[object Uint16Array]",Fn="[object Uint32Array]",Ke={};Ke[N]=Ke[j]=Ke[ce]=Ke[fe]=Ke[O]=Ke[L]=Ke[ve]=Ke[be]=Ke[et]=Ke[Qe]=Ke[In]=Ke[Z]=Ke[he]=Ke[ee]=Ke[ae]=Ke[Se]=Ke[D]=Ke[X]=Ke[oi]=Ke[Et]=Ke[vn]=Ke[Fn]=!0,Ke[I]=Ke[we]=Ke[re]=!1;function Hn(Fe,Gn,lt,Tt,Nn,Kn){var Ft,Ct=Gn&ue,$n=Gn&C,qs=Gn&R;if(lt&&(Ft=Nn?lt(Fe,Tt,Nn,Kn):lt(Fe)),Ft!==void 0)return Ft;if(!z(Fe))return Fe;var Hi=P(Fe);if(Hi){if(Ft=S(Fe),!Ct)return c(Fe,Ft)}else{var mn=b(Fe),Ha=mn==we||mn==Ie;if(M(Fe))return l(Fe,Ct);if(mn==ee||mn==N||Ha&&!Nn){if(Ft=$n||Ha?{}:k(Fe),!Ct)return $n?m(Fe,a(Ft,Fe)):d(Fe,i(Ft,Fe))}else{if(!Ke[mn])return Nn?Fe:{};Ft=A(Fe,mn,Ct)}}Kn||(Kn=new r);var zs=Kn.get(Fe);if(zs)return zs;Kn.set(Fe,Ft),J(Fe)?Fe.forEach(function(It){Ft.add(Hn(It,Gn,lt,It,Fe,Kn))}):F(Fe)&&Fe.forEach(function(It,ht){Ft.set(ht,Hn(It,Gn,lt,ht,Fe,Kn))});var Ga=qs?$n?v:g:$n?de:le,Bs=Hi?void 0:Ga(Fe);return e(Bs||Fe,function(It,ht){Bs&&(ht=It,It=Fe[ht]),t(Ft,ht,Hn(It,Gn,lt,ht,Fe,Kn))}),Ft}return m_=Hn,m_}var g_,ZC;function SB(){if(ZC)return g_;ZC=1;var r=VD(),e=4;function t(i){return r(i,e)}return g_=t,g_}var xB=SB();const qn=Bt(xB);var y_,eI;function AB(){if(eI)return y_;eI=1;function r(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return y_=r,y_}var v_,tI;function wB(){if(tI)return v_;tI=1;function r(e,t,i){var a=-1,l=e.length;t<0&&(t=-t>l?0:l+t),i=i>l?l:i,i<0&&(i+=l),l=t>i?0:i-t>>>0,t>>>=0;for(var c=Array(l);++a<l;)c[a]=e[a+t];return c}return v_=r,v_}var __,nI;function RB(){if(nI)return __;nI=1;var r=nd(),e=wB();function t(i,a){return a.length<2?i:r(i,e(a,0,-1))}return __=t,__}var b_,rI;function PD(){if(rI)return b_;rI=1;var r=ic(),e=AB(),t=RB(),i=sl(),a=Object.prototype,l=a.hasOwnProperty;function c(d,m){m=r(m,d);var g=-1,v=m.length;if(!v)return!0;for(var b=d==null||typeof d!="object"&&typeof d!="function";++g<v;){var S=m[g];if(typeof S=="string"){if(S==="__proto__"&&!l.call(d,"__proto__"))return!1;if(S==="constructor"&&g+1<v&&typeof m[g+1]=="string"&&m[g+1]==="prototype"){if(b&&g===0)continue;return!1}}}var A=t(d,m);return A==null||delete A[i(e(m))]}return b_=c,b_}var E_,iI;function CB(){if(iI)return E_;iI=1;var r=PD();function e(t,i){return t==null?!0:r(t,i)}return E_=e,E_}var IB=CB();const Qh=Bt(IB),NB=(r={},e)=>{switch(e.type){case"TOGGLE_ITEM":{const t=qn(r);return Du(t,[e.game,e.category,e.title])?Qh(t,[e.game,e.category,e.title]):ba(t,[e.game,e.category,e.title],!0),t}case"CLEAR_ITEMS":{const t=qn(r);return e.titles&&e.titles.length&&e.titles.forEach(i=>{Du(t,[e.game,e.category,i])&&Qh(t,[e.game,e.category,i])}),t}case"ADD_BUILD_ITEM":{const t=qn(r),i=e.item.id||e.item.title;return ba(t,[e.game,e.category,i],e.item),t}case"REMOVE_BUILD_ITEM":{const t=qn(r);return Qh(t,[e.game,e.category,e.title]),t}case"UPDATE_BUILD_ITEM":{const t=qn(r),i=e.title,a=e.item.id||e.item.title;return Du(t,[e.game,e.category,i])&&(i!==a&&Qh(t,[e.game,e.category,i]),ba(t,[e.game,e.category,a],e.item)),t}case"UPLOAD_STATE":return e.state&&e.state.gameConfig?e.state.gameConfig:r;default:return r}},OB=(r=rn.SHOW_ALL,e)=>e.type==="SET_VISIBILITY_FILTER"?e.filter:r,DB=(r=rn.SHOW_ALL,e)=>e.type==="SET_RELIC_VISIBILITY"?e.filter:r,MB=(r="",e)=>e.type==="SET_SEARCH_VALUE"?e.value:r,jB=()=>{try{const r=localStorage.getItem("state");return r===null?void 0:JSON.parse(r)}catch{return}},kB=(r={state:"backup"},e)=>{if(e.type==="DOWNLOAD_STATE"){const t=new Blob([JSON.stringify(jB(),null," ")],{type:"text/json;charset=utf-8"});return CD.saveAs(t,"state.json"),r}else return r};var T_,sI;function LD(){if(sI)return T_;sI=1;var r=Pa(),e=Xb(),t=ai(),i="[object Object]",a=Function.prototype,l=Object.prototype,c=a.toString,d=l.hasOwnProperty,m=c.call(Object);function g(v){if(!t(v)||r(v)!=i)return!1;var b=e(v);if(b===null)return!0;var S=d.call(b,"constructor")&&b.constructor;return typeof S=="function"&&S instanceof S&&c.call(S)==m}return T_=g,T_}var S_,aI;function VB(){if(aI)return S_;aI=1;var r=LD();function e(t){return r(t)?void 0:t}return S_=e,S_}var x_,oI;function PB(){if(oI)return x_;oI=1;var r=F0();function e(t){var i=t==null?0:t.length;return i?r(t,1):[]}return x_=e,x_}var A_,lI;function LB(){if(lI)return A_;lI=1;var r=PB(),e=jN(),t=kN();function i(a){return t(e(a,void 0,r),a+"")}return A_=i,A_}var w_,uI;function UB(){if(uI)return w_;uI=1;var r=td(),e=VD(),t=PD(),i=ic(),a=ml(),l=VB(),c=LB(),d=MD(),m=1,g=2,v=4,b=c(function(S,A){var k={};if(S==null)return k;var P=!1;A=r(A,function(F){return F=i(F,S),P||(P=F.length>1),F}),a(S,d(S),k),P&&(k=e(k,m|g|v,l));for(var M=A.length;M--;)t(k,A[M]);return k});return w_=b,w_}var qB=UB();const Jb=Bt(qB);function Su(r){const e=r.item&&r.item.title?r.item.title:r.title;return`${r.game}-${r.category}-${e}`}const zB=(r={},e)=>{switch(e.type){case"ADD_ITEM":{const t=qn(r),i=e.item;return i.timestamp=Date.now(),t[Su(e)]=i,t}case"REMOVE_ITEM":{const t=qn(r);return Jb(t,Su(e))}case"INCREMENT_ITEM":{const t=Su(e);if(!r[t])return r;const i=qn(r);return i[t].count=(r[t].count?r[t].count:0)+1,i}case"DECREMENT_ITEM":{const t=Su(e);if(!r[t])return r;const i=qn(r);return r[t].count>0&&(i[t].count=(r[t].count?r[t].count:0)-1),i}case"UPDATE_ITEM":{const t=Su(e);if(!r[t])return r;const i=qn(r);return i[t].notes=e.notes,e.count!==void 0&&(i[t].count=e.count),i}default:return r}};function cI(r){const e=r.item&&r.item.title?r.item.title:r.title;return`${r.game}-${r.category}-${e}`}const BB=(r={},e)=>{switch(e.type){case"ADD_VOID_ITEM":{const t=qn(r),i=e.item;return i.timestamp=Date.now(),t[cI(e)]=i,t}case"REMOVE_VOID_ITEM":{const t=qn(r);return Jb(t,cI(e))}default:return r}};function FB(r){return r.relic&&r.relic.title?r.relic.title:r.title}const HB=(r={},e)=>{switch(e.type){case"TOGGLE_RELIC":{const t=qn(r),i=FB(e),a=e.relic;if(a.timestamp=Date.now(),!r[i])a.available=!0,t[i]=a;else if(r[i].available===!0)a.available=!1,t[i]=a;else return Jb(t,i);return t}default:return r}},Go=sB({gameConfig:NB,visibilityFilter:OB,relicVisibility:DB,searchFilter:MB,stateBackup:kB,todoItems:zB,voidDrops:BB,markedRelics:HB}),UD=({open:r,onUseCloud:e,onUseLocal:t,onMerge:i,cloudUpdated:a,localUpdated:l})=>r?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-11/12 md:w-3/4 overflow-hidden animate-in fade-in zoom-in duration-200 text-left",children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:y.jsx(Ou,{className:"text-2xl text-sky-700"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Sync Conflict Detected"})]}),y.jsxs("div",{className:"space-y-4 text-gray-600",children:[y.jsx("p",{children:"You have data both in the cloud and locally on this device. Which version would you like to use?"}),y.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2 border border-gray-100",children:[y.jsxs("div",{className:"flex justify-between items-center text-lg",children:[y.jsxs("span",{className:"font-medium text-gray-500 flex items-center gap-1.5",children:[y.jsx(Ou,{className:"text-xl"})," Cloud data:"]}),y.jsx("span",{className:"text-gray-900",children:a?new Date(a).toLocaleString():"unknown"})]}),y.jsxs("div",{className:"flex justify-between items-center text-lg",children:[y.jsxs("span",{className:"font-medium text-gray-500 flex items-center gap-1.5",children:[y.jsx(z_,{className:"text-xl"})," Local data:"]}),y.jsx("span",{className:"text-gray-900",children:l?new Date(l).toLocaleString():"recently"})]})]})]})]}),y.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex flex-col gap-2",children:[y.jsxs("button",{onClick:i,className:"flex items-center justify-center gap-2 w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(tN,{className:"text-xl"})," Merge Both"]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[y.jsxs("button",{onClick:e,className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(Ou,{className:"text-xl"})," Use Cloud"]}),y.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-2 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(z_,{className:"text-xl"})," Use Local"]})]})]})]})}):null;UD.propTypes={open:U.bool.isRequired,onUseCloud:U.func.isRequired,onUseLocal:U.func.isRequired,onMerge:U.func.isRequired,cloudUpdated:U.any,localUpdated:U.any};const qD=({errorType:r,errorMessage:e})=>y.jsxs("div",{className:"m-4 p-4 bg-amber-50 border border-amber-200 rounded-lg text-amber-900 shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(C0,{className:"text-amber-600 text-xl"}),y.jsx("h3",{className:"text-lg font-bold",children:"Cloud Sync Unavailable"})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"font-semibold",children:"Unable to connect to cloud storage."}),y.jsxs("p",{children:["You're currently using ",y.jsx("strong",{children:"local storage only"}),". Your changes will be saved to this browser, but won't sync across devices until cloud access is restored."]}),y.jsx("p",{children:"For now, Sign Out to remove this banner and use local storage only."}),y.jsxs("div",{className:"pt-2",children:[y.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[y.jsx(zf,{className:"text-xl"}),y.jsx("span",{children:"What this means:"})]}),y.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[y.jsx("li",{children:"You can continue using the app normally"}),y.jsx("li",{children:"Your data is saved locally in this browser"}),y.jsx("li",{className:"text-amber-800 font-medium",children:"Changes won't sync to the cloud or other devices"}),y.jsx("li",{className:"text-amber-800 font-medium",children:"Clearing browser data will delete your progress"})]})]}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-amber-200 text-sm text-amber-800/80 italic",children:[y.jsx("strong",{children:"Technical details:"})," ",r==="permission-denied"?"Cloud permissions need to be configured. Contact the app administrator.":e||"Connection to cloud storage failed."]})]})]});qD.propTypes={errorType:U.string,errorMessage:U.string};var R_,hI;function zD(){if(hI)return R_;hI=1;var r=Ff(),e=nc();function t(i,a,l){(l!==void 0&&!e(i[a],l)||l===void 0&&!(a in i))&&r(i,a,l)}return R_=t,R_}var C_,fI;function GB(){if(fI)return C_;fI=1;var r=il(),e=ai();function t(i){return e(i)&&r(i)}return C_=t,C_}var I_,dI;function BD(){if(dI)return I_;dI=1;function r(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}return I_=r,I_}var N_,pI;function KB(){if(pI)return N_;pI=1;var r=ml(),e=mc();function t(i){return r(i,e(i))}return N_=t,N_}var O_,mI;function $B(){if(mI)return O_;mI=1;var r=zD(),e=OD(),t=jD(),i=K0(),a=kD(),l=Hf(),c=on(),d=GB(),m=Gf(),g=O0(),v=ur(),b=LD(),S=j0(),A=BD(),k=KB();function P(M,F,z,J,le,de,ue){var C=A(M,z),R=A(F,z),N=ue.get(R);if(N){r(M,z,N);return}var j=de?de(C,R,z+"",M,F,ue):void 0,O=j===void 0;if(O){var L=c(R),I=!L&&m(R),we=!L&&!I&&S(R);j=R,L||I||we?c(C)?j=C:d(C)?j=i(C):I?(O=!1,j=e(R,!0)):we?(O=!1,j=t(R,!0)):j=[]:b(R)||l(R)?(j=C,l(C)?j=k(C):(!v(C)||g(C))&&(j=a(R))):O=!1}O&&(ue.set(R,j),le(j,R,J,de,ue),ue.delete(R)),r(M,z,j)}return O_=P,O_}var D_,gI;function YB(){if(gI)return D_;gI=1;var r=Jf(),e=zD(),t=gN(),i=$B(),a=ur(),l=mc(),c=BD();function d(m,g,v,b,S){m!==g&&t(g,function(A,k){if(S||(S=new r),a(A))i(m,g,k,v,d,b,S);else{var P=b?b(c(m,k),A,k+"",m,g,S):void 0;P===void 0&&(P=A),e(m,k,P)}},l)}return D_=d,D_}var M_,yI;function QB(){if(yI)return M_;yI=1;var r=VN(),e=PN();function t(i){return r(function(a,l){var c=-1,d=l.length,m=d>1?l[d-1]:void 0,g=d>2?l[2]:void 0;for(m=i.length>3&&typeof m=="function"?(d--,m):void 0,g&&e(l[0],l[1],g)&&(m=d<3?void 0:m,d=1),a=Object(a);++c<d;){var v=l[c];v&&i(a,v,c,m)}return a})}return M_=t,M_}var j_,vI;function XB(){if(vI)return j_;vI=1;var r=YB(),e=QB(),t=e(function(i,a,l){r(i,a,l)});return j_=t,j_}var WB=XB();const JB=Bt(WB),m0=[{name:"warframe",title:"Warframe"},{name:"soulframe",title:"Soulframe",format:"yaml"},{name:"remnant",title:"Remnant: From the Ashes"},{name:"remnant2",title:"Remnant 2",format:"yaml"},{name:"nioh2",title:"Nioh 2"},{name:"ff7",title:"Final Fantasy VII Remake"},{name:"ff14",title:"Final Fantasy XIV"},{name:"desperadosiii",title:"Desperados III"},{name:"hades",title:"Hades"},{name:"riskofrain2",title:"Risk of Rain 2"},{name:"moonlighter",title:"Moonlighter"},{name:"demonsouls",title:"Demon's Souls"},{name:"d2",title:"Diablo 2"},{name:"eldenring",title:"Elden Ring"},{name:"lordsofthefallen",title:"Lords of the Fallen",format:"yaml"},{name:"shadowgambit",title:"Shadow Gambit: The Cursed Crew",format:"yaml"},{name:"seaofthieves",title:"Sea of Thieves",format:"yaml"},{name:"arcraiders",title:"Arc Raiders",format:"yaml"}],FD=({initialStore:r,conflictData:e})=>{const[t,i]=B.useState(r),[a,l]=B.useState(!!e),c=async()=>{const g=Ho(Go,e.cloudState||void 0);g.subscribe(()=>Ri(g.getState())),await Ri(e.cloudState),i(g),l(!1)},d=async()=>{const g=Ho(Go,e.localState||void 0);g.subscribe(()=>Ri(g.getState())),await Ri(e.localState),i(g),l(!1)},m=async()=>{const g=JB({},e.cloudState,e.localState),v=Ho(Go,g||void 0);v.subscribe(()=>Ri(v.getState())),await Ri(g),i(v),l(!1)};return y.jsxs(y.Fragment,{children:[a&&y.jsx(UD,{open:a,onUseCloud:c,onUseLocal:d,onMerge:m,cloudUpdated:e?.cloudUpdated,localUpdated:Date.now()}),y.jsx(q_,{store:t,children:y.jsx(kf,{configs:m0})})]})};FD.propTypes={initialStore:U.object.isRequired,conflictData:U.shape({cloudState:U.object,localState:U.object,cloudUpdated:U.oneOfType([U.instanceOf(Date),U.number,U.string])})};const ZB=async()=>{await new Promise(t=>{const i=sb(Rr,()=>{i(),t()})});const r=await Uz();if(r&&r._conflict){const t=Ho(Go,void 0);return{conflict:!0,conflictData:r,store:t}}if(r&&r._error){const t=Ho(Go,r.localState||void 0);return{error:!0,errorData:r,store:t}}const e=Ho(Go,r||void 0);return e.subscribe(()=>Ri(e.getState())),{store:e}};ZB().then(r=>{const e=document.createElement("div");document.body.appendChild(e);const t=eB.createRoot(e);r.conflict?t.render(y.jsx(FD,{initialStore:r.store,conflictData:r.conflictData})):r.error?t.render(y.jsxs(q_,{store:r.store,children:[y.jsx(qD,{errorType:r.errorData.errorType,errorMessage:r.errorData.errorMessage}),y.jsx(kf,{configs:m0})]})):t.render(y.jsx(q_,{store:r.store,children:y.jsx(kf,{configs:m0})}))});
