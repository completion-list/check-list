(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Am={exports:{}},vu={};var TS;function wj(){if(TS)return vu;TS=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:l}}return vu.Fragment=e,vu.jsx=t,vu.jsxs=t,vu}var xS;function Aj(){return xS||(xS=1,Am.exports=wj()),Am.exports}var y=Aj(),Rm={exports:{}},Oe={};var SS;function Rj(){if(SS)return Oe;SS=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=x&&U[x]||U["@@iterator"],typeof U=="function"?U:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,M={};function F(U,ne,ue){this.props=U,this.context=ne,this.refs=M,this.updater=ue||j}F.prototype.isReactComponent={},F.prototype.setState=function(U,ne){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ne,"setState")},F.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function z(){}z.prototype=F.prototype;function W(U,ne,ue){this.props=U,this.context=ne,this.refs=M,this.updater=ue||j}var le=W.prototype=new z;le.constructor=W,P(le,F.prototype),le.isPureReactComponent=!0;var ce=Array.isArray;function oe(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function O(U,ne,ue){var de=ue.ref;return{$$typeof:r,type:U,key:ne,ref:de!==void 0?de:null,props:ue}}function k(U,ne){return O(U.type,ne,U.props)}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function L(U){var ne={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return ne[ue]})}var N=/\/+/g;function Re(U,ne){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):ne.toString(36)}function Ie(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(oe,oe):(U.status="pending",U.then(function(ne){U.status==="pending"&&(U.status="fulfilled",U.value=ne)},function(ne){U.status==="pending"&&(U.status="rejected",U.reason=ne)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ee(U,ne,ue,de,X){var Q=typeof U;(Q==="undefined"||Q==="boolean")&&(U=null);var pe=!1;if(U===null)pe=!0;else switch(Q){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(U.$$typeof){case r:case e:pe=!0;break;case v:return pe=U._init,ee(pe(U._payload),ne,ue,de,X)}}if(pe)return X=X(U),pe=de===""?"."+Re(U,0):de,ce(X)?(ue="",pe!=null&&(ue=pe.replace(N,"$&/")+"/"),ee(X,ne,ue,"",function(je){return je})):X!=null&&(D(X)&&(X=k(X,ue+(X.key==null||U&&U.key===X.key?"":(""+X.key).replace(N,"$&/")+"/")+pe)),ne.push(X)),1;pe=0;var Me=de===""?".":de+":";if(ce(U))for(var be=0;be<U.length;be++)de=U[be],Q=Me+Re(de,be),pe+=ee(de,ne,ue,Q,X);else if(be=S(U),typeof be=="function")for(U=be.call(U),be=0;!(de=U.next()).done;)de=de.value,Q=Me+Re(de,be++),pe+=ee(de,ne,ue,Q,X);else if(Q==="object"){if(typeof U.then=="function")return ee(Ie(U),ne,ue,de,X);throw ne=String(U),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return pe}function he(U,ne,ue){if(U==null)return U;var de=[],X=0;return ee(U,de,"","",function(Q){return ne.call(ue,Q,X++)}),de}function ye(U){if(U._status===-1){var ne=U._result;ne=ne(),ne.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=ne)}if(U._status===1)return U._result.default;throw U._result}var Pe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Fe={map:he,forEach:function(U,ne,ue){he(U,function(){ne.apply(this,arguments)},ue)},count:function(U){var ne=0;return he(U,function(){ne++}),ne},toArray:function(U){return he(U,function(ne){return ne})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Oe.Activity=b,Oe.Children=Fe,Oe.Component=F,Oe.Fragment=t,Oe.Profiler=a,Oe.PureComponent=W,Oe.StrictMode=i,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return I.H.useMemoCache(U)}},Oe.cache=function(U){return function(){return U.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(U,ne,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var de=P({},U.props),X=U.key;if(ne!=null)for(Q in ne.key!==void 0&&(X=""+ne.key),ne)!R.call(ne,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&ne.ref===void 0||(de[Q]=ne[Q]);var Q=arguments.length-2;if(Q===1)de.children=ue;else if(1<Q){for(var pe=Array(Q),Me=0;Me<Q;Me++)pe[Me]=arguments[Me+2];de.children=pe}return O(U.type,X,de)},Oe.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Oe.createElement=function(U,ne,ue){var de,X={},Q=null;if(ne!=null)for(de in ne.key!==void 0&&(Q=""+ne.key),ne)R.call(ne,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(X[de]=ne[de]);var pe=arguments.length-2;if(pe===1)X.children=ue;else if(1<pe){for(var Me=Array(pe),be=0;be<pe;be++)Me[be]=arguments[be+2];X.children=Me}if(U&&U.defaultProps)for(de in pe=U.defaultProps,pe)X[de]===void 0&&(X[de]=pe[de]);return O(U,Q,X)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(U){return{$$typeof:d,render:U}},Oe.isValidElement=D,Oe.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:ye}},Oe.memo=function(U,ne){return{$$typeof:g,type:U,compare:ne===void 0?null:ne}},Oe.startTransition=function(U){var ne=I.T,ue={};I.T=ue;try{var de=U(),X=I.S;X!==null&&X(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(oe,Pe)}catch(Q){Pe(Q)}finally{ne!==null&&ue.types!==null&&(ne.types=ue.types),I.T=ne}},Oe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Oe.use=function(U){return I.H.use(U)},Oe.useActionState=function(U,ne,ue){return I.H.useActionState(U,ne,ue)},Oe.useCallback=function(U,ne){return I.H.useCallback(U,ne)},Oe.useContext=function(U){return I.H.useContext(U)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(U,ne){return I.H.useDeferredValue(U,ne)},Oe.useEffect=function(U,ne){return I.H.useEffect(U,ne)},Oe.useEffectEvent=function(U){return I.H.useEffectEvent(U)},Oe.useId=function(){return I.H.useId()},Oe.useImperativeHandle=function(U,ne,ue){return I.H.useImperativeHandle(U,ne,ue)},Oe.useInsertionEffect=function(U,ne){return I.H.useInsertionEffect(U,ne)},Oe.useLayoutEffect=function(U,ne){return I.H.useLayoutEffect(U,ne)},Oe.useMemo=function(U,ne){return I.H.useMemo(U,ne)},Oe.useOptimistic=function(U,ne){return I.H.useOptimistic(U,ne)},Oe.useReducer=function(U,ne,ue){return I.H.useReducer(U,ne,ue)},Oe.useRef=function(U){return I.H.useRef(U)},Oe.useState=function(U){return I.H.useState(U)},Oe.useSyncExternalStore=function(U,ne,ue){return I.H.useSyncExternalStore(U,ne,ue)},Oe.useTransition=function(){return I.H.useTransition()},Oe.version="19.2.4",Oe}var wS;function Bf(){return wS||(wS=1,Rm.exports=Rj()),Rm.exports}var B=Bf();const Kt=Yt(B);var AS="popstate";function Cj(r={}){function e(a,l){let{pathname:c="/",search:d="",hash:p=""}=La(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),z_("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=a.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:Fu(l))}function i(a,l){ur(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Nj(e,t,i,r)}function xt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ur(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ij(){return Math.random().toString(36).substring(2,10)}function RS(r,e){return{usr:r.state,key:r.key,idx:e}}function z_(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?La(e):e,state:t,key:e&&e.key||i||Ij()}}function Fu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function La(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function Nj(r,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let M=v(),F=M==null?null:M-g;g=M,p&&p({action:d,location:P.location,delta:F})}function x(M,F){d="PUSH";let z=z_(P.location,M,F);t&&t(z,M),g=v()+1;let W=RS(z,g),le=P.createHref(z);try{c.pushState(W,"",le)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;a.location.assign(le)}l&&p&&p({action:d,location:P.location,delta:1})}function S(M,F){d="REPLACE";let z=z_(P.location,M,F);t&&t(z,M),g=v();let W=RS(z,g),le=P.createHref(z);c.replaceState(W,"",le),l&&p&&p({action:d,location:P.location,delta:0})}function j(M){return Oj(M)}let P={get action(){return d},get location(){return r(a,c)},listen(M){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(AS,b),p=M,()=>{a.removeEventListener(AS,b),p=null}},createHref(M){return e(a,M)},createURL:j,encodeLocation(M){let F=j(M);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:x,replace:S,go(M){return c.go(M)}};return P}function Oj(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),xt(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Fu(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function SI(r,e,t="/"){return Dj(r,e,t,!1)}function Dj(r,e,t,i){let a=typeof e=="string"?La(e):e,l=ji(a.pathname||"/",t);if(l==null)return null;let c=wI(r);Mj(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=Hj(l);d=Bj(c[p],g,i)}return d}function wI(r,e=[],t=[],i="",a=!1){let l=(c,d,p=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&p)return;xt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=Di([i,v.relativePath]),x=t.concat(v);c.children&&c.children.length>0&&(xt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),wI(c.children,e,x,b,p)),!(c.path==null&&!c.index)&&e.push({path:b,score:qj(b,c.index),routesMeta:x})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of AI(c.path))l(c,d,!0,p)}),e}function AI(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=AI(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function Mj(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:zj(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var jj=/^:[\w-]+$/,kj=3,Vj=2,Pj=1,Lj=10,Uj=-2,CS=r=>r==="*";function qj(r,e){let t=r.split("/"),i=t.length;return t.some(CS)&&(i+=Uj),e&&(i+=Vj),t.filter(a=>!CS(a)).reduce((a,l)=>a+(jj.test(l)?kj:l===""?Pj:Lj),i)}function zj(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function Bj(r,e,t=!1){let{routesMeta:i}=r,a={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=mf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),x=p.route;if(!b&&g&&t&&!i[i.length-1].route.index&&(b=mf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Di([l,b.pathname]),pathnameBase:Yj(Di([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=Di([l,b.pathnameBase]))}return c}function mf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=Fj(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:b},x)=>{if(v==="*"){let j=d[x]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const S=d[x];return b&&!S?g[v]=void 0:g[v]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:r}}function Fj(r,e=!1,t=!0){ur(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function Hj(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ur(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ji(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}var Gj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function $j(r,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof r=="string"?La(r):r,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=IS(t.substring(1),"/"):l=IS(t,e)):l=e,{pathname:l,search:Qj(i),hash:Xj(a)}}function IS(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Cm(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kj(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function T0(r){let e=Kj(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function x0(r,e,t,i=!1){let a;typeof r=="string"?a=La(r):(a={...r},xt(!a.pathname||!a.pathname.includes("?"),Cm("?","pathname","search",a)),xt(!a.pathname||!a.pathname.includes("#"),Cm("#","pathname","hash",a)),xt(!a.search||!a.search.includes("#"),Cm("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;a.pathname=x.join("/")}d=b>=0?e[b]:"/"}let p=$j(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Di=r=>r.join("/").replace(/\/\/+/g,"/"),Yj=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Qj=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Xj=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Wj=class{constructor(r,e,t,i=!1){this.status=r,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Jj(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Zj(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var RI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function CI(r,e){let t=r;if(typeof t!="string"||!Gj.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,a=!1;if(RI)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=ji(c.pathname,e);c.origin===l.origin&&d!=null?t=d+c.search+c.hash:a=!0}catch{ur(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var II=["POST","PUT","PATCH","DELETE"];new Set(II);var ek=["GET",...II];new Set(ek);var rl=B.createContext(null);rl.displayName="DataRouter";var Ff=B.createContext(null);Ff.displayName="DataRouterState";var tk=B.createContext(!1),NI=B.createContext({isTransitioning:!1});NI.displayName="ViewTransition";var nk=B.createContext(new Map);nk.displayName="Fetchers";var rk=B.createContext(null);rk.displayName="Await";var Hn=B.createContext(null);Hn.displayName="Navigation";var ec=B.createContext(null);ec.displayName="Location";var Nr=B.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var S0=B.createContext(null);S0.displayName="RouteError";var OI="REACT_ROUTER_ERROR",ik="REDIRECT",sk="ROUTE_ERROR_RESPONSE";function ak(r){if(r.startsWith(`${OI}:${ik}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ok(r){if(r.startsWith(`${OI}:${sk}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Wj(e.status,e.statusText,e.data)}catch{}}function lk(r,{relative:e}={}){xt(il(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(Hn),{hash:a,pathname:l,search:c}=tc(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Di([t,l])),i.createHref({pathname:d,search:c,hash:a})}function il(){return B.useContext(ec)!=null}function Bi(){return xt(il(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(ec).location}var DI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MI(r){B.useContext(Hn).static||B.useLayoutEffect(r)}function w0(){let{isDataRoute:r}=B.useContext(Nr);return r?Tk():uk()}function uk(){xt(il(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(rl),{basename:e,navigator:t}=B.useContext(Hn),{matches:i}=B.useContext(Nr),{pathname:a}=Bi(),l=JSON.stringify(T0(i)),c=B.useRef(!1);return MI(()=>{c.current=!0}),B.useCallback((p,g={})=>{if(ur(c.current,DI),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=x0(p,JSON.parse(l),a,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Di([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,r])}B.createContext(null);function ck(){let{matches:r}=B.useContext(Nr),e=r[r.length-1];return e?e.params:{}}function tc(r,{relative:e}={}){let{matches:t}=B.useContext(Nr),{pathname:i}=Bi(),a=JSON.stringify(T0(t));return B.useMemo(()=>x0(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function hk(r,e){return jI(r,e)}function jI(r,e,t,i,a){xt(il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=B.useContext(Hn),{matches:c}=B.useContext(Nr),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let z=b&&b.path||"";VI(g,!b||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let x=Bi(),S;if(e){let z=typeof e=="string"?La(e):e;xt(v==="/"||z.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${z.pathname}" was given in the \`location\` prop.`),S=z}else S=x;let j=S.pathname||"/",P=j;if(v!=="/"){let z=v.replace(/^\//,"").split("/");P="/"+j.replace(/^\//,"").split("/").slice(z.length).join("/")}let M=SI(r,{pathname:P});ur(b||M!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),ur(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=gk(M&&M.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:Di([v,l.encodeLocation?l.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:Di([v,l.encodeLocation?l.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),c,t,i,a);return e&&F?B.createElement(ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},F):F}function fk(){let r=Ek(),e=Jj(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=B.createElement(B.Fragment,null,B.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:l},"ErrorBoundary")," or"," ",B.createElement("code",{style:l},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:a},t):null,c)}var dk=B.createElement(fk,null),kI=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=ok(r.digest);t&&(r=t)}let e=r!==void 0?B.createElement(Nr.Provider,{value:this.props.routeContext},B.createElement(S0.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?B.createElement(pk,{error:r},e):e}};kI.contextType=tk;var Im=new WeakMap;function pk({children:r,error:e}){let{basename:t}=B.useContext(Hn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=ak(e.digest);if(i){let a=Im.get(e);if(a)throw a;let l=CI(i.location,t);if(RI&&!Im.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Im.set(e,c),c}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function mk({routeContext:r,match:e,children:t}){let i=B.useContext(rl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Nr.Provider,{value:r},t)}function gk(r,e=[],t=null,i=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t?.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);xt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,p=-1;if(t)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:x,errors:S}=t,j=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||j){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&i?(v,b)=>{i(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:Zj(t.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,x)=>{let S,j=!1,P=null,M=null;t&&(S=c&&b.route.id?c[b.route.id]:void 0,P=b.route.errorElement||dk,d&&(p<0&&x===0?(VI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,M=null):p===x&&(j=!0,M=b.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,x+1)),z=()=>{let W;return S?W=P:j?W=M:b.route.Component?W=B.createElement(b.route.Component,null):b.route.element?W=b.route.element:W=v,B.createElement(mk,{match:b,routeContext:{outlet:v,matches:F,isDataRoute:t!=null},children:W})};return t&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?B.createElement(kI,{location:t.location,revalidation:t.revalidation,component:P,error:S,children:z(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:g}):z()},null)}function A0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yk(r){let e=B.useContext(rl);return xt(e,A0(r)),e}function vk(r){let e=B.useContext(Ff);return xt(e,A0(r)),e}function _k(r){let e=B.useContext(Nr);return xt(e,A0(r)),e}function R0(r){let e=_k(r),t=e.matches[e.matches.length-1];return xt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function bk(){return R0("useRouteId")}function Ek(){let r=B.useContext(S0),e=vk("useRouteError"),t=R0("useRouteError");return r!==void 0?r:e.errors?.[t]}function Tk(){let{router:r}=yk("useNavigate"),e=R0("useNavigate"),t=B.useRef(!1);return MI(()=>{t.current=!0}),B.useCallback(async(a,l={})=>{ur(t.current,DI),t.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var NS={};function VI(r,e,t){!e&&!NS[r]&&(NS[r]=!0,ur(!1,t))}B.memo(xk);function xk({routes:r,future:e,state:t,onError:i}){return jI(r,void 0,t,i,e)}function B_({to:r,replace:e,state:t,relative:i}){xt(il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=B.useContext(Hn);ur(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=B.useContext(Nr),{pathname:c}=Bi(),d=w0(),p=x0(r,T0(l),c,i==="path"),g=JSON.stringify(p);return B.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:i})},[d,g,i,e,t]),null}function Sa(r){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Sk({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){xt(!il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof t=="string"&&(t=La(t));let{pathname:g="/",search:v="",hash:b="",state:x=null,key:S="default"}=t,j=B.useMemo(()=>{let P=ji(g,d);return P==null?null:{location:{pathname:P,search:v,hash:b,state:x,key:S},navigationType:i}},[d,g,v,b,x,S,i]);return ur(j!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:B.createElement(Hn.Provider,{value:p},B.createElement(ec.Provider,{children:e,value:j}))}function PI({children:r,location:e}){return hk(F_(r),e)}function F_(r,e=[]){let t=[];return B.Children.forEach(r,(i,a)=>{if(!B.isValidElement(i))return;let l=[...e,a];if(i.type===B.Fragment){t.push.apply(t,F_(i.props.children,l));return}xt(i.type===Sa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=F_(i.props.children,l)),t.push(c)}),t}var tf="get",nf="application/x-www-form-urlencoded";function Hf(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function wk(r){return Hf(r)&&r.tagName.toLowerCase()==="button"}function Ak(r){return Hf(r)&&r.tagName.toLowerCase()==="form"}function Rk(r){return Hf(r)&&r.tagName.toLowerCase()==="input"}function Ck(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ik(r,e){return r.button===0&&(!e||e==="_self")&&!Ck(r)}var $h=null;function Nk(){if($h===null)try{new FormData(document.createElement("form"),0),$h=!1}catch{$h=!0}return $h}var Ok=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nm(r){return r!=null&&!Ok.has(r)?(ur(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nf}"`),null):r}function Dk(r,e){let t,i,a,l,c;if(Ak(r)){let d=r.getAttribute("action");i=d?ji(d,e):null,t=r.getAttribute("method")||tf,a=Nm(r.getAttribute("enctype"))||nf,l=new FormData(r)}else if(wk(r)||Rk(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(i=p?ji(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||tf,a=Nm(r.getAttribute("formenctype"))||Nm(d.getAttribute("enctype"))||nf,l=new FormData(d,r),!Nk()){let{name:g,type:v,value:b}=r;if(v==="image"){let x=g?`${g}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else g&&l.append(g,b)}}else{if(Hf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=tf,i=null,a=nf,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function C0(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Mk(r,e,t,i){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&ji(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function jk(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kk(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Vk(r,e,t){let i=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await jk(l,t);return c.links?c.links():[]}return[]}));return qk(i.flat(1).filter(kk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function OS(r,e,t,i,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Pk(r,e,{includeHydrateFallback:t}={}){return Lk(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Lk(r){return[...new Set(r)]}function Uk(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function qk(r,e){let t=new Set;return new Set(e),r.reduce((i,a)=>{let l=JSON.stringify(Uk(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function LI(){let r=B.useContext(rl);return C0(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function zk(){let r=B.useContext(Ff);return C0(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var I0=B.createContext(void 0);I0.displayName="FrameworkContext";function UI(){let r=B.useContext(I0);return C0(r,"You must render this element inside a <HydratedRouter> element"),r}function Bk(r,e){let t=B.useContext(I0),[i,a]=B.useState(!1),[l,c]=B.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,x=B.useRef(null);B.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let P=F=>{F.forEach(z=>{c(z.isIntersecting)})},M=new IntersectionObserver(P,{threshold:.5});return x.current&&M.observe(x.current),()=>{M.disconnect()}}},[r]),B.useEffect(()=>{if(i){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[i]);let S=()=>{a(!0)},j=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,x,{}]:[l,x,{onFocus:_u(d,S),onBlur:_u(p,j),onMouseEnter:_u(g,S),onMouseLeave:_u(v,j),onTouchStart:_u(b,S)}]:[!1,x,{}]}function _u(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Fk({page:r,...e}){let{router:t}=LI(),i=B.useMemo(()=>SI(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?B.createElement(Gk,{page:r,matches:i,...e}):null}function Hk(r){let{manifest:e,routeModules:t}=UI(),[i,a]=B.useState([]);return B.useEffect(()=>{let l=!1;return Vk(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),i}function Gk({page:r,matches:e,...t}){let i=Bi(),{future:a,manifest:l,routeModules:c}=UI(),{basename:d}=LI(),{loaderData:p,matches:g}=zk(),v=B.useMemo(()=>OS(r,e,g,l,i,"data"),[r,e,g,l,i]),b=B.useMemo(()=>OS(r,e,g,l,i,"assets"),[r,e,g,l,i]),x=B.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let P=new Set,M=!1;if(e.forEach(z=>{let W=l.routes[z.route.id];!W||!W.hasLoader||(!v.some(le=>le.route.id===z.route.id)&&z.route.id in p&&c[z.route.id]?.shouldRevalidate||W.hasClientLoader?M=!0:P.add(z.route.id))}),P.size===0)return[];let F=Mk(r,d,a.unstable_trailingSlashAwareDataRequests,"data");return M&&P.size>0&&F.searchParams.set("_routes",e.filter(z=>P.has(z.route.id)).map(z=>z.route.id).join(",")),[F.pathname+F.search]},[d,a.unstable_trailingSlashAwareDataRequests,p,i,l,v,e,r,c]),S=B.useMemo(()=>Pk(b,l),[b,l]),j=Hk(b);return B.createElement(B.Fragment,null,x.map(P=>B.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),S.map(P=>B.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),j.map(({key:P,link:M})=>B.createElement("link",{key:P,nonce:t.nonce,...M,crossOrigin:M.crossOrigin??t.crossOrigin})))}function $k(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Kk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kk&&(window.__reactRouterVersion="7.13.0")}catch{}function Yk({basename:r,children:e,unstable_useTransitions:t,window:i}){let a=B.useRef();a.current==null&&(a.current=Cj({window:i,v5Compat:!0}));let l=a.current,[c,d]=B.useState({action:l.action,location:l.location}),p=B.useCallback(g=>{t===!1?d(g):B.startTransition(()=>d(g))},[t]);return B.useLayoutEffect(()=>l.listen(p),[l,p]),B.createElement(Sk,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var qI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zI=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x,...S},j){let{basename:P,unstable_useTransitions:M}=B.useContext(Hn),F=typeof g=="string"&&qI.test(g),z=CI(g,P);g=z.to;let W=lk(g,{relative:a}),[le,ce,oe]=Bk(i,S),I=Wk(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:M});function R(k){e&&e(k),k.defaultPrevented||I(k)}let O=B.createElement("a",{...S,...oe,href:z.absoluteURL||W,onClick:z.isExternal||l?e:R,ref:$k(j,ce),target:p,"data-discover":!F&&t==="render"?"true":void 0});return le&&!F?B.createElement(B.Fragment,null,O,B.createElement(Fk,{page:W})):O});zI.displayName="Link";var Hu=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let b=tc(c,{relative:g.relative}),x=Bi(),S=B.useContext(Ff),{navigator:j,basename:P}=B.useContext(Hn),M=S!=null&&nV(b)&&d===!0,F=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,z=x.pathname,W=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(z=z.toLowerCase(),W=W?W.toLowerCase():null,F=F.toLowerCase()),W&&P&&(W=ji(W,P)||W);const le=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ce=z===F||!a&&z.startsWith(F)&&z.charAt(le)==="/",oe=W!=null&&(W===F||!a&&W.startsWith(F)&&W.charAt(F.length)==="/"),I={isActive:ce,isPending:oe,isTransitioning:M},R=ce?e:void 0,O;typeof i=="function"?O=i(I):O=[i,ce?"active":null,oe?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(I):l;return B.createElement(zI,{...g,"aria-current":R,className:O,ref:v,style:k,to:c,viewTransition:d},typeof p=="function"?p(I):p)});Hu.displayName="NavLink";var Qk=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=tf,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x,...S},j)=>{let{unstable_useTransitions:P}=B.useContext(Hn),M=eV(),F=tV(d,{relative:g}),z=c.toLowerCase()==="get"?"get":"post",W=typeof d=="string"&&qI.test(d),le=ce=>{if(p&&p(ce),ce.defaultPrevented)return;ce.preventDefault();let oe=ce.nativeEvent.submitter,I=oe?.getAttribute("formmethod")||c,R=()=>M(oe||ce.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x});P&&t!==!1?B.startTransition(()=>R()):R()};return B.createElement("form",{ref:j,method:z,action:F,onSubmit:i?p:le,...S,"data-discover":!W&&r==="render"?"true":void 0})});Qk.displayName="Form";function Xk(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BI(r){let e=B.useContext(rl);return xt(e,Xk(r)),e}function Wk(r,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=w0(),v=Bi(),b=tc(r,{relative:l});return B.useCallback(x=>{if(Ik(x,e)){x.preventDefault();let S=t!==void 0?t:Fu(v)===Fu(b),j=()=>g(r,{replace:S,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});p?B.startTransition(()=>j()):j()}},[v,g,b,t,i,e,r,a,l,c,d,p])}var Jk=0,Zk=()=>`__${String(++Jk)}__`;function eV(){let{router:r}=BI("useSubmit"),{basename:e}=B.useContext(Hn),t=bk(),i=r.fetch,a=r.navigate;return B.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:v,body:b}=Dk(l,e);if(c.navigate===!1){let x=c.fetcherKey||Zk();await i(x,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,t])}function tV(r,{relative:e}={}){let{basename:t}=B.useContext(Hn),i=B.useContext(Nr);xt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...tc(r||".",{relative:e})},c=Bi();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Di([t,l.pathname])),Fu(l)}function nV(r,{relative:e}={}){let t=B.useContext(NI);xt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=BI("useViewTransitionState"),a=tc(r,{relative:e});if(!t.isTransitioning)return!1;let l=ji(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ji(t.nextLocation.pathname,i)||t.nextLocation.pathname;return mf(a.pathname,c)!=null||mf(a.pathname,l)!=null}var Om={exports:{}},pn={};var DS;function rV(){if(DS)return pn;DS=1;var r=Bf();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},pn.flushSync=function(p){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=v,i.d.f()}},pn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},pn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},pn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:S}):v==="script"&&i.d.X(p,{crossOrigin:b,integrity:x,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},pn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},pn.requestFormReset=function(p){i.d.r(p)},pn.unstable_batchedUpdates=function(p,g){return p(g)},pn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},pn.useFormStatus=function(){return c.H.useHostTransitionStatus()},pn.version="19.2.4",pn}var MS;function iV(){if(MS)return Om.exports;MS=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Om.exports=rV(),Om.exports}var Dm={exports:{}},Mm,jS;function sV(){if(jS)return Mm;jS=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Mm=r,Mm}var jm,kS;function aV(){if(kS)return jm;kS=1;var r=sV();function e(){}function t(){}return t.resetWarningCache=e,jm=function(){function i(c,d,p,g,v,b){if(b!==r){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},jm}var VS;function oV(){return VS||(VS=1,Dm.exports=aV()()),Dm.exports}var lV=oV();const C=Yt(lV),uV="modulepreload",cV=function(r){return"/check-list/"+r},PS={},Qe=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let g=function(v){return Promise.all(v.map(b=>Promise.resolve(b).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var c=g;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");a=g(t.map(v=>{if(v=cV(v),v in PS)return;PS[v]=!0;const b=v.endsWith(".css"),x=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${x}`))return;const S=document.createElement("link");if(S.rel=b?"stylesheet":uV,b||(S.as="script"),S.crossOrigin="",S.href=v,p&&S.setAttribute("nonce",p),document.head.appendChild(S),b)return new Promise((j,P)=>{S.addEventListener("load",j),S.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return a.then(d=>{for(const p of d||[])p.status==="rejected"&&l(p.reason);return e().catch(l)})},FI=(r,e,t)=>{const i=r[e];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((a,l)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(l.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})};var km={exports:{}},Vm={};var LS;function hV(){if(LS)return Vm;LS=1;var r=Bf();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=r.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,d=r.useDebugValue;return Vm.useSyncExternalStoreWithSelector=function(p,g,v,b,x){var S=a(null);if(S.current===null){var j={hasValue:!1,value:null};S.current=j}else j=S.current;S=c(function(){function M(ce){if(!F){if(F=!0,z=ce,ce=b(ce),x!==void 0&&j.hasValue){var oe=j.value;if(x(oe,ce))return W=oe}return W=ce}if(oe=W,t(z,ce))return oe;var I=b(ce);return x!==void 0&&x(oe,I)?(z=ce,oe):(z=ce,W=I)}var F=!1,z,W,le=v===void 0?null:v;return[function(){return M(g())},le===null?void 0:function(){return M(le())}]},[g,v,b,x]);var P=i(p,S[0],S[1]);return l(function(){j.hasValue=!0,j.value=P},[P]),d(P),P},Vm}var US;function fV(){return US||(US=1,km.exports=hV()),km.exports}var dV=fV(),pV=B.version.startsWith("19"),mV=Symbol.for(pV?"react.transitional.element":"react.element"),gV=Symbol.for("react.portal"),yV=Symbol.for("react.fragment"),vV=Symbol.for("react.strict_mode"),_V=Symbol.for("react.profiler"),bV=Symbol.for("react.consumer"),EV=Symbol.for("react.context"),HI=Symbol.for("react.forward_ref"),TV=Symbol.for("react.suspense"),xV=Symbol.for("react.suspense_list"),N0=Symbol.for("react.memo"),SV=Symbol.for("react.lazy"),wV=HI,AV=N0;function RV(r){if(typeof r=="object"&&r!==null){const{$$typeof:e}=r;switch(e){case mV:switch(r=r.type,r){case yV:case _V:case vV:case TV:case xV:return r;default:switch(r=r&&r.$$typeof,r){case EV:case HI:case SV:case N0:return r;case bV:return r;default:return e}}case gV:return e}}}function CV(r){return RV(r)===N0}function IV(r,e,t,i,{areStatesEqual:a,areOwnPropsEqual:l,areStatePropsEqual:c}){let d=!1,p,g,v,b,x;function S(z,W){return p=z,g=W,v=r(p,g),b=e(i,g),x=t(v,b,g),d=!0,x}function j(){return v=r(p,g),e.dependsOnOwnProps&&(b=e(i,g)),x=t(v,b,g),x}function P(){return r.dependsOnOwnProps&&(v=r(p,g)),e.dependsOnOwnProps&&(b=e(i,g)),x=t(v,b,g),x}function M(){const z=r(p,g),W=!c(z,v);return v=z,W&&(x=t(v,b,g)),x}function F(z,W){const le=!l(W,g),ce=!a(z,p,W,g);return p=z,g=W,le&&ce?j():le?P():ce?M():x}return function(W,le){return d?F(W,le):S(W,le)}}function NV(r,{initMapStateToProps:e,initMapDispatchToProps:t,initMergeProps:i,...a}){const l=e(r,a),c=t(r,a),d=i(r,a);return IV(l,c,d,r,a)}function OV(r,e){const t={};for(const i in r){const a=r[i];typeof a=="function"&&(t[i]=(...l)=>e(a(...l)))}return t}function H_(r){return function(t){const i=r(t);function a(){return i}return a.dependsOnOwnProps=!1,a}}function qS(r){return r.dependsOnOwnProps?!!r.dependsOnOwnProps:r.length!==1}function GI(r,e){return function(i,{displayName:a}){const l=function(d,p){return l.dependsOnOwnProps?l.mapToProps(d,p):l.mapToProps(d,void 0)};return l.dependsOnOwnProps=!0,l.mapToProps=function(d,p){l.mapToProps=r,l.dependsOnOwnProps=qS(r);let g=l(d,p);return typeof g=="function"&&(l.mapToProps=g,l.dependsOnOwnProps=qS(g),g=l(d,p)),g},l}}function O0(r,e){return(t,i)=>{throw new Error(`Invalid value of type ${typeof r} for ${e} argument when connecting component ${i.wrappedComponentName}.`)}}function DV(r){return r&&typeof r=="object"?H_(e=>OV(r,e)):r?typeof r=="function"?GI(r):O0(r,"mapDispatchToProps"):H_(e=>({dispatch:e}))}function MV(r){return r?typeof r=="function"?GI(r):O0(r,"mapStateToProps"):H_(()=>({}))}function jV(r,e,t){return{...t,...r,...e}}function kV(r){return function(t,{displayName:i,areMergedPropsEqual:a}){let l=!1,c;return function(p,g,v){const b=r(p,g,v);return l?a(b,c)||(c=b):(l=!0,c=b),c}}}function VV(r){return r?typeof r=="function"?kV(r):O0(r,"mergeProps"):()=>jV}function PV(r){r()}function LV(){let r=null,e=null;return{clear(){r=null,e=null},notify(){PV(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=r;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:r=a,function(){!i||r===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:r=a.next)}}}}var zS={notify(){},get:()=>[]};function $I(r,e){let t,i=zS,a=0,l=!1;function c(P){v();const M=i.subscribe(P);let F=!1;return()=>{F||(F=!0,M(),b())}}function d(){i.notify()}function p(){j.onStateChange&&j.onStateChange()}function g(){return l}function v(){a++,t||(t=e?e.addNestedSub(p):r.subscribe(p),i=LV())}function b(){a--,t&&a===0&&(t(),t=void 0,i.clear(),i=zS)}function x(){l||(l=!0,v())}function S(){l&&(l=!1,b())}const j={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:g,trySubscribe:x,tryUnsubscribe:S,getListeners:()=>i};return j}var UV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qV=UV(),zV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",BV=zV(),FV=()=>qV||BV?B.useLayoutEffect:B.useEffect,gf=FV();function BS(r,e){return r===e?r!==0||e!==0||1/r===1/e:r!==r&&e!==e}function Pm(r,e){if(BS(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;const t=Object.keys(r),i=Object.keys(e);if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(!Object.prototype.hasOwnProperty.call(e,t[a])||!BS(r[t[a]],e[t[a]]))return!1;return!0}var HV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},GV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$V={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},KI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},KV={[wV]:$V,[AV]:KI};function FS(r){return CV(r)?KI:KV[r.$$typeof]||HV}var YV=Object.defineProperty,QV=Object.getOwnPropertyNames,HS=Object.getOwnPropertySymbols,XV=Object.getOwnPropertyDescriptor,WV=Object.getPrototypeOf,GS=Object.prototype;function G_(r,e){if(typeof e!="string"){if(GS){const l=WV(e);l&&l!==GS&&G_(r,l)}let t=QV(e);HS&&(t=t.concat(HS(e)));const i=FS(r),a=FS(e);for(let l=0;l<t.length;++l){const c=t[l];if(!GV[c]&&!(a&&a[c])&&!(i&&i[c])){const d=XV(e,c);try{YV(r,c,d)}catch{}}}}return r}var JV=Symbol.for("react-redux-context"),ZV=typeof globalThis<"u"?globalThis:{};function eP(){if(!B.createContext)return{};const r=ZV[JV]??=new Map;let e=r.get(B.createContext);return e||(e=B.createContext(null),r.set(B.createContext,e)),e}var ki=eP(),tP=[null,null];function nP(r,e,t){gf(()=>r(...e),t)}function rP(r,e,t,i,a,l){r.current=i,t.current=!1,a.current&&(a.current=null,l())}function iP(r,e,t,i,a,l,c,d,p,g,v){if(!r)return()=>{};let b=!1,x=null;const S=()=>{if(b||!d.current)return;const P=e.getState();let M,F;try{M=i(P,a.current)}catch(z){F=z,x=z}F||(x=null),M===l.current?c.current||g():(l.current=M,p.current=M,c.current=!0,v())};return t.onStateChange=S,t.trySubscribe(),S(),()=>{if(b=!0,t.tryUnsubscribe(),t.onStateChange=null,x)throw x}}function sP(r,e){return r===e}function aP(r,e,t,{pure:i,areStatesEqual:a=sP,areOwnPropsEqual:l=Pm,areStatePropsEqual:c=Pm,areMergedPropsEqual:d=Pm,forwardRef:p=!1,context:g=ki}={}){const v=g,b=MV(r),x=DV(e),S=VV(t),j=!!r;return M=>{const F=M.displayName||M.name||"Component",z=`Connect(${F})`,W={shouldHandleStateChanges:j,displayName:z,wrappedComponentName:F,WrappedComponent:M,initMapStateToProps:b,initMapDispatchToProps:x,initMergeProps:S,areStatesEqual:a,areStatePropsEqual:c,areOwnPropsEqual:l,areMergedPropsEqual:d};function le(I){const[R,O,k]=B.useMemo(()=>{const{reactReduxForwardedRef:we,...He}=I;return[I.context,we,He]},[I]),D=B.useMemo(()=>{let we=v;return R?.Consumer,we},[R,v]),L=B.useContext(D),N=!!I.store&&!!I.store.getState&&!!I.store.dispatch,Re=!!L&&!!L.store,Ie=N?I.store:L.store,ee=Re?L.getServerState:Ie.getState,he=B.useMemo(()=>NV(Ie.dispatch,W),[Ie]),[ye,Pe]=B.useMemo(()=>{if(!j)return tP;const we=$I(Ie,N?void 0:L.subscription),He=we.notifyNestedSubs.bind(we);return[we,He]},[Ie,N,L]),Fe=B.useMemo(()=>N?L:{...L,subscription:ye},[N,L,ye]),U=B.useRef(void 0),ne=B.useRef(k),ue=B.useRef(void 0),de=B.useRef(!1),X=B.useRef(!1),Q=B.useRef(void 0);gf(()=>(X.current=!0,()=>{X.current=!1}),[]);const pe=B.useMemo(()=>()=>ue.current&&k===ne.current?ue.current:he(Ie.getState(),k),[Ie,k]),Me=B.useMemo(()=>He=>ye?iP(j,Ie,ye,he,ne,U,de,X,ue,Pe,He):()=>{},[ye]);nP(rP,[ne,U,de,k,ue,Pe]);let be;try{be=B.useSyncExternalStore(Me,pe,ee?()=>he(ee(),k):pe)}catch(we){throw Q.current&&(we.message+=`
The error may be correlated with this previous error:
${Q.current.stack}

`),we}gf(()=>{Q.current=void 0,ue.current=void 0,U.current=be});const je=B.useMemo(()=>B.createElement(M,{...be,ref:O}),[O,M,be]);return B.useMemo(()=>j?B.createElement(D.Provider,{value:Fe},je):je,[D,je,Fe])}const oe=B.memo(le);if(oe.WrappedComponent=M,oe.displayName=le.displayName=z,p){const R=B.forwardRef(function(k,D){return B.createElement(oe,{...k,reactReduxForwardedRef:D})});return R.displayName=z,R.WrappedComponent=M,G_(R,M)}return G_(oe,M)}}var oP=aP;function lP(r){const{children:e,context:t,serverState:i,store:a}=r,l=B.useMemo(()=>{const p=$I(a);return{store:a,subscription:p,getServerState:i?()=>i:void 0}},[a,i]),c=B.useMemo(()=>a.getState(),[a]);gf(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==a.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,c]);const d=t||ki;return B.createElement(d.Provider,{value:l},e)}var $_=lP;function D0(r=ki){return function(){return B.useContext(r)}}var YI=D0();function QI(r=ki){const e=r===ki?YI:D0(r),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var uP=QI();function cP(r=ki){const e=r===ki?uP:QI(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var hP=cP(),fP=(r,e)=>r===e;function dP(r=ki){const e=r===ki?YI:D0(r),t=(i,a={})=>{const{equalityFn:l=fP}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:d,subscription:p,getServerState:g}=c;B.useRef(!0);const v=B.useCallback({[i.name](x){return i(x)}}[i.name],[i]),b=dV.useSyncExternalStoreWithSelector(p.addNestedSub,d.getState,g||d.getState,v,l);return B.useDebugValue(b),b};return Object.assign(t,{withTypes:()=>t}),t}var _a=dP();const rn=({className:r="",...e})=>y.jsx("i",{className:`checkmark icon ${r}`,...e}),Gf=({className:r="",...e})=>y.jsx("i",{className:`chevron down icon ${r}`,...e}),nc=({className:r="",...e})=>y.jsx("i",{className:`chevron right icon ${r}`,...e}),rc=({className:r="",...e})=>y.jsx("i",{className:`exclamation triangle icon ${r}`,...e}),Da=({className:r="",...e})=>y.jsx("i",{className:`book open icon ${r}`,...e}),ic=({className:r="",...e})=>y.jsx("i",{className:`lock icon ${r}`,...e}),sl=({className:r="",...e})=>y.jsx("i",{className:`settings icon ${r}`,...e}),$f=({className:r="",...e})=>y.jsx("i",{className:`trash icon ${r}`,...e}),yf=({className:r="",...e})=>y.jsx("i",{className:`shopping cart icon ${r}`,...e}),XI=({className:r="",...e})=>y.jsx("i",{className:`archive icon ${r}`,...e}),WI=({className:r="",...e})=>y.jsx("i",{className:`bars icon ${r}`,...e}),JI=({className:r="",...e})=>y.jsx("i",{className:`search icon ${r}`,...e}),_n=({className:r="",...e})=>y.jsx("i",{className:`remove icon ${r}`,...e}),vf=({className:r="",...e})=>y.jsx("i",{className:`eye slash icon ${r}`,...e}),Kf=({className:r="",...e})=>y.jsx("i",{className:`info circle icon ${r}`,...e}),ju=({className:r="",...e})=>y.jsx("i",{className:`cloud icon ${r}`,...e}),ZI=({className:r="",...e})=>y.jsx("i",{className:`download icon ${r}`,...e}),eN=({className:r="",...e})=>y.jsx("i",{className:`upload icon ${r}`,...e}),M0=({className:r="",...e})=>y.jsx("i",{className:`history icon ${r}`,...e}),tN=({className:r="",...e})=>y.jsx("i",{className:`sign in icon ${r}`,...e}),nN=({className:r="",...e})=>y.jsx("i",{className:`sign out icon ${r}`,...e}),rN=({className:r="",...e})=>y.jsx("i",{className:`compress icon ${r}`,...e}),K_=({className:r="",...e})=>y.jsx("i",{className:`desktop icon ${r}`,...e}),Vi=({className:r="",...e})=>y.jsx("i",{className:`spinner loading icon ${r}`,...e}),iN=({className:r="",...e})=>y.jsx("i",{className:`undo icon ${r}`,...e}),wa=({className:r="",...e})=>y.jsx("i",{className:`plus icon ${r}`,...e}),Yf=({className:r="",...e})=>y.jsx("i",{className:`minus icon ${r}`,...e}),sc=({className:r="",...e})=>y.jsx("i",{className:`edit icon ${r}`,...e}),ac=({className:r="",...e})=>y.jsx("i",{className:`warning circle icon ${r}`,...e}),sN=({className:r="",...e})=>y.jsx("i",{className:`star icon ${r}`,...e}),aN=({className:r="",...e})=>y.jsx("i",{className:`globe icon ${r}`,...e}),oN=({className:r="",...e})=>y.jsx("i",{className:`eye icon ${r}`,...e}),lN=({className:r="",...e})=>y.jsx("i",{className:`low vision icon ${r}`,...e}),uN=({className:r="",...e})=>y.jsx("i",{className:`android icon ${r}`,...e}),Y_=({className:r="",...e})=>y.jsx("i",{className:`gem icon ${r}`,...e}),cN=({className:r="",...e})=>y.jsx("i",{className:`tree icon ${r}`,...e}),hN=({className:r="",...e})=>y.jsx("i",{className:`leaf icon ${r}`,...e}),fN=({className:r="",...e})=>y.jsx("i",{className:`map signs icon ${r}`,...e}),dN=({className:r="",...e})=>y.jsx("i",{className:`fish icon ${r}`,...e}),Be={className:C.string,onClick:C.func,title:C.string};rn.propTypes=Be;Gf.propTypes=Be;nc.propTypes=Be;rc.propTypes=Be;Da.propTypes=Be;ic.propTypes=Be;sl.propTypes=Be;$f.propTypes=Be;yf.propTypes=Be;XI.propTypes=Be;WI.propTypes=Be;JI.propTypes=Be;_n.propTypes=Be;vf.propTypes=Be;Kf.propTypes=Be;ju.propTypes=Be;ZI.propTypes=Be;eN.propTypes=Be;M0.propTypes=Be;tN.propTypes=Be;nN.propTypes=Be;rN.propTypes=Be;K_.propTypes=Be;Vi.propTypes=Be;iN.propTypes=Be;wa.propTypes=Be;Yf.propTypes=Be;sc.propTypes=Be;ac.propTypes=Be;sN.propTypes=Be;aN.propTypes=Be;oN.propTypes=Be;lN.propTypes=Be;uN.propTypes=Be;Y_.propTypes=Be;cN.propTypes=Be;hN.propTypes=Be;fN.propTypes=Be;dN.propTypes=Be;const pP=(r,e,t)=>({type:"TOGGLE_ITEM",game:r,category:e,title:t}),mP=r=>({type:"TOGGLE_RELIC",relic:r}),$S=(r,e,t)=>({type:"CLEAR_ITEMS",game:r,category:e,titles:t}),gP=(r,e,t)=>({type:"ADD_ITEM",game:r,category:e,item:t}),yP=(r,e,t)=>({type:"ADD_BUILD_ITEM",game:r,category:e,item:t}),vP=(r,e,t)=>({type:"ADD_VOID_ITEM",game:r,category:e,item:t}),_P=(r,e,t)=>({type:"REMOVE_ITEM",game:r,category:e,title:t}),bP=(r,e,t)=>({type:"REMOVE_BUILD_ITEM",game:r,category:e,title:t}),EP=(r,e,t)=>({type:"REMOVE_VOID_ITEM",game:r,category:e,title:t}),TP=(r,e,t)=>({type:"INCREMENT_ITEM",game:r,category:e,title:t}),xP=(r,e,t)=>({type:"DECREMENT_ITEM",game:r,category:e,title:t}),SP=(r,e,t,i,a)=>({type:"UPDATE_ITEM",game:r,category:e,title:t,notes:i,count:a}),wP=(r,e,t,i)=>({type:"UPDATE_BUILD_ITEM",game:r,category:e,title:t,item:i}),AP=r=>({type:"SET_SEARCH_VALUE",value:r}),RP=r=>({type:"SET_VISIBILITY_FILTER",filter:r}),CP=r=>({type:"SET_RELIC_VISIBILITY",filter:r}),Wt={SHOW_ALL:"SHOW_ALL",SHOW_ACTIVE:"SHOW_ACTIVE"},IP=r=>({type:"UPLOAD_STATE",state:r});class pN extends Kt.Component{renderItems(e,t){return y.jsx("ul",{className:"list-none p-0 m-0",children:e.map((i,a)=>this.renderItem(i,a,t))})}handleItemClick(e){return t=>{const i=typeof e=="object"&&e!==null?e.key||e.title:e;this.props.onItemClick(i),t.stopPropagation()}}handleClearClick(e){return t=>{this.props.onClear(e.map(i=>typeof i=="object"&&i!==null?i.key||i.title:i)),t.stopPropagation()}}renderLocation(e){return!e||!e.length||e===""?null:(Array.isArray(e)?e:[e]).map((i,a)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:i},a))}renderItem(e,t,i){if(!e||e.hidden)return null;const a=e.readOnly;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(e).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const l=this.props.visibilityFilter===Wt.SHOW_ACTIVE&&e.checked,c=typeof e=="string"||e instanceof String?e:e.title,d=!!e.items,p=e.checked?"text-green-500":"text-gray-400",g=e.tags?e.tags.map((x,S)=>x==="missable"?y.jsx("span",{title:x,className:"text-red-600 ml-1 inline-block font-normal",children:y.jsx(rc,{})},S):null):null,v=e.hint?y.jsxs("span",{className:"opacity-40 text-sm italic font-normal",children:[" ",e.hint]}):null,b=!e.items&&!(a||i);return y.jsx("li",{className:`py-0.5 rounded-sm ${l?"opacity-40":""} ${d?"mt-1.5":""}`,children:y.jsxs("div",{className:"flex items-start",children:[!(a||i)&&y.jsx("div",{className:`mr-1 shrink-0 flex items-center h-[1.35em] ${p} ${b?"cursor-pointer":""}`,onClick:b?this.handleItemClick(e):void 0,children:e.items?e.checked?y.jsx(rn,{}):y.jsx(Gf,{}):e.checked?y.jsx(rn,{}):y.jsx(nc,{})}),y.jsxs("div",{className:"grow",children:[y.jsxs("div",{className:"leading-tight",children:[e.items&&e.readOnly?y.jsxs("span",{className:"underline font-bold text-gray-900 text-base",children:[c,v,g]}):i?y.jsxs("span",{className:"font-normal text-gray-700 text-sm",children:[c,v,g]}):y.jsxs("span",{className:"font-bold text-gray-900 text-base",children:[c,v,g]}),e.url?y.jsx("a",{href:e.url,title:"wiki",className:"ml-1 text-gray-500 opacity-70 hover:opacity-100 inline-block",target:"_blank",rel:"noopener noreferrer",onClick:x=>x.stopPropagation(),children:y.jsx(Da,{})}):null,e.isVaulted?y.jsx("span",{title:"Vaulted",className:"ml-1 text-gray-500 inline-block",children:y.jsx(ic,{})}):null,e.partOf?y.jsx("span",{title:`Part of ${e.partOf.join(", ")}`,className:"ml-1 text-gray-500 inline-block",children:y.jsx(sl,{})}):null,e.items&&e.props&&e.props.includes("clearable")?y.jsx("span",{title:"Clear",className:"ml-1 text-red-600 opacity-70 hover:opacity-100 cursor-pointer inline-block",onClick:this.handleClearClick(e.items),children:y.jsx($f,{})}):null]}),e.description?Array.isArray(e.description)?e.description.map((x,S)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:x},S)):y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:e.description}):null,this.renderLocation(e.location),e.items&&e.items.length?y.jsx("div",{className:"ml-2",children:this.renderItems(e.items,a)}):null]})]})},t)}render(){return!this.props.items||!this.props.items.length?y.jsx("div",{className:"text-gray-500 italic",children:"No items"}):y.jsx("div",{className:"mb-4",children:this.renderItems(this.props.items)})}}pN.propTypes={items:C.arrayOf(C.oneOfType([C.string,C.shape({title:C.string,url:C.string,icon:C.string,description:C.oneOfType([C.string,C.arrayOf(C.string)]),location:C.oneOfType([C.string,C.arrayOf(C.string)]),checked:C.bool,items:C.array,tags:C.arrayOf(C.string),hint:C.string,readOnly:C.bool,hidden:C.bool,key:C.string,isVaulted:C.bool,partOf:C.arrayOf(C.string),props:C.arrayOf(C.string)})])),onItemClick:C.func.isRequired,onClear:C.func.isRequired,visibilityFilter:C.string,searchFilter:C.string};const Ts={TYPE:"type",INTRODUCED:"introduced",NONE:"none"},NP=r=>{if(!r)return null;const e=String(r).trim();if(!e)return null;const t=e.split(/\s+/);if(t.length<2)return`https://wiki.warframe.com/w/${encodeURIComponent(e.replace(/\s+/g,"_"))}`;const i=t[0],a=t.slice(1).join(" "),c=`Update_${a.split(".")[0]}`.replace(/\s+/g,"_"),d=`${i}_${a}`.replace(/\s+/g,"_");return`https://wiki.warframe.com/w/${encodeURIComponent(c)}%23${encodeURIComponent(d)}`},OP=r=>{if(!r)return null;const e=String(r).trim();if(!e)return null;const t=e.replace(/\s+/g,"_");return`https://wiki.warframe.com/w/${encodeURIComponent(t)}`};class mN extends Kt.Component{constructor(e){super(e),this.state={groupBy:Ts.TYPE}}handleGroupByChange(){return e=>{this.setState({groupBy:e.target.value})}}renderItems(e,t){return y.jsx("ul",{className:"list-none p-0 m-0",children:e.map((i,a)=>this.renderItem(i,a,t))})}handleItemClick(e){return t=>{const i=typeof e=="object"&&e!==null?e.key||e.title:e;this.props.onItemClick(i),t.stopPropagation()}}handleClearClick(e){return t=>{this.props.onClear(e.map(i=>typeof i=="object"&&i!==null?i.key||i.title:i)),t.stopPropagation()}}renderLocation(e){return!e||!e.length||e===""?null:(Array.isArray(e)?e:[e]).map((i,a)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:i},a))}renderItem(e,t,i){if(!e||e.hidden)return null;const a=e.readOnly;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(e).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const l=this.props.visibilityFilter===Wt.SHOW_ACTIVE&&e.checked,c=typeof e=="string"||e instanceof String?e:e.title,d=!!e.items,p=e.checked?"text-green-500":"text-gray-400",g=e.tags?e.tags.map((S,j)=>S==="missable"?y.jsx("span",{title:S,className:"text-red-600 ml-1 inline-block font-normal",children:y.jsx(rc,{})},j):null):null,v=e.hint?y.jsxs("span",{className:"opacity-40 text-sm italic font-normal",children:[" ",e.hint]}):null,b=!e.items&&!(a||i),x=e.url||(e.items?null:OP(c));return y.jsx("li",{className:`py-0.5 rounded-sm ${l?"opacity-40":""} ${d?"mt-1.5":""}`,children:y.jsxs("div",{className:"flex items-start",children:[!(a||i)&&y.jsx("div",{className:`mr-1 shrink-0 flex items-center h-[1.35em] ${p} ${b?"cursor-pointer":""}`,onClick:b?this.handleItemClick(e):void 0,children:e.items?e.checked?y.jsx(rn,{}):y.jsx(Gf,{}):e.checked?y.jsx(rn,{}):y.jsx(nc,{})}),y.jsxs("div",{className:"grow",children:[y.jsxs("div",{className:"leading-tight",children:[e.items&&e.readOnly?y.jsxs("span",{className:"underline font-bold text-gray-900 text-base",children:[c,v,g]}):i?y.jsxs("span",{className:"font-normal text-gray-700 text-sm",children:[c,v,g]}):y.jsxs("span",{className:"font-bold text-gray-900 text-base",children:[c,v,g]}),x?y.jsx("a",{href:x,title:"wiki",className:"ml-1 text-gray-500 opacity-70 hover:opacity-100 inline-block",target:"_blank",rel:"noopener noreferrer",onClick:S=>S.stopPropagation(),children:y.jsx(Da,{})}):null,e.isVaulted?y.jsx("span",{title:"Vaulted",className:"ml-1 text-gray-500 inline-block",children:y.jsx(ic,{})}):null,e.partOf?y.jsx("span",{title:`Part of ${e.partOf.join(", ")}`,className:"ml-1 text-gray-500 inline-block",children:y.jsx(sl,{})}):null,e.items&&e.props&&e.props.includes("clearable")?y.jsx("span",{title:"Clear",className:"ml-1 text-red-600 opacity-70 hover:opacity-100 cursor-pointer inline-block",onClick:this.handleClearClick(e.items),children:y.jsx($f,{})}):null]}),e.description?Array.isArray(e.description)?e.description.map((S,j)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:S},j)):y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:e.description}):null,this.renderLocation(e.location),e.items&&e.items.length?y.jsx("div",{className:"ml-2",children:this.renderItems(e.items,a)}):null]})]})},t)}collectLeafItems(e,t=[],i=null){return Array.isArray(e)&&e.forEach(a=>{if(a){if(typeof a=="string"||a instanceof String){t.push({item:a,groupTitle:i});return}if(a.items&&a.items.length){this.collectLeafItems(a.items,t,a.title||i);return}t.push({item:a,groupTitle:i})}}),t}getItemTitle(e){return typeof e=="string"||e instanceof String?e:e.title}getGroupedItems(){const e=this.props.items||[],t=this.props.enableIntroducedGrouping!==!1,i=this.state.groupBy===Ts.INTRODUCED&&!t?Ts.TYPE:this.state.groupBy;if(i===Ts.TYPE)return e;const l=this.collectLeafItems(e).slice().sort((p,g)=>this.getItemTitle(p.item).localeCompare(this.getItemTitle(g.item)));if(i===Ts.NONE)return l.map(({item:p})=>p);const c={},d={};return l.forEach(({item:p,groupTitle:g})=>{const b=(typeof p=="object"&&p!==null&&p.introduced?.parent?p.introduced.parent:null)||g||"Unknown";c[b]||(c[b]=[]),c[b].push(p);const x=typeof p=="object"&&p!==null?p.introduced?.name:null,S=typeof p=="object"&&p!==null?p.introduced?.date:null;if(!d[b])d[b]={name:x||null,date:S||null,sourceGroupTitle:g||null};else{if(!d[b].name&&x&&(d[b].name=x),S){const j=d[b].date;(!j||S<j)&&(d[b].date=S)}!d[b].sourceGroupTitle&&g&&(d[b].sourceGroupTitle=g)}}),Object.keys(c).sort((p,g)=>{const v=d[p]?.date||"",b=d[g]?.date||"";return v&&b&&v!==b?v.localeCompare(b):p.localeCompare(g)}).map(p=>{const g=d[p]||{},v=g.sourceGroupTitle||(p!=="Unknown"?`Update ${p}`:p),b=g.name||v,x=NP(b),S=g.date||null;return{title:b,url:x,description:S,checked:c[p].every(j=>j&&j.checked),items:c[p]}})}render(){if(!this.props.items||!this.props.items.length)return y.jsx("div",{className:"text-gray-500 italic",children:"No items"});const e=this.getGroupedItems();return y.jsxs("div",{className:"mb-4 relative",children:[y.jsx("div",{className:"absolute right-0 top-0 z-10",children:y.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-500 bg-white/90 px-1.5 py-0.5 rounded-md",children:[y.jsx("span",{children:"Group by"}),y.jsxs("select",{value:this.state.groupBy,onChange:this.handleGroupByChange(),className:"border border-gray-200 rounded-md px-2 py-1 text-sm text-gray-700 bg-white",children:[y.jsx("option",{value:Ts.TYPE,children:"Type"}),this.props.enableIntroducedGrouping!==!1&&y.jsx("option",{value:Ts.INTRODUCED,children:"Introduced"}),y.jsx("option",{value:Ts.NONE,children:"None"})]})]})}),this.renderItems(e)]})}}mN.propTypes={items:C.arrayOf(C.oneOfType([C.string,C.shape({title:C.string,url:C.string,icon:C.string,description:C.oneOfType([C.string,C.arrayOf(C.string)]),location:C.oneOfType([C.string,C.arrayOf(C.string)]),checked:C.bool,items:C.array,tags:C.arrayOf(C.string),hint:C.string,readOnly:C.bool,hidden:C.bool,key:C.string,isVaulted:C.bool,partOf:C.arrayOf(C.string),props:C.arrayOf(C.string),introduced:C.shape({name:C.string,date:C.string,parent:C.string})})])),onItemClick:C.func.isRequired,onClear:C.func.isRequired,visibilityFilter:C.string,searchFilter:C.string,enableIntroducedGrouping:C.bool};var Lm,KS;function gN(){if(KS)return Lm;KS=1;var r=typeof Cs=="object"&&Cs&&Cs.Object===Object&&Cs;return Lm=r,Lm}var Um,YS;function Or(){if(YS)return Um;YS=1;var r=gN(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return Um=t,Um}var qm,QS;function al(){if(QS)return qm;QS=1;var r=Or(),e=r.Symbol;return qm=e,qm}var zm,XS;function DP(){if(XS)return zm;XS=1;var r=al(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,a=r?r.toStringTag:void 0;function l(c){var d=t.call(c,a),p=c[a];try{c[a]=void 0;var g=!0}catch{}var v=i.call(c);return g&&(d?c[a]=p:delete c[a]),v}return zm=l,zm}var Bm,WS;function MP(){if(WS)return Bm;WS=1;var r=Object.prototype,e=r.toString;function t(i){return e.call(i)}return Bm=t,Bm}var Fm,JS;function Ua(){if(JS)return Fm;JS=1;var r=al(),e=DP(),t=MP(),i="[object Null]",a="[object Undefined]",l=r?r.toStringTag:void 0;function c(d){return d==null?d===void 0?a:i:l&&l in Object(d)?e(d):t(d)}return Fm=c,Fm}var Hm,ZS;function cr(){if(ZS)return Hm;ZS=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Hm=r,Hm}var Gm,ew;function j0(){if(ew)return Gm;ew=1;var r=Ua(),e=cr(),t="[object AsyncFunction]",i="[object Function]",a="[object GeneratorFunction]",l="[object Proxy]";function c(d){if(!e(d))return!1;var p=r(d);return p==i||p==a||p==t||p==l}return Gm=c,Gm}var $m,tw;function jP(){if(tw)return $m;tw=1;var r=Or(),e=r["__core-js_shared__"];return $m=e,$m}var Km,nw;function kP(){if(nw)return Km;nw=1;var r=jP(),e=(function(){var i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})();function t(i){return!!e&&e in i}return Km=t,Km}var Ym,rw;function yN(){if(rw)return Ym;rw=1;var r=Function.prototype,e=r.toString;function t(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return Ym=t,Ym}var Qm,iw;function VP(){if(iw)return Qm;iw=1;var r=j0(),e=kP(),t=cr(),i=yN(),a=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,p=c.toString,g=d.hasOwnProperty,v=RegExp("^"+p.call(g).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b(x){if(!t(x)||e(x))return!1;var S=r(x)?v:l;return S.test(i(x))}return Qm=b,Qm}var Xm,sw;function PP(){if(sw)return Xm;sw=1;function r(e,t){return e?.[t]}return Xm=r,Xm}var Wm,aw;function qa(){if(aw)return Wm;aw=1;var r=VP(),e=PP();function t(i,a){var l=e(i,a);return r(l)?l:void 0}return Wm=t,Wm}var Jm,ow;function vN(){if(ow)return Jm;ow=1;var r=qa(),e=(function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}})();return Jm=e,Jm}var Zm,lw;function Qf(){if(lw)return Zm;lw=1;var r=vN();function e(t,i,a){i=="__proto__"&&r?r(t,i,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[i]=a}return Zm=e,Zm}var eg,uw;function LP(){if(uw)return eg;uw=1;function r(e,t,i,a){for(var l=-1,c=e==null?0:e.length;++l<c;){var d=e[l];t(a,d,i(d),e)}return a}return eg=r,eg}var tg,cw;function UP(){if(cw)return tg;cw=1;function r(e){return function(t,i,a){for(var l=-1,c=Object(t),d=a(t),p=d.length;p--;){var g=d[e?p:++l];if(i(c[g],g,c)===!1)break}return t}}return tg=r,tg}var ng,hw;function _N(){if(hw)return ng;hw=1;var r=UP(),e=r();return ng=e,ng}var rg,fw;function qP(){if(fw)return rg;fw=1;function r(e,t){for(var i=-1,a=Array(e);++i<e;)a[i]=t(i);return a}return rg=r,rg}var ig,dw;function li(){if(dw)return ig;dw=1;function r(e){return e!=null&&typeof e=="object"}return ig=r,ig}var sg,pw;function zP(){if(pw)return sg;pw=1;var r=Ua(),e=li(),t="[object Arguments]";function i(a){return e(a)&&r(a)==t}return sg=i,sg}var ag,mw;function Xf(){if(mw)return ag;mw=1;var r=zP(),e=li(),t=Object.prototype,i=t.hasOwnProperty,a=t.propertyIsEnumerable,l=r((function(){return arguments})())?r:function(c){return e(c)&&i.call(c,"callee")&&!a.call(c,"callee")};return ag=l,ag}var og,gw;function dn(){if(gw)return og;gw=1;var r=Array.isArray;return og=r,og}var Ru={exports:{}},lg,yw;function BP(){if(yw)return lg;yw=1;function r(){return!1}return lg=r,lg}Ru.exports;var vw;function Wf(){return vw||(vw=1,(function(r,e){var t=Or(),i=BP(),a=e&&!e.nodeType&&e,l=a&&!0&&r&&!r.nodeType&&r,c=l&&l.exports===a,d=c?t.Buffer:void 0,p=d?d.isBuffer:void 0,g=p||i;r.exports=g})(Ru,Ru.exports)),Ru.exports}var ug,_w;function Jf(){if(_w)return ug;_w=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(i,a){var l=typeof i;return a=a??r,!!a&&(l=="number"||l!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<a}return ug=t,ug}var cg,bw;function k0(){if(bw)return cg;bw=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return cg=e,cg}var hg,Ew;function FP(){if(Ew)return hg;Ew=1;var r=Ua(),e=k0(),t=li(),i="[object Arguments]",a="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",p="[object Function]",g="[object Map]",v="[object Number]",b="[object Object]",x="[object RegExp]",S="[object Set]",j="[object String]",P="[object WeakMap]",M="[object ArrayBuffer]",F="[object DataView]",z="[object Float32Array]",W="[object Float64Array]",le="[object Int8Array]",ce="[object Int16Array]",oe="[object Int32Array]",I="[object Uint8Array]",R="[object Uint8ClampedArray]",O="[object Uint16Array]",k="[object Uint32Array]",D={};D[z]=D[W]=D[le]=D[ce]=D[oe]=D[I]=D[R]=D[O]=D[k]=!0,D[i]=D[a]=D[M]=D[l]=D[F]=D[c]=D[d]=D[p]=D[g]=D[v]=D[b]=D[x]=D[S]=D[j]=D[P]=!1;function L(N){return t(N)&&e(N.length)&&!!D[r(N)]}return hg=L,hg}var fg,Tw;function Zf(){if(Tw)return fg;Tw=1;function r(e){return function(t){return e(t)}}return fg=r,fg}var Cu={exports:{}};Cu.exports;var xw;function V0(){return xw||(xw=1,(function(r,e){var t=gN(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,l=a&&a.exports===i,c=l&&t.process,d=(function(){try{var p=a&&a.require&&a.require("util").types;return p||c&&c.binding&&c.binding("util")}catch{}})();r.exports=d})(Cu,Cu.exports)),Cu.exports}var dg,Sw;function P0(){if(Sw)return dg;Sw=1;var r=FP(),e=Zf(),t=V0(),i=t&&t.isTypedArray,a=i?e(i):r;return dg=a,dg}var pg,ww;function bN(){if(ww)return pg;ww=1;var r=qP(),e=Xf(),t=dn(),i=Wf(),a=Jf(),l=P0(),c=Object.prototype,d=c.hasOwnProperty;function p(g,v){var b=t(g),x=!b&&e(g),S=!b&&!x&&i(g),j=!b&&!x&&!S&&l(g),P=b||x||S||j,M=P?r(g.length,String):[],F=M.length;for(var z in g)(v||d.call(g,z))&&!(P&&(z=="length"||S&&(z=="offset"||z=="parent")||j&&(z=="buffer"||z=="byteLength"||z=="byteOffset")||a(z,F)))&&M.push(z);return M}return pg=p,pg}var mg,Aw;function L0(){if(Aw)return mg;Aw=1;var r=Object.prototype;function e(t){var i=t&&t.constructor,a=typeof i=="function"&&i.prototype||r;return t===a}return mg=e,mg}var gg,Rw;function EN(){if(Rw)return gg;Rw=1;function r(e,t){return function(i){return e(t(i))}}return gg=r,gg}var yg,Cw;function HP(){if(Cw)return yg;Cw=1;var r=EN(),e=r(Object.keys,Object);return yg=e,yg}var vg,Iw;function GP(){if(Iw)return vg;Iw=1;var r=L0(),e=HP(),t=Object.prototype,i=t.hasOwnProperty;function a(l){if(!r(l))return e(l);var c=[];for(var d in Object(l))i.call(l,d)&&d!="constructor"&&c.push(d);return c}return vg=a,vg}var _g,Nw;function ol(){if(Nw)return _g;Nw=1;var r=j0(),e=k0();function t(i){return i!=null&&e(i.length)&&!r(i)}return _g=t,_g}var bg,Ow;function za(){if(Ow)return bg;Ow=1;var r=bN(),e=GP(),t=ol();function i(a){return t(a)?r(a):e(a)}return bg=i,bg}var Eg,Dw;function $P(){if(Dw)return Eg;Dw=1;var r=_N(),e=za();function t(i,a){return i&&r(i,a,e)}return Eg=t,Eg}var Tg,Mw;function KP(){if(Mw)return Tg;Mw=1;var r=ol();function e(t,i){return function(a,l){if(a==null)return a;if(!r(a))return t(a,l);for(var c=a.length,d=i?c:-1,p=Object(a);(i?d--:++d<c)&&l(p[d],d,p)!==!1;);return a}}return Tg=e,Tg}var xg,jw;function U0(){if(jw)return xg;jw=1;var r=$P(),e=KP(),t=e(r);return xg=t,xg}var Sg,kw;function YP(){if(kw)return Sg;kw=1;var r=U0();function e(t,i,a,l){return r(t,function(c,d,p){i(l,c,a(c),p)}),l}return Sg=e,Sg}var wg,Vw;function QP(){if(Vw)return wg;Vw=1;function r(){this.__data__=[],this.size=0}return wg=r,wg}var Ag,Pw;function oc(){if(Pw)return Ag;Pw=1;function r(e,t){return e===t||e!==e&&t!==t}return Ag=r,Ag}var Rg,Lw;function ed(){if(Lw)return Rg;Lw=1;var r=oc();function e(t,i){for(var a=t.length;a--;)if(r(t[a][0],i))return a;return-1}return Rg=e,Rg}var Cg,Uw;function XP(){if(Uw)return Cg;Uw=1;var r=ed(),e=Array.prototype,t=e.splice;function i(a){var l=this.__data__,c=r(l,a);if(c<0)return!1;var d=l.length-1;return c==d?l.pop():t.call(l,c,1),--this.size,!0}return Cg=i,Cg}var Ig,qw;function WP(){if(qw)return Ig;qw=1;var r=ed();function e(t){var i=this.__data__,a=r(i,t);return a<0?void 0:i[a][1]}return Ig=e,Ig}var Ng,zw;function JP(){if(zw)return Ng;zw=1;var r=ed();function e(t){return r(this.__data__,t)>-1}return Ng=e,Ng}var Og,Bw;function ZP(){if(Bw)return Og;Bw=1;var r=ed();function e(t,i){var a=this.__data__,l=r(a,t);return l<0?(++this.size,a.push([t,i])):a[l][1]=i,this}return Og=e,Og}var Dg,Fw;function td(){if(Fw)return Dg;Fw=1;var r=QP(),e=XP(),t=WP(),i=JP(),a=ZP();function l(c){var d=-1,p=c==null?0:c.length;for(this.clear();++d<p;){var g=c[d];this.set(g[0],g[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,Dg=l,Dg}var Mg,Hw;function e4(){if(Hw)return Mg;Hw=1;var r=td();function e(){this.__data__=new r,this.size=0}return Mg=e,Mg}var jg,Gw;function t4(){if(Gw)return jg;Gw=1;function r(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}return jg=r,jg}var kg,$w;function n4(){if($w)return kg;$w=1;function r(e){return this.__data__.get(e)}return kg=r,kg}var Vg,Kw;function r4(){if(Kw)return Vg;Kw=1;function r(e){return this.__data__.has(e)}return Vg=r,Vg}var Pg,Yw;function q0(){if(Yw)return Pg;Yw=1;var r=qa(),e=Or(),t=r(e,"Map");return Pg=t,Pg}var Lg,Qw;function nd(){if(Qw)return Lg;Qw=1;var r=qa(),e=r(Object,"create");return Lg=e,Lg}var Ug,Xw;function i4(){if(Xw)return Ug;Xw=1;var r=nd();function e(){this.__data__=r?r(null):{},this.size=0}return Ug=e,Ug}var qg,Ww;function s4(){if(Ww)return qg;Ww=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return qg=r,qg}var zg,Jw;function a4(){if(Jw)return zg;Jw=1;var r=nd(),e="__lodash_hash_undefined__",t=Object.prototype,i=t.hasOwnProperty;function a(l){var c=this.__data__;if(r){var d=c[l];return d===e?void 0:d}return i.call(c,l)?c[l]:void 0}return zg=a,zg}var Bg,Zw;function o4(){if(Zw)return Bg;Zw=1;var r=nd(),e=Object.prototype,t=e.hasOwnProperty;function i(a){var l=this.__data__;return r?l[a]!==void 0:t.call(l,a)}return Bg=i,Bg}var Fg,eA;function l4(){if(eA)return Fg;eA=1;var r=nd(),e="__lodash_hash_undefined__";function t(i,a){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=r&&a===void 0?e:a,this}return Fg=t,Fg}var Hg,tA;function u4(){if(tA)return Hg;tA=1;var r=i4(),e=s4(),t=a4(),i=o4(),a=l4();function l(c){var d=-1,p=c==null?0:c.length;for(this.clear();++d<p;){var g=c[d];this.set(g[0],g[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,Hg=l,Hg}var Gg,nA;function c4(){if(nA)return Gg;nA=1;var r=u4(),e=td(),t=q0();function i(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return Gg=i,Gg}var $g,rA;function h4(){if(rA)return $g;rA=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return $g=r,$g}var Kg,iA;function rd(){if(iA)return Kg;iA=1;var r=h4();function e(t,i){var a=t.__data__;return r(i)?a[typeof i=="string"?"string":"hash"]:a.map}return Kg=e,Kg}var Yg,sA;function f4(){if(sA)return Yg;sA=1;var r=rd();function e(t){var i=r(this,t).delete(t);return this.size-=i?1:0,i}return Yg=e,Yg}var Qg,aA;function d4(){if(aA)return Qg;aA=1;var r=rd();function e(t){return r(this,t).get(t)}return Qg=e,Qg}var Xg,oA;function p4(){if(oA)return Xg;oA=1;var r=rd();function e(t){return r(this,t).has(t)}return Xg=e,Xg}var Wg,lA;function m4(){if(lA)return Wg;lA=1;var r=rd();function e(t,i){var a=r(this,t),l=a.size;return a.set(t,i),this.size+=a.size==l?0:1,this}return Wg=e,Wg}var Jg,uA;function z0(){if(uA)return Jg;uA=1;var r=c4(),e=f4(),t=d4(),i=p4(),a=m4();function l(c){var d=-1,p=c==null?0:c.length;for(this.clear();++d<p;){var g=c[d];this.set(g[0],g[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,Jg=l,Jg}var Zg,cA;function g4(){if(cA)return Zg;cA=1;var r=td(),e=q0(),t=z0(),i=200;function a(l,c){var d=this.__data__;if(d instanceof r){var p=d.__data__;if(!e||p.length<i-1)return p.push([l,c]),this.size=++d.size,this;d=this.__data__=new t(p)}return d.set(l,c),this.size=d.size,this}return Zg=a,Zg}var ey,hA;function id(){if(hA)return ey;hA=1;var r=td(),e=e4(),t=t4(),i=n4(),a=r4(),l=g4();function c(d){var p=this.__data__=new r(d);this.size=p.size}return c.prototype.clear=e,c.prototype.delete=t,c.prototype.get=i,c.prototype.has=a,c.prototype.set=l,ey=c,ey}var ty,fA;function y4(){if(fA)return ty;fA=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return ty=e,ty}var ny,dA;function v4(){if(dA)return ny;dA=1;function r(e){return this.__data__.has(e)}return ny=r,ny}var ry,pA;function _4(){if(pA)return ry;pA=1;var r=z0(),e=y4(),t=v4();function i(a){var l=-1,c=a==null?0:a.length;for(this.__data__=new r;++l<c;)this.add(a[l])}return i.prototype.add=i.prototype.push=e,i.prototype.has=t,ry=i,ry}var iy,mA;function b4(){if(mA)return iy;mA=1;function r(e,t){for(var i=-1,a=e==null?0:e.length;++i<a;)if(t(e[i],i,e))return!0;return!1}return iy=r,iy}var sy,gA;function E4(){if(gA)return sy;gA=1;function r(e,t){return e.has(t)}return sy=r,sy}var ay,yA;function TN(){if(yA)return ay;yA=1;var r=_4(),e=b4(),t=E4(),i=1,a=2;function l(c,d,p,g,v,b){var x=p&i,S=c.length,j=d.length;if(S!=j&&!(x&&j>S))return!1;var P=b.get(c),M=b.get(d);if(P&&M)return P==d&&M==c;var F=-1,z=!0,W=p&a?new r:void 0;for(b.set(c,d),b.set(d,c);++F<S;){var le=c[F],ce=d[F];if(g)var oe=x?g(ce,le,F,d,c,b):g(le,ce,F,c,d,b);if(oe!==void 0){if(oe)continue;z=!1;break}if(W){if(!e(d,function(I,R){if(!t(W,R)&&(le===I||v(le,I,p,g,b)))return W.push(R)})){z=!1;break}}else if(!(le===ce||v(le,ce,p,g,b))){z=!1;break}}return b.delete(c),b.delete(d),z}return ay=l,ay}var oy,vA;function xN(){if(vA)return oy;vA=1;var r=Or(),e=r.Uint8Array;return oy=e,oy}var ly,_A;function T4(){if(_A)return ly;_A=1;function r(e){var t=-1,i=Array(e.size);return e.forEach(function(a,l){i[++t]=[l,a]}),i}return ly=r,ly}var uy,bA;function x4(){if(bA)return uy;bA=1;function r(e){var t=-1,i=Array(e.size);return e.forEach(function(a){i[++t]=a}),i}return uy=r,uy}var cy,EA;function S4(){if(EA)return cy;EA=1;var r=al(),e=xN(),t=oc(),i=TN(),a=T4(),l=x4(),c=1,d=2,p="[object Boolean]",g="[object Date]",v="[object Error]",b="[object Map]",x="[object Number]",S="[object RegExp]",j="[object Set]",P="[object String]",M="[object Symbol]",F="[object ArrayBuffer]",z="[object DataView]",W=r?r.prototype:void 0,le=W?W.valueOf:void 0;function ce(oe,I,R,O,k,D,L){switch(R){case z:if(oe.byteLength!=I.byteLength||oe.byteOffset!=I.byteOffset)return!1;oe=oe.buffer,I=I.buffer;case F:return!(oe.byteLength!=I.byteLength||!D(new e(oe),new e(I)));case p:case g:case x:return t(+oe,+I);case v:return oe.name==I.name&&oe.message==I.message;case S:case P:return oe==I+"";case b:var N=a;case j:var Re=O&c;if(N||(N=l),oe.size!=I.size&&!Re)return!1;var Ie=L.get(oe);if(Ie)return Ie==I;O|=d,L.set(oe,I);var ee=i(N(oe),N(I),O,k,D,L);return L.delete(oe),ee;case M:if(le)return le.call(oe)==le.call(I)}return!1}return cy=ce,cy}var hy,TA;function sd(){if(TA)return hy;TA=1;function r(e,t){for(var i=-1,a=t.length,l=e.length;++i<a;)e[l+i]=t[i];return e}return hy=r,hy}var fy,xA;function SN(){if(xA)return fy;xA=1;var r=sd(),e=dn();function t(i,a,l){var c=a(i);return e(i)?c:r(c,l(i))}return fy=t,fy}var dy,SA;function wN(){if(SA)return dy;SA=1;function r(e,t){for(var i=-1,a=e==null?0:e.length,l=0,c=[];++i<a;){var d=e[i];t(d,i,e)&&(c[l++]=d)}return c}return dy=r,dy}var py,wA;function AN(){if(wA)return py;wA=1;function r(){return[]}return py=r,py}var my,AA;function B0(){if(AA)return my;AA=1;var r=wN(),e=AN(),t=Object.prototype,i=t.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(c){return c==null?[]:(c=Object(c),r(a(c),function(d){return i.call(c,d)}))}:e;return my=l,my}var gy,RA;function RN(){if(RA)return gy;RA=1;var r=SN(),e=B0(),t=za();function i(a){return r(a,t,e)}return gy=i,gy}var yy,CA;function w4(){if(CA)return yy;CA=1;var r=RN(),e=1,t=Object.prototype,i=t.hasOwnProperty;function a(l,c,d,p,g,v){var b=d&e,x=r(l),S=x.length,j=r(c),P=j.length;if(S!=P&&!b)return!1;for(var M=S;M--;){var F=x[M];if(!(b?F in c:i.call(c,F)))return!1}var z=v.get(l),W=v.get(c);if(z&&W)return z==c&&W==l;var le=!0;v.set(l,c),v.set(c,l);for(var ce=b;++M<S;){F=x[M];var oe=l[F],I=c[F];if(p)var R=b?p(I,oe,F,c,l,v):p(oe,I,F,l,c,v);if(!(R===void 0?oe===I||g(oe,I,d,p,v):R)){le=!1;break}ce||(ce=F=="constructor")}if(le&&!ce){var O=l.constructor,k=c.constructor;O!=k&&"constructor"in l&&"constructor"in c&&!(typeof O=="function"&&O instanceof O&&typeof k=="function"&&k instanceof k)&&(le=!1)}return v.delete(l),v.delete(c),le}return yy=a,yy}var vy,IA;function A4(){if(IA)return vy;IA=1;var r=qa(),e=Or(),t=r(e,"DataView");return vy=t,vy}var _y,NA;function R4(){if(NA)return _y;NA=1;var r=qa(),e=Or(),t=r(e,"Promise");return _y=t,_y}var by,OA;function C4(){if(OA)return by;OA=1;var r=qa(),e=Or(),t=r(e,"Set");return by=t,by}var Ey,DA;function I4(){if(DA)return Ey;DA=1;var r=qa(),e=Or(),t=r(e,"WeakMap");return Ey=t,Ey}var Ty,MA;function ad(){if(MA)return Ty;MA=1;var r=A4(),e=q0(),t=R4(),i=C4(),a=I4(),l=Ua(),c=yN(),d="[object Map]",p="[object Object]",g="[object Promise]",v="[object Set]",b="[object WeakMap]",x="[object DataView]",S=c(r),j=c(e),P=c(t),M=c(i),F=c(a),z=l;return(r&&z(new r(new ArrayBuffer(1)))!=x||e&&z(new e)!=d||t&&z(t.resolve())!=g||i&&z(new i)!=v||a&&z(new a)!=b)&&(z=function(W){var le=l(W),ce=le==p?W.constructor:void 0,oe=ce?c(ce):"";if(oe)switch(oe){case S:return x;case j:return d;case P:return g;case M:return v;case F:return b}return le}),Ty=z,Ty}var xy,jA;function N4(){if(jA)return xy;jA=1;var r=id(),e=TN(),t=S4(),i=w4(),a=ad(),l=dn(),c=Wf(),d=P0(),p=1,g="[object Arguments]",v="[object Array]",b="[object Object]",x=Object.prototype,S=x.hasOwnProperty;function j(P,M,F,z,W,le){var ce=l(P),oe=l(M),I=ce?v:a(P),R=oe?v:a(M);I=I==g?b:I,R=R==g?b:R;var O=I==b,k=R==b,D=I==R;if(D&&c(P)){if(!c(M))return!1;ce=!0,O=!1}if(D&&!O)return le||(le=new r),ce||d(P)?e(P,M,F,z,W,le):t(P,M,I,F,z,W,le);if(!(F&p)){var L=O&&S.call(P,"__wrapped__"),N=k&&S.call(M,"__wrapped__");if(L||N){var Re=L?P.value():P,Ie=N?M.value():M;return le||(le=new r),W(Re,Ie,F,z,le)}}return D?(le||(le=new r),i(P,M,F,z,W,le)):!1}return xy=j,xy}var Sy,kA;function CN(){if(kA)return Sy;kA=1;var r=N4(),e=li();function t(i,a,l,c,d){return i===a?!0:i==null||a==null||!e(i)&&!e(a)?i!==i&&a!==a:r(i,a,l,c,t,d)}return Sy=t,Sy}var wy,VA;function O4(){if(VA)return wy;VA=1;var r=id(),e=CN(),t=1,i=2;function a(l,c,d,p){var g=d.length,v=g,b=!p;if(l==null)return!v;for(l=Object(l);g--;){var x=d[g];if(b&&x[2]?x[1]!==l[x[0]]:!(x[0]in l))return!1}for(;++g<v;){x=d[g];var S=x[0],j=l[S],P=x[1];if(b&&x[2]){if(j===void 0&&!(S in l))return!1}else{var M=new r;if(p)var F=p(j,P,S,l,c,M);if(!(F===void 0?e(P,j,t|i,p,M):F))return!1}}return!0}return wy=a,wy}var Ay,PA;function IN(){if(PA)return Ay;PA=1;var r=cr();function e(t){return t===t&&!r(t)}return Ay=e,Ay}var Ry,LA;function D4(){if(LA)return Ry;LA=1;var r=IN(),e=za();function t(i){for(var a=e(i),l=a.length;l--;){var c=a[l],d=i[c];a[l]=[c,d,r(d)]}return a}return Ry=t,Ry}var Cy,UA;function NN(){if(UA)return Cy;UA=1;function r(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==void 0||e in Object(i))}}return Cy=r,Cy}var Iy,qA;function M4(){if(qA)return Iy;qA=1;var r=O4(),e=D4(),t=NN();function i(a){var l=e(a);return l.length==1&&l[0][2]?t(l[0][0],l[0][1]):function(c){return c===a||r(c,a,l)}}return Iy=i,Iy}var Ny,zA;function lc(){if(zA)return Ny;zA=1;var r=Ua(),e=li(),t="[object Symbol]";function i(a){return typeof a=="symbol"||e(a)&&r(a)==t}return Ny=i,Ny}var Oy,BA;function F0(){if(BA)return Oy;BA=1;var r=dn(),e=lc(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function a(l,c){if(r(l))return!1;var d=typeof l;return d=="number"||d=="symbol"||d=="boolean"||l==null||e(l)?!0:i.test(l)||!t.test(l)||c!=null&&l in Object(c)}return Oy=a,Oy}var Dy,FA;function j4(){if(FA)return Dy;FA=1;var r=z0(),e="Expected a function";function t(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var l=function(){var c=arguments,d=a?a.apply(this,c):c[0],p=l.cache;if(p.has(d))return p.get(d);var g=i.apply(this,c);return l.cache=p.set(d,g)||p,g};return l.cache=new(t.Cache||r),l}return t.Cache=r,Dy=t,Dy}var My,HA;function k4(){if(HA)return My;HA=1;var r=j4(),e=500;function t(i){var a=r(i,function(c){return l.size===e&&l.clear(),c}),l=a.cache;return a}return My=t,My}var jy,GA;function V4(){if(GA)return jy;GA=1;var r=k4(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,i=r(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(e,function(c,d,p,g){l.push(p?g.replace(t,"$1"):d||c)}),l});return jy=i,jy}var ky,$A;function od(){if($A)return ky;$A=1;function r(e,t){for(var i=-1,a=e==null?0:e.length,l=Array(a);++i<a;)l[i]=t(e[i],i,e);return l}return ky=r,ky}var Vy,KA;function P4(){if(KA)return Vy;KA=1;var r=al(),e=od(),t=dn(),i=lc(),a=r?r.prototype:void 0,l=a?a.toString:void 0;function c(d){if(typeof d=="string")return d;if(t(d))return e(d,c)+"";if(i(d))return l?l.call(d):"";var p=d+"";return p=="0"&&1/d==-1/0?"-0":p}return Vy=c,Vy}var Py,YA;function ON(){if(YA)return Py;YA=1;var r=P4();function e(t){return t==null?"":r(t)}return Py=e,Py}var Ly,QA;function uc(){if(QA)return Ly;QA=1;var r=dn(),e=F0(),t=V4(),i=ON();function a(l,c){return r(l)?l:e(l,c)?[l]:t(i(l))}return Ly=a,Ly}var Uy,XA;function ll(){if(XA)return Uy;XA=1;var r=lc();function e(t){if(typeof t=="string"||r(t))return t;var i=t+"";return i=="0"&&1/t==-1/0?"-0":i}return Uy=e,Uy}var qy,WA;function ld(){if(WA)return qy;WA=1;var r=uc(),e=ll();function t(i,a){a=r(a,i);for(var l=0,c=a.length;i!=null&&l<c;)i=i[e(a[l++])];return l&&l==c?i:void 0}return qy=t,qy}var zy,JA;function DN(){if(JA)return zy;JA=1;var r=ld();function e(t,i,a){var l=t==null?void 0:r(t,i);return l===void 0?a:l}return zy=e,zy}var By,ZA;function L4(){if(ZA)return By;ZA=1;function r(e,t){return e!=null&&t in Object(e)}return By=r,By}var Fy,e1;function MN(){if(e1)return Fy;e1=1;var r=uc(),e=Xf(),t=dn(),i=Jf(),a=k0(),l=ll();function c(d,p,g){p=r(p,d);for(var v=-1,b=p.length,x=!1;++v<b;){var S=l(p[v]);if(!(x=d!=null&&g(d,S)))break;d=d[S]}return x||++v!=b?x:(b=d==null?0:d.length,!!b&&a(b)&&i(S,b)&&(t(d)||e(d)))}return Fy=c,Fy}var Hy,t1;function U4(){if(t1)return Hy;t1=1;var r=L4(),e=MN();function t(i,a){return i!=null&&e(i,a,r)}return Hy=t,Hy}var Gy,n1;function q4(){if(n1)return Gy;n1=1;var r=CN(),e=DN(),t=U4(),i=F0(),a=IN(),l=NN(),c=ll(),d=1,p=2;function g(v,b){return i(v)&&a(b)?l(c(v),b):function(x){var S=e(x,v);return S===void 0&&S===b?t(x,v):r(b,S,d|p)}}return Gy=g,Gy}var $y,r1;function ud(){if(r1)return $y;r1=1;function r(e){return e}return $y=r,$y}var Ky,i1;function z4(){if(i1)return Ky;i1=1;function r(e){return function(t){return t?.[e]}}return Ky=r,Ky}var Yy,s1;function B4(){if(s1)return Yy;s1=1;var r=ld();function e(t){return function(i){return r(i,t)}}return Yy=e,Yy}var Qy,a1;function F4(){if(a1)return Qy;a1=1;var r=z4(),e=B4(),t=F0(),i=ll();function a(l){return t(l)?r(i(l)):e(l)}return Qy=a,Qy}var Xy,o1;function H0(){if(o1)return Xy;o1=1;var r=M4(),e=q4(),t=ud(),i=dn(),a=F4();function l(c){return typeof c=="function"?c:c==null?t:typeof c=="object"?i(c)?e(c[0],c[1]):r(c):a(c)}return Xy=l,Xy}var Wy,l1;function H4(){if(l1)return Wy;l1=1;var r=LP(),e=YP(),t=H0(),i=dn();function a(l,c){return function(d,p){var g=i(d)?r:e,v=c?c():{};return g(d,l,t(p,2),v)}}return Wy=a,Wy}var Jy,u1;function G4(){if(u1)return Jy;u1=1;var r=Qf(),e=H4(),t=Object.prototype,i=t.hasOwnProperty,a=e(function(l,c,d){i.call(l,d)?l[d].push(c):r(l,d,[c])});return Jy=a,Jy}var $4=G4();const _f=Yt($4),K4={BLUEPRINT:"BP","CHASSIS BLUEPRINT":"CH","SYSTEMS BLUEPRINT":"SYS","NEUROPTICS BLUEPRINT":"NEU"},Y4={Common:"bg-amber-700",Uncommon:"bg-gray-500",Rare:"bg-yellow-500"},c1=r=>{if(!r)return null;const e=String(r).trim();if(!e)return null;const t=e.replace(/\s+/g,"_");return`https://wiki.warframe.com/w/${encodeURIComponent(t)}`};class jN extends Kt.Component{handleItemClick(e){return t=>{this.props.onItemClick(e),t.stopPropagation()}}renderAcquisition(e){if(e.location)return y.jsx("td",{className:"py-1 px-3 align-top border-l border-gray-100 text-gray-700 text-sm leading-snug",children:Array.isArray(e.location)?y.jsx("ul",{className:"list-disc list-inside m-0 p-0",children:e.location.map((t,i)=>y.jsx("li",{children:t},i))}):e.location});if(e.relics){const t=_f(e.relics,"part"),i=Object.getOwnPropertyNames(t).map((a,l)=>y.jsxs("tr",{className:"border-none",children:[y.jsx("td",{className:"py-0 px-1 w-8 text-xs font-bold text-gray-500",children:K4[a.toUpperCase()]}),y.jsx("td",{className:"py-0.5 px-1 flex flex-wrap gap-1",children:t[a].map((c,d)=>y.jsx("span",{className:`px-1 rounded-[2px] text-[10px] font-bold text-white uppercase ${Y4[c.rarity]||"bg-gray-400"} ${c.isVaulted?"opacity-50 ring-1 ring-inset ring-gray-300":""}`,title:c.isVaulted?"Vaulted":void 0,children:c.name},d))})]},l));return y.jsx("td",{className:"py-1 px-3 align-top border-l border-gray-100",children:y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:i})})})}return y.jsx("td",{className:"py-1 px-3 border-l border-gray-100"})}renderBody(){const e=this.props.items.map((t,i)=>{const a=this.props.visibilityFilter===Wt.SHOW_ACTIVE&&t.checked;return this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(t).toLowerCase().includes(this.props.searchFilter.toLowerCase())?null:y.jsxs("tr",{className:`${t.checked?"bg-green-50":""} ${a?"opacity-30":""} transition-colors`,children:[y.jsx("td",{className:"py-1 px-3 align-top w-40",children:y.jsxs("div",{className:"flex items-center gap-1.5",children:[t.checked&&y.jsx(rn,{className:"text-green-500 shrink-0"}),y.jsx("span",{className:"font-bold text-gray-900 text-base",children:t.title})]})}),y.jsx("td",{className:"py-1 px-2 align-top w-20 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center gap-2",children:[t.url||c1(t.title)?y.jsx("a",{href:t.url||c1(t.title),title:"wiki",className:"text-gray-500 opacity-70 hover:opacity-100",target:"_blank",rel:"noopener noreferrer",children:y.jsx(Da,{})}):null,t.market?y.jsx("a",{href:t.market,title:"market",className:"text-gray-500 opacity-70 hover:opacity-100",target:"_blank",rel:"noopener noreferrer",children:y.jsx(yf,{})}):null,t.isVaulted?y.jsx(ic,{className:"text-red-600",title:"Vaulted"}):null]})}),y.jsx("td",{className:"py-1 px-3 align-top w-48",children:t.items?y.jsx("div",{className:"flex flex-col gap-0.5",children:t.items.map((l,c)=>{const d=typeof l=="string"||l instanceof String?l:l.title;return y.jsxs("span",{className:"flex items-center gap-1.5 whitespace-nowrap text-sm text-gray-700",children:[y.jsx("div",{className:`cursor-pointer ${l.checked?"text-green-500":"text-gray-400 hover:text-gray-600"}`,onClick:this.handleItemClick(d),children:l.checked?y.jsx(rn,{}):y.jsx(nc,{})}),y.jsx("span",{className:"font-medium",children:l.short?l.short:l.title})]},c)})}):null}),this.renderAcquisition(t)]},i)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:e})}render(){return y.jsx("div",{className:"overflow-x-auto border-t border-gray-100",children:y.jsx("table",{className:"w-full border-collapse",children:this.renderBody()})})}}jN.propTypes={items:C.arrayOf(C.shape({title:C.string,short:C.string,market:C.string,description:C.string,location:C.oneOfType([C.string,C.arrayOf(C.string)]),checked:C.bool})),onItemClick:C.func.isRequired,visibilityFilter:C.string,searchFilter:C.string};var Zy,h1;function Q4(){if(h1)return Zy;h1=1;var r=ON(),e=/[\\^$.*+?()[\]{}|]/g,t=RegExp(e.source);function i(a){return a=r(a),a&&t.test(a)?a.replace(e,"\\$&"):a}return Zy=i,Zy}var X4=Q4();const Aa=Yt(X4);var ev,f1;function W4(){if(f1)return ev;f1=1;var r=U0();function e(t,i){var a=[];return r(t,function(l,c,d){i(l,c,d)&&a.push(l)}),a}return ev=e,ev}var tv,d1;function J4(){if(d1)return tv;d1=1;var r=wN(),e=W4(),t=H0(),i=dn();function a(l,c){var d=i(l)?r:e;return d(l,t(c,3))}return tv=a,tv}var Z4=J4();const Ra=Yt(Z4);var nv,p1;function eL(){if(p1)return nv;p1=1;var r=od();function e(t,i){return r(i,function(a){return t[a]})}return nv=e,nv}var rv,m1;function tL(){if(m1)return rv;m1=1;var r=eL(),e=za();function t(i){return i==null?[]:r(i,e(i))}return rv=t,rv}var nL=tL();const Ca=Yt(nL);var rL=za();const ei=Yt(rL);var iL=DN();const ti=Yt(iL);var iv,g1;function sL(){if(g1)return iv;g1=1;var r=U0(),e=ol();function t(i,a){var l=-1,c=e(i)?Array(i.length):[];return r(i,function(d,p,g){c[++l]=a(d,p,g)}),c}return iv=t,iv}var sv,y1;function aL(){if(y1)return sv;y1=1;function r(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}return sv=r,sv}var av,v1;function oL(){if(v1)return av;v1=1;var r=lc();function e(t,i){if(t!==i){var a=t!==void 0,l=t===null,c=t===t,d=r(t),p=i!==void 0,g=i===null,v=i===i,b=r(i);if(!g&&!b&&!d&&t>i||d&&p&&v&&!g&&!b||l&&p&&v||!a&&v||!c)return 1;if(!l&&!d&&!b&&t<i||b&&a&&c&&!l&&!d||g&&a&&c||!p&&c||!v)return-1}return 0}return av=e,av}var ov,_1;function lL(){if(_1)return ov;_1=1;var r=oL();function e(t,i,a){for(var l=-1,c=t.criteria,d=i.criteria,p=c.length,g=a.length;++l<p;){var v=r(c[l],d[l]);if(v){if(l>=g)return v;var b=a[l];return v*(b=="desc"?-1:1)}}return t.index-i.index}return ov=e,ov}var lv,b1;function kN(){if(b1)return lv;b1=1;var r=od(),e=ld(),t=H0(),i=sL(),a=aL(),l=Zf(),c=lL(),d=ud(),p=dn();function g(v,b,x){b.length?b=r(b,function(P){return p(P)?function(M){return e(M,P.length===1?P[0]:P)}:P}):b=[d];var S=-1;b=r(b,l(t));var j=i(v,function(P,M,F){var z=r(b,function(W){return W(P)});return{criteria:z,index:++S,value:P}});return a(j,function(P,M){return c(P,M,x)})}return lv=g,lv}var uv,E1;function uL(){if(E1)return uv;E1=1;var r=kN(),e=dn();function t(i,a,l,c){return i==null?[]:(e(a)||(a=a==null?[]:[a]),l=c?void 0:l,e(l)||(l=l==null?[]:[l]),r(i,a,l))}return uv=t,uv}var cL=uL();const G0=Yt(cL);var cv,T1;function hL(){if(T1)return cv;T1=1;var r=Or(),e=function(){return r.Date.now()};return cv=e,cv}var hv,x1;function fL(){if(x1)return hv;x1=1;var r=/\s/;function e(t){for(var i=t.length;i--&&r.test(t.charAt(i)););return i}return hv=e,hv}var fv,S1;function dL(){if(S1)return fv;S1=1;var r=fL(),e=/^\s+/;function t(i){return i&&i.slice(0,r(i)+1).replace(e,"")}return fv=t,fv}var dv,w1;function pL(){if(w1)return dv;w1=1;var r=dL(),e=cr(),t=lc(),i=NaN,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;function p(g){if(typeof g=="number")return g;if(t(g))return i;if(e(g)){var v=typeof g.valueOf=="function"?g.valueOf():g;g=e(v)?v+"":v}if(typeof g!="string")return g===0?g:+g;g=r(g);var b=l.test(g);return b||c.test(g)?d(g.slice(2),b?2:8):a.test(g)?i:+g}return dv=p,dv}var pv,A1;function mL(){if(A1)return pv;A1=1;var r=cr(),e=hL(),t=pL(),i="Expected a function",a=Math.max,l=Math.min;function c(d,p,g){var v,b,x,S,j,P,M=0,F=!1,z=!1,W=!0;if(typeof d!="function")throw new TypeError(i);p=t(p)||0,r(g)&&(F=!!g.leading,z="maxWait"in g,x=z?a(t(g.maxWait)||0,p):x,W="trailing"in g?!!g.trailing:W);function le(N){var Re=v,Ie=b;return v=b=void 0,M=N,S=d.apply(Ie,Re),S}function ce(N){return M=N,j=setTimeout(R,p),F?le(N):S}function oe(N){var Re=N-P,Ie=N-M,ee=p-Re;return z?l(ee,x-Ie):ee}function I(N){var Re=N-P,Ie=N-M;return P===void 0||Re>=p||Re<0||z&&Ie>=x}function R(){var N=e();if(I(N))return O(N);j=setTimeout(R,oe(N))}function O(N){return j=void 0,W&&v?le(N):(v=b=void 0,S)}function k(){j!==void 0&&clearTimeout(j),M=0,v=P=b=j=void 0}function D(){return j===void 0?S:O(e())}function L(){var N=e(),Re=I(N);if(v=arguments,b=this,P=N,Re){if(j===void 0)return ce(P);if(z)return clearTimeout(j),j=setTimeout(R,p),le(P)}return j===void 0&&(j=setTimeout(R,p)),S}return L.cancel=k,L.flush=D,L}return pv=c,pv}var gL=mL();const cd=Yt(gL),R1={Common:"brown",Uncommon:"grey",Rare:"yellow"},bu={red:{bg:"bg-red-600",border:"border-red-600",text:"text-red-600",icon:"text-red-600"},orange:{bg:"bg-orange-500",border:"border-orange-500",text:"text-orange-500",icon:"text-orange-500"},yellow:{bg:"bg-yellow-500",border:"border-yellow-500",text:"text-yellow-500",icon:"text-yellow-500"},olive:{bg:"bg-lime-600",border:"border-lime-600",text:"text-lime-600",icon:"text-lime-600"},green:{bg:"bg-green-500",border:"border-green-500",text:"text-green-500",icon:"text-green-500"},teal:{bg:"bg-teal-500",border:"border-teal-500",text:"text-teal-500",icon:"text-teal-500"},blue:{bg:"bg-blue-600",border:"border-blue-600",text:"text-sky-700",icon:"text-sky-700"},violet:{bg:"bg-violet-600",border:"border-violet-600",text:"text-violet-600",icon:"text-violet-600"},purple:{bg:"bg-purple-600",border:"border-purple-600",text:"text-purple-600",icon:"text-purple-600"},pink:{bg:"bg-pink-500",border:"border-pink-500",text:"text-pink-500",icon:"text-pink-500"},brown:{bg:"bg-amber-700",border:"border-amber-700",text:"text-amber-700",icon:"text-amber-700"},grey:{bg:"bg-gray-500",border:"border-gray-500",text:"text-gray-500",icon:"text-gray-500"},black:{bg:"bg-gray-900",border:"border-gray-900",text:"text-gray-900",icon:"text-gray-900"}},C1=["red","olive","yellow","green","teal","blue","orange","violet","purple","pink","brown","grey","black"],Kh={isLoading:!1,results:[],value:"",hovered:[]};class VN extends Kt.Component{constructor(e){super(e),this.state=Kh,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=cd(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(Kh)}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleVisibilityToggle(){return()=>{const e=this.props.relicVisibility===Wt.SHOW_ALL?Wt.SHOW_ACTIVE:Wt.SHOW_ALL;this.props.onRelicVisibilityToggle(e)}}handleSearchChange(e,{value:t}){if(this.setState({isLoading:!0,value:t}),t.length<1){this.setState(Kh);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(Kh);return}const t=new RegExp(Aa(e),"i"),i=Ca(this.props.voidDrops).map(l=>l.title),a=l=>t.test(l.title)&&!i.includes(l.title);this.setState({isLoading:!1,results:Ra(this.props.items,a)})}resultRenderer({title:e}){return y.jsx("div",{children:e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e})},"content")}renderTypeIcon(e){const t=bu[e],i=t?t.icon:"text-gray-400";return y.jsx(sN,{className:`text-xs align-middle mr-1 ${i}`})}renderItemsTable(){const e=Ca(this.props.voidDrops),t=[];let i;if(!e.length)return null;const a=G0(e,["item","arbitrary","title"],["asc","desc","asc"]).map(l=>{let c=l.title,d=[];t.includes(l.item)||t.push(l.item),l.count&&(c=`${c} x${l.count}`);let p=!1;const g=l.relics||[],v=l.arbitrary||!l.relics?[]:g.map(b=>{const x=b.name,S=ti(this.props,["markedRelics",x,"available"]);(!b.isVaulted||S===!0)&&(p=!0);let j=null;S===!0?j=y.jsx(rn,{className:"mr-1 text-[0.9em]"}):S===!1&&(j=y.jsx(vf,{className:"mr-1 text-[0.9em]"}));const P=R1[b.rarity],M=bu[P]||bu.grey,F=b.isVaulted?`border-2 ${M.border} !bg-transparent !text-inherit opacity-70`:`${M.bg} ${M.border} border-2 text-white`,z=S===!1?"opacity-30":"";return y.jsxs("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-bold uppercase tracking-tight mr-1 mb-1 transition-colors ${F} ${z}`,children:[j,`${x}${b.isBaro?" [Baro]":""}`]},x)});if(!l.arbitrary&&l.item){const b=`${l.item.replace(/\s+/g,"_")}_Prime`,x=`https://wiki.warframe.com/w/${encodeURIComponent(b)}`,S=`https://warframe.market/items/${l.title.toLowerCase().split(" ").join("_")}`;i=C1[t.indexOf(l.item)%C1.length],d=[y.jsx("a",{href:x,title:"wiki",target:"_blank",rel:"noreferrer",className:"hover:opacity-70",children:y.jsx(Da,{className:"text-gray-400"})},"wiki"),y.jsx("a",{href:S,title:"market",target:"_blank",rel:"noreferrer",className:"hover:opacity-70 ml-1",children:y.jsx(yf,{className:p?"text-gray-400":"text-sky-700"})},"market")]}else if(l.arbitrary){const b=`https://warframe.market/items/${l.title.toLowerCase().split(" ").join("_")}`;d=[y.jsx("a",{href:b,title:"market",target:"_blank",rel:"noreferrer",className:"hover:opacity-70",children:y.jsx(yf,{className:"text-sky-700"})},"market")]}return y.jsxs("tr",{className:`hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors ${this.state.hovered.includes(c)?"bg-gray-50":""}`,children:[y.jsx("td",{className:"py-1 px-2 align-middle",children:y.jsxs("div",{className:"flex items-center flex-wrap",children:[this.renderTypeIcon(i),y.jsx("span",{className:"mr-2",children:c}),y.jsx("span",{className:"mr-3 inline-flex items-center",children:d}),y.jsx("div",{className:"inline-flex flex-wrap items-center mt-0.5",children:v})]})}),y.jsx("td",{className:"py-1 px-2 text-right align-middle",children:y.jsx(_n,{className:"cursor-pointer text-red-600 hover:opacity-80",onClick:this.handleItemRemove(l.title)})})]},c)});return y.jsx("table",{className:"w-full border-collapse mb-4",children:y.jsx("tbody",{children:a})})}renderRelicsTable(){const e=Ca(this.props.voidDrops);if(!e.length)return null;const t={Lith:{},Meso:{},Neo:{},Axi:{},Vanguard:{},Requiem:{}};e.forEach(a=>{a.arbitrary||!a.relics||a.relics.forEach(l=>{if(!t[l.tier])return;t[l.tier][l.name]||(t[l.tier][l.name]=[]);const c={title:a.title,rarity:l.rarity,isVaulted:l.isVaulted};l.isBaro&&(c.isBaro=l.isBaro),t[l.tier][l.name].push(c)})});const i=["Lith","Meso","Neo","Axi","Vanguard","Requiem"];return y.jsxs("div",{className:"mt-8",children:[y.jsxs("div",{className:"relative flex items-center mb-6",children:[y.jsx("div",{className:"grow border-t border-gray-200"}),y.jsx("span",{className:"flex-shrink mx-4 text-gray-400 text-sm font-bold uppercase tracking-widest leading-none",children:"Required Relics"}),y.jsx("div",{className:"grow border-t border-gray-200"})]}),y.jsx("div",{className:"bg-white p-4 mb-4",children:i.map((a,l)=>ei(t[a]).length===0?null:y.jsxs(Kt.Fragment,{children:[l>0&&ei(t[i[l-1]]).length>0&&y.jsx("div",{className:"h-6"}),y.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 border-b border-gray-50 pb-1",children:a}),y.jsx("div",{className:"flex flex-wrap",children:this.renderGroupedRelicsList(t[a])})]},a))})]},"relics-container")}handleMouseOver(e){return()=>{this.setState({hovered:e})}}handleMouseOut(){return()=>{this.setState({hovered:[]})}}handleRelicClick(e){return()=>{this.props.onRelicToggle({title:e})}}renderGroupedRelicsList(e){return ei(e).sort().map(t=>{const i=e[t],a=i[0],l=t;let c=null;i.length>1&&(c=y.jsx("span",{className:"ml-1 opacity-70 font-normal",children:`x${i.length}`}));let d=null;const p=ti(this.props,["markedRelics",l,"available"]);if(p===!0?d=y.jsx(rn,{className:"mr-1 text-green-500"}):p===!1&&(d=y.jsx(vf,{className:"mr-1 text-red-600"})),a.isVaulted&&this.props.relicVisibility===Wt.SHOW_ACTIVE&&p===!1)return null;const g=a.isVaulted?null:y.jsx("a",{href:`https://wiki.warframe.com/w/${t.replace(" ","_")}`,target:"_blank",rel:"noreferrer",onClick:j=>j.stopPropagation(),className:"mr-1 hover:opacity-70 flex items-center",children:y.jsx(Da,{className:"text-sky-700 text-[0.9em]"})}),v=R1[a.rarity],b=bu[v]||bu.grey,x=a.isVaulted?`border-2 ${b.border} !bg-transparent !text-inherit opacity-70`:`${b.bg} ${b.border} border-2 text-white`,S=p===!1?"opacity-30":"";return y.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-lg font-bold uppercase tracking-tight mr-1 mb-1 cursor-pointer transition-colors ${x} ${S}`,onClick:this.handleRelicClick(l),children:[d,g,y.jsx(aN,{className:"mr-1 opacity-70 text-[0.9em]"}),t,a.isBaro?" [Baro]":"",c]},t)})}render(){const{isLoading:e,value:t,results:i}=this.state;return y.jsxs("div",{children:[ei(this.props.voidDrops).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(ac,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing prime part name to add it to the list."})]}),y.jsxs("div",{className:"flex gap-2 mb-4",children:[y.jsxs("div",{className:"relative grow",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search prime parts...",value:t,onChange:a=>this.handleSearchChange(a,{value:a.target.value}),onKeyPress:a=>{a.key==="Enter"&&t&&this.handleResultSelect(a,{result:{title:t,arbitrary:!0}})}}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vi,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((a,l)=>y.jsx("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-0",onClick:c=>this.handleResultSelect(c,{result:a}),children:this.resultRenderer(a)},l))})]}),y.jsx("button",{onClick:this.handleVisibilityToggle(),className:`px-3 py-2 border rounded-md transition-colors font-bold flex items-center justify-center min-w-[40px] ${this.props.relicVisibility===Wt.SHOW_ALL?"border-blue-600 text-sky-700 hover:bg-blue-50":"border-red-600 text-red-600 hover:bg-red-50"}`,title:this.props.relicVisibility===Wt.SHOW_ALL?"Hide vaulted":"Show all",children:this.props.relicVisibility===Wt.SHOW_ALL?y.jsx(oN,{}):y.jsx(lN,{})})]}),this.renderItemsTable(),this.renderRelicsTable()]})}}VN.propTypes={items:C.arrayOf(C.object),voidDrops:C.object,onItemAdd:C.func.isRequired,onItemRemove:C.func.isRequired,onRelicToggle:C.func.isRequired,markedRelics:C.object,relicVisibility:C.string,onRelicVisibilityToggle:C.func.isRequired};var mv,I1;function yL(){if(I1)return mv;I1=1;var r=al(),e=Xf(),t=dn(),i=r?r.isConcatSpreadable:void 0;function a(l){return t(l)||e(l)||!!(i&&l&&l[i])}return mv=a,mv}var gv,N1;function $0(){if(N1)return gv;N1=1;var r=sd(),e=yL();function t(i,a,l,c,d){var p=-1,g=i.length;for(l||(l=e),d||(d=[]);++p<g;){var v=i[p];a>0&&l(v)?a>1?t(v,a-1,l,c,d):r(d,v):c||(d[d.length]=v)}return d}return gv=t,gv}var yv,O1;function vL(){if(O1)return yv;O1=1;function r(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}return yv=r,yv}var vv,D1;function PN(){if(D1)return vv;D1=1;var r=vL(),e=Math.max;function t(i,a,l){return a=e(a===void 0?i.length-1:a,0),function(){for(var c=arguments,d=-1,p=e(c.length-a,0),g=Array(p);++d<p;)g[d]=c[a+d];d=-1;for(var v=Array(a+1);++d<a;)v[d]=c[d];return v[a]=l(g),r(i,this,v)}}return vv=t,vv}var _v,M1;function _L(){if(M1)return _v;M1=1;function r(e){return function(){return e}}return _v=r,_v}var bv,j1;function bL(){if(j1)return bv;j1=1;var r=_L(),e=vN(),t=ud(),i=e?function(a,l){return e(a,"toString",{configurable:!0,enumerable:!1,value:r(l),writable:!0})}:t;return bv=i,bv}var Ev,k1;function EL(){if(k1)return Ev;k1=1;var r=800,e=16,t=Date.now;function i(a){var l=0,c=0;return function(){var d=t(),p=e-(d-c);if(c=d,p>0){if(++l>=r)return arguments[0]}else l=0;return a.apply(void 0,arguments)}}return Ev=i,Ev}var Tv,V1;function LN(){if(V1)return Tv;V1=1;var r=bL(),e=EL(),t=e(r);return Tv=t,Tv}var xv,P1;function UN(){if(P1)return xv;P1=1;var r=ud(),e=PN(),t=LN();function i(a,l){return t(e(a,l,r),a+"")}return xv=i,xv}var Sv,L1;function qN(){if(L1)return Sv;L1=1;var r=oc(),e=ol(),t=Jf(),i=cr();function a(l,c,d){if(!i(d))return!1;var p=typeof c;return(p=="number"?e(d)&&t(c,d.length):p=="string"&&c in d)?r(d[c],l):!1}return Sv=a,Sv}var wv,U1;function TL(){if(U1)return wv;U1=1;var r=$0(),e=kN(),t=UN(),i=qN(),a=t(function(l,c){if(l==null)return[];var d=c.length;return d>1&&i(l,c[0],c[1])?c=[]:d>2&&i(c[0],c[1],c[2])&&(c=[c[0]]),e(l,r(c,1),[])});return wv=a,wv}var xL=TL();const K0=Yt(xL);class zN extends Kt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",count:this.props.count||0,modalOpen:!1},this.handleNotesChange=this.handleNotesChange.bind(this),this.handleCountChange=this.handleCountChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleNotesChange(e){this.setState({notes:e.target.value})}handleCountChange(e){const t=e.target.value;if(t===""||t===void 0)this.setState({count:0});else{const i=parseInt(t,10);!isNaN(i)&&i>=0&&this.setState({count:i})}}handleSave(){this.props.onSave(this.state.notes.trim(),this.state.count),this.handleClose()}handleOpen(){this.setState({modalOpen:!0,notes:this.props.notes||"",count:this.props.count||0})}handleClose(){this.setState({modalOpen:!1})}render(){return y.jsxs(y.Fragment,{children:[y.jsx(sc,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.url?y.jsx("a",{href:this.props.url,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:this.props.title}):this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(_n,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto",children:[this.props.category&&y.jsxs("p",{className:"mb-4 text-sm",children:[y.jsx("strong",{children:"Category:"})," ",this.props.category]}),y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"todo-count",className:"block text-sm font-bold text-gray-700 mb-1",children:"Count"}),y.jsx("input",{id:"todo-count",type:"number",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",value:this.state.count,onChange:this.handleCountChange,min:"0"})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"todo-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"todo-notes",autoFocus:!0,className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleNotesChange})]})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(rn,{})," Save"]})})]})})]})}}zN.propTypes={title:C.string.isRequired,category:C.string,url:C.string,notes:C.string,count:C.number,onSave:C.func.isRequired};const Y0=r=>{if(!r||typeof r!="string")return r;const e=r.split(/(\n)/g),t=[],i=/(https?:\/\/[^\s]+)/g;return e.forEach((a,l)=>{a===`
`?t.push(y.jsx("br",{},`br-${l}`)):a!==""&&a.split(i).forEach((d,p)=>{d.match(i)?t.push(y.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"text-sky-700 hover:underline",children:d},`link-${l}-${p}`)):d!==""&&t.push(d)})}),t},Eu={isLoading:!1,results:[],value:"",activeIndex:0};class BN extends Kt.Component{constructor(e){super(e),this.state=Eu,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=cd(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(Eu)}handleKeyDown(e){const{results:t,activeIndex:i,value:a}=this.state;if(e.key==="ArrowDown"&&t.length){e.preventDefault(),this.setState({activeIndex:(i+1)%t.length});return}if(e.key==="ArrowUp"&&t.length){e.preventDefault(),this.setState({activeIndex:(i-1+t.length)%t.length});return}if(e.key==="Enter"){if(t.length&&t[i]){e.preventDefault(),this.handleResultSelect(e,{result:t[i]});return}a&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:a}),this.setState(Eu))}}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return(t,i)=>{this.props.onItemUpdate(e,t,i)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t,activeIndex:0}),t.length<1){this.setState(Eu);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(Eu);return}const t=new RegExp(Aa(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:Ra(this.props.items,i),activeIndex:0})}resultRenderer({title:e,category:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:t})]},"content")}renderTable(){const e=K0(Ca(this.props.todoItems),["category","title"]);if(!e.length)return null;const t=e.map((i,a)=>{let l=i.title;i.count&&(l=`${l} x${i.count}`);const c=i.url||(i.title?`https://wiki.warframe.com/w/${i.title.split(" ").join("_")}`:"https://wiki.warframe.com");return y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsx("a",{href:c,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:l})}),y.jsx("td",{className:"py-1 px-2 text-gray-500",children:i.category}),y.jsx("td",{className:"py-1 px-2 text-gray-500 italic text-sm",children:Y0(i.notes)}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1",children:[y.jsx(zN,{title:i.title,category:i.category,url:i.url,notes:i.notes,count:i.count,onSave:this.handleItemUpdate(i.title)}),y.jsx(wa,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(i.title)}),y.jsx(Yf,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(i.title)}),y.jsx(_n,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(i.title)})]})]},`${i.category||""}-${i.title}-${a}`)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:t})})}render(){const{isLoading:e,value:t,results:i,activeIndex:a}=this.state;return y.jsxs("div",{children:[ei(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(ac,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyDown:this.handleKeyDown}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vi,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((l,c)=>y.jsx("div",{className:`px-3 py-2 cursor-pointer border-b border-gray-100 last:border-0 ${c===a?"bg-gray-100":"hover:bg-gray-50"}`,onClick:d=>this.handleResultSelect(d,{result:l}),children:this.resultRenderer(l)},c))})]}),this.renderTable()]})}}BN.propTypes={items:C.arrayOf(C.object),todoItems:C.object,onItemAdd:C.func.isRequired,onItemRemove:C.func.isRequired,onItemIncrement:C.func.isRequired,onItemDecrement:C.func.isRequired,onItemUpdate:C.func.isRequired};class Q_ extends Kt.Component{constructor(e){super(e),this.state={title:this.props.title||"",itemName:this.props.itemName||"",notes:this.props.notes||"",auraMods:this.props.auraMods||[],mods:this.props.mods||[],arcanes:this.props.arcanes||[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0,modalOpen:this.props.forceOpen||!1},this.handleTitleChange=this.handleTitleChange.bind(this),this.handleItemNameChange=this.handleItemNameChange.bind(this),this.handleNotesChange=this.handleNotesChange.bind(this),this.handleAuraModSearchChange=this.handleAuraModSearchChange.bind(this),this.handleModSearchChange=this.handleModSearchChange.bind(this),this.handleArcaneSearchChange=this.handleArcaneSearchChange.bind(this),this.handleAuraModKeyDown=this.handleAuraModKeyDown.bind(this),this.handleModKeyDown=this.handleModKeyDown.bind(this),this.handleArcaneKeyDown=this.handleArcaneKeyDown.bind(this),this.handleAddAuraMod=this.handleAddAuraMod.bind(this),this.handleRemoveAuraMod=this.handleRemoveAuraMod.bind(this),this.handleAddMod=this.handleAddMod.bind(this),this.handleRemoveMod=this.handleRemoveMod.bind(this),this.handleAddArcane=this.handleAddArcane.bind(this),this.handleRemoveArcane=this.handleRemoveArcane.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){if(e.key==="Escape")this.handleClose();else if(e.key==="Enter"){if(e.target.tagName==="TEXTAREA")e.shiftKey||(e.preventDefault(),this.handleSave());else if(e.target.tagName==="INPUT"){if(e.target.dataset.searchInput==="true")return;e.preventDefault(),this.handleSave()}}}componentDidMount(){this.state.modalOpen&&document.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleTitleChange(e){this.setState({title:e.target.value})}handleItemNameChange(e){this.setState({itemName:e.target.value})}handleNotesChange(e){this.setState({notes:e.target.value})}handleAuraModSearchChange(e){const t=e.target.value;if(this.setState({auraModSearch:t,activeAuraModIndex:0}),t.length<1){this.setState({auraModResults:[]});return}const i=new RegExp(Aa(t),"i"),a=Ra(this.props.availableMods,l=>i.test(l)&&!this.state.auraMods.includes(l)).slice(0,10);this.setState({auraModResults:a})}handleModSearchChange(e){const t=e.target.value;if(this.setState({modSearch:t,activeModIndex:0}),t.length<1){this.setState({modResults:[]});return}const i=new RegExp(Aa(t),"i"),a=Ra(this.props.availableMods,l=>i.test(l)&&!this.state.mods.includes(l)).slice(0,10);this.setState({modResults:a})}handleArcaneSearchChange(e){const t=e.target.value;if(this.setState({arcaneSearch:t,activeArcaneIndex:0}),t.length<1){this.setState({arcaneResults:[]});return}const i=new RegExp(Aa(t),"i"),a=Ra(this.props.availableArcanes,l=>i.test(l)&&!this.state.arcanes.includes(l)).slice(0,10);this.setState({arcaneResults:a})}handleAuraModKeyDown(e){const{auraModResults:t,activeAuraModIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeAuraModIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeAuraModIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddAuraMod(t[i])))}handleModKeyDown(e){const{modResults:t,activeModIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeModIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeModIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddMod(t[i])))}handleArcaneKeyDown(e){const{arcaneResults:t,activeArcaneIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeArcaneIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeArcaneIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddArcane(t[i])))}handleAddAuraMod(e){this.setState(t=>({auraMods:[...t.auraMods,e],auraModSearch:"",auraModResults:[]}))}handleRemoveAuraMod(e){this.setState(t=>({auraMods:t.auraMods.filter(i=>i!==e)}))}handleAddMod(e){this.setState(t=>({mods:[...t.mods,e],modSearch:"",modResults:[]}))}handleRemoveMod(e){this.setState(t=>({mods:t.mods.filter(i=>i!==e)}))}handleAddArcane(e){this.setState(t=>({arcanes:[...t.arcanes,e],arcaneSearch:"",arcaneResults:[]}))}handleRemoveArcane(e){this.setState(t=>({arcanes:t.arcanes.filter(i=>i!==e)}))}handleSave(){this.state.title.trim()&&(this.props.onSave({id:this.props.id||`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,title:this.state.title.trim(),itemName:this.state.itemName.trim(),notes:this.state.notes.trim(),auraMods:this.state.auraMods,mods:this.state.mods,arcanes:this.state.arcanes,category:"builds"}),this.handleClose(),!this.props.id&&!this.props.title&&this.setState({title:"",itemName:"",notes:"",auraMods:[],mods:[],arcanes:[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0}))}handleOpen(){this.setState({modalOpen:!0,title:this.props.title||"",itemName:this.props.itemName||"",notes:this.props.notes||"",auraMods:this.props.auraMods||[],mods:this.props.mods||[],arcanes:this.props.arcanes||[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0})}handleClose(){this.setState({modalOpen:!1})}render(){const{trigger:e}=this.props;return y.jsxs(y.Fragment,{children:[e?Kt.cloneElement(e,{onClick:this.handleOpen}):y.jsx(sc,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left text-gray-900",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.title?y.jsxs(y.Fragment,{children:["Edit Build: ",y.jsx("span",{className:"text-sky-700",children:this.props.title}),this.props.itemName&&y.jsx("a",{href:`https://wiki.warframe.com/w/${this.props.itemName.split(" ").join("_")}`,target:"_blank",rel:"noreferrer",className:"ml-2 text-xs text-gray-400 hover:text-sky-700 font-normal align-middle",children:"(wiki)"})]}):"Add New Build"}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(_n,{className:"text-gray-400"})})]}),y.jsx("div",{className:"p-4 grow overflow-y-auto",children:y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"build-title",className:"block text-sm font-bold text-gray-700 mb-1",children:"Build Name"}),y.jsx("input",{id:"build-title",type:"text",autoFocus:!this.props.title,className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",placeholder:"e.g. Speed Run, High Strength",value:this.state.title,onChange:this.handleTitleChange})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"build-item",className:"block text-sm font-bold text-gray-700 mb-1",children:"Item"}),y.jsx("input",{id:"build-item",type:"text",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",placeholder:"e.g. Gauss, Ignis Wraith",value:this.state.itemName,onChange:this.handleItemNameChange})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Aura/Exilus Mods"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.auraMods.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-50 text-cyan-700 text-xs font-bold rounded border border-blue-100 uppercase",children:[t,y.jsx(_n,{className:"w-3 h-3 cursor-pointer hover:text-cyan-900",onClick:()=>this.handleRemoveAuraMod(t)})]},i)),this.state.auraMods.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No mods added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search aura/exilus mods to add...",value:this.state.auraModSearch,onChange:this.handleAuraModSearchChange,onKeyDown:this.handleAuraModKeyDown})}),this.state.auraModResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.auraModResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeAuraModIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddAuraMod(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(wa,{className:`text-gray-400 ${i===this.state.activeAuraModIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Mods"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.mods.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-50 text-indigo-700 text-xs font-bold rounded border border-blue-100 uppercase",children:[t,y.jsx(_n,{className:"w-3 h-3 cursor-pointer hover:text-indigo-900",onClick:()=>this.handleRemoveMod(t)})]},i)),this.state.mods.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No mods added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search mods to add...",value:this.state.modSearch,onChange:this.handleModSearchChange,onKeyDown:this.handleModKeyDown})}),this.state.modResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.modResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeModIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddMod(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(wa,{className:`text-gray-400 ${i===this.state.activeModIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Arcanes"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.arcanes.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-50 text-purple-700 text-xs font-bold rounded border border-purple-100 uppercase",children:[t,y.jsx(_n,{className:"w-3 h-3 cursor-pointer hover:text-purple-900",onClick:()=>this.handleRemoveArcane(t)})]},i)),this.state.arcanes.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No arcanes added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search arcanes to add...",value:this.state.arcaneSearch,onChange:this.handleArcaneSearchChange,onKeyDown:this.handleArcaneKeyDown})}),this.state.arcaneResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.arcaneResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeArcaneIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddArcane(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(wa,{className:`text-gray-400 ${i===this.state.activeArcaneIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"build-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"build-notes",className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none text-sm",value:this.state.notes,onChange:this.handleNotesChange})]})]})}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(rn,{})," ",this.props.title?"Update Build":"Add Build"]})})]})})]})}}Q_.propTypes={id:C.string,title:C.string,itemName:C.string,notes:C.string,auraMods:C.arrayOf(C.string),mods:C.arrayOf(C.string),arcanes:C.arrayOf(C.string),availableMods:C.arrayOf(C.string),availableArcanes:C.arrayOf(C.string),onSave:C.func.isRequired,trigger:C.element,forceOpen:C.bool};const FN=({builds:r,onBuildAdd:e,onBuildRemove:t,onBuildUpdate:i,mods:a,arcanes:l})=>{const c=K0(Ca(r),["itemName","title"]),d=_f(c,v=>v.itemName||"Other"),g=ei(d).sort().map(v=>{const b=d[v],x=`https://wiki.warframe.com/w/${v.split(" ").join("_")}`;return y.jsxs(Kt.Fragment,{children:[y.jsx("tr",{className:"bg-gray-50 border-t border-b border-gray-100",children:y.jsx("td",{colSpan:"3",className:"py-1.5 px-3 font-bold text-gray-700 text-[10px] uppercase tracking-wider",children:v!=="Other"?y.jsx("a",{href:x,target:"_blank",rel:"noreferrer",className:"hover:underline",children:v}):v})}),b.map((S,j)=>{const P=S.id||S.title;return y.jsxs("tr",{className:"border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-4 align-top",children:y.jsx("div",{className:"flex flex-col",children:y.jsx(Q_,{id:S.id,title:S.title,itemName:S.itemName,notes:S.notes,auraMods:S.auraMods,mods:S.mods,arcanes:S.arcanes,availableMods:a,availableArcanes:l,onSave:M=>i(P,M),trigger:y.jsx("span",{className:"text-sky-700 font-bold hover:underline cursor-pointer",children:S.title})})})}),y.jsx("td",{className:"py-1 px-2 align-top",children:y.jsxs("div",{className:"flex flex-col gap-1",children:[S.auraMods&&S.auraMods.length>0&&y.jsx("div",{className:"grid grid-cols-4 gap-1",children:[...S.auraMods||[]].map((M,F)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-cyan-800 text-[10px] font-bold rounded border border-blue-100 uppercase truncate",title:M,children:M},F))}),S.mods&&S.mods.length>0&&y.jsx("div",{className:"grid grid-cols-4 gap-1",children:[...S.mods||[]].map((M,F)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-indigo-800 text-[10px] font-bold rounded border border-blue-100 uppercase truncate",title:M,children:M},F))}),S.arcanes&&S.arcanes.length>0&&y.jsx("div",{className:"flex flex-wrap gap-1",children:S.arcanes.map((M,F)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-purple-50 text-yellow-700 text-[10px] font-bold rounded border border-purple-100 uppercase",children:M},F))}),S.notes&&y.jsx("div",{className:"text-gray-500 italic text-sm",children:Y0(S.notes)})]})}),y.jsx("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1 align-top",children:y.jsx(_n,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:()=>{window.confirm(`Are you sure you want to delete the build "${S.title}"?`)&&t(P)}})})]},`${P}-${j}`)})]},v)});return y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"flex justify-end",children:y.jsx(Q_,{availableMods:a,availableArcanes:l,onSave:e,trigger:y.jsx("button",{className:"px-4 py-2 bg-black text-white rounded-md font-bold text-sm",children:"Add Build"})})}),c.length>0?y.jsx("div",{className:"overflow-hidden",children:y.jsx("table",{className:"w-full border-collapse bg-white",children:y.jsx("tbody",{children:g})})}):y.jsx("div",{className:"py-10 text-center text-gray-400 italic",children:'No builds added yet. Click "Add Build" to start.'})]})};FN.propTypes={builds:C.object,onBuildAdd:C.func.isRequired,onBuildRemove:C.func.isRequired,onBuildUpdate:C.func.isRequired,mods:C.arrayOf(C.string),arcanes:C.arrayOf(C.string)};class HN extends Kt.Component{renderItems(e,t,i){return y.jsx("ul",{className:"list-none p-0 m-0",children:e.map((a,l)=>this.renderItem(a,l,t,i))})}buildItemMap(e,t=new Map){return!e||!e.length||e.forEach(i=>{!i||typeof i!="object"||(i.title&&!t.has(i.title)&&t.set(i.title,i),i.key&&!t.has(i.key)&&t.set(i.key,i),i.items&&i.items.length&&this.buildItemMap(i.items,t))}),t}handleItemClick(e){return t=>{const i=typeof e=="object"&&e!==null?e.key||e.title:e;this.props.onItemClick(i),t.stopPropagation()}}handleClearClick(e){return t=>{this.props.onClear(e.map(i=>typeof i=="object"&&i!==null?i.key||i.title:i)),t.stopPropagation()}}renderLocation(e){return!e||!e.length||e===""?null:(Array.isArray(e)?e:[e]).map((i,a)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:i},a))}formatDuration(e){const t=Math.max(0,Math.floor(e/6e4)),i=t%60,a=Math.floor(t/60),l=a%24,c=Math.floor(a/24),d=[];return c&&d.push(`${c}d`),(l||c)&&d.push(`${l}h`),d.push(`${i}m`),d.join(" ")}getResetCountdown(e){if(!e||e.scheduleType)return null;const t=e.scheduleAnchorUtc||e.scheduleAnchor;if(!t||!e.interval)return null;const i=new Date(t);if(Number.isNaN(i.getTime()))return null;const a=this.parseInterval(e.interval);if(!a)return null;const l=new Date;if(l<i)return`Resets in ${this.formatDuration(i.getTime()-l.getTime())}`;const d=(l.getTime()-i.getTime())%a,p=a-d;return`Resets in ${this.formatDuration(p)}`}formatDurationVerbose(e){const t=Math.max(0,Math.floor(e/1e3)),i=t%60,a=Math.floor(t/60),l=a%60,c=Math.floor(a/60),d=c%24,p=Math.floor(c/24),g=[];return p&&g.push(`${p} ${p===1?"day":"days"}`),(d||p)&&g.push(`${d} ${d===1?"hour":"hours"}`),(l||d||p)&&g.push(`${l} ${l===1?"minute":"minutes"}`),g.push(`${i} ${i===1?"second":"seconds"}`),g.join(" ")}getScheduleInfo(e){if(!e||!e.scheduleType)return null;const t=e.scheduleAnchorUtc||e.scheduleAnchor;if(!t)return null;const i=new Date(t);if(Number.isNaN(i.getTime()))return null;const a=new Date;if(e.scheduleType==="availability-window"){const l=this.parseInterval(e.interval),c=this.parseInterval(e.duration||"48h");if(!l||!c)return null;if(a<i){const g=i.getTime()-a.getTime();return{statusText:`Will appear in ${this.formatDuration(g)}`,isPresent:!1}}const d=(a.getTime()-i.getTime())%l;if(d<c){const g=c-d;return{statusText:`Present for the next ${this.formatDuration(g)}`,isPresent:!0}}const p=l-d;return{statusText:`Will appear in ${this.formatDuration(p)}`,isPresent:!1}}if(e.scheduleType==="rotation"){const l=this.parseInterval(e.interval);if(!l||!e.rotations||!e.rotations.length)return null;if(a<i){const S=i.getTime()-a.getTime(),j=e.rotations.length,P=e.rotations[j-1];return{statusText:`${P.title}. Time left until ${e.rotations[0].title}: ${this.formatDurationVerbose(S)}`,currentRotation:P}}const c=a.getTime()-i.getTime(),d=e.rotations.length,p=Math.floor(c/l)%d,g=e.rotations[p],v=e.rotations[(p+1)%d],x=i.getTime()+(Math.floor(c/l)+1)*l-a.getTime();return{statusText:`${g.title}. Time left until ${v.title}: ${this.formatDurationVerbose(x)}`,currentRotation:g}}return null}parseInterval(e){if(!e)return null;if(typeof e=="number")return e;const t=String(e).trim().match(/^(\d+)\s*(ms|s|m|h|d|w)$/i);if(!t)return null;const i=Number(t[1]);switch(t[2].toLowerCase()){case"ms":return i;case"s":return i*1e3;case"m":return i*60*1e3;case"h":return i*60*60*1e3;case"d":return i*24*60*60*1e3;case"w":return i*7*24*60*60*1e3;default:return null}}getScheduleStatus(e){const t=this.getScheduleInfo(e);return t?t.statusText:null}isScheduleReadOnly(e){const t=this.getScheduleInfo(e);return t?t.isPresent===!1:!1}getCompletedIfIdentifiers(e){return!e||!e.completedIf?[]:Array.isArray(e.completedIf)?e.completedIf:[e.completedIf]}isItemCompleted(e,t,i=new Set){if(!e)return!1;if(e.checked)return!0;const a=this.getCompletedIfIdentifiers(e);if(!a.length||i.has(e))return!1;i.add(e);const l=a.some(c=>{const d=t.get(c);return d?this.isItemCompleted(d,t,i):!1});return i.delete(e),l}isCompletedByDependencies(e,t){const i=this.getCompletedIfIdentifiers(e);return i.length?i.some(a=>{const l=t.get(a);return l?this.isItemCompleted(l,t,new Set([e])):!1}):!1}renderItem(e,t,i,a){if(!e||e.hidden)return null;const l=e.readOnly,c=this.isCompletedByDependencies(e,a),d=e.checked||c;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(e).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const p=this.props.visibilityFilter===Wt.SHOW_ACTIVE&&d,g=typeof e=="string"||e instanceof String?e:e.title,v=!!e.items,b=d?"text-green-500":"text-gray-400",x=e.tags?e.tags.map((z,W)=>z==="missable"?y.jsx("span",{title:z,className:"text-red-600 ml-1 inline-block font-normal",children:y.jsx(rc,{})},W):null):null,S=e.hint?y.jsxs("span",{className:"opacity-40 text-sm italic font-normal",children:[" ",e.hint]}):null,j=this.getScheduleStatus(e),P=this.getResetCountdown(e),M=this.isScheduleReadOnly(e),F=!e.items&&!(l||i||c||M);return y.jsx("li",{className:`py-0.5 rounded-sm ${v?"mt-1.5":""}`,children:y.jsxs("div",{className:"flex items-start",children:[!(l||i||M)&&y.jsx("div",{className:`mr-1 shrink-0 flex items-center h-[1.35em] ${b} ${F?"cursor-pointer":""} ${p?"opacity-40":""}`,onClick:F?this.handleItemClick(e):void 0,children:e.items?d?y.jsx(rn,{}):y.jsx(Gf,{}):d?y.jsx(rn,{}):y.jsx(nc,{})}),y.jsxs("div",{className:"grow",children:[y.jsxs("div",{className:"leading-tight",children:[e.items&&e.readOnly?y.jsxs("span",{className:`underline font-bold text-gray-900 text-base ${p?"opacity-40":""}`,children:[g,S,x]}):i?y.jsxs("span",{className:`font-normal text-gray-700 text-sm ${p?"opacity-40":""}`,children:[g,S,x]}):y.jsxs("span",{className:`font-bold text-gray-900 text-base ${p?"opacity-40":""}`,children:[g,S,x]}),e.url?y.jsx("a",{href:e.url,title:"wiki",className:"ml-1 text-gray-500 opacity-70 hover:opacity-100 inline-block",target:"_blank",rel:"noopener noreferrer",onClick:z=>z.stopPropagation(),children:y.jsx(Da,{})}):null,e.isVaulted?y.jsx("span",{title:"Vaulted",className:"ml-1 text-gray-500 inline-block",children:y.jsx(ic,{})}):null,e.partOf?y.jsx("span",{title:`Part of ${e.partOf.join(", ")}`,className:"ml-1 text-gray-500 inline-block",children:y.jsx(sl,{})}):null,e.items&&e.props&&e.props.includes("clearable")?y.jsx("span",{title:"Clear",className:"ml-1 text-red-600 opacity-70 hover:opacity-100 cursor-pointer inline-block",onClick:this.handleClearClick(e.items),children:y.jsx($f,{})}):null]}),e.description?Array.isArray(e.description)?e.description.map((z,W)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:z},W)):y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:e.description}):null,P?y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:P}):null,j?y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:j}):null,this.renderLocation(e.location),e.items&&e.items.length?y.jsx("div",{className:"ml-2",children:this.renderItems(e.items,l,a)}):null]})]})},t)}render(){if(!this.props.items||!this.props.items.length)return y.jsx("div",{className:"text-gray-500 italic",children:"No items"});const e=this.buildItemMap(this.props.items);return y.jsx("div",{className:"mb-4",children:this.renderItems(this.props.items,void 0,e)})}}HN.propTypes={items:C.arrayOf(C.oneOfType([C.string,C.shape({title:C.string,url:C.string,icon:C.string,description:C.oneOfType([C.string,C.arrayOf(C.string)]),location:C.oneOfType([C.string,C.arrayOf(C.string)]),checked:C.bool,items:C.array,tags:C.arrayOf(C.string),hint:C.string,readOnly:C.bool,hidden:C.bool,key:C.string,isVaulted:C.bool,partOf:C.arrayOf(C.string),props:C.arrayOf(C.string),completedIf:C.oneOfType([C.string,C.arrayOf(C.string)]),schedule:C.string,scheduleAnchorUtc:C.string,scheduleAnchor:C.string,interval:C.oneOfType([C.string,C.number]),duration:C.oneOfType([C.string,C.number]),scheduleType:C.oneOf(["availability-window","rotation"]),rotations:C.arrayOf(C.shape({title:C.string,items:C.array}))})])),onItemClick:C.func.isRequired,onClear:C.func.isRequired,visibilityFilter:C.string,searchFilter:C.string};class GN extends Kt.Component{handleItemClick(e){return t=>{this.props.onItemClick(e),t.stopPropagation()}}renderBody(){const e=this.props.items.map((t,i)=>{const a=this.props.visibilityFilter===Wt.SHOW_ACTIVE&&t.checked;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(t).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const l=t.Tier?t.Tier[4]:null;return y.jsxs("tr",{className:`${t.checked?"bg-green-50":""} ${a?"opacity-30":""} border-b border-gray-100 last:border-0`,children:[y.jsx("td",{className:"py-1 px-3 align-middle text-gray-900",children:y.jsx("div",{className:"flex items-center gap-1.5",children:y.jsx("span",{className:"text-base leading-tight",children:t.title})})}),y.jsx("td",{className:"py-1 px-2 align-middle",children:y.jsxs("div",{className:"flex items-center gap-2",children:[t.crafting?y.jsx(sl,{className:"text-gray-400"}):null,t.canAppearInChest?y.jsx(XI,{className:"text-gray-400"}):null]})}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Popular)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Popular + Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Popular)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Popular + Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm text-center",children:l}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t.Culture})]},i)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:e})}render(){return y.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:y.jsxs("table",{className:"w-full border-collapse bg-white",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-3 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Name"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Props"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (P)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (P+R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (P)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (P+R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Tier"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Culture"})]})}),this.renderBody()]})})}}GN.propTypes={items:C.arrayOf(C.shape({title:C.string,"Perfect Price":C.number,"Perfect Price (Popular)":C.number,"Perfect Price (Rich)":C.number,"Perfect Price (Popular + Rich)":C.number,"Max Price":C.number,"Max Price (Popular)":C.number,"Max Price (Rich)":C.number,"Max Price (Popular + Rich)":C.number,Tier:C.string,Culture:C.string,maxStack:C.number,minChestStack:C.number,maxChestStack:C.number,canAppearInChest:C.bool,crafting:C.bool})),onItemClick:C.func.isRequired,visibilityFilter:C.string,searchFilter:C.string};class $N extends Kt.Component{formatWorkshopReason(e){const t=e.filter(l=>l!=="Workshop"),i={1:"I",2:"II",3:"III",4:"IV",5:"V"};return t.map(l=>{const c=l.match(/^(?:Level )?(\d+)(?:\s+-\s+.+)?$/);if(c){const d=parseInt(c[1],10);return i[d]||l}return l}).join(" ")}formatProjectReason(e){return e.filter(i=>i!=="Goals").map(i=>i.startsWith("Project: ")?i.substring(9):i).filter(i=>!i.match(/^.+\s+\d+\/\d+$/)).join(" ")}extractNeededItems(){const e=[],t={};if(this.props.goalsItems&&this.props.goalsChecked){const i=(a,l=[])=>{!a||!Array.isArray(a)||a.forEach(c=>{const d=[...l,c.title];if(c.key&&!Object.prototype.hasOwnProperty.call(this.props.goalsChecked,c.key)){const g=c.title.match(/^(\d+)x\s+(.+)$/),v=g?parseInt(g[1],10):1,b=g?g[2]:c.title;e.push({title:b,quantity:v,url:c.url,key:c.key}),t[b]||(t[b]={workshop:[],projects:[],quests:[]});const x=l[0],S=d.slice(0,-1);if(x==="Workshop"){const j=this.formatWorkshopReason(S),P=`${v}x ${j}`;t[b].workshop.push(P)}else if(x&&x.startsWith("Project:")){const j=this.formatProjectReason(S),P=`${v}x ${j}`;t[b].projects.push(P)}}c.items&&i(c.items,d)})};this.props.goalsItems.forEach(a=>{a.items&&i(a.items,[a.title])})}return this.props.questsItems&&this.props.questsChecked&&this.props.questsItems.forEach(i=>{const a=i.title;if(!a)return;!Object.prototype.hasOwnProperty.call(this.props.questsChecked,a)&&Array.isArray(i.required_items)&&i.required_items.forEach(c=>{if(c.title){const d=c.quantity||1;e.push({title:c.title,quantity:d,url:c.url}),t[c.title]||(t[c.title]={workshop:[],projects:[],quests:[]});const p=`${d}x ${i.title}`;t[c.title].quests.push(p)}})}),{neededItems:e,itemReasons:t}}handleKeepCheckbox(e){return()=>{const t=`resource-${e}`;this.props.onItemClick(t)}}getRarityClass(e){if(!e)return"border-gray-500";switch(e.toLowerCase()){case"common":return"border-gray-500";case"uncommon":return"border-green-500";case"rare":return"border-blue-600";case"epic":return"border-purple-600";case"legendary":return"border-orange-500";default:return"border-gray-500"}}renderCellValue(e){return Array.isArray(e)?y.jsx("ul",{className:"list-none m-0 p-0",children:e.map((t,i)=>y.jsx("li",{className:"leading-tight mb-0.5 last:mb-0",children:t},i))}):e}renderBody(){const{neededItems:e,itemReasons:t}=this.extractNeededItems(),i=new Map;e.forEach(c=>{const d=i.get(c.title)||0;i.set(c.title,d+c.quantity)});const l=[...this.props.items].sort((c,d)=>{const p=`resource-${c.title}`,g=`resource-${d.title}`,v=Object.prototype.hasOwnProperty.call(this.props.checkedList,p),b=Object.prototype.hasOwnProperty.call(this.props.checkedList,g),x=i.has(c.title),S=i.has(d.title);if(v&&!b)return-1;if(!v&&b)return 1;if(!v&&!b){if(x&&!S)return-1;if(!x&&S)return 1}return(c.title||"").localeCompare(d.title||"")}).map((c,d)=>{const p=this.props.visibilityFilter===Wt.SHOW_ACTIVE&&c.checked;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(c).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const g=this.getRarityClass(c.rarity),v=`resource-${c.title}`,b=Object.prototype.hasOwnProperty.call(this.props.checkedList,v),x=p?"opacity-30":"",S=c.icon?y.jsx("img",{src:c.icon,alt:c.title,className:"w-12 h-12 mx-auto object-contain"}):null,j=i.get(c.title)||null,P=t[c.title]||{workshop:[],projects:[],quests:[]},M=P.workshop.length>0?P.workshop:null,F=P.quests.length>0?P.quests:null,z=P.projects.length>0?P.projects:null;return y.jsxs("tr",{className:`${c.checked?"bg-green-50":""} ${x} hover:bg-black/[0.01] transition-colors border-b border-gray-100 last:border-0`,children:[y.jsx("td",{className:`py-1 px-2 text-center align-middle cursor-pointer ${b?"bg-green-500/10":""}`,onClick:this.handleKeepCheckbox(c.title),children:y.jsx("div",{className:`w-4 h-4 mx-auto border rounded-[2px] flex items-center justify-center ${b?"bg-green-500 border-green-500":"bg-white border-gray-300"}`,children:b&&y.jsx(rn,{className:"text-[10px] text-white"})})}),y.jsx("td",{className:"py-1 px-2 align-middle text-center",children:y.jsx("div",{className:"w-12 h-12 flex items-center justify-center mx-auto",children:c.url?y.jsx("a",{href:c.url,title:"wiki",target:"_blank",rel:"noopener noreferrer",className:"block w-full h-full",children:S}):S})}),y.jsx("td",{className:`py-1 px-3 align-middle font-bold text-gray-900 border-l-4 ${g}`,children:y.jsxs("div",{className:"flex items-center gap-1.5",children:[c.checked&&y.jsx(rn,{className:"text-green-500 shrink-0"}),y.jsx("span",{className:"text-base leading-tight",children:c.title})]})}),y.jsx("td",{className:`py-1 px-2 text-center align-middle font-bold text-sm ${j?"bg-orange-400/10 text-orange-700":"text-gray-400"}`,children:j||""}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.recycles)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.sell_price)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(M)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(F)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(z)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.keep_for_crafting)})]},d)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:l})}render(){return y.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:y.jsxs("table",{className:"w-full border-collapse bg-white",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Keep"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Icon"}),y.jsx("th",{className:"py-2 px-3 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Name"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Needed"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Recycles"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Sell Price"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Workshop"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Quests"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Projects"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Crafting"})]})}),this.renderBody()]})})}}$N.propTypes={items:C.arrayOf(C.shape({title:C.string,icon:C.string,url:C.string,rarity:C.string,recycles:C.oneOfType([C.string,C.arrayOf(C.string)]),sell_price:C.oneOfType([C.number,C.string]),category:C.string,keep_for_crafting:C.oneOfType([C.number,C.string,C.bool,C.arrayOf(C.string)])})),checkedList:C.object.isRequired,goalsItems:C.array,goalsChecked:C.object,questsItems:C.array,questsChecked:C.object,onItemClick:C.func.isRequired,visibilityFilter:C.string,searchFilter:C.string};var Av,q1;function SL(){if(q1)return Av;q1=1;var r=Object.prototype,e=r.hasOwnProperty;function t(i,a){return i!=null&&e.call(i,a)}return Av=t,Av}var Rv,z1;function wL(){if(z1)return Rv;z1=1;var r=SL(),e=MN();function t(i,a){return i!=null&&e(i,a,r)}return Rv=t,Rv}var AL=wL();const ku=Yt(AL);var Cv,B1;function Q0(){if(B1)return Cv;B1=1;function r(e,t){var i=-1,a=e.length;for(t||(t=Array(a));++i<a;)t[i]=e[i];return t}return Cv=r,Cv}var Iv,F1;function RL(){if(F1)return Iv;F1=1;var r=sd(),e=$0(),t=Q0(),i=dn();function a(){var l=arguments.length;if(!l)return[];for(var c=Array(l-1),d=arguments[0],p=l;p--;)c[p-1]=arguments[p];return r(i(d)?t(d):[d],e(c,1))}return Iv=a,Iv}var CL=RL();const IL=Yt(CL);class KN extends Kt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",modalOpen:!1},this.handleChange=this.handleChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleChange(e){this.setState({notes:e.target.value})}handleSave(){this.props.onSave(this.state.notes.trim()),this.handleClose()}handleOpen(){this.setState({modalOpen:!0})}handleClose(){this.setState({modalOpen:!1})}renderPlaces(){return this.props.places?y.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 mb-4 space-y-1",children:G0(this.props.places,"zone","area").map((e,t)=>y.jsx("li",{children:[e.zone,e.name].filter(i=>!!i).join(" - ")},t))}):null}render(){return y.jsxs(y.Fragment,{children:[y.jsx(sc,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(_n,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto flex flex-col",children:[this.renderPlaces(),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"ffxiv-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"ffxiv-notes",autoFocus:!0,className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleChange})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(rn,{})," Save"]})})]})})]})}}KN.propTypes={title:C.string.isRequired,places:C.array,notes:C.string,onSave:C.func.isRequired};const NL={red:"text-red-600",orange:"text-orange-500",yellow:"text-yellow-500",olive:"text-lime-600",green:"text-green-500",teal:"text-teal-500",blue:"text-sky-700",violet:"text-violet-600",purple:"text-purple-600",pink:"text-pink-500",brown:"text-amber-700",grey:"text-gray-500",black:"text-gray-900"},H1=["red","olive","yellow","green","teal","blue","orange","violet","purple","pink","brown","grey","black"],Tu={isLoading:!1,results:[],value:""};class YN extends Kt.Component{constructor(e){super(e),this.state=Tu,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=cd(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(Tu)}handleKeyPress(e){e.key==="Enter"&&this.state.value&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:this.state.value}),this.setState(Tu))}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return t=>{this.props.onItemUpdate(e,t)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t}),t.length<1){this.setState(Tu);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(Tu);return}const t=new RegExp(Aa(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:Ra(this.props.items,i)})}formatPlaces(e,t=!1){return!e||!e.length?null:t?e.slice(0,1).map(i=>[i.zone,i.name].filter(a=>!!a).join(" - ")):e.map(i=>[i.zone,i.name].filter(a=>!!a).join(" - ")).join(" /// ")}resultRenderer({title:e,places:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:this.formatPlaces(t)})]},"content")}renderTypeIcon(e){switch(e.type){case"e":return y.jsx(uN,{className:"text-red-600 text-xs align-middle mr-1",title:"Enemy"});case"m":return y.jsx(Y_,{className:"text-yellow-500 text-xs align-middle mr-1",title:"Mining"});case"q":return y.jsx(Y_,{className:"text-yellow-500 text-xs align-middle mr-1 opacity-50",title:"Quarrying"});case"l":return y.jsx(cN,{className:"text-green-500 text-xs align-middle mr-1",title:"Logging"});case"h":return y.jsx(hN,{className:"text-green-500 text-xs align-middle mr-1",title:"Harvesting"});case"f":return y.jsx(dN,{className:"text-sky-700 text-xs align-middle mr-1",title:"Fish"});default:return null}}renderTable(){const e=Ca(this.props.todoItems);if(!e.length)return null;const t=[];e.forEach(c=>{const d=ku(c,"places.0.zone")?ti(c,"places.0.zone"):ti(c,"notes");t.includes(d)||t.push(d)});let i=[];const a=_f(e,"places.0.area");ei(a).sort().forEach(c=>{const d=a[c],p=_f(d,"places.0.zone");ei(p).sort().forEach(g=>{const v=p[g];i=IL(i,G0(v,"places.0.name"))})});const l=i.map(c=>{let d=c.title;const p=ku(c,"places.0.zone")?ti(c,"places.0.zone"):ti(c,"notes"),g=H1[t.indexOf(p)%H1.length],v=y.jsx(fN,{className:`${NL[g]||"text-gray-400"} align-middle mr-1`});c.count&&(d=`${d} x${c.count}`);const b=`https://ffxiv.gamerescape.com/wiki/${c.title.split(" ").join("_")}`;let x;return c.places&&c.notes&&c.notes!==""?x=y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[v,this.formatPlaces(c.places,!0)]}),y.jsx("div",{className:"text-gray-500 text-xs italic",children:c.notes})]}):c.places?x=y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[v,this.formatPlaces(c.places,!0)]}):x=y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[v,c.notes]}),y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"shrink-0",children:this.renderTypeIcon(c)}),y.jsxs("div",{className:"ml-1",children:[y.jsx("a",{href:b,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline font-bold leading-tight block",children:d}),x]})]})}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1 align-top",children:[y.jsx(KN,{title:c.title,places:c.places,notes:c.notes,onSave:this.handleItemUpdate(c.title)}),y.jsx(wa,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(c.title)}),y.jsx(Yf,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(c.title)}),y.jsx(_n,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(c.title)})]})]},d)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:l})})}render(){const{isLoading:e,value:t,results:i}=this.state;return y.jsxs("div",{children:[ei(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(ac,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item or enemy name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyPress:this.handleKeyPress}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vi,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((a,l)=>y.jsx("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-0",onClick:c=>this.handleResultSelect(c,{result:a}),children:this.resultRenderer(a)},l))})]}),this.renderTable()]})}}YN.propTypes={items:C.arrayOf(C.object),todoItems:C.object,onItemAdd:C.func.isRequired,onItemRemove:C.func.isRequired,onItemIncrement:C.func.isRequired,onItemDecrement:C.func.isRequired,onItemUpdate:C.func.isRequired};class QN extends Kt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",count:this.props.count||0,modalOpen:!1},this.handleNotesChange=this.handleNotesChange.bind(this),this.handleCountChange=this.handleCountChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleNotesChange(e){this.setState({notes:e.target.value})}handleCountChange(e){const t=e.target.value;if(t===""||t===void 0)this.setState({count:0});else{const i=parseInt(t,10);!isNaN(i)&&i>=0&&this.setState({count:i})}}handleSave(){this.props.onSave(this.state.notes.trim(),this.state.count),this.handleClose()}handleOpen(){this.setState({modalOpen:!0,notes:this.props.notes||"",count:this.props.count||0})}handleClose(){this.setState({modalOpen:!1})}render(){return y.jsxs(y.Fragment,{children:[y.jsx(sc,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.url?y.jsx("a",{href:this.props.url,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:this.props.title}):this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(_n,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto",children:[this.props.category&&y.jsxs("p",{className:"mb-4 text-sm",children:[y.jsx("strong",{children:"Category:"})," ",this.props.category]}),y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"todo-count",className:"block text-sm font-bold text-gray-700 mb-1",children:"Count"}),y.jsx("input",{id:"todo-count",type:"number",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",value:this.state.count,onChange:this.handleCountChange,min:"0"})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"todo-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"todo-notes",autoFocus:!0,className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleNotesChange})]})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(rn,{})," Save"]})})]})})]})}}QN.propTypes={title:C.string.isRequired,category:C.string,url:C.string,notes:C.string,count:C.number,onSave:C.func.isRequired};const xu={isLoading:!1,results:[],value:"",activeIndex:0},G1="https://wiki.avakot.org/";class XN extends Kt.Component{constructor(e){super(e),this.state=xu,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=cd(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(xu)}handleKeyDown(e){const{results:t,activeIndex:i,value:a}=this.state;if(e.key==="ArrowDown"&&t.length){e.preventDefault(),this.setState({activeIndex:(i+1)%t.length});return}if(e.key==="ArrowUp"&&t.length){e.preventDefault(),this.setState({activeIndex:(i-1+t.length)%t.length});return}if(e.key==="Enter"){if(t.length&&t[i]){e.preventDefault(),this.handleResultSelect(e,{result:t[i]});return}a&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:a}),this.setState(xu))}}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return(t,i)=>{this.props.onItemUpdate(e,t,i)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t,activeIndex:0}),t.length<1){this.setState(xu);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(xu);return}const t=new RegExp(Aa(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:Ra(this.props.items,i),activeIndex:0})}resultRenderer({title:e,category:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:t})]},"content")}renderTable(){const e=K0(Ca(this.props.todoItems),["category","title"]);if(!e.length)return null;const t=e.map((i,a)=>{let l=i.title;i.count&&(l=`${l} x${i.count}`);const c=i.url||(i.title?`${G1}${encodeURIComponent(i.title.replace(/\s+/g,"_"))}`:G1);return y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsx("a",{href:c,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:l})}),y.jsx("td",{className:"py-1 px-2 text-gray-500",children:i.category}),y.jsx("td",{className:"py-1 px-2 text-gray-500 italic text-sm",children:Y0(i.notes)}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1",children:[y.jsx(QN,{title:i.title,category:i.category,url:i.url,notes:i.notes,count:i.count,onSave:this.handleItemUpdate(i.title)}),y.jsx(wa,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(i.title)}),y.jsx(Yf,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(i.title)}),y.jsx(_n,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(i.title)})]})]},`${i.category||""}-${i.title}-${a}`)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:t})})}render(){const{isLoading:e,value:t,results:i,activeIndex:a}=this.state;return y.jsxs("div",{children:[ei(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(ac,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyDown:this.handleKeyDown}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vi,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((l,c)=>y.jsx("div",{className:`px-3 py-2 cursor-pointer border-b border-gray-100 last:border-0 ${c===a?"bg-gray-100":"hover:bg-gray-50"}`,onClick:d=>this.handleResultSelect(d,{result:l}),children:this.resultRenderer(l)},c))})]}),this.renderTable()]})}}XN.propTypes={items:C.arrayOf(C.object),todoItems:C.object,onItemAdd:C.func.isRequired,onItemRemove:C.func.isRequired,onItemIncrement:C.func.isRequired,onItemDecrement:C.func.isRequired,onItemUpdate:C.func.isRequired};var Nv,$1;function OL(){if($1)return Nv;$1=1;var r=Ua(),e=dn(),t=li(),i="[object String]";function a(l){return typeof l=="string"||!e(l)&&t(l)&&r(l)==i}return Nv=a,Nv}var DL=OL();const Ss=Yt(DL);var Ov,K1;function X0(){if(K1)return Ov;K1=1;var r=Qf(),e=oc(),t=Object.prototype,i=t.hasOwnProperty;function a(l,c,d){var p=l[c];(!(i.call(l,c)&&e(p,d))||d===void 0&&!(c in l))&&r(l,c,d)}return Ov=a,Ov}var Dv,Y1;function ML(){if(Y1)return Dv;Y1=1;var r=X0(),e=uc(),t=Jf(),i=cr(),a=ll();function l(c,d,p,g){if(!i(c))return c;d=e(d,c);for(var v=-1,b=d.length,x=b-1,S=c;S!=null&&++v<b;){var j=a(d[v]),P=p;if(j==="__proto__"||j==="constructor"||j==="prototype")return c;if(v!=x){var M=S[j];P=g?g(M,j,S):void 0,P===void 0&&(P=i(M)?M:t(d[v+1])?[]:{})}r(S,j,P),S=S[j]}return c}return Dv=l,Dv}var Mv,Q1;function jL(){if(Q1)return Mv;Q1=1;var r=ML();function e(t,i,a){return t==null?t:r(t,i,a)}return Mv=e,Mv}var kL=jL();const Ea=Yt(kL),VL=r=>{if(!r)return null;if(typeof r=="number")return r;const e=String(r).trim().match(/^(\d+)\s*(ms|s|m|h|d|w)$/i);if(!e)return null;const t=Number(e[1]);switch(e[2].toLowerCase()){case"ms":return t;case"s":return t*1e3;case"m":return t*60*1e3;case"h":return t*60*60*1e3;case"d":return t*24*60*60*1e3;case"w":return t*7*24*60*60*1e3;default:return null}},PL=(r,e)=>{let t=e?.anchorMs??null,i=e?.intervalMs??null;const a=r.scheduleAnchorUtc||r.scheduleAnchor;if(a){const l=Date.parse(a);Number.isNaN(l)||(t=l)}if(r.interval){const l=VL(r.interval);l&&(i=l)}return{anchorMs:t,intervalMs:i}},WN=(r,e=null,t=new Map)=>(Array.isArray(r)&&r.forEach(i=>{if(Ss(i)){e?.anchorMs&&e?.intervalMs&&t.set(i,e);return}if(!i)return;const a=PL(i,e);if(Array.isArray(i.items)&&i.items.length){WN(i.items,a,t);return}if(a?.anchorMs&&a?.intervalMs){const c=i.key||i.title;c&&t.set(c,a)}}),t),LL=(r,e)=>{if(!r)return{filteredChecked:r,expiredKeys:[]};if(!e||!e.size)return{filteredChecked:r,expiredKeys:[]};const t={},i=[],a=Date.now();return Object.keys(r).forEach(l=>{const c=r[l],d=e.get(l);if(!d||!Number.isFinite(d.anchorMs)||!Number.isFinite(d.intervalMs)){t[l]=c;return}if(typeof c!="number"){t[l]=c;return}if(d.intervalMs<=0){t[l]=c;return}const p=c-d.anchorMs,g=p>=0?Math.floor(p/d.intervalMs):-1,v=a-d.anchorMs,b=v>=0?Math.floor(v/d.intervalMs):-1;g===b?t[l]=c:i.push(l)}),{filteredChecked:t,expiredKeys:i}},JN=({configs:r})=>{const{gameName:e}=ck(),t=w0(),i=hP(),[a,l]=B.useState(null),[c,d]=B.useState(!0),p=_a(X=>X.gameConfig),g=_a(X=>X.visibilityFilter),v=_a(X=>X.relicVisibility),b=_a(X=>X.searchFilter),x=_a(X=>X.todoItems),S=_a(X=>X.voidDrops),j=_a(X=>X.markedRelics),M=r.find(X=>X.name===e)?.format??"yaml",F=B.useRef(a),z=B.useRef(e);F.current=a,z.current=e,B.useEffect(()=>{d(!0),FI(Object.assign({"../game-configs/arcraiders.yaml":()=>Qe(()=>import("./arcraiders-CGcPX7Cr.js"),[]),"../game-configs/d2.yaml":()=>Qe(()=>import("./d2-BjSTgg9v.js"),[]),"../game-configs/demonsouls.yaml":()=>Qe(()=>import("./demonsouls-C91dXxDH.js"),[]),"../game-configs/desperadosiii.yaml":()=>Qe(()=>import("./desperadosiii-DUwKvpm_.js"),[]),"../game-configs/eldenring.yaml":()=>Qe(()=>import("./eldenring-CAX0gqaT.js"),[]),"../game-configs/ff14.yaml":()=>Qe(()=>import("./ff14-nq4HI0FR.js"),[]),"../game-configs/ff7.yaml":()=>Qe(()=>import("./ff7-CYGlgb_3.js"),[]),"../game-configs/hades.yaml":()=>Qe(()=>import("./hades-BkYqhHey.js"),[]),"../game-configs/lordsofthefallen.yaml":()=>Qe(()=>import("./lordsofthefallen-vi3erB2s.js"),[]),"../game-configs/moonlighter.yaml":()=>Qe(()=>import("./moonlighter-DWWSqXAQ.js"),[]),"../game-configs/nioh2.yaml":()=>Qe(()=>import("./nioh2-CN3uolYz.js"),[]),"../game-configs/remnant.yaml":()=>Qe(()=>import("./remnant-EWC1nFV0.js"),[]),"../game-configs/remnant2.yaml":()=>Qe(()=>import("./remnant2-Drru-4q0.js"),[]),"../game-configs/riskofrain2.yaml":()=>Qe(()=>import("./riskofrain2-Du4jsvq1.js"),[]),"../game-configs/seaofthieves.yaml":()=>Qe(()=>import("./seaofthieves-DDa2AQaY.js"),[]),"../game-configs/shadowgambit.yaml":()=>Qe(()=>import("./shadowgambit-Cy1gMF9x.js"),[]),"../game-configs/soulframe.yaml":()=>Qe(()=>import("./soulframe-BUEpWpF6.js"),[]),"../game-configs/warframe.yaml":()=>Qe(()=>import("./warframe-D35fmvUK.js"),[])}),`../game-configs/${e}.${M}`,3).then(X=>{l(X.default),d(!1)}).catch(X=>{console.error("Failed to load config",X),d(!1),l(null)})},[e,M]);const W=B.useMemo(()=>a?.renderer?Object.keys(a.renderer).filter(X=>a.renderer[X]==="warframe-resets"):[],[a]),le=B.useMemo(()=>{const X={};return a?.categories&&W.forEach(Q=>{X[Q]=WN(a.categories[Q])}),X},[a,W]),ce=B.useMemo(()=>{const X={};return W.forEach(Q=>{const pe=ti(p,[e,Q]);if(!pe)return;const Me=le[Q],{filteredChecked:be,expiredKeys:je}=LL(pe,Me);X[Q]={filteredChecked:be,expiredKeys:je}}),X},[p,e,W,le]);B.useEffect(()=>{W.forEach(X=>{const Q=ce[X];Q?.expiredKeys?.length&&i($S(e,X,Q.expiredKeys))})},[i,e,W,ce]),B.useEffect(()=>{const X=Q=>{if(Q.key<"1"||Q.key>"9"||Q.target.tagName==="INPUT"||Q.target.tagName==="TEXTAREA"||Q.metaKey||Q.ctrlKey)return;const pe=F.current;if(!pe?.categories)return;Q.preventDefault();const Me=parseInt(Q.key,10)-1,be=Object.getOwnPropertyNames(pe.categories);if(Me<be.length){const je=be[Me];t(`/${z.current}/${je}`)}};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[t]);const oe=B.useCallback(X=>Q=>{i(pP(e,X,Q))},[i,e]),I=B.useCallback(X=>Q=>{i($S(e,X,Q))},[i,e]),R=B.useCallback(X=>Q=>{i(gP(e,X,Q))},[i,e]),O=B.useCallback(X=>Q=>{i(_P(e,X,Q))},[i,e]),k=B.useCallback(X=>Q=>{i(vP(e,X,Q))},[i,e]),D=B.useCallback(X=>Q=>{i(EP(e,X,Q))},[i,e]),L=B.useCallback(X=>Q=>{i(yP(e,X,Q))},[i,e]),N=B.useCallback(X=>Q=>{i(bP(e,X,Q))},[i,e]),Re=B.useCallback(X=>(Q,pe)=>{i(wP(e,X,Q,pe))},[i,e]),Ie=B.useCallback(X=>Q=>{i(TP(e,X,Q))},[i,e]),ee=B.useCallback(X=>Q=>{i(xP(e,X,Q))},[i,e]),he=B.useCallback(X=>(Q,pe,Me)=>{i(SP(e,X,Q,pe,Me))},[i,e]),ye=B.useCallback((X,Q=new Map)=>(!X||!X.length||X.forEach(pe=>{!pe||typeof pe!="object"||(pe.title&&!Q.has(pe.title)&&Q.set(pe.title,pe),pe.key&&!Q.has(pe.key)&&Q.set(pe.key,pe),pe.items&&pe.items.length&&ye(pe.items,Q))}),Q),[]),Pe=B.useCallback((X,Q,pe)=>!X||!X.completedIf?!1:(Array.isArray(X.completedIf)?X.completedIf:[X.completedIf]).some(be=>Object.prototype.hasOwnProperty.call(pe,be)),[]),Fe=B.useCallback((X,Q,pe,Me=null)=>{const be=X.map(ze=>Ss(ze)?ze:{...ze});let je=!0;return Me||(Me=ye(X)),be.forEach((ze,we)=>{let He,qe=!1;if(Ss(ze))He=Object.prototype.hasOwnProperty.call(Q,ze),Ea(be,we,{title:ze,checked:He});else{const Ae=ze.key||ze.title;He=Object.prototype.hasOwnProperty.call(Q,Ae),qe=Pe(ze,Me,Q),Ea(be,[we,"checked"],He)}if(ze.items){const Ae=Fe(ze.items,Q,pe,Me);Ea(be,[we,"items"],Ae.items),Ae.allChecked&&(He=!0,Ea(be,[we,"checked"],!0))}else pe.total++,(He||qe)&&pe.checked++;!He&&!qe&&(je=!1)}),{items:be,allChecked:je,counter:pe}},[ye,Pe]),U=(X,Q,pe)=>{const Me=new Set(["primary","secondary","melee","companions","archwing"]),be=new Set(["primary","secondary","melee"]);if(a.renderer&&a.renderer[Q]==="warframe")return y.jsx(jN,{items:X,onItemClick:oe(Q),visibilityFilter:g,searchFilter:b});if(a.renderer&&a.renderer[Q]==="ff14-todo"){const je={},ze=`${e}-`;return Object.keys(x).forEach(we=>{we.startsWith(ze)&&(je[we]=x[we])}),y.jsx(YN,{items:X,todoItems:je,onItemAdd:R(Q),onItemRemove:O(Q),onItemIncrement:Ie(Q),onItemDecrement:ee(Q),onItemUpdate:he(Q)})}else{if(a.renderer&&a.renderer[Q]==="moonlighter")return y.jsx(GN,{items:X,onItemClick:oe(Q),visibilityFilter:g,searchFilter:b});if(a.renderer&&a.renderer[Q]==="arcraiders"){const je=ti(p,[e,"Goals"]),ze={total:0,checked:0};let we=null;a.categories.Goals&&je?we=Fe(a.categories.Goals,je,ze).items:a.categories.Goals&&(we=a.categories.Goals);const He=ti(p,[e,"quests"]);let qe=null;return a.categories.quests&&(qe=a.categories.quests),y.jsx($N,{items:X,checkedList:pe||{},goalsItems:we,goalsChecked:je||{},questsItems:qe,questsChecked:He||{},onItemClick:oe(Q),visibilityFilter:g,searchFilter:b})}else{if(a.renderer&&a.renderer[Q]==="void-planner")return y.jsx(VN,{items:X,voidDrops:S,onItemAdd:k(Q),onItemRemove:D(Q),onRelicToggle:je=>i(mP(je)),markedRelics:j,onRelicVisibilityToggle:je=>i(CP(je)),relicVisibility:v});if(a.renderer&&a.renderer[Q]==="warframe-todo"){const je=["warframes","primary","secondary","melee","companions","archwing","arcanes","mods"],ze=[];je.forEach(qe=>{const Ae=a.categories[qe]||a.hidden_categories&&a.hidden_categories[qe];Array.isArray(Ae)&&Ae.forEach(at=>{qe==="warframes"?ze.push({title:at.title,url:at.url,category:qe}):Array.isArray(at.items)?at.items.forEach(Le=>{ze.push({title:Ss(Le)?Le:Le.title,url:Ss(Le)?"":Le.url,category:qe})}):at.title&&ze.push({title:at.title,url:at.url,category:qe})})});const we={},He=`${e}-`;return Object.keys(x).forEach(qe=>{qe.startsWith(He)&&(we[qe]=x[qe])}),y.jsx(BN,{items:ze,todoItems:we,onItemAdd:R(Q),onItemRemove:O(Q),onItemIncrement:Ie(Q),onItemDecrement:ee(Q),onItemUpdate:he(Q)})}else if(a.renderer&&a.renderer[Q]==="soulframe-todo"){const je=[],ze=(qe,Ae)=>{qe.forEach(at=>{if(Ss(at)){je.push({title:at,url:"",category:Ae});return}if(at){if(Array.isArray(at.items)){ze(at.items,Ae);return}at.title&&je.push({title:at.title,url:at.url,category:Ae})}})};Object.keys(a.categories||{}).forEach(qe=>{if(qe===Q)return;const Ae=a.categories[qe];Array.isArray(Ae)&&ze(Ae,qe)});const we={},He=`${e}-`;return Object.keys(x).forEach(qe=>{qe.startsWith(He)&&(we[qe]=x[qe])}),y.jsx(XN,{items:je,todoItems:we,onItemAdd:R(Q),onItemRemove:O(Q),onItemIncrement:Ie(Q),onItemDecrement:ee(Q),onItemUpdate:he(Q)})}else if(a.renderer&&a.renderer[Q]==="warframe-builds"){const je=[],ze=[];return a.hidden_categories&&(Array.isArray(a.hidden_categories.mods)&&a.hidden_categories.mods.forEach(we=>{Array.isArray(we.items)&&we.items.forEach(He=>{je.push(Ss(He)?He:He.title)})}),Array.isArray(a.hidden_categories.arcanes)&&a.hidden_categories.arcanes.forEach(we=>{Array.isArray(we.items)&&we.items.forEach(He=>{ze.push(Ss(He)?He:He.title)})})),y.jsx(FN,{builds:pe||{},onBuildAdd:L(Q),onBuildRemove:N(Q),onBuildUpdate:Re(Q),mods:je,arcanes:ze})}else return a.renderer&&a.renderer[Q]==="warframe-resets"?y.jsx(HN,{items:X,onItemClick:oe(Q),onClear:I(Q),visibilityFilter:g,searchFilter:b}):e==="warframe"&&Me.has(Q)?y.jsx(mN,{items:X,onItemClick:oe(Q),onClear:I(Q),visibilityFilter:g,searchFilter:b,enableIntroducedGrouping:be.has(Q)}):y.jsx(pN,{items:X,onItemClick:oe(Q),onClear:I(Q),visibilityFilter:g,searchFilter:b})}}};if(c)return y.jsxs("div",{className:"flex items-center justify-center py-20 text-gray-500",children:[y.jsx(Vi,{className:"mr-3"}),y.jsx("span",{children:"Loading config..."})]});if(!a||!a.categories)return y.jsx("div",{children:"Empty config."});const ne=[],ue=[];let de="";return Object.getOwnPropertyNames(a.categories).forEach(X=>{de||(de=X);let Q=ti(p,[e,X]);const pe=ce[X];pe?.filteredChecked&&(Q=pe.filteredChecked);let Me;const be={total:0,checked:0};Q?Me=Fe(a.categories[X],Q,be).items:Me=a.categories[X];const je=be.total&&be.checked?(be.checked/be.total*100).toFixed(0):null,ze=a.options&&a.options[X]==="quantity_progress",we=be.total&&be.checked?ze?` ${be.checked}/${be.total}`:` ${je} %`:null;ne.push(y.jsxs(Hu,{to:`/${e}/${X}`,className:"px-2.5 py-1 mr-1 border-b-[2px] border-transparent hover:text-gray-900 hover:border-gray-300 transition-colors [&.active]:border-black [&.active]:font-bold text-gray-600 flex items-baseline text-base",children:[X.charAt(0).toUpperCase()+X.slice(1),y.jsx("span",{className:"ml-1 text-[0.85em] text-gray-400 font-normal",children:we})]},X)),ue.push(y.jsx(Sa,{path:X,element:U(Me,X,Q)},X))}),[y.jsx("div",{className:"flex flex-wrap border-b border-gray-200 mb-2 list-none px-0 py-1",children:ne},"menu"),y.jsxs(PI,{children:[y.jsx(Sa,{index:!0,element:y.jsx(B_,{to:`/${e}/${de}`,replace:!0})}),ue,y.jsx(Sa,{path:"*",element:y.jsx(B_,{to:`/${e}/${de}`,replace:!0})})]},"switch")]};JN.propTypes={configs:C.arrayOf(C.shape({name:C.string.isRequired,title:C.string.isRequired,format:C.string})).isRequired};const UL=r=>FI(Object.assign({"../game-configs/arcraiders.yaml":()=>Qe(()=>import("./arcraiders-CGcPX7Cr.js"),[]),"../game-configs/d2.yaml":()=>Qe(()=>import("./d2-BjSTgg9v.js"),[]),"../game-configs/demonsouls.yaml":()=>Qe(()=>import("./demonsouls-C91dXxDH.js"),[]),"../game-configs/desperadosiii.yaml":()=>Qe(()=>import("./desperadosiii-DUwKvpm_.js"),[]),"../game-configs/eldenring.yaml":()=>Qe(()=>import("./eldenring-CAX0gqaT.js"),[]),"../game-configs/ff14.yaml":()=>Qe(()=>import("./ff14-nq4HI0FR.js"),[]),"../game-configs/ff7.yaml":()=>Qe(()=>import("./ff7-CYGlgb_3.js"),[]),"../game-configs/hades.yaml":()=>Qe(()=>import("./hades-BkYqhHey.js"),[]),"../game-configs/lordsofthefallen.yaml":()=>Qe(()=>import("./lordsofthefallen-vi3erB2s.js"),[]),"../game-configs/moonlighter.yaml":()=>Qe(()=>import("./moonlighter-DWWSqXAQ.js"),[]),"../game-configs/nioh2.yaml":()=>Qe(()=>import("./nioh2-CN3uolYz.js"),[]),"../game-configs/remnant.yaml":()=>Qe(()=>import("./remnant-EWC1nFV0.js"),[]),"../game-configs/remnant2.yaml":()=>Qe(()=>import("./remnant2-Drru-4q0.js"),[]),"../game-configs/riskofrain2.yaml":()=>Qe(()=>import("./riskofrain2-Du4jsvq1.js"),[]),"../game-configs/seaofthieves.yaml":()=>Qe(()=>import("./seaofthieves-DDa2AQaY.js"),[]),"../game-configs/shadowgambit.yaml":()=>Qe(()=>import("./shadowgambit-Cy1gMF9x.js"),[]),"../game-configs/soulframe.yaml":()=>Qe(()=>import("./soulframe-BUEpWpF6.js"),[]),"../game-configs/warframe.yaml":()=>Qe(()=>import("./warframe-D35fmvUK.js"),[])}),`../game-configs/${r}.yaml`,3).then(e=>e.default),qL=()=>{const[r,e]=B.useState("loading...");return B.useEffect(()=>{UL("warframe").then(t=>{e(t.dateUpdated)})},[]),y.jsxs("div",{className:"max-w-3xl mx-auto px-4 mt-4 text-base leading-relaxed text-gray-800",children:[y.jsxs("p",{className:"mb-4",children:["This site is purely client-side, everything is hosted on free GitHub pages. Your progress is saved in the cloud when you sign in, or stored locally in ",y.jsx("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage",className:"text-sky-700 hover:underline",children:"browser local storage"})," when signed out."]}),y.jsx("p",{className:"mb-4",children:'Data is persistent and can be synced across devices when signed in. You can also download/upload your state via the top nav menu or directly from the browser console (Application tab, look for "state" variable).'}),y.jsxs("p",{className:"mb-8 border-b border-gray-100 pb-4",children:["If you have any suggestions or find any mistakes: email me ",y.jsx("a",{href:"mailto:poehartgroove@gmail.com",className:"text-sky-700 hover:underline",children:"poehartgroove@gmail.com"}),"."]}),y.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-6 mb-4",children:"Data Sources:"}),y.jsxs("ul",{className:"list-disc list-outside ml-5 space-y-4 text-sm",children:[y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Arc Raiders:"})," Data compiled from official sources and community wikis."]})}),y.jsxs("li",{children:[y.jsxs("div",{children:[y.jsx("strong",{children:"Warframe:"})," Data sources: ",y.jsx("a",{href:"https://wf.snekw.com/",className:"text-sky-700 hover:underline",children:"wf.snekw.com"}),", "," ",y.jsx("a",{href:"https://warframe-web-assets.nyc3.cdn.digitaloceanspaces.com/uploads/cms/hnfvc0o3jnfvc873njb03enrf56.html",className:"text-sky-700 hover:underline",children:"Drop tables"}),", and "," ",y.jsx("a",{href:"https://github.com/WFCD/warframe-items",className:"text-sky-700 hover:underline",children:"WFCD/warframe-items"})]}),y.jsxs("div",{className:"text-gray-500 italic mt-1 text-xs",children:["Last update date: ",r]})]}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Remnant: From the Ashes:"})," ",y.jsx("a",{href:"https://remnantfromtheashes.wiki.fextralife.com/Remnant+From+The+Ashes+Wiki",className:"text-sky-700 hover:underline",children:"Remnant From The Ashes Wiki"})]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Remnant 2:"})," Data taken from ",y.jsx("a",{href:"https://remnant2.wiki.fextralife.com/Remnant+2+Wiki",className:"text-sky-700 hover:underline",children:"Remnant 2 Wiki"})," and community guides."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Nioh 2:"})," Smithing texts and arts taken from this ",y.jsx("a",{href:"https://docs.google.com/document/d/1dCPVlyB7avz7yJPzST4_JBSsCTLPaZFm97QwDzTiiu8/edit#heading=h.34si98irfbct",className:"text-sky-700 hover:underline",children:"Google doc"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Final Fantasy VII Remake:"})," Data taken from ",y.jsx("a",{href:"https://www.powerpyx.com/final-fantasy-vii-remake-wiki-strategy-guide/",className:"text-sky-700 hover:underline",children:"PowerPyx"})," and ",y.jsx("a",{href:"https://finalfantasy7remake.wiki.fextralife.com/Final+Fantasy+VII+Remake+Wiki",className:"text-sky-700 hover:underline",children:"Final Fantasy VII Remake Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Final Fantasy XIV:"})," Data taken from ",y.jsx("a",{href:"https://xivapi.com/",className:"text-sky-700 hover:underline",children:"XIVAPI"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Desperados III:"})," Guide taken from ",y.jsx("a",{href:"https://steamcommunity.com/sharedfiles/filedetails/?id=2133857369",className:"text-sky-700 hover:underline",children:"All Badges + Mission-by-Mission Achievements Guide by MMOtte"}),", ",y.jsx("a",{href:"https://psnprofiles.com/trophies/10788-desperados-iii",className:"text-sky-700 hover:underline",children:"psnprofiles"}),", and ",y.jsx("a",{href:"https://www.trueachievements.com/game/Desperados-III/achievements",className:"text-sky-700 hover:underline",children:"TrueAchievements"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Hades:"})," Data compiled from ",y.jsx("a",{href:"https://hades.fandom.com/wiki/Hades_Wiki",className:"text-sky-700 hover:underline",children:"Hades Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Risk of Rain 2:"})," Data compiled from ",y.jsx("a",{href:"https://riskofrain2.fandom.com/wiki/Risk_of_Rain_2_Wiki",className:"text-sky-700 hover:underline",children:"Risk of Rain 2 Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Moonlighter:"})," Data compiled from ",y.jsx("a",{href:"https://moonlighter.fandom.com/wiki/Moonlighter_Wiki",className:"text-sky-700 hover:underline",children:"Moonlighter Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Demon's Souls:"})," Data taken from ",y.jsx("a",{href:"https://demonssouls.wiki.fextralife.com/Demon's+Souls+Wiki",className:"text-sky-700 hover:underline",children:"Demon's Souls Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Diablo 2:"})," Data compiled from ",y.jsx("a",{href:"https://diablo2.diablowiki.net/",className:"text-sky-700 hover:underline",children:"Diablo Wiki"})," and community resources."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Elden Ring:"})," Data taken from ",y.jsx("a",{href:"https://eldenring.wiki.fextralife.com/Elden+Ring+Wiki",className:"text-sky-700 hover:underline",children:"Elden Ring Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Lords of the Fallen:"})," Checklist made with ",y.jsx("a",{href:"https://forum.psnprofiles.com/topic/151185-checklist-for-nearly-everything/",className:"text-sky-700 hover:underline",children:"psnprofiles community"}),". Data taken from the ",y.jsx("a",{href:"https://thelordsofthefallen.wiki.fextralife.com/",className:"text-sky-700 hover:underline",children:"fextralife wiki"}),". Special thanks to PSN: Adkov for contributions."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Shadow Gambit: The Cursed Crew:"})," Mostly taken from ",y.jsx("a",{href:"https://steamcommunity.com/app/1545560/guides/?browsefilter=trend&filetype=11&requiredtags[]=english",className:"text-sky-700 hover:underline",children:"Steam guides"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Sea of Thieves:"})," Data compiled from ",y.jsx("a",{href:"https://seaofthieves.fandom.com/wiki/Sea_of_Thieves_Wiki",className:"text-sky-700 hover:underline",children:"Sea of Thieves Wiki"})," and official sources."]})})]})]})},zL=()=>{};var X1={};const ZN=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},BL=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const a=r[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],d=r[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],c=r[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},eO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,d=c?r[a+1]:0,p=a+2<r.length,g=p?r[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let x=(d&15)<<2|g>>6,S=g&63;p||(S=64,c||(x=64)),i.push(t[v],t[b],t[x],t[S])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(ZN(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):BL(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const g=a<r.length?t[r.charAt(a)]:64;++a;const b=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||d==null||g==null||b==null)throw new FL;const x=l<<2|d>>4;if(i.push(x),g!==64){const S=d<<4&240|g>>2;if(i.push(S),b!==64){const j=g<<6&192|b;i.push(j)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class FL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HL=function(r){const e=ZN(r);return eO.encodeByteArray(e,!0)},bf=function(r){return HL(r).replace(/\./g,"")},tO=function(r){try{return eO.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function GL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $L=()=>GL().__FIREBASE_DEFAULTS__,KL=()=>{if(typeof process>"u"||typeof X1>"u")return;const r=X1.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},YL=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&tO(r[1]);return e&&JSON.parse(e)},hd=()=>{try{return zL()||$L()||KL()||YL()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},nO=r=>hd()?.emulatorHosts?.[r],QL=r=>{const e=nO(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},rO=()=>hd()?.config,iO=r=>hd()?.[`_${r}`];class XL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function ul(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sO(r){return(await fetch(r,{credentials:"include"})).ok}function WL(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[bf(JSON.stringify(t)),bf(JSON.stringify(c)),""].join(".")}const Vu={};function JL(){const r={prod:[],emulator:[]};for(const e of Object.keys(Vu))Vu[e]?r.emulator.push(e):r.prod.push(e);return r}function ZL(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let W1=!1;function aO(r,e){if(typeof window>"u"||typeof document>"u"||!ul(window.location.host)||Vu[r]===e||Vu[r]||W1)return;Vu[r]=e;function t(x){return`__firebase__banner__${x}`}const i="__firebase__banner",l=JL().prod.length>0;function c(){const x=document.getElementById(i);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,S){x.setAttribute("width","24"),x.setAttribute("id",S),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{W1=!0,c()},x}function v(x,S){x.setAttribute("id",S),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=ZL(i),S=t("text"),j=document.getElementById(S)||document.createElement("span"),P=t("learnmore"),M=document.getElementById(P)||document.createElement("a"),F=t("preprendIcon"),z=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const W=x.element;d(W),v(M,P);const le=g();p(z,F),W.append(z,j,M,le),document.body.appendChild(W)}l?(j.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function t3(){const r=hd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r3(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function i3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s3(){const r=bn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function a3(){return!t3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o3(){try{return typeof indexedDB=="object"}catch{return!1}}function l3(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const u3="FirebaseError";class Fi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=u3,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cc.prototype.create)}}class cc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?c3(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Fi(a,d,i)}}function c3(r,e){return r.replace(h3,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const h3=/\{\$([^}]+)}/g;function f3(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ma(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=r[a],c=e[a];if(J1(l)&&J1(c)){if(!Ma(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function J1(r){return r!==null&&typeof r=="object"}function hc(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function d3(r,e){const t=new p3(r,e);return t.subscribe.bind(t)}class p3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");m3(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=jv),a.error===void 0&&(a.error=jv),a.complete===void 0&&(a.complete=jv);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m3(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function jv(){}function Dn(r){return r&&r._delegate?r._delegate:r}class ja{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ba="[DEFAULT]";class g3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new XL;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v3(e))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ba){return this.instances.has(e)}getOptions(e=ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:y3(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ba){return this.component?this.component.multipleInstances?e:ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y3(r){return r===ba?void 0:r}function v3(r){return r.instantiationMode==="EAGER"}class _3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new g3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Xe||(Xe={}));const b3={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},E3=Xe.INFO,T3={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},x3=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),a=T3[e];if(a)console[a](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W0{constructor(e){this.name=e,this._logLevel=E3,this._logHandler=x3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const S3=(r,e)=>e.some(t=>r instanceof t);let Z1,eR;function w3(){return Z1||(Z1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A3(){return eR||(eR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oO=new WeakMap,X_=new WeakMap,lO=new WeakMap,kv=new WeakMap,J0=new WeakMap;function R3(r){const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(Ns(r.result)),a()},c=()=>{i(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&oO.set(t,r)}).catch(()=>{}),J0.set(e,r),e}function C3(r){if(X_.has(r))return;const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});X_.set(r,e)}let W_={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return X_.get(r);if(e==="objectStoreNames")return r.objectStoreNames||lO.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ns(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function I3(r){W_=r(W_)}function N3(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Vv(this),e,...t);return lO.set(i,e.sort?e.sort():[e]),Ns(i)}:A3().includes(r)?function(...e){return r.apply(Vv(this),e),Ns(oO.get(this))}:function(...e){return Ns(r.apply(Vv(this),e))}}function O3(r){return typeof r=="function"?N3(r):(r instanceof IDBTransaction&&C3(r),S3(r,w3())?new Proxy(r,W_):r)}function Ns(r){if(r instanceof IDBRequest)return R3(r);if(kv.has(r))return kv.get(r);const e=O3(r);return e!==r&&(kv.set(r,e),J0.set(e,r)),e}const Vv=r=>J0.get(r);function D3(r,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),d=Ns(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ns(c.result),p.oldVersion,p.newVersion,Ns(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const M3=["get","getKey","getAll","getAllKeys","count"],j3=["put","add","delete","clear"],Pv=new Map;function tR(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Pv.get(e))return Pv.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=j3.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||M3.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return Pv.set(e,l),l}I3(r=>({...r,get:(e,t,i)=>tR(e,t)||r.get(e,t,i),has:(e,t)=>!!tR(e,t)||r.has(e,t)}));class k3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(V3(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function V3(r){return r.getComponent()?.type==="VERSION"}const J_="@firebase/app",nR="0.14.7";const Pi=new W0("@firebase/app"),P3="@firebase/app-compat",L3="@firebase/analytics-compat",U3="@firebase/analytics",q3="@firebase/app-check-compat",z3="@firebase/app-check",B3="@firebase/auth",F3="@firebase/auth-compat",H3="@firebase/database",G3="@firebase/data-connect",$3="@firebase/database-compat",K3="@firebase/functions",Y3="@firebase/functions-compat",Q3="@firebase/installations",X3="@firebase/installations-compat",W3="@firebase/messaging",J3="@firebase/messaging-compat",Z3="@firebase/performance",e6="@firebase/performance-compat",t6="@firebase/remote-config",n6="@firebase/remote-config-compat",r6="@firebase/storage",i6="@firebase/storage-compat",s6="@firebase/firestore",a6="@firebase/ai",o6="@firebase/firestore-compat",l6="firebase",u6="12.8.0";const Z_="[DEFAULT]",c6={[J_]:"fire-core",[P3]:"fire-core-compat",[U3]:"fire-analytics",[L3]:"fire-analytics-compat",[z3]:"fire-app-check",[q3]:"fire-app-check-compat",[B3]:"fire-auth",[F3]:"fire-auth-compat",[H3]:"fire-rtdb",[G3]:"fire-data-connect",[$3]:"fire-rtdb-compat",[K3]:"fire-fn",[Y3]:"fire-fn-compat",[Q3]:"fire-iid",[X3]:"fire-iid-compat",[W3]:"fire-fcm",[J3]:"fire-fcm-compat",[Z3]:"fire-perf",[e6]:"fire-perf-compat",[t6]:"fire-rc",[n6]:"fire-rc-compat",[r6]:"fire-gcs",[i6]:"fire-gcs-compat",[s6]:"fire-fst",[o6]:"fire-fst-compat",[a6]:"fire-vertex","fire-js":"fire-js",[l6]:"fire-js-all"};const Ef=new Map,h6=new Map,e0=new Map;function rR(r,e){try{r.container.addComponent(e)}catch(t){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Yo(r){const e=r.name;if(e0.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;e0.set(e,r);for(const t of Ef.values())rR(t,r);for(const t of h6.values())rR(t,r);return!0}function Z0(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Tr(r){return r==null?!1:r.settings!==void 0}const f6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new cc("app","Firebase",f6);class d6{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}const cl=u6;function uO(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:Z_,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Os.create("bad-app-name",{appName:String(a)});if(t||(t=rO()),!t)throw Os.create("no-options");const l=Ef.get(a);if(l){if(Ma(t,l.options)&&Ma(i,l.config))return l;throw Os.create("duplicate-app",{appName:a})}const c=new _3(a);for(const p of e0.values())c.addComponent(p);const d=new d6(t,i,c);return Ef.set(a,d),d}function cO(r=Z_){const e=Ef.get(r);if(!e&&r===Z_&&rO())return uO();if(!e)throw Os.create("no-app",{appName:r});return e}function Ds(r,e,t){let i=c6[r]??r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(c.join(" "));return}Yo(new ja(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const p6="firebase-heartbeat-database",m6=1,Gu="firebase-heartbeat-store";let Lv=null;function hO(){return Lv||(Lv=D3(p6,m6,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Gu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Os.create("idb-open",{originalErrorMessage:r.message})})),Lv}async function g6(r){try{const t=(await hO()).transaction(Gu),i=await t.objectStore(Gu).get(fO(r));return await t.done,i}catch(e){if(e instanceof Fi)Pi.warn(e.message);else{const t=Os.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(t.message)}}}async function iR(r,e){try{const i=(await hO()).transaction(Gu,"readwrite");await i.objectStore(Gu).put(e,fO(r)),await i.done}catch(t){if(t instanceof Fi)Pi.warn(t.message);else{const i=Os.create("idb-set",{originalErrorMessage:t?.message});Pi.warn(i.message)}}}function fO(r){return`${r.name}!${r.options.appId}`}const y6=1024,v6=30;class _6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new E6(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=sR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>v6){const a=T6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sR(),{heartbeatsToSend:t,unsentEntries:i}=b6(this._heartbeatsCache.heartbeats),a=bf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Pi.warn(e),""}}}function sR(){return new Date().toISOString().substring(0,10)}function b6(r,e=y6){const t=[];let i=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),aR(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),aR(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class E6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o3()?l3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await g6(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return iR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return iR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function aR(r){return bf(JSON.stringify({version:2,heartbeats:r})).length}function T6(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}function x6(r){Yo(new ja("platform-logger",e=>new k3(e),"PRIVATE")),Yo(new ja("heartbeat",e=>new _6(e),"PRIVATE")),Ds(J_,nR,r),Ds(J_,nR,"esm2020"),Ds("fire-js","")}x6("");function dO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S6=dO,pO=new cc("auth","Firebase",dO());const Tf=new W0("@firebase/auth");function w6(r,...e){Tf.logLevel<=Xe.WARN&&Tf.warn(`Auth (${cl}): ${r}`,...e)}function rf(r,...e){Tf.logLevel<=Xe.ERROR&&Tf.error(`Auth (${cl}): ${r}`,...e)}function ai(r,...e){throw tb(r,...e)}function wr(r,...e){return tb(r,...e)}function eb(r,e,t){const i={...S6(),[e]:t};return new cc("auth","Firebase",i).create(e,{appName:r.name})}function Ia(r){return eb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A6(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&ai(r,"argument-error"),eb(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tb(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return pO.create(r,...e)}function Ce(r,e,...t){if(!r)throw tb(e,...t)}function Ni(r){const e="INTERNAL ASSERTION FAILED: "+r;throw rf(e),new Error(e)}function Li(r,e){r||Ni(e)}function t0(){return typeof self<"u"&&self.location?.href||""}function R6(){return oR()==="http:"||oR()==="https:"}function oR(){return typeof self<"u"&&self.location?.protocol||null}function C6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R6()||r3()||"connection"in navigator)?navigator.onLine:!0}function I6(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class fc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Li(t>e,"Short delay should be less than long delay!"),this.isMobile=e3()||i3()}get(){return C6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nb(r,e){Li(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class mO{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const O6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D6=new fc(3e4,6e4);function rb(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function hl(r,e,t,i,a={}){return gO(r,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=hc({key:r.config.apiKey,...c}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...l};return n3()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ul(r.emulatorConfig.host)&&(g.credentials="include"),mO.fetch()(await yO(r,r.config.apiHost,t,d),g)})}async function gO(r,e,t){r._canInitEmulator=!1;const i={...N6,...e};try{const a=new j6(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Yh(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yh(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Yh(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw Yh(r,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw eb(r,v,g);ai(r,v)}}catch(a){if(a instanceof Fi)throw a;ai(r,"network-request-failed",{message:String(a)})}}async function M6(r,e,t,i,a={}){const l=await hl(r,e,t,i,a);return"mfaPendingCredential"in l&&ai(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function yO(r,e,t,i){const a=`${e}${t}?${i}`,l=r,c=l.config.emulator?nb(r.config,a):`${r.config.apiScheme}://${a}`;return O6.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class j6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(wr(this.auth,"network-request-failed")),D6.get())})}}function Yh(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=wr(r,e,i);return a.customData._tokenResponse=t,a}async function k6(r,e){return hl(r,"POST","/v1/accounts:delete",e)}async function xf(r,e){return hl(r,"POST","/v1/accounts:lookup",e)}function Pu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function V6(r,e=!1){const t=Dn(r),i=await t.getIdToken(e),a=ib(i);Ce(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:Pu(Uv(a.auth_time)),issuedAtTime:Pu(Uv(a.iat)),expirationTime:Pu(Uv(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Uv(r){return Number(r)*1e3}function ib(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return rf("JWT malformed, contained fewer than 3 sections"),null;try{const a=tO(t);return a?JSON.parse(a):(rf("Failed to decode base64 JWT payload"),null)}catch(a){return rf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function lR(r){const e=ib(r);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function $u(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Fi&&P6(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function P6({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class L6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class n0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sf(r){const e=r.auth,t=await r.getIdToken(),i=await $u(r,xf(e,{idToken:t}));Ce(i?.users.length,e,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=a.providerUserInfo?.length?vO(a.providerUserInfo):[],c=q6(r.providerData,l),d=r.isAnonymous,p=!(r.email&&a.passwordHash)&&!c?.length,g=d?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new n0(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function U6(r){const e=Dn(r);await Sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q6(r,e){return[...r.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function vO(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function z6(r,e){const t=await gO(r,{},async()=>{const i=hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,c=await yO(r,a,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return r.emulatorConfig&&ul(r.emulatorConfig.host)&&(p.credentials="include"),mO.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function B6(r,e){return hl(r,"POST","/v2/accounts:revokeToken",rb(r,e))}class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=lR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await z6(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new qo;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ce(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ce(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return Ni("not implemented")}}function xs(r,e){Ce(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class xr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new L6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new n0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await $u(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return V6(this,e)}reload(){return U6(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Sf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(Ia(this.auth));const e=await this.getIdToken();return await $u(this,k6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:S,providerData:j,stsTokenManager:P}=t;Ce(b&&P,e,"internal-error");const M=qo.fromJSON(this.name,P);Ce(typeof b=="string",e,"internal-error"),xs(i,e.name),xs(a,e.name),Ce(typeof x=="boolean",e,"internal-error"),Ce(typeof S=="boolean",e,"internal-error"),xs(l,e.name),xs(c,e.name),xs(d,e.name),xs(p,e.name),xs(g,e.name),xs(v,e.name);const F=new xr({uid:b,auth:e,email:a,emailVerified:x,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:M,createdAt:g,lastLoginAt:v});return j&&Array.isArray(j)&&(F.providerData=j.map(z=>({...z}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(e,t,i=!1){const a=new qo;a.updateFromServerResponse(t);const l=new xr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Sf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ce(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?vO(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new qo;d.updateFromIdToken(i);const p=new xr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new n0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const uR=new Map;function Oi(r){Li(r instanceof Function,"Expected a class definition");let e=uR.get(r);return e?(Li(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,uR.set(r,e),e)}class _O{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_O.type="NONE";const cR=_O;function sf(r,e,t){return`firebase:${r}:${e}:${t}`}class zo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=sf(this.userKey,a.apiKey,l),this.fullPersistenceKey=sf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await xf(this.auth,{idToken:e}).catch(()=>{});return t?xr._fromGetAccountInfoResponse(this.auth,t,e):null}return xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new zo(Oi(cR),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Oi(cR);const c=sf(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const x=await xf(e,{idToken:v}).catch(()=>{});if(!x)break;b=await xr._fromGetAccountInfoResponse(e,x,v)}else b=xr._fromJSON(e,v);g!==l&&(d=b),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new zo(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new zo(l,e,i))}}function hR(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wO(e))return"Blackberry";if(AO(e))return"Webos";if(EO(e))return"Safari";if((e.includes("chrome/")||TO(e))&&!e.includes("edge/"))return"Chrome";if(SO(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function bO(r=bn()){return/firefox\//i.test(r)}function EO(r=bn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TO(r=bn()){return/crios\//i.test(r)}function xO(r=bn()){return/iemobile/i.test(r)}function SO(r=bn()){return/android/i.test(r)}function wO(r=bn()){return/blackberry/i.test(r)}function AO(r=bn()){return/webos/i.test(r)}function sb(r=bn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function F6(r=bn()){return sb(r)&&!!window.navigator?.standalone}function H6(){return s3()&&document.documentMode===10}function RO(r=bn()){return sb(r)||SO(r)||AO(r)||wO(r)||/windows phone/i.test(r)||xO(r)}function CO(r,e=[]){let t;switch(r){case"Browser":t=hR(bn());break;case"Worker":t=`${hR(bn())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${cl}/${i}`}class G6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function $6(r,e={}){return hl(r,"GET","/v2/passwordPolicy",rb(r,e))}const K6=6;class Y6{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??K6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class Q6{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fR(this),this.idTokenSubscription=new fR(this),this.beforeStateQueue=new G6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xf(this,{idToken:e}),i=await xr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Tr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(Ia(this));const t=e?Dn(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(Ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(Ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $6(this),t=new Y6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await B6(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Oi(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[Oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&w6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fd(r){return Dn(r)}class fR{constructor(e){this.auth=e,this.observer=null,this.addObserver=d3(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ab={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X6(r){ab=r}function W6(r){return ab.loadJS(r)}function J6(){return ab.gapiScript}function Z6(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function eU(r,e){const t=Z0(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ma(l,e??{}))return a;ai(a,"already-initialized")}return t.initialize({options:e})}function tU(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Oi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function nU(r,e,t){const i=fd(r);Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=IO(e),{host:c,port:d}=rU(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ce(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ce(Ma(g,i.config.emulator)&&Ma(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,ul(c)?(sO(`${l}//${c}${p}`),aO("Auth",!0)):iU()}function IO(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function rU(r){const e=IO(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:dR(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:dR(c)}}}function dR(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function iU(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class NO{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function Bo(r,e){return M6(r,"POST","/v1/accounts:signInWithIdp",rb(r,e))}const sU="http://localhost";class ka extends NO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ai("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new ka(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Bo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Bo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bo(e,t)}buildRequest(){const e={requestUri:sU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hc(t)}return e}}class ob{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class dc extends ob{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ws extends dc{constructor(){super("facebook.com")}static credential(e){return ka._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";class Ii extends dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ka._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ii.credential(t,i)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";class As extends dc{constructor(){super("github.com")}static credential(e){return ka._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";class Rs extends dc{constructor(){super("twitter.com")}static credential(e,t){return ka._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Rs.credential(t,i)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";class Qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await xr._fromIdTokenResponse(e,i,a),c=pR(i);return new Qo({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=pR(i);return new Qo({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function pR(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class wf extends Fi{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,wf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new wf(e,t,i,a)}}function OO(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?wf._fromErrorAndOperation(r,l,e,i):l})}async function aU(r,e,t=!1){const i=await $u(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Qo._forOperation(r,"link",i)}async function oU(r,e,t=!1){const{auth:i}=r;if(Tr(i.app))return Promise.reject(Ia(i));const a="reauthenticate";try{const l=await $u(r,OO(i,a,e,r),t);Ce(l.idToken,i,"internal-error");const c=ib(l.idToken);Ce(c,i,"internal-error");const{sub:d}=c;return Ce(r.uid===d,i,"user-mismatch"),Qo._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ai(i,"user-mismatch"),l}}async function lU(r,e,t=!1){if(Tr(r.app))return Promise.reject(Ia(r));const i="signIn",a=await OO(r,i,e),l=await Qo._fromIdTokenResponse(r,i,a);return t||await r._updateCurrentUser(l.user),l}function uU(r,e,t,i){return Dn(r).onIdTokenChanged(e,t,i)}function cU(r,e,t){return Dn(r).beforeAuthStateChanged(e,t)}function lb(r,e,t,i){return Dn(r).onAuthStateChanged(e,t,i)}function hU(r){return Dn(r).signOut()}const Af="__sak";class DO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Af,"1"),this.storage.removeItem(Af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const fU=1e3,dU=10;class MO extends DO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);H6()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,dU):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},fU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}MO.type="LOCAL";const pU=MO;class jO extends DO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jO.type="SESSION";const kO=jO;function mU(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new dd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await mU(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dd.receivers=[];function ub(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}class gU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=ub("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const x=b;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(x.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ni(){return window}function yU(r){ni().location.href=r}function VO(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function vU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _U(){return navigator?.serviceWorker?.controller||null}function bU(){return VO()?self:null}const PO="firebaseLocalStorageDb",EU=1,Rf="firebaseLocalStorage",LO="fbase_key";class pc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pd(r,e){return r.transaction([Rf],e?"readwrite":"readonly").objectStore(Rf)}function TU(){const r=indexedDB.deleteDatabase(PO);return new pc(r).toPromise()}function r0(){const r=indexedDB.open(PO,EU);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Rf,{keyPath:LO})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Rf)?e(i):(i.close(),await TU(),e(await r0()))})})}async function mR(r,e,t){const i=pd(r,!0).put({[LO]:e,value:t});return new pc(i).toPromise()}async function xU(r,e){const t=pd(r,!1).get(e),i=await new pc(t).toPromise();return i===void 0?null:i.value}function gR(r,e){const t=pd(r,!0).delete(e);return new pc(t).toPromise()}const SU=800,wU=3;class UO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await r0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>wU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dd._getInstance(bU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vU(),!this.activeServiceWorker)return;this.sender=new gU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_U()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await r0();return await mR(e,Af,"1"),await gR(e,Af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>mR(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>xU(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=pd(a,!1).getAll();return new pc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UO.type="LOCAL";const AU=UO;new fc(3e4,6e4);function qO(r,e){return e?Oi(e):(Ce(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class cb extends NO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function RU(r){return lU(r.auth,new cb(r),r.bypassAuthState)}function CU(r){const{auth:e,user:t}=r;return Ce(t,e,"internal-error"),oU(t,new cb(r),r.bypassAuthState)}async function IU(r){const{auth:e,user:t}=r;return Ce(t,e,"internal-error"),aU(t,new cb(r),r.bypassAuthState)}class zO{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RU;case"linkViaPopup":case"linkViaRedirect":return IU;case"reauthViaPopup":case"reauthViaRedirect":return CU;default:ai(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const NU=new fc(2e3,1e4);async function BO(r,e,t){if(Tr(r.app))return Promise.reject(wr(r,"operation-not-supported-in-this-environment"));const i=fd(r);A6(r,e,ob);const a=qO(i,t);return new Ta(i,"signInViaPopup",e,a).executeNotNull()}class Ta extends zO{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ta.currentPopupAction&&Ta.currentPopupAction.cancel(),Ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=ub();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NU.get())};e()}}Ta.currentPopupAction=null;const OU="pendingRedirect",af=new Map;class DU extends zO{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=af.get(this.auth._key());if(!e){try{const i=await MU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}af.set(this.auth._key(),e)}return this.bypassAuthState||af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MU(r,e){const t=VU(e),i=kU(r);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function jU(r,e){af.set(r._key(),e)}function kU(r){return Oi(r._redirectPersistence)}function VU(r){return sf(OU,r.config.apiKey,r.name)}async function PU(r,e,t=!1){if(Tr(r.app))return Promise.reject(Ia(r));const i=fd(r),a=qO(i,e),c=await new DU(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const LU=600*1e3;class UU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!FO(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(wr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LU&&this.cachedEventUids.clear(),this.cachedEventUids.has(yR(e))}saveEventToCache(e){this.cachedEventUids.add(yR(e)),this.lastProcessedEventTime=Date.now()}}function yR(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function FO({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function qU(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FO(r);default:return!1}}async function zU(r,e={}){return hl(r,"GET","/v1/projects",e)}const BU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FU=/^https?/;async function HU(r){if(r.config.emulator)return;const{authorizedDomains:e}=await zU(r);for(const t of e)try{if(GU(t))return}catch{}ai(r,"unauthorized-domain")}function GU(r){const e=t0(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!FU.test(t))return!1;if(BU.test(r))return i===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const $U=new fc(3e4,6e4);function vR(){const r=ni().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function KU(r){return new Promise((e,t)=>{function i(){vR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vR(),t(wr(r,"network-request-failed"))},timeout:$U.get()})}if(ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ni().gapi?.load)i();else{const a=Z6("iframefcb");return ni()[a]=()=>{gapi.load?i():t(wr(r,"network-request-failed"))},W6(`${J6()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw of=null,e})}let of=null;function YU(r){return of=of||KU(r),of}const QU=new fc(5e3,15e3),XU="__/auth/iframe",WU="emulator/auth/iframe",JU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e5(r){const e=r.config;Ce(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?nb(e,WU):`https://${r.config.authDomain}/${XU}`,i={apiKey:e.apiKey,appName:r.name,v:cl},a=ZU.get(r.config.apiHost);a&&(i.eid=a);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${hc(i).slice(1)}`}async function t5(r){const e=await YU(r),t=ni().gapi;return Ce(t,r,"internal-error"),e.open({where:document.body,url:e5(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JU,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=wr(r,"network-request-failed"),d=ni().setTimeout(()=>{l(c)},QU.get());function p(){ni().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}const n5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r5=500,i5=600,s5="_blank",a5="http://localhost";class _R{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o5(r,e,t,i=r5,a=i5){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...n5,width:i.toString(),height:a.toString(),top:l,left:c},g=bn().toLowerCase();t&&(d=TO(g)?s5:t),bO(g)&&(e=e||a5,p.scrollbars="yes");const v=Object.entries(p).reduce((x,[S,j])=>`${x}${S}=${j},`,"");if(F6(g)&&d!=="_self")return l5(e||"",d),new _R(null);const b=window.open(e||"",d,v);Ce(b,r,"popup-blocked");try{b.focus()}catch{}return new _R(b)}function l5(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const u5="__/auth/handler",c5="emulator/auth/handler",h5=encodeURIComponent("fac");async function bR(r,e,t,i,a,l){Ce(r.config.authDomain,r,"auth-domain-config-required"),Ce(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:cl,eventId:a};if(e instanceof ob){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",f3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof dc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await r._getAppCheckToken(),g=p?`#${h5}=${encodeURIComponent(p)}`:"";return`${f5(r)}?${hc(d).slice(1)}${g}`}function f5({config:r}){return r.emulator?nb(r,c5):`https://${r.authDomain}/${u5}`}const qv="webStorageSupport";class d5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kO,this._completeRedirectFn=PU,this._overrideRedirectResult=jU}async _openPopup(e,t,i,a){Li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await bR(e,t,i,t0(),a);return o5(e,l,ub())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await bR(e,t,i,t0(),a);return yU(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Li(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await t5(e),i=new UU(e);return t.register("authEvent",a=>(Ce(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qv,{type:qv},a=>{const l=a?.[0]?.[qv];l!==void 0&&t(!!l),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=HU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return RO()||EO()||sb()}}const p5=d5;var ER="@firebase/auth",TR="1.12.0";class m5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function g5(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y5(r){Yo(new ja("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ce(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CO(r)},g=new Q6(i,a,l,p);return tU(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Yo(new ja("auth-internal",e=>{const t=fd(e.getProvider("auth").getImmediate());return(i=>new m5(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ds(ER,TR,g5(r)),Ds(ER,TR,"esm2020")}const v5=300,_5=iO("authIdTokenMaxAge")||v5;let xR=null;const b5=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>_5)return;const a=t?.token;xR!==a&&(xR=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function E5(r=cO()){const e=Z0(r,"auth");if(e.isInitialized())return e.getImmediate();const t=eU(r,{popupRedirectResolver:p5,persistence:[AU,pU,kO]}),i=iO("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=b5(l.toString());cU(t,c,()=>c(t.currentUser)),uU(t,d=>c(d))}}const a=nO("auth");return a&&nU(t,`http://${a}`),t}function T5(){return document.getElementsByTagName("head")?.[0]??document}X6({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=a=>{const l=wr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",T5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y5("Browser");var x5="firebase",S5="12.8.0";Ds(x5,S5,"app");var SR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ms,HO;(function(){var r;function e(I,R){function O(){}O.prototype=R.prototype,I.F=R.prototype,I.prototype=new O,I.prototype.constructor=I,I.D=function(k,D,L){for(var N=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)N[Re-2]=arguments[Re];return R.prototype[D].apply(k,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,R,O){O||(O=0);const k=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)k[D]=R.charCodeAt(O++)|R.charCodeAt(O++)<<8|R.charCodeAt(O++)<<16|R.charCodeAt(O++)<<24;else for(D=0;D<16;++D)k[D]=R[O++]|R[O++]<<8|R[O++]<<16|R[O++]<<24;R=I.g[0],O=I.g[1],D=I.g[2];let L=I.g[3],N;N=R+(L^O&(D^L))+k[0]+3614090360&4294967295,R=O+(N<<7&4294967295|N>>>25),N=L+(D^R&(O^D))+k[1]+3905402710&4294967295,L=R+(N<<12&4294967295|N>>>20),N=D+(O^L&(R^O))+k[2]+606105819&4294967295,D=L+(N<<17&4294967295|N>>>15),N=O+(R^D&(L^R))+k[3]+3250441966&4294967295,O=D+(N<<22&4294967295|N>>>10),N=R+(L^O&(D^L))+k[4]+4118548399&4294967295,R=O+(N<<7&4294967295|N>>>25),N=L+(D^R&(O^D))+k[5]+1200080426&4294967295,L=R+(N<<12&4294967295|N>>>20),N=D+(O^L&(R^O))+k[6]+2821735955&4294967295,D=L+(N<<17&4294967295|N>>>15),N=O+(R^D&(L^R))+k[7]+4249261313&4294967295,O=D+(N<<22&4294967295|N>>>10),N=R+(L^O&(D^L))+k[8]+1770035416&4294967295,R=O+(N<<7&4294967295|N>>>25),N=L+(D^R&(O^D))+k[9]+2336552879&4294967295,L=R+(N<<12&4294967295|N>>>20),N=D+(O^L&(R^O))+k[10]+4294925233&4294967295,D=L+(N<<17&4294967295|N>>>15),N=O+(R^D&(L^R))+k[11]+2304563134&4294967295,O=D+(N<<22&4294967295|N>>>10),N=R+(L^O&(D^L))+k[12]+1804603682&4294967295,R=O+(N<<7&4294967295|N>>>25),N=L+(D^R&(O^D))+k[13]+4254626195&4294967295,L=R+(N<<12&4294967295|N>>>20),N=D+(O^L&(R^O))+k[14]+2792965006&4294967295,D=L+(N<<17&4294967295|N>>>15),N=O+(R^D&(L^R))+k[15]+1236535329&4294967295,O=D+(N<<22&4294967295|N>>>10),N=R+(D^L&(O^D))+k[1]+4129170786&4294967295,R=O+(N<<5&4294967295|N>>>27),N=L+(O^D&(R^O))+k[6]+3225465664&4294967295,L=R+(N<<9&4294967295|N>>>23),N=D+(R^O&(L^R))+k[11]+643717713&4294967295,D=L+(N<<14&4294967295|N>>>18),N=O+(L^R&(D^L))+k[0]+3921069994&4294967295,O=D+(N<<20&4294967295|N>>>12),N=R+(D^L&(O^D))+k[5]+3593408605&4294967295,R=O+(N<<5&4294967295|N>>>27),N=L+(O^D&(R^O))+k[10]+38016083&4294967295,L=R+(N<<9&4294967295|N>>>23),N=D+(R^O&(L^R))+k[15]+3634488961&4294967295,D=L+(N<<14&4294967295|N>>>18),N=O+(L^R&(D^L))+k[4]+3889429448&4294967295,O=D+(N<<20&4294967295|N>>>12),N=R+(D^L&(O^D))+k[9]+568446438&4294967295,R=O+(N<<5&4294967295|N>>>27),N=L+(O^D&(R^O))+k[14]+3275163606&4294967295,L=R+(N<<9&4294967295|N>>>23),N=D+(R^O&(L^R))+k[3]+4107603335&4294967295,D=L+(N<<14&4294967295|N>>>18),N=O+(L^R&(D^L))+k[8]+1163531501&4294967295,O=D+(N<<20&4294967295|N>>>12),N=R+(D^L&(O^D))+k[13]+2850285829&4294967295,R=O+(N<<5&4294967295|N>>>27),N=L+(O^D&(R^O))+k[2]+4243563512&4294967295,L=R+(N<<9&4294967295|N>>>23),N=D+(R^O&(L^R))+k[7]+1735328473&4294967295,D=L+(N<<14&4294967295|N>>>18),N=O+(L^R&(D^L))+k[12]+2368359562&4294967295,O=D+(N<<20&4294967295|N>>>12),N=R+(O^D^L)+k[5]+4294588738&4294967295,R=O+(N<<4&4294967295|N>>>28),N=L+(R^O^D)+k[8]+2272392833&4294967295,L=R+(N<<11&4294967295|N>>>21),N=D+(L^R^O)+k[11]+1839030562&4294967295,D=L+(N<<16&4294967295|N>>>16),N=O+(D^L^R)+k[14]+4259657740&4294967295,O=D+(N<<23&4294967295|N>>>9),N=R+(O^D^L)+k[1]+2763975236&4294967295,R=O+(N<<4&4294967295|N>>>28),N=L+(R^O^D)+k[4]+1272893353&4294967295,L=R+(N<<11&4294967295|N>>>21),N=D+(L^R^O)+k[7]+4139469664&4294967295,D=L+(N<<16&4294967295|N>>>16),N=O+(D^L^R)+k[10]+3200236656&4294967295,O=D+(N<<23&4294967295|N>>>9),N=R+(O^D^L)+k[13]+681279174&4294967295,R=O+(N<<4&4294967295|N>>>28),N=L+(R^O^D)+k[0]+3936430074&4294967295,L=R+(N<<11&4294967295|N>>>21),N=D+(L^R^O)+k[3]+3572445317&4294967295,D=L+(N<<16&4294967295|N>>>16),N=O+(D^L^R)+k[6]+76029189&4294967295,O=D+(N<<23&4294967295|N>>>9),N=R+(O^D^L)+k[9]+3654602809&4294967295,R=O+(N<<4&4294967295|N>>>28),N=L+(R^O^D)+k[12]+3873151461&4294967295,L=R+(N<<11&4294967295|N>>>21),N=D+(L^R^O)+k[15]+530742520&4294967295,D=L+(N<<16&4294967295|N>>>16),N=O+(D^L^R)+k[2]+3299628645&4294967295,O=D+(N<<23&4294967295|N>>>9),N=R+(D^(O|~L))+k[0]+4096336452&4294967295,R=O+(N<<6&4294967295|N>>>26),N=L+(O^(R|~D))+k[7]+1126891415&4294967295,L=R+(N<<10&4294967295|N>>>22),N=D+(R^(L|~O))+k[14]+2878612391&4294967295,D=L+(N<<15&4294967295|N>>>17),N=O+(L^(D|~R))+k[5]+4237533241&4294967295,O=D+(N<<21&4294967295|N>>>11),N=R+(D^(O|~L))+k[12]+1700485571&4294967295,R=O+(N<<6&4294967295|N>>>26),N=L+(O^(R|~D))+k[3]+2399980690&4294967295,L=R+(N<<10&4294967295|N>>>22),N=D+(R^(L|~O))+k[10]+4293915773&4294967295,D=L+(N<<15&4294967295|N>>>17),N=O+(L^(D|~R))+k[1]+2240044497&4294967295,O=D+(N<<21&4294967295|N>>>11),N=R+(D^(O|~L))+k[8]+1873313359&4294967295,R=O+(N<<6&4294967295|N>>>26),N=L+(O^(R|~D))+k[15]+4264355552&4294967295,L=R+(N<<10&4294967295|N>>>22),N=D+(R^(L|~O))+k[6]+2734768916&4294967295,D=L+(N<<15&4294967295|N>>>17),N=O+(L^(D|~R))+k[13]+1309151649&4294967295,O=D+(N<<21&4294967295|N>>>11),N=R+(D^(O|~L))+k[4]+4149444226&4294967295,R=O+(N<<6&4294967295|N>>>26),N=L+(O^(R|~D))+k[11]+3174756917&4294967295,L=R+(N<<10&4294967295|N>>>22),N=D+(R^(L|~O))+k[2]+718787259&4294967295,D=L+(N<<15&4294967295|N>>>17),N=O+(L^(D|~R))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+L&4294967295}i.prototype.v=function(I,R){R===void 0&&(R=I.length);const O=R-this.blockSize,k=this.C;let D=this.h,L=0;for(;L<R;){if(D==0)for(;L<=O;)a(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<R;)if(k[D++]=I.charCodeAt(L++),D==this.blockSize){a(this,k),D=0;break}}else for(;L<R;)if(k[D++]=I[L++],D==this.blockSize){a(this,k),D=0;break}}this.h=D,this.o+=R},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var O=I.length-8;O<I.length;++O)I[O]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,O=0;O<4;++O)for(let k=0;k<32;k+=8)I[R++]=this.g[O]>>>k&255;return I};function l(I,R){var O=d;return Object.prototype.hasOwnProperty.call(O,I)?O[I]:O[I]=R(I)}function c(I,R){this.h=R;const O=[];let k=!0;for(let D=I.length-1;D>=0;D--){const L=I[D]|0;k&&L==R||(O[D]=L,k=!1)}this.g=O}var d={};function p(I){return-128<=I&&I<128?l(I,function(R){return new c([R|0],R<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return M(g(-I));const R=[];let O=1;for(let k=0;I>=O;k++)R[k]=I/O|0,O*=4294967296;return new c(R,0)}function v(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return M(v(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=g(Math.pow(R,8));let k=b;for(let L=0;L<I.length;L+=8){var D=Math.min(8,I.length-L);const N=parseInt(I.substring(L,L+D),R);D<8?(D=g(Math.pow(R,D)),k=k.j(D).add(g(N))):(k=k.j(O),k=k.add(g(N)))}return k}var b=p(0),x=p(1),S=p(16777216);r=c.prototype,r.m=function(){if(P(this))return-M(this).m();let I=0,R=1;for(let O=0;O<this.g.length;O++){const k=this.i(O);I+=(k>=0?k:4294967296+k)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(j(this))return"0";if(P(this))return"-"+M(this).toString(I);const R=g(Math.pow(I,6));var O=this;let k="";for(;;){const D=le(O,R).g;O=F(O,D.j(R));let L=((O.g.length>0?O.g[0]:O.h)>>>0).toString(I);if(O=D,j(O))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function j(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function P(I){return I.h==-1}r.l=function(I){return I=F(this,I),P(I)?-1:j(I)?0:1};function M(I){const R=I.g.length,O=[];for(let k=0;k<R;k++)O[k]=~I.g[k];return new c(O,~I.h).add(x)}r.abs=function(){return P(this)?M(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),O=[];let k=0;for(let D=0;D<=R;D++){let L=k+(this.i(D)&65535)+(I.i(D)&65535),N=(L>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);k=N>>>16,L&=65535,N&=65535,O[D]=N<<16|L}return new c(O,O[O.length-1]&-2147483648?-1:0)};function F(I,R){return I.add(M(R))}r.j=function(I){if(j(this)||j(I))return b;if(P(this))return P(I)?M(this).j(M(I)):M(M(this).j(I));if(P(I))return M(this.j(M(I)));if(this.l(S)<0&&I.l(S)<0)return g(this.m()*I.m());const R=this.g.length+I.g.length,O=[];for(var k=0;k<2*R;k++)O[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<I.g.length;D++){const L=this.i(k)>>>16,N=this.i(k)&65535,Re=I.i(D)>>>16,Ie=I.i(D)&65535;O[2*k+2*D]+=N*Ie,z(O,2*k+2*D),O[2*k+2*D+1]+=L*Ie,z(O,2*k+2*D+1),O[2*k+2*D+1]+=N*Re,z(O,2*k+2*D+1),O[2*k+2*D+2]+=L*Re,z(O,2*k+2*D+2)}for(I=0;I<R;I++)O[I]=O[2*I+1]<<16|O[2*I];for(I=R;I<2*R;I++)O[I]=0;return new c(O,0)};function z(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function W(I,R){this.g=I,this.h=R}function le(I,R){if(j(R))throw Error("division by zero");if(j(I))return new W(b,b);if(P(I))return R=le(M(I),R),new W(M(R.g),M(R.h));if(P(R))return R=le(I,M(R)),new W(M(R.g),R.h);if(I.g.length>30){if(P(I)||P(R))throw Error("slowDivide_ only works with positive integers.");for(var O=x,k=R;k.l(I)<=0;)O=ce(O),k=ce(k);var D=oe(O,1),L=oe(k,1);for(k=oe(k,2),O=oe(O,2);!j(k);){var N=L.add(k);N.l(I)<=0&&(D=D.add(O),L=N),k=oe(k,1),O=oe(O,1)}return R=F(I,D.j(R)),new W(D,R)}for(D=b;I.l(R)>=0;){for(O=Math.max(1,Math.floor(I.m()/R.m())),k=Math.ceil(Math.log(O)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=g(O),N=L.j(R);P(N)||N.l(I)>0;)O-=k,L=g(O),N=L.j(R);j(L)&&(L=x),D=D.add(L),I=F(I,N)}return new W(D,I)}r.B=function(I){return le(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),O=[];for(let k=0;k<R;k++)O[k]=this.i(k)&I.i(k);return new c(O,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),O=[];for(let k=0;k<R;k++)O[k]=this.i(k)|I.i(k);return new c(O,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),O=[];for(let k=0;k<R;k++)O[k]=this.i(k)^I.i(k);return new c(O,this.h^I.h)};function ce(I){const R=I.g.length+1,O=[];for(let k=0;k<R;k++)O[k]=I.i(k)<<1|I.i(k-1)>>>31;return new c(O,I.h)}function oe(I,R){const O=R>>5;R%=32;const k=I.g.length-O,D=[];for(let L=0;L<k;L++)D[L]=R>0?I.i(L+O)>>>R|I.i(L+O+1)<<32-R:I.i(L+O);return new c(D,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,HO=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Ms=c}).apply(typeof SR<"u"?SR:typeof self<"u"?self:typeof window<"u"?window:{});var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var GO,Iu,$O,lf,i0,KO,YO,QO;(function(){var r,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qh=="object"&&Qh];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function a(h,_){if(_)e:{var T=i;h=h.split(".");for(var A=0;A<h.length-1;A++){var G=h[A];if(!(G in T))break e;T=T[G]}h=h[h.length-1],A=T[h],_=_(A),_!=A&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var T=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&T.push([A,_[A]]);return T}});var l=l||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,T){return h.call.apply(h.bind,arguments)}function g(h,_,T){return g=p,g.apply(null,arguments)}function v(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function b(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(A,G,J){for(var fe=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)fe[ke-2]=arguments[ke];return _.prototype[G].apply(A,fe)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const _=h.length;if(_>0){const T=Array(_);for(let A=0;A<_;A++)T[A]=h[A];return T}return[]}function j(h,_){for(let A=1;A<arguments.length;A++){const G=arguments[A];var T=typeof G;if(T=T!="object"?T:G?Array.isArray(G)?"array":T:"null",T=="array"||T=="object"&&typeof G.length=="number"){T=h.length||0;const J=G.length||0;h.length=T+J;for(let fe=0;fe<J;fe++)h[T+fe]=G[fe]}else h.push(G)}}class P{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(h){c.setTimeout(()=>{throw h},0)}function F(){var h=I;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class z{constructor(){this.h=this.g=null}add(_,T){const A=W.get();A.set(_,T),this.h?this.h.next=A:this.g=A,this.h=A}}var W=new P(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,oe=!1,I=new z,R=()=>{const h=Promise.resolve(void 0);ce=()=>{h.then(O)}};function O(){for(var h;h=F();){try{h.h.call(h.g)}catch(T){M(T)}var _=W;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}oe=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Re(h,_){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(Re,D),Re.prototype.init=function(h,_){const T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Re.Z.h.call(this)},Re.prototype.h=function(){Re.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),ee=0;function he(h,_,T,A,G){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!A,this.ha=G,this.key=++ee,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Pe(h,_,T){for(const A in h)_.call(T,h[A],A,h)}function Fe(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function U(h){const _={};for(const T in h)_[T]=h[T];return _}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,_){let T,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(T in A)h[T]=A[T];for(let J=0;J<ne.length;J++)T=ne[J],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,_,T,A,G){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const fe=Q(h,_,A,G);return fe>-1?(_=h[fe],T||(_.fa=!1)):(_=new he(_,this.src,J,!!A,G),_.fa=T,h.push(_)),_};function X(h,_){const T=_.type;if(T in h.g){var A=h.g[T],G=Array.prototype.indexOf.call(A,_,void 0),J;(J=G>=0)&&Array.prototype.splice.call(A,G,1),J&&(ye(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Q(h,_,T,A){for(let G=0;G<h.length;++G){const J=h[G];if(!J.da&&J.listener==_&&J.capture==!!T&&J.ha==A)return G}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),Me={};function be(h,_,T,A,G){if(Array.isArray(_)){for(let J=0;J<_.length;J++)be(h,_[J],T,A,G);return null}return T=Gn(T),h&&h[Ie]?h.J(_,T,d(A)?!!A.capture:!1,G):je(h,_,T,!1,A,G)}function je(h,_,T,A,G,J){if(!_)throw Error("Invalid event type");const fe=d(G)?!!G.capture:!!G;let ke=at(h);if(ke||(h[pe]=ke=new de(h)),T=ke.add(_,T,A,fe,J),T.proxy)return T;if(A=ze(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)L||(G=fe),G===void 0&&(G=!1),h.addEventListener(_.toString(),A,G);else if(h.attachEvent)h.attachEvent(qe(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ze(){function h(T){return _.call(h.src,h.listener,T)}const _=Ae;return h}function we(h,_,T,A,G){if(Array.isArray(_))for(var J=0;J<_.length;J++)we(h,_[J],T,A,G);else A=d(A)?!!A.capture:!!A,T=Gn(T),h&&h[Ie]?(h=h.i,J=String(_).toString(),J in h.g&&(_=h.g[J],T=Q(_,T,A,G),T>-1&&(ye(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[J],h.h--)))):h&&(h=at(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Q(_,T,A,G)),(T=h>-1?_[h]:null)&&He(T))}function He(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Ie])X(_.i,h);else{var T=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(T,A,h.capture):_.detachEvent?_.detachEvent(qe(T),A):_.addListener&&_.removeListener&&_.removeListener(A),(T=at(_))?(X(T,h),T.h==0&&(T.src=null,_[pe]=null)):ye(h)}}}function qe(h){return h in Me?Me[h]:Me[h]="on"+h}function Ae(h,_){if(h.da)h=!0;else{_=new Re(_,this);const T=h.listener,A=h.ha||h.src;h.fa&&He(h),h=T.call(A,_)}return h}function at(h){return h=h[pe],h instanceof de?h:null}var Le="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gn(h){return typeof h=="function"?h:(h[Le]||(h[Le]=function(_){return h.handleEvent(_)}),h[Le])}function pt(){k.call(this),this.i=new de(this),this.M=this,this.G=null}b(pt,k),pt.prototype[Ie]=!0,pt.prototype.removeEventListener=function(h,_,T,A){we(this,h,_,T,A)};function Rt(h,_){var T,A=h.G;if(A)for(T=[];A;A=A.G)T.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new D(_,h);else if(_ instanceof D)_.target=_.target||h;else{var G=_;_=new D(A,h),ue(_,G)}G=!0;let J,fe;if(T)for(fe=T.length-1;fe>=0;fe--)J=_.g=T[fe],G=Mn(J,A,!0,_)&&G;if(J=_.g=h,G=Mn(J,A,!0,_)&&G,G=Mn(J,A,!1,_)&&G,T)for(fe=0;fe<T.length;fe++)J=_.g=T[fe],G=Mn(J,A,!1,_)&&G}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let A=0;A<T.length;A++)ye(T[A]);delete h.g[_],h.h--}}this.G=null},pt.prototype.J=function(h,_,T,A){return this.i.add(String(h),_,!1,T,A)},pt.prototype.K=function(h,_,T,A){return this.i.add(String(h),_,!0,T,A)};function Mn(h,_,T,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let J=0;J<_.length;++J){const fe=_[J];if(fe&&!fe.da&&fe.capture==T){const ke=fe.listener,It=fe.ha||fe.src;fe.fa&&X(h.i,fe),G=ke.call(It,A)!==!1&&G}}return G&&!A.defaultPrevented}function $n(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function Qt(h){h.g=$n(()=>{h.g=null,h.i&&(h.i=!1,Qt(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Mt extends k{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Qt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kn(h){k.call(this),this.h=h,this.g={}}b(Kn,k);var Bs=[];function Hi(h){Pe(h.g,function(_,T){this.g.hasOwnProperty(T)&&He(_)},h),h.g={}}Kn.prototype.N=function(){Kn.Z.N.call(this),Hi(this)},Kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=c.JSON.stringify,$a=c.JSON.parse,Fs=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ka(){}function Hs(){}var jt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yt(){D.call(this,"d")}b(yt,D);function Yn(){D.call(this,"c")}b(Yn,D);var Ct={},Ec=null;function Ya(){return Ec=Ec||new pt}Ct.Ia="serverreachability";function Tc(h){D.call(this,Ct.Ia,h)}b(Tc,D);function Dr(h){const _=Ya();Rt(_,new Tc(_))}Ct.STAT_EVENT="statevent";function Gs(h,_){D.call(this,Ct.STAT_EVENT,h),this.stat=_}b(Gs,D);function kt(h){const _=Ya();Rt(_,new Gs(_,h))}Ct.Ja="timingevent";function Mr(h,_){D.call(this,Ct.Ja,h),this.size=_}b(Mr,D);function jr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function hr(){this.g=!0}hr.prototype.ua=function(){this.g=!1};function Nd(h,_,T,A,G,J){h.info(function(){if(h.g)if(J){var fe="",ke=J.split("&");for(let rt=0;rt<ke.length;rt++){var It=ke[rt].split("=");if(It.length>1){const Et=It[0];It=It[1];const Jn=Et.split("_");fe=Jn.length>=2&&Jn[1]=="type"?fe+(Et+"="+It+"&"):fe+(Et+"=redacted&")}}}else fe=null;else fe=J;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+_+`
`+T+`
`+fe})}function xc(h,_,T,A,G,J,fe){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+_+`
`+T+`
`+J+" "+fe})}function kr(h,_,T,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Od(h,T)+(A?" "+A:"")})}function $s(h,_){h.info(function(){return"TIMEOUT: "+_})}hr.prototype.info=function(){};function Od(h,_){if(!h.g)return _;if(!_)return null;try{const J=JSON.parse(_);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var T=J[h];if(!(T.length<2)){var A=T[1];if(Array.isArray(A)&&!(A.length<1)){var G=A[0];if(G!="noop"&&G!="stop"&&G!="close")for(let fe=1;fe<A.length;fe++)A[fe]=""}}}}return En(J)}catch{return _}}var Ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_l={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bl;function Ys(){}b(Ys,Ka),Ys.prototype.g=function(){return new XMLHttpRequest},bl=new Ys;function ui(h){return encodeURIComponent(String(h))}function Sc(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function fr(h,_,T,A){this.j=h,this.i=_,this.l=T,this.S=A||1,this.V=new Kn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dr}function dr(){this.i=null,this.g="",this.h=!1}var Vt={},Zt={};function Vr(h,_,T){h.M=1,h.A=Qs(Lt(_)),h.u=T,h.R=!0,Qa(h,null)}function Qa(h,_){h.F=Date.now(),Pr(h),h.B=Lt(h.A);var T=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Za(T.i,"t",A),h.C=0,T=h.j.L,h.h=new dr,h.g=Uc(h.j,T?_:null,!h.u),h.P>0&&(h.O=new Mt(g(h.Y,h,h.g),h.P)),_=h.V,T=h.g,A=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(Bs[0]=G.toString()),G=Bs);for(let J=0;J<G.length;J++){const fe=be(T,G[J],A||_.handleEvent,!1,_.h||_);if(!fe)break;_.g[fe.key]=fe}_=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Dr(),Nd(h.i,h.v,h.B,h.l,h.S,h.u)}fr.prototype.ba=function(h){h=h.target;const _=this.O;_&&gr(h)==3?_.j():this.Y(h)},fr.prototype.Y=function(h){try{if(h==this.g)e:{const ke=gr(this.g),It=this.g.ya(),rt=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||ke!=4||It==7||(It==8||rt<=0?Dr(3):Dr(2)),Lr(this);var _=this.g.ca();this.X=_;var T=Dd(this);if(this.o=_==200,xc(this.i,this.v,this.B,this.l,this.S,ke,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,G=this.g;if((A=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var J=A;break t}}J=null}if(h=J)kr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ur(this,h);else{this.o=!1,this.m=3,kt(12),jn(this),Qn(this);break e}}if(this.R){h=!0;let Et;for(;!this.K&&this.C<T.length;)if(Et=Ac(this,T),Et==Zt){ke==4&&(this.m=4,kt(14),h=!1),kr(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Vt){this.m=4,kt(15),kr(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else kr(this.i,this.l,Et,null),Ur(this,Et);if(wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||T.length!=0||this.h.h||(this.m=1,kt(16),h=!1),this.o=this.o&&h,!h)kr(this.i,this.l,T,"[Invalid Chunked Response]"),jn(this),Qn(this);else if(T.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),kl(fe),fe.P=!0,kt(11))}}else kr(this.i,this.l,T,null),Ur(this,T);ke==4&&jn(this),this.o&&!this.K&&(ke==4?kc(this.j,this):(this.o=!1,Pr(this)))}else hi(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),jn(this),Qn(this)}}}catch{}};function Dd(h){if(!wc(h))return h.g.la();const _=sn(h.g);if(_==="")return"";let T="";const A=_.length,G=gr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return jn(h),Qn(h),"";h.h.i=new c.TextDecoder}for(let J=0;J<A;J++)h.h.h=!0,T+=h.h.i.decode(_[J],{stream:!(G&&J==A-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function wc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ac(h,_){var T=h.C,A=_.indexOf(`
`,T);return A==-1?Zt:(T=Number(_.substring(T,A)),isNaN(T)?Vt:(A+=1,A+T>_.length?Zt:(_=_.slice(A,A+T),h.C=A+T,_)))}fr.prototype.cancel=function(){this.K=!0,jn(this)};function Pr(h){h.T=Date.now()+h.H,Xa(h,h.H)}function Xa(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=jr(g(h.aa,h),_)}function Lr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}fr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?($s(this.i,this.B),this.M!=2&&(Dr(),kt(17)),jn(this),this.m=2,Qn(this)):Xa(this,this.T-h)};function Qn(h){h.j.I==0||h.K||kc(h.j,h)}function jn(h){Lr(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Hi(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Ur(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||zr(T.h,h))){if(!h.L&&zr(T.h,h)&&T.I==3){try{var A=T.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)io(T),Ji(T);else break e;na(T),kt(18)}}else T.xa=G[1],0<T.xa-T.K&&G[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=jr(g(T.Va,T),6e3));qr(T.h)<=1&&T.ta&&(T.ta=void 0)}else Kr(T,11)}else if((h.L||T.g==h)&&io(T),!N(_))for(G=T.Ba.g.parse(_),_=0;_<G.length;_++){let rt=G[_];const Et=rt[0];if(!(Et<=T.K))if(T.K=Et,rt=rt[1],T.I==2)if(rt[0]=="c"){T.M=rt[1],T.ba=rt[2];const Jn=rt[3];Jn!=null&&(T.ka=Jn,T.j.info("VER="+T.ka));const Yr=rt[4];Yr!=null&&(T.za=Yr,T.j.info("SVER="+T.za));const yr=rt[5];yr!=null&&typeof yr=="number"&&yr>0&&(A=1.5*yr,T.O=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const vr=h.g;if(vr){const ra=vr.g?vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var J=A.h;J.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(xl(J,J.h),J.h=null))}if(A.G){const so=vr.g?vr.g.getResponseHeader("X-HTTP-Session-Id"):null;so&&(A.wa=so,ot(A.J,A.G,so))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),A=T;var fe=h;if(A.na=Lc(A,A.L?A.ba:null,A.W),fe.L){Sl(A.h,fe);var ke=fe,It=A.O;It&&(ke.H=It),ke.D&&(Lr(ke),Pr(ke)),A.g=fe}else Mc(A);T.i.length>0&&$r(T)}else rt[0]!="stop"&&rt[0]!="close"||Kr(T,7);else T.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Kr(T,7):Ml(T):rt[0]!="noop"&&T.l&&T.l.qa(rt),T.A=0)}}Dr(4)}catch{}}var Pt=class{constructor(h,_){this.g=h,this.map=_}};function El(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function qr(h){return h.h?1:h.g?h.g.size:0}function zr(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function xl(h,_){h.g?h.g.add(_):h.h=_}function Sl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}El.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function wl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return S(h.i)}var Rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const A=h[T].indexOf("=");let G,J=null;A>=0?(G=h[T].substring(0,A),J=h[T].substring(A+1)):G=h[T],_(G,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function kn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof kn?(this.l=h.l,en(this,h.j),this.o=h.o,this.g=h.g,Gi(this,h.u),this.h=h.h,Al(this,Oc(h.i)),this.m=h.m):h&&(_=String(h).match(Rc))?(this.l=!1,en(this,_[1]||"",!0),this.o=Br(_[2]||""),this.g=Br(_[3]||"",!0),Gi(this,_[4]),this.h=Br(_[5]||"",!0),Al(this,_[6]||"",!0),this.m=Br(_[7]||"")):(this.l=!1,this.i=new Ki(null,this.l))}kn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Xs(_,Ja,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Xs(_,Ja,!0),"@"),h.push(ui(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Xs(T,T.charAt(0)=="/"?Rl:Cc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Xs(T,Ic)),h.join("")},kn.prototype.resolve=function(h){const _=Lt(this);let T=!!h.j;T?en(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var A=h.h;if(T)Gi(_,h.u);else if(T=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var G=_.h.lastIndexOf("/");G!=-1&&(A=_.h.slice(0,G+1)+A)}if(G=A,G==".."||G==".")A="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){A=G.lastIndexOf("/",0)==0,G=G.split("/");const J=[];for(let fe=0;fe<G.length;){const ke=G[fe++];ke=="."?A&&fe==G.length&&J.push(""):ke==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),A&&fe==G.length&&J.push("")):(J.push(ke),A=!0)}A=J.join("/")}else A=G}return T?_.h=A:T=h.i.toString()!=="",T?Al(_,Oc(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Lt(h){return new kn(h)}function en(h,_,T){h.j=T?Br(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Gi(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Al(h,_,T){_ instanceof Ki?(h.i=_,eo(h.i,h.l)):(T||(_=Xs(_,$i)),h.i=new Ki(_,h.l))}function ot(h,_,T){h.i.set(_,T)}function Qs(h){return ot(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Br(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Xs(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,Sn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Sn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ja=/[#\/\?@]/g,Cc=/[#\?:]/g,Rl=/[#\?]/g,$i=/[#\?@]/g,Ic=/#/g;function Ki(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function wn(h){h.g||(h.g=new Map,h.h=0,h.i&&Wa(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}r=Ki.prototype,r.add=function(h,_){wn(this),this.i=null,h=Yi(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function Nc(h,_){wn(h),_=Yi(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Cl(h,_){return wn(h),_=Yi(h,_),h.g.has(_)}r.forEach=function(h,_){wn(this),this.g.forEach(function(T,A){T.forEach(function(G){h.call(_,G,A,this)},this)},this)};function Il(h,_){wn(h);let T=[];if(typeof _=="string")Cl(h,_)&&(T=T.concat(h.g.get(Yi(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}r.set=function(h,_){return wn(this),this.i=null,h=Yi(this,h),Cl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},r.get=function(h,_){return h?(h=Il(this,h),h.length>0?String(h[0]):_):_};function Za(h,_,T){Nc(h,_),T.length>0&&(h.i=null,h.g.set(Yi(h,_),S(T)),h.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var T=_[A];const G=ui(T);T=Il(this,T);for(let J=0;J<T.length;J++){let fe=G;T[J]!==""&&(fe+="="+ui(T[J])),h.push(fe)}}return this.i=h.join("&")};function Oc(h){const _=new Ki;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Yi(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function eo(h,_){_&&!h.j&&(wn(h),h.i=null,h.g.forEach(function(T,A){const G=A.toLowerCase();A!=G&&(Nc(this,A),Za(this,G,T))},h)),h.j=_}function pr(h,_){const T=new hr;if(c.Image){const A=new Image;A.onload=v(Xn,T,"TestLoadImage: loaded",!0,_,A),A.onerror=v(Xn,T,"TestLoadImage: error",!1,_,A),A.onabort=v(Xn,T,"TestLoadImage: abort",!1,_,A),A.ontimeout=v(Xn,T,"TestLoadImage: timeout",!1,_,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function Nl(h,_){const T=new hr,A=new AbortController,G=setTimeout(()=>{A.abort(),Xn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then(J=>{clearTimeout(G),J.ok?Xn(T,"TestPingServer: ok",!0,_):Xn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Xn(T,"TestPingServer: error",!1,_)})}function Xn(h,_,T,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(T)}catch{}}function Qi(){this.g=new Fs}function Fr(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Fr,Ka),Fr.prototype.g=function(){return new Ws(this.i,this.h)};function Ws(h,_){pt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ws,pt),r=Ws.prototype,r.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,mr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xi(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;to(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function to(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Xi(this):mr(this),this.readyState==3&&to(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,Xi(this))},r.Na=function(h){this.g&&(this.response=h,Xi(this))},r.ga=function(){this.g&&Xi(this)};function Xi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,mr(h)}r.setRequestHeader=function(h,_){this.A.append(h,_)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function mr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Wn(h){let _="";return Pe(h,function(T,A){_+=A,_+=":",_+=T,_+=`\r
`}),_}function Js(h,_,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=Wn(T),typeof h=="string"?T!=null&&ui(T):ot(h,_,T))}function ct(h){pt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ct,pt);var Hr=/^https?$/i,Ol=["POST","PUT"];r=ct.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,_,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bl.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(J){Zs(this,J);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)T.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const J of A.keys())T.set(J,A.get(J));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Ol,_,void 0)>=0)||A||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,fe]of T)this.g.setRequestHeader(J,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){Zs(this,J)}};function Zs(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Dl(h),ci(h)}function Dl(h){h.A||(h.A=!0,Rt(h,"complete"),Rt(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Rt(this,"complete"),Rt(this,"abort"),ci(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ci(this,!0)),ct.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ea(this):this.Xa())},r.Xa=function(){ea(this)};function ea(h){if(h.h&&typeof l<"u"){if(h.v&&gr(h)==4)setTimeout(h.Ca.bind(h),0);else if(Rt(h,"readystatechange"),gr(h)==4){h.h=!1;try{const J=h.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var A;if(A=J===0){let fe=String(h.D).match(Rc)[1]||null;!fe&&c.self&&c.self.location&&(fe=c.self.location.protocol.slice(0,-1)),A=!Hr.test(fe?fe.toLowerCase():"")}T=A}if(T)Rt(h,"complete"),Rt(h,"success");else{h.o=6;try{var G=gr(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",Dl(h)}}finally{ci(h)}}}}function ci(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||Rt(h,"ready");try{T.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function gr(h){return h.g?h.g.readyState:0}r.ca=function(){try{return gr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),$a(_)}};function sn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function hi(h){const _={};h=(h.g&&gr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(N(h[A]))continue;var T=Sc(h[A]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=_[G]||[];_[G]=J,J.push(T)}Fe(_,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Wi(h){this.za=0,this.i=[],this.j=new hr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gr("baseRetryDelayMs",5e3,h),this.Za=Gr("retryDelaySeedMs",1e4,h),this.Ta=Gr("forwardChannelMaxRetries",2,h),this.va=Gr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new El(h&&h.concurrentRequestLimit),this.Ba=new Qi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Wi.prototype,r.ka=8,r.I=1,r.connect=function(h,_,T,A){kt(0),this.W=h,this.H=_||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.J=Lc(this,null,this.W),$r(this)};function Ml(h){if(no(h),h.I==3){var _=h.V++,T=Lt(h.J);if(ot(T,"SID",h.M),ot(T,"RID",_),ot(T,"TYPE","terminate"),ta(h,T),_=new fr(h,h.j,_),_.M=2,_.A=Qs(Lt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=Uc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Pr(_)}Pc(h)}function Ji(h){h.g&&(kl(h),h.g.cancel(),h.g=null)}function no(h){Ji(h),h.v&&(c.clearTimeout(h.v),h.v=null),io(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function $r(h){if(!Tl(h.h)&&!h.m){h.m=!0;var _=h.Ea;ce||R(),oe||(ce(),oe=!0),I.add(_,h),h.D=0}}function ro(h,_){return qr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=jr(g(h.Ea,h,_),Vc(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new fr(this,this.j,h);let J=this.o;if(this.U&&(J?(J=U(J),ue(J,this.U)):J=this.U),this.u!==null||this.R||(G.J=J,J=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Dc(this,G,_),T=Lt(this.J),ot(T,"RID",h),ot(T,"CVER",22),this.G&&ot(T,"X-HTTP-Session-Id",this.G),ta(this,T),J&&(this.R?_="headers="+ui(Wn(J))+"&"+_:this.u&&Js(T,this.u,J)),xl(this.h,G),this.Ra&&ot(T,"TYPE","init"),this.S?(ot(T,"$req",_),ot(T,"SID","null"),G.U=!0,Vr(G,T,null)):Vr(G,T,_),this.I=2}}else this.I==3&&(h?jl(this,h):this.i.length==0||Tl(this.h)||jl(this))};function jl(h,_){var T;_?T=_.l:T=h.V++;const A=Lt(h.J);ot(A,"SID",h.M),ot(A,"RID",T),ot(A,"AID",h.K),ta(h,A),h.u&&h.o&&Js(A,h.u,h.o),T=new fr(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Dc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),xl(h.h,T),Vr(T,A,_)}function ta(h,_){h.H&&Pe(h.H,function(T,A){ot(_,A,T)}),h.l&&Pe({},function(T,A){ot(_,A,T)})}function Dc(h,_,T){T=Math.min(h.i.length,T);const A=h.l?g(h.l.Ka,h.l,h):null;e:{var G=h.i;let ke=-1;for(;;){const It=["count="+T];ke==-1?T>0?(ke=G[0].g,It.push("ofs="+ke)):ke=0:It.push("ofs="+ke);let rt=!0;for(let Et=0;Et<T;Et++){var J=G[Et].g;const Jn=G[Et].map;if(J-=ke,J<0)ke=Math.max(0,G[Et].g-100),rt=!1;else try{J="req"+J+"_"||"";try{var fe=Jn instanceof Map?Jn:Object.entries(Jn);for(const[Yr,yr]of fe){let vr=yr;d(yr)&&(vr=En(yr)),It.push(J+Yr+"="+encodeURIComponent(vr))}}catch(Yr){throw It.push(J+"type="+encodeURIComponent("_badmap")),Yr}}catch{A&&A(Jn)}}if(rt){fe=It.join("&");break e}}fe=void 0}return h=h.i.splice(0,T),_.G=h,fe}function Mc(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ce||R(),oe||(ce(),oe=!0),I.add(_,h),h.A=0}}function na(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=jr(g(h.Da,h),Vc(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,jc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=jr(g(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),Ji(this),jc(this))};function kl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function jc(h){h.g=new fr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Lt(h.na);ot(_,"RID","rpc"),ot(_,"SID",h.M),ot(_,"AID",h.K),ot(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&ot(_,"TO",h.ia),ot(_,"TYPE","xmlhttp"),ta(h,_),h.u&&h.o&&Js(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Qs(Lt(_)),T.u=null,T.R=!0,Qa(T,h)}r.Va=function(){this.C!=null&&(this.C=null,Ji(this),na(this),kt(19))};function io(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function kc(h,_){var T=null;if(h.g==_){io(h),kl(h),h.g=null;var A=2}else if(zr(h.h,_))T=_.G,Sl(h.h,_),A=1;else return;if(h.I!=0){if(_.o)if(A==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var G=h.D;A=Ya(),Rt(A,new Mr(A,T)),$r(h)}else Mc(h);else if(G=_.m,G==3||G==0&&_.X>0||!(A==1&&ro(h,_)||A==2&&na(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),G){case 1:Kr(h,5);break;case 4:Kr(h,10);break;case 3:Kr(h,6);break;default:Kr(h,2)}}}function Vc(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function Kr(h,_){if(h.j.info("Error code "+_),_==2){var T=g(h.bb,h),A=h.Ua;const G=!A;A=new kn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||en(A,"https"),Qs(A),G?pr(A.toString(),T):Nl(A.toString(),T)}else kt(2);h.I=0,h.l&&h.l.pa(_),Pc(h),no(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Pc(h){if(h.I=0,h.ja=[],h.l){const _=wl(h.h);(_.length!=0||h.i.length!=0)&&(j(h.ja,_),j(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function Lc(h,_,T){var A=T instanceof kn?Lt(T):new kn(T);if(A.g!="")_&&(A.g=_+"."+A.g),Gi(A,A.u);else{var G=c.location;A=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const J=new kn(null);A&&en(J,A),_&&(J.g=_),G&&Gi(J,G),T&&(J.h=T),A=J}return T=h.G,_=h.wa,T&&_&&ot(A,T,_),ot(A,"VER",h.ka),ta(h,A),A}function Uc(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new ct(new Fr({ab:T})):new ct(h.ma),_.Fa(h.L),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qc(){}r=qc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Zi(){}Zi.prototype.g=function(h,_){return new Tn(h,_)};function Tn(h,_){pt.call(this),this.g=new Wi(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!N(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new fi(this)}b(Tn,pt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Ml(this.g)},Tn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=En(h),h=T);_.i.push(new Pt(_.Ya++,h)),_.I==3&&$r(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,Tn.Z.N.call(this)};function zc(h){yt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(zc,yt);function Bc(){Yn.call(this),this.status=1}b(Bc,Yn);function fi(h){this.g=h}b(fi,qc),fi.prototype.ra=function(){Rt(this.g,"a")},fi.prototype.qa=function(h){Rt(this.g,new zc(h))},fi.prototype.pa=function(h){Rt(this.g,new Bc)},fi.prototype.oa=function(){Rt(this.g,"b")},Zi.prototype.createWebChannel=Zi.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,QO=function(){return new Zi},YO=function(){return Ya()},KO=Ct,i0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ks.NO_ERROR=0,Ks.TIMEOUT=8,Ks.HTTP_ERROR=6,lf=Ks,_l.COMPLETE="complete",$O=_l,Hs.EventType=jt,jt.OPEN="a",jt.CLOSE="b",jt.ERROR="c",jt.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Iu=Hs,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,GO=ct}).apply(typeof Qh<"u"?Qh:typeof self<"u"?self:typeof window<"u"?window:{});class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let fl="12.8.0";function w5(r){fl=r}const Va=new W0("@firebase/firestore");function Vo(){return Va.logLevel}function ge(r,...e){if(Va.logLevel<=Xe.DEBUG){const t=e.map(hb);Va.debug(`Firestore (${fl}): ${r}`,...t)}}function Ui(r,...e){if(Va.logLevel<=Xe.ERROR){const t=e.map(hb);Va.error(`Firestore (${fl}): ${r}`,...t)}}function Xo(r,...e){if(Va.logLevel<=Xe.WARN){const t=e.map(hb);Va.warn(`Firestore (${fl}): ${r}`,...t)}}function hb(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function Se(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,XO(r,i,t)}function XO(r,e,t){let i=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ui(i),new Error(i)}function st(r,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,r||XO(e,a,i)}function De(r,e){return r}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class WO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(yn.UNAUTHENTICATED)))}shutdown(){}}class R5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class C5{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mi,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mi)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(st(typeof i.accessToken=="string",31837,{l:i}),new WO(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class I5{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class N5{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new I5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){st(this.o===void 0,3512);const i=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(st(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new wR(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function D5(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class fb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=D5(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function We(r,e){return r<e?-1:r>e?1:0}function s0(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const a=r.charAt(i),l=e.charAt(i);if(a!==l)return zv(a)===zv(l)?We(a,l):zv(a)?1:-1}return We(r.length,e.length)}const M5=55296,j5=57343;function zv(r){const e=r.charCodeAt(0);return e>=M5&&e<=j5}function Wo(r,e,t){return r.length===e.length&&r.every(((i,a)=>t(i,e[a])))}const AR="__name__";class Zr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Se(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Zr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Zr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return We(e.length,t.length)}static compareSegments(e,t){const i=Zr.isNumericId(e),a=Zr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Zr.extractNumericId(e).compare(Zr.extractNumericId(t)):s0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class gt extends Zr{construct(e,t,i){return new gt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new gt(t)}static emptyPath(){return new gt([])}}const k5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Zr{construct(e,t,i){return new hn(e,t,i)}static isValidIdentifier(e){return k5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AR}static keyField(){return new hn([AR])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(t)}static emptyPath(){return new hn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(gt.fromString(e))}static fromName(e){return new Te(gt.fromString(e).popFirst(5))}static empty(){return new Te(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new gt(e.slice()))}}function JO(r,e,t){if(!t)throw new me(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function V5(r,e,t,i){if(e===!0&&i===!0)throw new me(ie.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function RR(r){if(!Te.isDocumentKey(r))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function CR(r){if(Te.isDocumentKey(r))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ZO(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function md(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function qi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=md(r);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function P5(r,e){if(e<=0)throw new me(ie.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function Gt(r,e){const t={typeString:r};return e&&(t.value=e),t}function mc(r,e){if(!ZO(r))throw new me(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const c=r[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new me(ie.INVALID_ARGUMENT,t);return!0}const IR=-62135596800,NR=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*NR);return new bt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<IR)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NR}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mc(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-IR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Gt("string",bt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new bt(0,0))}static max(){return new Ne(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ku=-1;function L5(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(i===1e9?new bt(t+1,0):new bt(t,i));return new ks(a,Te.empty(),e)}function U5(r){return new ks(r.readTime,r.key,Ku)}class ks{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ks(Ne.min(),Te.empty(),Ku)}static max(){return new ks(Ne.max(),Te.empty(),Ku)}}function q5(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(r.documentKey,e.documentKey),t!==0?t:We(r.largestBatchId,e.largestBatchId))}const z5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function dl(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==z5)throw r;ge("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ae.reject(t)}static resolve(e){return new ae(((t,i)=>{t(e)}))}static reject(e){return new ae(((t,i)=>{i(e)}))}static waitFor(e){return new ae(((t,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(p=>i(p)))})),c=!0,l===a&&t()}))}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next((a=>a?ae.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new ae(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((v=>{c[g]=v,++d,d===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new ae(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}function F5(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pl(r){return r.name==="IndexedDbTransactionError"}class gd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gd.ce=-1;const db=-1;function yd(r){return r==null}function Cf(r){return r===0&&1/r==-1/0}function H5(r){return typeof r=="number"&&Number.isInteger(r)&&!Cf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const e2="";function G5(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=OR(e)),e=$5(r.get(t),e);return OR(e)}function $5(r,e){let t=e;const i=r.length;for(let a=0;a<i;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case e2:t+="";break;default:t+=l}}return t}function OR(r){return r+e2+""}function DR(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ba(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function t2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class St{constructor(e,t){this.comparator=e,this.root=t||cn.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xh(this.root,e,this.comparator,!0)}}class Xh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new cn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new MR(this.data.getIterator())}getIteratorFrom(e){return new MR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Jt(this.comparator);return t.data=e,t}}class MR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sr{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Sr([])}unionWith(e){let t=new Jt(hn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class n2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new n2("Invalid base64 string: "+l):l}})(e);return new fn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const K5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(r){if(st(!!r,39018),typeof r=="string"){let e=0;const t=K5.exec(r);if(st(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dt(r.seconds),nanos:Dt(r.nanos)}}function Dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ps(r){return typeof r=="string"?fn.fromBase64String(r):fn.fromUint8Array(r)}const r2="server_timestamp",i2="__type__",s2="__previous_value__",a2="__local_write_time__";function pb(r){return(r?.mapValue?.fields||{})[i2]?.stringValue===r2}function vd(r){const e=r.mapValue.fields[s2];return pb(e)?vd(e):e}function Yu(r){const e=Vs(r.mapValue.fields[a2].timestampValue);return new bt(e.seconds,e.nanos)}class Y5{constructor(e,t,i,a,l,c,d,p,g,v,b){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=b}}const If="(default)";class Qu{constructor(e,t){this.projectId=e,this.database=t||If}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database===If}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}function Q5(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(r.options.projectId,e)}const o2="__type__",X5="__max__",Wh={mapValue:{}},l2="__vector__",Nf="value";function Ls(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pb(r)?4:J5(r)?9007199254740991:W5(r)?10:11:Se(28295,{value:r})}function oi(r,e){if(r===e)return!0;const t=Ls(r);if(t!==Ls(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yu(r).isEqual(Yu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Vs(a.timestampValue),d=Vs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return Ps(a.bytesValue).isEqual(Ps(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return Dt(a.geoPointValue.latitude)===Dt(l.geoPointValue.latitude)&&Dt(a.geoPointValue.longitude)===Dt(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Dt(a.integerValue)===Dt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Dt(a.doubleValue),d=Dt(l.doubleValue);return c===d?Cf(c)===Cf(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return Wo(r.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(DR(c)!==DR(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!oi(c[p],d[p])))return!1;return!0})(r,e);default:return Se(52216,{left:r})}}function Xu(r,e){return(r.values||[]).find((t=>oi(t,e)))!==void 0}function Jo(r,e){if(r===e)return 0;const t=Ls(r),i=Ls(e);if(t!==i)return We(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Dt(l.integerValue||l.doubleValue),p=Dt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(r,e);case 3:return jR(r.timestampValue,e.timestampValue);case 4:return jR(Yu(r),Yu(e));case 5:return s0(r.stringValue,e.stringValue);case 6:return(function(l,c){const d=Ps(l),p=Ps(c);return d.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=We(d[g],p[g]);if(v!==0)return v}return We(d.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=We(Dt(l.latitude),Dt(c.latitude));return d!==0?d:We(Dt(l.longitude),Dt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return kR(r.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},g=d[Nf]?.arrayValue,v=p[Nf]?.arrayValue,b=We(g?.values?.length||0,v?.values?.length||0);return b!==0?b:kR(g,v)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Wh.mapValue&&c===Wh.mapValue)return 0;if(l===Wh.mapValue)return 1;if(c===Wh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const x=s0(p[b],v[b]);if(x!==0)return x;const S=Jo(d[p[b]],g[v[b]]);if(S!==0)return S}return We(p.length,v.length)})(r.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function jR(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return We(r,e);const t=Vs(r),i=Vs(e),a=We(t.seconds,i.seconds);return a!==0?a:We(t.nanos,i.nanos)}function kR(r,e){const t=r.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Jo(t[a],i[a]);if(l)return l}return We(t.length,i.length)}function Zo(r){return a0(r)}function a0(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=Vs(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Ps(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Te.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=a0(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${a0(t.fields[c])}`;return a+"}"})(r.mapValue):Se(61005,{value:r})}function uf(r){switch(Ls(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vd(r);return e?16+uf(e):16;case 5:return 2*r.stringValue.length;case 6:return Ps(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+uf(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let a=0;return Ba(i.fields,((l,c)=>{a+=l.length+uf(c)})),a})(r.mapValue);default:throw Se(13486,{value:r})}}function VR(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function o0(r){return!!r&&"integerValue"in r}function mb(r){return!!r&&"arrayValue"in r}function PR(r){return!!r&&"nullValue"in r}function LR(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function cf(r){return!!r&&"mapValue"in r}function W5(r){return(r?.mapValue?.fields||{})[o2]?.stringValue===l2}function Lu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ba(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Lu(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lu(r.arrayValue.values[t]);return e}return{...r}}function J5(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===X5}class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!cf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(t)}setAll(e){let t=hn.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=Lu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());cf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];cf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Ba(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new or(Lu(this.value))}}function u2(r){const e=[];return Ba(r.fields,((t,i)=>{const a=new hn([t]);if(cf(i)){const l=u2(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Sr(e)}class vn{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new vn(e,0,Ne.min(),Ne.min(),Ne.min(),or.empty(),0)}static newFoundDocument(e,t,i,a){return new vn(e,1,t,Ne.min(),i,a,0)}static newNoDocument(e,t){return new vn(e,2,t,Ne.min(),Ne.min(),or.empty(),0)}static newUnknownDocument(e,t){return new vn(e,3,t,Ne.min(),Ne.min(),or.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Of{constructor(e,t){this.position=e,this.inclusive=t}}function UR(r,e,t){let i=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?i=Te.comparator(Te.fromName(c.referenceValue),t.key):i=Jo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function qR(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!oi(r.position[t],e.position[t]))return!1;return!0}class Wu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Z5(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class c2{}class Ht extends c2{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new tq(e,t,i):t==="array-contains"?new iq(e,i):t==="in"?new sq(e,i):t==="not-in"?new aq(e,i):t==="array-contains-any"?new oq(e,i):new Ht(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new nq(e,i):new rq(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Jo(t,this.value)):t!==null&&Ls(this.value)===Ls(t)&&this.matchesComparison(Jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends c2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ir(e,t)}matches(e){return h2(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function h2(r){return r.op==="and"}function f2(r){return eq(r)&&h2(r)}function eq(r){for(const e of r.filters)if(e instanceof Ir)return!1;return!0}function l0(r){if(r instanceof Ht)return r.field.canonicalString()+r.op.toString()+Zo(r.value);if(f2(r))return r.filters.map((e=>l0(e))).join(",");{const e=r.filters.map((t=>l0(t))).join(",");return`${r.op}(${e})`}}function d2(r,e){return r instanceof Ht?(function(i,a){return a instanceof Ht&&i.op===a.op&&i.field.isEqual(a.field)&&oi(i.value,a.value)})(r,e):r instanceof Ir?(function(i,a){return a instanceof Ir&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&d2(c,a.filters[d])),!0):!1})(r,e):void Se(19439)}function p2(r){return r instanceof Ht?(function(t){return`${t.field.canonicalString()} ${t.op} ${Zo(t.value)}`})(r):r instanceof Ir?(function(t){return t.op.toString()+" {"+t.getFilters().map(p2).join(" ,")+"}"})(r):"Filter"}class tq extends Ht{constructor(e,t,i){super(e,t,i),this.key=Te.fromName(i.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class nq extends Ht{constructor(e,t){super(e,"in",t),this.keys=m2("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class rq extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=m2("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function m2(r,e){return(e.arrayValue?.values||[]).map((t=>Te.fromName(t.referenceValue)))}class iq extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mb(t)&&Xu(t.arrayValue,this.value)}}class sq extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xu(this.value.arrayValue,t)}}class aq extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xu(this.value.arrayValue,t)}}class oq extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mb(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Xu(this.value.arrayValue,i)))}}class lq{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function zR(r,e=null,t=[],i=[],a=null,l=null,c=null){return new lq(r,e,t,i,a,l,c)}function gb(r){const e=De(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>l0(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),yd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Zo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Zo(i))).join(",")),e.Te=t}return e.Te}function yb(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Z5(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!d2(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!qR(r.startAt,e.startAt)&&qR(r.endAt,e.endAt)}function u0(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ml{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function uq(r,e,t,i,a,l,c,d){return new ml(r,e,t,i,a,l,c,d)}function vb(r){return new ml(r)}function BR(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cq(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function g2(r){return r.collectionGroup!==null}function Uu(r){const e=De(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Jt(hn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Wu(l,i))})),t.has(hn.keyField().canonicalString())||e.Ie.push(new Wu(hn.keyField(),i))}return e.Ie}function ri(r){const e=De(r);return e.Ee||(e.Ee=hq(e,Uu(r))),e.Ee}function hq(r,e){if(r.limitType==="F")return zR(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Wu(a.field,l)}));const t=r.endAt?new Of(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Of(r.startAt.position,r.startAt.inclusive):null;return zR(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function c0(r,e){const t=r.filters.concat([e]);return new ml(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function fq(r,e){const t=r.explicitOrderBy.concat([e]);return new ml(r.path,r.collectionGroup,t,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Df(r,e,t){return new ml(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function _d(r,e){return yb(ri(r),ri(e))&&r.limitType===e.limitType}function y2(r){return`${gb(ri(r))}|lt:${r.limitType}`}function Po(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>p2(a))).join(", ")}]`),yd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Zo(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Zo(a))).join(",")),`Target(${i})`})(ri(r))}; limitType=${r.limitType})`}function bd(r,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Te.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,a){for(const l of Uu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,p){const g=UR(c,d,p);return c.inclusive?g<=0:g<0})(i.startAt,Uu(i),a)||i.endAt&&!(function(c,d,p){const g=UR(c,d,p);return c.inclusive?g>=0:g>0})(i.endAt,Uu(i),a))})(r,e)}function dq(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function v2(r){return(e,t)=>{let i=!1;for(const a of Uu(r)){const l=pq(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function pq(r,e,t){const i=r.field.isKeyField()?Te.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Jo(p,g):Se(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:r.dir})}}class Fa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return t2(this.inner)}size(){return this.innerSize}}const mq=new St(Te.comparator);function zi(){return mq}const _2=new St(Te.comparator);function Nu(...r){let e=_2;for(const t of r)e=e.insert(t.key,t);return e}function b2(r){let e=_2;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function xa(){return qu()}function E2(){return qu()}function qu(){return new Fa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const gq=new St(Te.comparator),yq=new Jt(Te.comparator);function Je(...r){let e=yq;for(const t of r)e=e.add(t);return e}const vq=new Jt(We);function _q(){return vq}function _b(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cf(e)?"-0":e}}function T2(r){return{integerValue:""+r}}function bq(r,e){return H5(e)?T2(e):_b(r,e)}class Ed{constructor(){this._=void 0}}function Eq(r,e,t){return r instanceof Mf?(function(a,l){const c={fields:{[i2]:{stringValue:r2},[a2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&pb(l)&&(l=vd(l)),l&&(c.fields[s2]=l),{mapValue:c}})(t,e):r instanceof Ju?S2(r,e):r instanceof Zu?w2(r,e):(function(a,l){const c=x2(a,l),d=FR(c)+FR(a.Ae);return o0(c)&&o0(a.Ae)?T2(d):_b(a.serializer,d)})(r,e)}function Tq(r,e,t){return r instanceof Ju?S2(r,e):r instanceof Zu?w2(r,e):t}function x2(r,e){return r instanceof jf?(function(i){return o0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Mf extends Ed{}class Ju extends Ed{constructor(e){super(),this.elements=e}}function S2(r,e){const t=A2(e);for(const i of r.elements)t.some((a=>oi(a,i)))||t.push(i);return{arrayValue:{values:t}}}class Zu extends Ed{constructor(e){super(),this.elements=e}}function w2(r,e){let t=A2(e);for(const i of r.elements)t=t.filter((a=>!oi(a,i)));return{arrayValue:{values:t}}}class jf extends Ed{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function FR(r){return Dt(r.integerValue||r.doubleValue)}function A2(r){return mb(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function xq(r,e){return r.field.isEqual(e.field)&&(function(i,a){return i instanceof Ju&&a instanceof Ju||i instanceof Zu&&a instanceof Zu?Wo(i.elements,a.elements,oi):i instanceof jf&&a instanceof jf?oi(i.Ae,a.Ae):i instanceof Mf&&a instanceof Mf})(r.transform,e.transform)}class Sq{constructor(e,t){this.version=e,this.transformResults=t}}class Ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Td{}function R2(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new bb(r.key,Ar.none()):new gc(r.key,r.data,Ar.none());{const t=r.data,i=or.empty();let a=new Jt(hn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ha(r.key,i,new Sr(a.toArray()),Ar.none())}}function wq(r,e,t){r instanceof gc?(function(a,l,c){const d=a.value.clone(),p=GR(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,t):r instanceof Ha?(function(a,l,c){if(!hf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=GR(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(C2(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function zu(r,e,t,i){return r instanceof gc?(function(l,c,d,p){if(!hf(l.precondition,c))return d;const g=l.value.clone(),v=$R(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(r,e,t,i):r instanceof Ha?(function(l,c,d,p){if(!hf(l.precondition,c))return d;const g=$R(l.fieldTransforms,p,c),v=c.data;return v.setAll(C2(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(r,e,t,i):(function(l,c,d){return hf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,t)}function Aq(r,e){let t=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),l=x2(i.transform,a||null);l!=null&&(t===null&&(t=or.empty()),t.set(i.field,l))}return t||null}function HR(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Wo(i,a,((l,c)=>xq(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class gc extends Td{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ha extends Td{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function C2(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function GR(r,e,t){const i=new Map;st(r.length===t.length,32656,{Ve:t.length,de:r.length});for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,Tq(c,d,t[a]))}return i}function $R(r,e,t){const i=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);i.set(a.field,Eq(l,c,e))}return i}class bb extends Td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rq extends Td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cq{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&wq(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=zu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=zu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=E2();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=R2(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Ne.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Je())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,((t,i)=>HR(t,i)))&&Wo(this.baseMutations,e.baseMutations,((t,i)=>HR(t,i)))}}class Eb{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){st(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return gq})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Eb(e,t,i,a)}}class Iq{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Nq{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ft,et;function Oq(r){switch(r){case ie.OK:return Se(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function I2(r){if(r===void 0)return Ui("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Ft.OK:return ie.OK;case Ft.CANCELLED:return ie.CANCELLED;case Ft.UNKNOWN:return ie.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return ie.INTERNAL;case Ft.UNAVAILABLE:return ie.UNAVAILABLE;case Ft.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Ft.NOT_FOUND:return ie.NOT_FOUND;case Ft.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Ft.ABORTED:return ie.ABORTED;case Ft.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Ft.DATA_LOSS:return ie.DATA_LOSS;default:return Se(39323,{code:r})}}(et=Ft||(Ft={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";function Dq(){return new TextEncoder}const Mq=new Ms([4294967295,4294967295],0);function KR(r){const e=Dq().encode(r),t=new HO;return t.update(e),new Uint8Array(t.digest())}function YR(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ms([t,i],0),new Ms([a,l],0)]}class Tb{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ou(`Invalid padding: ${t}`);if(i<0)throw new Ou(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ms.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(Ms.fromNumber(i)));return a.compare(Mq)===1&&(a=new Ms([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=KR(e),[i,a]=YR(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Tb(l,a,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=KR(e),[i,a]=YR(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xd{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new xd(Ne.min(),a,new St(We),zi(),Je())}}class yc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new yc(i,t,Je(),Je(),Je())}}class ff{constructor(e,t,i,a){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=a}}class N2{constructor(e,t){this.targetId=e,this.Ce=t}}class O2{constructor(e,t,i=fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class QR{constructor(){this.ve=0,this.Fe=XR(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),t=Je(),i=Je();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Se(38017,{changeType:l})}})),new yc(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=XR()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class jq{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.He=Jh(),this.Je=Jh(),this.Ze=new St(We)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(u0(l))if(i===0){const c=new Te(l.path);this.et(t,c,vn.newNoDocument(c,Ne.min()))}else st(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Ps(i).toUint8Array()}catch(p){if(p instanceof n2)return Xo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Tb(c,a,l)}catch(p){return Xo(p instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&u0(d.target)){const p=new Te(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,vn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let i=Je();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new xd(e,t,this.Ze,this.je,i);return this.je=zi(),this.He=Jh(),this.Je=Jh(),this.Ze=new St(We),a}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new QR,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Jt(We),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Jt(We),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new QR),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Jh(){return new St(Te.comparator)}function XR(){return new St(Te.comparator)}const kq={asc:"ASCENDING",desc:"DESCENDING"},Vq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pq={and:"AND",or:"OR"};class Lq{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function h0(r,e){return r.useProto3Json||yd(e)?e:{value:e}}function kf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function D2(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Uq(r,e){return kf(r,e.toTimestamp())}function ii(r){return st(!!r,49232),Ne.fromTimestamp((function(t){const i=Vs(t);return new bt(i.seconds,i.nanos)})(r))}function xb(r,e){return f0(r,e).canonicalString()}function f0(r,e){const t=(function(a){return new gt(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function M2(r){const e=gt.fromString(r);return st(L2(e),10190,{key:e.toString()}),e}function d0(r,e){return xb(r.databaseId,e.path)}function Bv(r,e){const t=M2(e);if(t.get(1)!==r.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Te(k2(t))}function j2(r,e){return xb(r.databaseId,e)}function qq(r){const e=M2(r);return e.length===4?gt.emptyPath():k2(e)}function p0(r){return new gt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function k2(r){return st(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function WR(r,e,t){return{name:d0(r,e),fields:t.value.mapValue.fields}}function zq(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(st(v===void 0||typeof v=="string",58123),fn.fromBase64String(v||"")):(st(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),fn.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?ie.UNKNOWN:I2(g.code);return new me(v,g.message||"")})(c);t=new O2(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Bv(r,i.document.name),l=ii(i.document.updateTime),c=i.document.createTime?ii(i.document.createTime):Ne.min(),d=new or({mapValue:{fields:i.document.fields}}),p=vn.newFoundDocument(a,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new ff(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Bv(r,i.document),l=i.readTime?ii(i.readTime):Ne.min(),c=vn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new ff([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Bv(r,i.document),l=i.removedTargetIds||[];t=new ff([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new Nq(a,l),d=i.targetId;t=new N2(d,c)}}return t}function Bq(r,e){let t;if(e instanceof gc)t={update:WR(r,e.key,e.value)};else if(e instanceof bb)t={delete:d0(r,e.key)};else if(e instanceof Ha)t={update:WR(r,e.key,e.data),updateMask:Wq(e.fieldMask)};else{if(!(e instanceof Rq))return Se(16599,{dt:e.type});t={verify:d0(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof Mf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Zu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof jf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Se(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Uq(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(r,e.precondition)),t}function Fq(r,e){return r&&r.length>0?(st(e!==void 0,14353),r.map((t=>(function(a,l){let c=a.updateTime?ii(a.updateTime):ii(l);return c.isEqual(Ne.min())&&(c=ii(l)),new Sq(c,a.transformResults||[])})(t,e)))):[]}function Hq(r,e){return{documents:[j2(r,e.path)]}}function Gq(r,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=j2(r,a);const l=(function(g){if(g.length!==0)return P2(Ir.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(x){return{field:Lo(x.field),direction:Yq(x.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=h0(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function $q(r){let e=qq(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){st(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(b){const x=V2(b);return x instanceof Ir&&f2(x)?x.getFilters():[x]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((x=>(function(j){return new Wu(Uo(j.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(x)))})(t.orderBy));let d=null;t.limit&&(d=(function(b){let x;return x=typeof b=="object"?b.value:b,yd(x)?null:x})(t.limit));let p=null;t.startAt&&(p=(function(b){const x=!!b.before,S=b.values||[];return new Of(S,x)})(t.startAt));let g=null;return t.endAt&&(g=(function(b){const x=!b.before,S=b.values||[];return new Of(S,x)})(t.endAt)),uq(e,a,c,l,d,"F",p,g)}function Kq(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function V2(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Uo(t.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Uo(t.unaryFilter.field);return Ht.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Uo(t.unaryFilter.field);return Ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(t.unaryFilter.field);return Ht.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Ht.create(Uo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Ir.create(t.compositeFilter.filters.map((i=>V2(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(r):Se(30097,{filter:r})}function Yq(r){return kq[r]}function Qq(r){return Vq[r]}function Xq(r){return Pq[r]}function Lo(r){return{fieldPath:r.canonicalString()}}function Uo(r){return hn.fromServerFormat(r.fieldPath)}function P2(r){return r instanceof Ht?(function(t){if(t.op==="=="){if(LR(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NAN"}};if(PR(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(LR(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NAN"}};if(PR(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(t.field),op:Qq(t.op),value:t.value}}})(r):r instanceof Ir?(function(t){const i=t.getFilters().map((a=>P2(a)));return i.length===1?i[0]:{compositeFilter:{op:Xq(t.op),filters:i}}})(r):Se(54877,{filter:r})}function Wq(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function L2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function U2(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Is{constructor(e,t,i,a,l=Ne.min(),c=Ne.min(),d=fn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Jq{constructor(e){this.yt=e}}function Zq(r){const e=$q({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Df(e,e.limit,"L"):e}class e9{constructor(){this.Sn=new t9}addToCollectionParentIndex(e,t){return this.Sn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(ks.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class t9{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Jt(gt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Jt(gt.comparator)).toArray()}}const JR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q2=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(q2,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class el{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new el(0)}static ar(){return new el(-1)}}const ZR="LruGarbageCollector",n9=1048576;function eC([r,e],[t,i]){const a=We(r,t);return a===0?We(e,i):a}class r9{constructor(e){this.Pr=e,this.buffer=new Jt(eC),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();eC(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class i9{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ge(ZR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pl(t)?ge(ZR,"Ignoring IndexedDB error during garbage collection: ",t):await dl(t)}await this.Ar(3e5)}))}}class s9{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(gd.ce);const i=new r9(t);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(JR)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JR):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,a,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,d=Date.now(),this.removeTargets(e,i,t)))).next((b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(g=Date.now(),Vo()<=Xe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function a9(r,e){return new s9(r,e)}class o9{constructor(){this.changes=new Fa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class l9{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class u9{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&zu(i.mutation,a,Sr.empty(),bt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Je()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Je()){const a=xa();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=Nu();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=xa();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Je())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,a){let l=zi();const c=qu(),d=(function(){return qu()})();return t.forEach(((p,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Ha)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),zu(v.mutation,g,v.mutation.getFieldMask(),bt.now())):c.set(g.key,Sr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>d.set(g,new l9(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=qu();let a=new St(((c,d)=>c-d)),l=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=i.get(p)||Sr.empty();v=d.applyToLocalView(g,v),i.set(p,v);const b=(a.get(d.batchId)||Je()).add(p);a=a.insert(d.batchId,b)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,b=E2();v.forEach((x=>{if(!l.has(x)){const S=R2(t.get(x),i.get(x));S!==null&&b.set(x,S),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ae.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return cq(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):g2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ae.resolve(xa());let d=Ku,p=l;return c.next((g=>ae.forEach(g,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next((x=>{p=p.insert(v,x)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Je()))).next((v=>({batchId:d,changes:b2(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next((i=>{let a=Nu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Nu();return this.indexManager.getCollectionParents(e,l).next((d=>ae.forEach(d,(p=>{const g=(function(b,x){return new ml(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((v=>{v.forEach(((b,x)=>{c=c.insert(b,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,vn.newInvalidDocument(v)))}));let d=Nu();return c.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&zu(v.mutation,g,Sr.empty(),bt.now()),bd(t,g)&&(d=d.insert(p,g))})),d}))}}class c9{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ae.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:ii(a.createTime)}})(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:Zq(a.bundledQuery),readTime:ii(a.readTime)}})(t)),ae.resolve()}}class h9{constructor(){this.overlays=new St(Te.comparator),this.Lr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=xa();return ae.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.bt(e,t,l)})),ae.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const a=xa(),l=t.length+1,c=new Te(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new St(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=xa(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=xa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return ae.resolve(d)}bt(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Iq(t,i));let l=this.Lr.get(t);l===void 0&&(l=Je(),this.Lr.set(t,l)),this.Lr.set(t,l.add(i.key))}}class f9{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}class Sb{constructor(){this.kr=new Jt(nn.Kr),this.qr=new Jt(nn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new nn(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new nn(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new Te(new gt([])),i=new nn(t,e),a=new nn(t,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Te(new gt([])),i=new nn(t,e),a=new nn(t,e+1);let l=Je();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new nn(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class nn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Te.comparator(e.key,t.key)||We(e.Hr,t.Hr)}static Ur(e,t){return We(e.Hr,t.Hr)||Te.comparator(e.key,t.key)}}class d9{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Jt(nn.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Cq(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new nn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Xr(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?db:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new nn(t,0),a=new nn(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Jt(We);return t.forEach((a=>{const l=new nn(a,0),c=new nn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{i=i.add(d.Hr)}))})),ae.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Te.isDocumentKey(l)||(l=l.child(""));const c=new nn(new Te(l),0);let d=new Jt(We);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Hr)),!0)}),c),ae.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){st(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ae.forEach(t.mutations,(a=>{const l=new nn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new nn(t,0),a=this.Jr.firstAfterOrEqual(i);return ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class p9{constructor(e){this.ti=e,this.docs=(function(){return new St(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let i=zi();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():vn.newInvalidDocument(a))})),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=zi();const c=t.path,d=new Te(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||q5(U5(v),i)<=0||(a.has(v.key)||bd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Se(9500)}ni(e,t){return ae.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new m9(this)}getSize(e){return ae.resolve(this.size)}}class m9 extends o9{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),ae.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class g9{constructor(e){this.persistence=e,this.ri=new Fa((t=>gb(t)),yb),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new Sb,this.targetCount=0,this.oi=el._r()}forEachTarget(e,t){return this.ri.forEach(((i,a)=>t(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),ae.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new el(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.lr(t),ae.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.si.containsKey(t))}}class z2{constructor(e,t){this._i={},this.overlays={},this.ai=new gd(0),this.ui=!1,this.ui=!0,this.ci=new f9,this.referenceDelegate=e(this),this.li=new g9(this),this.indexManager=new e9,this.remoteDocumentCache=(function(a){return new p9(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new Jq(t),this.Pi=new c9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new h9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new d9(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const a=new y9(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return ae.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class y9 extends B5{constructor(e){super(),this.currentSequenceNumber=e}}class wb{constructor(e){this.persistence=e,this.Ri=new Sb,this.Ai=null}static Vi(e){return new wb(e)}get di(){if(this.Ai)return this.Ai;throw Se(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(i=>{const a=Te.fromPath(i);return this.mi(e,a).next((l=>{l||t.removeEntry(a,Ne.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ae.or([()=>ae.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Vf{constructor(e,t){this.persistence=e,this.fi=new Fa((i=>G5(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=a9(this,t)}static Vi(e,t){return new Vf(e,t)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return ae.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?ae.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,t).next((d=>{d||(i++,l.removeEntry(c,Ne.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ae.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uf(e.data.value)),t}wr(e,t,i){return ae.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ab{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=a}static Es(e,t){let i=Je(),a=Je();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ab(e,t.fromCache,i,a)}}class v9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _9{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return a3()?8:F5(bn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new v9;return this.ys(e,t,c).next((d=>{if(l.result=d,this.As)return this.ws(e,t,c,d.size)}))})).next((()=>l.result))}ws(e,t,i,a){return i.documentReadCount<this.Vs?(Vo()<=Xe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(Vo()<=Xe.DEBUG&&ge("QueryEngine","Query:",Po(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Vo()<=Xe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(t))):ae.resolve())}gs(e,t){if(BR(t))return ae.resolve(null);let i=ri(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Df(t,null,"F"),i=ri(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Je(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((p=>{const g=this.bs(t,d);return this.Ss(t,g,c,p.readTime)?this.gs(e,Df(t,null,"F")):this.Ds(e,g,t,p)}))))})))))}ps(e,t,i,a){return BR(t)||a.isEqual(Ne.min())?ae.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,i,a)?ae.resolve(null):(Vo()<=Xe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Po(t)),this.Ds(e,c,t,L5(a,Ku)).next((d=>d)))}))}bs(e,t){let i=new Jt(v2(e));return t.forEach(((a,l)=>{bd(e,l)&&(i=i.add(l))})),i}Ss(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,i){return Vo()<=Xe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Po(t)),this.fs.getDocumentsMatchingQuery(e,t,ks.min(),i)}Ds(e,t,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Rb="LocalStore",b9=3e8;class E9{constructor(e,t,i,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new St(We),this.Fs=new Fa((l=>gb(l)),yb),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u9(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function T9(r,e,t,i){return new E9(r,e,t,i)}async function B2(r,e){const t=De(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let p=Je();for(const g of a){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function x9(r,e){const t=De(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const b=g.batch,x=b.keys();let S=ae.resolve();return x.forEach((j=>{S=S.next((()=>v.getEntry(p,j))).next((P=>{const M=g.docVersions.get(j);st(M!==null,48541),P.version.compareTo(M)<0&&(b.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),v.addEntry(P)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(p,b)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let p=Je();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function F2(r){const e=De(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function S9(r,e){const t=De(r),i=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const d=[];e.targetChanges.forEach(((v,b)=>{const x=a.get(b);if(!x)return;d.push(t.li.removeMatchingKeys(l,v.removedDocuments,b).next((()=>t.li.addMatchingKeys(l,v.addedDocuments,b))));let S=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(fn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,i)),a=a.insert(b,S),(function(P,M,F){return P.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=b9?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(x,S,v)&&d.push(t.li.updateTargetData(l,S))}));let p=zi(),g=Je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(w9(l,c,e.documentUpdates).next((v=>{p=v.Bs,g=v.Ls}))),!i.isEqual(Ne.min())){const v=t.li.getLastRemoteSnapshotVersion(l).next((b=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return ae.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.vs=a,l)))}function w9(r,e,t){let i=Je(),a=Je();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let c=zi();return t.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ge(Rb,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:a}}))}function A9(r,e){const t=De(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=db),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function R9(r,e){const t=De(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.li.getTargetData(i,e).next((l=>l?(a=l,ae.resolve(a)):t.li.allocateTargetId(i).next((c=>(a=new Is(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function m0(r,e,t){const i=De(r),a=i.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!pl(c))throw c;ge(Rb,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function tC(r,e,t){const i=De(r);let a=Ne.min(),l=Je();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const b=De(p),x=b.Fs.get(v);return x!==void 0?ae.resolve(b.vs.get(x)):b.li.getTargetData(g,v)})(i,c,ri(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,t?a:Ne.min(),t?l:Je()))).next((d=>(C9(i,dq(e),d),{documents:d,ks:l})))))}function C9(r,e,t){let i=r.Ms.get(e)||Ne.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Ms.set(e,i)}class nC{constructor(){this.activeTargetIds=_q()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I9{constructor(){this.vo=new nC,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new nC,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class N9{Mo(e){}shutdown(){}}const rC="ConnectivityMonitor";class iC{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ge(rC,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ge(rC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zh=null;function g0(){return Zh===null?Zh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zh++,"0x"+Zh.toString(16)}const Fv="RestConnection",O9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class D9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===If?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,t,i,a,l){const c=g0(),d=this.Qo(e,t.toUriEncodedString());ge(Fv,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:g}=new URL(d),v=ul(g);return this.zo(e,d,p,i,v).then((b=>(ge(Fv,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Xo(Fv,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",i),b}))}jo(e,t,i,a,l,c){return this.Wo(e,t,i,a,l)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const i=O9[e];let a=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class M9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const mn="WebChannelConnection",Su=(r,e,t)=>{r.listen(e,(i=>{try{t(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Fo extends D9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Fo.c_){const e=YO();Su(e,KO.STAT_EVENT,(t=>{t.stat===i0.PROXY?ge(mn,"STAT_EVENT: detected buffering proxy"):t.stat===i0.NOPROXY&&ge(mn,"STAT_EVENT: detected no buffering proxy")})),Fo.c_=!0}}zo(e,t,i,a,l){const c=g0();return new Promise(((d,p)=>{const g=new GO;g.setWithCredentials(!0),g.listenOnce($O.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case lf.NO_ERROR:const b=g.getResponseJson();ge(mn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case lf.TIMEOUT:ge(mn,`RPC '${e}' ${c} timed out`),p(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:const x=g.getStatus();if(ge(mn,`RPC '${e}' ${c} failed with status:`,x,"response text:",g.getResponseText()),x>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const j=S?.error;if(j&&j.status&&j.message){const P=(function(F){const z=F.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(z)>=0?z:ie.UNKNOWN})(j.status);p(new me(P,j.message))}else p(new me(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new me(ie.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ge(mn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ge(mn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,i,15)}))}T_(e,t,i){const a=g0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const g=l.join("");ge(mn,`Creating RPC '${e}' stream ${a}: ${g}`,d);const v=c.createWebChannel(g,d);this.I_(v);let b=!1,x=!1;const S=new M9({Ho:j=>{x?ge(mn,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(b||(ge(mn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),ge(mn,`RPC '${e}' stream ${a} sending:`,j),v.send(j))},Jo:()=>v.close()});return Su(v,Iu.EventType.OPEN,(()=>{x||(ge(mn,`RPC '${e}' stream ${a} transport opened.`),S.i_())})),Su(v,Iu.EventType.CLOSE,(()=>{x||(x=!0,ge(mn,`RPC '${e}' stream ${a} transport closed`),S.o_(),this.E_(v))})),Su(v,Iu.EventType.ERROR,(j=>{x||(x=!0,Xo(mn,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),S.o_(new me(ie.UNAVAILABLE,"The operation could not be completed")))})),Su(v,Iu.EventType.MESSAGE,(j=>{if(!x){const P=j.data[0];st(!!P,16349);const M=P,F=M?.error||M[0]?.error;if(F){ge(mn,`RPC '${e}' stream ${a} received error:`,F);const z=F.status;let W=(function(oe){const I=Ft[oe];if(I!==void 0)return I2(I)})(z),le=F.message;W===void 0&&(W=ie.INTERNAL,le="Unknown error status: "+z+" with message "+F.message),x=!0,S.o_(new me(W,le)),v.close()}else ge(mn,`RPC '${e}' stream ${a} received:`,P),S.__(P)}})),Fo.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return QO()}}function j9(r){return new Fo(r)}function Hv(){return typeof document<"u"?document:null}function Sd(r){return new Lq(r,!0)}Fo.c_=!1;class H2{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const sC="PersistentStream";class G2{constructor(e,t,i,a,l,c,d,p){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new H2(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Ui(t.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new me(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(sC,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ge(sC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class k9 extends G2{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=zq(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ne.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?ii(c.readTime):Ne.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=p0(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=u0(p)?{documents:Hq(l,p)}:{query:Gq(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=D2(l,c.resumeToken);const g=h0(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ne.min())>0){d.readTime=kf(l,c.snapshotVersion.toTimestamp());const g=h0(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const i=Kq(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=p0(this.serializer),t.removeTarget=e,this.K_(t)}}class V9 extends G2{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Fq(e.writeResults,e.commitTime),i=ii(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=p0(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>Bq(this.serializer,i)))};this.K_(t)}}class P9{}class L9 extends P9{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,f0(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ie.UNKNOWN,l.toString())}))}jo(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,f0(t,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function U9(r,e,t,i){return new L9(r,e,t,i)}class q9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ui(t),this.aa=!1):ge("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Pa="RemoteStore";class z9{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{Ga(this)&&(ge(Pa,"Restarting streams for network reachability change."),await(async function(p){const g=De(p);g.Ea.add(4),await vc(g),g.Va.set("Unknown"),g.Ea.delete(4),await wd(g)})(this))}))})),this.Va=new q9(i,a)}}async function wd(r){if(Ga(r))for(const e of r.Ra)await e(!0)}async function vc(r){for(const e of r.Ra)await e(!1)}function $2(r,e){const t=De(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ob(t)?Nb(t):gl(t).O_()&&Ib(t,e))}function Cb(r,e){const t=De(r),i=gl(t);t.Ia.delete(e),i.O_()&&K2(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ga(t)&&t.Va.set("Unknown"))}function Ib(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gl(r).Z_(e)}function K2(r,e){r.da.$e(e),gl(r).X_(e)}function Nb(r){r.da=new jq({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),gl(r).start(),r.Va.ua()}function Ob(r){return Ga(r)&&!gl(r).x_()&&r.Ia.size>0}function Ga(r){return De(r).Ea.size===0}function Y2(r){r.da=void 0}async function B9(r){r.Va.set("Online")}async function F9(r){r.Ia.forEach(((e,t)=>{Ib(r,e)}))}async function H9(r,e){Y2(r),Ob(r)?(r.Va.ha(e),Nb(r)):r.Va.set("Unknown")}async function G9(r,e,t){if(r.Va.set("Online"),e instanceof O2&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(r,e)}catch(i){ge(Pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Pf(r,i)}else if(e instanceof ff?r.da.Xe(e):e instanceof N2?r.da.st(e):r.da.tt(e),!t.isEqual(Ne.min()))try{const i=await F2(r.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(fn.EMPTY_BYTE_STRING,v.snapshotVersion)),K2(l,p);const b=new Is(v.target,p,g,v.sequenceNumber);Ib(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(i){ge(Pa,"Failed to raise snapshot:",i),await Pf(r,i)}}async function Pf(r,e,t){if(!pl(e))throw e;r.Ea.add(1),await vc(r),r.Va.set("Offline"),t||(t=()=>F2(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ge(Pa,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await wd(r)}))}function Q2(r,e){return e().catch((t=>Pf(r,t,e)))}async function Ad(r){const e=De(r),t=Us(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:db;for(;$9(e);)try{const a=await A9(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,K9(e,a)}catch(a){await Pf(e,a)}X2(e)&&W2(e)}function $9(r){return Ga(r)&&r.Ta.length<10}function K9(r,e){r.Ta.push(e);const t=Us(r);t.O_()&&t.Y_&&t.ea(e.mutations)}function X2(r){return Ga(r)&&!Us(r).x_()&&r.Ta.length>0}function W2(r){Us(r).start()}async function Y9(r){Us(r).ra()}async function Q9(r){const e=Us(r);for(const t of r.Ta)e.ea(t.mutations)}async function X9(r,e,t){const i=r.Ta.shift(),a=Eb.from(i,e,t);await Q2(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await Ad(r)}async function W9(r,e){e&&Us(r).Y_&&await(async function(i,a){if((function(c){return Oq(c)&&c!==ie.ABORTED})(a.code)){const l=i.Ta.shift();Us(i).B_(),await Q2(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Ad(i)}})(r,e),X2(r)&&W2(r)}async function aC(r,e){const t=De(r);t.asyncQueue.verifyOperationInProgress(),ge(Pa,"RemoteStore received new credentials");const i=Ga(t);t.Ea.add(3),await vc(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await wd(t)}async function J9(r,e){const t=De(r);e?(t.Ea.delete(2),await wd(t)):e||(t.Ea.add(2),await vc(t),t.Va.set("Unknown"))}function gl(r){return r.ma||(r.ma=(function(t,i,a){const l=De(t);return l.sa(),new k9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Zo:B9.bind(null,r),Yo:F9.bind(null,r),t_:H9.bind(null,r),J_:G9.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Ob(r)?Nb(r):r.Va.set("Unknown")):(await r.ma.stop(),Y2(r))}))),r.ma}function Us(r){return r.fa||(r.fa=(function(t,i,a){const l=De(t);return l.sa(),new V9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Y9.bind(null,r),t_:W9.bind(null,r),ta:Q9.bind(null,r),na:X9.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Ad(r)):(await r.fa.stop(),r.Ta.length>0&&(ge(Pa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Db{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Db(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mb(r,e){if(Ui("AsyncQueue",`${e}: ${r}`),pl(r))return new me(ie.UNAVAILABLE,`${e}: ${r}`);throw r}class Ho{static emptySet(e){return new Ho(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Te.comparator(t.key,i.key):(t,i)=>Te.comparator(t.key,i.key),this.keyedMap=Nu(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ho;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class oC{constructor(){this.ga=new St(Te.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class tl{constructor(e,t,i,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new tl(e,t,Ho.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class Z9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class ez{constructor(){this.queries=lC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=De(t),l=a.queries;a.queries=lC(),l.forEach(((c,d)=>{for(const p of d.ba)p.onError(i)}))})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function lC(){return new Fa((r=>y2(r)),_d)}async function J2(r,e){const t=De(r);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new Z9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Mb(c,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&jb(t)}async function Z2(r,e){const t=De(r),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function tz(r,e){const t=De(r);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(i=!0);c.wa=a}}i&&jb(t)}function nz(r,e,t){const i=De(r),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(t);i.queries.delete(e)}function jb(r){r.Ca.forEach((e=>{e.next()}))}var y0,uC;(uC=y0||(y0={})).Ma="default",uC.Cache="cache";class eD{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new tl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==y0.Cache}}class tD{constructor(e){this.key=e}}class nD{constructor(e){this.key=e}}class rz{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Je(),this.mutatedKeys=Je(),this.eu=v2(e),this.tu=new Ho(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new oC,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const x=a.get(v),S=bd(this.query,b)?b:null,j=!!x&&this.mutatedKeys.has(x.key),P=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let M=!1;x&&S?x.data.isEqual(S.data)?j!==P&&(i.track({type:3,doc:S}),M=!0):this.su(x,S)||(i.track({type:2,doc:S}),M=!0,(p&&this.eu(S,p)>0||g&&this.eu(S,g)<0)&&(d=!0)):!x&&S?(i.track({type:0,doc:S}),M=!0):x&&!S&&(i.track({type:1,doc:x}),M=!0,(p||g)&&(d=!0)),M&&(S?(c=c.add(S),l=P?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Ss:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(S,j){const P=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:M})}};return P(S)-P(j)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new tl(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oC,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Je(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new nD(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new tD(i))})),t}cu(e){this.Za=e.ks,this.Ya=Je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const kb="SyncEngine";class iz{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class sz{constructor(e){this.key=e,this.hu=!1}}class az{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Fa((d=>y2(d)),_d),this.Iu=new Map,this.Eu=new Set,this.Ru=new St(Te.comparator),this.Au=new Map,this.Vu=new Sb,this.du={},this.mu=new Map,this.fu=el.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oz(r,e,t=!0){const i=lD(r);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await rD(i,e,t,!0),a}async function lz(r,e){const t=lD(r);await rD(t,e,!0,!1)}async function rD(r,e,t,i){const a=await R9(r.localStore,ri(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await uz(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&$2(r.remoteStore,a),d}async function uz(r,e,t,i,a){r.pu=(b,x,S)=>(async function(P,M,F,z){let W=M.view.ru(F);W.Ss&&(W=await tC(P.localStore,M.query,!1).then((({documents:I})=>M.view.ru(I,W))));const le=z&&z.targetChanges.get(M.targetId),ce=z&&z.targetMismatches.get(M.targetId)!=null,oe=M.view.applyChanges(W,P.isPrimaryClient,le,ce);return hC(P,M.targetId,oe.au),oe.snapshot})(r,b,x,S);const l=await tC(r.localStore,e,!0),c=new rz(e,l.ks),d=c.ru(l.documents),p=yc.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",a),g=c.applyChanges(d,r.isPrimaryClient,p);hC(r,t,g.au);const v=new iz(e,t,c);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function cz(r,e,t){const i=De(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!_d(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await m0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Cb(i.remoteStore,a.targetId),v0(i,a.targetId)})).catch(dl)):(v0(i,a.targetId),await m0(i.localStore,a.targetId,!0))}async function hz(r,e){const t=De(r),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Cb(t.remoteStore,i.targetId))}async function fz(r,e,t){const i=_z(r);try{const a=await(function(c,d){const p=De(c),g=bt.now(),v=d.reduce(((S,j)=>S.add(j.key)),Je());let b,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let j=zi(),P=Je();return p.xs.getEntries(S,v).next((M=>{j=M,j.forEach(((F,z)=>{z.isValidDocument()||(P=P.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(S,j))).next((M=>{b=M;const F=[];for(const z of d){const W=Aq(z,b.get(z.key).overlayedDocument);W!=null&&F.push(new Ha(z.key,W,u2(W.value.mapValue),Ar.exists(!0)))}return p.mutationQueue.addMutationBatch(S,g,F,d)})).next((M=>{x=M;const F=M.applyToLocalDocumentSet(b,P);return p.documentOverlayCache.saveOverlays(S,M.batchId,F)}))})).then((()=>({batchId:x.batchId,changes:b2(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let g=c.du[c.currentUser.toKey()];g||(g=new St(We)),g=g.insert(d,p),c.du[c.currentUser.toKey()]=g})(i,a.batchId,t),await _c(i,a.changes),await Ad(i.remoteStore)}catch(a){const l=Mb(a,"Failed to persist write");t.reject(l)}}async function iD(r,e){const t=De(r);try{const i=await S9(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(st(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?st(c.hu,14607):a.removedDocuments.size>0&&(st(c.hu,42227),c.hu=!1))})),await _c(t,i,e)}catch(i){await dl(i)}}function cC(r,e,t){const i=De(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=De(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,b)=>{for(const x of b.ba)x.va(d)&&(g=!0)})),g&&jb(p)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function dz(r,e,t){const i=De(r);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new St(Te.comparator);c=c.insert(l,vn.newNoDocument(l,Ne.min()));const d=Je().add(l),p=new xd(Ne.min(),new Map,new St(We),c,d);await iD(i,p),i.Ru=i.Ru.remove(l),i.Au.delete(e),Vb(i)}else await m0(i.localStore,e,!1).then((()=>v0(i,e,t))).catch(dl)}async function pz(r,e){const t=De(r),i=e.batch.batchId;try{const a=await x9(t.localStore,e);aD(t,i,null),sD(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await _c(t,a)}catch(a){await dl(a)}}async function mz(r,e,t){const i=De(r);try{const a=await(function(c,d){const p=De(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((b=>(st(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(i.localStore,e);aD(i,e,t),sD(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await _c(i,a)}catch(a){await dl(a)}}function sD(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function aD(r,e,t){const i=De(r);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function v0(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||oD(r,i)}))}function oD(r,e){r.Eu.delete(e.path.canonicalString());const t=r.Ru.get(e);t!==null&&(Cb(r.remoteStore,t),r.Ru=r.Ru.remove(e),r.Au.delete(t),Vb(r))}function hC(r,e,t){for(const i of t)i instanceof tD?(r.Vu.addReference(i.key,e),gz(r,i)):i instanceof nD?(ge(kb,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||oD(r,i.key)):Se(19791,{wu:i})}function gz(r,e){const t=e.key,i=t.path.canonicalString();r.Ru.get(t)||r.Eu.has(i)||(ge(kb,"New document in limbo: "+t),r.Eu.add(i),Vb(r))}function Vb(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Te(gt.fromString(e)),i=r.fu.next();r.Au.set(i,new sz(t)),r.Ru=r.Ru.insert(t,i),$2(r.remoteStore,new Is(ri(vb(t.path)),i,"TargetPurposeLimboResolution",gd.ce))}}async function _c(r,e,t){const i=De(r),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,p)=>{c.push(i.pu(p,e,t).then((g=>{if((g||t)&&i.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){a.push(g);const v=Ab.Es(p.targetId,g);l.push(v)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(p,g){const v=De(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ae.forEach(g,(x=>ae.forEach(x.Ts,(S=>v.persistence.referenceDelegate.addReference(b,x.targetId,S))).next((()=>ae.forEach(x.Is,(S=>v.persistence.referenceDelegate.removeReference(b,x.targetId,S)))))))))}catch(b){if(!pl(b))throw b;ge(Rb,"Failed to update sequence numbers: "+b)}for(const b of g){const x=b.targetId;if(!b.fromCache){const S=v.vs.get(x),j=S.snapshotVersion,P=S.withLastLimboFreeSnapshotVersion(j);v.vs=v.vs.insert(x,P)}}})(i.localStore,l))}async function yz(r,e){const t=De(r);if(!t.currentUser.isEqual(e)){ge(kb,"User change. New user:",e.toKey());const i=await B2(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new me(ie.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await _c(t,i.Ns)}}function vz(r,e){const t=De(r),i=t.Au.get(e);if(i&&i.hu)return Je().add(i.key);{let a=Je();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function lD(r){const e=De(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=iD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dz.bind(null,e),e.Pu.J_=tz.bind(null,e.eventManager),e.Pu.yu=nz.bind(null,e.eventManager),e}function _z(r){const e=De(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mz.bind(null,e),e}class Lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return T9(this.persistence,new _9,e.initialUser,this.serializer)}Cu(e){return new z2(wb.Vi,this.serializer)}Du(e){return new I9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lf.provider={build:()=>new Lf};class bz extends Lf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){st(this.persistence.referenceDelegate instanceof Vf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new i9(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new z2((i=>Vf.Vi(i,t)),this.serializer)}}class _0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yz.bind(null,this.syncEngine),await J9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ez})()}createDatastore(e){const t=Sd(e.databaseInfo.databaseId),i=j9(e.databaseInfo);return U9(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,d){return new z9(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>cC(this.syncEngine,t,0)),(function(){return iC.v()?new iC:new N9})())}createSyncEngine(e,t){return(function(a,l,c,d,p,g,v){const b=new az(a,l,c,d,p,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=De(t);ge(Pa,"RemoteStore shutting down."),i.Ea.add(5),await vc(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_0.provider={build:()=>new _0};class uD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const qs="FirestoreClient";class Ez{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=a,this.user=yn.UNAUTHENTICATED,this.clientId=fb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ge(qs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ge(qs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Mb(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Gv(r,e){r.asyncQueue.verifyOperationInProgress(),ge(qs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async a=>{i.isEqual(a)||(await B2(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function fC(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Tz(r);ge(qs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>aC(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,a)=>aC(e.remoteStore,a))),r._onlineComponents=e}async function Tz(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ge(qs,"Using user provided OfflineComponentProvider");try{await Gv(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Xo("Error using user provided cache. Falling back to memory cache: "+t),await Gv(r,new Lf)}}else ge(qs,"Using default OfflineComponentProvider"),await Gv(r,new bz(void 0));return r._offlineComponents}async function cD(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ge(qs,"Using user provided OnlineComponentProvider"),await fC(r,r._uninitializedComponentsProvider._online)):(ge(qs,"Using default OnlineComponentProvider"),await fC(r,new _0))),r._onlineComponents}function xz(r){return cD(r).then((e=>e.syncEngine))}async function hD(r){const e=await cD(r),t=e.eventManager;return t.onListen=oz.bind(null,e.syncEngine),t.onUnlisten=cz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=lz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=hz.bind(null,e.syncEngine),t}function Sz(r,e,t={}){const i=new Mi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const v=new uD({next:x=>{v.Nu(),c.enqueueAndForget((()=>Z2(l,b)));const S=x.docs.has(d);!S&&x.fromCache?g.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&x.fromCache&&p&&p.source==="server"?g.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),b=new eD(vb(d.path),v,{includeMetadataChanges:!0,Ka:!0});return J2(l,b)})(await hD(r),r.asyncQueue,e,t,i))),i.promise}function wz(r,e,t={}){const i=new Mi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const v=new uD({next:x=>{v.Nu(),c.enqueueAndForget((()=>Z2(l,b))),x.fromCache&&p.source==="server"?g.reject(new me(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),b=new eD(d,v,{includeMetadataChanges:!0,Ka:!0});return J2(l,b)})(await hD(r),r.asyncQueue,e,t,i))),i.promise}function Az(r,e){const t=new Mi;return r.asyncQueue.enqueueAndForget((async()=>fz(await xz(r),e,t))),t.promise}function fD(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Rz="ComponentProvider",dC=new Map;function Cz(r,e,t,i,a){return new Y5(r,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,fD(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const dD="firestore.googleapis.com",pC=!0;class mC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dD,this.ssl=pC}else this.host=e.host,this.ssl=e.ssl??pC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<n9)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fD(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rd{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new A5;switch(i.type){case"firstParty":return new N5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=dC.get(t);i&&(ge(Rz,"Removing Datastore"),dC.delete(t),i.terminate())})(this),Promise.resolve()}}function Iz(r,e,t,i={}){r=qi(r,Rd);const a=ul(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;a&&(sO(`https://${d}`),aO("Firestore",!0)),l.host!==dD&&l.host!==d&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:a,emulatorOptions:i};if(!Ma(p,c)&&(r._setSettings(p),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=yn.MOCK_USER;else{g=WL(i.mockUserToken,r._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new yn(b)}r._authCredentials=new R5(new WO(g,v))}}class zs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new zs(this.firestore,e,this._query)}}class $t{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}toJSON(){return{type:$t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(mc(t,$t._jsonSchema))return new $t(e,i||null,new Te(gt.fromString(t.referencePath)))}}$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:Gt("string",$t._jsonSchemaVersion),referencePath:Gt("string")};class js extends zs{constructor(e,t,i){super(e,t,vb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new Te(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function Pb(r,e,...t){if(r=Dn(r),JO("collection","path",e),r instanceof Rd){const i=gt.fromString(e,...t);return CR(i),new js(r,null,i)}{if(!(r instanceof $t||r instanceof js))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(gt.fromString(e,...t));return CR(i),new js(r.firestore,null,i)}}function Cd(r,e,...t){if(r=Dn(r),arguments.length===1&&(e=fb.newId()),JO("doc","path",e),r instanceof Rd){const i=gt.fromString(e,...t);return RR(i),new $t(r,null,new Te(i))}{if(!(r instanceof $t||r instanceof js))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(gt.fromString(e,...t));return RR(i),new $t(r.firestore,r instanceof js?r.converter:null,new Te(i))}}const gC="AsyncQueue";class yC{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new H2(this,"async_queue_retry"),this._c=()=>{const i=Hv();i&&ge(gC,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Hv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Hv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Mi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!pl(e))throw e;ge(gC,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ui("INTERNAL UNHANDLED ERROR: ",vC(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Db.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Se(47125,{Pc:vC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function vC(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class yl extends Rd{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new yC,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yC(e),this._firestoreClient=void 0,await e}}}function Nz(r,e){const t=typeof r=="object"?r:cO(),i=typeof r=="string"?r:If,a=Z0(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=QL("firestore");l&&Iz(a,...l)}return a}function Lb(r){if(r._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Oz(r),r._firestoreClient}function Oz(r){const e=r._freezeSettings(),t=Cz(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Ez(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(r._componentsProvider))}class lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lr(fn.fromBase64String(e))}catch(t){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new lr(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mc(e,lr._jsonSchema))return lr.fromBase64String(e.bytes)}}lr._jsonSchemaVersion="firestore/bytes/1.0",lr._jsonSchema={type:Gt("string",lr._jsonSchemaVersion),bytes:Gt("string")};class pD{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mD{constructor(e){this._methodName=e}}class si{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(e){if(mc(e,si._jsonSchema))return new si(e.latitude,e.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:Gt("string",si._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class Rr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mc(e,Rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Rr(e.vectorValues);throw new me(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rr._jsonSchemaVersion="firestore/vectorValue/1.0",Rr._jsonSchema={type:Gt("string",Rr._jsonSchemaVersion),vectorValues:Gt("object")};const Dz=/^__.*__$/;class Mz{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ha(e,this.data,this.fieldMask,t,this.fieldTransforms):new gc(e,this.data,t,this.fieldTransforms)}}function gD(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{dataSource:r})}}class Ub{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ub({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Uf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(gD(this.dataSource)&&Dz.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class jz{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Sd(e)}createContext(e,t,i,a=!1){return new Ub({dataSource:e,methodName:t,targetDoc:i,path:hn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qb(r){const e=r._freezeSettings(),t=Sd(r._databaseId);return new jz(r._databaseId,!!e.ignoreUndefinedProperties,t)}function yD(r,e,t,i,a,l={}){const c=r.createContext(l.merge||l.mergeFields?2:0,e,t,a);bD("Data must be an object, but it was:",c,i);const d=vD(i,c);let p,g;if(l.merge)p=new Sr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const x=Id(e,b,t);if(!c.contains(x))throw new me(ie.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Lz(v,x)||v.push(x)}p=new Sr(v),g=c.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=c.fieldTransforms;return new Mz(new or(d),p,g)}function kz(r,e,t,i=!1){return zb(t,r.createContext(i?4:3,e))}function zb(r,e){if(_D(r=Dn(r)))return bD("Unsupported field value:",e,r),vD(r,e);if(r instanceof mD)return(function(i,a){if(!gD(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let p=zb(d,a.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(r,e)}return(function(i,a){if((i=Dn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return bq(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=bt.fromDate(i);return{timestampValue:kf(a.serializer,l)}}if(i instanceof bt){const l=new bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:kf(a.serializer,l)}}if(i instanceof si)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof lr)return{bytesValue:D2(a.serializer,i._byteString)};if(i instanceof $t){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:xb(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Rr)return(function(c,d){const p=c instanceof Rr?c.toArray():c;return{mapValue:{fields:{[o2]:{stringValue:l2},[Nf]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return _b(d.serializer,v)}))}}}}}})(i,a);if(U2(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${md(i)}`)})(r,e)}function vD(r,e){const t={};return t2(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(r,((i,a)=>{const l=zb(a,e.childContextForField(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function _D(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof bt||r instanceof si||r instanceof lr||r instanceof $t||r instanceof mD||r instanceof Rr||U2(r))}function bD(r,e,t){if(!_D(t)||!ZO(t)){const i=md(t);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function Id(r,e,t){if((e=Dn(e))instanceof pD)return e._internalPath;if(typeof e=="string")return Pz(r,e);throw Uf("Field path arguments must be of type string or ",r,!1,void 0,t)}const Vz=new RegExp("[~\\*/\\[\\]]");function Pz(r,e,t){if(e.search(Vz)>=0)throw Uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new pD(...e.split("."))._internalPath}catch{throw Uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Uf(r,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new me(ie.INVALID_ARGUMENT,d+r+p)}function Lz(r,e){return r.some((t=>t.isEqual(e)))}class Uz{convertValue(e,t="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ba(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Nf].arrayValue?.values?.map((i=>Dt(i.doubleValue)));return new Rr(t)}convertGeoPoint(e){return new si(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=vd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Yu(e));default:return null}}convertTimestamp(e){const t=Vs(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=gt.fromString(e);st(L2(i),9688,{name:e});const a=new Qu(i.get(1),i.get(3)),l=new Te(i.popFirst(5));return a.isEqual(t)||Ui(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class ED extends Uz{constructor(e){super(),this.firestore=e}convertBytes(e){return new lr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,t)}}const _C="@firebase/firestore",bC="4.10.0";class TD{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Id("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class qz extends TD{data(){return super.data()}}function zz(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bb{}class Fb extends Bb{}function Hb(r,e,...t){let i=[];e instanceof Bb&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((p=>p instanceof $b)).length,d=l.filter((p=>p instanceof Gb)).length;if(c>1||c>0&&d>0)throw new me(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)r=a._apply(r);return r}class Gb extends Fb{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Gb(e,t,i)}_apply(e){const t=this._parse(e);return xD(e._query,t),new zs(e.firestore,e.converter,c0(e._query,t))}_parse(e){const t=qb(e.firestore);return(function(l,c,d,p,g,v,b){let x;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new me(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){TC(b,v);const j=[];for(const P of b)j.push(EC(p,l,P));x={arrayValue:{values:j}}}else x=EC(p,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||TC(b,v),x=kz(d,c,b,v==="in"||v==="not-in");return Ht.create(g,v,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class $b extends Bb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $b(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)xD(c,p),c=c0(c,p)})(e._query,t),new zs(e.firestore,e.converter,c0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kb extends Fb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Kb(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new me(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new me(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wu(l,c)})(e._query,this._field,this._direction);return new zs(e.firestore,e.converter,fq(e._query,t))}}function Yb(r,e="asc"){const t=e,i=Id("orderBy",r);return Kb._create(i,t)}class Qb extends Fb{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Qb(e,t,i)}_apply(e){return new zs(e.firestore,e.converter,Df(e._query,this._limit,this._limitType))}}function Xb(r){return P5("limit",r),Qb._create("limit",r,"F")}function EC(r,e,t){if(typeof(t=Dn(t))=="string"){if(t==="")throw new me(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g2(e)&&t.indexOf("/")!==-1)throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(gt.fromString(t));if(!Te.isDocumentKey(i))throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return VR(r,new Te(i))}if(t instanceof $t)return VR(r,t._key);throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${md(t)}.`)}function TC(r,e){if(!Array.isArray(r)||r.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xD(r,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function SD(r,e,t){let i;return i=r?r.toFirestore(e):e,i}class Du{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends TD{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Id("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Na._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:Gt("string",Na._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class df extends Na{data(e={}){return super.data(e)}}class Go{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Du(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new df(this._firestore,this._userDataWriter,i.key,i,new Du(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new df(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Du(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new df(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Du(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:Bz(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Bz(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}Go._jsonSchemaVersion="firestore/querySnapshot/1.0",Go._jsonSchema={type:Gt("string",Go._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};function wD(r){r=qi(r,$t);const e=qi(r.firestore,yl),t=Lb(e);return Sz(t,r._key).then((i=>Hz(e,r,i)))}function Wb(r){r=qi(r,zs);const e=qi(r.firestore,yl),t=Lb(e),i=new ED(e);return zz(r._query),wz(t,r._query).then((a=>new Go(e,i,r,a)))}function Fz(r,e,t){r=qi(r,$t);const i=qi(r.firestore,yl),a=SD(r.converter,e),l=qb(i);return Jb(i,[yD(l,"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Ar.none())])}function AD(r){return Jb(qi(r.firestore,yl),[new bb(r._key,Ar.none())])}function RD(r,e){const t=qi(r.firestore,yl),i=Cd(r),a=SD(r.converter,e),l=qb(r.firestore);return Jb(t,[yD(l,"addDoc",i._key,a,r.converter!==null,{}).toMutation(i._key,Ar.exists(!1))]).then((()=>i))}function Jb(r,e){const t=Lb(r);return Az(t,e)}function Hz(r,e,t){const i=t.docs.get(e._key),a=new ED(r);return new Na(r,a,e._key,i,new Du(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){w5(cl),Yo(new ja("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new yl(new C5(i.getProvider("auth-internal")),new O5(c,i.getProvider("app-check-internal")),Q5(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Ds(_C,bC,e),Ds(_C,bC,"esm2020")})();const Gz={apiKey:"AIzaSyDXya7ukJ5P7pR2MVidcqxrWYWhK-VP8tY",authDomain:"completionist-state.firebaseapp.com",projectId:"completionist-state",storageBucket:"completionist-state.firebasestorage.app",messagingSenderId:"319558268180",appId:"1:319558268180:web:332ac473de29adf0b0fe01",measurementId:"G-78MMCXL994"},CD=uO(Gz),Cr=E5(CD),ID=new Ii,nl=Nz(CD),ND=({onAuthChange:r})=>{const[e,t]=B.useState(null),[i,a]=B.useState(!0);B.useEffect(()=>{const d=lb(Cr,p=>{t(p),a(!1),r&&r(p)});return()=>d()},[r]);const l=async()=>{try{await BO(Cr,ID),window.location.reload()}catch(d){console.error("Error signing in:",d)}},c=async()=>{try{await hU(Cr),window.location.reload()}catch(d){console.error("Error signing out:",d)}};return i?y.jsx(Vi,{className:"text-gray-400"}):e?y.jsxs("button",{onClick:c,className:"flex items-center w-full px-2 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors rounded-md",title:`Sign out (${e.email})`,children:[y.jsx(nN,{className:"mr-2 text-red-500 text-xl"}),"Sign Out"]}):y.jsxs("button",{onClick:l,className:"flex items-center w-full px-2 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors rounded-md",title:"Sign in with Google",children:[y.jsx(tN,{className:"mr-2 text-gray-400 text-xl"}),"Sign in with Google"]})};ND.propTypes={onAuthChange:C.func};const Oa=25,xC=4e5,$z=60*1e3;let Bu=0,b0=null;const Kz=()=>Bu,SC=r=>r?r.gameConfig&&Object.keys(r.gameConfig).length>0||r.todoItems&&Object.keys(r.todoItems).length>0:!1,Yz=async()=>{const r=localStorage.getItem("state");let e;try{e=(r?JSON.parse(r):void 0)||void 0}catch(t){console.error("Error parsing localStorage state:",t),localStorage.removeItem("state"),localStorage.removeItem("state_cloud_synced")}try{const t=Cr.currentUser;if(!t)return e;const i=Cd(nl,"users",t.uid,"data","state"),a=await wD(i);if(a.exists()){const l=a.data().state||void 0,c=a.data().updatedAt;return SC(e)&&SC(l)?localStorage.getItem("state_cloud_synced")==="true"?l:{_conflict:!0,cloudState:l,localState:e,cloudUpdated:c?.toDate?.()||c}:l}else return e!==void 0?(await Ci(e),e):void 0}catch(t){return console.error("Error loading state:",t),t.code==="permission-denied"?{_error:!0,errorType:"permission-denied",errorMessage:"Failed to load cloud data due to insufficient permissions. Check Firestore security rules.",localState:e}:void 0}},Ci=async r=>{if(r===void 0)return;const e=JSON.stringify(r);localStorage.setItem("state",e);try{const t=Cr.currentUser;if(!t){localStorage.removeItem("state_cloud_synced");return}const i=new Blob([e]).size;if(i>xC){console.error(`State too large: ${i} bytes (max ${xC})`),alert(`Your data is too large (${Math.round(i/1024)}KB). Please reduce todo items or checked items.`);return}const a=new Date,l=Cd(nl,"users",t.uid,"data","state");await Fz(l,{state:r,updatedAt:a}),localStorage.setItem("state_cloud_synced","true");const c=a.getTime()-Bu,d=e;if(b0!==d&&(Bu===0||c>=$z)){Bu=a.getTime(),b0=d;const v=Pb(nl,"users",t.uid,"data","state","history");await RD(v,{state:r,savedAt:a});const b=Hb(v,Yb("savedAt","desc"),Xb(Oa+1)),x=await Wb(b);if(x.size>Oa){const S=[];x.docs.forEach((j,P)=>{P>=Oa&&S.push(AD(j.ref))}),await Promise.all(S)}}}catch(t){console.error("âŒ Error saving state to cloud:",t),console.error("Error code:",t.code),console.error("Error message:",t.message),t.code==="permission-denied"&&(console.error("ðŸš« PERMISSION DENIED during save"),alert("Failed to save to cloud due to permission error. Your data is saved locally."))}},Qz=async()=>{try{const r=Cr.currentUser;if(!r)return[];const e=Pb(nl,"users",r.uid,"data","state","history"),t=Hb(e,Yb("savedAt","desc"),Xb(Oa));return(await Wb(t)).docs.map(a=>({id:a.id,state:a.data().state,savedAt:a.data().savedAt?.toDate?.()||a.data().savedAt}))}catch(r){return console.error("Error loading version history:",r),[]}},Xz=async()=>{try{const r=Cr.currentUser;if(!r)return console.error("âŒ ForceSaveToHistory - No user authenticated"),!1;const e=localStorage.getItem("state");if(!e)return console.error("âŒ ForceSaveToHistory - No state in localStorage"),!1;const t=JSON.parse(e),i=new Date;console.log("ðŸ’¾ ForceSaveToHistory - Saving to history...");const a=Pb(nl,"users",r.uid,"data","state","history");await RD(a,{state:t,savedAt:i}),Bu=i.getTime(),b0=e,console.log("âœ… ForceSaveToHistory - Successfully saved to history");const l=Hb(a,Yb("savedAt","desc"),Xb(Oa+1)),c=await Wb(l);if(c.size>Oa){const d=[];c.docs.forEach((p,g)=>{g>=Oa&&d.push(AD(p.ref))}),await Promise.all(d)}return!0}catch(r){return console.error("âŒ Error force saving to history:",r),console.error("Error code:",r.code),console.error("Error message:",r.message),!1}},Wz=async r=>{try{const e=Cr.currentUser;if(!e)return console.error("âŒ RestoreVersion - No user authenticated"),null;const t=Cd(nl,"users",e.uid,"data","state","history",r),i=await wD(t);if(i.exists()){const a=i.data().state;return await Ci(a),a}return console.error("âŒ RestoreVersion - Version document not found"),null}catch(e){return console.error("âŒ Error restoring version:",e),console.error("Error code:",e.code),console.error("Error message:",e.message),null}},OD=({open:r,onClose:e,onRestore:t})=>{const[i,a]=B.useState([]),[l,c]=B.useState(!0),[d,p]=B.useState(null);B.useEffect(()=>{r&&g()},[r]);const g=async()=>{c(!0);const S=await Qz();a(S),c(!1)},v=async S=>{p(S);const j=await Wz(S);j&&t&&t(j),p(null),e(),window.location.reload()},b=S=>S?new Date(S).toLocaleString():"Unknown",x=S=>{let j=0;S.gameConfig&&Object.values(S.gameConfig).forEach(M=>{typeof M=="object"&&Object.values(M).forEach(F=>{typeof F=="object"&&(j+=Object.keys(F).length)})});const P=S.todoItems?Object.keys(S.todoItems).length:0;return`${j} items, ${P} todo`};return r?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-11/12 md:w-3/4 overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh] text-left",children:[y.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-gray-100 rounded-lg text-gray-600",children:y.jsx(M0,{className:"text-2xl"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Version History (Last 25)"})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(_n,{className:"text-gray-400 text-2xl"})})]}),y.jsx("div",{className:"grow overflow-y-auto p-6",children:l?y.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[y.jsx(Vi,{className:"mb-4"}),y.jsx("p",{children:"Loading versions..."})]}):i.length===0?y.jsx("div",{className:"text-center py-12 text-gray-500",children:y.jsx("p",{children:"No version history available yet. Versions are saved when you make changes while signed in."})}):y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left text-lg",children:[y.jsx("thead",{className:"text-base text-gray-500 uppercase tracking-wider bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-2 font-semibold",children:"Date & Time"}),y.jsx("th",{className:"px-4 py-2 font-semibold",children:"Summary"}),y.jsx("th",{className:"px-4 py-2 font-semibold text-right",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-100",children:i.map((S,j)=>y.jsxs("tr",{className:j===0?"bg-green-50/30":"",children:[y.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center gap-2",children:[j===0&&y.jsx(rn,{className:"text-green-500"}),y.jsx("span",{className:j===0?"font-bold text-gray-900":"text-gray-700",children:b(S.savedAt)}),j===0&&y.jsx("span",{className:"text-base text-green-500 font-medium",children:"(Current)"})]})}),y.jsx("td",{className:"px-4 py-3 text-gray-500",children:x(S.state)}),y.jsx("td",{className:"px-4 py-3 text-right",children:j===0?y.jsx("span",{className:"text-gray-400 italic",children:"Current Version"}):y.jsxs("button",{disabled:d!==null,onClick:()=>v(S.id),className:"inline-flex items-center gap-1.5 px-3 py-1 bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50 transition-colors shadow-sm text-base font-bold",children:[d===S.id?y.jsx(Vi,{}):y.jsx(iN,{}),"Restore"]})})]},S.id))})]})})}),y.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsx("button",{onClick:e,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 text-gray-700 font-bold transition-colors shadow-sm text-lg",children:"Close"})})]})}):null};OD.propTypes={open:C.bool.isRequired,onClose:C.func.isRequired,onRestore:C.func};let DD=class extends Kt.Component{constructor(e){super(e),this.state={isCloudUser:!1,showVersionHistory:!1,isSavingHistory:!1,settingsOpened:!1},this.handleFileUploadClick=this.handleFileUploadClick.bind(this),this.handleFileUpload=this.handleFileUpload.bind(this),this.handleVersionHistoryOpen=this.handleVersionHistoryOpen.bind(this),this.handleVersionHistoryClose=this.handleVersionHistoryClose.bind(this),this.handleForceSaveToHistory=this.handleForceSaveToHistory.bind(this),this.settingsRef=Kt.createRef(),this.fileInput=Kt.createRef(),this.handleClickOutside=this.handleClickOutside.bind(this)}componentDidMount(){this.unsubscribe=lb(Cr,e=>{this.setState({isCloudUser:!!e})}),document.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){this.unsubscribe&&this.unsubscribe(),document.removeEventListener("mousedown",this.handleClickOutside)}handleClickOutside(e){this.settingsRef.current&&!this.settingsRef.current.contains(e.target)&&this.setState({settingsOpened:!1})}handleVisibilityToggle(){return()=>{const e=this.props.visibilityFilter===Wt.SHOW_ALL?Wt.SHOW_ACTIVE:Wt.SHOW_ALL;this.props.setVisibilityFilter(e)}}handleSearchFilterChange(){return e=>{this.props.setSearchValue(e.target.value)}}handleClearFilter(){return()=>{this.props.setSearchValue("")}}handleFileUploadClick(e){e.preventDefault(),this.setState({settingsOpened:!1}),this.fileInput.current.value&&(this.fileInput.current.value=null),this.fileInput.current.click()}handleFileUpload(e){if(e.preventDefault(),!this.fileInput.current.files||!this.fileInput.current.files.length||this.fileInput.current.files.length!==1)return;const t=this.fileInput.current.files[0];if(t.type!=="application/json"||t.size>200*1024)return;const i=new FileReader;i.onload=a=>{const l=a.target.result,c=JSON.parse(l);return this.props.uploadState(c)},i.readAsText(t)}handleVersionHistoryOpen(){this.setState({showVersionHistory:!0,settingsOpened:!1})}handleVersionHistoryClose(){this.setState({showVersionHistory:!1})}async handleSignIn(){try{await BO(Cr,ID),window.location.reload()}catch(e){console.error("Error signing in:",e)}}async handleForceSaveToHistory(){this.setState({isSavingHistory:!0});const e=await Xz();this.setState({isSavingHistory:!1}),e?this.forceUpdate():alert("Failed to save to history. Check console for details.")}getCloudTooltip(){const e=Kz();return e===0?"Click to save current state to history":`Click to save current state to history
Last saved: ${new Date(e).toLocaleString()}`}render(){return y.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 ml-auto",children:[y.jsxs("div",{className:"relative flex items-center group text-gray-400 mr-4",children:[y.jsx("input",{type:"text",placeholder:"Filter...",value:this.props.searchFilter,onChange:this.handleSearchFilterChange(),className:"pl-3 pr-10 py-1 w-32 sm:w-48 text-sm bg-transparent focus:outline-none transition-all"}),y.jsx(JI,{className:"transition-colors text-lg pointer-events-none roup-focus-within:text-gray-900"}),this.props.searchFilter&&y.jsx("button",{onClick:this.handleClearFilter(),className:"absolute right-7 top-1/2 -translate-y-1/2 p-0.5 hover:bg-gray-200 rounded-full transition-colors",children:y.jsx(_n,{className:"text-red-600 text-xs"})})]}),y.jsx("button",{onClick:this.handleVisibilityToggle(),title:"Hide Marked",className:`p-1 cursor-pointer transition-colors ${this.props.visibilityFilter!==Wt.SHOW_ALL?"text-red-600":"text-gray-700 hover:text-gray-900"}`,children:y.jsx(vf,{className:"text-lg"})}),y.jsx(Hu,{to:"/info",title:"Info",className:"p-1 text-gray-700 hover:text-gray-900 transition-colors [&.active]:text-black",children:y.jsx(Kf,{className:"text-lg"})}),y.jsx("button",{onClick:this.state.isCloudUser?()=>this.handleForceSaveToHistory():()=>this.handleSignIn(),title:this.state.isCloudUser?this.getCloudTooltip():"Sign in with Google",className:`p-1 cursor-pointer transition-all ${this.state.isCloudUser?"text-sky-700 hover:opacity-80":"text-gray-400 hover:text-gray-600"}`,children:y.jsx(ju,{className:`text-lg ${this.state.isSavingHistory?"animate-pulse":""}`})}),y.jsxs("div",{className:"relative",ref:this.settingsRef,children:[y.jsx("button",{onClick:()=>this.setState(e=>({settingsOpened:!e.settingsOpened})),className:"p-1 text-gray-700 hover:text-gray-900 transition-colors cursor-pointer",children:y.jsx(sl,{className:"text-lg"})}),this.state.settingsOpened&&y.jsxs("div",{className:"absolute right-0 mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[y.jsx("div",{className:"px-3 py-1.5 text-base font-semibold text-gray-500 uppercase tracking-wider",children:"Settings"}),y.jsxs("button",{onClick:()=>{this.props.downloadState(),this.setState({settingsOpened:!1})},className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(ZI,{className:"mr-2 text-gray-400 text-xl"}),"Download state"]}),y.jsxs("button",{onClick:this.handleFileUploadClick,className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(eN,{className:"mr-2 text-gray-400 text-xl"}),"Upload state"]}),y.jsx("input",{type:"file",ref:this.fileInput,hidden:!0,onChange:this.handleFileUpload}),this.state.isCloudUser&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"border-t border-gray-100 my-1"}),y.jsxs("button",{onClick:()=>this.handleVersionHistoryOpen(),className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(M0,{className:"mr-2 text-gray-400 text-xl"}),"Version History"]})]}),y.jsx("div",{className:"border-t border-gray-100 my-1"}),y.jsx("div",{className:"px-2 py-1",children:y.jsx(ND,{})})]})]}),y.jsx(OD,{open:this.state.showVersionHistory,onClose:this.handleVersionHistoryClose})]})}};DD.propTypes={downloadState:C.func.isRequired,uploadState:C.func.isRequired,setVisibilityFilter:C.func.isRequired,visibilityFilter:C.string.isRequired,setSearchValue:C.func.isRequired,searchFilter:C.string.isRequired};var pf={exports:{}},Jz=pf.exports,wC;function Zz(){return wC||(wC=1,(function(r,e){(function(t,i){i()})(Jz,function(){function t(g,v){return typeof v>"u"?v={autoBom:!1}:typeof v!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),v={autoBom:!v}),v.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function i(g,v,b){var x=new XMLHttpRequest;x.open("GET",g),x.responseType="blob",x.onload=function(){p(x.response,v,b)},x.onerror=function(){console.error("could not download file")},x.send()}function a(g){var v=new XMLHttpRequest;v.open("HEAD",g,!1);try{v.send()}catch{}return 200<=v.status&&299>=v.status}function l(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(v)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Cs=="object"&&Cs.global===Cs?Cs:void 0,d=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(g,v,b){var x=c.URL||c.webkitURL,S=document.createElement("a");v=v||g.name||"download",S.download=v,S.rel="noopener",typeof g=="string"?(S.href=g,S.origin===location.origin?l(S):a(S.href)?i(g,v,b):l(S,S.target="_blank")):(S.href=x.createObjectURL(g),setTimeout(function(){x.revokeObjectURL(S.href)},4e4),setTimeout(function(){l(S)},0))}:"msSaveOrOpenBlob"in navigator?function(g,v,b){if(v=v||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(t(g,b),v);else if(a(g))i(g,v,b);else{var x=document.createElement("a");x.href=g,x.target="_blank",setTimeout(function(){l(x)})}}:function(g,v,b,x){if(x=x||open("","_blank"),x&&(x.document.title=x.document.body.innerText="downloading..."),typeof g=="string")return i(g,v,b);var S=g.type==="application/octet-stream",j=/constructor/i.test(c.HTMLElement)||c.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||S&&j||d)&&typeof FileReader<"u"){var M=new FileReader;M.onloadend=function(){var W=M.result;W=P?W:W.replace(/^data:[^;]*;/,"data:attachment/file;"),x?x.location.href=W:location=W,x=null},M.readAsDataURL(g)}else{var F=c.URL||c.webkitURL,z=F.createObjectURL(g);x?x.location=z:location.href=z,x=null,setTimeout(function(){F.revokeObjectURL(z)},4e4)}});c.saveAs=p.saveAs=p,r.exports=p})})(pf)),pf.exports}var eB=Zz();const MD=Yt(eB),tB=r=>({visibilityFilter:r.visibilityFilter,searchFilter:r.searchFilter,gameConfig:r.gameConfig,fullState:r}),nB=r=>({uploadState:e=>r(IP(e)),setVisibilityFilter:e=>r(RP(e)),setSearchValue:e=>r(AP(e))}),rB=(r,e,t)=>({...t,visibilityFilter:r.visibilityFilter,searchFilter:r.searchFilter,gameConfig:r.gameConfig,...e,downloadState:()=>{const i=new Blob([JSON.stringify(r.fullState,null,2)],{type:"text/json;charset=utf-8"});MD.saveAs(i,"state.json")}}),iB=oP(tB,nB,rB)(DD),jD=({configs:r,children:e})=>{const[t,i]=B.useState(!1),a=B.useRef(null),l=Bi();B.useEffect(()=>{const g=v=>{a.current&&!a.current.contains(v.target)&&t&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[t]);const c=()=>{i(!t)},d=r.find(g=>l.pathname.startsWith(`/${g.name}`)),p=d?d.title:"Select Game";return y.jsxs("div",{className:"min-h-screen bg-white",children:[y.jsx("header",{className:"sticky top-0 z-40 w-full bg-white border-b border-gray-200",children:y.jsxs("div",{className:"px-3 h-11 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:c,className:"p-1 hover:bg-gray-100 rounded-md transition-colors text-gray-500",title:"Menu",children:y.jsx(WI,{className:"text-lg"})}),y.jsx("span",{className:"text-gray-900 font-bold text-lg truncate",children:p})]}),y.jsx("div",{className:"flex items-center",children:y.jsx(iB,{})})]})}),y.jsx("div",{className:`fixed inset-0 bg-black/20 backdrop-blur-[1px] z-[60] duration-300 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>i(!1)}),y.jsx("div",{ref:a,className:`fixed inset-y-0 left-0 w-64 bg-white shadow-2xl z-[70] transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"-translate-x-full"}`,children:y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsxs("div",{className:"px-4 py-4 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("span",{className:"font-bold text-xl text-gray-900",children:"Completionist"}),y.jsx("button",{onClick:()=>i(!1),className:"p-1 hover:bg-gray-100 rounded-md transition-colors text-gray-400 hover:text-gray-600",children:y.jsx(_n,{className:"text-xl"})})]}),y.jsxs("div",{className:"grow overflow-y-auto py-2",children:[y.jsx("div",{className:"px-4 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest border-b border-gray-50 mb-1",children:"Select Game"}),r.map(g=>y.jsx(Hu,{to:`/${g.name}`,onClick:()=>i(!1),className:"flex items-center px-4 py-2.5 text-base text-gray-700 hover:bg-gray-50 transition-colors [&.active]:bg-gray-100 [&.active]:text-black [&.active]:font-bold border-l-4 border-transparent [&.active]:border-black",children:g.title},g.name))]}),y.jsx("div",{className:"py-2 border-t border-gray-100",children:y.jsxs(Hu,{to:"/info",onClick:()=>i(!1),className:"flex items-center px-4 py-2.5 text-base text-gray-700 hover:bg-gray-50 transition-colors [&.active]:bg-gray-100 [&.active]:text-black [&.active]:font-bold border-l-4 border-transparent [&.active]:border-black",children:[y.jsx(Kf,{className:"mr-2 text-xl"}),"Info / Credits"]})})]})}),y.jsx("main",{className:"max-w-7xl mx-auto px-2",children:e})]})};jD.propTypes={children:C.node,configs:C.array.isRequired};const qf=({configs:r})=>{const e=r[0]?.name;return y.jsx(Yk,{children:y.jsx(jD,{configs:r,children:y.jsxs(PI,{children:[y.jsx(Sa,{path:"/info",element:y.jsx(qL,{})}),y.jsx(Sa,{path:"/:gameName/*",element:y.jsx(JN,{configs:r})}),y.jsx(Sa,{path:"/",element:y.jsx(B_,{to:`/${e}`,replace:!0})})]})})})};qf.propTypes={configs:C.arrayOf(C.shape({name:C.string.isRequired,title:C.string.isRequired}))};var $v={exports:{}},wu={},Kv={exports:{}},Yv={};var AC;function sB(){return AC||(AC=1,(function(r){function e(ee,he){var ye=ee.length;ee.push(he);e:for(;0<ye;){var Pe=ye-1>>>1,Fe=ee[Pe];if(0<a(Fe,he))ee[Pe]=he,ee[ye]=Fe,ye=Pe;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var he=ee[0],ye=ee.pop();if(ye!==he){ee[0]=ye;e:for(var Pe=0,Fe=ee.length,U=Fe>>>1;Pe<U;){var ne=2*(Pe+1)-1,ue=ee[ne],de=ne+1,X=ee[de];if(0>a(ue,ye))de<Fe&&0>a(X,ue)?(ee[Pe]=X,ee[de]=ye,Pe=de):(ee[Pe]=ue,ee[ne]=ye,Pe=ne);else if(de<Fe&&0>a(X,ye))ee[Pe]=X,ee[de]=ye,Pe=de;else break e}}return he}function a(ee,he){var ye=ee.sortIndex-he.sortIndex;return ye!==0?ye:ee.id-he.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,b=null,x=3,S=!1,j=!1,P=!1,M=!1,F=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function le(ee){for(var he=t(g);he!==null;){if(he.callback===null)i(g);else if(he.startTime<=ee)i(g),he.sortIndex=he.expirationTime,e(p,he);else break;he=t(g)}}function ce(ee){if(P=!1,le(ee),!j)if(t(p)!==null)j=!0,oe||(oe=!0,L());else{var he=t(g);he!==null&&Ie(ce,he.startTime-ee)}}var oe=!1,I=-1,R=5,O=-1;function k(){return M?!0:!(r.unstable_now()-O<R)}function D(){if(M=!1,oe){var ee=r.unstable_now();O=ee;var he=!0;try{e:{j=!1,P&&(P=!1,z(I),I=-1),S=!0;var ye=x;try{t:{for(le(ee),b=t(p);b!==null&&!(b.expirationTime>ee&&k());){var Pe=b.callback;if(typeof Pe=="function"){b.callback=null,x=b.priorityLevel;var Fe=Pe(b.expirationTime<=ee);if(ee=r.unstable_now(),typeof Fe=="function"){b.callback=Fe,le(ee),he=!0;break t}b===t(p)&&i(p),le(ee)}else i(p);b=t(p)}if(b!==null)he=!0;else{var U=t(g);U!==null&&Ie(ce,U.startTime-ee),he=!1}}break e}finally{b=null,x=ye,S=!1}he=void 0}}finally{he?L():oe=!1}}}var L;if(typeof W=="function")L=function(){W(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Re=N.port2;N.port1.onmessage=D,L=function(){Re.postMessage(null)}}else L=function(){F(D,0)};function Ie(ee,he){I=F(function(){ee(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(ee){switch(x){case 1:case 2:case 3:var he=3;break;default:he=x}var ye=x;x=he;try{return ee()}finally{x=ye}},r.unstable_requestPaint=function(){M=!0},r.unstable_runWithPriority=function(ee,he){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ye=x;x=ee;try{return he()}finally{x=ye}},r.unstable_scheduleCallback=function(ee,he,ye){var Pe=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Pe+ye:Pe):ye=Pe,ee){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ye+Fe,ee={id:v++,callback:he,priorityLevel:ee,startTime:ye,expirationTime:Fe,sortIndex:-1},ye>Pe?(ee.sortIndex=ye,e(g,ee),t(p)===null&&ee===t(g)&&(P?(z(I),I=-1):P=!0,Ie(ce,ye-Pe))):(ee.sortIndex=Fe,e(p,ee),j||S||(j=!0,oe||(oe=!0,L()))),ee},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(ee){var he=x;return function(){var ye=x;x=he;try{return ee.apply(this,arguments)}finally{x=ye}}}})(Yv)),Yv}var RC;function aB(){return RC||(RC=1,Kv.exports=sB()),Kv.exports}var CC;function oB(){if(CC)return wu;CC=1;var r=aB(),e=Bf(),t=iV();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(i(188))}function g(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),n;if(m===u)return p(f),s;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=m;else{for(var E=!1,w=f.child;w;){if(w===o){E=!0,o=f,u=m;break}if(w===u){E=!0,u=f,o=m;break}w=w.sibling}if(!E){for(w=m.child;w;){if(w===o){E=!0,o=m,u=f;break}if(w===u){E=!0,u=m,o=f;break}w=w.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),W=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function Re(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case F:return"Profiler";case M:return"StrictMode";case ce:return"Suspense";case oe:return"SuspenseList";case O:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case W:return n.displayName||"Context";case z:return(n._context.displayName||"Context")+".Consumer";case le:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return s=n.displayName||null,s!==null?s:Re(n.type)||"Memo";case R:s=n._payload,n=n._init;try{return Re(n(s))}catch{}}return null}var Ie=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Pe=[],Fe=-1;function U(n){return{current:n}}function ne(n){0>Fe||(n.current=Pe[Fe],Pe[Fe]=null,Fe--)}function ue(n,s){Fe++,Pe[Fe]=n.current,n.current=s}var de=U(null),X=U(null),Q=U(null),pe=U(null);function Me(n,s){switch(ue(Q,s),ue(X,n),ue(de,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Gx(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Gx(s),n=$x(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(de),ue(de,n)}function be(){ne(de),ne(X),ne(Q)}function je(n){n.memoizedState!==null&&ue(pe,n);var s=de.current,o=$x(s,n.type);s!==o&&(ue(X,n),ue(de,o))}function ze(n){X.current===n&&(ne(de),ne(X)),pe.current===n&&(ne(pe),pu._currentValue=ye)}var we,He;function qe(n){if(we===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);we=s&&s[1]||"",He=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+n+He}var Ae=!1;function at(n,s){if(!n||Ae)return"";Ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var Y=Z}Reflect.construct(n,[],se)}else{try{se.call()}catch(Z){Y=Z}n.call(se.prototype)}}else{try{throw Error()}catch(Z){Y=Z}(se=n())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&Y&&typeof Z.stack=="string")return[Z.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],w=m[1];if(E&&w){var V=E.split(`
`),K=w.split(`
`);for(f=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===V.length||f===K.length)for(u=V.length-1,f=K.length-1;1<=u&&0<=f&&V[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(V[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||V[u]!==K[f]){var te=`
`+V[u].replace(" at new "," at ");return n.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",n.displayName)),te}while(1<=u&&0<=f);break}}}finally{Ae=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?qe(o):""}function Le(n,s){switch(n.tag){case 26:case 27:case 5:return qe(n.type);case 16:return qe("Lazy");case 13:return n.child!==s&&s!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return at(n.type,!1);case 11:return at(n.type.render,!1);case 1:return at(n.type,!0);case 31:return qe("Activity");default:return""}}function Gn(n){try{var s="",o=null;do s+=Le(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var pt=Object.prototype.hasOwnProperty,Rt=r.unstable_scheduleCallback,Mn=r.unstable_cancelCallback,$n=r.unstable_shouldYield,Qt=r.unstable_requestPaint,Mt=r.unstable_now,Kn=r.unstable_getCurrentPriorityLevel,Bs=r.unstable_ImmediatePriority,Hi=r.unstable_UserBlockingPriority,En=r.unstable_NormalPriority,$a=r.unstable_LowPriority,Fs=r.unstable_IdlePriority,Ka=r.log,Hs=r.unstable_setDisableYieldValue,jt=null,yt=null;function Yn(n){if(typeof Ka=="function"&&Hs(n),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(jt,n)}catch{}}var Ct=Math.clz32?Math.clz32:Tc,Ec=Math.log,Ya=Math.LN2;function Tc(n){return n>>>=0,n===0?32:31-(Ec(n)/Ya|0)|0}var Dr=256,Gs=262144,kt=4194304;function Mr(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function jr(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,m=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var w=u&134217727;return w!==0?(u=w&~m,u!==0?f=Mr(u):(E&=w,E!==0?f=Mr(E):o||(o=w&~n,o!==0&&(f=Mr(o))))):(w=u&~m,w!==0?f=Mr(w):E!==0?f=Mr(E):o||(o=u&~n,o!==0&&(f=Mr(o)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:f}function hr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Nd(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(){var n=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),n}function kr(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function $s(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Od(n,s,o,u,f,m){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var w=n.entanglements,V=n.expirationTimes,K=n.hiddenUpdates;for(o=E&~o;0<o;){var te=31-Ct(o),se=1<<te;w[te]=0,V[te]=-1;var Y=K[te];if(Y!==null)for(K[te]=null,te=0;te<Y.length;te++){var Z=Y[te];Z!==null&&(Z.lane&=-536870913)}o&=~se}u!==0&&Ks(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~s))}function Ks(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Ct(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function _l(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-Ct(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function bl(n,s){var o=s&-s;return o=(o&42)!==0?1:Ys(o),(o&(n.suspendedLanes|s))!==0?0:o}function Ys(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ui(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Sc(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:mS(n.type))}function fr(n,s){var o=he.p;try{return he.p=n,s()}finally{he.p=o}}var dr=Math.random().toString(36).slice(2),Vt="__reactFiber$"+dr,Zt="__reactProps$"+dr,Vr="__reactContainer$"+dr,Qa="__reactEvents$"+dr,Dd="__reactListeners$"+dr,wc="__reactHandles$"+dr,Ac="__reactResources$"+dr,Pr="__reactMarker$"+dr;function Xa(n){delete n[Vt],delete n[Zt],delete n[Qa],delete n[Dd],delete n[wc]}function Lr(n){var s=n[Vt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Vr]||o[Vt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=Zx(n);n!==null;){if(o=n[Vt])return o;n=Zx(n)}return s}n=o,o=n.parentNode}return null}function Qn(n){if(n=n[Vt]||n[Vr]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function jn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Ur(n){var s=n[Ac];return s||(s=n[Ac]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Pt(n){n[Pr]=!0}var El=new Set,Tl={};function qr(n,s){zr(n,s),zr(n+"Capture",s)}function zr(n,s){for(Tl[n]=s,n=0;n<s.length;n++)El.add(s[n])}var xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sl={},wl={};function Rc(n){return pt.call(wl,n)?!0:pt.call(Sl,n)?!1:xl.test(n)?wl[n]=!0:(Sl[n]=!0,!1)}function Wa(n,s,o){if(Rc(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function kn(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Lt(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function en(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Gi(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Al(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,m.call(this,E)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ot(n){if(!n._valueTracker){var s=Gi(n)?"checked":"value";n._valueTracker=Al(n,s,""+n[s])}}function Qs(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Gi(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Br(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Xs=/[\n"\\]/g;function Sn(n){return n.replace(Xs,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ja(n,s,o,u,f,m,E,w){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+en(s)):n.value!==""+en(s)&&(n.value=""+en(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?Rl(n,E,en(s)):o!=null?Rl(n,E,en(o)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+en(w):n.removeAttribute("name")}function Cc(n,s,o,u,f,m,E,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){ot(n);return}o=o!=null?""+en(o):"",s=s!=null?""+en(s):o,w||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=w?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),ot(n)}function Rl(n,s,o){s==="number"&&Br(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function $i(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+en(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Ic(n,s,o){if(s!=null&&(s=""+en(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+en(o):""}function Ki(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(Ie(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=en(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),ot(n)}function wn(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Nc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||Nc.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Il(n,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Cl(n,f,u)}else for(var m in s)s.hasOwnProperty(m)&&Cl(n,m,s[m])}function Za(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(n){return Yi.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function pr(){}var Nl=null;function Xn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Qi=null,Fr=null;function Ws(n){var s=Qn(n);if(s&&(n=s.stateNode)){var o=n[Zt]||null;e:switch(n=s.stateNode,s.type){case"input":if(Ja(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Sn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[Zt]||null;if(!f)throw Error(i(90));Ja(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Qs(u)}break e;case"textarea":Ic(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&$i(n,!!o.multiple,s,!1)}}}var to=!1;function Xi(n,s,o){if(to)return n(s,o);to=!0;try{var u=n(s);return u}finally{if(to=!1,(Qi!==null||Fr!==null)&&(Sh(),Qi&&(s=Qi,n=Fr,Fr=Qi=null,Ws(s),n)))for(s=0;s<n.length;s++)Ws(n[s])}}function mr(n,s){var o=n.stateNode;if(o===null)return null;var u=o[Zt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Js=!1;if(Wn)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){Js=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{Js=!1}var Hr=null,Ol=null,Zs=null;function Dl(){if(Zs)return Zs;var n,s=Ol,o=s.length,u,f="value"in Hr?Hr.value:Hr.textContent,m=f.length;for(n=0;n<o&&s[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&s[o-u]===f[m-u];u++);return Zs=f.slice(n,1<u?1-u:void 0)}function ea(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ci(){return!0}function gr(){return!1}function sn(n){function s(o,u,f,m,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(o=n[w],this[w]=o?o(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ci:gr,this.isPropagationStopped=gr,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),s}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gr=sn(hi),Wi=b({},hi,{view:0,detail:0}),Ml=sn(Wi),Ji,no,$r,ro=b({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zi,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$r&&($r&&n.type==="mousemove"?(Ji=n.screenX-$r.screenX,no=n.screenY-$r.screenY):no=Ji=0,$r=n),Ji)},movementY:function(n){return"movementY"in n?n.movementY:no}}),jl=sn(ro),ta=b({},ro,{dataTransfer:0}),Dc=sn(ta),Mc=b({},Wi,{relatedTarget:0}),na=sn(Mc),kl=b({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),jc=sn(kl),io=b({},hi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),kc=sn(io),Vc=b({},hi,{data:0}),Kr=sn(Vc),Pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Uc[n])?!!s[n]:!1}function Zi(){return qc}var Tn=b({},Wi,{key:function(n){if(n.key){var s=Pc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ea(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Lc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zi,charCode:function(n){return n.type==="keypress"?ea(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ea(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),zc=sn(Tn),Bc=b({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fi=sn(Bc),h=b({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zi}),_=sn(h),T=b({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=sn(T),G=b({},ro,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),J=sn(G),fe=b({},hi,{newState:0,oldState:0}),ke=sn(fe),It=[9,13,27,32],rt=Wn&&"CompositionEvent"in window,Et=null;Wn&&"documentMode"in document&&(Et=document.documentMode);var Jn=Wn&&"TextEvent"in window&&!Et,Yr=Wn&&(!rt||Et&&8<Et&&11>=Et),yr=" ",vr=!1;function ra(n,s){switch(n){case"keyup":return It.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function so(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ao=!1;function QD(n,s){switch(n){case"compositionend":return so(s);case"keypress":return s.which!==32?null:(vr=!0,yr);case"textInput":return n=s.data,n===yr&&vr?null:n;default:return null}}function XD(n,s){if(ao)return n==="compositionend"||!rt&&ra(n,s)?(n=Dl(),Zs=Ol=Hr=null,ao=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yr&&s.locale!=="ko"?null:s.data;default:return null}}var WD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nE(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!WD[n.type]:s==="textarea"}function rE(n,s,o,u){Qi?Fr?Fr.push(u):Fr=[u]:Qi=u,s=Oh(s,"onChange"),0<s.length&&(o=new Gr("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Vl=null,Pl=null;function JD(n){Ux(n,0)}function Fc(n){var s=jn(n);if(Qs(s))return n}function iE(n,s){if(n==="change")return s}var sE=!1;if(Wn){var Md;if(Wn){var jd="oninput"in document;if(!jd){var aE=document.createElement("div");aE.setAttribute("oninput","return;"),jd=typeof aE.oninput=="function"}Md=jd}else Md=!1;sE=Md&&(!document.documentMode||9<document.documentMode)}function oE(){Vl&&(Vl.detachEvent("onpropertychange",lE),Pl=Vl=null)}function lE(n){if(n.propertyName==="value"&&Fc(Pl)){var s=[];rE(s,Pl,n,Xn(n)),Xi(JD,s)}}function ZD(n,s,o){n==="focusin"?(oE(),Vl=s,Pl=o,Vl.attachEvent("onpropertychange",lE)):n==="focusout"&&oE()}function eM(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fc(Pl)}function tM(n,s){if(n==="click")return Fc(s)}function nM(n,s){if(n==="input"||n==="change")return Fc(s)}function rM(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Vn=typeof Object.is=="function"?Object.is:rM;function Ll(n,s){if(Vn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!pt.call(s,f)||!Vn(n[f],s[f]))return!1}return!0}function uE(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function cE(n,s){var o=uE(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uE(o)}}function hE(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?hE(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function fE(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Br(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Br(n.document)}return s}function kd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var iM=Wn&&"documentMode"in document&&11>=document.documentMode,oo=null,Vd=null,Ul=null,Pd=!1;function dE(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pd||oo==null||oo!==Br(u)||(u=oo,"selectionStart"in u&&kd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ul&&Ll(Ul,u)||(Ul=u,u=Oh(Vd,"onSelect"),0<u.length&&(s=new Gr("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=oo)))}function ia(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var lo={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},Ld={},pE={};Wn&&(pE=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function sa(n){if(Ld[n])return Ld[n];if(!lo[n])return n;var s=lo[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in pE)return Ld[n]=s[o];return n}var mE=sa("animationend"),gE=sa("animationiteration"),yE=sa("animationstart"),sM=sa("transitionrun"),aM=sa("transitionstart"),oM=sa("transitioncancel"),vE=sa("transitionend"),_E=new Map,Ud="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ud.push("scrollEnd");function _r(n,s){_E.set(n,s),qr(s,[n])}var Hc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Zn=[],uo=0,qd=0;function Gc(){for(var n=uo,s=qd=uo=0;s<n;){var o=Zn[s];Zn[s++]=null;var u=Zn[s];Zn[s++]=null;var f=Zn[s];Zn[s++]=null;var m=Zn[s];if(Zn[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&bE(o,f,m)}}function $c(n,s,o,u){Zn[uo++]=n,Zn[uo++]=s,Zn[uo++]=o,Zn[uo++]=u,qd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function zd(n,s,o,u){return $c(n,s,o,u),Kc(n)}function aa(n,s){return $c(n,null,null,s),Kc(n)}function bE(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&s!==null&&(f=31-Ct(o),n=m.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),m):null}function Kc(n){if(50<ou)throw ou=0,Xp=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var co={};function lM(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(n,s,o,u){return new lM(n,s,o,u)}function Bd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function di(n,s){var o=n.alternate;return o===null?(o=Pn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function EE(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Yc(n,s,o,u,f,m){var E=0;if(u=n,typeof n=="function")Bd(n)&&(E=1);else if(typeof n=="string")E=dj(n,o,de.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case O:return n=Pn(31,o,s,f),n.elementType=O,n.lanes=m,n;case P:return oa(o.children,f,m,s);case M:E=8,f|=24;break;case F:return n=Pn(12,o,s,f|2),n.elementType=F,n.lanes=m,n;case ce:return n=Pn(13,o,s,f),n.elementType=ce,n.lanes=m,n;case oe:return n=Pn(19,o,s,f),n.elementType=oe,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case W:E=10;break e;case z:E=9;break e;case le:E=11;break e;case I:E=14;break e;case R:E=16,u=null;break e}E=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=Pn(E,o,s,f),s.elementType=n,s.type=u,s.lanes=m,s}function oa(n,s,o,u){return n=Pn(7,n,u,s),n.lanes=o,n}function Fd(n,s,o){return n=Pn(6,n,null,s),n.lanes=o,n}function TE(n){var s=Pn(18,null,null,0);return s.stateNode=n,s}function Hd(n,s,o){return s=Pn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var xE=new WeakMap;function er(n,s){if(typeof n=="object"&&n!==null){var o=xE.get(n);return o!==void 0?o:(s={value:n,source:s,stack:Gn(s)},xE.set(n,s),s)}return{value:n,source:s,stack:Gn(s)}}var ho=[],fo=0,Qc=null,ql=0,tr=[],nr=0,es=null,Qr=1,Xr="";function pi(n,s){ho[fo++]=ql,ho[fo++]=Qc,Qc=n,ql=s}function SE(n,s,o){tr[nr++]=Qr,tr[nr++]=Xr,tr[nr++]=es,es=n;var u=Qr;n=Xr;var f=32-Ct(u)-1;u&=~(1<<f),o+=1;var m=32-Ct(s)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Qr=1<<32-Ct(s)+f|o<<f|u,Xr=m+n}else Qr=1<<m|o<<f|u,Xr=n}function Gd(n){n.return!==null&&(pi(n,1),SE(n,1,0))}function $d(n){for(;n===Qc;)Qc=ho[--fo],ho[fo]=null,ql=ho[--fo],ho[fo]=null;for(;n===es;)es=tr[--nr],tr[nr]=null,Xr=tr[--nr],tr[nr]=null,Qr=tr[--nr],tr[nr]=null}function wE(n,s){tr[nr++]=Qr,tr[nr++]=Xr,tr[nr++]=es,Qr=s.id,Xr=s.overflow,es=n}var an=null,vt=null,Ze=!1,ts=null,rr=!1,Kd=Error(i(519));function ns(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(er(s,n)),Kd}function AE(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Vt]=n,s[Zt]=u,o){case"dialog":$e("cancel",s),$e("close",s);break;case"iframe":case"object":case"embed":$e("load",s);break;case"video":case"audio":for(o=0;o<uu.length;o++)$e(uu[o],s);break;case"source":$e("error",s);break;case"img":case"image":case"link":$e("error",s),$e("load",s);break;case"details":$e("toggle",s);break;case"input":$e("invalid",s),Cc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":$e("invalid",s);break;case"textarea":$e("invalid",s),Ki(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Fx(s.textContent,o)?(u.popover!=null&&($e("beforetoggle",s),$e("toggle",s)),u.onScroll!=null&&$e("scroll",s),u.onScrollEnd!=null&&$e("scrollend",s),u.onClick!=null&&(s.onclick=pr),s=!0):s=!1,s||ns(n,!0)}function RE(n){for(an=n.return;an;)switch(an.tag){case 5:case 31:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:an=an.return}}function po(n){if(n!==an)return!1;if(!Ze)return RE(n),Ze=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||hm(n.type,n.memoizedProps)),o=!o),o&&vt&&ns(n),RE(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));vt=Jx(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));vt=Jx(n)}else s===27?(s=vt,gs(n.type)?(n=gm,gm=null,vt=n):vt=s):vt=an?sr(n.stateNode.nextSibling):null;return!0}function la(){vt=an=null,Ze=!1}function Yd(){var n=ts;return n!==null&&(In===null?In=n:In.push.apply(In,n),ts=null),n}function zl(n){ts===null?ts=[n]:ts.push(n)}var Qd=U(null),ua=null,mi=null;function rs(n,s,o){ue(Qd,s._currentValue),s._currentValue=o}function gi(n){n._currentValue=Qd.current,ne(Qd)}function Xd(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Wd(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var V=0;V<s.length;V++)if(w.context===s[V]){m.lanes|=o,w=m.alternate,w!==null&&(w.lanes|=o),Xd(m.return,o,n),u||(E=null);break e}m=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),Xd(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function mo(n,s,o,u){n=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var w=f.type;Vn(f.pendingProps.value,E.value)||(n!==null?n.push(w):n=[w])}}else if(f===pe.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(pu):n=[pu])}f=f.return}n!==null&&Wd(s,n,o,u),s.flags|=262144}function Xc(n){for(n=n.firstContext;n!==null;){if(!Vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ca(n){ua=n,mi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function on(n){return CE(ua,n)}function Wc(n,s){return ua===null&&ca(n),CE(n,s)}function CE(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},mi===null){if(n===null)throw Error(i(308));mi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else mi=mi.next=s;return o}var uM=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},cM=r.unstable_scheduleCallback,hM=r.unstable_NormalPriority,Ut={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jd(){return{controller:new uM,data:new Map,refCount:0}}function Bl(n){n.refCount--,n.refCount===0&&cM(hM,function(){n.controller.abort()})}var Fl=null,Zd=0,go=0,yo=null;function fM(n,s){if(Fl===null){var o=Fl=[];Zd=0,go=nm(),yo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Zd++,s.then(IE,IE),s}function IE(){if(--Zd===0&&Fl!==null){yo!==null&&(yo.status="fulfilled");var n=Fl;Fl=null,go=0,yo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function dM(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var NE=ee.S;ee.S=function(n,s){dx=Mt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&fM(n,s),NE!==null&&NE(n,s)};var ha=U(null);function ep(){var n=ha.current;return n!==null?n:mt.pooledCache}function Jc(n,s){s===null?ue(ha,ha.current):ue(ha,s.pool)}function OE(){var n=ep();return n===null?null:{parent:Ut._currentValue,pool:n}}var vo=Error(i(460)),tp=Error(i(474)),Zc=Error(i(542)),eh={then:function(){}};function DE(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ME(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(pr,pr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,kE(n),n;default:if(typeof s.status=="string")s.then(pr,pr);else{if(n=mt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,kE(n),n}throw da=s,vo}}function fa(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(da=o,vo):o}}var da=null;function jE(){if(da===null)throw Error(i(459));var n=da;return da=null,n}function kE(n){if(n===vo||n===Zc)throw Error(i(483))}var _o=null,Hl=0;function th(n){var s=Hl;return Hl+=1,_o===null&&(_o=[]),ME(_o,n,s)}function Gl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function nh(n,s){throw s.$$typeof===x?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function VE(n){function s(H,q){if(n){var $=H.deletions;$===null?(H.deletions=[q],H.flags|=16):$.push(q)}}function o(H,q){if(!n)return null;for(;q!==null;)s(H,q),q=q.sibling;return null}function u(H){for(var q=new Map;H!==null;)H.key!==null?q.set(H.key,H):q.set(H.index,H),H=H.sibling;return q}function f(H,q){return H=di(H,q),H.index=0,H.sibling=null,H}function m(H,q,$){return H.index=$,n?($=H.alternate,$!==null?($=$.index,$<q?(H.flags|=67108866,q):$):(H.flags|=67108866,q)):(H.flags|=1048576,q)}function E(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function w(H,q,$,re){return q===null||q.tag!==6?(q=Fd($,H.mode,re),q.return=H,q):(q=f(q,$),q.return=H,q)}function V(H,q,$,re){var Ee=$.type;return Ee===P?te(H,q,$.props.children,re,$.key):q!==null&&(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&fa(Ee)===q.type)?(q=f(q,$.props),Gl(q,$),q.return=H,q):(q=Yc($.type,$.key,$.props,null,H.mode,re),Gl(q,$),q.return=H,q)}function K(H,q,$,re){return q===null||q.tag!==4||q.stateNode.containerInfo!==$.containerInfo||q.stateNode.implementation!==$.implementation?(q=Hd($,H.mode,re),q.return=H,q):(q=f(q,$.children||[]),q.return=H,q)}function te(H,q,$,re,Ee){return q===null||q.tag!==7?(q=oa($,H.mode,re,Ee),q.return=H,q):(q=f(q,$),q.return=H,q)}function se(H,q,$){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Fd(""+q,H.mode,$),q.return=H,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return $=Yc(q.type,q.key,q.props,null,H.mode,$),Gl($,q),$.return=H,$;case j:return q=Hd(q,H.mode,$),q.return=H,q;case R:return q=fa(q),se(H,q,$)}if(Ie(q)||L(q))return q=oa(q,H.mode,$,null),q.return=H,q;if(typeof q.then=="function")return se(H,th(q),$);if(q.$$typeof===W)return se(H,Wc(H,q),$);nh(H,q)}return null}function Y(H,q,$,re){var Ee=q!==null?q.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Ee!==null?null:w(H,q,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return $.key===Ee?V(H,q,$,re):null;case j:return $.key===Ee?K(H,q,$,re):null;case R:return $=fa($),Y(H,q,$,re)}if(Ie($)||L($))return Ee!==null?null:te(H,q,$,re,null);if(typeof $.then=="function")return Y(H,q,th($),re);if($.$$typeof===W)return Y(H,q,Wc(H,$),re);nh(H,$)}return null}function Z(H,q,$,re,Ee){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return H=H.get($)||null,w(q,H,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case S:return H=H.get(re.key===null?$:re.key)||null,V(q,H,re,Ee);case j:return H=H.get(re.key===null?$:re.key)||null,K(q,H,re,Ee);case R:return re=fa(re),Z(H,q,$,re,Ee)}if(Ie(re)||L(re))return H=H.get($)||null,te(q,H,re,Ee,null);if(typeof re.then=="function")return Z(H,q,$,th(re),Ee);if(re.$$typeof===W)return Z(H,q,$,Wc(q,re),Ee);nh(q,re)}return null}function ve(H,q,$,re){for(var Ee=null,tt=null,_e=q,Ue=q=0,Ye=null;_e!==null&&Ue<$.length;Ue++){_e.index>Ue?(Ye=_e,_e=null):Ye=_e.sibling;var nt=Y(H,_e,$[Ue],re);if(nt===null){_e===null&&(_e=Ye);break}n&&_e&&nt.alternate===null&&s(H,_e),q=m(nt,q,Ue),tt===null?Ee=nt:tt.sibling=nt,tt=nt,_e=Ye}if(Ue===$.length)return o(H,_e),Ze&&pi(H,Ue),Ee;if(_e===null){for(;Ue<$.length;Ue++)_e=se(H,$[Ue],re),_e!==null&&(q=m(_e,q,Ue),tt===null?Ee=_e:tt.sibling=_e,tt=_e);return Ze&&pi(H,Ue),Ee}for(_e=u(_e);Ue<$.length;Ue++)Ye=Z(_e,H,Ue,$[Ue],re),Ye!==null&&(n&&Ye.alternate!==null&&_e.delete(Ye.key===null?Ue:Ye.key),q=m(Ye,q,Ue),tt===null?Ee=Ye:tt.sibling=Ye,tt=Ye);return n&&_e.forEach(function(Es){return s(H,Es)}),Ze&&pi(H,Ue),Ee}function xe(H,q,$,re){if($==null)throw Error(i(151));for(var Ee=null,tt=null,_e=q,Ue=q=0,Ye=null,nt=$.next();_e!==null&&!nt.done;Ue++,nt=$.next()){_e.index>Ue?(Ye=_e,_e=null):Ye=_e.sibling;var Es=Y(H,_e,nt.value,re);if(Es===null){_e===null&&(_e=Ye);break}n&&_e&&Es.alternate===null&&s(H,_e),q=m(Es,q,Ue),tt===null?Ee=Es:tt.sibling=Es,tt=Es,_e=Ye}if(nt.done)return o(H,_e),Ze&&pi(H,Ue),Ee;if(_e===null){for(;!nt.done;Ue++,nt=$.next())nt=se(H,nt.value,re),nt!==null&&(q=m(nt,q,Ue),tt===null?Ee=nt:tt.sibling=nt,tt=nt);return Ze&&pi(H,Ue),Ee}for(_e=u(_e);!nt.done;Ue++,nt=$.next())nt=Z(_e,H,Ue,nt.value,re),nt!==null&&(n&&nt.alternate!==null&&_e.delete(nt.key===null?Ue:nt.key),q=m(nt,q,Ue),tt===null?Ee=nt:tt.sibling=nt,tt=nt);return n&&_e.forEach(function(Sj){return s(H,Sj)}),Ze&&pi(H,Ue),Ee}function dt(H,q,$,re){if(typeof $=="object"&&$!==null&&$.type===P&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case S:e:{for(var Ee=$.key;q!==null;){if(q.key===Ee){if(Ee=$.type,Ee===P){if(q.tag===7){o(H,q.sibling),re=f(q,$.props.children),re.return=H,H=re;break e}}else if(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&fa(Ee)===q.type){o(H,q.sibling),re=f(q,$.props),Gl(re,$),re.return=H,H=re;break e}o(H,q);break}else s(H,q);q=q.sibling}$.type===P?(re=oa($.props.children,H.mode,re,$.key),re.return=H,H=re):(re=Yc($.type,$.key,$.props,null,H.mode,re),Gl(re,$),re.return=H,H=re)}return E(H);case j:e:{for(Ee=$.key;q!==null;){if(q.key===Ee)if(q.tag===4&&q.stateNode.containerInfo===$.containerInfo&&q.stateNode.implementation===$.implementation){o(H,q.sibling),re=f(q,$.children||[]),re.return=H,H=re;break e}else{o(H,q);break}else s(H,q);q=q.sibling}re=Hd($,H.mode,re),re.return=H,H=re}return E(H);case R:return $=fa($),dt(H,q,$,re)}if(Ie($))return ve(H,q,$,re);if(L($)){if(Ee=L($),typeof Ee!="function")throw Error(i(150));return $=Ee.call($),xe(H,q,$,re)}if(typeof $.then=="function")return dt(H,q,th($),re);if($.$$typeof===W)return dt(H,q,Wc(H,$),re);nh(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,q!==null&&q.tag===6?(o(H,q.sibling),re=f(q,$),re.return=H,H=re):(o(H,q),re=Fd($,H.mode,re),re.return=H,H=re),E(H)):o(H,q)}return function(H,q,$,re){try{Hl=0;var Ee=dt(H,q,$,re);return _o=null,Ee}catch(_e){if(_e===vo||_e===Zc)throw _e;var tt=Pn(29,_e,null,H.mode);return tt.lanes=re,tt.return=H,tt}}}var pa=VE(!0),PE=VE(!1),is=!1;function np(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rp(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ss(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function as(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(it&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Kc(n),bE(n,null,o),s}return $c(n,u,s,o),Kc(n)}function $l(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,_l(n,o)}}function ip(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?f=m=s:m=m.next=s}else f=m=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var sp=!1;function Kl(){if(sp){var n=yo;if(n!==null)throw n}}function Yl(n,s,o,u){sp=!1;var f=n.updateQueue;is=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var V=w,K=V.next;V.next=null,E===null?m=K:E.next=K,E=V;var te=n.alternate;te!==null&&(te=te.updateQueue,w=te.lastBaseUpdate,w!==E&&(w===null?te.firstBaseUpdate=K:w.next=K,te.lastBaseUpdate=V))}if(m!==null){var se=f.baseState;E=0,te=K=V=null,w=m;do{var Y=w.lane&-536870913,Z=Y!==w.lane;if(Z?(Ke&Y)===Y:(u&Y)===Y){Y!==0&&Y===go&&(sp=!0),te!==null&&(te=te.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ve=n,xe=w;Y=s;var dt=o;switch(xe.tag){case 1:if(ve=xe.payload,typeof ve=="function"){se=ve.call(dt,se,Y);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=xe.payload,Y=typeof ve=="function"?ve.call(dt,se,Y):ve,Y==null)break e;se=b({},se,Y);break e;case 2:is=!0}}Y=w.callback,Y!==null&&(n.flags|=64,Z&&(n.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[Y]:Z.push(Y))}else Z={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},te===null?(K=te=Z,V=se):te=te.next=Z,E|=Y;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Z=w,w=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);te===null&&(V=se),f.baseState=V,f.firstBaseUpdate=K,f.lastBaseUpdate=te,m===null&&(f.shared.lanes=0),hs|=E,n.lanes=E,n.memoizedState=se}}function LE(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function UE(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)LE(o[n],s)}var bo=U(null),rh=U(0);function qE(n,s){n=wi,ue(rh,n),ue(bo,s),wi=n|s.baseLanes}function ap(){ue(rh,wi),ue(bo,bo.current)}function op(){wi=rh.current,ne(bo),ne(rh)}var Ln=U(null),ir=null;function os(n){var s=n.alternate;ue(Nt,Nt.current&1),ue(Ln,n),ir===null&&(s===null||bo.current!==null||s.memoizedState!==null)&&(ir=n)}function lp(n){ue(Nt,Nt.current),ue(Ln,n),ir===null&&(ir=n)}function zE(n){n.tag===22?(ue(Nt,Nt.current),ue(Ln,n),ir===null&&(ir=n)):ls()}function ls(){ue(Nt,Nt.current),ue(Ln,Ln.current)}function Un(n){ne(Ln),ir===n&&(ir=null),ne(Nt)}var Nt=U(0);function ih(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||pm(o)||mm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var yi=0,Ve=null,ht=null,qt=null,sh=!1,Eo=!1,ma=!1,ah=0,Ql=0,To=null,pM=0;function wt(){throw Error(i(321))}function up(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!Vn(n[o],s[o]))return!1;return!0}function cp(n,s,o,u,f,m){return yi=m,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ee.H=n===null||n.memoizedState===null?ST:wp,ma=!1,m=o(u,f),ma=!1,Eo&&(m=FE(s,o,u,f)),BE(n),m}function BE(n){ee.H=Jl;var s=ht!==null&&ht.next!==null;if(yi=0,qt=ht=Ve=null,sh=!1,Ql=0,To=null,s)throw Error(i(300));n===null||zt||(n=n.dependencies,n!==null&&Xc(n)&&(zt=!0))}function FE(n,s,o,u){Ve=n;var f=0;do{if(Eo&&(To=null),Ql=0,Eo=!1,25<=f)throw Error(i(301));if(f+=1,qt=ht=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}ee.H=wT,m=s(o,u)}while(Eo);return m}function mM(){var n=ee.H,s=n.useState()[0];return s=typeof s.then=="function"?Xl(s):s,n=n.useState()[0],(ht!==null?ht.memoizedState:null)!==n&&(Ve.flags|=1024),s}function hp(){var n=ah!==0;return ah=0,n}function fp(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function dp(n){if(sh){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}sh=!1}yi=0,qt=ht=Ve=null,Eo=!1,Ql=ah=0,To=null}function xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ve.memoizedState=qt=n:qt=qt.next=n,qt}function Ot(){if(ht===null){var n=Ve.alternate;n=n!==null?n.memoizedState:null}else n=ht.next;var s=qt===null?Ve.memoizedState:qt.next;if(s!==null)qt=s,ht=n;else{if(n===null)throw Ve.alternate===null?Error(i(467)):Error(i(310));ht=n,n={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},qt===null?Ve.memoizedState=qt=n:qt=qt.next=n}return qt}function oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(n){var s=Ql;return Ql+=1,To===null&&(To=[]),n=ME(To,n,s),s=Ve,(qt===null?s.memoizedState:qt.next)===null&&(s=s.alternate,ee.H=s===null||s.memoizedState===null?ST:wp),n}function lh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Xl(n);if(n.$$typeof===W)return on(n)}throw Error(i(438,String(n)))}function pp(n){var s=null,o=Ve.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ve.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=oh(),Ve.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=k;return s.index++,o}function vi(n,s){return typeof s=="function"?s(n):s}function uh(n){var s=Ot();return mp(s,ht,n)}function mp(n,s,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}s.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{s=f.next;var w=E=null,V=null,K=s,te=!1;do{var se=K.lane&-536870913;if(se!==K.lane?(Ke&se)===se:(yi&se)===se){var Y=K.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),se===go&&(te=!0);else if((yi&Y)===Y){K=K.next,Y===go&&(te=!0);continue}else se={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(w=V=se,E=m):V=V.next=se,Ve.lanes|=Y,hs|=Y;se=K.action,ma&&o(m,se),m=K.hasEagerState?K.eagerState:o(m,se)}else Y={lane:se,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(w=V=Y,E=m):V=V.next=Y,Ve.lanes|=se,hs|=se;K=K.next}while(K!==null&&K!==s);if(V===null?E=m:V.next=w,!Vn(m,n.memoizedState)&&(zt=!0,te&&(o=yo,o!==null)))throw o;n.memoizedState=m,n.baseState=E,n.baseQueue=V,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function gp(n){var s=Ot(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,m=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);Vn(m,s.memoizedState)||(zt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function HE(n,s,o){var u=Ve,f=Ot(),m=Ze;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!Vn((ht||f).memoizedState,o);if(E&&(f.memoizedState=o,zt=!0),f=f.queue,_p(KE.bind(null,u,f,n),[n]),f.getSnapshot!==s||E||qt!==null&&qt.memoizedState.tag&1){if(u.flags|=2048,xo(9,{destroy:void 0},$E.bind(null,u,f,o,s),null),mt===null)throw Error(i(349));m||(yi&127)!==0||GE(u,s,o)}return o}function GE(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Ve.updateQueue,s===null?(s=oh(),Ve.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function $E(n,s,o,u){s.value=o,s.getSnapshot=u,YE(s)&&QE(n)}function KE(n,s,o){return o(function(){YE(s)&&QE(n)})}function YE(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!Vn(n,o)}catch{return!0}}function QE(n){var s=aa(n,2);s!==null&&Nn(s,n,2)}function yp(n){var s=xn();if(typeof n=="function"){var o=n;if(n=o(),ma){Yn(!0);try{o()}finally{Yn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:n},s}function XE(n,s,o,u){return n.baseState=o,mp(n,ht,typeof u=="function"?u:vi)}function gM(n,s,o,u,f){if(fh(n))throw Error(i(485));if(n=s.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};ee.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,WE(s,m)):(m.next=o.next,s.pending=o.next=m)}}function WE(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var m=ee.T,E={};ee.T=E;try{var w=o(f,u),V=ee.S;V!==null&&V(E,w),JE(n,s,w)}catch(K){vp(n,s,K)}finally{m!==null&&E.types!==null&&(m.types=E.types),ee.T=m}}else try{m=o(f,u),JE(n,s,m)}catch(K){vp(n,s,K)}}function JE(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){ZE(n,s,u)},function(u){return vp(n,s,u)}):ZE(n,s,o)}function ZE(n,s,o){s.status="fulfilled",s.value=o,eT(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,WE(n,o)))}function vp(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,eT(s),s=s.next;while(s!==u)}n.action=null}function eT(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function tT(n,s){return s}function nT(n,s){if(Ze){var o=mt.formState;if(o!==null){e:{var u=Ve;if(Ze){if(vt){t:{for(var f=vt,m=rr;f.nodeType!==8;){if(!m){f=null;break t}if(f=sr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){vt=sr(f.nextSibling),u=f.data==="F!";break e}}ns(u)}u=!1}u&&(s=o[0])}}return o=xn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tT,lastRenderedState:s},o.queue=u,o=ET.bind(null,Ve,u),u.dispatch=o,u=yp(!1),m=Sp.bind(null,Ve,!1,u.queue),u=xn(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=gM.bind(null,Ve,f,m,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function rT(n){var s=Ot();return iT(s,ht,n)}function iT(n,s,o){if(s=mp(n,s,tT)[0],n=uh(vi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Xl(s)}catch(E){throw E===vo?Zc:E}else u=s;s=Ot();var f=s.queue,m=f.dispatch;return o!==s.memoizedState&&(Ve.flags|=2048,xo(9,{destroy:void 0},yM.bind(null,f,o),null)),[u,m,n]}function yM(n,s){n.action=s}function sT(n){var s=Ot(),o=ht;if(o!==null)return iT(s,o,n);Ot(),s=s.memoizedState,o=Ot();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function xo(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Ve.updateQueue,s===null&&(s=oh(),Ve.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function aT(){return Ot().memoizedState}function ch(n,s,o,u){var f=xn();Ve.flags|=n,f.memoizedState=xo(1|s,{destroy:void 0},o,u===void 0?null:u)}function hh(n,s,o,u){var f=Ot();u=u===void 0?null:u;var m=f.memoizedState.inst;ht!==null&&u!==null&&up(u,ht.memoizedState.deps)?f.memoizedState=xo(s,m,o,u):(Ve.flags|=n,f.memoizedState=xo(1|s,m,o,u))}function oT(n,s){ch(8390656,8,n,s)}function _p(n,s){hh(2048,8,n,s)}function vM(n){Ve.flags|=4;var s=Ve.updateQueue;if(s===null)s=oh(),Ve.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function lT(n){var s=Ot().memoizedState;return vM({ref:s,nextImpl:n}),function(){if((it&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function uT(n,s){return hh(4,2,n,s)}function cT(n,s){return hh(4,4,n,s)}function hT(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function fT(n,s,o){o=o!=null?o.concat([n]):null,hh(4,4,hT.bind(null,s,n),o)}function bp(){}function dT(n,s){var o=Ot();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&up(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function pT(n,s){var o=Ot();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&up(s,u[1]))return u[0];if(u=n(),ma){Yn(!0);try{n()}finally{Yn(!1)}}return o.memoizedState=[u,s],u}function Ep(n,s,o){return o===void 0||(yi&1073741824)!==0&&(Ke&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=mx(),Ve.lanes|=n,hs|=n,o)}function mT(n,s,o,u){return Vn(o,s)?o:bo.current!==null?(n=Ep(n,o,u),Vn(n,s)||(zt=!0),n):(yi&42)===0||(yi&1073741824)!==0&&(Ke&261930)===0?(zt=!0,n.memoizedState=o):(n=mx(),Ve.lanes|=n,hs|=n,s)}function gT(n,s,o,u,f){var m=he.p;he.p=m!==0&&8>m?m:8;var E=ee.T,w={};ee.T=w,Sp(n,!1,s,o);try{var V=f(),K=ee.S;if(K!==null&&K(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var te=dM(V,u);Wl(n,s,te,Bn(n))}else Wl(n,s,u,Bn(n))}catch(se){Wl(n,s,{then:function(){},status:"rejected",reason:se},Bn())}finally{he.p=m,E!==null&&w.types!==null&&(E.types=w.types),ee.T=E}}function _M(){}function Tp(n,s,o,u){if(n.tag!==5)throw Error(i(476));var f=yT(n).queue;gT(n,f,s,ye,o===null?_M:function(){return vT(n),o(u)})}function yT(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:ye},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function vT(n){var s=yT(n);s.next===null&&(s=n.alternate.memoizedState),Wl(n,s.next.queue,{},Bn())}function xp(){return on(pu)}function _T(){return Ot().memoizedState}function bT(){return Ot().memoizedState}function bM(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Bn();n=ss(o);var u=as(s,n,o);u!==null&&(Nn(u,s,o),$l(u,s,o)),s={cache:Jd()},n.payload=s;return}s=s.return}}function EM(n,s,o){var u=Bn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},fh(n)?TT(s,o):(o=zd(n,s,o,u),o!==null&&(Nn(o,n,u),xT(o,s,u)))}function ET(n,s,o){var u=Bn();Wl(n,s,o,u)}function Wl(n,s,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(fh(n))TT(s,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var E=s.lastRenderedState,w=m(E,o);if(f.hasEagerState=!0,f.eagerState=w,Vn(w,E))return $c(n,s,f,0),mt===null&&Gc(),!1}catch{}if(o=zd(n,s,f,u),o!==null)return Nn(o,n,u),xT(o,s,u),!0}return!1}function Sp(n,s,o,u){if(u={lane:2,revertLane:nm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},fh(n)){if(s)throw Error(i(479))}else s=zd(n,o,u,2),s!==null&&Nn(s,n,2)}function fh(n){var s=n.alternate;return n===Ve||s!==null&&s===Ve}function TT(n,s){Eo=sh=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function xT(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,_l(n,o)}}var Jl={readContext:on,use:lh,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};Jl.useEffectEvent=wt;var ST={readContext:on,use:lh,useCallback:function(n,s){return xn().memoizedState=[n,s===void 0?null:s],n},useContext:on,useEffect:oT,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,ch(4194308,4,hT.bind(null,s,n),o)},useLayoutEffect:function(n,s){return ch(4194308,4,n,s)},useInsertionEffect:function(n,s){ch(4,2,n,s)},useMemo:function(n,s){var o=xn();s=s===void 0?null:s;var u=n();if(ma){Yn(!0);try{n()}finally{Yn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=xn();if(o!==void 0){var f=o(s);if(ma){Yn(!0);try{o(s)}finally{Yn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=EM.bind(null,Ve,n),[u.memoizedState,n]},useRef:function(n){var s=xn();return n={current:n},s.memoizedState=n},useState:function(n){n=yp(n);var s=n.queue,o=ET.bind(null,Ve,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:bp,useDeferredValue:function(n,s){var o=xn();return Ep(o,n,s)},useTransition:function(){var n=yp(!1);return n=gT.bind(null,Ve,n.queue,!0,!1),xn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Ve,f=xn();if(Ze){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),mt===null)throw Error(i(349));(Ke&127)!==0||GE(u,s,o)}f.memoizedState=o;var m={value:o,getSnapshot:s};return f.queue=m,oT(KE.bind(null,u,m,n),[n]),u.flags|=2048,xo(9,{destroy:void 0},$E.bind(null,u,m,o,s),null),o},useId:function(){var n=xn(),s=mt.identifierPrefix;if(Ze){var o=Xr,u=Qr;o=(u&~(1<<32-Ct(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=ah++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=pM++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:xp,useFormState:nT,useActionState:nT,useOptimistic:function(n){var s=xn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Sp.bind(null,Ve,!0,o),o.dispatch=s,[n,s]},useMemoCache:pp,useCacheRefresh:function(){return xn().memoizedState=bM.bind(null,Ve)},useEffectEvent:function(n){var s=xn(),o={impl:n};return s.memoizedState=o,function(){if((it&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},wp={readContext:on,use:lh,useCallback:dT,useContext:on,useEffect:_p,useImperativeHandle:fT,useInsertionEffect:uT,useLayoutEffect:cT,useMemo:pT,useReducer:uh,useRef:aT,useState:function(){return uh(vi)},useDebugValue:bp,useDeferredValue:function(n,s){var o=Ot();return mT(o,ht.memoizedState,n,s)},useTransition:function(){var n=uh(vi)[0],s=Ot().memoizedState;return[typeof n=="boolean"?n:Xl(n),s]},useSyncExternalStore:HE,useId:_T,useHostTransitionStatus:xp,useFormState:rT,useActionState:rT,useOptimistic:function(n,s){var o=Ot();return XE(o,ht,n,s)},useMemoCache:pp,useCacheRefresh:bT};wp.useEffectEvent=lT;var wT={readContext:on,use:lh,useCallback:dT,useContext:on,useEffect:_p,useImperativeHandle:fT,useInsertionEffect:uT,useLayoutEffect:cT,useMemo:pT,useReducer:gp,useRef:aT,useState:function(){return gp(vi)},useDebugValue:bp,useDeferredValue:function(n,s){var o=Ot();return ht===null?Ep(o,n,s):mT(o,ht.memoizedState,n,s)},useTransition:function(){var n=gp(vi)[0],s=Ot().memoizedState;return[typeof n=="boolean"?n:Xl(n),s]},useSyncExternalStore:HE,useId:_T,useHostTransitionStatus:xp,useFormState:sT,useActionState:sT,useOptimistic:function(n,s){var o=Ot();return ht!==null?XE(o,ht,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:pp,useCacheRefresh:bT};wT.useEffectEvent=lT;function Ap(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:b({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Rp={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Bn(),f=ss(u);f.payload=s,o!=null&&(f.callback=o),s=as(n,f,u),s!==null&&(Nn(s,n,u),$l(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Bn(),f=ss(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=as(n,f,u),s!==null&&(Nn(s,n,u),$l(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Bn(),u=ss(o);u.tag=2,s!=null&&(u.callback=s),s=as(n,u,o),s!==null&&(Nn(s,n,o),$l(s,n,o))}};function AT(n,s,o,u,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,E):s.prototype&&s.prototype.isPureReactComponent?!Ll(o,u)||!Ll(f,m):!0}function RT(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Rp.enqueueReplaceState(s,s.state,null)}function ga(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=b({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function CT(n){Hc(n)}function IT(n){console.error(n)}function NT(n){Hc(n)}function dh(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function OT(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Cp(n,s,o){return o=ss(o),o.tag=3,o.payload={element:null},o.callback=function(){dh(n,s)},o}function DT(n){return n=ss(n),n.tag=3,n}function MT(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){OT(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){OT(s,o,u),typeof f!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function TM(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&mo(s,o,f,!0),o=Ln.current,o!==null){switch(o.tag){case 31:case 13:return ir===null?wh():o.alternate===null&&At===0&&(At=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===eh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Zp(n,u,f)),!1;case 22:return o.flags|=65536,u===eh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Zp(n,u,f)),!1}throw Error(i(435,o.tag))}return Zp(n,u,f),wh(),!1}if(Ze)return s=Ln.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Kd&&(n=Error(i(422),{cause:u}),zl(er(n,o)))):(u!==Kd&&(s=Error(i(423),{cause:u}),zl(er(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=er(u,o),f=Cp(n.stateNode,u,f),ip(n,f),At!==4&&(At=2)),!1;var m=Error(i(520),{cause:u});if(m=er(m,o),au===null?au=[m]:au.push(m),At!==4&&(At=2),s===null)return!0;u=er(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Cp(o.stateNode,u,n),ip(o,n),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(fs===null||!fs.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=DT(f),MT(f,n,o,u),ip(o,f),!1}o=o.return}while(o!==null);return!1}var Ip=Error(i(461)),zt=!1;function ln(n,s,o,u){s.child=n===null?PE(s,null,o,u):pa(s,n.child,o,u)}function jT(n,s,o,u,f){o=o.render;var m=s.ref;if("ref"in u){var E={};for(var w in u)w!=="ref"&&(E[w]=u[w])}else E=u;return ca(s),u=cp(n,s,o,E,m,f),w=hp(),n!==null&&!zt?(fp(n,s,f),_i(n,s,f)):(Ze&&w&&Gd(s),s.flags|=1,ln(n,s,u,f),s.child)}function kT(n,s,o,u,f){if(n===null){var m=o.type;return typeof m=="function"&&!Bd(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,VT(n,s,m,u,f)):(n=Yc(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!Pp(n,f)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ll,o(E,u)&&n.ref===s.ref)return _i(n,s,f)}return s.flags|=1,n=di(m,u),n.ref=s.ref,n.return=s,s.child=n}function VT(n,s,o,u,f){if(n!==null){var m=n.memoizedProps;if(Ll(m,u)&&n.ref===s.ref)if(zt=!1,s.pendingProps=u=m,Pp(n,f))(n.flags&131072)!==0&&(zt=!0);else return s.lanes=n.lanes,_i(n,s,f)}return Np(n,s,o,u,f)}function PT(n,s,o,u){var f=u.children,m=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(u=s.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,s.child=null;return LT(n,s,m,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Jc(s,m!==null?m.cachePool:null),m!==null?qE(s,m):ap(),zE(s);else return u=s.lanes=536870912,LT(n,s,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(Jc(s,m.cachePool),qE(s,m),ls(),s.memoizedState=null):(n!==null&&Jc(s,null),ap(),ls());return ln(n,s,f,o),s.child}function Zl(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function LT(n,s,o,u,f){var m=ep();return m=m===null?null:{parent:Ut._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},n!==null&&Jc(s,null),ap(),zE(s),n!==null&&mo(n,s,u,!0),s.childLanes=f,null}function ph(n,s){return s=gh({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function UT(n,s,o){return pa(s,n.child,null,o),n=ph(s,s.pendingProps),n.flags|=2,Un(s),s.memoizedState=null,n}function xM(n,s,o){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ze){if(u.mode==="hidden")return n=ph(s,u),s.lanes=536870912,Zl(null,n);if(lp(s),(n=vt)?(n=Wx(n,rr),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:es!==null?{id:Qr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},o=TE(n),o.return=s,s.child=o,an=s,vt=null)):n=null,n===null)throw ns(s);return s.lanes=536870912,null}return ph(s,u)}var m=n.memoizedState;if(m!==null){var E=m.dehydrated;if(lp(s),f)if(s.flags&256)s.flags&=-257,s=UT(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(zt||mo(n,s,o,!1),f=(o&n.childLanes)!==0,zt||f){if(u=mt,u!==null&&(E=bl(u,o),E!==0&&E!==m.retryLane))throw m.retryLane=E,aa(n,E),Nn(u,n,E),Ip;wh(),s=UT(n,s,o)}else n=m.treeContext,vt=sr(E.nextSibling),an=s,Ze=!0,ts=null,rr=!1,n!==null&&wE(s,n),s=ph(s,u),s.flags|=4096;return s}return n=di(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function mh(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Np(n,s,o,u,f){return ca(s),o=cp(n,s,o,u,void 0,f),u=hp(),n!==null&&!zt?(fp(n,s,f),_i(n,s,f)):(Ze&&u&&Gd(s),s.flags|=1,ln(n,s,o,f),s.child)}function qT(n,s,o,u,f,m){return ca(s),s.updateQueue=null,o=FE(s,u,o,f),BE(n),u=hp(),n!==null&&!zt?(fp(n,s,m),_i(n,s,m)):(Ze&&u&&Gd(s),s.flags|=1,ln(n,s,o,m),s.child)}function zT(n,s,o,u,f){if(ca(s),s.stateNode===null){var m=co,E=o.contextType;typeof E=="object"&&E!==null&&(m=on(E)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Rp,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},np(s),E=o.contextType,m.context=typeof E=="object"&&E!==null?on(E):co,m.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Ap(s,o,E,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Rp.enqueueReplaceState(m,m.state,null),Yl(s,u,m,f),Kl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){m=s.stateNode;var w=s.memoizedProps,V=ga(o,w);m.props=V;var K=m.context,te=o.contextType;E=co,typeof te=="object"&&te!==null&&(E=on(te));var se=o.getDerivedStateFromProps;te=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,te||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||K!==E)&&RT(s,m,u,E),is=!1;var Y=s.memoizedState;m.state=Y,Yl(s,u,m,f),Kl(),K=s.memoizedState,w||Y!==K||is?(typeof se=="function"&&(Ap(s,o,se,u),K=s.memoizedState),(V=is||AT(s,o,V,u,Y,K,E))?(te||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),m.props=u,m.state=K,m.context=E,u=V):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,rp(n,s),E=s.memoizedProps,te=ga(o,E),m.props=te,se=s.pendingProps,Y=m.context,K=o.contextType,V=co,typeof K=="object"&&K!==null&&(V=on(K)),w=o.getDerivedStateFromProps,(K=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==se||Y!==V)&&RT(s,m,u,V),is=!1,Y=s.memoizedState,m.state=Y,Yl(s,u,m,f),Kl();var Z=s.memoizedState;E!==se||Y!==Z||is||n!==null&&n.dependencies!==null&&Xc(n.dependencies)?(typeof w=="function"&&(Ap(s,o,w,u),Z=s.memoizedState),(te=is||AT(s,o,te,u,Y,Z,V)||n!==null&&n.dependencies!==null&&Xc(n.dependencies))?(K||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Z,V),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Z,V)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Z),m.props=u,m.state=Z,m.context=V,u=te):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),u=!1)}return m=u,mh(n,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&u?(s.child=pa(s,n.child,null,f),s.child=pa(s,null,o,f)):ln(n,s,o,f),s.memoizedState=m.state,n=s.child):n=_i(n,s,f),n}function BT(n,s,o,u){return la(),s.flags|=256,ln(n,s,o,u),s.child}var Op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dp(n){return{baseLanes:n,cachePool:OE()}}function Mp(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=zn),n}function FT(n,s,o){var u=s.pendingProps,f=!1,m=(s.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(Nt.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ze){if(f?os(s):ls(),(n=vt)?(n=Wx(n,rr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:es!==null?{id:Qr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},o=TE(n),o.return=s,s.child=o,an=s,vt=null)):n=null,n===null)throw ns(s);return mm(n)?s.lanes=32:s.lanes=536870912,null}var w=u.children;return u=u.fallback,f?(ls(),f=s.mode,w=gh({mode:"hidden",children:w},f),u=oa(u,f,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,u=s.child,u.memoizedState=Dp(o),u.childLanes=Mp(n,E,o),s.memoizedState=Op,Zl(null,u)):(os(s),jp(s,w))}var V=n.memoizedState;if(V!==null&&(w=V.dehydrated,w!==null)){if(m)s.flags&256?(os(s),s.flags&=-257,s=kp(n,s,o)):s.memoizedState!==null?(ls(),s.child=n.child,s.flags|=128,s=null):(ls(),w=u.fallback,f=s.mode,u=gh({mode:"visible",children:u.children},f),w=oa(w,f,o,null),w.flags|=2,u.return=s,w.return=s,u.sibling=w,s.child=u,pa(s,n.child,null,o),u=s.child,u.memoizedState=Dp(o),u.childLanes=Mp(n,E,o),s.memoizedState=Op,s=Zl(null,u));else if(os(s),mm(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var K=E.dgst;E=K,u=Error(i(419)),u.stack="",u.digest=E,zl({value:u,source:null,stack:null}),s=kp(n,s,o)}else if(zt||mo(n,s,o,!1),E=(o&n.childLanes)!==0,zt||E){if(E=mt,E!==null&&(u=bl(E,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,aa(n,u),Nn(E,n,u),Ip;pm(w)||wh(),s=kp(n,s,o)}else pm(w)?(s.flags|=192,s.child=n.child,s=null):(n=V.treeContext,vt=sr(w.nextSibling),an=s,Ze=!0,ts=null,rr=!1,n!==null&&wE(s,n),s=jp(s,u.children),s.flags|=4096);return s}return f?(ls(),w=u.fallback,f=s.mode,V=n.child,K=V.sibling,u=di(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,K!==null?w=di(K,w):(w=oa(w,f,o,null),w.flags|=2),w.return=s,u.return=s,u.sibling=w,s.child=u,Zl(null,u),u=s.child,w=n.child.memoizedState,w===null?w=Dp(o):(f=w.cachePool,f!==null?(V=Ut._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=OE(),w={baseLanes:w.baseLanes|o,cachePool:f}),u.memoizedState=w,u.childLanes=Mp(n,E,o),s.memoizedState=Op,Zl(n.child,u)):(os(s),o=n.child,n=o.sibling,o=di(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=o,s.memoizedState=null,o)}function jp(n,s){return s=gh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function gh(n,s){return n=Pn(22,n,null,s),n.lanes=0,n}function kp(n,s,o){return pa(s,n.child,null,o),n=jp(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function HT(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Xd(n.return,s,o)}function Vp(n,s,o,u,f,m){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=f,E.treeForkCount=m)}function GT(n,s,o){var u=s.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var E=Nt.current,w=(E&2)!==0;if(w?(E=E&1|2,s.flags|=128):E&=1,ue(Nt,E),ln(n,s,u,o),u=Ze?ql:0,!w&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&HT(n,o,s);else if(n.tag===19)HT(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&ih(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Vp(s,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&ih(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Vp(s,!0,o,null,m,u);break;case"together":Vp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function _i(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),hs|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(mo(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,o=di(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=di(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Pp(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Xc(n)))}function SM(n,s,o){switch(s.tag){case 3:Me(s,s.stateNode.containerInfo),rs(s,Ut,n.memoizedState.cache),la();break;case 27:case 5:je(s);break;case 4:Me(s,s.stateNode.containerInfo);break;case 10:rs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,lp(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(os(s),s.flags|=128,null):(o&s.child.childLanes)!==0?FT(n,s,o):(os(s),n=_i(n,s,o),n!==null?n.sibling:null);os(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(mo(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return GT(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Nt,Nt.current),u)break;return null;case 22:return s.lanes=0,PT(n,s,o,s.pendingProps);case 24:rs(s,Ut,n.memoizedState.cache)}return _i(n,s,o)}function $T(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)zt=!0;else{if(!Pp(n,o)&&(s.flags&128)===0)return zt=!1,SM(n,s,o);zt=(n.flags&131072)!==0}else zt=!1,Ze&&(s.flags&1048576)!==0&&SE(s,ql,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=fa(s.elementType),s.type=n,typeof n=="function")Bd(n)?(u=ga(n,u),s.tag=1,s=zT(null,s,n,u,o)):(s.tag=0,s=Np(null,s,n,u,o));else{if(n!=null){var f=n.$$typeof;if(f===le){s.tag=11,s=jT(null,s,n,u,o);break e}else if(f===I){s.tag=14,s=kT(null,s,n,u,o);break e}}throw s=Re(n)||n,Error(i(306,s,""))}}return s;case 0:return Np(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=ga(u,s.pendingProps),zT(n,s,u,f,o);case 3:e:{if(Me(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var m=s.memoizedState;f=m.element,rp(n,s),Yl(s,u,null,o);var E=s.memoizedState;if(u=E.cache,rs(s,Ut,u),u!==m.cache&&Wd(s,[Ut],o,!0),Kl(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=BT(n,s,u,o);break e}else if(u!==f){f=er(Error(i(424)),s),zl(f),s=BT(n,s,u,o);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,vt=sr(n.firstChild),an=s,Ze=!0,ts=null,rr=!0,o=PE(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(la(),u===f){s=_i(n,s,o);break e}ln(n,s,u,o)}s=s.child}return s;case 26:return mh(n,s),n===null?(o=rS(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ze||(o=s.type,n=s.pendingProps,u=Dh(Q.current).createElement(o),u[Vt]=s,u[Zt]=n,un(u,o,n),Pt(u),s.stateNode=u):s.memoizedState=rS(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return je(s),n===null&&Ze&&(u=s.stateNode=eS(s.type,s.pendingProps,Q.current),an=s,rr=!0,f=vt,gs(s.type)?(gm=f,vt=sr(u.firstChild)):vt=f),ln(n,s,s.pendingProps.children,o),mh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ze&&((f=u=vt)&&(u=ej(u,s.type,s.pendingProps,rr),u!==null?(s.stateNode=u,an=s,vt=sr(u.firstChild),rr=!1,f=!0):f=!1),f||ns(s)),je(s),f=s.type,m=s.pendingProps,E=n!==null?n.memoizedProps:null,u=m.children,hm(f,m)?u=null:E!==null&&hm(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=cp(n,s,mM,null,null,o),pu._currentValue=f),mh(n,s),ln(n,s,u,o),s.child;case 6:return n===null&&Ze&&((n=o=vt)&&(o=tj(o,s.pendingProps,rr),o!==null?(s.stateNode=o,an=s,vt=null,n=!0):n=!1),n||ns(s)),null;case 13:return FT(n,s,o);case 4:return Me(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=pa(s,null,u,o):ln(n,s,u,o),s.child;case 11:return jT(n,s,s.type,s.pendingProps,o);case 7:return ln(n,s,s.pendingProps,o),s.child;case 8:return ln(n,s,s.pendingProps.children,o),s.child;case 12:return ln(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,rs(s,s.type,u.value),ln(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ca(s),f=on(f),u=u(f),s.flags|=1,ln(n,s,u,o),s.child;case 14:return kT(n,s,s.type,s.pendingProps,o);case 15:return VT(n,s,s.type,s.pendingProps,o);case 19:return GT(n,s,o);case 31:return xM(n,s,o);case 22:return PT(n,s,o,s.pendingProps);case 24:return ca(s),u=on(Ut),n===null?(f=ep(),f===null&&(f=mt,m=Jd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),s.memoizedState={parent:u,cache:f},np(s),rs(s,Ut,f)):((n.lanes&o)!==0&&(rp(n,s),Yl(s,null,null,o),Kl()),f=n.memoizedState,m=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),rs(s,Ut,u)):(u=m.cache,rs(s,Ut,u),u!==f.cache&&Wd(s,[Ut],o,!0))),ln(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function bi(n){n.flags|=4}function Lp(n,s,o,u,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(_x())n.flags|=8192;else throw da=eh,tp}else n.flags&=-16777217}function KT(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!lS(s))if(_x())n.flags|=8192;else throw da=eh,tp}function yh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?xc():536870912,n.lanes|=s,Ro|=s)}function eu(n,s){if(!Ze)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function _t(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function wM(n,s,o){var u=s.pendingProps;switch($d(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(s),null;case 1:return _t(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),gi(Ut),be(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(po(s)?bi(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Yd())),_t(s),null;case 26:var f=s.type,m=s.memoizedState;return n===null?(bi(s),m!==null?(_t(s),KT(s,m)):(_t(s),Lp(s,f,null,u,o))):m?m!==n.memoizedState?(bi(s),_t(s),KT(s,m)):(_t(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&bi(s),_t(s),Lp(s,f,n,u,o)),null;case 27:if(ze(s),o=Q.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&bi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return _t(s),null}n=de.current,po(s)?AE(s):(n=eS(f,u,o),s.stateNode=n,bi(s))}return _t(s),null;case 5:if(ze(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&bi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return _t(s),null}if(m=de.current,po(s))AE(s);else{var E=Dh(Q.current);switch(m){case 1:m=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=E.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?E.createElement(f,{is:u.is}):E.createElement(f)}}m[Vt]=s,m[Zt]=u;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)m.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=m;e:switch(un(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&bi(s)}}return _t(s),Lp(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&bi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=Q.current,po(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=an,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Vt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Fx(n.nodeValue,o)),n||ns(s,!0)}else n=Dh(n).createTextNode(u),n[Vt]=s,s.stateNode=n}return _t(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=po(s),o!==null){if(n===null){if(!u)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Vt]=s}else la(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),n=!1}else o=Yd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(Un(s),s):(Un(s),null);if((s.flags&128)!==0)throw Error(i(558))}return _t(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=po(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Vt]=s}else la(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),f=!1}else f=Yd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Un(s),s):(Un(s),null)}return Un(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),yh(s,s.updateQueue),_t(s),null);case 4:return be(),n===null&&am(s.stateNode.containerInfo),_t(s),null;case 10:return gi(s.type),_t(s),null;case 19:if(ne(Nt),u=s.memoizedState,u===null)return _t(s),null;if(f=(s.flags&128)!==0,m=u.rendering,m===null)if(f)eu(u,!1);else{if(At!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=ih(n),m!==null){for(s.flags|=128,eu(u,!1),n=m.updateQueue,s.updateQueue=n,yh(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)EE(o,n),o=o.sibling;return ue(Nt,Nt.current&1|2),Ze&&pi(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&Mt()>Th&&(s.flags|=128,f=!0,eu(u,!1),s.lanes=4194304)}else{if(!f)if(n=ih(m),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,yh(s,n),eu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Ze)return _t(s),null}else 2*Mt()-u.renderingStartTime>Th&&o!==536870912&&(s.flags|=128,f=!0,eu(u,!1),s.lanes=4194304);u.isBackwards?(m.sibling=s.child,s.child=m):(n=u.last,n!==null?n.sibling=m:s.child=m,u.last=m)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Mt(),n.sibling=null,o=Nt.current,ue(Nt,f?o&1|2:o&1),Ze&&pi(s,u.treeForkCount),n):(_t(s),null);case 22:case 23:return Un(s),op(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(_t(s),s.subtreeFlags&6&&(s.flags|=8192)):_t(s),o=s.updateQueue,o!==null&&yh(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&ne(ha),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),gi(Ut),_t(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function AM(n,s){switch($d(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return gi(Ut),be(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return ze(s),null;case 31:if(s.memoizedState!==null){if(Un(s),s.alternate===null)throw Error(i(340));la()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Un(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));la()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ne(Nt),null;case 4:return be(),null;case 10:return gi(s.type),null;case 22:case 23:return Un(s),op(),n!==null&&ne(ha),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return gi(Ut),null;case 25:return null;default:return null}}function YT(n,s){switch($d(s),s.tag){case 3:gi(Ut),be();break;case 26:case 27:case 5:ze(s);break;case 4:be();break;case 31:s.memoizedState!==null&&Un(s);break;case 13:Un(s);break;case 19:ne(Nt);break;case 10:gi(s.type);break;case 22:case 23:Un(s),op(),n!==null&&ne(ha);break;case 24:gi(Ut)}}function tu(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==f)}}catch(w){ut(s,s.return,w)}}function us(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var E=u.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=s;var V=o,K=w;try{K()}catch(te){ut(f,V,te)}}}u=u.next}while(u!==m)}}catch(te){ut(s,s.return,te)}}function QT(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{UE(s,o)}catch(u){ut(n,n.return,u)}}}function XT(n,s,o){o.props=ga(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){ut(n,s,u)}}function nu(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){ut(n,s,f)}}function Wr(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ut(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ut(n,s,f)}else o.current=null}function WT(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ut(n,n.return,f)}}function Up(n,s,o){try{var u=n.stateNode;YM(u,n.type,o,s),u[Zt]=s}catch(f){ut(n,n.return,f)}}function JT(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&gs(n.type)||n.tag===4}function qp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||JT(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&gs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zp(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=pr));else if(u!==4&&(u===27&&gs(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(zp(n,s,o),n=n.sibling;n!==null;)zp(n,s,o),n=n.sibling}function vh(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&gs(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(vh(n,s,o),n=n.sibling;n!==null;)vh(n,s,o),n=n.sibling}function ZT(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);un(s,u,o),s[Vt]=n,s[Zt]=o}catch(m){ut(n,n.return,m)}}var Ei=!1,Bt=!1,Bp=!1,ex=typeof WeakSet=="function"?WeakSet:Set,tn=null;function RM(n,s){if(n=n.containerInfo,um=Uh,n=fE(n),kd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,w=-1,V=-1,K=0,te=0,se=n,Y=null;t:for(;;){for(var Z;se!==o||f!==0&&se.nodeType!==3||(w=E+f),se!==m||u!==0&&se.nodeType!==3||(V=E+u),se.nodeType===3&&(E+=se.nodeValue.length),(Z=se.firstChild)!==null;)Y=se,se=Z;for(;;){if(se===n)break t;if(Y===o&&++K===f&&(w=E),Y===m&&++te===u&&(V=E),(Z=se.nextSibling)!==null)break;se=Y,Y=se.parentNode}se=Z}o=w===-1||V===-1?null:{start:w,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(cm={focusedElem:n,selectionRange:o},Uh=!1,tn=s;tn!==null;)if(s=tn,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,tn=n;else for(;tn!==null;){switch(s=tn,m=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=s,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var ve=ga(o.type,f);n=u.getSnapshotBeforeUpdate(ve,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(xe){ut(o,o.return,xe)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)dm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":dm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,tn=n;break}tn=s.return}}function tx(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:xi(n,o),u&4&&tu(5,o);break;case 1:if(xi(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(E){ut(o,o.return,E)}else{var f=ga(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){ut(o,o.return,E)}}u&64&&QT(o),u&512&&nu(o,o.return);break;case 3:if(xi(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{UE(n,s)}catch(E){ut(o,o.return,E)}}break;case 27:s===null&&u&4&&ZT(o);case 26:case 5:xi(n,o),s===null&&u&4&&WT(o),u&512&&nu(o,o.return);break;case 12:xi(n,o);break;case 31:xi(n,o),u&4&&ix(n,o);break;case 13:xi(n,o),u&4&&sx(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=VM.bind(null,o),nj(n,o))));break;case 22:if(u=o.memoizedState!==null||Ei,!u){s=s!==null&&s.memoizedState!==null||Bt,f=Ei;var m=Bt;Ei=u,(Bt=s)&&!m?Si(n,o,(o.subtreeFlags&8772)!==0):xi(n,o),Ei=f,Bt=m}break;case 30:break;default:xi(n,o)}}function nx(n){var s=n.alternate;s!==null&&(n.alternate=null,nx(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Xa(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Tt=null,An=!1;function Ti(n,s,o){for(o=o.child;o!==null;)rx(n,s,o),o=o.sibling}function rx(n,s,o){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(jt,o)}catch{}switch(o.tag){case 26:Bt||Wr(o,s),Ti(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Bt||Wr(o,s);var u=Tt,f=An;gs(o.type)&&(Tt=o.stateNode,An=!1),Ti(n,s,o),hu(o.stateNode),Tt=u,An=f;break;case 5:Bt||Wr(o,s);case 6:if(u=Tt,f=An,Tt=null,Ti(n,s,o),Tt=u,An=f,Tt!==null)if(An)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(o.stateNode)}catch(m){ut(o,s,m)}else try{Tt.removeChild(o.stateNode)}catch(m){ut(o,s,m)}break;case 18:Tt!==null&&(An?(n=Tt,Qx(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),ko(n)):Qx(Tt,o.stateNode));break;case 4:u=Tt,f=An,Tt=o.stateNode.containerInfo,An=!0,Ti(n,s,o),Tt=u,An=f;break;case 0:case 11:case 14:case 15:us(2,o,s),Bt||us(4,o,s),Ti(n,s,o);break;case 1:Bt||(Wr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&XT(o,s,u)),Ti(n,s,o);break;case 21:Ti(n,s,o);break;case 22:Bt=(u=Bt)||o.memoizedState!==null,Ti(n,s,o),Bt=u;break;default:Ti(n,s,o)}}function ix(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ko(n)}catch(o){ut(s,s.return,o)}}}function sx(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ko(n)}catch(o){ut(s,s.return,o)}}function CM(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new ex),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new ex),s;default:throw Error(i(435,n.tag))}}function _h(n,s){var o=CM(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var f=PM.bind(null,n,u);u.then(f,f)}})}function Rn(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=n,E=s,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(gs(w.type)){Tt=w.stateNode,An=!1;break e}break;case 5:Tt=w.stateNode,An=!1;break e;case 3:case 4:Tt=w.stateNode.containerInfo,An=!0;break e}w=w.return}if(Tt===null)throw Error(i(160));rx(m,E,f),Tt=null,An=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)ax(s,n),s=s.sibling}var br=null;function ax(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Rn(s,n),Cn(n),u&4&&(us(3,n,n.return),tu(3,n),us(5,n,n.return));break;case 1:Rn(s,n),Cn(n),u&512&&(Bt||o===null||Wr(o,o.return)),u&64&&Ei&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=br;if(Rn(s,n),Cn(n),u&512&&(Bt||o===null||Wr(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Pr]||m[Vt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),un(m,u,o),m[Vt]=n,Pt(m),u=m;break e;case"link":var E=aS("link","href",f).get(u+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(m=E[w],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break t}}m=f.createElement(u),un(m,u,o),f.head.appendChild(m);break;case"meta":if(E=aS("meta","content",f).get(u+(o.content||""))){for(w=0;w<E.length;w++)if(m=E[w],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break t}}m=f.createElement(u),un(m,u,o),f.head.appendChild(m);break;default:throw Error(i(468,u))}m[Vt]=n,Pt(m),u=m}n.stateNode=u}else oS(f,n.type,n.stateNode);else n.stateNode=sS(f,u,n.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?oS(f,n.type,n.stateNode):sS(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Up(n,n.memoizedProps,o.memoizedProps)}break;case 27:Rn(s,n),Cn(n),u&512&&(Bt||o===null||Wr(o,o.return)),o!==null&&u&4&&Up(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Rn(s,n),Cn(n),u&512&&(Bt||o===null||Wr(o,o.return)),n.flags&32){f=n.stateNode;try{wn(f,"")}catch(ve){ut(n,n.return,ve)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Up(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Bp=!0);break;case 6:if(Rn(s,n),Cn(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(ve){ut(n,n.return,ve)}}break;case 3:if(kh=null,f=br,br=Mh(s.containerInfo),Rn(s,n),br=f,Cn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ko(s.containerInfo)}catch(ve){ut(n,n.return,ve)}Bp&&(Bp=!1,ox(n));break;case 4:u=br,br=Mh(n.stateNode.containerInfo),Rn(s,n),Cn(n),br=u;break;case 12:Rn(s,n),Cn(n);break;case 31:Rn(s,n),Cn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,_h(n,u)));break;case 13:Rn(s,n),Cn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Eh=Mt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,_h(n,u)));break;case 22:f=n.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,K=Ei,te=Bt;if(Ei=K||f,Bt=te||V,Rn(s,n),Bt=te,Ei=K,Cn(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||V||Ei||Bt||ya(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(m=V.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=V.stateNode;var se=V.memoizedProps.style,Y=se!=null&&se.hasOwnProperty("display")?se.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ve){ut(V,V.return,ve)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(ve){ut(V,V.return,ve)}}}else if(s.tag===18){if(o===null){V=s;try{var Z=V.stateNode;f?Xx(Z,!0):Xx(V.stateNode,!1)}catch(ve){ut(V,V.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,_h(n,o))));break;case 19:Rn(s,n),Cn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,_h(n,u)));break;case 30:break;case 21:break;default:Rn(s,n),Cn(n)}}function Cn(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(JT(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,m=qp(n);vh(n,m,f);break;case 5:var E=o.stateNode;o.flags&32&&(wn(E,""),o.flags&=-33);var w=qp(n);vh(n,w,E);break;case 3:case 4:var V=o.stateNode.containerInfo,K=qp(n);zp(n,K,V);break;default:throw Error(i(161))}}catch(te){ut(n,n.return,te)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function ox(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;ox(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function xi(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)tx(n,s.alternate,s),s=s.sibling}function ya(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:us(4,s,s.return),ya(s);break;case 1:Wr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&XT(s,s.return,o),ya(s);break;case 27:hu(s.stateNode);case 26:case 5:Wr(s,s.return),ya(s);break;case 22:s.memoizedState===null&&ya(s);break;case 30:ya(s);break;default:ya(s)}n=n.sibling}}function Si(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,m=s,E=m.flags;switch(m.tag){case 0:case 11:case 15:Si(f,m,o),tu(4,m);break;case 1:if(Si(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){ut(u,u.return,K)}if(u=m,f=u.updateQueue,f!==null){var w=u.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)LE(V[f],w)}catch(K){ut(u,u.return,K)}}o&&E&64&&QT(m),nu(m,m.return);break;case 27:ZT(m);case 26:case 5:Si(f,m,o),o&&u===null&&E&4&&WT(m),nu(m,m.return);break;case 12:Si(f,m,o);break;case 31:Si(f,m,o),o&&E&4&&ix(f,m);break;case 13:Si(f,m,o),o&&E&4&&sx(f,m);break;case 22:m.memoizedState===null&&Si(f,m,o),nu(m,m.return);break;case 30:break;default:Si(f,m,o)}s=s.sibling}}function Fp(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Bl(o))}function Hp(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Bl(n))}function Er(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)lx(n,s,o,u),s=s.sibling}function lx(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Er(n,s,o,u),f&2048&&tu(9,s);break;case 1:Er(n,s,o,u);break;case 3:Er(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Bl(n)));break;case 12:if(f&2048){Er(n,s,o,u),n=s.stateNode;try{var m=s.memoizedProps,E=m.id,w=m.onPostCommit;typeof w=="function"&&w(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){ut(s,s.return,V)}}else Er(n,s,o,u);break;case 31:Er(n,s,o,u);break;case 13:Er(n,s,o,u);break;case 23:break;case 22:m=s.stateNode,E=s.alternate,s.memoizedState!==null?m._visibility&2?Er(n,s,o,u):ru(n,s):m._visibility&2?Er(n,s,o,u):(m._visibility|=2,So(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Fp(E,s);break;case 24:Er(n,s,o,u),f&2048&&Hp(s.alternate,s);break;default:Er(n,s,o,u)}}function So(n,s,o,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=n,E=s,w=o,V=u,K=E.flags;switch(E.tag){case 0:case 11:case 15:So(m,E,w,V,f),tu(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?So(m,E,w,V,f):ru(m,E):(te._visibility|=2,So(m,E,w,V,f)),f&&K&2048&&Fp(E.alternate,E);break;case 24:So(m,E,w,V,f),f&&K&2048&&Hp(E.alternate,E);break;default:So(m,E,w,V,f)}s=s.sibling}}function ru(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:ru(o,u),f&2048&&Fp(u.alternate,u);break;case 24:ru(o,u),f&2048&&Hp(u.alternate,u);break;default:ru(o,u)}s=s.sibling}}var iu=8192;function wo(n,s,o){if(n.subtreeFlags&iu)for(n=n.child;n!==null;)ux(n,s,o),n=n.sibling}function ux(n,s,o){switch(n.tag){case 26:wo(n,s,o),n.flags&iu&&n.memoizedState!==null&&pj(o,br,n.memoizedState,n.memoizedProps);break;case 5:wo(n,s,o);break;case 3:case 4:var u=br;br=Mh(n.stateNode.containerInfo),wo(n,s,o),br=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=iu,iu=16777216,wo(n,s,o),iu=u):wo(n,s,o));break;default:wo(n,s,o)}}function cx(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function su(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];tn=u,fx(u,n)}cx(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hx(n),n=n.sibling}function hx(n){switch(n.tag){case 0:case 11:case 15:su(n),n.flags&2048&&us(9,n,n.return);break;case 3:su(n);break;case 12:su(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,bh(n)):su(n);break;default:su(n)}}function bh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];tn=u,fx(u,n)}cx(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:us(8,s,s.return),bh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,bh(s));break;default:bh(s)}n=n.sibling}}function fx(n,s){for(;tn!==null;){var o=tn;switch(o.tag){case 0:case 11:case 15:us(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,tn=u;else e:for(o=n;tn!==null;){u=tn;var f=u.sibling,m=u.return;if(nx(u),u===o){tn=null;break e}if(f!==null){f.return=m,tn=f;break e}tn=m}}}var IM={getCacheForType:function(n){var s=on(Ut),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return on(Ut).controller.signal}},NM=typeof WeakMap=="function"?WeakMap:Map,it=0,mt=null,Ge=null,Ke=0,lt=0,qn=null,cs=!1,Ao=!1,Gp=!1,wi=0,At=0,hs=0,va=0,$p=0,zn=0,Ro=0,au=null,In=null,Kp=!1,Eh=0,dx=0,Th=1/0,xh=null,fs=null,Xt=0,ds=null,Co=null,Ai=0,Yp=0,Qp=null,px=null,ou=0,Xp=null;function Bn(){return(it&2)!==0&&Ke!==0?Ke&-Ke:ee.T!==null?nm():Sc()}function mx(){if(zn===0)if((Ke&536870912)===0||Ze){var n=Gs;Gs<<=1,(Gs&3932160)===0&&(Gs=262144),zn=n}else zn=536870912;return n=Ln.current,n!==null&&(n.flags|=32),zn}function Nn(n,s,o){(n===mt&&(lt===2||lt===9)||n.cancelPendingCommit!==null)&&(Io(n,0),ps(n,Ke,zn,!1)),$s(n,o),((it&2)===0||n!==mt)&&(n===mt&&((it&2)===0&&(va|=o),At===4&&ps(n,Ke,zn,!1)),Jr(n))}function gx(n,s,o){if((it&6)!==0)throw Error(i(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||hr(n,s),f=u?MM(n,s):Jp(n,s,!0),m=u;do{if(f===0){Ao&&!u&&ps(n,s,0,!1);break}else{if(o=n.current.alternate,m&&!OM(o)){f=Jp(n,s,!1),m=!1;continue}if(f===2){if(m=s,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var w=n;f=au;var V=w.current.memoizedState.isDehydrated;if(V&&(Io(w,E).flags|=256),E=Jp(w,E,!1),E!==2){if(Gp&&!V){w.errorRecoveryDisabledLanes|=m,va|=m,f=4;break e}m=In,In=f,m!==null&&(In===null?In=m:In.push.apply(In,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){Io(n,0),ps(n,s,0,!0);break}e:{switch(u=n,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ps(u,s,zn,!cs);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Eh+300-Mt(),10<f)){if(ps(u,s,zn,!cs),jr(u,0,!0)!==0)break e;Ai=s,u.timeoutHandle=Kx(yx.bind(null,u,o,In,xh,Kp,s,zn,va,Ro,cs,m,"Throttled",-0,0),f);break e}yx(u,o,In,xh,Kp,s,zn,va,Ro,cs,m,null,-0,0)}}break}while(!0);Jr(n)}function yx(n,s,o,u,f,m,E,w,V,K,te,se,Y,Z){if(n.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pr},ux(s,m,se);var ve=(m&62914560)===m?Eh-Mt():(m&4194048)===m?dx-Mt():0;if(ve=mj(se,ve),ve!==null){Ai=m,n.cancelPendingCommit=ve(wx.bind(null,n,s,m,o,u,f,E,w,V,te,se,null,Y,Z)),ps(n,m,E,!K);return}}wx(n,s,m,o,u,f,E,w,V)}function OM(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Vn(m(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ps(n,s,o,u){s&=~$p,s&=~va,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var m=31-Ct(f),E=1<<m;u[m]=-1,f&=~E}o!==0&&Ks(n,o,s)}function Sh(){return(it&6)===0?(lu(0),!1):!0}function Wp(){if(Ge!==null){if(lt===0)var n=Ge.return;else n=Ge,mi=ua=null,dp(n),_o=null,Hl=0,n=Ge;for(;n!==null;)YT(n.alternate,n),n=n.return;Ge=null}}function Io(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,WM(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Ai=0,Wp(),mt=n,Ge=o=di(n.current,null),Ke=s,lt=0,qn=null,cs=!1,Ao=hr(n,s),Gp=!1,Ro=zn=$p=va=hs=At=0,In=au=null,Kp=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-Ct(u),m=1<<f;s|=n[f],u&=~m}return wi=s,Gc(),o}function vx(n,s){Ve=null,ee.H=Jl,s===vo||s===Zc?(s=jE(),lt=3):s===tp?(s=jE(),lt=4):lt=s===Ip?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,qn=s,Ge===null&&(At=1,dh(n,er(s,n.current)))}function _x(){var n=Ln.current;return n===null?!0:(Ke&4194048)===Ke?ir===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?n===ir:!1}function bx(){var n=ee.H;return ee.H=Jl,n===null?Jl:n}function Ex(){var n=ee.A;return ee.A=IM,n}function wh(){At=4,cs||(Ke&4194048)!==Ke&&Ln.current!==null||(Ao=!0),(hs&134217727)===0&&(va&134217727)===0||mt===null||ps(mt,Ke,zn,!1)}function Jp(n,s,o){var u=it;it|=2;var f=bx(),m=Ex();(mt!==n||Ke!==s)&&(xh=null,Io(n,s)),s=!1;var E=At;e:do try{if(lt!==0&&Ge!==null){var w=Ge,V=qn;switch(lt){case 8:Wp(),E=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(s=!0);var K=lt;if(lt=0,qn=null,No(n,w,V,K),o&&Ao){E=0;break e}break;default:K=lt,lt=0,qn=null,No(n,w,V,K)}}DM(),E=At;break}catch(te){vx(n,te)}while(!0);return s&&n.shellSuspendCounter++,mi=ua=null,it=u,ee.H=f,ee.A=m,Ge===null&&(mt=null,Ke=0,Gc()),E}function DM(){for(;Ge!==null;)Tx(Ge)}function MM(n,s){var o=it;it|=2;var u=bx(),f=Ex();mt!==n||Ke!==s?(xh=null,Th=Mt()+500,Io(n,s)):Ao=hr(n,s);e:do try{if(lt!==0&&Ge!==null){s=Ge;var m=qn;t:switch(lt){case 1:lt=0,qn=null,No(n,s,m,1);break;case 2:case 9:if(DE(m)){lt=0,qn=null,xx(s);break}s=function(){lt!==2&&lt!==9||mt!==n||(lt=7),Jr(n)},m.then(s,s);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:DE(m)?(lt=0,qn=null,xx(s)):(lt=0,qn=null,No(n,s,m,7));break;case 5:var E=null;switch(Ge.tag){case 26:E=Ge.memoizedState;case 5:case 27:var w=Ge;if(E?lS(E):w.stateNode.complete){lt=0,qn=null;var V=w.sibling;if(V!==null)Ge=V;else{var K=w.return;K!==null?(Ge=K,Ah(K)):Ge=null}break t}}lt=0,qn=null,No(n,s,m,5);break;case 6:lt=0,qn=null,No(n,s,m,6);break;case 8:Wp(),At=6;break e;default:throw Error(i(462))}}jM();break}catch(te){vx(n,te)}while(!0);return mi=ua=null,ee.H=u,ee.A=f,it=o,Ge!==null?0:(mt=null,Ke=0,Gc(),At)}function jM(){for(;Ge!==null&&!$n();)Tx(Ge)}function Tx(n){var s=$T(n.alternate,n,wi);n.memoizedProps=n.pendingProps,s===null?Ah(n):Ge=s}function xx(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=qT(o,s,s.pendingProps,s.type,void 0,Ke);break;case 11:s=qT(o,s,s.pendingProps,s.type.render,s.ref,Ke);break;case 5:dp(s);default:YT(o,s),s=Ge=EE(s,wi),s=$T(o,s,wi)}n.memoizedProps=n.pendingProps,s===null?Ah(n):Ge=s}function No(n,s,o,u){mi=ua=null,dp(s),_o=null,Hl=0;var f=s.return;try{if(TM(n,f,s,o,Ke)){At=1,dh(n,er(o,n.current)),Ge=null;return}}catch(m){if(f!==null)throw Ge=f,m;At=1,dh(n,er(o,n.current)),Ge=null;return}s.flags&32768?(Ze||u===1?n=!0:Ao||(Ke&536870912)!==0?n=!1:(cs=n=!0,(u===2||u===9||u===3||u===6)&&(u=Ln.current,u!==null&&u.tag===13&&(u.flags|=16384))),Sx(s,n)):Ah(s)}function Ah(n){var s=n;do{if((s.flags&32768)!==0){Sx(s,cs);return}n=s.return;var o=wM(s.alternate,s,wi);if(o!==null){Ge=o;return}if(s=s.sibling,s!==null){Ge=s;return}Ge=s=n}while(s!==null);At===0&&(At=5)}function Sx(n,s){do{var o=AM(n.alternate,n);if(o!==null){o.flags&=32767,Ge=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Ge=n;return}Ge=n=o}while(n!==null);At=6,Ge=null}function wx(n,s,o,u,f,m,E,w,V){n.cancelPendingCommit=null;do Rh();while(Xt!==0);if((it&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=qd,Od(n,o,m,E,w,V),n===mt&&(Ge=mt=null,Ke=0),Co=s,ds=n,Ai=o,Yp=m,Qp=f,px=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,LM(En,function(){return Nx(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=ee.T,ee.T=null,f=he.p,he.p=2,E=it,it|=4;try{RM(n,s,o)}finally{it=E,he.p=f,ee.T=u}}Xt=1,Ax(),Rx(),Cx()}}function Ax(){if(Xt===1){Xt=0;var n=ds,s=Co,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=ee.T,ee.T=null;var u=he.p;he.p=2;var f=it;it|=4;try{ax(s,n);var m=cm,E=fE(n.containerInfo),w=m.focusedElem,V=m.selectionRange;if(E!==w&&w&&w.ownerDocument&&hE(w.ownerDocument.documentElement,w)){if(V!==null&&kd(w)){var K=V.start,te=V.end;if(te===void 0&&(te=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(te,w.value.length);else{var se=w.ownerDocument||document,Y=se&&se.defaultView||window;if(Y.getSelection){var Z=Y.getSelection(),ve=w.textContent.length,xe=Math.min(V.start,ve),dt=V.end===void 0?xe:Math.min(V.end,ve);!Z.extend&&xe>dt&&(E=dt,dt=xe,xe=E);var H=cE(w,xe),q=cE(w,dt);if(H&&q&&(Z.rangeCount!==1||Z.anchorNode!==H.node||Z.anchorOffset!==H.offset||Z.focusNode!==q.node||Z.focusOffset!==q.offset)){var $=se.createRange();$.setStart(H.node,H.offset),Z.removeAllRanges(),xe>dt?(Z.addRange($),Z.extend(q.node,q.offset)):($.setEnd(q.node,q.offset),Z.addRange($))}}}}for(se=[],Z=w;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<se.length;w++){var re=se[w];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Uh=!!um,cm=um=null}finally{it=f,he.p=u,ee.T=o}}n.current=s,Xt=2}}function Rx(){if(Xt===2){Xt=0;var n=ds,s=Co,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=ee.T,ee.T=null;var u=he.p;he.p=2;var f=it;it|=4;try{tx(n,s.alternate,s)}finally{it=f,he.p=u,ee.T=o}}Xt=3}}function Cx(){if(Xt===4||Xt===3){Xt=0,Qt();var n=ds,s=Co,o=Ai,u=px;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Xt=5:(Xt=0,Co=ds=null,Ix(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(fs=null),ui(o),s=s.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(jt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=ee.T,f=he.p,he.p=2,ee.T=null;try{for(var m=n.onRecoverableError,E=0;E<u.length;E++){var w=u[E];m(w.value,{componentStack:w.stack})}}finally{ee.T=s,he.p=f}}(Ai&3)!==0&&Rh(),Jr(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===Xp?ou++:(ou=0,Xp=n):ou=0,lu(0)}}function Ix(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Bl(s)))}function Rh(){return Ax(),Rx(),Cx(),Nx()}function Nx(){if(Xt!==5)return!1;var n=ds,s=Yp;Yp=0;var o=ui(Ai),u=ee.T,f=he.p;try{he.p=32>o?32:o,ee.T=null,o=Qp,Qp=null;var m=ds,E=Ai;if(Xt=0,Co=ds=null,Ai=0,(it&6)!==0)throw Error(i(331));var w=it;if(it|=4,hx(m.current),lx(m,m.current,E,o),it=w,lu(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(jt,m)}catch{}return!0}finally{he.p=f,ee.T=u,Ix(n,s)}}function Ox(n,s,o){s=er(o,s),s=Cp(n.stateNode,s,2),n=as(n,s,2),n!==null&&($s(n,2),Jr(n))}function ut(n,s,o){if(n.tag===3)Ox(n,n,o);else for(;s!==null;){if(s.tag===3){Ox(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(fs===null||!fs.has(u))){n=er(o,n),o=DT(2),u=as(s,o,2),u!==null&&(MT(o,u,s,n),$s(u,2),Jr(u));break}}s=s.return}}function Zp(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new NM;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Gp=!0,f.add(o),n=kM.bind(null,n,s,o),s.then(n,n))}function kM(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,mt===n&&(Ke&o)===o&&(At===4||At===3&&(Ke&62914560)===Ke&&300>Mt()-Eh?(it&2)===0&&Io(n,0):$p|=o,Ro===Ke&&(Ro=0)),Jr(n)}function Dx(n,s){s===0&&(s=xc()),n=aa(n,s),n!==null&&($s(n,s),Jr(n))}function VM(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),Dx(n,o)}function PM(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),Dx(n,o)}function LM(n,s){return Rt(n,s)}var Ch=null,Oo=null,em=!1,Ih=!1,tm=!1,ms=0;function Jr(n){n!==Oo&&n.next===null&&(Oo===null?Ch=Oo=n:Oo=Oo.next=n),Ih=!0,em||(em=!0,qM())}function lu(n,s){if(!tm&&Ih){tm=!0;do for(var o=!1,u=Ch;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,w=u.pingedLanes;m=(1<<31-Ct(42|n)+1)-1,m&=f&~(E&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,Vx(u,m))}else m=Ke,m=jr(u,u===mt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||hr(u,m)||(o=!0,Vx(u,m));u=u.next}while(o);tm=!1}}function UM(){Mx()}function Mx(){Ih=em=!1;var n=0;ms!==0&&XM()&&(n=ms);for(var s=Mt(),o=null,u=Ch;u!==null;){var f=u.next,m=jx(u,s);m===0?(u.next=null,o===null?Ch=f:o.next=f,f===null&&(Oo=o)):(o=u,(n!==0||(m&3)!==0)&&(Ih=!0)),u=f}Xt!==0&&Xt!==5||lu(n),ms!==0&&(ms=0)}function jx(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-Ct(m),w=1<<E,V=f[E];V===-1?((w&o)===0||(w&u)!==0)&&(f[E]=Nd(w,s)):V<=s&&(n.expiredLanes|=w),m&=~w}if(s=mt,o=Ke,o=jr(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(lt===2||lt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Mn(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||hr(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&Mn(u),ui(o)){case 2:case 8:o=Hi;break;case 32:o=En;break;case 268435456:o=Fs;break;default:o=En}return u=kx.bind(null,n),o=Rt(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&Mn(u),n.callbackPriority=2,n.callbackNode=null,2}function kx(n,s){if(Xt!==0&&Xt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Rh()&&n.callbackNode!==o)return null;var u=Ke;return u=jr(n,n===mt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(gx(n,u,s),jx(n,Mt()),n.callbackNode!=null&&n.callbackNode===o?kx.bind(null,n):null)}function Vx(n,s){if(Rh())return null;gx(n,s,!0)}function qM(){JM(function(){(it&6)!==0?Rt(Bs,UM):Mx()})}function nm(){if(ms===0){var n=go;n===0&&(n=Dr,Dr<<=1,(Dr&261888)===0&&(Dr=256)),ms=n}return ms}function Px(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:eo(""+n)}function Lx(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function zM(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var m=Px((f[Zt]||null).action),E=u.submitter;E&&(s=(s=E[Zt]||null)?Px(s.formAction):E.getAttribute("formAction"),s!==null&&(m=s,E=null));var w=new Gr("action","action",null,u,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ms!==0){var V=E?Lx(f,E):new FormData(f);Tp(o,{pending:!0,data:V,method:f.method,action:m},null,V)}}else typeof m=="function"&&(w.preventDefault(),V=E?Lx(f,E):new FormData(f),Tp(o,{pending:!0,data:V,method:f.method,action:m},m,V))},currentTarget:f}]})}}for(var rm=0;rm<Ud.length;rm++){var im=Ud[rm],BM=im.toLowerCase(),FM=im[0].toUpperCase()+im.slice(1);_r(BM,"on"+FM)}_r(mE,"onAnimationEnd"),_r(gE,"onAnimationIteration"),_r(yE,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(sM,"onTransitionRun"),_r(aM,"onTransitionStart"),_r(oM,"onTransitionCancel"),_r(vE,"onTransitionEnd"),zr("onMouseEnter",["mouseout","mouseover"]),zr("onMouseLeave",["mouseout","mouseover"]),zr("onPointerEnter",["pointerout","pointerover"]),zr("onPointerLeave",["pointerout","pointerover"]),qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uu));function Ux(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var E=u.length-1;0<=E;E--){var w=u[E],V=w.instance,K=w.currentTarget;if(w=w.listener,V!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=K;try{m(f)}catch(te){Hc(te)}f.currentTarget=null,m=V}else for(E=0;E<u.length;E++){if(w=u[E],V=w.instance,K=w.currentTarget,w=w.listener,V!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=K;try{m(f)}catch(te){Hc(te)}f.currentTarget=null,m=V}}}}function $e(n,s){var o=s[Qa];o===void 0&&(o=s[Qa]=new Set);var u=n+"__bubble";o.has(u)||(qx(s,n,2,!1),o.add(u))}function sm(n,s,o){var u=0;s&&(u|=4),qx(o,n,u,s)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function am(n){if(!n[Nh]){n[Nh]=!0,El.forEach(function(o){o!=="selectionchange"&&(HM.has(o)||sm(o,!1,n),sm(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Nh]||(s[Nh]=!0,sm("selectionchange",!1,s))}}function qx(n,s,o,u){switch(mS(s)){case 2:var f=vj;break;case 8:f=_j;break;default:f=Em}o=f.bind(null,s,o,n),f=void 0,!Js||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function om(n,s,o,u,f){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var w=u.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=u.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=Lr(w),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){u=m=E;continue e}w=w.parentNode}}u=u.return}Xi(function(){var K=m,te=Xn(o),se=[];e:{var Y=_E.get(n);if(Y!==void 0){var Z=Gr,ve=n;switch(n){case"keypress":if(ea(o)===0)break e;case"keydown":case"keyup":Z=zc;break;case"focusin":ve="focus",Z=na;break;case"focusout":ve="blur",Z=na;break;case"beforeblur":case"afterblur":Z=na;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case mE:case gE:case yE:Z=jc;break;case vE:Z=A;break;case"scroll":case"scrollend":Z=Ml;break;case"wheel":Z=J;break;case"copy":case"cut":case"paste":Z=kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=fi;break;case"toggle":case"beforetoggle":Z=ke}var xe=(s&4)!==0,dt=!xe&&(n==="scroll"||n==="scrollend"),H=xe?Y!==null?Y+"Capture":null:Y;xe=[];for(var q=K,$;q!==null;){var re=q;if($=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||$===null||H===null||(re=mr(q,H),re!=null&&xe.push(cu(q,re,$))),dt)break;q=q.return}0<xe.length&&(Y=new Z(Y,ve,null,o,te),se.push({event:Y,listeners:xe}))}}if((s&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",Y&&o!==Nl&&(ve=o.relatedTarget||o.fromElement)&&(Lr(ve)||ve[Vr]))break e;if((Z||Y)&&(Y=te.window===te?te:(Y=te.ownerDocument)?Y.defaultView||Y.parentWindow:window,Z?(ve=o.relatedTarget||o.toElement,Z=K,ve=ve?Lr(ve):null,ve!==null&&(dt=l(ve),xe=ve.tag,ve!==dt||xe!==5&&xe!==27&&xe!==6)&&(ve=null)):(Z=null,ve=K),Z!==ve)){if(xe=jl,re="onMouseLeave",H="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(xe=fi,re="onPointerLeave",H="onPointerEnter",q="pointer"),dt=Z==null?Y:jn(Z),$=ve==null?Y:jn(ve),Y=new xe(re,q+"leave",Z,o,te),Y.target=dt,Y.relatedTarget=$,re=null,Lr(te)===K&&(xe=new xe(H,q+"enter",ve,o,te),xe.target=$,xe.relatedTarget=dt,re=xe),dt=re,Z&&ve)t:{for(xe=GM,H=Z,q=ve,$=0,re=H;re;re=xe(re))$++;re=0;for(var Ee=q;Ee;Ee=xe(Ee))re++;for(;0<$-re;)H=xe(H),$--;for(;0<re-$;)q=xe(q),re--;for(;$--;){if(H===q||q!==null&&H===q.alternate){xe=H;break t}H=xe(H),q=xe(q)}xe=null}else xe=null;Z!==null&&zx(se,Y,Z,xe,!1),ve!==null&&dt!==null&&zx(se,dt,ve,xe,!0)}}e:{if(Y=K?jn(K):window,Z=Y.nodeName&&Y.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Y.type==="file")var tt=iE;else if(nE(Y))if(sE)tt=nM;else{tt=eM;var _e=ZD}else Z=Y.nodeName,!Z||Z.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Za(K.elementType)&&(tt=iE):tt=tM;if(tt&&(tt=tt(n,K))){rE(se,tt,o,te);break e}_e&&_e(n,Y,K),n==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&Rl(Y,"number",Y.value)}switch(_e=K?jn(K):window,n){case"focusin":(nE(_e)||_e.contentEditable==="true")&&(oo=_e,Vd=K,Ul=null);break;case"focusout":Ul=Vd=oo=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,dE(se,o,te);break;case"selectionchange":if(iM)break;case"keydown":case"keyup":dE(se,o,te)}var Ue;if(rt)e:{switch(n){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else ao?ra(n,o)&&(Ye="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Ye="onCompositionStart");Ye&&(Yr&&o.locale!=="ko"&&(ao||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&ao&&(Ue=Dl()):(Hr=te,Ol="value"in Hr?Hr.value:Hr.textContent,ao=!0)),_e=Oh(K,Ye),0<_e.length&&(Ye=new Kr(Ye,n,null,o,te),se.push({event:Ye,listeners:_e}),Ue?Ye.data=Ue:(Ue=so(o),Ue!==null&&(Ye.data=Ue)))),(Ue=Jn?QD(n,o):XD(n,o))&&(Ye=Oh(K,"onBeforeInput"),0<Ye.length&&(_e=new Kr("onBeforeInput","beforeinput",null,o,te),se.push({event:_e,listeners:Ye}),_e.data=Ue)),zM(se,n,K,o,te)}Ux(se,s)})}function cu(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Oh(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=mr(n,o),f!=null&&u.unshift(cu(n,f,m)),f=mr(n,s),f!=null&&u.push(cu(n,f,m))),n.tag===3)return u;n=n.return}return[]}function GM(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function zx(n,s,o,u,f){for(var m=s._reactName,E=[];o!==null&&o!==u;){var w=o,V=w.alternate,K=w.stateNode;if(w=w.tag,V!==null&&V===u)break;w!==5&&w!==26&&w!==27||K===null||(V=K,f?(K=mr(o,m),K!=null&&E.unshift(cu(o,K,V))):f||(K=mr(o,m),K!=null&&E.push(cu(o,K,V)))),o=o.return}E.length!==0&&n.push({event:s,listeners:E})}var $M=/\r\n?/g,KM=/\u0000|\uFFFD/g;function Bx(n){return(typeof n=="string"?n:""+n).replace($M,`
`).replace(KM,"")}function Fx(n,s){return s=Bx(s),Bx(n)===s}function ft(n,s,o,u,f,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||wn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&wn(n,""+u);break;case"className":kn(n,"class",u);break;case"tabIndex":kn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(n,o,u);break;case"style":Il(n,u,m);break;case"data":if(s!=="object"){kn(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=eo(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&ft(n,s,"name",f.name,f,null),ft(n,s,"formEncType",f.formEncType,f,null),ft(n,s,"formMethod",f.formMethod,f,null),ft(n,s,"formTarget",f.formTarget,f,null)):(ft(n,s,"encType",f.encType,f,null),ft(n,s,"method",f.method,f,null),ft(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=eo(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=pr);break;case"onScroll":u!=null&&$e("scroll",n);break;case"onScrollEnd":u!=null&&$e("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=eo(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":$e("beforetoggle",n),$e("toggle",n),Wa(n,"popover",u);break;case"xlinkActuate":Lt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Lt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Lt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Lt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Lt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Lt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wa(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Oc.get(o)||o,Wa(n,o,u))}}function lm(n,s,o,u,f,m){switch(o){case"style":Il(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?wn(n,u):(typeof u=="number"||typeof u=="bigint")&&wn(n,""+u);break;case"onScroll":u!=null&&$e("scroll",n);break;case"onScrollEnd":u!=null&&$e("scrollend",n);break;case"onClick":u!=null&&(n.onclick=pr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),m=n[Zt]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(s,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Wa(n,o,u)}}}function un(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",n),$e("load",n);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ft(n,s,m,E,o,null)}}f&&ft(n,s,"srcSet",o.srcSet,o,null),u&&ft(n,s,"src",o.src,o,null);return;case"input":$e("invalid",n);var w=m=E=f=null,V=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":f=te;break;case"type":E=te;break;case"checked":V=te;break;case"defaultChecked":K=te;break;case"value":m=te;break;case"defaultValue":w=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:ft(n,s,u,te,o,null)}}Cc(n,m,w,V,K,E,f,!1);return;case"select":$e("invalid",n),u=E=m=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":E=w;break;case"multiple":u=w;default:ft(n,s,f,w,o,null)}s=m,o=E,n.multiple=!!u,s!=null?$i(n,!!u,s,!1):o!=null&&$i(n,!!u,o,!0);return;case"textarea":$e("invalid",n),m=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":u=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ft(n,s,E,w,o,null)}Ki(n,u,f,m);return;case"option":for(V in o)o.hasOwnProperty(V)&&(u=o[V],u!=null)&&(V==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":ft(n,s,V,u,o,null));return;case"dialog":$e("beforetoggle",n),$e("toggle",n),$e("cancel",n),$e("close",n);break;case"iframe":case"object":$e("load",n);break;case"video":case"audio":for(u=0;u<uu.length;u++)$e(uu[u],n);break;case"image":$e("error",n),$e("load",n);break;case"details":$e("toggle",n);break;case"embed":case"source":case"link":$e("error",n),$e("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ft(n,s,K,u,o,null)}return;default:if(Za(s)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&lm(n,s,te,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&ft(n,s,w,u,o,null))}function YM(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,w=null,V=null,K=null,te=null;for(Z in o){var se=o[Z];if(o.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=se;default:u.hasOwnProperty(Z)||ft(n,s,Z,null,u,se)}}for(var Y in u){var Z=u[Y];if(se=o[Y],u.hasOwnProperty(Y)&&(Z!=null||se!=null))switch(Y){case"type":m=Z;break;case"name":f=Z;break;case"checked":K=Z;break;case"defaultChecked":te=Z;break;case"value":E=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==se&&ft(n,s,Y,Z,u,se)}}Ja(n,E,w,V,K,te,m,f);return;case"select":Z=E=w=Y=null;for(m in o)if(V=o[m],o.hasOwnProperty(m)&&V!=null)switch(m){case"value":break;case"multiple":Z=V;default:u.hasOwnProperty(m)||ft(n,s,m,null,u,V)}for(f in u)if(m=u[f],V=o[f],u.hasOwnProperty(f)&&(m!=null||V!=null))switch(f){case"value":Y=m;break;case"defaultValue":w=m;break;case"multiple":E=m;default:m!==V&&ft(n,s,f,m,u,V)}s=w,o=E,u=Z,Y!=null?$i(n,!!o,Y,!1):!!u!=!!o&&(s!=null?$i(n,!!o,s,!0):$i(n,!!o,o?[]:"",!1));return;case"textarea":Z=Y=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ft(n,s,w,null,u,f)}for(E in u)if(f=u[E],m=o[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":Y=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&ft(n,s,E,f,u,m)}Ic(n,Y,Z);return;case"option":for(var ve in o)Y=o[ve],o.hasOwnProperty(ve)&&Y!=null&&!u.hasOwnProperty(ve)&&(ve==="selected"?n.selected=!1:ft(n,s,ve,null,u,Y));for(V in u)Y=u[V],Z=o[V],u.hasOwnProperty(V)&&Y!==Z&&(Y!=null||Z!=null)&&(V==="selected"?n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":ft(n,s,V,Y,u,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)Y=o[xe],o.hasOwnProperty(xe)&&Y!=null&&!u.hasOwnProperty(xe)&&ft(n,s,xe,null,u,Y);for(K in u)if(Y=u[K],Z=o[K],u.hasOwnProperty(K)&&Y!==Z&&(Y!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:ft(n,s,K,Y,u,Z)}return;default:if(Za(s)){for(var dt in o)Y=o[dt],o.hasOwnProperty(dt)&&Y!==void 0&&!u.hasOwnProperty(dt)&&lm(n,s,dt,void 0,u,Y);for(te in u)Y=u[te],Z=o[te],!u.hasOwnProperty(te)||Y===Z||Y===void 0&&Z===void 0||lm(n,s,te,Y,u,Z);return}}for(var H in o)Y=o[H],o.hasOwnProperty(H)&&Y!=null&&!u.hasOwnProperty(H)&&ft(n,s,H,null,u,Y);for(se in u)Y=u[se],Z=o[se],!u.hasOwnProperty(se)||Y===Z||Y==null&&Z==null||ft(n,s,se,Y,u,Z)}function Hx(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QM(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,E=f.initiatorType,w=f.duration;if(m&&w&&Hx(E)){for(E=0,w=f.responseEnd,u+=1;u<o.length;u++){var V=o[u],K=V.startTime;if(K>w)break;var te=V.transferSize,se=V.initiatorType;te&&Hx(se)&&(V=V.responseEnd,E+=te*(V<w?1:(w-K)/(V-K)))}if(--u,s+=8*(m+E)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var um=null,cm=null;function Dh(n){return n.nodeType===9?n:n.ownerDocument}function Gx(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $x(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function hm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fm=null;function XM(){var n=window.event;return n&&n.type==="popstate"?n===fm?!1:(fm=n,!0):(fm=null,!1)}var Kx=typeof setTimeout=="function"?setTimeout:void 0,WM=typeof clearTimeout=="function"?clearTimeout:void 0,Yx=typeof Promise=="function"?Promise:void 0,JM=typeof queueMicrotask=="function"?queueMicrotask:typeof Yx<"u"?function(n){return Yx.resolve(null).then(n).catch(ZM)}:Kx;function ZM(n){setTimeout(function(){throw n})}function gs(n){return n==="head"}function Qx(n,s){var o=s,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(f),ko(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")hu(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,hu(o);for(var m=o.firstChild;m;){var E=m.nextSibling,w=m.nodeName;m[Pr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=E}}else o==="body"&&hu(n.ownerDocument.body);o=f}while(o);ko(s)}function Xx(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function dm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":dm(o),Xa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function ej(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Pr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=sr(n.nextSibling),n===null)break}return null}function tj(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=sr(n.nextSibling),n===null))return null;return n}function Wx(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=sr(n.nextSibling),n===null))return null;return n}function pm(n){return n.data==="$?"||n.data==="$~"}function mm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function nj(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function sr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var gm=null;function Jx(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return sr(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function Zx(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function eS(n,s,o){switch(s=Dh(o),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function hu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Xa(n)}var ar=new Map,tS=new Set;function Mh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ri=he.d;he.d={f:rj,r:ij,D:sj,C:aj,L:oj,m:lj,X:cj,S:uj,M:hj};function rj(){var n=Ri.f(),s=Sh();return n||s}function ij(n){var s=Qn(n);s!==null&&s.tag===5&&s.type==="form"?vT(s):Ri.r(n)}var Do=typeof document>"u"?null:document;function nS(n,s,o){var u=Do;if(u&&typeof s=="string"&&s){var f=Sn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),tS.has(f)||(tS.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),un(s,"link",n),Pt(s),u.head.appendChild(s)))}}function sj(n){Ri.D(n),nS("dns-prefetch",n,null)}function aj(n,s){Ri.C(n,s),nS("preconnect",n,s)}function oj(n,s,o){Ri.L(n,s,o);var u=Do;if(u&&n&&s){var f='link[rel="preload"][as="'+Sn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Sn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Sn(o.imageSizes)+'"]')):f+='[href="'+Sn(n)+'"]';var m=f;switch(s){case"style":m=Mo(n);break;case"script":m=jo(n)}ar.has(m)||(n=b({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),ar.set(m,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(fu(m))||s==="script"&&u.querySelector(du(m))||(s=u.createElement("link"),un(s,"link",n),Pt(s),u.head.appendChild(s)))}}function lj(n,s){Ri.m(n,s);var o=Do;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Sn(u)+'"][href="'+Sn(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=jo(n)}if(!ar.has(m)&&(n=b({rel:"modulepreload",href:n},s),ar.set(m,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(du(m)))return}u=o.createElement("link"),un(u,"link",n),Pt(u),o.head.appendChild(u)}}}function uj(n,s,o){Ri.S(n,s,o);var u=Do;if(u&&n){var f=Ur(u).hoistableStyles,m=Mo(n);s=s||"default";var E=f.get(m);if(!E){var w={loading:0,preload:null};if(E=u.querySelector(fu(m)))w.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":s},o),(o=ar.get(m))&&ym(n,o);var V=E=u.createElement("link");Pt(V),un(V,"link",n),V._p=new Promise(function(K,te){V.onload=K,V.onerror=te}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,jh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(m,E)}}}function cj(n,s){Ri.X(n,s);var o=Do;if(o&&n){var u=Ur(o).hoistableScripts,f=jo(n),m=u.get(f);m||(m=o.querySelector(du(f)),m||(n=b({src:n,async:!0},s),(s=ar.get(f))&&vm(n,s),m=o.createElement("script"),Pt(m),un(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function hj(n,s){Ri.M(n,s);var o=Do;if(o&&n){var u=Ur(o).hoistableScripts,f=jo(n),m=u.get(f);m||(m=o.querySelector(du(f)),m||(n=b({src:n,async:!0,type:"module"},s),(s=ar.get(f))&&vm(n,s),m=o.createElement("script"),Pt(m),un(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function rS(n,s,o,u){var f=(f=Q.current)?Mh(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Mo(o.href),o=Ur(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Mo(o.href);var m=Ur(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(fu(n)))&&!m._p&&(E.instance=m,E.state.loading=5),ar.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ar.set(n,o),m||fj(f,n,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=jo(o),o=Ur(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Mo(n){return'href="'+Sn(n)+'"'}function fu(n){return'link[rel="stylesheet"]['+n+"]"}function iS(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function fj(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),un(s,"link",o),Pt(s),n.head.appendChild(s))}function jo(n){return'[src="'+Sn(n)+'"]'}function du(n){return"script[async]"+n}function sS(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Sn(o.href)+'"]');if(u)return s.instance=u,Pt(u),u;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Pt(u),un(u,"style",f),jh(u,o.precedence,n),s.instance=u;case"stylesheet":f=Mo(o.href);var m=n.querySelector(fu(f));if(m)return s.state.loading|=4,s.instance=m,Pt(m),m;u=iS(o),(f=ar.get(f))&&ym(u,f),m=(n.ownerDocument||n).createElement("link"),Pt(m);var E=m;return E._p=new Promise(function(w,V){E.onload=w,E.onerror=V}),un(m,"link",u),s.state.loading|=4,jh(m,o.precedence,n),s.instance=m;case"script":return m=jo(o.src),(f=n.querySelector(du(m)))?(s.instance=f,Pt(f),f):(u=o,(f=ar.get(m))&&(u=b({},o),vm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Pt(f),un(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,jh(u,o.precedence,n));return s.instance}function jh(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var w=u[E];if(w.dataset.precedence===s)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function ym(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function vm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var kh=null;function aS(n,s,o){if(kh===null){var u=new Map,f=kh=new Map;f.set(o,u)}else f=kh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[Pr]||m[Vt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(s)||"";E=n+E;var w=u.get(E);w?w.push(m):u.set(E,[m])}}return u}function oS(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function dj(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function lS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function pj(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Mo(u.href),m=s.querySelector(fu(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Vh.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=m,Pt(m);return}m=s.ownerDocument||s,u=iS(u),(f=ar.get(f))&&ym(u,f),m=m.createElement("link"),Pt(m);var E=m;E._p=new Promise(function(w,V){E.onload=w,E.onerror=V}),un(m,"link",u),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Vh.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var _m=0;function mj(n,s){return n.stylesheets&&n.count===0&&Lh(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&Lh(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+s);0<n.imgBytes&&_m===0&&(_m=62500*QM());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Lh(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>_m?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Vh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ph=null;function Lh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ph=new Map,s.forEach(gj,n),Ph=null,Vh.call(n))}function gj(n,s){if(!(s.state.loading&4)){var o=Ph.get(n);if(o)var u=o.get(null);else{o=new Map,Ph.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,f),o.set(E,f),this.count++,u=Vh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var pu={$$typeof:W,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function yj(n,s,o,u,f,m,E,w,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function uS(n,s,o,u,f,m,E,w,V,K,te,se){return n=new yj(n,s,o,E,V,K,te,se,w),s=1,m===!0&&(s|=24),m=Pn(3,null,null,s),n.current=m,m.stateNode=n,s=Jd(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},np(m),n}function cS(n){return n?(n=co,n):co}function hS(n,s,o,u,f,m){f=cS(f),u.context===null?u.context=f:u.pendingContext=f,u=ss(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=as(n,u,s),o!==null&&(Nn(o,n,s),$l(o,n,s))}function fS(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function bm(n,s){fS(n,s),(n=n.alternate)&&fS(n,s)}function dS(n){if(n.tag===13||n.tag===31){var s=aa(n,67108864);s!==null&&Nn(s,n,67108864),bm(n,67108864)}}function pS(n){if(n.tag===13||n.tag===31){var s=Bn();s=Ys(s);var o=aa(n,s);o!==null&&Nn(o,n,s),bm(n,s)}}var Uh=!0;function vj(n,s,o,u){var f=ee.T;ee.T=null;var m=he.p;try{he.p=2,Em(n,s,o,u)}finally{he.p=m,ee.T=f}}function _j(n,s,o,u){var f=ee.T;ee.T=null;var m=he.p;try{he.p=8,Em(n,s,o,u)}finally{he.p=m,ee.T=f}}function Em(n,s,o,u){if(Uh){var f=Tm(u);if(f===null)om(n,s,u,qh,o),gS(n,u);else if(Ej(f,n,s,o,u))u.stopPropagation();else if(gS(n,u),s&4&&-1<bj.indexOf(n)){for(;f!==null;){var m=Qn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Mr(m.pendingLanes);if(E!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var V=1<<31-Ct(E);w.entanglements[1]|=V,E&=~V}Jr(m),(it&6)===0&&(Th=Mt()+500,lu(0))}}break;case 31:case 13:w=aa(m,2),w!==null&&Nn(w,m,2),Sh(),bm(m,2)}if(m=Tm(u),m===null&&om(n,s,u,qh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else om(n,s,u,null,o)}}function Tm(n){return n=Xn(n),xm(n)}var qh=null;function xm(n){if(qh=null,n=Lr(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return qh=n,null}function mS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kn()){case Bs:return 2;case Hi:return 8;case En:case $a:return 32;case Fs:return 268435456;default:return 32}default:return 32}}var Sm=!1,ys=null,vs=null,_s=null,mu=new Map,gu=new Map,bs=[],bj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gS(n,s){switch(n){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":mu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(s.pointerId)}}function yu(n,s,o,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Qn(s),s!==null&&dS(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function Ej(n,s,o,u,f){switch(s){case"focusin":return ys=yu(ys,n,s,o,u,f),!0;case"dragenter":return vs=yu(vs,n,s,o,u,f),!0;case"mouseover":return _s=yu(_s,n,s,o,u,f),!0;case"pointerover":var m=f.pointerId;return mu.set(m,yu(mu.get(m)||null,n,s,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,gu.set(m,yu(gu.get(m)||null,n,s,o,u,f)),!0}return!1}function yS(n){var s=Lr(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,fr(n.priority,function(){pS(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,fr(n.priority,function(){pS(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function zh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=Tm(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Nl=u,o.target.dispatchEvent(u),Nl=null}else return s=Qn(o),s!==null&&dS(s),n.blockedOn=o,!1;s.shift()}return!0}function vS(n,s,o){zh(n)&&o.delete(s)}function Tj(){Sm=!1,ys!==null&&zh(ys)&&(ys=null),vs!==null&&zh(vs)&&(vs=null),_s!==null&&zh(_s)&&(_s=null),mu.forEach(vS),gu.forEach(vS)}function Bh(n,s){n.blockedOn===s&&(n.blockedOn=null,Sm||(Sm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Tj)))}var Fh=null;function _S(n){Fh!==n&&(Fh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fh===n&&(Fh=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(xm(u||o)===null)continue;break}var m=Qn(o);m!==null&&(n.splice(s,3),s-=3,Tp(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function ko(n){function s(V){return Bh(V,n)}ys!==null&&Bh(ys,n),vs!==null&&Bh(vs,n),_s!==null&&Bh(_s,n),mu.forEach(s),gu.forEach(s);for(var o=0;o<bs.length;o++){var u=bs[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<bs.length&&(o=bs[0],o.blockedOn===null);)yS(o),o.blockedOn===null&&bs.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],E=f[Zt]||null;if(typeof m=="function")E||_S(o);else if(E){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[Zt]||null)w=E.formAction;else if(xm(f)!==null)continue}else w=E.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),_S(o)}}}function bS(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function wm(n){this._internalRoot=n}Hh.prototype.render=wm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Bn();hS(o,u,n,s,null,null)},Hh.prototype.unmount=wm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;hS(n.current,2,null,n,null,null),Sh(),s[Vr]=null}};function Hh(n){this._internalRoot=n}Hh.prototype.unstable_scheduleHydration=function(n){if(n){var s=Sc();n={blockedOn:null,target:n,priority:s};for(var o=0;o<bs.length&&s!==0&&s<bs[o].priority;o++);bs.splice(o,0,n),o===0&&yS(n)}};var ES=e.version;if(ES!=="19.2.4")throw Error(i(527,ES,"19.2.4"));he.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var xj={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{jt=Gh.inject(xj),yt=Gh}catch{}}return wu.createRoot=function(n,s){if(!a(n))throw Error(i(299));var o=!1,u="",f=CT,m=IT,E=NT;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=uS(n,1,!1,null,null,o,u,null,f,m,E,bS),n[Vr]=s.current,am(n),new wm(s)},wu.hydrateRoot=function(n,s,o){if(!a(n))throw Error(i(299));var u=!1,f="",m=CT,E=IT,w=NT,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),s=uS(n,1,!0,s,o??null,u,f,V,m,E,w,bS),s.context=cS(null),o=s.current,u=Bn(),u=Ys(u),f=ss(u),f.callback=null,as(o,f,u),o=u,s.current.lanes=o,$s(s,o),Jr(s),n[Vr]=s.current,am(n),new Hh(s)},wu.version="19.2.4",wu}var IC;function lB(){if(IC)return $v.exports;IC=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$v.exports=oB(),$v.exports}var uB=lB();function gn(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var cB=typeof Symbol=="function"&&Symbol.observable||"@@observable",NC=cB,Qv=()=>Math.random().toString(36).substring(7).split("").join("."),hB={INIT:`@@redux/INIT${Qv()}`,REPLACE:`@@redux/REPLACE${Qv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Qv()}`},zf=hB;function fB(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function kD(r,e,t){if(typeof r!="function")throw new Error(gn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(gn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(gn(1));return t(kD)(r,e)}let i=r,a=e,l=new Map,c=l,d=0,p=!1;function g(){c===l&&(c=new Map,l.forEach((M,F)=>{c.set(F,M)}))}function v(){if(p)throw new Error(gn(3));return a}function b(M){if(typeof M!="function")throw new Error(gn(4));if(p)throw new Error(gn(5));let F=!0;g();const z=d++;return c.set(z,M),function(){if(F){if(p)throw new Error(gn(6));F=!1,g(),c.delete(z),l=null}}}function x(M){if(!fB(M))throw new Error(gn(7));if(typeof M.type>"u")throw new Error(gn(8));if(typeof M.type!="string")throw new Error(gn(17));if(p)throw new Error(gn(9));try{p=!0,a=i(a,M)}finally{p=!1}return(l=c).forEach(z=>{z()}),M}function S(M){if(typeof M!="function")throw new Error(gn(10));i=M,x({type:zf.REPLACE})}function j(){const M=b;return{subscribe(F){if(typeof F!="object"||F===null)throw new Error(gn(11));function z(){const le=F;le.next&&le.next(v())}return z(),{unsubscribe:M(z)}},[NC](){return this}}}return x({type:zf.INIT}),{dispatch:x,subscribe:b,getState:v,replaceReducer:S,[NC]:j}}function $o(r,e,t){return kD(r,e,t)}function dB(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:zf.INIT})>"u")throw new Error(gn(12));if(typeof t(void 0,{type:zf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gn(13))})}function pB(r){const e=Object.keys(r),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof r[c]=="function"&&(t[c]=r[c])}const i=Object.keys(t);let a;try{dB(t)}catch(l){a=l}return function(c={},d){if(a)throw a;let p=!1;const g={};for(let v=0;v<i.length;v++){const b=i[v],x=t[b],S=c[b],j=x(S,d);if(typeof j>"u")throw d&&d.type,new Error(gn(14));g[b]=j,p=p||j!==S}return p=p||i.length!==Object.keys(c).length,p?g:c}}var Xv,OC;function mB(){if(OC)return Xv;OC=1;function r(e,t){for(var i=-1,a=e==null?0:e.length;++i<a&&t(e[i],i,e)!==!1;);return e}return Xv=r,Xv}var Wv,DC;function vl(){if(DC)return Wv;DC=1;var r=X0(),e=Qf();function t(i,a,l,c){var d=!l;l||(l={});for(var p=-1,g=a.length;++p<g;){var v=a[p],b=c?c(l[v],i[v],v,l,i):void 0;b===void 0&&(b=i[v]),d?e(l,v,b):r(l,v,b)}return l}return Wv=t,Wv}var Jv,MC;function gB(){if(MC)return Jv;MC=1;var r=vl(),e=za();function t(i,a){return i&&r(a,e(a),i)}return Jv=t,Jv}var Zv,jC;function yB(){if(jC)return Zv;jC=1;function r(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}return Zv=r,Zv}var e_,kC;function vB(){if(kC)return e_;kC=1;var r=cr(),e=L0(),t=yB(),i=Object.prototype,a=i.hasOwnProperty;function l(c){if(!r(c))return t(c);var d=e(c),p=[];for(var g in c)g=="constructor"&&(d||!a.call(c,g))||p.push(g);return p}return e_=l,e_}var t_,VC;function bc(){if(VC)return t_;VC=1;var r=bN(),e=vB(),t=ol();function i(a){return t(a)?r(a,!0):e(a)}return t_=i,t_}var n_,PC;function _B(){if(PC)return n_;PC=1;var r=vl(),e=bc();function t(i,a){return i&&r(a,e(a),i)}return n_=t,n_}var Mu={exports:{}};Mu.exports;var LC;function VD(){return LC||(LC=1,(function(r,e){var t=Or(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,l=a&&a.exports===i,c=l?t.Buffer:void 0,d=c?c.allocUnsafe:void 0;function p(g,v){if(v)return g.slice();var b=g.length,x=d?d(b):new g.constructor(b);return g.copy(x),x}r.exports=p})(Mu,Mu.exports)),Mu.exports}var r_,UC;function bB(){if(UC)return r_;UC=1;var r=vl(),e=B0();function t(i,a){return r(i,e(i),a)}return r_=t,r_}var i_,qC;function Zb(){if(qC)return i_;qC=1;var r=EN(),e=r(Object.getPrototypeOf,Object);return i_=e,i_}var s_,zC;function PD(){if(zC)return s_;zC=1;var r=sd(),e=Zb(),t=B0(),i=AN(),a=Object.getOwnPropertySymbols,l=a?function(c){for(var d=[];c;)r(d,t(c)),c=e(c);return d}:i;return s_=l,s_}var a_,BC;function EB(){if(BC)return a_;BC=1;var r=vl(),e=PD();function t(i,a){return r(i,e(i),a)}return a_=t,a_}var o_,FC;function LD(){if(FC)return o_;FC=1;var r=SN(),e=PD(),t=bc();function i(a){return r(a,t,e)}return o_=i,o_}var l_,HC;function TB(){if(HC)return l_;HC=1;var r=Object.prototype,e=r.hasOwnProperty;function t(i){var a=i.length,l=new i.constructor(a);return a&&typeof i[0]=="string"&&e.call(i,"index")&&(l.index=i.index,l.input=i.input),l}return l_=t,l_}var u_,GC;function eE(){if(GC)return u_;GC=1;var r=xN();function e(t){var i=new t.constructor(t.byteLength);return new r(i).set(new r(t)),i}return u_=e,u_}var c_,$C;function xB(){if($C)return c_;$C=1;var r=eE();function e(t,i){var a=i?r(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}return c_=e,c_}var h_,KC;function SB(){if(KC)return h_;KC=1;var r=/\w*$/;function e(t){var i=new t.constructor(t.source,r.exec(t));return i.lastIndex=t.lastIndex,i}return h_=e,h_}var f_,YC;function wB(){if(YC)return f_;YC=1;var r=al(),e=r?r.prototype:void 0,t=e?e.valueOf:void 0;function i(a){return t?Object(t.call(a)):{}}return f_=i,f_}var d_,QC;function UD(){if(QC)return d_;QC=1;var r=eE();function e(t,i){var a=i?r(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}return d_=e,d_}var p_,XC;function AB(){if(XC)return p_;XC=1;var r=eE(),e=xB(),t=SB(),i=wB(),a=UD(),l="[object Boolean]",c="[object Date]",d="[object Map]",p="[object Number]",g="[object RegExp]",v="[object Set]",b="[object String]",x="[object Symbol]",S="[object ArrayBuffer]",j="[object DataView]",P="[object Float32Array]",M="[object Float64Array]",F="[object Int8Array]",z="[object Int16Array]",W="[object Int32Array]",le="[object Uint8Array]",ce="[object Uint8ClampedArray]",oe="[object Uint16Array]",I="[object Uint32Array]";function R(O,k,D){var L=O.constructor;switch(k){case S:return r(O);case l:case c:return new L(+O);case j:return e(O,D);case P:case M:case F:case z:case W:case le:case ce:case oe:case I:return a(O,D);case d:return new L;case p:case b:return new L(O);case g:return t(O);case v:return new L;case x:return i(O)}}return p_=R,p_}var m_,WC;function RB(){if(WC)return m_;WC=1;var r=cr(),e=Object.create,t=(function(){function i(){}return function(a){if(!r(a))return{};if(e)return e(a);i.prototype=a;var l=new i;return i.prototype=void 0,l}})();return m_=t,m_}var g_,JC;function qD(){if(JC)return g_;JC=1;var r=RB(),e=Zb(),t=L0();function i(a){return typeof a.constructor=="function"&&!t(a)?r(e(a)):{}}return g_=i,g_}var y_,ZC;function CB(){if(ZC)return y_;ZC=1;var r=ad(),e=li(),t="[object Map]";function i(a){return e(a)&&r(a)==t}return y_=i,y_}var v_,eI;function IB(){if(eI)return v_;eI=1;var r=CB(),e=Zf(),t=V0(),i=t&&t.isMap,a=i?e(i):r;return v_=a,v_}var __,tI;function NB(){if(tI)return __;tI=1;var r=ad(),e=li(),t="[object Set]";function i(a){return e(a)&&r(a)==t}return __=i,__}var b_,nI;function OB(){if(nI)return b_;nI=1;var r=NB(),e=Zf(),t=V0(),i=t&&t.isSet,a=i?e(i):r;return b_=a,b_}var E_,rI;function zD(){if(rI)return E_;rI=1;var r=id(),e=mB(),t=X0(),i=gB(),a=_B(),l=VD(),c=Q0(),d=bB(),p=EB(),g=RN(),v=LD(),b=ad(),x=TB(),S=AB(),j=qD(),P=dn(),M=Wf(),F=IB(),z=cr(),W=OB(),le=za(),ce=bc(),oe=1,I=2,R=4,O="[object Arguments]",k="[object Array]",D="[object Boolean]",L="[object Date]",N="[object Error]",Re="[object Function]",Ie="[object GeneratorFunction]",ee="[object Map]",he="[object Number]",ye="[object Object]",Pe="[object RegExp]",Fe="[object Set]",U="[object String]",ne="[object Symbol]",ue="[object WeakMap]",de="[object ArrayBuffer]",X="[object DataView]",Q="[object Float32Array]",pe="[object Float64Array]",Me="[object Int8Array]",be="[object Int16Array]",je="[object Int32Array]",ze="[object Uint8Array]",we="[object Uint8ClampedArray]",He="[object Uint16Array]",qe="[object Uint32Array]",Ae={};Ae[O]=Ae[k]=Ae[de]=Ae[X]=Ae[D]=Ae[L]=Ae[Q]=Ae[pe]=Ae[Me]=Ae[be]=Ae[je]=Ae[ee]=Ae[he]=Ae[ye]=Ae[Pe]=Ae[Fe]=Ae[U]=Ae[ne]=Ae[ze]=Ae[we]=Ae[He]=Ae[qe]=!0,Ae[N]=Ae[Re]=Ae[ue]=!1;function at(Le,Gn,pt,Rt,Mn,$n){var Qt,Mt=Gn&oe,Kn=Gn&I,Bs=Gn&R;if(pt&&(Qt=Mn?pt(Le,Rt,Mn,$n):pt(Le)),Qt!==void 0)return Qt;if(!z(Le))return Le;var Hi=P(Le);if(Hi){if(Qt=x(Le),!Mt)return c(Le,Qt)}else{var En=b(Le),$a=En==Re||En==Ie;if(M(Le))return l(Le,Mt);if(En==ye||En==O||$a&&!Mn){if(Qt=Kn||$a?{}:j(Le),!Mt)return Kn?p(Le,a(Qt,Le)):d(Le,i(Qt,Le))}else{if(!Ae[En])return Mn?Le:{};Qt=S(Le,En,Mt)}}$n||($n=new r);var Fs=$n.get(Le);if(Fs)return Fs;$n.set(Le,Qt),W(Le)?Le.forEach(function(jt){Qt.add(at(jt,Gn,pt,jt,Le,$n))}):F(Le)&&Le.forEach(function(jt,yt){Qt.set(yt,at(jt,Gn,pt,yt,Le,$n))});var Ka=Bs?Kn?v:g:Kn?ce:le,Hs=Hi?void 0:Ka(Le);return e(Hs||Le,function(jt,yt){Hs&&(yt=jt,jt=Le[yt]),t(Qt,yt,at(jt,Gn,pt,yt,Le,$n))}),Qt}return E_=at,E_}var T_,iI;function DB(){if(iI)return T_;iI=1;var r=zD(),e=4;function t(i){return r(i,e)}return T_=t,T_}var MB=DB();const Fn=Yt(MB);var x_,sI;function jB(){if(sI)return x_;sI=1;function r(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return x_=r,x_}var S_,aI;function kB(){if(aI)return S_;aI=1;function r(e,t,i){var a=-1,l=e.length;t<0&&(t=-t>l?0:l+t),i=i>l?l:i,i<0&&(i+=l),l=t>i?0:i-t>>>0,t>>>=0;for(var c=Array(l);++a<l;)c[a]=e[a+t];return c}return S_=r,S_}var w_,oI;function VB(){if(oI)return w_;oI=1;var r=ld(),e=kB();function t(i,a){return a.length<2?i:r(i,e(a,0,-1))}return w_=t,w_}var A_,lI;function BD(){if(lI)return A_;lI=1;var r=uc(),e=jB(),t=VB(),i=ll(),a=Object.prototype,l=a.hasOwnProperty;function c(d,p){p=r(p,d);var g=-1,v=p.length;if(!v)return!0;for(var b=d==null||typeof d!="object"&&typeof d!="function";++g<v;){var x=p[g];if(typeof x=="string"){if(x==="__proto__"&&!l.call(d,"__proto__"))return!1;if(x==="constructor"&&g+1<v&&typeof p[g+1]=="string"&&p[g+1]==="prototype"){if(b&&g===0)continue;return!1}}}var S=t(d,p);return S==null||delete S[i(e(p))]}return A_=c,A_}var R_,uI;function PB(){if(uI)return R_;uI=1;var r=BD();function e(t,i){return t==null?!0:r(t,i)}return R_=e,R_}var LB=PB();const ef=Yt(LB),UB=(r={},e)=>{switch(e.type){case"TOGGLE_ITEM":{const t=Fn(r),i=e.game==="warframe"&&e.category==="resets";return ku(t,[e.game,e.category,e.title])?ef(t,[e.game,e.category,e.title]):Ea(t,[e.game,e.category,e.title],i?Date.now():!0),t}case"CLEAR_ITEMS":{const t=Fn(r);return e.titles&&e.titles.length&&e.titles.forEach(i=>{ku(t,[e.game,e.category,i])&&ef(t,[e.game,e.category,i])}),t}case"ADD_BUILD_ITEM":{const t=Fn(r),i=e.item.id||e.item.title;return Ea(t,[e.game,e.category,i],e.item),t}case"REMOVE_BUILD_ITEM":{const t=Fn(r);return ef(t,[e.game,e.category,e.title]),t}case"UPDATE_BUILD_ITEM":{const t=Fn(r),i=e.title,a=e.item.id||e.item.title;return ku(t,[e.game,e.category,i])&&(i!==a&&ef(t,[e.game,e.category,i]),Ea(t,[e.game,e.category,a],e.item)),t}case"UPLOAD_STATE":return e.state&&e.state.gameConfig?e.state.gameConfig:r;default:return r}},qB=(r=Wt.SHOW_ALL,e)=>e.type==="SET_VISIBILITY_FILTER"?e.filter:r,zB=(r=Wt.SHOW_ALL,e)=>e.type==="SET_RELIC_VISIBILITY"?e.filter:r,BB=(r="",e)=>e.type==="SET_SEARCH_VALUE"?e.value:r,FB=()=>{try{const r=localStorage.getItem("state");return r===null?void 0:JSON.parse(r)}catch{return}},HB=(r={state:"backup"},e)=>{if(e.type==="DOWNLOAD_STATE"){const t=new Blob([JSON.stringify(FB(),null," ")],{type:"text/json;charset=utf-8"});return MD.saveAs(t,"state.json"),r}else return r};var C_,cI;function FD(){if(cI)return C_;cI=1;var r=Ua(),e=Zb(),t=li(),i="[object Object]",a=Function.prototype,l=Object.prototype,c=a.toString,d=l.hasOwnProperty,p=c.call(Object);function g(v){if(!t(v)||r(v)!=i)return!1;var b=e(v);if(b===null)return!0;var x=d.call(b,"constructor")&&b.constructor;return typeof x=="function"&&x instanceof x&&c.call(x)==p}return C_=g,C_}var I_,hI;function GB(){if(hI)return I_;hI=1;var r=FD();function e(t){return r(t)?void 0:t}return I_=e,I_}var N_,fI;function $B(){if(fI)return N_;fI=1;var r=$0();function e(t){var i=t==null?0:t.length;return i?r(t,1):[]}return N_=e,N_}var O_,dI;function KB(){if(dI)return O_;dI=1;var r=$B(),e=PN(),t=LN();function i(a){return t(e(a,void 0,r),a+"")}return O_=i,O_}var D_,pI;function YB(){if(pI)return D_;pI=1;var r=od(),e=zD(),t=BD(),i=uc(),a=vl(),l=GB(),c=KB(),d=LD(),p=1,g=2,v=4,b=c(function(x,S){var j={};if(x==null)return j;var P=!1;S=r(S,function(F){return F=i(F,x),P||(P=F.length>1),F}),a(x,d(x),j),P&&(j=e(j,p|g|v,l));for(var M=S.length;M--;)t(j,S[M]);return j});return D_=b,D_}var QB=YB();const tE=Yt(QB);function Au(r){const e=r.item&&r.item.title?r.item.title:r.title;return`${r.game}-${r.category}-${e}`}const XB=(r={},e)=>{switch(e.type){case"ADD_ITEM":{const t=Fn(r),i=e.item;return i.timestamp=Date.now(),t[Au(e)]=i,t}case"REMOVE_ITEM":{const t=Fn(r);return tE(t,Au(e))}case"INCREMENT_ITEM":{const t=Au(e);if(!r[t])return r;const i=Fn(r);return i[t].count=(r[t].count?r[t].count:0)+1,i}case"DECREMENT_ITEM":{const t=Au(e);if(!r[t])return r;const i=Fn(r);return r[t].count>0&&(i[t].count=(r[t].count?r[t].count:0)-1),i}case"UPDATE_ITEM":{const t=Au(e);if(!r[t])return r;const i=Fn(r);return i[t].notes=e.notes,e.count!==void 0&&(i[t].count=e.count),i}default:return r}};function mI(r){const e=r.item&&r.item.title?r.item.title:r.title;return`${r.game}-${r.category}-${e}`}const WB=(r={},e)=>{switch(e.type){case"ADD_VOID_ITEM":{const t=Fn(r),i=e.item;return i.timestamp=Date.now(),t[mI(e)]=i,t}case"REMOVE_VOID_ITEM":{const t=Fn(r);return tE(t,mI(e))}default:return r}};function JB(r){return r.relic&&r.relic.title?r.relic.title:r.title}const ZB=(r={},e)=>{switch(e.type){case"TOGGLE_RELIC":{const t=Fn(r),i=JB(e),a=e.relic;if(a.timestamp=Date.now(),!r[i])a.available=!0,t[i]=a;else if(r[i].available===!0)a.available=!1,t[i]=a;else return tE(t,i);return t}default:return r}},Ko=pB({gameConfig:UB,visibilityFilter:qB,relicVisibility:zB,searchFilter:BB,stateBackup:HB,todoItems:XB,voidDrops:WB,markedRelics:ZB}),HD=({open:r,onUseCloud:e,onUseLocal:t,onMerge:i,cloudUpdated:a,localUpdated:l})=>r?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-11/12 md:w-3/4 overflow-hidden animate-in fade-in zoom-in duration-200 text-left",children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:y.jsx(ju,{className:"text-2xl text-sky-700"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Sync Conflict Detected"})]}),y.jsxs("div",{className:"space-y-4 text-gray-600",children:[y.jsx("p",{children:"You have data both in the cloud and locally on this device. Which version would you like to use?"}),y.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2 border border-gray-100",children:[y.jsxs("div",{className:"flex justify-between items-center text-lg",children:[y.jsxs("span",{className:"font-medium text-gray-500 flex items-center gap-1.5",children:[y.jsx(ju,{className:"text-xl"})," Cloud data:"]}),y.jsx("span",{className:"text-gray-900",children:a?new Date(a).toLocaleString():"unknown"})]}),y.jsxs("div",{className:"flex justify-between items-center text-lg",children:[y.jsxs("span",{className:"font-medium text-gray-500 flex items-center gap-1.5",children:[y.jsx(K_,{className:"text-xl"})," Local data:"]}),y.jsx("span",{className:"text-gray-900",children:l?new Date(l).toLocaleString():"recently"})]})]})]})]}),y.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex flex-col gap-2",children:[y.jsxs("button",{onClick:i,className:"flex items-center justify-center gap-2 w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(rN,{className:"text-xl"})," Merge Both"]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[y.jsxs("button",{onClick:e,className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(ju,{className:"text-xl"})," Use Cloud"]}),y.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-2 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(K_,{className:"text-xl"})," Use Local"]})]})]})]})}):null;HD.propTypes={open:C.bool.isRequired,onUseCloud:C.func.isRequired,onUseLocal:C.func.isRequired,onMerge:C.func.isRequired,cloudUpdated:C.any,localUpdated:C.any};const GD=({errorType:r,errorMessage:e})=>y.jsxs("div",{className:"m-4 p-4 bg-amber-50 border border-amber-200 rounded-lg text-amber-900 shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(rc,{className:"text-amber-600 text-xl"}),y.jsx("h3",{className:"text-lg font-bold",children:"Cloud Sync Unavailable"})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"font-semibold",children:"Unable to connect to cloud storage."}),y.jsxs("p",{children:["You're currently using ",y.jsx("strong",{children:"local storage only"}),". Your changes will be saved to this browser, but won't sync across devices until cloud access is restored."]}),y.jsx("p",{children:"For now, Sign Out to remove this banner and use local storage only."}),y.jsxs("div",{className:"pt-2",children:[y.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[y.jsx(Kf,{className:"text-xl"}),y.jsx("span",{children:"What this means:"})]}),y.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[y.jsx("li",{children:"You can continue using the app normally"}),y.jsx("li",{children:"Your data is saved locally in this browser"}),y.jsx("li",{className:"text-amber-800 font-medium",children:"Changes won't sync to the cloud or other devices"}),y.jsx("li",{className:"text-amber-800 font-medium",children:"Clearing browser data will delete your progress"})]})]}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-amber-200 text-sm text-amber-800/80 italic",children:[y.jsx("strong",{children:"Technical details:"})," ",r==="permission-denied"?"Cloud permissions need to be configured. Contact the app administrator.":e||"Connection to cloud storage failed."]})]})]});GD.propTypes={errorType:C.string,errorMessage:C.string};var M_,gI;function $D(){if(gI)return M_;gI=1;var r=Qf(),e=oc();function t(i,a,l){(l!==void 0&&!e(i[a],l)||l===void 0&&!(a in i))&&r(i,a,l)}return M_=t,M_}var j_,yI;function e7(){if(yI)return j_;yI=1;var r=ol(),e=li();function t(i){return e(i)&&r(i)}return j_=t,j_}var k_,vI;function KD(){if(vI)return k_;vI=1;function r(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}return k_=r,k_}var V_,_I;function t7(){if(_I)return V_;_I=1;var r=vl(),e=bc();function t(i){return r(i,e(i))}return V_=t,V_}var P_,bI;function n7(){if(bI)return P_;bI=1;var r=$D(),e=VD(),t=UD(),i=Q0(),a=qD(),l=Xf(),c=dn(),d=e7(),p=Wf(),g=j0(),v=cr(),b=FD(),x=P0(),S=KD(),j=t7();function P(M,F,z,W,le,ce,oe){var I=S(M,z),R=S(F,z),O=oe.get(R);if(O){r(M,z,O);return}var k=ce?ce(I,R,z+"",M,F,oe):void 0,D=k===void 0;if(D){var L=c(R),N=!L&&p(R),Re=!L&&!N&&x(R);k=R,L||N||Re?c(I)?k=I:d(I)?k=i(I):N?(D=!1,k=e(R,!0)):Re?(D=!1,k=t(R,!0)):k=[]:b(R)||l(R)?(k=I,l(I)?k=j(I):(!v(I)||g(I))&&(k=a(R))):D=!1}D&&(oe.set(R,k),le(k,R,W,ce,oe),oe.delete(R)),r(M,z,k)}return P_=P,P_}var L_,EI;function r7(){if(EI)return L_;EI=1;var r=id(),e=$D(),t=_N(),i=n7(),a=cr(),l=bc(),c=KD();function d(p,g,v,b,x){p!==g&&t(g,function(S,j){if(x||(x=new r),a(S))i(p,g,j,v,d,b,x);else{var P=b?b(c(p,j),S,j+"",p,g,x):void 0;P===void 0&&(P=S),e(p,j,P)}},l)}return L_=d,L_}var U_,TI;function i7(){if(TI)return U_;TI=1;var r=UN(),e=qN();function t(i){return r(function(a,l){var c=-1,d=l.length,p=d>1?l[d-1]:void 0,g=d>2?l[2]:void 0;for(p=i.length>3&&typeof p=="function"?(d--,p):void 0,g&&e(l[0],l[1],g)&&(p=d<3?void 0:p,d=1),a=Object(a);++c<d;){var v=l[c];v&&i(a,v,c,p)}return a})}return U_=t,U_}var q_,xI;function s7(){if(xI)return q_;xI=1;var r=r7(),e=i7(),t=e(function(i,a,l){r(i,a,l)});return q_=t,q_}var a7=s7();const o7=Yt(a7),E0=[{name:"warframe",title:"Warframe",format:"yaml"},{name:"soulframe",title:"Soulframe",format:"yaml"},{name:"remnant",title:"Remnant: From the Ashes"},{name:"remnant2",title:"Remnant 2",format:"yaml"},{name:"nioh2",title:"Nioh 2"},{name:"ff7",title:"Final Fantasy VII Remake"},{name:"ff14",title:"Final Fantasy XIV"},{name:"desperadosiii",title:"Desperados III"},{name:"hades",title:"Hades"},{name:"riskofrain2",title:"Risk of Rain 2"},{name:"moonlighter",title:"Moonlighter"},{name:"demonsouls",title:"Demon's Souls"},{name:"d2",title:"Diablo 2"},{name:"eldenring",title:"Elden Ring"},{name:"lordsofthefallen",title:"Lords of the Fallen",format:"yaml"},{name:"shadowgambit",title:"Shadow Gambit: The Cursed Crew",format:"yaml"},{name:"seaofthieves",title:"Sea of Thieves",format:"yaml"},{name:"arcraiders",title:"Arc Raiders",format:"yaml"}],YD=({initialStore:r,conflictData:e})=>{const[t,i]=B.useState(r),[a,l]=B.useState(!!e),c=async()=>{const g=$o(Ko,e.cloudState||void 0);g.subscribe(()=>Ci(g.getState())),await Ci(e.cloudState),i(g),l(!1)},d=async()=>{const g=$o(Ko,e.localState||void 0);g.subscribe(()=>Ci(g.getState())),await Ci(e.localState),i(g),l(!1)},p=async()=>{const g=o7({},e.cloudState,e.localState),v=$o(Ko,g||void 0);v.subscribe(()=>Ci(v.getState())),await Ci(g),i(v),l(!1)};return y.jsxs(y.Fragment,{children:[a&&y.jsx(HD,{open:a,onUseCloud:c,onUseLocal:d,onMerge:p,cloudUpdated:e?.cloudUpdated,localUpdated:Date.now()}),y.jsx($_,{store:t,children:y.jsx(qf,{configs:E0})})]})};YD.propTypes={initialStore:C.object.isRequired,conflictData:C.shape({cloudState:C.object,localState:C.object,cloudUpdated:C.oneOfType([C.instanceOf(Date),C.number,C.string])})};const l7=async()=>{await new Promise(t=>{const i=lb(Cr,()=>{i(),t()})});const r=await Yz();if(r&&r._conflict){const t=$o(Ko,void 0);return{conflict:!0,conflictData:r,store:t}}if(r&&r._error){const t=$o(Ko,r.localState||void 0);return{error:!0,errorData:r,store:t}}const e=$o(Ko,r||void 0);return e.subscribe(()=>Ci(e.getState())),{store:e}};l7().then(r=>{const e=document.createElement("div");document.body.appendChild(e);const t=uB.createRoot(e);r.conflict?t.render(y.jsx(YD,{initialStore:r.store,conflictData:r.conflictData})):r.error?t.render(y.jsxs($_,{store:r.store,children:[y.jsx(GD,{errorType:r.errorData.errorType,errorMessage:r.errorData.errorMessage}),y.jsx(qf,{configs:E0})]})):t.render(y.jsx($_,{store:r.store,children:y.jsx(qf,{configs:E0})}))});
