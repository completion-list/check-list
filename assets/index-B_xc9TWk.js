(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ft(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var xm={exports:{}},gu={};var ES;function xj(){if(ES)return gu;ES=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:l}}return gu.Fragment=e,gu.jsx=t,gu.jsxs=t,gu}var TS;function Sj(){return TS||(TS=1,xm.exports=xj()),xm.exports}var y=Sj(),Sm={exports:{}},Ne={};var xS;function Aj(){if(xS)return Ne;xS=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function A(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,j={};function H(I,U,ae){this.props=I,this.context=U,this.refs=j,this.updater=ae||k}H.prototype.isReactComponent={},H.prototype.setState=function(I,U){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,U,"setState")},H.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function B(){}B.prototype=H.prototype;function W(I,U,ae){this.props=I,this.context=U,this.refs=j,this.updater=ae||k}var oe=W.prototype=new B;oe.constructor=W,L(oe,H.prototype),oe.isPureReactComponent=!0;var ue=Array.isArray;function le(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function O(I,U,ae){var se=ae.ref;return{$$typeof:r,type:I,key:U,ref:se!==void 0?se:null,props:ae}}function V(I,U){return O(I.type,U,I.props)}function M(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function q(I){var U={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ae){return U[ae]})}var N=/\/+/g;function Se(I,U){return typeof I=="object"&&I!==null&&I.key!=null?q(""+I.key):U.toString(36)}function Ce(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(le,le):(I.status="pending",I.then(function(U){I.status==="pending"&&(I.status="fulfilled",I.value=U)},function(U){I.status==="pending"&&(I.status="rejected",I.reason=U)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Z(I,U,ae,se,he){var fe=typeof I;(fe==="undefined"||fe==="boolean")&&(I=null);var _e=!1;if(I===null)_e=!0;else switch(fe){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(I.$$typeof){case r:case e:_e=!0;break;case v:return _e=I._init,Z(_e(I._payload),U,ae,se,he)}}if(_e)return he=he(I),_e=se===""?"."+Se(I,0):se,ue(he)?(ae="",_e!=null&&(ae=_e.replace(N,"$&/")+"/"),Z(he,U,ae,"",function(et){return et})):he!=null&&(M(he)&&(he=V(he,ae+(he.key==null||I&&I.key===he.key?"":(""+he.key).replace(N,"$&/")+"/")+_e)),U.push(he)),1;_e=0;var be=se===""?".":se+":";if(ue(I))for(var we=0;we<I.length;we++)se=I[we],fe=be+Se(se,we),_e+=Z(se,U,ae,fe,he);else if(we=A(I),typeof we=="function")for(I=we.call(I),we=0;!(se=I.next()).done;)se=se.value,fe=be+Se(se,we++),_e+=Z(se,U,ae,fe,he);else if(fe==="object"){if(typeof I.then=="function")return Z(Ce(I),U,ae,se,he);throw U=String(I),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return _e}function ce(I,U,ae){if(I==null)return I;var se=[],he=0;return Z(I,se,"","",function(fe){return U.call(ae,fe,he++)}),se}function ge(I){if(I._status===-1){var U=I._result;U=U(),U.then(function(ae){(I._status===0||I._status===-1)&&(I._status=1,I._result=ae)},function(ae){(I._status===0||I._status===-1)&&(I._status=2,I._result=ae)}),I._status===-1&&(I._status=0,I._result=U)}if(I._status===1)return I._result.default;throw I._result}var je=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Ve={map:ce,forEach:function(I,U,ae){ce(I,function(){U.apply(this,arguments)},ae)},count:function(I){var U=0;return ce(I,function(){U++}),U},toArray:function(I){return ce(I,function(U){return U})||[]},only:function(I){if(!M(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ne.Activity=b,Ne.Children=Ve,Ne.Component=H,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=W,Ne.StrictMode=i,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(I){return C.H.useMemoCache(I)}},Ne.cache=function(I){return function(){return I.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(I,U,ae){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var se=L({},I.props),he=I.key;if(U!=null)for(fe in U.key!==void 0&&(he=""+U.key),U)!R.call(U,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&U.ref===void 0||(se[fe]=U[fe]);var fe=arguments.length-2;if(fe===1)se.children=ae;else if(1<fe){for(var _e=Array(fe),be=0;be<fe;be++)_e[be]=arguments[be+2];se.children=_e}return O(I.type,he,se)},Ne.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},Ne.createElement=function(I,U,ae){var se,he={},fe=null;if(U!=null)for(se in U.key!==void 0&&(fe=""+U.key),U)R.call(U,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(he[se]=U[se]);var _e=arguments.length-2;if(_e===1)he.children=ae;else if(1<_e){for(var be=Array(_e),we=0;we<_e;we++)be[we]=arguments[we+2];he.children=be}if(I&&I.defaultProps)for(se in _e=I.defaultProps,_e)he[se]===void 0&&(he[se]=_e[se]);return O(I,fe,he)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(I){return{$$typeof:d,render:I}},Ne.isValidElement=M,Ne.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:ge}},Ne.memo=function(I,U){return{$$typeof:g,type:I,compare:U===void 0?null:U}},Ne.startTransition=function(I){var U=C.T,ae={};C.T=ae;try{var se=I(),he=C.S;he!==null&&he(ae,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(le,je)}catch(fe){je(fe)}finally{U!==null&&ae.types!==null&&(U.types=ae.types),C.T=U}},Ne.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ne.use=function(I){return C.H.use(I)},Ne.useActionState=function(I,U,ae){return C.H.useActionState(I,U,ae)},Ne.useCallback=function(I,U){return C.H.useCallback(I,U)},Ne.useContext=function(I){return C.H.useContext(I)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(I,U){return C.H.useDeferredValue(I,U)},Ne.useEffect=function(I,U){return C.H.useEffect(I,U)},Ne.useEffectEvent=function(I){return C.H.useEffectEvent(I)},Ne.useId=function(){return C.H.useId()},Ne.useImperativeHandle=function(I,U,ae){return C.H.useImperativeHandle(I,U,ae)},Ne.useInsertionEffect=function(I,U){return C.H.useInsertionEffect(I,U)},Ne.useLayoutEffect=function(I,U){return C.H.useLayoutEffect(I,U)},Ne.useMemo=function(I,U){return C.H.useMemo(I,U)},Ne.useOptimistic=function(I,U){return C.H.useOptimistic(I,U)},Ne.useReducer=function(I,U,ae){return C.H.useReducer(I,U,ae)},Ne.useRef=function(I){return C.H.useRef(I)},Ne.useState=function(I){return C.H.useState(I)},Ne.useSyncExternalStore=function(I,U,ae){return C.H.useSyncExternalStore(I,U,ae)},Ne.useTransition=function(){return C.H.useTransition()},Ne.version="19.2.3",Ne}var SS;function Lf(){return SS||(SS=1,Sm.exports=Aj()),Sm.exports}var F=Lf();const Kt=Ft(F);var AS="popstate";function wj(r={}){function e(a,l){let{pathname:c="/",search:d="",hash:m=""}=Va(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),L_("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=a.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof l=="string"?l:zu(l))}function i(a,l){Bn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Cj(e,t,i,r)}function vt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Bn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rj(){return Math.random().toString(36).substring(2,10)}function wS(r,e){return{usr:r.state,key:r.key,idx:e}}function L_(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Va(e):e,state:t,key:e&&e.key||i||Rj()}}function zu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Va(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function Cj(r,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let j=v(),H=j==null?null:j-g;g=j,m&&m({action:d,location:L.location,delta:H})}function x(j,H){d="PUSH";let B=L_(L.location,j,H);t&&t(B,j),g=v()+1;let W=wS(B,g),oe=L.createHref(B);try{c.pushState(W,"",oe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;a.location.assign(oe)}l&&m&&m({action:d,location:L.location,delta:1})}function A(j,H){d="REPLACE";let B=L_(L.location,j,H);t&&t(B,j),g=v();let W=wS(B,g),oe=L.createHref(B);c.replaceState(W,"",oe),l&&m&&m({action:d,location:L.location,delta:0})}function k(j){return Ij(j)}let L={get action(){return d},get location(){return r(a,c)},listen(j){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(AS,b),m=j,()=>{a.removeEventListener(AS,b),m=null}},createHref(j){return e(a,j)},createURL:k,encodeLocation(j){let H=k(j);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:x,replace:A,go(j){return c.go(j)}};return L}function Ij(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),vt(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:zu(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function TI(r,e,t="/"){return Nj(r,e,t,!1)}function Nj(r,e,t,i){let a=typeof e=="string"?Va(e):e,l=ji(a.pathname||"/",t);if(l==null)return null;let c=xI(r);Oj(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=Bj(l);d=qj(c[m],g,i)}return d}function xI(r,e=[],t=[],i="",a=!1){let l=(c,d,m=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;vt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=Di([i,v.relativePath]),x=t.concat(v);c.children&&c.children.length>0&&(vt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),xI(c.children,e,x,b,m)),!(c.path==null&&!c.index)&&e.push({path:b,score:Lj(b,c.index),routesMeta:x})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of SI(c.path))l(c,d,!0,m)}),e}function SI(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=SI(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>r.startsWith("/")&&m===""?"/":m)}function Oj(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Uj(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Dj=/^:[\w-]+$/,Mj=3,jj=2,kj=1,Vj=10,Pj=-2,RS=r=>r==="*";function Lj(r,e){let t=r.split("/"),i=t.length;return t.some(RS)&&(i+=Pj),e&&(i+=jj),t.filter(a=>!RS(a)).reduce((a,l)=>a+(Dj.test(l)?Mj:l===""?kj:Vj),i)}function Uj(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function qj(r,e,t=!1){let{routesMeta:i}=r,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),x=m.route;if(!b&&g&&t&&!i[i.length-1].route.index&&(b=hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Di([l,b.pathname]),pathnameBase:Kj(Di([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=Di([l,b.pathnameBase]))}return c}function hf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=zj(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:b},x)=>{if(v==="*"){let k=d[x]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const A=d[x];return b&&!A?g[v]=void 0:g[v]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:r}}function zj(r,e=!1,t=!0){Bn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function Bj(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ji(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}var AI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fj=r=>AI.test(r);function Hj(r,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof r=="string"?Va(r):r,l;if(t)if(Fj(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Bn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=CS(t.substring(1),"/"):l=CS(t,e)}else l=e;return{pathname:l,search:$j(i),hash:Yj(a)}}function CS(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Am(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Gj(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _0(r){let e=Gj(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function b0(r,e,t,i=!1){let a;typeof r=="string"?a=Va(r):(a={...r},vt(!a.pathname||!a.pathname.includes("?"),Am("?","pathname","search",a)),vt(!a.pathname||!a.pathname.includes("#"),Am("#","pathname","hash",a)),vt(!a.search||!a.search.includes("#"),Am("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;a.pathname=x.join("/")}d=b>=0?e[b]:"/"}let m=Hj(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Di=r=>r.join("/").replace(/\/\/+/g,"/"),Kj=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$j=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Yj=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Qj=class{constructor(r,e,t,i=!1){this.status=r,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Xj(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Wj(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var wI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function RI(r,e){let t=r;if(typeof t!="string"||!AI.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,a=!1;if(wI)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=ji(c.pathname,e);c.origin===l.origin&&d!=null?t=d+c.search+c.hash:a=!0}catch{Bn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CI=["POST","PUT","PATCH","DELETE"];new Set(CI);var Jj=["GET",...CI];new Set(Jj);var nl=F.createContext(null);nl.displayName="DataRouter";var Uf=F.createContext(null);Uf.displayName="DataRouterState";var Zj=F.createContext(!1),II=F.createContext({isTransitioning:!1});II.displayName="ViewTransition";var ek=F.createContext(new Map);ek.displayName="Fetchers";var tk=F.createContext(null);tk.displayName="Await";var Fn=F.createContext(null);Fn.displayName="Navigation";var Ju=F.createContext(null);Ju.displayName="Location";var Nr=F.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var E0=F.createContext(null);E0.displayName="RouteError";var NI="REACT_ROUTER_ERROR",nk="REDIRECT",rk="ROUTE_ERROR_RESPONSE";function ik(r){if(r.startsWith(`${NI}:${nk}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function sk(r){if(r.startsWith(`${NI}:${rk}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Qj(e.status,e.statusText,e.data)}catch{}}function ak(r,{relative:e}={}){vt(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=F.useContext(Fn),{hash:a,pathname:l,search:c}=Zu(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Di([t,l])),i.createHref({pathname:d,search:c,hash:a})}function rl(){return F.useContext(Ju)!=null}function Bi(){return vt(rl(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Ju).location}var OI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DI(r){F.useContext(Fn).static||F.useLayoutEffect(r)}function T0(){let{isDataRoute:r}=F.useContext(Nr);return r?bk():ok()}function ok(){vt(rl(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(nl),{basename:e,navigator:t}=F.useContext(Fn),{matches:i}=F.useContext(Nr),{pathname:a}=Bi(),l=JSON.stringify(_0(i)),c=F.useRef(!1);return DI(()=>{c.current=!0}),F.useCallback((m,g={})=>{if(Bn(c.current,OI),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=b0(m,JSON.parse(l),a,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Di([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,r])}F.createContext(null);function lk(){let{matches:r}=F.useContext(Nr),e=r[r.length-1];return e?e.params:{}}function Zu(r,{relative:e}={}){let{matches:t}=F.useContext(Nr),{pathname:i}=Bi(),a=JSON.stringify(_0(t));return F.useMemo(()=>b0(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function uk(r,e){return MI(r,e)}function MI(r,e,t,i,a){vt(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=F.useContext(Fn),{matches:c}=F.useContext(Nr),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let B=b&&b.path||"";kI(g,!b||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let x=Bi(),A;if(e){let B=typeof e=="string"?Va(e):e;vt(v==="/"||B.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${B.pathname}" was given in the \`location\` prop.`),A=B}else A=x;let k=A.pathname||"/",L=k;if(v!=="/"){let B=v.replace(/^\//,"").split("/");L="/"+k.replace(/^\//,"").split("/").slice(B.length).join("/")}let j=TI(r,{pathname:L});Bn(b||j!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Bn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=pk(j&&j.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Di([v,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?v:Di([v,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,t,i,a);return e&&H?F.createElement(Ju.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},H):H}function ck(){let r=_k(),e=Xj(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=F.createElement(F.Fragment,null,F.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:a},t):null,c)}var hk=F.createElement(ck,null),jI=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=sk(r.digest);t&&(r=t)}let e=r!==void 0?F.createElement(Nr.Provider,{value:this.props.routeContext},F.createElement(E0.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?F.createElement(fk,{error:r},e):e}};jI.contextType=Zj;var wm=new WeakMap;function fk({children:r,error:e}){let{basename:t}=F.useContext(Fn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=ik(e.digest);if(i){let a=wm.get(e);if(a)throw a;let l=RI(i.location,t);if(wI&&!wm.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw wm.set(e,c),c}return F.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function dk({routeContext:r,match:e,children:t}){let i=F.useContext(nl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Nr.Provider,{value:r},t)}function pk(r,e=[],t=null,i=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t?.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);vt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(t)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=v),b.route.id){let{loaderData:x,errors:A}=t,k=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!A||A[b.route.id]===void 0);if(b.route.lazy||k){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=t&&i?(v,b)=>{i(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:Wj(t.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,x)=>{let A,k=!1,L=null,j=null;t&&(A=c&&b.route.id?c[b.route.id]:void 0,L=b.route.errorElement||hk,d&&(m<0&&x===0?(kI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,j=null):m===x&&(k=!0,j=b.route.hydrateFallbackElement||null)));let H=e.concat(l.slice(0,x+1)),B=()=>{let W;return A?W=L:k?W=j:b.route.Component?W=F.createElement(b.route.Component,null):b.route.element?W=b.route.element:W=v,F.createElement(dk,{match:b,routeContext:{outlet:v,matches:H,isDataRoute:t!=null},children:W})};return t&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?F.createElement(jI,{location:t.location,revalidation:t.revalidation,component:L,error:A,children:B(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:g}):B()},null)}function x0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mk(r){let e=F.useContext(nl);return vt(e,x0(r)),e}function gk(r){let e=F.useContext(Uf);return vt(e,x0(r)),e}function yk(r){let e=F.useContext(Nr);return vt(e,x0(r)),e}function S0(r){let e=yk(r),t=e.matches[e.matches.length-1];return vt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function vk(){return S0("useRouteId")}function _k(){let r=F.useContext(E0),e=gk("useRouteError"),t=S0("useRouteError");return r!==void 0?r:e.errors?.[t]}function bk(){let{router:r}=mk("useNavigate"),e=S0("useNavigate"),t=F.useRef(!1);return DI(()=>{t.current=!0}),F.useCallback(async(a,l={})=>{Bn(t.current,OI),t.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var IS={};function kI(r,e,t){!e&&!IS[r]&&(IS[r]=!0,Bn(!1,t))}F.memo(Ek);function Ek({routes:r,future:e,state:t,onError:i}){return MI(r,void 0,t,i,e)}function U_({to:r,replace:e,state:t,relative:i}){vt(rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=F.useContext(Fn);Bn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=F.useContext(Nr),{pathname:c}=Bi(),d=T0(),m=b0(r,_0(l),c,i==="path"),g=JSON.stringify(m);return F.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:i})},[d,g,i,e,t]),null}function xa(r){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tk({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){vt(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof t=="string"&&(t=Va(t));let{pathname:g="/",search:v="",hash:b="",state:x=null,key:A="default"}=t,k=F.useMemo(()=>{let L=ji(g,d);return L==null?null:{location:{pathname:L,search:v,hash:b,state:x,key:A},navigationType:i}},[d,g,v,b,x,A,i]);return Bn(k!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:F.createElement(Fn.Provider,{value:m},F.createElement(Ju.Provider,{children:e,value:k}))}function VI({children:r,location:e}){return uk(q_(r),e)}function q_(r,e=[]){let t=[];return F.Children.forEach(r,(i,a)=>{if(!F.isValidElement(i))return;let l=[...e,a];if(i.type===F.Fragment){t.push.apply(t,q_(i.props.children,l));return}vt(i.type===xa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=q_(i.props.children,l)),t.push(c)}),t}var Wh="get",Jh="application/x-www-form-urlencoded";function qf(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function xk(r){return qf(r)&&r.tagName.toLowerCase()==="button"}function Sk(r){return qf(r)&&r.tagName.toLowerCase()==="form"}function Ak(r){return qf(r)&&r.tagName.toLowerCase()==="input"}function wk(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Rk(r,e){return r.button===0&&(!e||e==="_self")&&!wk(r)}var Bh=null;function Ck(){if(Bh===null)try{new FormData(document.createElement("form"),0),Bh=!1}catch{Bh=!0}return Bh}var Ik=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(r){return r!=null&&!Ik.has(r)?(Bn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jh}"`),null):r}function Nk(r,e){let t,i,a,l,c;if(Sk(r)){let d=r.getAttribute("action");i=d?ji(d,e):null,t=r.getAttribute("method")||Wh,a=Rm(r.getAttribute("enctype"))||Jh,l=new FormData(r)}else if(xk(r)||Ak(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||d.getAttribute("action");if(i=m?ji(m,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||Wh,a=Rm(r.getAttribute("formenctype"))||Rm(d.getAttribute("enctype"))||Jh,l=new FormData(d,r),!Ck()){let{name:g,type:v,value:b}=r;if(v==="image"){let x=g?`${g}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else g&&l.append(g,b)}}else{if(qf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Wh,i=null,a=Jh,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function A0(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ok(r,e,t,i){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&ji(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function Dk(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Mk(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function jk(r,e,t){let i=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await Dk(l,t);return c.links?c.links():[]}return[]}));return Lk(i.flat(1).filter(Mk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function NS(r,e,t,i,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function kk(r,e,{includeHydrateFallback:t}={}){return Vk(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Vk(r){return[...new Set(r)]}function Pk(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function Lk(r,e){let t=new Set;return new Set(e),r.reduce((i,a)=>{let l=JSON.stringify(Pk(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function PI(){let r=F.useContext(nl);return A0(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Uk(){let r=F.useContext(Uf);return A0(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var w0=F.createContext(void 0);w0.displayName="FrameworkContext";function LI(){let r=F.useContext(w0);return A0(r,"You must render this element inside a <HydratedRouter> element"),r}function qk(r,e){let t=F.useContext(w0),[i,a]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,x=F.useRef(null);F.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let L=H=>{H.forEach(B=>{c(B.isIntersecting)})},j=new IntersectionObserver(L,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[r]),F.useEffect(()=>{if(i){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[i]);let A=()=>{a(!0)},k=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,x,{}]:[l,x,{onFocus:yu(d,A),onBlur:yu(m,k),onMouseEnter:yu(g,A),onMouseLeave:yu(v,k),onTouchStart:yu(b,A)}]:[!1,x,{}]}function yu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function zk({page:r,...e}){let{router:t}=PI(),i=F.useMemo(()=>TI(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?F.createElement(Fk,{page:r,matches:i,...e}):null}function Bk(r){let{manifest:e,routeModules:t}=LI(),[i,a]=F.useState([]);return F.useEffect(()=>{let l=!1;return jk(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),i}function Fk({page:r,matches:e,...t}){let i=Bi(),{future:a,manifest:l,routeModules:c}=LI(),{basename:d}=PI(),{loaderData:m,matches:g}=Uk(),v=F.useMemo(()=>NS(r,e,g,l,i,"data"),[r,e,g,l,i]),b=F.useMemo(()=>NS(r,e,g,l,i,"assets"),[r,e,g,l,i]),x=F.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let L=new Set,j=!1;if(e.forEach(B=>{let W=l.routes[B.route.id];!W||!W.hasLoader||(!v.some(oe=>oe.route.id===B.route.id)&&B.route.id in m&&c[B.route.id]?.shouldRevalidate||W.hasClientLoader?j=!0:L.add(B.route.id))}),L.size===0)return[];let H=Ok(r,d,a.unstable_trailingSlashAwareDataRequests,"data");return j&&L.size>0&&H.searchParams.set("_routes",e.filter(B=>L.has(B.route.id)).map(B=>B.route.id).join(",")),[H.pathname+H.search]},[d,a.unstable_trailingSlashAwareDataRequests,m,i,l,v,e,r,c]),A=F.useMemo(()=>kk(b,l),[b,l]),k=Bk(b);return F.createElement(F.Fragment,null,x.map(L=>F.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...t})),A.map(L=>F.createElement("link",{key:L,rel:"modulepreload",href:L,...t})),k.map(({key:L,link:j})=>F.createElement("link",{key:L,nonce:t.nonce,...j})))}function Hk(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Gk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gk&&(window.__reactRouterVersion="7.12.0")}catch{}function Kk({basename:r,children:e,unstable_useTransitions:t,window:i}){let a=F.useRef();a.current==null&&(a.current=wj({window:i,v5Compat:!0}));let l=a.current,[c,d]=F.useState({action:l.action,location:l.location}),m=F.useCallback(g=>{t===!1?d(g):F.startTransition(()=>d(g))},[t]);return F.useLayoutEffect(()=>l.listen(m),[l,m]),F.createElement(Tk,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var UI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qI=F.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x,...A},k){let{basename:L,unstable_useTransitions:j}=F.useContext(Fn),H=typeof g=="string"&&UI.test(g),B=RI(g,L);g=B.to;let W=ak(g,{relative:a}),[oe,ue,le]=qk(i,A),C=Qk(g,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:j});function R(V){e&&e(V),V.defaultPrevented||C(V)}let O=F.createElement("a",{...A,...le,href:B.absoluteURL||W,onClick:B.isExternal||l?e:R,ref:Hk(k,ue),target:m,"data-discover":!H&&t==="render"?"true":void 0});return oe&&!H?F.createElement(F.Fragment,null,O,F.createElement(zk,{page:W})):O});qI.displayName="Link";var Bu=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},v){let b=Zu(c,{relative:g.relative}),x=Bi(),A=F.useContext(Uf),{navigator:k,basename:L}=F.useContext(Fn),j=A!=null&&eV(b)&&d===!0,H=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,B=x.pathname,W=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(B=B.toLowerCase(),W=W?W.toLowerCase():null,H=H.toLowerCase()),W&&L&&(W=ji(W,L)||W);const oe=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ue=B===H||!a&&B.startsWith(H)&&B.charAt(oe)==="/",le=W!=null&&(W===H||!a&&W.startsWith(H)&&W.charAt(H.length)==="/"),C={isActive:ue,isPending:le,isTransitioning:j},R=ue?e:void 0,O;typeof i=="function"?O=i(C):O=[i,ue?"active":null,le?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(C):l;return F.createElement(qI,{...g,"aria-current":R,className:O,ref:v,style:V,to:c,viewTransition:d},typeof m=="function"?m(C):m)});Bu.displayName="NavLink";var $k=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Wh,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x,...A},k)=>{let{unstable_useTransitions:L}=F.useContext(Fn),j=Jk(),H=Zk(d,{relative:g}),B=c.toLowerCase()==="get"?"get":"post",W=typeof d=="string"&&UI.test(d),oe=ue=>{if(m&&m(ue),ue.defaultPrevented)return;ue.preventDefault();let le=ue.nativeEvent.submitter,C=le?.getAttribute("formmethod")||c,R=()=>j(le||ue.currentTarget,{fetcherKey:e,method:C,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x});L&&t!==!1?F.startTransition(()=>R()):R()};return F.createElement("form",{ref:k,method:B,action:H,onSubmit:i?m:oe,...A,"data-discover":!W&&r==="render"?"true":void 0})});$k.displayName="Form";function Yk(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zI(r){let e=F.useContext(nl);return vt(e,Yk(r)),e}function Qk(r,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let g=T0(),v=Bi(),b=Zu(r,{relative:l});return F.useCallback(x=>{if(Rk(x,e)){x.preventDefault();let A=t!==void 0?t:zu(v)===zu(b),k=()=>g(r,{replace:A,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});m?F.startTransition(()=>k()):k()}},[v,g,b,t,i,e,r,a,l,c,d,m])}var Xk=0,Wk=()=>`__${String(++Xk)}__`;function Jk(){let{router:r}=zI("useSubmit"),{basename:e}=F.useContext(Fn),t=vk(),i=r.fetch,a=r.navigate;return F.useCallback(async(l,c={})=>{let{action:d,method:m,encType:g,formData:v,body:b}=Nk(l,e);if(c.navigate===!1){let x=c.fetcherKey||Wk();await i(x,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,t])}function Zk(r,{relative:e}={}){let{basename:t}=F.useContext(Fn),i=F.useContext(Nr);vt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Zu(r||".",{relative:e})},c=Bi();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Di([t,l.pathname])),zu(l)}function eV(r,{relative:e}={}){let t=F.useContext(II);vt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=zI("useViewTransitionState"),a=Zu(r,{relative:e});if(!t.isTransitioning)return!1;let l=ji(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ji(t.nextLocation.pathname,i)||t.nextLocation.pathname;return hf(a.pathname,c)!=null||hf(a.pathname,l)!=null}var Cm={exports:{}},un={};var OS;function tV(){if(OS)return un;OS=1;var r=Lf();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:g,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,un.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},un.flushSync=function(m){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=v,i.d.f()}},un.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},un.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},un.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:A}):v==="script"&&i.d.X(m,{crossOrigin:b,integrity:x,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},un.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},un.requestFormReset=function(m){i.d.r(m)},un.unstable_batchedUpdates=function(m,g){return m(g)},un.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},un.useFormStatus=function(){return c.H.useHostTransitionStatus()},un.version="19.2.3",un}var DS;function nV(){if(DS)return Cm.exports;DS=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cm.exports=tV(),Cm.exports}var Im={exports:{}},Nm,MS;function rV(){if(MS)return Nm;MS=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Nm=r,Nm}var Om,jS;function iV(){if(jS)return Om;jS=1;var r=rV();function e(){}function t(){}return t.resetWarningCache=e,Om=function(){function i(c,d,m,g,v,b){if(b!==r){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Om}var kS;function sV(){return kS||(kS=1,Im.exports=iV()()),Im.exports}var aV=sV();const D=Ft(aV),oV="modulepreload",lV=function(r){return"/check-list/"+r},VS={},Be=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let g=function(v){return Promise.all(v.map(b=>Promise.resolve(b).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var c=g;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");a=g(t.map(v=>{if(v=lV(v),v in VS)return;VS[v]=!0;const b=v.endsWith(".css"),x=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${x}`))return;const A=document.createElement("link");if(A.rel=b?"stylesheet":oV,b||(A.as="script"),A.crossOrigin="",A.href=v,m&&A.setAttribute("nonce",m),document.head.appendChild(A),b)return new Promise((k,L)=>{A.addEventListener("load",k),A.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return a.then(d=>{for(const m of d||[])m.status==="rejected"&&l(m.reason);return e().catch(l)})},BI=(r,e,t)=>{const i=r[e];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((a,l)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(l.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})};var Dm={exports:{}},Mm={};var PS;function uV(){if(PS)return Mm;PS=1;var r=Lf();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=r.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,d=r.useDebugValue;return Mm.useSyncExternalStoreWithSelector=function(m,g,v,b,x){var A=a(null);if(A.current===null){var k={hasValue:!1,value:null};A.current=k}else k=A.current;A=c(function(){function j(ue){if(!H){if(H=!0,B=ue,ue=b(ue),x!==void 0&&k.hasValue){var le=k.value;if(x(le,ue))return W=le}return W=ue}if(le=W,t(B,ue))return le;var C=b(ue);return x!==void 0&&x(le,C)?(B=ue,le):(B=ue,W=C)}var H=!1,B,W,oe=v===void 0?null:v;return[function(){return j(g())},oe===null?void 0:function(){return j(oe())}]},[g,v,b,x]);var L=i(m,A[0],A[1]);return l(function(){k.hasValue=!0,k.value=L},[L]),d(L),L},Mm}var LS;function cV(){return LS||(LS=1,Dm.exports=uV()),Dm.exports}var hV=cV(),fV=F.version.startsWith("19"),dV=Symbol.for(fV?"react.transitional.element":"react.element"),pV=Symbol.for("react.portal"),mV=Symbol.for("react.fragment"),gV=Symbol.for("react.strict_mode"),yV=Symbol.for("react.profiler"),vV=Symbol.for("react.consumer"),_V=Symbol.for("react.context"),FI=Symbol.for("react.forward_ref"),bV=Symbol.for("react.suspense"),EV=Symbol.for("react.suspense_list"),R0=Symbol.for("react.memo"),TV=Symbol.for("react.lazy"),xV=FI,SV=R0;function AV(r){if(typeof r=="object"&&r!==null){const{$$typeof:e}=r;switch(e){case dV:switch(r=r.type,r){case mV:case yV:case gV:case bV:case EV:return r;default:switch(r=r&&r.$$typeof,r){case _V:case FI:case TV:case R0:return r;case vV:return r;default:return e}}case pV:return e}}}function wV(r){return AV(r)===R0}function RV(r,e,t,i,{areStatesEqual:a,areOwnPropsEqual:l,areStatePropsEqual:c}){let d=!1,m,g,v,b,x;function A(B,W){return m=B,g=W,v=r(m,g),b=e(i,g),x=t(v,b,g),d=!0,x}function k(){return v=r(m,g),e.dependsOnOwnProps&&(b=e(i,g)),x=t(v,b,g),x}function L(){return r.dependsOnOwnProps&&(v=r(m,g)),e.dependsOnOwnProps&&(b=e(i,g)),x=t(v,b,g),x}function j(){const B=r(m,g),W=!c(B,v);return v=B,W&&(x=t(v,b,g)),x}function H(B,W){const oe=!l(W,g),ue=!a(B,m,W,g);return m=B,g=W,oe&&ue?k():oe?L():ue?j():x}return function(W,oe){return d?H(W,oe):A(W,oe)}}function CV(r,{initMapStateToProps:e,initMapDispatchToProps:t,initMergeProps:i,...a}){const l=e(r,a),c=t(r,a),d=i(r,a);return RV(l,c,d,r,a)}function IV(r,e){const t={};for(const i in r){const a=r[i];typeof a=="function"&&(t[i]=(...l)=>e(a(...l)))}return t}function z_(r){return function(t){const i=r(t);function a(){return i}return a.dependsOnOwnProps=!1,a}}function US(r){return r.dependsOnOwnProps?!!r.dependsOnOwnProps:r.length!==1}function HI(r,e){return function(i,{displayName:a}){const l=function(d,m){return l.dependsOnOwnProps?l.mapToProps(d,m):l.mapToProps(d,void 0)};return l.dependsOnOwnProps=!0,l.mapToProps=function(d,m){l.mapToProps=r,l.dependsOnOwnProps=US(r);let g=l(d,m);return typeof g=="function"&&(l.mapToProps=g,l.dependsOnOwnProps=US(g),g=l(d,m)),g},l}}function C0(r,e){return(t,i)=>{throw new Error(`Invalid value of type ${typeof r} for ${e} argument when connecting component ${i.wrappedComponentName}.`)}}function NV(r){return r&&typeof r=="object"?z_(e=>IV(r,e)):r?typeof r=="function"?HI(r):C0(r,"mapDispatchToProps"):z_(e=>({dispatch:e}))}function OV(r){return r?typeof r=="function"?HI(r):C0(r,"mapStateToProps"):z_(()=>({}))}function DV(r,e,t){return{...t,...r,...e}}function MV(r){return function(t,{displayName:i,areMergedPropsEqual:a}){let l=!1,c;return function(m,g,v){const b=r(m,g,v);return l?a(b,c)||(c=b):(l=!0,c=b),c}}}function jV(r){return r?typeof r=="function"?MV(r):C0(r,"mergeProps"):()=>DV}function kV(r){r()}function VV(){let r=null,e=null;return{clear(){r=null,e=null},notify(){kV(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=r;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:r=a,function(){!i||r===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:r=a.next)}}}}var qS={notify(){},get:()=>[]};function GI(r,e){let t,i=qS,a=0,l=!1;function c(L){v();const j=i.subscribe(L);let H=!1;return()=>{H||(H=!0,j(),b())}}function d(){i.notify()}function m(){k.onStateChange&&k.onStateChange()}function g(){return l}function v(){a++,t||(t=e?e.addNestedSub(m):r.subscribe(m),i=VV())}function b(){a--,t&&a===0&&(t(),t=void 0,i.clear(),i=qS)}function x(){l||(l=!0,v())}function A(){l&&(l=!1,b())}const k={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:g,trySubscribe:x,tryUnsubscribe:A,getListeners:()=>i};return k}var PV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LV=PV(),UV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qV=UV(),zV=()=>LV||qV?F.useLayoutEffect:F.useEffect,ff=zV();function zS(r,e){return r===e?r!==0||e!==0||1/r===1/e:r!==r&&e!==e}function jm(r,e){if(zS(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;const t=Object.keys(r),i=Object.keys(e);if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(!Object.prototype.hasOwnProperty.call(e,t[a])||!zS(r[t[a]],e[t[a]]))return!1;return!0}var BV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},FV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},HV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},KI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},GV={[xV]:HV,[SV]:KI};function BS(r){return wV(r)?KI:GV[r.$$typeof]||BV}var KV=Object.defineProperty,$V=Object.getOwnPropertyNames,FS=Object.getOwnPropertySymbols,YV=Object.getOwnPropertyDescriptor,QV=Object.getPrototypeOf,HS=Object.prototype;function B_(r,e){if(typeof e!="string"){if(HS){const l=QV(e);l&&l!==HS&&B_(r,l)}let t=$V(e);FS&&(t=t.concat(FS(e)));const i=BS(r),a=BS(e);for(let l=0;l<t.length;++l){const c=t[l];if(!FV[c]&&!(a&&a[c])&&!(i&&i[c])){const d=YV(e,c);try{KV(r,c,d)}catch{}}}}return r}var XV=Symbol.for("react-redux-context"),WV=typeof globalThis<"u"?globalThis:{};function JV(){if(!F.createContext)return{};const r=WV[XV]??=new Map;let e=r.get(F.createContext);return e||(e=F.createContext(null),r.set(F.createContext,e)),e}var ki=JV(),ZV=[null,null];function eP(r,e,t){ff(()=>r(...e),t)}function tP(r,e,t,i,a,l){r.current=i,t.current=!1,a.current&&(a.current=null,l())}function nP(r,e,t,i,a,l,c,d,m,g,v){if(!r)return()=>{};let b=!1,x=null;const A=()=>{if(b||!d.current)return;const L=e.getState();let j,H;try{j=i(L,a.current)}catch(B){H=B,x=B}H||(x=null),j===l.current?c.current||g():(l.current=j,m.current=j,c.current=!0,v())};return t.onStateChange=A,t.trySubscribe(),A(),()=>{if(b=!0,t.tryUnsubscribe(),t.onStateChange=null,x)throw x}}function rP(r,e){return r===e}function iP(r,e,t,{pure:i,areStatesEqual:a=rP,areOwnPropsEqual:l=jm,areStatePropsEqual:c=jm,areMergedPropsEqual:d=jm,forwardRef:m=!1,context:g=ki}={}){const v=g,b=OV(r),x=NV(e),A=jV(t),k=!!r;return j=>{const H=j.displayName||j.name||"Component",B=`Connect(${H})`,W={shouldHandleStateChanges:k,displayName:B,wrappedComponentName:H,WrappedComponent:j,initMapStateToProps:b,initMapDispatchToProps:x,initMergeProps:A,areStatesEqual:a,areStatePropsEqual:c,areOwnPropsEqual:l,areMergedPropsEqual:d};function oe(C){const[R,O,V]=F.useMemo(()=>{const{reactReduxForwardedRef:Tt,...En}=C;return[C.context,Tt,En]},[C]),M=F.useMemo(()=>{let Tt=v;return R?.Consumer,Tt},[R,v]),q=F.useContext(M),N=!!C.store&&!!C.store.getState&&!!C.store.dispatch,Se=!!q&&!!q.store,Ce=N?C.store:q.store,Z=Se?q.getServerState:Ce.getState,ce=F.useMemo(()=>CV(Ce.dispatch,W),[Ce]),[ge,je]=F.useMemo(()=>{if(!k)return ZV;const Tt=GI(Ce,N?void 0:q.subscription),En=Tt.notifyNestedSubs.bind(Tt);return[Tt,En]},[Ce,N,q]),Ve=F.useMemo(()=>N?q:{...q,subscription:ge},[N,q,ge]),I=F.useRef(void 0),U=F.useRef(V),ae=F.useRef(void 0),se=F.useRef(!1),he=F.useRef(!1),fe=F.useRef(void 0);ff(()=>(he.current=!0,()=>{he.current=!1}),[]);const _e=F.useMemo(()=>()=>ae.current&&V===U.current?ae.current:ce(Ce.getState(),V),[Ce,V]),be=F.useMemo(()=>En=>ge?nP(k,Ce,ge,ce,U,I,se,he,ae,je,En):()=>{},[ge]);eP(tP,[U,I,se,V,ae,je]);let we;try{we=F.useSyncExternalStore(be,_e,Z?()=>ce(Z(),V):_e)}catch(Tt){throw fe.current&&(Tt.message+=`
The error may be correlated with this previous error:
${fe.current.stack}

`),Tt}ff(()=>{fe.current=void 0,ae.current=void 0,I.current=we});const et=F.useMemo(()=>F.createElement(j,{...we,ref:O}),[O,j,we]);return F.useMemo(()=>k?F.createElement(M.Provider,{value:Ve},et):et,[M,et,Ve])}const le=F.memo(oe);if(le.WrappedComponent=j,le.displayName=oe.displayName=B,m){const R=F.forwardRef(function(V,M){return F.createElement(le,{...V,reactReduxForwardedRef:M})});return R.displayName=B,R.WrappedComponent=j,B_(R,j)}return B_(le,j)}}var sP=iP;function aP(r){const{children:e,context:t,serverState:i,store:a}=r,l=F.useMemo(()=>{const m=GI(a);return{store:a,subscription:m,getServerState:i?()=>i:void 0}},[a,i]),c=F.useMemo(()=>a.getState(),[a]);ff(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==a.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=t||ki;return F.createElement(d.Provider,{value:l},e)}var F_=aP;function I0(r=ki){return function(){return F.useContext(r)}}var $I=I0();function YI(r=ki){const e=r===ki?$I:I0(r),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var oP=YI();function lP(r=ki){const e=r===ki?oP:YI(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var uP=lP(),cP=(r,e)=>r===e;function hP(r=ki){const e=r===ki?$I:I0(r),t=(i,a={})=>{const{equalityFn:l=cP}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:d,subscription:m,getServerState:g}=c;F.useRef(!0);const v=F.useCallback({[i.name](x){return i(x)}}[i.name],[i]),b=hV.useSyncExternalStoreWithSelector(m.addNestedSub,d.getState,g||d.getState,v,l);return F.useDebugValue(b),b};return Object.assign(t,{withTypes:()=>t}),t}var va=hP();const mn=({className:r="",...e})=>y.jsx("i",{className:`checkmark icon ${r}`,...e}),N0=({className:r="",...e})=>y.jsx("i",{className:`chevron down icon ${r}`,...e}),zf=({className:r="",...e})=>y.jsx("i",{className:`chevron right icon ${r}`,...e}),Bf=({className:r="",...e})=>y.jsx("i",{className:`exclamation triangle icon ${r}`,...e}),Ko=({className:r="",...e})=>y.jsx("i",{className:`book open icon ${r}`,...e}),Ff=({className:r="",...e})=>y.jsx("i",{className:`lock icon ${r}`,...e}),ec=({className:r="",...e})=>y.jsx("i",{className:`settings icon ${r}`,...e}),O0=({className:r="",...e})=>y.jsx("i",{className:`trash icon ${r}`,...e}),df=({className:r="",...e})=>y.jsx("i",{className:`shopping cart icon ${r}`,...e}),QI=({className:r="",...e})=>y.jsx("i",{className:`archive icon ${r}`,...e}),XI=({className:r="",...e})=>y.jsx("i",{className:`bars icon ${r}`,...e}),WI=({className:r="",...e})=>y.jsx("i",{className:`search icon ${r}`,...e}),pn=({className:r="",...e})=>y.jsx("i",{className:`remove icon ${r}`,...e}),pf=({className:r="",...e})=>y.jsx("i",{className:`eye slash icon ${r}`,...e}),Hf=({className:r="",...e})=>y.jsx("i",{className:`info circle icon ${r}`,...e}),Du=({className:r="",...e})=>y.jsx("i",{className:`cloud icon ${r}`,...e}),JI=({className:r="",...e})=>y.jsx("i",{className:`download icon ${r}`,...e}),ZI=({className:r="",...e})=>y.jsx("i",{className:`upload icon ${r}`,...e}),D0=({className:r="",...e})=>y.jsx("i",{className:`history icon ${r}`,...e}),eN=({className:r="",...e})=>y.jsx("i",{className:`sign in icon ${r}`,...e}),tN=({className:r="",...e})=>y.jsx("i",{className:`sign out icon ${r}`,...e}),nN=({className:r="",...e})=>y.jsx("i",{className:`compress icon ${r}`,...e}),H_=({className:r="",...e})=>y.jsx("i",{className:`desktop icon ${r}`,...e}),Vi=({className:r="",...e})=>y.jsx("i",{className:`spinner loading icon ${r}`,...e}),rN=({className:r="",...e})=>y.jsx("i",{className:`undo icon ${r}`,...e}),Sa=({className:r="",...e})=>y.jsx("i",{className:`plus icon ${r}`,...e}),Gf=({className:r="",...e})=>y.jsx("i",{className:`minus icon ${r}`,...e}),tc=({className:r="",...e})=>y.jsx("i",{className:`edit icon ${r}`,...e}),nc=({className:r="",...e})=>y.jsx("i",{className:`warning circle icon ${r}`,...e}),iN=({className:r="",...e})=>y.jsx("i",{className:`star icon ${r}`,...e}),sN=({className:r="",...e})=>y.jsx("i",{className:`globe icon ${r}`,...e}),aN=({className:r="",...e})=>y.jsx("i",{className:`eye icon ${r}`,...e}),oN=({className:r="",...e})=>y.jsx("i",{className:`low vision icon ${r}`,...e}),lN=({className:r="",...e})=>y.jsx("i",{className:`android icon ${r}`,...e}),G_=({className:r="",...e})=>y.jsx("i",{className:`gem icon ${r}`,...e}),uN=({className:r="",...e})=>y.jsx("i",{className:`tree icon ${r}`,...e}),cN=({className:r="",...e})=>y.jsx("i",{className:`leaf icon ${r}`,...e}),hN=({className:r="",...e})=>y.jsx("i",{className:`map signs icon ${r}`,...e}),fN=({className:r="",...e})=>y.jsx("i",{className:`fish icon ${r}`,...e}),Pe={className:D.string,onClick:D.func,title:D.string};mn.propTypes=Pe;N0.propTypes=Pe;zf.propTypes=Pe;Bf.propTypes=Pe;Ko.propTypes=Pe;Ff.propTypes=Pe;ec.propTypes=Pe;O0.propTypes=Pe;df.propTypes=Pe;QI.propTypes=Pe;XI.propTypes=Pe;WI.propTypes=Pe;pn.propTypes=Pe;pf.propTypes=Pe;Hf.propTypes=Pe;Du.propTypes=Pe;JI.propTypes=Pe;ZI.propTypes=Pe;D0.propTypes=Pe;eN.propTypes=Pe;tN.propTypes=Pe;nN.propTypes=Pe;H_.propTypes=Pe;Vi.propTypes=Pe;rN.propTypes=Pe;Sa.propTypes=Pe;Gf.propTypes=Pe;tc.propTypes=Pe;nc.propTypes=Pe;iN.propTypes=Pe;sN.propTypes=Pe;aN.propTypes=Pe;oN.propTypes=Pe;lN.propTypes=Pe;G_.propTypes=Pe;uN.propTypes=Pe;cN.propTypes=Pe;hN.propTypes=Pe;fN.propTypes=Pe;const fP=(r,e,t)=>({type:"TOGGLE_ITEM",game:r,category:e,title:t}),dP=r=>({type:"TOGGLE_RELIC",relic:r}),GS=(r,e,t)=>({type:"CLEAR_ITEMS",game:r,category:e,titles:t}),pP=(r,e,t)=>({type:"ADD_ITEM",game:r,category:e,item:t}),mP=(r,e,t)=>({type:"ADD_BUILD_ITEM",game:r,category:e,item:t}),gP=(r,e,t)=>({type:"ADD_VOID_ITEM",game:r,category:e,item:t}),yP=(r,e,t)=>({type:"REMOVE_ITEM",game:r,category:e,title:t}),vP=(r,e,t)=>({type:"REMOVE_BUILD_ITEM",game:r,category:e,title:t}),_P=(r,e,t)=>({type:"REMOVE_VOID_ITEM",game:r,category:e,title:t}),bP=(r,e,t)=>({type:"INCREMENT_ITEM",game:r,category:e,title:t}),EP=(r,e,t)=>({type:"DECREMENT_ITEM",game:r,category:e,title:t}),TP=(r,e,t,i,a)=>({type:"UPDATE_ITEM",game:r,category:e,title:t,notes:i,count:a}),xP=(r,e,t,i)=>({type:"UPDATE_BUILD_ITEM",game:r,category:e,title:t,item:i}),SP=r=>({type:"SET_SEARCH_VALUE",value:r}),AP=r=>({type:"SET_VISIBILITY_FILTER",filter:r}),wP=r=>({type:"SET_RELIC_VISIBILITY",filter:r}),Jt={SHOW_ALL:"SHOW_ALL",SHOW_ACTIVE:"SHOW_ACTIVE"},RP=r=>({type:"UPLOAD_STATE",state:r});class dN extends Kt.Component{renderItems(e,t){return y.jsx("ul",{className:"list-none p-0 m-0",children:e.map((i,a)=>this.renderItem(i,a,t))})}handleItemClick(e){return t=>{const i=typeof e=="object"&&e!==null?e.key||e.title:e;this.props.onItemClick(i),t.stopPropagation()}}handleClearClick(e){return t=>{this.props.onClear(e.map(i=>typeof i=="object"&&i!==null?i.key||i.title:i)),t.stopPropagation()}}renderLocation(e){return!e||!e.length||e===""?null:(Array.isArray(e)?e:[e]).map((i,a)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:i},a))}renderItem(e,t,i){if(!e||e.hidden)return null;const a=e.readOnly;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(e).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const l=this.props.visibilityFilter===Jt.SHOW_ACTIVE&&e.checked,c=typeof e=="string"||e instanceof String?e:e.title,d=!!e.items,m=e.checked?"text-green-500":"text-gray-400",g=e.tags?e.tags.map((x,A)=>x==="missable"?y.jsx("span",{title:x,className:"text-red-600 ml-1 inline-block font-normal",children:y.jsx(Bf,{})},A):null):null,v=e.hint?y.jsxs("span",{className:"opacity-40 text-sm italic font-normal",children:[" ",e.hint]}):null,b=!e.items&&!(a||i);return y.jsx("li",{className:`py-0.5 rounded-sm ${l?"opacity-40":""} ${d?"mt-1.5":""}`,children:y.jsxs("div",{className:"flex items-start",children:[!(a||i)&&y.jsx("div",{className:`mr-1 shrink-0 flex items-center h-[1.35em] ${m} ${b?"cursor-pointer":""}`,onClick:b?this.handleItemClick(e):void 0,children:e.items?e.checked?y.jsx(mn,{}):y.jsx(N0,{}):e.checked?y.jsx(mn,{}):y.jsx(zf,{})}),y.jsxs("div",{className:"grow",children:[y.jsxs("div",{className:"leading-tight",children:[e.items&&e.readOnly?y.jsxs("span",{className:"underline font-bold text-gray-900 text-base",children:[c,v,g]}):i?y.jsxs("span",{className:"font-normal text-gray-700 text-sm",children:[c,v,g]}):y.jsxs("span",{className:"font-bold text-gray-900 text-base",children:[c,v,g]}),e.url?y.jsx("a",{href:e.url,title:"wiki",className:"ml-1 text-gray-500 opacity-70 hover:opacity-100 inline-block",target:"_blank",rel:"noopener noreferrer",onClick:x=>x.stopPropagation(),children:y.jsx(Ko,{})}):null,e.isVaulted?y.jsx("span",{title:"Vaulted",className:"ml-1 text-gray-500 inline-block",children:y.jsx(Ff,{})}):null,e.partOf?y.jsx("span",{title:`Part of ${e.partOf.join(", ")}`,className:"ml-1 text-gray-500 inline-block",children:y.jsx(ec,{})}):null,e.items&&e.props&&e.props.includes("clearable")?y.jsx("span",{title:"Clear",className:"ml-1 text-red-600 opacity-70 hover:opacity-100 cursor-pointer inline-block",onClick:this.handleClearClick(e.items),children:y.jsx(O0,{})}):null]}),e.description?Array.isArray(e.description)?e.description.map((x,A)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:x},A)):y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:e.description}):null,this.renderLocation(e.location),e.items&&e.items.length?y.jsx("div",{className:"ml-2",children:this.renderItems(e.items,a)}):null]})]})},t)}render(){return!this.props.items||!this.props.items.length?y.jsx("div",{className:"text-gray-500 italic",children:"No items"}):y.jsx("div",{className:"mb-4",children:this.renderItems(this.props.items)})}}dN.propTypes={items:D.arrayOf(D.oneOfType([D.string,D.shape({title:D.string,url:D.string,icon:D.string,description:D.oneOfType([D.string,D.arrayOf(D.string)]),location:D.oneOfType([D.string,D.arrayOf(D.string)]),checked:D.bool,items:D.array,tags:D.arrayOf(D.string),hint:D.string,readOnly:D.bool,hidden:D.bool,key:D.string,isVaulted:D.bool,partOf:D.arrayOf(D.string),props:D.arrayOf(D.string)})])),onItemClick:D.func.isRequired,onClear:D.func.isRequired,visibilityFilter:D.string,searchFilter:D.string};var km,KS;function pN(){if(KS)return km;KS=1;var r=typeof Rs=="object"&&Rs&&Rs.Object===Object&&Rs;return km=r,km}var Vm,$S;function Or(){if($S)return Vm;$S=1;var r=pN(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return Vm=t,Vm}var Pm,YS;function il(){if(YS)return Pm;YS=1;var r=Or(),e=r.Symbol;return Pm=e,Pm}var Lm,QS;function CP(){if(QS)return Lm;QS=1;var r=il(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,a=r?r.toStringTag:void 0;function l(c){var d=t.call(c,a),m=c[a];try{c[a]=void 0;var g=!0}catch{}var v=i.call(c);return g&&(d?c[a]=m:delete c[a]),v}return Lm=l,Lm}var Um,XS;function IP(){if(XS)return Um;XS=1;var r=Object.prototype,e=r.toString;function t(i){return e.call(i)}return Um=t,Um}var qm,WS;function Pa(){if(WS)return qm;WS=1;var r=il(),e=CP(),t=IP(),i="[object Null]",a="[object Undefined]",l=r?r.toStringTag:void 0;function c(d){return d==null?d===void 0?a:i:l&&l in Object(d)?e(d):t(d)}return qm=c,qm}var zm,JS;function cr(){if(JS)return zm;JS=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return zm=r,zm}var Bm,ZS;function M0(){if(ZS)return Bm;ZS=1;var r=Pa(),e=cr(),t="[object AsyncFunction]",i="[object Function]",a="[object GeneratorFunction]",l="[object Proxy]";function c(d){if(!e(d))return!1;var m=r(d);return m==i||m==a||m==t||m==l}return Bm=c,Bm}var Fm,eA;function NP(){if(eA)return Fm;eA=1;var r=Or(),e=r["__core-js_shared__"];return Fm=e,Fm}var Hm,tA;function OP(){if(tA)return Hm;tA=1;var r=NP(),e=(function(){var i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})();function t(i){return!!e&&e in i}return Hm=t,Hm}var Gm,nA;function mN(){if(nA)return Gm;nA=1;var r=Function.prototype,e=r.toString;function t(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return Gm=t,Gm}var Km,rA;function DP(){if(rA)return Km;rA=1;var r=M0(),e=OP(),t=cr(),i=mN(),a=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,m=c.toString,g=d.hasOwnProperty,v=RegExp("^"+m.call(g).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b(x){if(!t(x)||e(x))return!1;var A=r(x)?v:l;return A.test(i(x))}return Km=b,Km}var $m,iA;function MP(){if(iA)return $m;iA=1;function r(e,t){return e?.[t]}return $m=r,$m}var Ym,sA;function La(){if(sA)return Ym;sA=1;var r=DP(),e=MP();function t(i,a){var l=e(i,a);return r(l)?l:void 0}return Ym=t,Ym}var Qm,aA;function gN(){if(aA)return Qm;aA=1;var r=La(),e=(function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}})();return Qm=e,Qm}var Xm,oA;function Kf(){if(oA)return Xm;oA=1;var r=gN();function e(t,i,a){i=="__proto__"&&r?r(t,i,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[i]=a}return Xm=e,Xm}var Wm,lA;function jP(){if(lA)return Wm;lA=1;function r(e,t,i,a){for(var l=-1,c=e==null?0:e.length;++l<c;){var d=e[l];t(a,d,i(d),e)}return a}return Wm=r,Wm}var Jm,uA;function kP(){if(uA)return Jm;uA=1;function r(e){return function(t,i,a){for(var l=-1,c=Object(t),d=a(t),m=d.length;m--;){var g=d[e?m:++l];if(i(c[g],g,c)===!1)break}return t}}return Jm=r,Jm}var Zm,cA;function yN(){if(cA)return Zm;cA=1;var r=kP(),e=r();return Zm=e,Zm}var eg,hA;function VP(){if(hA)return eg;hA=1;function r(e,t){for(var i=-1,a=Array(e);++i<e;)a[i]=t(i);return a}return eg=r,eg}var tg,fA;function li(){if(fA)return tg;fA=1;function r(e){return e!=null&&typeof e=="object"}return tg=r,tg}var ng,dA;function PP(){if(dA)return ng;dA=1;var r=Pa(),e=li(),t="[object Arguments]";function i(a){return e(a)&&r(a)==t}return ng=i,ng}var rg,pA;function $f(){if(pA)return rg;pA=1;var r=PP(),e=li(),t=Object.prototype,i=t.hasOwnProperty,a=t.propertyIsEnumerable,l=r((function(){return arguments})())?r:function(c){return e(c)&&i.call(c,"callee")&&!a.call(c,"callee")};return rg=l,rg}var ig,mA;function ln(){if(mA)return ig;mA=1;var r=Array.isArray;return ig=r,ig}var Au={exports:{}},sg,gA;function LP(){if(gA)return sg;gA=1;function r(){return!1}return sg=r,sg}Au.exports;var yA;function Yf(){return yA||(yA=1,(function(r,e){var t=Or(),i=LP(),a=e&&!e.nodeType&&e,l=a&&!0&&r&&!r.nodeType&&r,c=l&&l.exports===a,d=c?t.Buffer:void 0,m=d?d.isBuffer:void 0,g=m||i;r.exports=g})(Au,Au.exports)),Au.exports}var ag,vA;function Qf(){if(vA)return ag;vA=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(i,a){var l=typeof i;return a=a??r,!!a&&(l=="number"||l!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<a}return ag=t,ag}var og,_A;function j0(){if(_A)return og;_A=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return og=e,og}var lg,bA;function UP(){if(bA)return lg;bA=1;var r=Pa(),e=j0(),t=li(),i="[object Arguments]",a="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",m="[object Function]",g="[object Map]",v="[object Number]",b="[object Object]",x="[object RegExp]",A="[object Set]",k="[object String]",L="[object WeakMap]",j="[object ArrayBuffer]",H="[object DataView]",B="[object Float32Array]",W="[object Float64Array]",oe="[object Int8Array]",ue="[object Int16Array]",le="[object Int32Array]",C="[object Uint8Array]",R="[object Uint8ClampedArray]",O="[object Uint16Array]",V="[object Uint32Array]",M={};M[B]=M[W]=M[oe]=M[ue]=M[le]=M[C]=M[R]=M[O]=M[V]=!0,M[i]=M[a]=M[j]=M[l]=M[H]=M[c]=M[d]=M[m]=M[g]=M[v]=M[b]=M[x]=M[A]=M[k]=M[L]=!1;function q(N){return t(N)&&e(N.length)&&!!M[r(N)]}return lg=q,lg}var ug,EA;function Xf(){if(EA)return ug;EA=1;function r(e){return function(t){return e(t)}}return ug=r,ug}var wu={exports:{}};wu.exports;var TA;function k0(){return TA||(TA=1,(function(r,e){var t=pN(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,l=a&&a.exports===i,c=l&&t.process,d=(function(){try{var m=a&&a.require&&a.require("util").types;return m||c&&c.binding&&c.binding("util")}catch{}})();r.exports=d})(wu,wu.exports)),wu.exports}var cg,xA;function V0(){if(xA)return cg;xA=1;var r=UP(),e=Xf(),t=k0(),i=t&&t.isTypedArray,a=i?e(i):r;return cg=a,cg}var hg,SA;function vN(){if(SA)return hg;SA=1;var r=VP(),e=$f(),t=ln(),i=Yf(),a=Qf(),l=V0(),c=Object.prototype,d=c.hasOwnProperty;function m(g,v){var b=t(g),x=!b&&e(g),A=!b&&!x&&i(g),k=!b&&!x&&!A&&l(g),L=b||x||A||k,j=L?r(g.length,String):[],H=j.length;for(var B in g)(v||d.call(g,B))&&!(L&&(B=="length"||A&&(B=="offset"||B=="parent")||k&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||a(B,H)))&&j.push(B);return j}return hg=m,hg}var fg,AA;function P0(){if(AA)return fg;AA=1;var r=Object.prototype;function e(t){var i=t&&t.constructor,a=typeof i=="function"&&i.prototype||r;return t===a}return fg=e,fg}var dg,wA;function _N(){if(wA)return dg;wA=1;function r(e,t){return function(i){return e(t(i))}}return dg=r,dg}var pg,RA;function qP(){if(RA)return pg;RA=1;var r=_N(),e=r(Object.keys,Object);return pg=e,pg}var mg,CA;function zP(){if(CA)return mg;CA=1;var r=P0(),e=qP(),t=Object.prototype,i=t.hasOwnProperty;function a(l){if(!r(l))return e(l);var c=[];for(var d in Object(l))i.call(l,d)&&d!="constructor"&&c.push(d);return c}return mg=a,mg}var gg,IA;function sl(){if(IA)return gg;IA=1;var r=M0(),e=j0();function t(i){return i!=null&&e(i.length)&&!r(i)}return gg=t,gg}var yg,NA;function Ua(){if(NA)return yg;NA=1;var r=vN(),e=zP(),t=sl();function i(a){return t(a)?r(a):e(a)}return yg=i,yg}var vg,OA;function BP(){if(OA)return vg;OA=1;var r=yN(),e=Ua();function t(i,a){return i&&r(i,a,e)}return vg=t,vg}var _g,DA;function FP(){if(DA)return _g;DA=1;var r=sl();function e(t,i){return function(a,l){if(a==null)return a;if(!r(a))return t(a,l);for(var c=a.length,d=i?c:-1,m=Object(a);(i?d--:++d<c)&&l(m[d],d,m)!==!1;);return a}}return _g=e,_g}var bg,MA;function L0(){if(MA)return bg;MA=1;var r=BP(),e=FP(),t=e(r);return bg=t,bg}var Eg,jA;function HP(){if(jA)return Eg;jA=1;var r=L0();function e(t,i,a,l){return r(t,function(c,d,m){i(l,c,a(c),m)}),l}return Eg=e,Eg}var Tg,kA;function GP(){if(kA)return Tg;kA=1;function r(){this.__data__=[],this.size=0}return Tg=r,Tg}var xg,VA;function rc(){if(VA)return xg;VA=1;function r(e,t){return e===t||e!==e&&t!==t}return xg=r,xg}var Sg,PA;function Wf(){if(PA)return Sg;PA=1;var r=rc();function e(t,i){for(var a=t.length;a--;)if(r(t[a][0],i))return a;return-1}return Sg=e,Sg}var Ag,LA;function KP(){if(LA)return Ag;LA=1;var r=Wf(),e=Array.prototype,t=e.splice;function i(a){var l=this.__data__,c=r(l,a);if(c<0)return!1;var d=l.length-1;return c==d?l.pop():t.call(l,c,1),--this.size,!0}return Ag=i,Ag}var wg,UA;function $P(){if(UA)return wg;UA=1;var r=Wf();function e(t){var i=this.__data__,a=r(i,t);return a<0?void 0:i[a][1]}return wg=e,wg}var Rg,qA;function YP(){if(qA)return Rg;qA=1;var r=Wf();function e(t){return r(this.__data__,t)>-1}return Rg=e,Rg}var Cg,zA;function QP(){if(zA)return Cg;zA=1;var r=Wf();function e(t,i){var a=this.__data__,l=r(a,t);return l<0?(++this.size,a.push([t,i])):a[l][1]=i,this}return Cg=e,Cg}var Ig,BA;function Jf(){if(BA)return Ig;BA=1;var r=GP(),e=KP(),t=$P(),i=YP(),a=QP();function l(c){var d=-1,m=c==null?0:c.length;for(this.clear();++d<m;){var g=c[d];this.set(g[0],g[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,Ig=l,Ig}var Ng,FA;function XP(){if(FA)return Ng;FA=1;var r=Jf();function e(){this.__data__=new r,this.size=0}return Ng=e,Ng}var Og,HA;function WP(){if(HA)return Og;HA=1;function r(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}return Og=r,Og}var Dg,GA;function JP(){if(GA)return Dg;GA=1;function r(e){return this.__data__.get(e)}return Dg=r,Dg}var Mg,KA;function ZP(){if(KA)return Mg;KA=1;function r(e){return this.__data__.has(e)}return Mg=r,Mg}var jg,$A;function U0(){if($A)return jg;$A=1;var r=La(),e=Or(),t=r(e,"Map");return jg=t,jg}var kg,YA;function Zf(){if(YA)return kg;YA=1;var r=La(),e=r(Object,"create");return kg=e,kg}var Vg,QA;function e4(){if(QA)return Vg;QA=1;var r=Zf();function e(){this.__data__=r?r(null):{},this.size=0}return Vg=e,Vg}var Pg,XA;function t4(){if(XA)return Pg;XA=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Pg=r,Pg}var Lg,WA;function n4(){if(WA)return Lg;WA=1;var r=Zf(),e="__lodash_hash_undefined__",t=Object.prototype,i=t.hasOwnProperty;function a(l){var c=this.__data__;if(r){var d=c[l];return d===e?void 0:d}return i.call(c,l)?c[l]:void 0}return Lg=a,Lg}var Ug,JA;function r4(){if(JA)return Ug;JA=1;var r=Zf(),e=Object.prototype,t=e.hasOwnProperty;function i(a){var l=this.__data__;return r?l[a]!==void 0:t.call(l,a)}return Ug=i,Ug}var qg,ZA;function i4(){if(ZA)return qg;ZA=1;var r=Zf(),e="__lodash_hash_undefined__";function t(i,a){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=r&&a===void 0?e:a,this}return qg=t,qg}var zg,ew;function s4(){if(ew)return zg;ew=1;var r=e4(),e=t4(),t=n4(),i=r4(),a=i4();function l(c){var d=-1,m=c==null?0:c.length;for(this.clear();++d<m;){var g=c[d];this.set(g[0],g[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,zg=l,zg}var Bg,tw;function a4(){if(tw)return Bg;tw=1;var r=s4(),e=Jf(),t=U0();function i(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return Bg=i,Bg}var Fg,nw;function o4(){if(nw)return Fg;nw=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Fg=r,Fg}var Hg,rw;function ed(){if(rw)return Hg;rw=1;var r=o4();function e(t,i){var a=t.__data__;return r(i)?a[typeof i=="string"?"string":"hash"]:a.map}return Hg=e,Hg}var Gg,iw;function l4(){if(iw)return Gg;iw=1;var r=ed();function e(t){var i=r(this,t).delete(t);return this.size-=i?1:0,i}return Gg=e,Gg}var Kg,sw;function u4(){if(sw)return Kg;sw=1;var r=ed();function e(t){return r(this,t).get(t)}return Kg=e,Kg}var $g,aw;function c4(){if(aw)return $g;aw=1;var r=ed();function e(t){return r(this,t).has(t)}return $g=e,$g}var Yg,ow;function h4(){if(ow)return Yg;ow=1;var r=ed();function e(t,i){var a=r(this,t),l=a.size;return a.set(t,i),this.size+=a.size==l?0:1,this}return Yg=e,Yg}var Qg,lw;function q0(){if(lw)return Qg;lw=1;var r=a4(),e=l4(),t=u4(),i=c4(),a=h4();function l(c){var d=-1,m=c==null?0:c.length;for(this.clear();++d<m;){var g=c[d];this.set(g[0],g[1])}}return l.prototype.clear=r,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=i,l.prototype.set=a,Qg=l,Qg}var Xg,uw;function f4(){if(uw)return Xg;uw=1;var r=Jf(),e=U0(),t=q0(),i=200;function a(l,c){var d=this.__data__;if(d instanceof r){var m=d.__data__;if(!e||m.length<i-1)return m.push([l,c]),this.size=++d.size,this;d=this.__data__=new t(m)}return d.set(l,c),this.size=d.size,this}return Xg=a,Xg}var Wg,cw;function td(){if(cw)return Wg;cw=1;var r=Jf(),e=XP(),t=WP(),i=JP(),a=ZP(),l=f4();function c(d){var m=this.__data__=new r(d);this.size=m.size}return c.prototype.clear=e,c.prototype.delete=t,c.prototype.get=i,c.prototype.has=a,c.prototype.set=l,Wg=c,Wg}var Jg,hw;function d4(){if(hw)return Jg;hw=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return Jg=e,Jg}var Zg,fw;function p4(){if(fw)return Zg;fw=1;function r(e){return this.__data__.has(e)}return Zg=r,Zg}var ey,dw;function m4(){if(dw)return ey;dw=1;var r=q0(),e=d4(),t=p4();function i(a){var l=-1,c=a==null?0:a.length;for(this.__data__=new r;++l<c;)this.add(a[l])}return i.prototype.add=i.prototype.push=e,i.prototype.has=t,ey=i,ey}var ty,pw;function g4(){if(pw)return ty;pw=1;function r(e,t){for(var i=-1,a=e==null?0:e.length;++i<a;)if(t(e[i],i,e))return!0;return!1}return ty=r,ty}var ny,mw;function y4(){if(mw)return ny;mw=1;function r(e,t){return e.has(t)}return ny=r,ny}var ry,gw;function bN(){if(gw)return ry;gw=1;var r=m4(),e=g4(),t=y4(),i=1,a=2;function l(c,d,m,g,v,b){var x=m&i,A=c.length,k=d.length;if(A!=k&&!(x&&k>A))return!1;var L=b.get(c),j=b.get(d);if(L&&j)return L==d&&j==c;var H=-1,B=!0,W=m&a?new r:void 0;for(b.set(c,d),b.set(d,c);++H<A;){var oe=c[H],ue=d[H];if(g)var le=x?g(ue,oe,H,d,c,b):g(oe,ue,H,c,d,b);if(le!==void 0){if(le)continue;B=!1;break}if(W){if(!e(d,function(C,R){if(!t(W,R)&&(oe===C||v(oe,C,m,g,b)))return W.push(R)})){B=!1;break}}else if(!(oe===ue||v(oe,ue,m,g,b))){B=!1;break}}return b.delete(c),b.delete(d),B}return ry=l,ry}var iy,yw;function EN(){if(yw)return iy;yw=1;var r=Or(),e=r.Uint8Array;return iy=e,iy}var sy,vw;function v4(){if(vw)return sy;vw=1;function r(e){var t=-1,i=Array(e.size);return e.forEach(function(a,l){i[++t]=[l,a]}),i}return sy=r,sy}var ay,_w;function _4(){if(_w)return ay;_w=1;function r(e){var t=-1,i=Array(e.size);return e.forEach(function(a){i[++t]=a}),i}return ay=r,ay}var oy,bw;function b4(){if(bw)return oy;bw=1;var r=il(),e=EN(),t=rc(),i=bN(),a=v4(),l=_4(),c=1,d=2,m="[object Boolean]",g="[object Date]",v="[object Error]",b="[object Map]",x="[object Number]",A="[object RegExp]",k="[object Set]",L="[object String]",j="[object Symbol]",H="[object ArrayBuffer]",B="[object DataView]",W=r?r.prototype:void 0,oe=W?W.valueOf:void 0;function ue(le,C,R,O,V,M,q){switch(R){case B:if(le.byteLength!=C.byteLength||le.byteOffset!=C.byteOffset)return!1;le=le.buffer,C=C.buffer;case H:return!(le.byteLength!=C.byteLength||!M(new e(le),new e(C)));case m:case g:case x:return t(+le,+C);case v:return le.name==C.name&&le.message==C.message;case A:case L:return le==C+"";case b:var N=a;case k:var Se=O&c;if(N||(N=l),le.size!=C.size&&!Se)return!1;var Ce=q.get(le);if(Ce)return Ce==C;O|=d,q.set(le,C);var Z=i(N(le),N(C),O,V,M,q);return q.delete(le),Z;case j:if(oe)return oe.call(le)==oe.call(C)}return!1}return oy=ue,oy}var ly,Ew;function nd(){if(Ew)return ly;Ew=1;function r(e,t){for(var i=-1,a=t.length,l=e.length;++i<a;)e[l+i]=t[i];return e}return ly=r,ly}var uy,Tw;function TN(){if(Tw)return uy;Tw=1;var r=nd(),e=ln();function t(i,a,l){var c=a(i);return e(i)?c:r(c,l(i))}return uy=t,uy}var cy,xw;function xN(){if(xw)return cy;xw=1;function r(e,t){for(var i=-1,a=e==null?0:e.length,l=0,c=[];++i<a;){var d=e[i];t(d,i,e)&&(c[l++]=d)}return c}return cy=r,cy}var hy,Sw;function SN(){if(Sw)return hy;Sw=1;function r(){return[]}return hy=r,hy}var fy,Aw;function z0(){if(Aw)return fy;Aw=1;var r=xN(),e=SN(),t=Object.prototype,i=t.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(c){return c==null?[]:(c=Object(c),r(a(c),function(d){return i.call(c,d)}))}:e;return fy=l,fy}var dy,ww;function AN(){if(ww)return dy;ww=1;var r=TN(),e=z0(),t=Ua();function i(a){return r(a,t,e)}return dy=i,dy}var py,Rw;function E4(){if(Rw)return py;Rw=1;var r=AN(),e=1,t=Object.prototype,i=t.hasOwnProperty;function a(l,c,d,m,g,v){var b=d&e,x=r(l),A=x.length,k=r(c),L=k.length;if(A!=L&&!b)return!1;for(var j=A;j--;){var H=x[j];if(!(b?H in c:i.call(c,H)))return!1}var B=v.get(l),W=v.get(c);if(B&&W)return B==c&&W==l;var oe=!0;v.set(l,c),v.set(c,l);for(var ue=b;++j<A;){H=x[j];var le=l[H],C=c[H];if(m)var R=b?m(C,le,H,c,l,v):m(le,C,H,l,c,v);if(!(R===void 0?le===C||g(le,C,d,m,v):R)){oe=!1;break}ue||(ue=H=="constructor")}if(oe&&!ue){var O=l.constructor,V=c.constructor;O!=V&&"constructor"in l&&"constructor"in c&&!(typeof O=="function"&&O instanceof O&&typeof V=="function"&&V instanceof V)&&(oe=!1)}return v.delete(l),v.delete(c),oe}return py=a,py}var my,Cw;function T4(){if(Cw)return my;Cw=1;var r=La(),e=Or(),t=r(e,"DataView");return my=t,my}var gy,Iw;function x4(){if(Iw)return gy;Iw=1;var r=La(),e=Or(),t=r(e,"Promise");return gy=t,gy}var yy,Nw;function S4(){if(Nw)return yy;Nw=1;var r=La(),e=Or(),t=r(e,"Set");return yy=t,yy}var vy,Ow;function A4(){if(Ow)return vy;Ow=1;var r=La(),e=Or(),t=r(e,"WeakMap");return vy=t,vy}var _y,Dw;function rd(){if(Dw)return _y;Dw=1;var r=T4(),e=U0(),t=x4(),i=S4(),a=A4(),l=Pa(),c=mN(),d="[object Map]",m="[object Object]",g="[object Promise]",v="[object Set]",b="[object WeakMap]",x="[object DataView]",A=c(r),k=c(e),L=c(t),j=c(i),H=c(a),B=l;return(r&&B(new r(new ArrayBuffer(1)))!=x||e&&B(new e)!=d||t&&B(t.resolve())!=g||i&&B(new i)!=v||a&&B(new a)!=b)&&(B=function(W){var oe=l(W),ue=oe==m?W.constructor:void 0,le=ue?c(ue):"";if(le)switch(le){case A:return x;case k:return d;case L:return g;case j:return v;case H:return b}return oe}),_y=B,_y}var by,Mw;function w4(){if(Mw)return by;Mw=1;var r=td(),e=bN(),t=b4(),i=E4(),a=rd(),l=ln(),c=Yf(),d=V0(),m=1,g="[object Arguments]",v="[object Array]",b="[object Object]",x=Object.prototype,A=x.hasOwnProperty;function k(L,j,H,B,W,oe){var ue=l(L),le=l(j),C=ue?v:a(L),R=le?v:a(j);C=C==g?b:C,R=R==g?b:R;var O=C==b,V=R==b,M=C==R;if(M&&c(L)){if(!c(j))return!1;ue=!0,O=!1}if(M&&!O)return oe||(oe=new r),ue||d(L)?e(L,j,H,B,W,oe):t(L,j,C,H,B,W,oe);if(!(H&m)){var q=O&&A.call(L,"__wrapped__"),N=V&&A.call(j,"__wrapped__");if(q||N){var Se=q?L.value():L,Ce=N?j.value():j;return oe||(oe=new r),W(Se,Ce,H,B,oe)}}return M?(oe||(oe=new r),i(L,j,H,B,W,oe)):!1}return by=k,by}var Ey,jw;function wN(){if(jw)return Ey;jw=1;var r=w4(),e=li();function t(i,a,l,c,d){return i===a?!0:i==null||a==null||!e(i)&&!e(a)?i!==i&&a!==a:r(i,a,l,c,t,d)}return Ey=t,Ey}var Ty,kw;function R4(){if(kw)return Ty;kw=1;var r=td(),e=wN(),t=1,i=2;function a(l,c,d,m){var g=d.length,v=g,b=!m;if(l==null)return!v;for(l=Object(l);g--;){var x=d[g];if(b&&x[2]?x[1]!==l[x[0]]:!(x[0]in l))return!1}for(;++g<v;){x=d[g];var A=x[0],k=l[A],L=x[1];if(b&&x[2]){if(k===void 0&&!(A in l))return!1}else{var j=new r;if(m)var H=m(k,L,A,l,c,j);if(!(H===void 0?e(L,k,t|i,m,j):H))return!1}}return!0}return Ty=a,Ty}var xy,Vw;function RN(){if(Vw)return xy;Vw=1;var r=cr();function e(t){return t===t&&!r(t)}return xy=e,xy}var Sy,Pw;function C4(){if(Pw)return Sy;Pw=1;var r=RN(),e=Ua();function t(i){for(var a=e(i),l=a.length;l--;){var c=a[l],d=i[c];a[l]=[c,d,r(d)]}return a}return Sy=t,Sy}var Ay,Lw;function CN(){if(Lw)return Ay;Lw=1;function r(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==void 0||e in Object(i))}}return Ay=r,Ay}var wy,Uw;function I4(){if(Uw)return wy;Uw=1;var r=R4(),e=C4(),t=CN();function i(a){var l=e(a);return l.length==1&&l[0][2]?t(l[0][0],l[0][1]):function(c){return c===a||r(c,a,l)}}return wy=i,wy}var Ry,qw;function ic(){if(qw)return Ry;qw=1;var r=Pa(),e=li(),t="[object Symbol]";function i(a){return typeof a=="symbol"||e(a)&&r(a)==t}return Ry=i,Ry}var Cy,zw;function B0(){if(zw)return Cy;zw=1;var r=ln(),e=ic(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function a(l,c){if(r(l))return!1;var d=typeof l;return d=="number"||d=="symbol"||d=="boolean"||l==null||e(l)?!0:i.test(l)||!t.test(l)||c!=null&&l in Object(c)}return Cy=a,Cy}var Iy,Bw;function N4(){if(Bw)return Iy;Bw=1;var r=q0(),e="Expected a function";function t(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var l=function(){var c=arguments,d=a?a.apply(this,c):c[0],m=l.cache;if(m.has(d))return m.get(d);var g=i.apply(this,c);return l.cache=m.set(d,g)||m,g};return l.cache=new(t.Cache||r),l}return t.Cache=r,Iy=t,Iy}var Ny,Fw;function O4(){if(Fw)return Ny;Fw=1;var r=N4(),e=500;function t(i){var a=r(i,function(c){return l.size===e&&l.clear(),c}),l=a.cache;return a}return Ny=t,Ny}var Oy,Hw;function D4(){if(Hw)return Oy;Hw=1;var r=O4(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,i=r(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(e,function(c,d,m,g){l.push(m?g.replace(t,"$1"):d||c)}),l});return Oy=i,Oy}var Dy,Gw;function id(){if(Gw)return Dy;Gw=1;function r(e,t){for(var i=-1,a=e==null?0:e.length,l=Array(a);++i<a;)l[i]=t(e[i],i,e);return l}return Dy=r,Dy}var My,Kw;function M4(){if(Kw)return My;Kw=1;var r=il(),e=id(),t=ln(),i=ic(),a=r?r.prototype:void 0,l=a?a.toString:void 0;function c(d){if(typeof d=="string")return d;if(t(d))return e(d,c)+"";if(i(d))return l?l.call(d):"";var m=d+"";return m=="0"&&1/d==-1/0?"-0":m}return My=c,My}var jy,$w;function IN(){if($w)return jy;$w=1;var r=M4();function e(t){return t==null?"":r(t)}return jy=e,jy}var ky,Yw;function sc(){if(Yw)return ky;Yw=1;var r=ln(),e=B0(),t=D4(),i=IN();function a(l,c){return r(l)?l:e(l,c)?[l]:t(i(l))}return ky=a,ky}var Vy,Qw;function al(){if(Qw)return Vy;Qw=1;var r=ic();function e(t){if(typeof t=="string"||r(t))return t;var i=t+"";return i=="0"&&1/t==-1/0?"-0":i}return Vy=e,Vy}var Py,Xw;function sd(){if(Xw)return Py;Xw=1;var r=sc(),e=al();function t(i,a){a=r(a,i);for(var l=0,c=a.length;i!=null&&l<c;)i=i[e(a[l++])];return l&&l==c?i:void 0}return Py=t,Py}var Ly,Ww;function NN(){if(Ww)return Ly;Ww=1;var r=sd();function e(t,i,a){var l=t==null?void 0:r(t,i);return l===void 0?a:l}return Ly=e,Ly}var Uy,Jw;function j4(){if(Jw)return Uy;Jw=1;function r(e,t){return e!=null&&t in Object(e)}return Uy=r,Uy}var qy,Zw;function ON(){if(Zw)return qy;Zw=1;var r=sc(),e=$f(),t=ln(),i=Qf(),a=j0(),l=al();function c(d,m,g){m=r(m,d);for(var v=-1,b=m.length,x=!1;++v<b;){var A=l(m[v]);if(!(x=d!=null&&g(d,A)))break;d=d[A]}return x||++v!=b?x:(b=d==null?0:d.length,!!b&&a(b)&&i(A,b)&&(t(d)||e(d)))}return qy=c,qy}var zy,e1;function k4(){if(e1)return zy;e1=1;var r=j4(),e=ON();function t(i,a){return i!=null&&e(i,a,r)}return zy=t,zy}var By,t1;function V4(){if(t1)return By;t1=1;var r=wN(),e=NN(),t=k4(),i=B0(),a=RN(),l=CN(),c=al(),d=1,m=2;function g(v,b){return i(v)&&a(b)?l(c(v),b):function(x){var A=e(x,v);return A===void 0&&A===b?t(x,v):r(b,A,d|m)}}return By=g,By}var Fy,n1;function ad(){if(n1)return Fy;n1=1;function r(e){return e}return Fy=r,Fy}var Hy,r1;function P4(){if(r1)return Hy;r1=1;function r(e){return function(t){return t?.[e]}}return Hy=r,Hy}var Gy,i1;function L4(){if(i1)return Gy;i1=1;var r=sd();function e(t){return function(i){return r(i,t)}}return Gy=e,Gy}var Ky,s1;function U4(){if(s1)return Ky;s1=1;var r=P4(),e=L4(),t=B0(),i=al();function a(l){return t(l)?r(i(l)):e(l)}return Ky=a,Ky}var $y,a1;function F0(){if(a1)return $y;a1=1;var r=I4(),e=V4(),t=ad(),i=ln(),a=U4();function l(c){return typeof c=="function"?c:c==null?t:typeof c=="object"?i(c)?e(c[0],c[1]):r(c):a(c)}return $y=l,$y}var Yy,o1;function q4(){if(o1)return Yy;o1=1;var r=jP(),e=HP(),t=F0(),i=ln();function a(l,c){return function(d,m){var g=i(d)?r:e,v=c?c():{};return g(d,l,t(m,2),v)}}return Yy=a,Yy}var Qy,l1;function z4(){if(l1)return Qy;l1=1;var r=Kf(),e=q4(),t=Object.prototype,i=t.hasOwnProperty,a=e(function(l,c,d){i.call(l,d)?l[d].push(c):r(l,d,[c])});return Qy=a,Qy}var B4=z4();const mf=Ft(B4),F4={BLUEPRINT:"BP","CHASSIS BLUEPRINT":"CH","SYSTEMS BLUEPRINT":"SYS","NEUROPTICS BLUEPRINT":"NEU"},H4={Common:"bg-amber-700",Uncommon:"bg-gray-500",Rare:"bg-yellow-500"};class DN extends Kt.Component{handleItemClick(e){return t=>{this.props.onItemClick(e),t.stopPropagation()}}renderAcquisition(e){if(e.location)return y.jsx("td",{className:"py-1 px-3 align-top border-l border-gray-100 text-gray-700 text-sm leading-snug",children:Array.isArray(e.location)?y.jsx("ul",{className:"list-disc list-inside m-0 p-0",children:e.location.map((t,i)=>y.jsx("li",{children:t},i))}):e.location});if(e.relics){const t=mf(e.relics,"part"),i=Object.getOwnPropertyNames(t).map((a,l)=>y.jsxs("tr",{className:"border-none",children:[y.jsx("td",{className:"py-0 px-1 w-8 text-xs font-bold text-gray-500",children:F4[a.toUpperCase()]}),y.jsx("td",{className:"py-0.5 px-1 flex flex-wrap gap-1",children:t[a].map((c,d)=>y.jsx("span",{className:`px-1 rounded-[2px] text-[10px] font-bold text-white uppercase ${H4[c.rarity]||"bg-gray-400"} ${c.isVaulted?"opacity-50 ring-1 ring-inset ring-gray-300":""}`,title:c.isVaulted?"Vaulted":void 0,children:c.name},d))})]},l));return y.jsx("td",{className:"py-1 px-3 align-top border-l border-gray-100",children:y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:i})})})}return y.jsx("td",{className:"py-1 px-3 border-l border-gray-100"})}renderBody(){const e=this.props.items.map((t,i)=>{const a=this.props.visibilityFilter===Jt.SHOW_ACTIVE&&t.checked;return this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(t).toLowerCase().includes(this.props.searchFilter.toLowerCase())?null:y.jsxs("tr",{className:`${t.checked?"bg-green-50":""} ${a?"opacity-30":""} transition-colors`,children:[y.jsx("td",{className:"py-1 px-3 align-top w-40",children:y.jsxs("div",{className:"flex items-center gap-1.5",children:[t.checked&&y.jsx(mn,{className:"text-green-500 shrink-0"}),y.jsx("span",{className:"font-bold text-gray-900 text-base",children:t.title})]})}),y.jsx("td",{className:"py-1 px-2 align-top w-20 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center gap-2",children:[t.url?y.jsx("a",{href:t.url,title:"wiki",className:"text-gray-500 opacity-70 hover:opacity-100",target:"_blank",rel:"noopener noreferrer",children:y.jsx(Ko,{})}):null,t.market?y.jsx("a",{href:t.market,title:"market",className:"text-gray-500 opacity-70 hover:opacity-100",target:"_blank",rel:"noopener noreferrer",children:y.jsx(df,{})}):null,t.isVaulted?y.jsx(Ff,{className:"text-red-600",title:"Vaulted"}):null]})}),y.jsx("td",{className:"py-1 px-3 align-top w-48",children:t.items?y.jsx("div",{className:"flex flex-col gap-0.5",children:t.items.map((l,c)=>{const d=typeof l=="string"||l instanceof String?l:l.title;return y.jsxs("span",{className:"flex items-center gap-1.5 whitespace-nowrap text-sm text-gray-700",children:[y.jsx("div",{className:`cursor-pointer ${l.checked?"text-green-500":"text-gray-400 hover:text-gray-600"}`,onClick:this.handleItemClick(d),children:l.checked?y.jsx(mn,{}):y.jsx(zf,{})}),y.jsx("span",{className:"font-medium",children:l.short?l.short:l.title})]},c)})}):null}),this.renderAcquisition(t)]},i)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:e})}render(){return y.jsx("div",{className:"overflow-x-auto border-t border-gray-100",children:y.jsx("table",{className:"w-full border-collapse",children:this.renderBody()})})}}DN.propTypes={items:D.arrayOf(D.shape({title:D.string,short:D.string,url:D.string,market:D.string,description:D.string,location:D.oneOfType([D.string,D.arrayOf(D.string)]),checked:D.bool})),onItemClick:D.func.isRequired,visibilityFilter:D.string,searchFilter:D.string};var Xy,u1;function G4(){if(u1)return Xy;u1=1;var r=IN(),e=/[\\^$.*+?()[\]{}|]/g,t=RegExp(e.source);function i(a){return a=r(a),a&&t.test(a)?a.replace(e,"\\$&"):a}return Xy=i,Xy}var K4=G4();const Aa=Ft(K4);var Wy,c1;function $4(){if(c1)return Wy;c1=1;var r=L0();function e(t,i){var a=[];return r(t,function(l,c,d){i(l,c,d)&&a.push(l)}),a}return Wy=e,Wy}var Jy,h1;function Y4(){if(h1)return Jy;h1=1;var r=xN(),e=$4(),t=F0(),i=ln();function a(l,c){var d=i(l)?r:e;return d(l,t(c,3))}return Jy=a,Jy}var Q4=Y4();const wa=Ft(Q4);var Zy,f1;function X4(){if(f1)return Zy;f1=1;var r=id();function e(t,i){return r(i,function(a){return t[a]})}return Zy=e,Zy}var ev,d1;function W4(){if(d1)return ev;d1=1;var r=X4(),e=Ua();function t(i){return i==null?[]:r(i,e(i))}return ev=t,ev}var J4=W4();const Ra=Ft(J4);var Z4=Ua();const ei=Ft(Z4);var eL=NN();const ti=Ft(eL);var tv,p1;function tL(){if(p1)return tv;p1=1;var r=L0(),e=sl();function t(i,a){var l=-1,c=e(i)?Array(i.length):[];return r(i,function(d,m,g){c[++l]=a(d,m,g)}),c}return tv=t,tv}var nv,m1;function nL(){if(m1)return nv;m1=1;function r(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}return nv=r,nv}var rv,g1;function rL(){if(g1)return rv;g1=1;var r=ic();function e(t,i){if(t!==i){var a=t!==void 0,l=t===null,c=t===t,d=r(t),m=i!==void 0,g=i===null,v=i===i,b=r(i);if(!g&&!b&&!d&&t>i||d&&m&&v&&!g&&!b||l&&m&&v||!a&&v||!c)return 1;if(!l&&!d&&!b&&t<i||b&&a&&c&&!l&&!d||g&&a&&c||!m&&c||!v)return-1}return 0}return rv=e,rv}var iv,y1;function iL(){if(y1)return iv;y1=1;var r=rL();function e(t,i,a){for(var l=-1,c=t.criteria,d=i.criteria,m=c.length,g=a.length;++l<m;){var v=r(c[l],d[l]);if(v){if(l>=g)return v;var b=a[l];return v*(b=="desc"?-1:1)}}return t.index-i.index}return iv=e,iv}var sv,v1;function MN(){if(v1)return sv;v1=1;var r=id(),e=sd(),t=F0(),i=tL(),a=nL(),l=Xf(),c=iL(),d=ad(),m=ln();function g(v,b,x){b.length?b=r(b,function(L){return m(L)?function(j){return e(j,L.length===1?L[0]:L)}:L}):b=[d];var A=-1;b=r(b,l(t));var k=i(v,function(L,j,H){var B=r(b,function(W){return W(L)});return{criteria:B,index:++A,value:L}});return a(k,function(L,j){return c(L,j,x)})}return sv=g,sv}var av,_1;function sL(){if(_1)return av;_1=1;var r=MN(),e=ln();function t(i,a,l,c){return i==null?[]:(e(a)||(a=a==null?[]:[a]),l=c?void 0:l,e(l)||(l=l==null?[]:[l]),r(i,a,l))}return av=t,av}var aL=sL();const H0=Ft(aL);var ov,b1;function oL(){if(b1)return ov;b1=1;var r=Or(),e=function(){return r.Date.now()};return ov=e,ov}var lv,E1;function lL(){if(E1)return lv;E1=1;var r=/\s/;function e(t){for(var i=t.length;i--&&r.test(t.charAt(i)););return i}return lv=e,lv}var uv,T1;function uL(){if(T1)return uv;T1=1;var r=lL(),e=/^\s+/;function t(i){return i&&i.slice(0,r(i)+1).replace(e,"")}return uv=t,uv}var cv,x1;function cL(){if(x1)return cv;x1=1;var r=uL(),e=cr(),t=ic(),i=NaN,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;function m(g){if(typeof g=="number")return g;if(t(g))return i;if(e(g)){var v=typeof g.valueOf=="function"?g.valueOf():g;g=e(v)?v+"":v}if(typeof g!="string")return g===0?g:+g;g=r(g);var b=l.test(g);return b||c.test(g)?d(g.slice(2),b?2:8):a.test(g)?i:+g}return cv=m,cv}var hv,S1;function hL(){if(S1)return hv;S1=1;var r=cr(),e=oL(),t=cL(),i="Expected a function",a=Math.max,l=Math.min;function c(d,m,g){var v,b,x,A,k,L,j=0,H=!1,B=!1,W=!0;if(typeof d!="function")throw new TypeError(i);m=t(m)||0,r(g)&&(H=!!g.leading,B="maxWait"in g,x=B?a(t(g.maxWait)||0,m):x,W="trailing"in g?!!g.trailing:W);function oe(N){var Se=v,Ce=b;return v=b=void 0,j=N,A=d.apply(Ce,Se),A}function ue(N){return j=N,k=setTimeout(R,m),H?oe(N):A}function le(N){var Se=N-L,Ce=N-j,Z=m-Se;return B?l(Z,x-Ce):Z}function C(N){var Se=N-L,Ce=N-j;return L===void 0||Se>=m||Se<0||B&&Ce>=x}function R(){var N=e();if(C(N))return O(N);k=setTimeout(R,le(N))}function O(N){return k=void 0,W&&v?oe(N):(v=b=void 0,A)}function V(){k!==void 0&&clearTimeout(k),j=0,v=L=b=k=void 0}function M(){return k===void 0?A:O(e())}function q(){var N=e(),Se=C(N);if(v=arguments,b=this,L=N,Se){if(k===void 0)return ue(L);if(B)return clearTimeout(k),k=setTimeout(R,m),oe(L)}return k===void 0&&(k=setTimeout(R,m)),A}return q.cancel=V,q.flush=M,q}return hv=c,hv}var fL=hL();const od=Ft(fL),A1={Common:"brown",Uncommon:"grey",Rare:"yellow"},vu={red:{bg:"bg-red-600",border:"border-red-600",text:"text-red-600",icon:"text-red-600"},orange:{bg:"bg-orange-500",border:"border-orange-500",text:"text-orange-500",icon:"text-orange-500"},yellow:{bg:"bg-yellow-500",border:"border-yellow-500",text:"text-yellow-500",icon:"text-yellow-500"},olive:{bg:"bg-lime-600",border:"border-lime-600",text:"text-lime-600",icon:"text-lime-600"},green:{bg:"bg-green-500",border:"border-green-500",text:"text-green-500",icon:"text-green-500"},teal:{bg:"bg-teal-500",border:"border-teal-500",text:"text-teal-500",icon:"text-teal-500"},blue:{bg:"bg-blue-600",border:"border-blue-600",text:"text-sky-700",icon:"text-sky-700"},violet:{bg:"bg-violet-600",border:"border-violet-600",text:"text-violet-600",icon:"text-violet-600"},purple:{bg:"bg-purple-600",border:"border-purple-600",text:"text-purple-600",icon:"text-purple-600"},pink:{bg:"bg-pink-500",border:"border-pink-500",text:"text-pink-500",icon:"text-pink-500"},brown:{bg:"bg-amber-700",border:"border-amber-700",text:"text-amber-700",icon:"text-amber-700"},grey:{bg:"bg-gray-500",border:"border-gray-500",text:"text-gray-500",icon:"text-gray-500"},black:{bg:"bg-gray-900",border:"border-gray-900",text:"text-gray-900",icon:"text-gray-900"}},w1=["red","olive","yellow","green","teal","blue","orange","violet","purple","pink","brown","grey","black"],Fh={isLoading:!1,results:[],value:"",hovered:[]};class jN extends Kt.Component{constructor(e){super(e),this.state=Fh,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=od(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(Fh)}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleVisibilityToggle(){return()=>{const e=this.props.relicVisibility===Jt.SHOW_ALL?Jt.SHOW_ACTIVE:Jt.SHOW_ALL;this.props.onRelicVisibilityToggle(e)}}handleSearchChange(e,{value:t}){if(this.setState({isLoading:!0,value:t}),t.length<1){this.setState(Fh);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(Fh);return}const t=new RegExp(Aa(e),"i"),i=Ra(this.props.voidDrops).map(l=>l.title),a=l=>t.test(l.title)&&!i.includes(l.title);this.setState({isLoading:!1,results:wa(this.props.items,a)})}resultRenderer({title:e}){return y.jsx("div",{children:e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e})},"content")}renderTypeIcon(e){const t=vu[e],i=t?t.icon:"text-gray-400";return y.jsx(iN,{className:`text-xs align-middle mr-1 ${i}`})}renderItemsTable(){const e=Ra(this.props.voidDrops),t=[];let i;if(!e.length)return null;const a=H0(e,["item","arbitrary","title"],["asc","desc","asc"]).map(l=>{let c=l.title,d=[];t.includes(l.item)||t.push(l.item),l.count&&(c=`${c} x${l.count}`);let m=!1;const g=l.relics||[],v=l.arbitrary||!l.relics?[]:g.map(b=>{const x=b.name,A=ti(this.props,["markedRelics",x,"available"]);(!b.isVaulted||A===!0)&&(m=!0);let k=null;A===!0?k=y.jsx(mn,{className:"mr-1 text-[0.9em]"}):A===!1&&(k=y.jsx(pf,{className:"mr-1 text-[0.9em]"}));const L=A1[b.rarity],j=vu[L]||vu.grey,H=b.isVaulted?`border-2 ${j.border} !bg-transparent !text-inherit opacity-70`:`${j.bg} ${j.border} border-2 text-white`,B=A===!1?"opacity-30":"";return y.jsxs("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-bold uppercase tracking-tight mr-1 mb-1 transition-colors ${H} ${B}`,children:[k,`${x}${b.isBaro?" [Baro]":""}`]},x)});if(!l.arbitrary&&l.item){const b=`https://warframe.fandom.com/wiki/${l.item.toLowerCase()}_Prime`,x=`https://warframe.market/items/${l.title.toLowerCase().split(" ").join("_")}`;i=w1[t.indexOf(l.item)%w1.length],d=[y.jsx("a",{href:b,title:"wiki",target:"_blank",rel:"noreferrer",className:"hover:opacity-70",children:y.jsx(Ko,{className:"text-gray-400"})},"wiki"),y.jsx("a",{href:x,title:"market",target:"_blank",rel:"noreferrer",className:"hover:opacity-70 ml-1",children:y.jsx(df,{className:m?"text-gray-400":"text-sky-700"})},"market")]}else if(l.arbitrary){const b=`https://warframe.market/items/${l.title.toLowerCase().split(" ").join("_")}`;d=[y.jsx("a",{href:b,title:"market",target:"_blank",rel:"noreferrer",className:"hover:opacity-70",children:y.jsx(df,{className:"text-sky-700"})},"market")]}return y.jsxs("tr",{className:`hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors ${this.state.hovered.includes(c)?"bg-gray-50":""}`,children:[y.jsx("td",{className:"py-1 px-2 align-middle",children:y.jsxs("div",{className:"flex items-center flex-wrap",children:[this.renderTypeIcon(i),y.jsx("span",{className:"mr-2",children:c}),y.jsx("span",{className:"mr-3 inline-flex items-center",children:d}),y.jsx("div",{className:"inline-flex flex-wrap items-center mt-0.5",children:v})]})}),y.jsx("td",{className:"py-1 px-2 text-right align-middle",children:y.jsx(pn,{className:"cursor-pointer text-red-600 hover:opacity-80",onClick:this.handleItemRemove(l.title)})})]},c)});return y.jsx("table",{className:"w-full border-collapse mb-4",children:y.jsx("tbody",{children:a})})}renderRelicsTable(){const e=Ra(this.props.voidDrops);if(!e.length)return null;const t={Lith:{},Meso:{},Neo:{},Axi:{},Vanguard:{},Requiem:{}};e.forEach(a=>{a.arbitrary||!a.relics||a.relics.forEach(l=>{if(!t[l.tier])return;t[l.tier][l.name]||(t[l.tier][l.name]=[]);const c={title:a.title,rarity:l.rarity,isVaulted:l.isVaulted};l.isBaro&&(c.isBaro=l.isBaro),t[l.tier][l.name].push(c)})});const i=["Lith","Meso","Neo","Axi","Vanguard","Requiem"];return y.jsxs("div",{className:"mt-8",children:[y.jsxs("div",{className:"relative flex items-center mb-6",children:[y.jsx("div",{className:"grow border-t border-gray-200"}),y.jsx("span",{className:"flex-shrink mx-4 text-gray-400 text-sm font-bold uppercase tracking-widest leading-none",children:"Required Relics"}),y.jsx("div",{className:"grow border-t border-gray-200"})]}),y.jsx("div",{className:"bg-white p-4 mb-4",children:i.map((a,l)=>ei(t[a]).length===0?null:y.jsxs(Kt.Fragment,{children:[l>0&&ei(t[i[l-1]]).length>0&&y.jsx("div",{className:"h-6"}),y.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 border-b border-gray-50 pb-1",children:a}),y.jsx("div",{className:"flex flex-wrap",children:this.renderGroupedRelicsList(t[a])})]},a))})]},"relics-container")}handleMouseOver(e){return()=>{this.setState({hovered:e})}}handleMouseOut(){return()=>{this.setState({hovered:[]})}}handleRelicClick(e){return()=>{this.props.onRelicToggle({title:e})}}renderGroupedRelicsList(e){return ei(e).sort().map(t=>{const i=e[t],a=i[0],l=t;let c=null;i.length>1&&(c=y.jsx("span",{className:"ml-1 opacity-70 font-normal",children:`x${i.length}`}));let d=null;const m=ti(this.props,["markedRelics",l,"available"]);if(m===!0?d=y.jsx(mn,{className:"mr-1 text-green-500"}):m===!1&&(d=y.jsx(pf,{className:"mr-1 text-red-600"})),a.isVaulted&&this.props.relicVisibility===Jt.SHOW_ACTIVE&&m===!1)return null;const g=a.isVaulted?null:y.jsx("a",{href:`https://wiki.warframe.com/w/${t.replace(" ","_")}`,target:"_blank",rel:"noreferrer",onClick:k=>k.stopPropagation(),className:"mr-1 hover:opacity-70 flex items-center",children:y.jsx(Ko,{className:"text-sky-700 text-[0.9em]"})}),v=A1[a.rarity],b=vu[v]||vu.grey,x=a.isVaulted?`border-2 ${b.border} !bg-transparent !text-inherit opacity-70`:`${b.bg} ${b.border} border-2 text-white`,A=m===!1?"opacity-30":"";return y.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-lg font-bold uppercase tracking-tight mr-1 mb-1 cursor-pointer transition-colors ${x} ${A}`,onClick:this.handleRelicClick(l),children:[d,g,y.jsx(sN,{className:"mr-1 opacity-70 text-[0.9em]"}),t,a.isBaro?" [Baro]":"",c]},t)})}render(){const{isLoading:e,value:t,results:i}=this.state;return y.jsxs("div",{children:[ei(this.props.voidDrops).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(nc,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing prime part name to add it to the list."})]}),y.jsxs("div",{className:"flex gap-2 mb-4",children:[y.jsxs("div",{className:"relative grow",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search prime parts...",value:t,onChange:a=>this.handleSearchChange(a,{value:a.target.value}),onKeyPress:a=>{a.key==="Enter"&&t&&this.handleResultSelect(a,{result:{title:t,arbitrary:!0}})}}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vi,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((a,l)=>y.jsx("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-0",onClick:c=>this.handleResultSelect(c,{result:a}),children:this.resultRenderer(a)},l))})]}),y.jsx("button",{onClick:this.handleVisibilityToggle(),className:`px-3 py-2 border rounded-md transition-colors font-bold flex items-center justify-center min-w-[40px] ${this.props.relicVisibility===Jt.SHOW_ALL?"border-blue-600 text-sky-700 hover:bg-blue-50":"border-red-600 text-red-600 hover:bg-red-50"}`,title:this.props.relicVisibility===Jt.SHOW_ALL?"Hide vaulted":"Show all",children:this.props.relicVisibility===Jt.SHOW_ALL?y.jsx(aN,{}):y.jsx(oN,{})})]}),this.renderItemsTable(),this.renderRelicsTable()]})}}jN.propTypes={items:D.arrayOf(D.object),voidDrops:D.object,onItemAdd:D.func.isRequired,onItemRemove:D.func.isRequired,onRelicToggle:D.func.isRequired,markedRelics:D.object,relicVisibility:D.string,onRelicVisibilityToggle:D.func.isRequired};var fv,R1;function dL(){if(R1)return fv;R1=1;var r=il(),e=$f(),t=ln(),i=r?r.isConcatSpreadable:void 0;function a(l){return t(l)||e(l)||!!(i&&l&&l[i])}return fv=a,fv}var dv,C1;function G0(){if(C1)return dv;C1=1;var r=nd(),e=dL();function t(i,a,l,c,d){var m=-1,g=i.length;for(l||(l=e),d||(d=[]);++m<g;){var v=i[m];a>0&&l(v)?a>1?t(v,a-1,l,c,d):r(d,v):c||(d[d.length]=v)}return d}return dv=t,dv}var pv,I1;function pL(){if(I1)return pv;I1=1;function r(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}return pv=r,pv}var mv,N1;function kN(){if(N1)return mv;N1=1;var r=pL(),e=Math.max;function t(i,a,l){return a=e(a===void 0?i.length-1:a,0),function(){for(var c=arguments,d=-1,m=e(c.length-a,0),g=Array(m);++d<m;)g[d]=c[a+d];d=-1;for(var v=Array(a+1);++d<a;)v[d]=c[d];return v[a]=l(g),r(i,this,v)}}return mv=t,mv}var gv,O1;function mL(){if(O1)return gv;O1=1;function r(e){return function(){return e}}return gv=r,gv}var yv,D1;function gL(){if(D1)return yv;D1=1;var r=mL(),e=gN(),t=ad(),i=e?function(a,l){return e(a,"toString",{configurable:!0,enumerable:!1,value:r(l),writable:!0})}:t;return yv=i,yv}var vv,M1;function yL(){if(M1)return vv;M1=1;var r=800,e=16,t=Date.now;function i(a){var l=0,c=0;return function(){var d=t(),m=e-(d-c);if(c=d,m>0){if(++l>=r)return arguments[0]}else l=0;return a.apply(void 0,arguments)}}return vv=i,vv}var _v,j1;function VN(){if(j1)return _v;j1=1;var r=gL(),e=yL(),t=e(r);return _v=t,_v}var bv,k1;function PN(){if(k1)return bv;k1=1;var r=ad(),e=kN(),t=VN();function i(a,l){return t(e(a,l,r),a+"")}return bv=i,bv}var Ev,V1;function LN(){if(V1)return Ev;V1=1;var r=rc(),e=sl(),t=Qf(),i=cr();function a(l,c,d){if(!i(d))return!1;var m=typeof c;return(m=="number"?e(d)&&t(c,d.length):m=="string"&&c in d)?r(d[c],l):!1}return Ev=a,Ev}var Tv,P1;function vL(){if(P1)return Tv;P1=1;var r=G0(),e=MN(),t=PN(),i=LN(),a=t(function(l,c){if(l==null)return[];var d=c.length;return d>1&&i(l,c[0],c[1])?c=[]:d>2&&i(c[0],c[1],c[2])&&(c=[c[0]]),e(l,r(c,1),[])});return Tv=a,Tv}var _L=vL();const K0=Ft(_L);class UN extends Kt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",count:this.props.count||0,modalOpen:!1},this.handleNotesChange=this.handleNotesChange.bind(this),this.handleCountChange=this.handleCountChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleNotesChange(e){this.setState({notes:e.target.value})}handleCountChange(e){const t=e.target.value;if(t===""||t===void 0)this.setState({count:0});else{const i=parseInt(t,10);!isNaN(i)&&i>=0&&this.setState({count:i})}}handleSave(){this.props.onSave(this.state.notes.trim(),this.state.count),this.handleClose()}handleOpen(){this.setState({modalOpen:!0,notes:this.props.notes||"",count:this.props.count||0})}handleClose(){this.setState({modalOpen:!1})}render(){return y.jsxs(y.Fragment,{children:[y.jsx(tc,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.url?y.jsx("a",{href:this.props.url,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:this.props.title}):this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(pn,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto",children:[this.props.category&&y.jsxs("p",{className:"mb-4 text-sm",children:[y.jsx("strong",{children:"Category:"})," ",this.props.category]}),y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"todo-count",className:"block text-sm font-bold text-gray-700 mb-1",children:"Count"}),y.jsx("input",{id:"todo-count",type:"number",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",value:this.state.count,onChange:this.handleCountChange,min:"0"})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"todo-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"todo-notes",autoFocus:!0,className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleNotesChange})]})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(mn,{})," Save"]})})]})})]})}}UN.propTypes={title:D.string.isRequired,category:D.string,url:D.string,notes:D.string,count:D.number,onSave:D.func.isRequired};const $0=r=>{if(!r||typeof r!="string")return r;const e=r.split(/(\n)/g),t=[],i=/(https?:\/\/[^\s]+)/g;return e.forEach((a,l)=>{a===`
`?t.push(y.jsx("br",{},`br-${l}`)):a!==""&&a.split(i).forEach((d,m)=>{d.match(i)?t.push(y.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"text-sky-700 hover:underline",children:d},`link-${l}-${m}`)):d!==""&&t.push(d)})}),t},_u={isLoading:!1,results:[],value:"",activeIndex:0};class qN extends Kt.Component{constructor(e){super(e),this.state=_u,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=od(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(_u)}handleKeyDown(e){const{results:t,activeIndex:i,value:a}=this.state;if(e.key==="ArrowDown"&&t.length){e.preventDefault(),this.setState({activeIndex:(i+1)%t.length});return}if(e.key==="ArrowUp"&&t.length){e.preventDefault(),this.setState({activeIndex:(i-1+t.length)%t.length});return}if(e.key==="Enter"){if(t.length&&t[i]){e.preventDefault(),this.handleResultSelect(e,{result:t[i]});return}a&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:a}),this.setState(_u))}}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return(t,i)=>{this.props.onItemUpdate(e,t,i)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t,activeIndex:0}),t.length<1){this.setState(_u);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(_u);return}const t=new RegExp(Aa(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:wa(this.props.items,i),activeIndex:0})}resultRenderer({title:e,category:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:t})]},"content")}renderTable(){const e=K0(Ra(this.props.todoItems),["category","title"]);if(!e.length)return null;const t=e.map((i,a)=>{let l=i.title;i.count&&(l=`${l} x${i.count}`);const c=i.url||(i.title?`https://wiki.warframe.com/w/${i.title.split(" ").join("_")}`:"https://wiki.warframe.com");return y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsx("a",{href:c,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:l})}),y.jsx("td",{className:"py-1 px-2 text-gray-500",children:i.category}),y.jsx("td",{className:"py-1 px-2 text-gray-500 italic text-sm",children:$0(i.notes)}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1",children:[y.jsx(UN,{title:i.title,category:i.category,url:i.url,notes:i.notes,count:i.count,onSave:this.handleItemUpdate(i.title)}),y.jsx(Sa,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(i.title)}),y.jsx(Gf,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(i.title)}),y.jsx(pn,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(i.title)})]})]},`${i.category||""}-${i.title}-${a}`)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:t})})}render(){const{isLoading:e,value:t,results:i,activeIndex:a}=this.state;return y.jsxs("div",{children:[ei(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(nc,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyDown:this.handleKeyDown}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vi,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((l,c)=>y.jsx("div",{className:`px-3 py-2 cursor-pointer border-b border-gray-100 last:border-0 ${c===a?"bg-gray-100":"hover:bg-gray-50"}`,onClick:d=>this.handleResultSelect(d,{result:l}),children:this.resultRenderer(l)},c))})]}),this.renderTable()]})}}qN.propTypes={items:D.arrayOf(D.object),todoItems:D.object,onItemAdd:D.func.isRequired,onItemRemove:D.func.isRequired,onItemIncrement:D.func.isRequired,onItemDecrement:D.func.isRequired,onItemUpdate:D.func.isRequired};class K_ extends Kt.Component{constructor(e){super(e),this.state={title:this.props.title||"",itemName:this.props.itemName||"",notes:this.props.notes||"",auraMods:this.props.auraMods||[],mods:this.props.mods||[],arcanes:this.props.arcanes||[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0,modalOpen:this.props.forceOpen||!1},this.handleTitleChange=this.handleTitleChange.bind(this),this.handleItemNameChange=this.handleItemNameChange.bind(this),this.handleNotesChange=this.handleNotesChange.bind(this),this.handleAuraModSearchChange=this.handleAuraModSearchChange.bind(this),this.handleModSearchChange=this.handleModSearchChange.bind(this),this.handleArcaneSearchChange=this.handleArcaneSearchChange.bind(this),this.handleAuraModKeyDown=this.handleAuraModKeyDown.bind(this),this.handleModKeyDown=this.handleModKeyDown.bind(this),this.handleArcaneKeyDown=this.handleArcaneKeyDown.bind(this),this.handleAddAuraMod=this.handleAddAuraMod.bind(this),this.handleRemoveAuraMod=this.handleRemoveAuraMod.bind(this),this.handleAddMod=this.handleAddMod.bind(this),this.handleRemoveMod=this.handleRemoveMod.bind(this),this.handleAddArcane=this.handleAddArcane.bind(this),this.handleRemoveArcane=this.handleRemoveArcane.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){if(e.key==="Escape")this.handleClose();else if(e.key==="Enter"){if(e.target.tagName==="TEXTAREA")e.shiftKey||(e.preventDefault(),this.handleSave());else if(e.target.tagName==="INPUT"){if(e.target.dataset.searchInput==="true")return;e.preventDefault(),this.handleSave()}}}componentDidMount(){this.state.modalOpen&&document.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleTitleChange(e){this.setState({title:e.target.value})}handleItemNameChange(e){this.setState({itemName:e.target.value})}handleNotesChange(e){this.setState({notes:e.target.value})}handleAuraModSearchChange(e){const t=e.target.value;if(this.setState({auraModSearch:t,activeAuraModIndex:0}),t.length<1){this.setState({auraModResults:[]});return}const i=new RegExp(Aa(t),"i"),a=wa(this.props.availableMods,l=>i.test(l)&&!this.state.auraMods.includes(l)).slice(0,10);this.setState({auraModResults:a})}handleModSearchChange(e){const t=e.target.value;if(this.setState({modSearch:t,activeModIndex:0}),t.length<1){this.setState({modResults:[]});return}const i=new RegExp(Aa(t),"i"),a=wa(this.props.availableMods,l=>i.test(l)&&!this.state.mods.includes(l)).slice(0,10);this.setState({modResults:a})}handleArcaneSearchChange(e){const t=e.target.value;if(this.setState({arcaneSearch:t,activeArcaneIndex:0}),t.length<1){this.setState({arcaneResults:[]});return}const i=new RegExp(Aa(t),"i"),a=wa(this.props.availableArcanes,l=>i.test(l)&&!this.state.arcanes.includes(l)).slice(0,10);this.setState({arcaneResults:a})}handleAuraModKeyDown(e){const{auraModResults:t,activeAuraModIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeAuraModIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeAuraModIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddAuraMod(t[i])))}handleModKeyDown(e){const{modResults:t,activeModIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeModIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeModIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddMod(t[i])))}handleArcaneKeyDown(e){const{arcaneResults:t,activeArcaneIndex:i}=this.state;t.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),this.setState({activeArcaneIndex:(i+1)%t.length})):e.key==="ArrowUp"?(e.preventDefault(),this.setState({activeArcaneIndex:(i-1+t.length)%t.length})):e.key==="Enter"&&t[i]&&(e.preventDefault(),this.handleAddArcane(t[i])))}handleAddAuraMod(e){this.setState(t=>({auraMods:[...t.auraMods,e],auraModSearch:"",auraModResults:[]}))}handleRemoveAuraMod(e){this.setState(t=>({auraMods:t.auraMods.filter(i=>i!==e)}))}handleAddMod(e){this.setState(t=>({mods:[...t.mods,e],modSearch:"",modResults:[]}))}handleRemoveMod(e){this.setState(t=>({mods:t.mods.filter(i=>i!==e)}))}handleAddArcane(e){this.setState(t=>({arcanes:[...t.arcanes,e],arcaneSearch:"",arcaneResults:[]}))}handleRemoveArcane(e){this.setState(t=>({arcanes:t.arcanes.filter(i=>i!==e)}))}handleSave(){this.state.title.trim()&&(this.props.onSave({id:this.props.id||`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,title:this.state.title.trim(),itemName:this.state.itemName.trim(),notes:this.state.notes.trim(),auraMods:this.state.auraMods,mods:this.state.mods,arcanes:this.state.arcanes,category:"builds"}),this.handleClose(),!this.props.id&&!this.props.title&&this.setState({title:"",itemName:"",notes:"",auraMods:[],mods:[],arcanes:[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0}))}handleOpen(){this.setState({modalOpen:!0,title:this.props.title||"",itemName:this.props.itemName||"",notes:this.props.notes||"",auraMods:this.props.auraMods||[],mods:this.props.mods||[],arcanes:this.props.arcanes||[],auraModSearch:"",modSearch:"",arcaneSearch:"",auraModResults:[],modResults:[],arcaneResults:[],activeAuraModIndex:0,activeModIndex:0,activeArcaneIndex:0})}handleClose(){this.setState({modalOpen:!1})}render(){const{trigger:e}=this.props;return y.jsxs(y.Fragment,{children:[e?Kt.cloneElement(e,{onClick:this.handleOpen}):y.jsx(tc,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left text-gray-900",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.title?y.jsxs(y.Fragment,{children:["Edit Build: ",y.jsx("span",{className:"text-sky-700",children:this.props.title}),this.props.itemName&&y.jsx("a",{href:`https://wiki.warframe.com/w/${this.props.itemName.split(" ").join("_")}`,target:"_blank",rel:"noreferrer",className:"ml-2 text-xs text-gray-400 hover:text-sky-700 font-normal align-middle",children:"(wiki)"})]}):"Add New Build"}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(pn,{className:"text-gray-400"})})]}),y.jsx("div",{className:"p-4 grow overflow-y-auto",children:y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"build-title",className:"block text-sm font-bold text-gray-700 mb-1",children:"Build Name"}),y.jsx("input",{id:"build-title",type:"text",autoFocus:!this.props.title,className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",placeholder:"e.g. Speed Run, High Strength",value:this.state.title,onChange:this.handleTitleChange})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"build-item",className:"block text-sm font-bold text-gray-700 mb-1",children:"Item"}),y.jsx("input",{id:"build-item",type:"text",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",placeholder:"e.g. Gauss, Ignis Wraith",value:this.state.itemName,onChange:this.handleItemNameChange})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Aura/Exilus Mods"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.auraMods.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-50 text-cyan-700 text-xs font-bold rounded border border-blue-100 uppercase",children:[t,y.jsx(pn,{className:"w-3 h-3 cursor-pointer hover:text-cyan-900",onClick:()=>this.handleRemoveAuraMod(t)})]},i)),this.state.auraMods.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No mods added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search aura/exilus mods to add...",value:this.state.auraModSearch,onChange:this.handleAuraModSearchChange,onKeyDown:this.handleAuraModKeyDown})}),this.state.auraModResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.auraModResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeAuraModIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddAuraMod(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(Sa,{className:`text-gray-400 ${i===this.state.activeAuraModIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Mods"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.mods.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-50 text-indigo-700 text-xs font-bold rounded border border-blue-100 uppercase",children:[t,y.jsx(pn,{className:"w-3 h-3 cursor-pointer hover:text-indigo-900",onClick:()=>this.handleRemoveMod(t)})]},i)),this.state.mods.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No mods added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search mods to add...",value:this.state.modSearch,onChange:this.handleModSearchChange,onKeyDown:this.handleModKeyDown})}),this.state.modResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.modResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeModIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddMod(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(Sa,{className:`text-gray-400 ${i===this.state.activeModIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Arcanes"}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[this.state.arcanes.map((t,i)=>y.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-50 text-purple-700 text-xs font-bold rounded border border-purple-100 uppercase",children:[t,y.jsx(pn,{className:"w-3 h-3 cursor-pointer hover:text-purple-900",onClick:()=>this.handleRemoveArcane(t)})]},i)),this.state.arcanes.length===0&&y.jsx("span",{className:"text-gray-400 italic text-xs",children:"No arcanes added"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text","data-search-input":"true",className:"grow px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all text-sm",placeholder:"Search arcanes to add...",value:this.state.arcaneSearch,onChange:this.handleArcaneSearchChange,onKeyDown:this.handleArcaneKeyDown})}),this.state.arcaneResults.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:this.state.arcaneResults.map((t,i)=>y.jsxs("div",{className:`px-3 py-1.5 cursor-pointer border-b border-gray-100 last:border-0 flex items-center justify-between group ${i===this.state.activeArcaneIndex?"bg-gray-100":"hover:bg-gray-50"}`,onClick:()=>this.handleAddArcane(t),children:[y.jsx("span",{className:"text-sm font-bold uppercase",children:t}),y.jsx(Sa,{className:`text-gray-400 ${i===this.state.activeArcaneIndex?"text-black":"group-hover:text-black"}`})]},i))})]})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"build-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"build-notes",className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none text-sm",value:this.state.notes,onChange:this.handleNotesChange})]})]})}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(mn,{})," ",this.props.title?"Update Build":"Add Build"]})})]})})]})}}K_.propTypes={id:D.string,title:D.string,itemName:D.string,notes:D.string,auraMods:D.arrayOf(D.string),mods:D.arrayOf(D.string),arcanes:D.arrayOf(D.string),availableMods:D.arrayOf(D.string),availableArcanes:D.arrayOf(D.string),onSave:D.func.isRequired,trigger:D.element,forceOpen:D.bool};const zN=({builds:r,onBuildAdd:e,onBuildRemove:t,onBuildUpdate:i,mods:a,arcanes:l})=>{const c=K0(Ra(r),["itemName","title"]),d=mf(c,v=>v.itemName||"Other"),g=ei(d).sort().map(v=>{const b=d[v],x=`https://wiki.warframe.com/w/${v.split(" ").join("_")}`;return y.jsxs(Kt.Fragment,{children:[y.jsx("tr",{className:"bg-gray-50 border-t border-b border-gray-100",children:y.jsx("td",{colSpan:"3",className:"py-1.5 px-3 font-bold text-gray-700 text-[10px] uppercase tracking-wider",children:v!=="Other"?y.jsx("a",{href:x,target:"_blank",rel:"noreferrer",className:"hover:underline",children:v}):v})}),b.map((A,k)=>{const L=A.id||A.title;return y.jsxs("tr",{className:"border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-4 align-top",children:y.jsx("div",{className:"flex flex-col",children:y.jsx(K_,{id:A.id,title:A.title,itemName:A.itemName,notes:A.notes,auraMods:A.auraMods,mods:A.mods,arcanes:A.arcanes,availableMods:a,availableArcanes:l,onSave:j=>i(L,j),trigger:y.jsx("span",{className:"text-sky-700 font-bold hover:underline cursor-pointer",children:A.title})})})}),y.jsx("td",{className:"py-1 px-2 align-top",children:y.jsxs("div",{className:"flex flex-col gap-1",children:[A.auraMods&&A.auraMods.length>0&&y.jsx("div",{className:"grid grid-cols-4 gap-1",children:[...A.auraMods||[]].map((j,H)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-cyan-800 text-[10px] font-bold rounded border border-blue-100 uppercase truncate",title:j,children:j},H))}),A.mods&&A.mods.length>0&&y.jsx("div",{className:"grid grid-cols-4 gap-1",children:[...A.mods||[]].map((j,H)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-indigo-800 text-[10px] font-bold rounded border border-blue-100 uppercase truncate",title:j,children:j},H))}),A.arcanes&&A.arcanes.length>0&&y.jsx("div",{className:"flex flex-wrap gap-1",children:A.arcanes.map((j,H)=>y.jsx("span",{className:"px-1.5 py-0.5 bg-purple-50 text-yellow-700 text-[10px] font-bold rounded border border-purple-100 uppercase",children:j},H))}),A.notes&&y.jsx("div",{className:"text-gray-500 italic text-sm",children:$0(A.notes)})]})}),y.jsx("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1 align-top",children:y.jsx(pn,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:()=>{window.confirm(`Are you sure you want to delete the build "${A.title}"?`)&&t(L)}})})]},`${L}-${k}`)})]},v)});return y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"flex justify-end",children:y.jsx(K_,{availableMods:a,availableArcanes:l,onSave:e,trigger:y.jsx("button",{className:"px-4 py-2 bg-black text-white rounded-md font-bold text-sm",children:"Add Build"})})}),c.length>0?y.jsx("div",{className:"overflow-hidden",children:y.jsx("table",{className:"w-full border-collapse bg-white",children:y.jsx("tbody",{children:g})})}):y.jsx("div",{className:"py-10 text-center text-gray-400 italic",children:'No builds added yet. Click "Add Build" to start.'})]})};zN.propTypes={builds:D.object,onBuildAdd:D.func.isRequired,onBuildRemove:D.func.isRequired,onBuildUpdate:D.func.isRequired,mods:D.arrayOf(D.string),arcanes:D.arrayOf(D.string)};class BN extends Kt.Component{renderItems(e,t,i){return y.jsx("ul",{className:"list-none p-0 m-0",children:e.map((a,l)=>this.renderItem(a,l,t,i))})}buildItemMap(e,t=new Map){return!e||!e.length||e.forEach(i=>{!i||typeof i!="object"||(i.title&&!t.has(i.title)&&t.set(i.title,i),i.key&&!t.has(i.key)&&t.set(i.key,i),i.items&&i.items.length&&this.buildItemMap(i.items,t))}),t}handleItemClick(e){return t=>{const i=typeof e=="object"&&e!==null?e.key||e.title:e;this.props.onItemClick(i),t.stopPropagation()}}handleClearClick(e){return t=>{this.props.onClear(e.map(i=>typeof i=="object"&&i!==null?i.key||i.title:i)),t.stopPropagation()}}renderLocation(e){return!e||!e.length||e===""?null:(Array.isArray(e)?e:[e]).map((i,a)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:i},a))}formatDuration(e){const t=Math.max(0,Math.floor(e/6e4)),i=t%60,a=Math.floor(t/60),l=a%24,c=Math.floor(a/24),d=[];return c&&d.push(`${c}d`),(l||c)&&d.push(`${l}h`),d.push(`${i}m`),d.join(" ")}getResetCountdown(e){if(!e||e.scheduleType)return null;const t=e.scheduleAnchorUtc||e.scheduleAnchor;if(!t||!e.interval)return null;const i=new Date(t);if(Number.isNaN(i.getTime()))return null;const a=this.parseInterval(e.interval);if(!a)return null;const l=new Date;if(l<i)return`Resets in ${this.formatDuration(i.getTime()-l.getTime())}`;const d=(l.getTime()-i.getTime())%a,m=a-d;return`Resets in ${this.formatDuration(m)}`}formatDurationVerbose(e){const t=Math.max(0,Math.floor(e/1e3)),i=t%60,a=Math.floor(t/60),l=a%60,c=Math.floor(a/60),d=c%24,m=Math.floor(c/24),g=[];return m&&g.push(`${m} ${m===1?"day":"days"}`),(d||m)&&g.push(`${d} ${d===1?"hour":"hours"}`),(l||d||m)&&g.push(`${l} ${l===1?"minute":"minutes"}`),g.push(`${i} ${i===1?"second":"seconds"}`),g.join(" ")}getScheduleInfo(e){if(!e||!e.scheduleType)return null;const t=e.scheduleAnchorUtc||e.scheduleAnchor;if(!t)return null;const i=new Date(t);if(Number.isNaN(i.getTime()))return null;const a=new Date;if(e.scheduleType==="availability-window"){const l=this.parseInterval(e.interval),c=this.parseInterval(e.duration||"48h");if(!l||!c)return null;if(a<i){const g=i.getTime()-a.getTime();return{statusText:`Will appear in ${this.formatDuration(g)}`,isPresent:!1}}const d=(a.getTime()-i.getTime())%l;if(d<c){const g=c-d;return{statusText:`Present for the next ${this.formatDuration(g)}`,isPresent:!0}}const m=l-d;return{statusText:`Will appear in ${this.formatDuration(m)}`,isPresent:!1}}if(e.scheduleType==="rotation"){const l=this.parseInterval(e.interval);if(!l||!e.rotations||!e.rotations.length)return null;if(a<i){const A=i.getTime()-a.getTime(),k=e.rotations.length,L=e.rotations[k-1];return{statusText:`${L.title}. Time left until ${e.rotations[0].title}: ${this.formatDurationVerbose(A)}`,currentRotation:L}}const c=a.getTime()-i.getTime(),d=e.rotations.length,m=Math.floor(c/l)%d,g=e.rotations[m],v=e.rotations[(m+1)%d],x=i.getTime()+(Math.floor(c/l)+1)*l-a.getTime();return{statusText:`${g.title}. Time left until ${v.title}: ${this.formatDurationVerbose(x)}`,currentRotation:g}}return null}parseInterval(e){if(!e)return null;if(typeof e=="number")return e;const t=String(e).trim().match(/^(\d+)\s*(ms|s|m|h|d|w)$/i);if(!t)return null;const i=Number(t[1]);switch(t[2].toLowerCase()){case"ms":return i;case"s":return i*1e3;case"m":return i*60*1e3;case"h":return i*60*60*1e3;case"d":return i*24*60*60*1e3;case"w":return i*7*24*60*60*1e3;default:return null}}getScheduleStatus(e){const t=this.getScheduleInfo(e);return t?t.statusText:null}isScheduleReadOnly(e){const t=this.getScheduleInfo(e);return t?t.isPresent===!1:!1}getCompletedIfIdentifiers(e){return!e||!e.completedIf?[]:Array.isArray(e.completedIf)?e.completedIf:[e.completedIf]}isItemCompleted(e,t,i=new Set){if(!e)return!1;if(e.checked)return!0;const a=this.getCompletedIfIdentifiers(e);if(!a.length||i.has(e))return!1;i.add(e);const l=a.some(c=>{const d=t.get(c);return d?this.isItemCompleted(d,t,i):!1});return i.delete(e),l}isCompletedByDependencies(e,t){const i=this.getCompletedIfIdentifiers(e);return i.length?i.some(a=>{const l=t.get(a);return l?this.isItemCompleted(l,t,new Set([e])):!1}):!1}renderItem(e,t,i,a){if(!e||e.hidden)return null;const l=e.readOnly,c=this.isCompletedByDependencies(e,a),d=e.checked||c;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(e).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const m=this.props.visibilityFilter===Jt.SHOW_ACTIVE&&d,g=typeof e=="string"||e instanceof String?e:e.title,v=!!e.items,b=d?"text-green-500":"text-gray-400",x=e.tags?e.tags.map((B,W)=>B==="missable"?y.jsx("span",{title:B,className:"text-red-600 ml-1 inline-block font-normal",children:y.jsx(Bf,{})},W):null):null,A=e.hint?y.jsxs("span",{className:"opacity-40 text-sm italic font-normal",children:[" ",e.hint]}):null,k=this.getScheduleStatus(e),L=this.getResetCountdown(e),j=this.isScheduleReadOnly(e),H=!e.items&&!(l||i||c||j);return y.jsx("li",{className:`py-0.5 rounded-sm ${m?"opacity-40":""} ${v?"mt-1.5":""}`,children:y.jsxs("div",{className:"flex items-start",children:[!(l||i||j)&&y.jsx("div",{className:`mr-1 shrink-0 flex items-center h-[1.35em] ${b} ${H?"cursor-pointer":""}`,onClick:H?this.handleItemClick(e):void 0,children:e.items?d?y.jsx(mn,{}):y.jsx(N0,{}):d?y.jsx(mn,{}):y.jsx(zf,{})}),y.jsxs("div",{className:"grow",children:[y.jsxs("div",{className:"leading-tight",children:[e.items&&e.readOnly?y.jsxs("span",{className:"underline font-bold text-gray-900 text-base",children:[g,A,x]}):i?y.jsxs("span",{className:"font-normal text-gray-700 text-sm",children:[g,A,x]}):y.jsxs("span",{className:"font-bold text-gray-900 text-base",children:[g,A,x]}),e.url?y.jsx("a",{href:e.url,title:"wiki",className:"ml-1 text-gray-500 opacity-70 hover:opacity-100 inline-block",target:"_blank",rel:"noopener noreferrer",onClick:B=>B.stopPropagation(),children:y.jsx(Ko,{})}):null,e.isVaulted?y.jsx("span",{title:"Vaulted",className:"ml-1 text-gray-500 inline-block",children:y.jsx(Ff,{})}):null,e.partOf?y.jsx("span",{title:`Part of ${e.partOf.join(", ")}`,className:"ml-1 text-gray-500 inline-block",children:y.jsx(ec,{})}):null,e.items&&e.props&&e.props.includes("clearable")?y.jsx("span",{title:"Clear",className:"ml-1 text-red-600 opacity-70 hover:opacity-100 cursor-pointer inline-block",onClick:this.handleClearClick(e.items),children:y.jsx(O0,{})}):null]}),e.description?Array.isArray(e.description)?e.description.map((B,W)=>y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:B},W)):y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:e.description}):null,L?y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:L}):null,k?y.jsx("div",{className:"text-gray-500 text-sm leading-snug",children:k}):null,this.renderLocation(e.location),e.items&&e.items.length?y.jsx("div",{className:"ml-2",children:this.renderItems(e.items,l,a)}):null]})]})},t)}render(){if(!this.props.items||!this.props.items.length)return y.jsx("div",{className:"text-gray-500 italic",children:"No items"});const e=this.buildItemMap(this.props.items);return y.jsx("div",{className:"mb-4",children:this.renderItems(this.props.items,void 0,e)})}}BN.propTypes={items:D.arrayOf(D.oneOfType([D.string,D.shape({title:D.string,url:D.string,icon:D.string,description:D.oneOfType([D.string,D.arrayOf(D.string)]),location:D.oneOfType([D.string,D.arrayOf(D.string)]),checked:D.bool,items:D.array,tags:D.arrayOf(D.string),hint:D.string,readOnly:D.bool,hidden:D.bool,key:D.string,isVaulted:D.bool,partOf:D.arrayOf(D.string),props:D.arrayOf(D.string),completedIf:D.oneOfType([D.string,D.arrayOf(D.string)]),schedule:D.string,scheduleAnchorUtc:D.string,scheduleAnchor:D.string,interval:D.oneOfType([D.string,D.number]),duration:D.oneOfType([D.string,D.number]),scheduleType:D.oneOf(["availability-window","rotation"]),rotations:D.arrayOf(D.shape({title:D.string,items:D.array}))})])),onItemClick:D.func.isRequired,onClear:D.func.isRequired,visibilityFilter:D.string,searchFilter:D.string};class FN extends Kt.Component{handleItemClick(e){return t=>{this.props.onItemClick(e),t.stopPropagation()}}renderBody(){const e=this.props.items.map((t,i)=>{const a=this.props.visibilityFilter===Jt.SHOW_ACTIVE&&t.checked;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(t).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const l=t.Tier?t.Tier[4]:null;return y.jsxs("tr",{className:`${t.checked?"bg-green-50":""} ${a?"opacity-30":""} border-b border-gray-100 last:border-0`,children:[y.jsx("td",{className:"py-1 px-3 align-middle text-gray-900",children:y.jsx("div",{className:"flex items-center gap-1.5",children:y.jsx("span",{className:"text-base leading-tight",children:t.title})})}),y.jsx("td",{className:"py-1 px-2 align-middle",children:y.jsxs("div",{className:"flex items-center gap-2",children:[t.crafting?y.jsx(ec,{className:"text-gray-400"}):null,t.canAppearInChest?y.jsx(QI,{className:"text-gray-400"}):null]})}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Popular)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Perfect Price (Popular + Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Popular)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t["Max Price (Popular + Rich)"]}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm text-center",children:l}),y.jsx("td",{className:"py-1 px-2 align-middle text-gray-600 text-sm",children:t.Culture})]},i)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:e})}render(){return y.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:y.jsxs("table",{className:"w-full border-collapse bg-white",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-3 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Name"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Props"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (P)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Perfect (P+R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (P)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Max (P+R)"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Tier"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Culture"})]})}),this.renderBody()]})})}}FN.propTypes={items:D.arrayOf(D.shape({title:D.string,"Perfect Price":D.number,"Perfect Price (Popular)":D.number,"Perfect Price (Rich)":D.number,"Perfect Price (Popular + Rich)":D.number,"Max Price":D.number,"Max Price (Popular)":D.number,"Max Price (Rich)":D.number,"Max Price (Popular + Rich)":D.number,Tier:D.string,Culture:D.string,maxStack:D.number,minChestStack:D.number,maxChestStack:D.number,canAppearInChest:D.bool,crafting:D.bool})),onItemClick:D.func.isRequired,visibilityFilter:D.string,searchFilter:D.string};class HN extends Kt.Component{formatWorkshopReason(e){const t=e.filter(l=>l!=="Workshop"),i={1:"I",2:"II",3:"III",4:"IV",5:"V"};return t.map(l=>{const c=l.match(/^(?:Level )?(\d+)(?:\s+-\s+.+)?$/);if(c){const d=parseInt(c[1],10);return i[d]||l}return l}).join(" ")}formatProjectReason(e){return e.filter(i=>i!=="Goals").map(i=>i.startsWith("Project: ")?i.substring(9):i).filter(i=>!i.match(/^.+\s+\d+\/\d+$/)).join(" ")}extractNeededItems(){const e=[],t={};if(this.props.goalsItems&&this.props.goalsChecked){const i=(a,l=[])=>{!a||!Array.isArray(a)||a.forEach(c=>{const d=[...l,c.title];if(c.key&&!Object.prototype.hasOwnProperty.call(this.props.goalsChecked,c.key)){const g=c.title.match(/^(\d+)x\s+(.+)$/),v=g?parseInt(g[1],10):1,b=g?g[2]:c.title;e.push({title:b,quantity:v,url:c.url,key:c.key}),t[b]||(t[b]={workshop:[],projects:[],quests:[]});const x=l[0],A=d.slice(0,-1);if(x==="Workshop"){const k=this.formatWorkshopReason(A),L=`${v}x ${k}`;t[b].workshop.push(L)}else if(x&&x.startsWith("Project:")){const k=this.formatProjectReason(A),L=`${v}x ${k}`;t[b].projects.push(L)}}c.items&&i(c.items,d)})};this.props.goalsItems.forEach(a=>{a.items&&i(a.items,[a.title])})}return this.props.questsItems&&this.props.questsChecked&&this.props.questsItems.forEach(i=>{const a=i.title;if(!a)return;!Object.prototype.hasOwnProperty.call(this.props.questsChecked,a)&&Array.isArray(i.required_items)&&i.required_items.forEach(c=>{if(c.title){const d=c.quantity||1;e.push({title:c.title,quantity:d,url:c.url}),t[c.title]||(t[c.title]={workshop:[],projects:[],quests:[]});const m=`${d}x ${i.title}`;t[c.title].quests.push(m)}})}),{neededItems:e,itemReasons:t}}handleKeepCheckbox(e){return()=>{const t=`resource-${e}`;this.props.onItemClick(t)}}getRarityClass(e){if(!e)return"border-gray-500";switch(e.toLowerCase()){case"common":return"border-gray-500";case"uncommon":return"border-green-500";case"rare":return"border-blue-600";case"epic":return"border-purple-600";case"legendary":return"border-orange-500";default:return"border-gray-500"}}renderCellValue(e){return Array.isArray(e)?y.jsx("ul",{className:"list-none m-0 p-0",children:e.map((t,i)=>y.jsx("li",{className:"leading-tight mb-0.5 last:mb-0",children:t},i))}):e}renderBody(){const{neededItems:e,itemReasons:t}=this.extractNeededItems(),i=new Map;e.forEach(c=>{const d=i.get(c.title)||0;i.set(c.title,d+c.quantity)});const l=[...this.props.items].sort((c,d)=>{const m=`resource-${c.title}`,g=`resource-${d.title}`,v=Object.prototype.hasOwnProperty.call(this.props.checkedList,m),b=Object.prototype.hasOwnProperty.call(this.props.checkedList,g),x=i.has(c.title),A=i.has(d.title);if(v&&!b)return-1;if(!v&&b)return 1;if(!v&&!b){if(x&&!A)return-1;if(!x&&A)return 1}return(c.title||"").localeCompare(d.title||"")}).map((c,d)=>{const m=this.props.visibilityFilter===Jt.SHOW_ACTIVE&&c.checked;if(this.props.searchFilter&&this.props.searchFilter.trim()!==""&&!JSON.stringify(c).toLowerCase().includes(this.props.searchFilter.toLowerCase()))return null;const g=this.getRarityClass(c.rarity),v=`resource-${c.title}`,b=Object.prototype.hasOwnProperty.call(this.props.checkedList,v),x=m?"opacity-30":"",A=c.icon?y.jsx("img",{src:c.icon,alt:c.title,className:"w-12 h-12 mx-auto object-contain"}):null,k=i.get(c.title)||null,L=t[c.title]||{workshop:[],projects:[],quests:[]},j=L.workshop.length>0?L.workshop:null,H=L.quests.length>0?L.quests:null,B=L.projects.length>0?L.projects:null;return y.jsxs("tr",{className:`${c.checked?"bg-green-50":""} ${x} hover:bg-black/[0.01] transition-colors border-b border-gray-100 last:border-0`,children:[y.jsx("td",{className:`py-1 px-2 text-center align-middle cursor-pointer ${b?"bg-green-500/10":""}`,onClick:this.handleKeepCheckbox(c.title),children:y.jsx("div",{className:`w-4 h-4 mx-auto border rounded-[2px] flex items-center justify-center ${b?"bg-green-500 border-green-500":"bg-white border-gray-300"}`,children:b&&y.jsx(mn,{className:"text-[10px] text-white"})})}),y.jsx("td",{className:"py-1 px-2 align-middle text-center",children:y.jsx("div",{className:"w-12 h-12 flex items-center justify-center mx-auto",children:c.url?y.jsx("a",{href:c.url,title:"wiki",target:"_blank",rel:"noopener noreferrer",className:"block w-full h-full",children:A}):A})}),y.jsx("td",{className:`py-1 px-3 align-middle font-bold text-gray-900 border-l-4 ${g}`,children:y.jsxs("div",{className:"flex items-center gap-1.5",children:[c.checked&&y.jsx(mn,{className:"text-green-500 shrink-0"}),y.jsx("span",{className:"text-base leading-tight",children:c.title})]})}),y.jsx("td",{className:`py-1 px-2 text-center align-middle font-bold text-sm ${k?"bg-orange-400/10 text-orange-700":"text-gray-400"}`,children:k||""}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.recycles)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.sell_price)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(j)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(H)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(B)}),y.jsx("td",{className:"py-1 px-2 align-top text-gray-600 leading-tight",children:this.renderCellValue(c.keep_for_crafting)})]},d)});return y.jsx("tbody",{className:"divide-y divide-gray-100",children:l})}render(){return y.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:y.jsxs("table",{className:"w-full border-collapse bg-white",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Keep"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Icon"}),y.jsx("th",{className:"py-2 px-3 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Name"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-center",children:"Needed"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Recycles"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Sell Price"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Workshop"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Quests"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Projects"}),y.jsx("th",{className:"py-2 px-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider text-left",children:"Keep for Crafting"})]})}),this.renderBody()]})})}}HN.propTypes={items:D.arrayOf(D.shape({title:D.string,icon:D.string,url:D.string,rarity:D.string,recycles:D.oneOfType([D.string,D.arrayOf(D.string)]),sell_price:D.oneOfType([D.number,D.string]),category:D.string,keep_for_crafting:D.oneOfType([D.number,D.string,D.bool,D.arrayOf(D.string)])})),checkedList:D.object.isRequired,goalsItems:D.array,goalsChecked:D.object,questsItems:D.array,questsChecked:D.object,onItemClick:D.func.isRequired,visibilityFilter:D.string,searchFilter:D.string};var xv,L1;function bL(){if(L1)return xv;L1=1;var r=Object.prototype,e=r.hasOwnProperty;function t(i,a){return i!=null&&e.call(i,a)}return xv=t,xv}var Sv,U1;function EL(){if(U1)return Sv;U1=1;var r=bL(),e=ON();function t(i,a){return i!=null&&e(i,a,r)}return Sv=t,Sv}var TL=EL();const Mu=Ft(TL);var Av,q1;function Y0(){if(q1)return Av;q1=1;function r(e,t){var i=-1,a=e.length;for(t||(t=Array(a));++i<a;)t[i]=e[i];return t}return Av=r,Av}var wv,z1;function xL(){if(z1)return wv;z1=1;var r=nd(),e=G0(),t=Y0(),i=ln();function a(){var l=arguments.length;if(!l)return[];for(var c=Array(l-1),d=arguments[0],m=l;m--;)c[m-1]=arguments[m];return r(i(d)?t(d):[d],e(c,1))}return wv=a,wv}var SL=xL();const AL=Ft(SL);class GN extends Kt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",modalOpen:!1},this.handleChange=this.handleChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleChange(e){this.setState({notes:e.target.value})}handleSave(){this.props.onSave(this.state.notes.trim()),this.handleClose()}handleOpen(){this.setState({modalOpen:!0})}handleClose(){this.setState({modalOpen:!1})}renderPlaces(){return this.props.places?y.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 mb-4 space-y-1",children:H0(this.props.places,"zone","area").map((e,t)=>y.jsx("li",{children:[e.zone,e.name].filter(i=>!!i).join(" - ")},t))}):null}render(){return y.jsxs(y.Fragment,{children:[y.jsx(tc,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(pn,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto flex flex-col",children:[this.renderPlaces(),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"ffxiv-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"ffxiv-notes",autoFocus:!0,className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleChange})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(mn,{})," Save"]})})]})})]})}}GN.propTypes={title:D.string.isRequired,places:D.array,notes:D.string,onSave:D.func.isRequired};const wL={red:"text-red-600",orange:"text-orange-500",yellow:"text-yellow-500",olive:"text-lime-600",green:"text-green-500",teal:"text-teal-500",blue:"text-sky-700",violet:"text-violet-600",purple:"text-purple-600",pink:"text-pink-500",brown:"text-amber-700",grey:"text-gray-500",black:"text-gray-900"},B1=["red","olive","yellow","green","teal","blue","orange","violet","purple","pink","brown","grey","black"],bu={isLoading:!1,results:[],value:""};class KN extends Kt.Component{constructor(e){super(e),this.state=bu,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=od(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(bu)}handleKeyPress(e){e.key==="Enter"&&this.state.value&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:this.state.value}),this.setState(bu))}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return t=>{this.props.onItemUpdate(e,t)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t}),t.length<1){this.setState(bu);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(bu);return}const t=new RegExp(Aa(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:wa(this.props.items,i)})}formatPlaces(e,t=!1){return!e||!e.length?null:t?e.slice(0,1).map(i=>[i.zone,i.name].filter(a=>!!a).join(" - ")):e.map(i=>[i.zone,i.name].filter(a=>!!a).join(" - ")).join(" /// ")}resultRenderer({title:e,places:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:this.formatPlaces(t)})]},"content")}renderTypeIcon(e){switch(e.type){case"e":return y.jsx(lN,{className:"text-red-600 text-xs align-middle mr-1",title:"Enemy"});case"m":return y.jsx(G_,{className:"text-yellow-500 text-xs align-middle mr-1",title:"Mining"});case"q":return y.jsx(G_,{className:"text-yellow-500 text-xs align-middle mr-1 opacity-50",title:"Quarrying"});case"l":return y.jsx(uN,{className:"text-green-500 text-xs align-middle mr-1",title:"Logging"});case"h":return y.jsx(cN,{className:"text-green-500 text-xs align-middle mr-1",title:"Harvesting"});case"f":return y.jsx(fN,{className:"text-sky-700 text-xs align-middle mr-1",title:"Fish"});default:return null}}renderTable(){const e=Ra(this.props.todoItems);if(!e.length)return null;const t=[];e.forEach(c=>{const d=Mu(c,"places.0.zone")?ti(c,"places.0.zone"):ti(c,"notes");t.includes(d)||t.push(d)});let i=[];const a=mf(e,"places.0.area");ei(a).sort().forEach(c=>{const d=a[c],m=mf(d,"places.0.zone");ei(m).sort().forEach(g=>{const v=m[g];i=AL(i,H0(v,"places.0.name"))})});const l=i.map(c=>{let d=c.title;const m=Mu(c,"places.0.zone")?ti(c,"places.0.zone"):ti(c,"notes"),g=B1[t.indexOf(m)%B1.length],v=y.jsx(hN,{className:`${wL[g]||"text-gray-400"} align-middle mr-1`});c.count&&(d=`${d} x${c.count}`);const b=`https://ffxiv.gamerescape.com/wiki/${c.title.split(" ").join("_")}`;let x;return c.places&&c.notes&&c.notes!==""?x=y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[v,this.formatPlaces(c.places,!0)]}),y.jsx("div",{className:"text-gray-500 text-xs italic",children:c.notes})]}):c.places?x=y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[v,this.formatPlaces(c.places,!0)]}):x=y.jsxs("div",{className:"text-gray-500 text-xs flex items-center",children:[v,c.notes]}),y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"shrink-0",children:this.renderTypeIcon(c)}),y.jsxs("div",{className:"ml-1",children:[y.jsx("a",{href:b,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline font-bold leading-tight block",children:d}),x]})]})}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1 align-top",children:[y.jsx(GN,{title:c.title,places:c.places,notes:c.notes,onSave:this.handleItemUpdate(c.title)}),y.jsx(Sa,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(c.title)}),y.jsx(Gf,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(c.title)}),y.jsx(pn,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(c.title)})]})]},d)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:l})})}render(){const{isLoading:e,value:t,results:i}=this.state;return y.jsxs("div",{children:[ei(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(nc,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item or enemy name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyPress:this.handleKeyPress}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vi,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((a,l)=>y.jsx("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-0",onClick:c=>this.handleResultSelect(c,{result:a}),children:this.resultRenderer(a)},l))})]}),this.renderTable()]})}}KN.propTypes={items:D.arrayOf(D.object),todoItems:D.object,onItemAdd:D.func.isRequired,onItemRemove:D.func.isRequired,onItemIncrement:D.func.isRequired,onItemDecrement:D.func.isRequired,onItemUpdate:D.func.isRequired};class $N extends Kt.Component{constructor(e){super(e),this.state={notes:this.props.notes?this.props.notes:"",count:this.props.count||0,modalOpen:!1},this.handleNotesChange=this.handleNotesChange.bind(this),this.handleCountChange=this.handleCountChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.key==="Escape"?this.handleClose():e.key==="Enter"&&(e.target.tagName==="TEXTAREA"?e.shiftKey||(e.preventDefault(),this.handleSave()):e.target.tagName==="INPUT"&&(e.preventDefault(),this.handleSave()))}componentDidUpdate(e,t){this.state.modalOpen&&!t.modalOpen?document.addEventListener("keydown",this.handleKeyDown):!this.state.modalOpen&&t.modalOpen&&document.removeEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}handleNotesChange(e){this.setState({notes:e.target.value})}handleCountChange(e){const t=e.target.value;if(t===""||t===void 0)this.setState({count:0});else{const i=parseInt(t,10);!isNaN(i)&&i>=0&&this.setState({count:i})}}handleSave(){this.props.onSave(this.state.notes.trim(),this.state.count),this.handleClose()}handleOpen(){this.setState({modalOpen:!0,notes:this.props.notes||"",count:this.props.count||0})}handleClose(){this.setState({modalOpen:!1})}render(){return y.jsxs(y.Fragment,{children:[y.jsx(tc,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:this.handleOpen}),this.state.modalOpen&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-11/12 md:w-3/4 max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col text-left",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-none",children:this.props.url?y.jsx("a",{href:this.props.url,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:this.props.title}):this.props.title}),y.jsx("button",{onClick:this.handleClose,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(pn,{className:"text-gray-400"})})]}),y.jsxs("div",{className:"p-4 grow overflow-y-auto",children:[this.props.category&&y.jsxs("p",{className:"mb-4 text-sm",children:[y.jsx("strong",{children:"Category:"})," ",this.props.category]}),y.jsxs("div",{className:"space-y-4 flex flex-col",children:[y.jsxs("div",{className:"shrink-0",children:[y.jsx("label",{htmlFor:"todo-count",className:"block text-sm font-bold text-gray-700 mb-1",children:"Count"}),y.jsx("input",{id:"todo-count",type:"number",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all",value:this.state.count,onChange:this.handleCountChange,min:"0"})]}),y.jsxs("div",{className:"flex flex-col min-h-0",children:[y.jsx("label",{htmlFor:"todo-notes",className:"block text-sm font-bold text-gray-700 mb-1",children:"Notes"}),y.jsx("textarea",{id:"todo-notes",autoFocus:!0,className:"w-full h-32 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-1 focus:ring-black focus:border-black outline-none transition-all resize-none",value:this.state.notes,onChange:this.handleNotesChange})]})]})]}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsxs("button",{onClick:this.handleSave,className:"flex items-center gap-1.5 px-4 py-2 bg-green-500 text-white rounded-md hover:opacity-90 font-bold shadow-sm",children:[y.jsx(mn,{})," Save"]})})]})})]})}}$N.propTypes={title:D.string.isRequired,category:D.string,url:D.string,notes:D.string,count:D.number,onSave:D.func.isRequired};const Eu={isLoading:!1,results:[],value:"",activeIndex:0},F1="https://wiki.avakot.org/";class YN extends Kt.Component{constructor(e){super(e),this.state=Eu,this.handleResultSelect=this.handleResultSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleItemRemove=this.handleItemRemove.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.resultRenderer=this.resultRenderer.bind(this),this.performSearch=this.performSearch.bind(this),this.debouncedSearch=od(this.performSearch,300)}handleResultSelect(e,{result:t}){this.debouncedSearch.cancel(),this.props.onItemAdd(t),this.setState(Eu)}handleKeyDown(e){const{results:t,activeIndex:i,value:a}=this.state;if(e.key==="ArrowDown"&&t.length){e.preventDefault(),this.setState({activeIndex:(i+1)%t.length});return}if(e.key==="ArrowUp"&&t.length){e.preventDefault(),this.setState({activeIndex:(i-1+t.length)%t.length});return}if(e.key==="Enter"){if(t.length&&t[i]){e.preventDefault(),this.handleResultSelect(e,{result:t[i]});return}a&&(this.debouncedSearch.cancel(),this.props.onItemAdd({title:a}),this.setState(Eu))}}handleItemRemove(e){return()=>{this.props.onItemRemove(e)}}handleItemIncrement(e){return()=>{this.props.onItemIncrement(e)}}handleItemDecrement(e){return()=>{this.props.onItemDecrement(e)}}handleItemUpdate(e){return(t,i)=>{this.props.onItemUpdate(e,t,i)}}handleSearchChange(e){const t=e.target.value;if(this.setState({isLoading:!0,value:t,activeIndex:0}),t.length<1){this.setState(Eu);return}this.debouncedSearch()}performSearch(){const{value:e}=this.state;if(e.length<1){this.setState(Eu);return}const t=new RegExp(Aa(e),"i"),i=a=>t.test(a.title);this.setState({isLoading:!1,results:wa(this.props.items,i),activeIndex:0})}resultRenderer({title:e,category:t}){return y.jsxs("div",{children:[e&&y.jsx("div",{className:"font-bold text-gray-900 text-base",children:e}),t&&y.jsx("div",{className:"text-sm text-gray-500",children:t})]},"content")}renderTable(){const e=K0(Ra(this.props.todoItems),["category","title"]);if(!e.length)return null;const t=e.map((i,a)=>{let l=i.title;i.count&&(l=`${l} x${i.count}`);const c=i.url||(i.title?`${F1}${encodeURIComponent(i.title.replace(/\s+/g,"_"))}`:F1);return y.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100 last:border-0 transition-colors",children:[y.jsx("td",{className:"py-1 px-2",children:y.jsx("a",{href:c,target:"_blank",rel:"noreferrer",className:"text-sky-700 hover:underline",children:l})}),y.jsx("td",{className:"py-1 px-2 text-gray-500",children:i.category}),y.jsx("td",{className:"py-1 px-2 text-gray-500 italic text-sm",children:$0(i.notes)}),y.jsxs("td",{className:"py-1 px-2 text-right whitespace-nowrap space-x-1",children:[y.jsx($N,{title:i.title,category:i.category,url:i.url,notes:i.notes,count:i.count,onSave:this.handleItemUpdate(i.title)}),y.jsx(Sa,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemIncrement(i.title)}),y.jsx(Gf,{className:"cursor-pointer text-gray-400 hover:text-gray-600 transition-colors inline-block align-middle",onClick:this.handleItemDecrement(i.title)}),y.jsx(pn,{className:"cursor-pointer text-red-600 hover:opacity-80 inline-block align-middle",onClick:this.handleItemRemove(i.title)})]})]},`${i.category||""}-${i.title}-${a}`)});return y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:t})})}render(){const{isLoading:e,value:t,results:i,activeIndex:a}=this.state;return y.jsxs("div",{children:[ei(this.props.todoItems).length?null:y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-700 font-bold",children:[y.jsx(nc,{className:"text-yellow-500"}),y.jsx("span",{children:"Start typing item name to add it to the list or add arbitrary item by typing it and pressing Enter."})]}),y.jsxs("div",{className:"relative w-full mb-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-transparent border-b border-gray-200 focus:border-black outline-none transition-colors text-base",placeholder:"Search items...",value:t,onChange:this.handleSearchChange,onKeyDown:this.handleKeyDown}),e&&y.jsx("div",{className:"absolute right-2 top-2",children:y.jsx(Vi,{className:"animate-spin text-gray-400"})})]}),i.length>0&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((l,c)=>y.jsx("div",{className:`px-3 py-2 cursor-pointer border-b border-gray-100 last:border-0 ${c===a?"bg-gray-100":"hover:bg-gray-50"}`,onClick:d=>this.handleResultSelect(d,{result:l}),children:this.resultRenderer(l)},c))})]}),this.renderTable()]})}}YN.propTypes={items:D.arrayOf(D.object),todoItems:D.object,onItemAdd:D.func.isRequired,onItemRemove:D.func.isRequired,onItemIncrement:D.func.isRequired,onItemDecrement:D.func.isRequired,onItemUpdate:D.func.isRequired};var Rv,H1;function RL(){if(H1)return Rv;H1=1;var r=Pa(),e=ln(),t=li(),i="[object String]";function a(l){return typeof l=="string"||!e(l)&&t(l)&&r(l)==i}return Rv=a,Rv}var CL=RL();const xs=Ft(CL);var Cv,G1;function Q0(){if(G1)return Cv;G1=1;var r=Kf(),e=rc(),t=Object.prototype,i=t.hasOwnProperty;function a(l,c,d){var m=l[c];(!(i.call(l,c)&&e(m,d))||d===void 0&&!(c in l))&&r(l,c,d)}return Cv=a,Cv}var Iv,K1;function IL(){if(K1)return Iv;K1=1;var r=Q0(),e=sc(),t=Qf(),i=cr(),a=al();function l(c,d,m,g){if(!i(c))return c;d=e(d,c);for(var v=-1,b=d.length,x=b-1,A=c;A!=null&&++v<b;){var k=a(d[v]),L=m;if(k==="__proto__"||k==="constructor"||k==="prototype")return c;if(v!=x){var j=A[k];L=g?g(j,k,A):void 0,L===void 0&&(L=i(j)?j:t(d[v+1])?[]:{})}r(A,k,L),A=A[k]}return c}return Iv=l,Iv}var Nv,$1;function NL(){if($1)return Nv;$1=1;var r=IL();function e(t,i,a){return t==null?t:r(t,i,a)}return Nv=e,Nv}var OL=NL();const ba=Ft(OL),DL=r=>{if(!r)return null;if(typeof r=="number")return r;const e=String(r).trim().match(/^(\d+)\s*(ms|s|m|h|d|w)$/i);if(!e)return null;const t=Number(e[1]);switch(e[2].toLowerCase()){case"ms":return t;case"s":return t*1e3;case"m":return t*60*1e3;case"h":return t*60*60*1e3;case"d":return t*24*60*60*1e3;case"w":return t*7*24*60*60*1e3;default:return null}},ML=(r,e)=>{let t=e?.anchorMs??null,i=e?.intervalMs??null;const a=r.scheduleAnchorUtc||r.scheduleAnchor;if(a){const l=Date.parse(a);Number.isNaN(l)||(t=l)}if(r.interval){const l=DL(r.interval);l&&(i=l)}return{anchorMs:t,intervalMs:i}},QN=(r,e=null,t=new Map)=>(Array.isArray(r)&&r.forEach(i=>{if(xs(i)){e?.anchorMs&&e?.intervalMs&&t.set(i,e);return}if(!i)return;const a=ML(i,e);if(Array.isArray(i.items)&&i.items.length){QN(i.items,a,t);return}if(a?.anchorMs&&a?.intervalMs){const c=i.key||i.title;c&&t.set(c,a)}}),t),jL=(r,e)=>{if(!r)return{filteredChecked:r,expiredKeys:[]};if(!e||!e.size)return{filteredChecked:r,expiredKeys:[]};const t={},i=[],a=Date.now();return Object.keys(r).forEach(l=>{const c=r[l],d=e.get(l);if(!d||!Number.isFinite(d.anchorMs)||!Number.isFinite(d.intervalMs)){t[l]=c;return}if(typeof c!="number"){t[l]=c;return}if(d.intervalMs<=0){t[l]=c;return}const m=c-d.anchorMs,g=m>=0?Math.floor(m/d.intervalMs):-1,v=a-d.anchorMs,b=v>=0?Math.floor(v/d.intervalMs):-1;g===b?t[l]=c:i.push(l)}),{filteredChecked:t,expiredKeys:i}},XN=({configs:r})=>{const{gameName:e}=lk(),t=T0(),i=uP(),[a,l]=F.useState(null),[c,d]=F.useState(!0),m=va(I=>I.gameConfig),g=va(I=>I.visibilityFilter),v=va(I=>I.relicVisibility),b=va(I=>I.searchFilter),x=va(I=>I.todoItems),A=va(I=>I.voidDrops),k=va(I=>I.markedRelics),j=r.find(I=>I.name===e)?.format??"yaml";F.useEffect(()=>{d(!0),BI(Object.assign({"../game-configs/arcraiders.yaml":()=>Be(()=>import("./arcraiders-B55yQVJx.js"),[]),"../game-configs/d2.yaml":()=>Be(()=>import("./d2-BjSTgg9v.js"),[]),"../game-configs/demonsouls.yaml":()=>Be(()=>import("./demonsouls-C91dXxDH.js"),[]),"../game-configs/desperadosiii.yaml":()=>Be(()=>import("./desperadosiii-DUwKvpm_.js"),[]),"../game-configs/eldenring.yaml":()=>Be(()=>import("./eldenring-CAX0gqaT.js"),[]),"../game-configs/ff14.yaml":()=>Be(()=>import("./ff14-nq4HI0FR.js"),[]),"../game-configs/ff7.yaml":()=>Be(()=>import("./ff7-CYGlgb_3.js"),[]),"../game-configs/hades.yaml":()=>Be(()=>import("./hades-BkYqhHey.js"),[]),"../game-configs/lordsofthefallen.yaml":()=>Be(()=>import("./lordsofthefallen-vi3erB2s.js"),[]),"../game-configs/moonlighter.yaml":()=>Be(()=>import("./moonlighter-DWWSqXAQ.js"),[]),"../game-configs/nioh2.yaml":()=>Be(()=>import("./nioh2-CN3uolYz.js"),[]),"../game-configs/remnant.yaml":()=>Be(()=>import("./remnant-EWC1nFV0.js"),[]),"../game-configs/remnant2.yaml":()=>Be(()=>import("./remnant2-Drru-4q0.js"),[]),"../game-configs/riskofrain2.yaml":()=>Be(()=>import("./riskofrain2-Du4jsvq1.js"),[]),"../game-configs/seaofthieves.yaml":()=>Be(()=>import("./seaofthieves-DDa2AQaY.js"),[]),"../game-configs/shadowgambit.yaml":()=>Be(()=>import("./shadowgambit-Cy1gMF9x.js"),[]),"../game-configs/soulframe.yaml":()=>Be(()=>import("./soulframe-BUEpWpF6.js"),[]),"../game-configs/warframe.yaml":()=>Be(()=>import("./warframe-Ctdy00w_.js"),[])}),`../game-configs/${e}.${j}`,3).then(I=>{l(I.default),d(!1)}).catch(I=>{console.error("Failed to load config",I),d(!1),l(null)})},[e,j]);const H=F.useMemo(()=>a?.renderer?Object.keys(a.renderer).filter(I=>a.renderer[I]==="warframe-resets"):[],[a]),B=F.useMemo(()=>{const I={};return a?.categories&&H.forEach(U=>{I[U]=QN(a.categories[U])}),I},[a,H]),W=F.useMemo(()=>{const I={};return H.forEach(U=>{const ae=ti(m,[e,U]);if(!ae)return;const se=B[U],{filteredChecked:he,expiredKeys:fe}=jL(ae,se);I[U]={filteredChecked:he,expiredKeys:fe}}),I},[m,e,H,B]);F.useEffect(()=>{H.forEach(I=>{const U=W[I];U?.expiredKeys?.length&&i(GS(e,I,U.expiredKeys))})},[i,e,H,W]),F.useEffect(()=>{const I=U=>{if(U.key>="1"&&U.key<="9"){if(U.target.tagName==="INPUT"||U.target.tagName==="TEXTAREA"||U.metaKey||U.ctrlKey)return;U.preventDefault();const ae=parseInt(U.key)-1;if(a&&a.categories){const se=Object.getOwnPropertyNames(a.categories);if(ae<se.length){const he=se[ae];t(`/${e}/${he}`)}}}};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[a,e,t]);const oe=F.useCallback(I=>U=>{i(fP(e,I,U))},[i,e]),ue=F.useCallback(I=>U=>{i(GS(e,I,U))},[i,e]),le=F.useCallback(I=>U=>{i(pP(e,I,U))},[i,e]),C=F.useCallback(I=>U=>{i(yP(e,I,U))},[i,e]),R=F.useCallback(I=>U=>{i(gP(e,I,U))},[i,e]),O=F.useCallback(I=>U=>{i(_P(e,I,U))},[i,e]),V=F.useCallback(I=>U=>{i(mP(e,I,U))},[i,e]),M=F.useCallback(I=>U=>{i(vP(e,I,U))},[i,e]),q=F.useCallback(I=>(U,ae)=>{i(xP(e,I,U,ae))},[i,e]),N=F.useCallback(I=>U=>{i(bP(e,I,U))},[i,e]),Se=F.useCallback(I=>U=>{i(EP(e,I,U))},[i,e]),Ce=F.useCallback(I=>(U,ae,se)=>{i(TP(e,I,U,ae,se))},[i,e]),Z=F.useCallback((I,U,ae)=>{const se=I.map(fe=>xs(fe)?fe:{...fe});let he=!0;return se.forEach((fe,_e)=>{let be;if(xs(fe))be=Object.prototype.hasOwnProperty.call(U,fe),ba(se,_e,{title:fe,checked:be});else{const we=fe.key||fe.title;be=Object.prototype.hasOwnProperty.call(U,we),ba(se,[_e,"checked"],be)}if(fe.items){const we=Z(fe.items,U,ae);ba(se,[_e,"items"],we.items),we.allChecked&&(be=!0,ba(se,[_e,"checked"],!0))}else ae.total++,be&&ae.checked++;be||(he=!1)}),{items:se,allChecked:he,counter:ae}},[]),ce=(I,U,ae)=>{if(a.renderer&&a.renderer[U]==="warframe")return y.jsx(DN,{items:I,onItemClick:oe(U),visibilityFilter:g,searchFilter:b});if(a.renderer&&a.renderer[U]==="ff14-todo"){const se={},he=`${e}-`;return Object.keys(x).forEach(fe=>{fe.startsWith(he)&&(se[fe]=x[fe])}),y.jsx(KN,{items:I,todoItems:se,onItemAdd:le(U),onItemRemove:C(U),onItemIncrement:N(U),onItemDecrement:Se(U),onItemUpdate:Ce(U)})}else{if(a.renderer&&a.renderer[U]==="moonlighter")return y.jsx(FN,{items:I,onItemClick:oe(U),visibilityFilter:g,searchFilter:b});if(a.renderer&&a.renderer[U]==="arcraiders"){const se=ti(m,[e,"Goals"]),he={total:0,checked:0};let fe=null;a.categories.Goals&&se?fe=Z(a.categories.Goals,se,he).items:a.categories.Goals&&(fe=a.categories.Goals);const _e=ti(m,[e,"quests"]);let be=null;return a.categories.quests&&(be=a.categories.quests),y.jsx(HN,{items:I,checkedList:ae||{},goalsItems:fe,goalsChecked:se||{},questsItems:be,questsChecked:_e||{},onItemClick:oe(U),visibilityFilter:g,searchFilter:b})}else{if(a.renderer&&a.renderer[U]==="void-planner")return y.jsx(jN,{items:I,voidDrops:A,onItemAdd:R(U),onItemRemove:O(U),onRelicToggle:se=>i(dP(se)),markedRelics:k,onRelicVisibilityToggle:se=>i(wP(se)),relicVisibility:v});if(a.renderer&&a.renderer[U]==="warframe-todo"){const se=["warframes","primary","secondary","melee","companions","archwing","arcanes","mods"],he=[];se.forEach(be=>{const we=a.categories[be]||a.hidden_categories&&a.hidden_categories[be];Array.isArray(we)&&we.forEach(et=>{be==="warframes"?he.push({title:et.title,url:et.url,category:be}):Array.isArray(et.items)?et.items.forEach(yn=>{he.push({title:xs(yn)?yn:yn.title,url:xs(yn)?"":yn.url,category:be})}):et.title&&he.push({title:et.title,url:et.url,category:be})})});const fe={},_e=`${e}-`;return Object.keys(x).forEach(be=>{be.startsWith(_e)&&(fe[be]=x[be])}),y.jsx(qN,{items:he,todoItems:fe,onItemAdd:le(U),onItemRemove:C(U),onItemIncrement:N(U),onItemDecrement:Se(U),onItemUpdate:Ce(U)})}else if(a.renderer&&a.renderer[U]==="soulframe-todo"){const se=[],he=(be,we)=>{be.forEach(et=>{if(xs(et)){se.push({title:et,url:"",category:we});return}if(et){if(Array.isArray(et.items)){he(et.items,we);return}et.title&&se.push({title:et.title,url:et.url,category:we})}})};Object.keys(a.categories||{}).forEach(be=>{if(be===U)return;const we=a.categories[be];Array.isArray(we)&&he(we,be)});const fe={},_e=`${e}-`;return Object.keys(x).forEach(be=>{be.startsWith(_e)&&(fe[be]=x[be])}),y.jsx(YN,{items:se,todoItems:fe,onItemAdd:le(U),onItemRemove:C(U),onItemIncrement:N(U),onItemDecrement:Se(U),onItemUpdate:Ce(U)})}else if(a.renderer&&a.renderer[U]==="warframe-builds"){const se=[],he=[];return a.hidden_categories&&(Array.isArray(a.hidden_categories.mods)&&a.hidden_categories.mods.forEach(fe=>{Array.isArray(fe.items)&&fe.items.forEach(_e=>{se.push(xs(_e)?_e:_e.title)})}),Array.isArray(a.hidden_categories.arcanes)&&a.hidden_categories.arcanes.forEach(fe=>{Array.isArray(fe.items)&&fe.items.forEach(_e=>{he.push(xs(_e)?_e:_e.title)})})),y.jsx(zN,{builds:ae||{},onBuildAdd:V(U),onBuildRemove:M(U),onBuildUpdate:q(U),mods:se,arcanes:he})}else return a.renderer&&a.renderer[U]==="warframe-resets"?y.jsx(BN,{items:I,onItemClick:oe(U),onClear:ue(U),visibilityFilter:g,searchFilter:b}):y.jsx(dN,{items:I,onItemClick:oe(U),onClear:ue(U),visibilityFilter:g,searchFilter:b})}}};if(c)return y.jsxs("div",{className:"flex items-center justify-center py-20 text-gray-500",children:[y.jsx(Vi,{className:"mr-3"}),y.jsx("span",{children:"Loading config..."})]});if(!a||!a.categories)return y.jsx("div",{children:"Empty config."});const ge=[],je=[];let Ve="";return Object.getOwnPropertyNames(a.categories).forEach(I=>{Ve||(Ve=I);let U=ti(m,[e,I]);const ae=W[I];ae?.filteredChecked&&(U=ae.filteredChecked);let se;const he={total:0,checked:0};U?se=Z(a.categories[I],U,he).items:se=a.categories[I];const fe=he.total&&he.checked?(he.checked/he.total*100).toFixed(0):null,_e=a.options&&a.options[I]==="quantity_progress",be=he.total&&he.checked?_e?` ${he.checked}/${he.total}`:` ${fe} %`:null;ge.push(y.jsxs(Bu,{to:`/${e}/${I}`,className:"px-2.5 py-1 mr-1 border-b-[2px] border-transparent hover:text-gray-900 hover:border-gray-300 transition-colors [&.active]:border-black [&.active]:font-bold text-gray-600 flex items-baseline text-base",children:[I.charAt(0).toUpperCase()+I.slice(1),y.jsx("span",{className:"ml-1 text-[0.85em] text-gray-400 font-normal",children:be})]},I)),je.push(y.jsx(xa,{path:I,element:ce(se,I,U)},I))}),[y.jsx("div",{className:"flex flex-wrap border-b border-gray-200 mb-2 list-none px-0 py-1",children:ge},"menu"),y.jsxs(VI,{children:[y.jsx(xa,{index:!0,element:y.jsx(U_,{to:`/${e}/${Ve}`,replace:!0})}),je,y.jsx(xa,{path:"*",element:y.jsx(U_,{to:`/${e}/${Ve}`,replace:!0})})]},"switch")]};XN.propTypes={configs:D.arrayOf(D.shape({name:D.string.isRequired,title:D.string.isRequired,format:D.string})).isRequired};const kL=r=>BI(Object.assign({"../game-configs/arcraiders.yaml":()=>Be(()=>import("./arcraiders-B55yQVJx.js"),[]),"../game-configs/d2.yaml":()=>Be(()=>import("./d2-BjSTgg9v.js"),[]),"../game-configs/demonsouls.yaml":()=>Be(()=>import("./demonsouls-C91dXxDH.js"),[]),"../game-configs/desperadosiii.yaml":()=>Be(()=>import("./desperadosiii-DUwKvpm_.js"),[]),"../game-configs/eldenring.yaml":()=>Be(()=>import("./eldenring-CAX0gqaT.js"),[]),"../game-configs/ff14.yaml":()=>Be(()=>import("./ff14-nq4HI0FR.js"),[]),"../game-configs/ff7.yaml":()=>Be(()=>import("./ff7-CYGlgb_3.js"),[]),"../game-configs/hades.yaml":()=>Be(()=>import("./hades-BkYqhHey.js"),[]),"../game-configs/lordsofthefallen.yaml":()=>Be(()=>import("./lordsofthefallen-vi3erB2s.js"),[]),"../game-configs/moonlighter.yaml":()=>Be(()=>import("./moonlighter-DWWSqXAQ.js"),[]),"../game-configs/nioh2.yaml":()=>Be(()=>import("./nioh2-CN3uolYz.js"),[]),"../game-configs/remnant.yaml":()=>Be(()=>import("./remnant-EWC1nFV0.js"),[]),"../game-configs/remnant2.yaml":()=>Be(()=>import("./remnant2-Drru-4q0.js"),[]),"../game-configs/riskofrain2.yaml":()=>Be(()=>import("./riskofrain2-Du4jsvq1.js"),[]),"../game-configs/seaofthieves.yaml":()=>Be(()=>import("./seaofthieves-DDa2AQaY.js"),[]),"../game-configs/shadowgambit.yaml":()=>Be(()=>import("./shadowgambit-Cy1gMF9x.js"),[]),"../game-configs/soulframe.yaml":()=>Be(()=>import("./soulframe-BUEpWpF6.js"),[]),"../game-configs/warframe.yaml":()=>Be(()=>import("./warframe-Ctdy00w_.js"),[])}),`../game-configs/${r}.yaml`,3).then(e=>e.default),VL=()=>{const[r,e]=F.useState("loading...");return F.useEffect(()=>{kL("warframe").then(t=>{e(t.dateUpdated)})},[]),y.jsxs("div",{className:"max-w-3xl mx-auto px-4 mt-4 text-base leading-relaxed text-gray-800",children:[y.jsxs("p",{className:"mb-4",children:["This site is purely client-side, everything is hosted on free GitHub pages. Your progress is saved in the cloud when you sign in, or stored locally in ",y.jsx("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage",className:"text-sky-700 hover:underline",children:"browser local storage"})," when signed out."]}),y.jsx("p",{className:"mb-4",children:'Data is persistent and can be synced across devices when signed in. You can also download/upload your state via the top nav menu or directly from the browser console (Application tab, look for "state" variable).'}),y.jsxs("p",{className:"mb-8 border-b border-gray-100 pb-4",children:["If you have any suggestions or find any mistakes: email me ",y.jsx("a",{href:"mailto:poehartgroove@gmail.com",className:"text-sky-700 hover:underline",children:"poehartgroove@gmail.com"}),"."]}),y.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-6 mb-4",children:"Data Sources:"}),y.jsxs("ul",{className:"list-disc list-outside ml-5 space-y-4 text-sm",children:[y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Arc Raiders:"})," Data compiled from official sources and community wikis."]})}),y.jsxs("li",{children:[y.jsxs("div",{children:[y.jsx("strong",{children:"Warframe:"})," Data sources: ",y.jsx("a",{href:"https://wf.snekw.com/",className:"text-sky-700 hover:underline",children:"wf.snekw.com"}),", "," ",y.jsx("a",{href:"https://warframe-web-assets.nyc3.cdn.digitaloceanspaces.com/uploads/cms/hnfvc0o3jnfvc873njb03enrf56.html",className:"text-sky-700 hover:underline",children:"Drop tables"}),", and "," ",y.jsx("a",{href:"https://github.com/WFCD/warframe-items",className:"text-sky-700 hover:underline",children:"WFCD/warframe-items"})]}),y.jsxs("div",{className:"text-gray-500 italic mt-1 text-xs",children:["Last update date: ",r]})]}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Remnant: From the Ashes:"})," ",y.jsx("a",{href:"https://remnantfromtheashes.wiki.fextralife.com/Remnant+From+The+Ashes+Wiki",className:"text-sky-700 hover:underline",children:"Remnant From The Ashes Wiki"})]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Remnant 2:"})," Data taken from ",y.jsx("a",{href:"https://remnant2.wiki.fextralife.com/Remnant+2+Wiki",className:"text-sky-700 hover:underline",children:"Remnant 2 Wiki"})," and community guides."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Nioh 2:"})," Smithing texts and arts taken from this ",y.jsx("a",{href:"https://docs.google.com/document/d/1dCPVlyB7avz7yJPzST4_JBSsCTLPaZFm97QwDzTiiu8/edit#heading=h.34si98irfbct",className:"text-sky-700 hover:underline",children:"Google doc"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Final Fantasy VII Remake:"})," Data taken from ",y.jsx("a",{href:"https://www.powerpyx.com/final-fantasy-vii-remake-wiki-strategy-guide/",className:"text-sky-700 hover:underline",children:"PowerPyx"})," and ",y.jsx("a",{href:"https://finalfantasy7remake.wiki.fextralife.com/Final+Fantasy+VII+Remake+Wiki",className:"text-sky-700 hover:underline",children:"Final Fantasy VII Remake Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Final Fantasy XIV:"})," Data taken from ",y.jsx("a",{href:"https://xivapi.com/",className:"text-sky-700 hover:underline",children:"XIVAPI"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Desperados III:"})," Guide taken from ",y.jsx("a",{href:"https://steamcommunity.com/sharedfiles/filedetails/?id=2133857369",className:"text-sky-700 hover:underline",children:"All Badges + Mission-by-Mission Achievements Guide by MMOtte"}),", ",y.jsx("a",{href:"https://psnprofiles.com/trophies/10788-desperados-iii",className:"text-sky-700 hover:underline",children:"psnprofiles"}),", and ",y.jsx("a",{href:"https://www.trueachievements.com/game/Desperados-III/achievements",className:"text-sky-700 hover:underline",children:"TrueAchievements"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Hades:"})," Data compiled from ",y.jsx("a",{href:"https://hades.fandom.com/wiki/Hades_Wiki",className:"text-sky-700 hover:underline",children:"Hades Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Risk of Rain 2:"})," Data compiled from ",y.jsx("a",{href:"https://riskofrain2.fandom.com/wiki/Risk_of_Rain_2_Wiki",className:"text-sky-700 hover:underline",children:"Risk of Rain 2 Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Moonlighter:"})," Data compiled from ",y.jsx("a",{href:"https://moonlighter.fandom.com/wiki/Moonlighter_Wiki",className:"text-sky-700 hover:underline",children:"Moonlighter Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Demon's Souls:"})," Data taken from ",y.jsx("a",{href:"https://demonssouls.wiki.fextralife.com/Demon's+Souls+Wiki",className:"text-sky-700 hover:underline",children:"Demon's Souls Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Diablo 2:"})," Data compiled from ",y.jsx("a",{href:"https://diablo2.diablowiki.net/",className:"text-sky-700 hover:underline",children:"Diablo Wiki"})," and community resources."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Elden Ring:"})," Data taken from ",y.jsx("a",{href:"https://eldenring.wiki.fextralife.com/Elden+Ring+Wiki",className:"text-sky-700 hover:underline",children:"Elden Ring Wiki"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Lords of the Fallen:"})," Checklist made with ",y.jsx("a",{href:"https://forum.psnprofiles.com/topic/151185-checklist-for-nearly-everything/",className:"text-sky-700 hover:underline",children:"psnprofiles community"}),". Data taken from the ",y.jsx("a",{href:"https://thelordsofthefallen.wiki.fextralife.com/",className:"text-sky-700 hover:underline",children:"fextralife wiki"}),". Special thanks to PSN: Adkov for contributions."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Shadow Gambit: The Cursed Crew:"})," Mostly taken from ",y.jsx("a",{href:"https://steamcommunity.com/app/1545560/guides/?browsefilter=trend&filetype=11&requiredtags[]=english",className:"text-sky-700 hover:underline",children:"Steam guides"}),"."]})}),y.jsx("li",{children:y.jsxs("div",{children:[y.jsx("strong",{children:"Sea of Thieves:"})," Data compiled from ",y.jsx("a",{href:"https://seaofthieves.fandom.com/wiki/Sea_of_Thieves_Wiki",className:"text-sky-700 hover:underline",children:"Sea of Thieves Wiki"})," and official sources."]})})]})]})},PL=()=>{};var Y1={};const WN=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},LL=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const a=r[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],d=r[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=r[t++],c=r[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},JN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,d=c?r[a+1]:0,m=a+2<r.length,g=m?r[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let x=(d&15)<<2|g>>6,A=g&63;m||(A=64,c||(x=64)),i.push(t[v],t[b],t[x],t[A])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(WN(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):LL(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const g=a<r.length?t[r.charAt(a)]:64;++a;const b=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||d==null||g==null||b==null)throw new UL;const x=l<<2|d>>4;if(i.push(x),g!==64){const A=d<<4&240|g>>2;if(i.push(A),b!==64){const k=g<<6&192|b;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class UL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qL=function(r){const e=WN(r);return JN.encodeByteArray(e,!0)},gf=function(r){return qL(r).replace(/\./g,"")},ZN=function(r){try{return JN.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const BL=()=>zL().__FIREBASE_DEFAULTS__,FL=()=>{if(typeof process>"u"||typeof Y1>"u")return;const r=Y1.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},HL=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ZN(r[1]);return e&&JSON.parse(e)},ld=()=>{try{return PL()||BL()||FL()||HL()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},eO=r=>ld()?.emulatorHosts?.[r],GL=r=>{const e=eO(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},tO=()=>ld()?.config,nO=r=>ld()?.[`_${r}`];class KL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function ol(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rO(r){return(await fetch(r,{credentials:"include"})).ok}function $L(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[gf(JSON.stringify(t)),gf(JSON.stringify(c)),""].join(".")}const ju={};function YL(){const r={prod:[],emulator:[]};for(const e of Object.keys(ju))ju[e]?r.emulator.push(e):r.prod.push(e);return r}function QL(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Q1=!1;function iO(r,e){if(typeof window>"u"||typeof document>"u"||!ol(window.location.host)||ju[r]===e||ju[r]||Q1)return;ju[r]=e;function t(x){return`__firebase__banner__${x}`}const i="__firebase__banner",l=YL().prod.length>0;function c(){const x=document.getElementById(i);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,A){x.setAttribute("width","24"),x.setAttribute("id",A),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Q1=!0,c()},x}function v(x,A){x.setAttribute("id",A),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=QL(i),A=t("text"),k=document.getElementById(A)||document.createElement("span"),L=t("learnmore"),j=document.getElementById(L)||document.createElement("a"),H=t("preprendIcon"),B=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const W=x.element;d(W),v(j,L);const oe=g();m(B,H),W.append(B,k,j,oe),document.body.appendChild(W)}l?(k.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function WL(){const r=ld()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZL(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function e3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t3(){const r=gn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function n3(){return!WL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function r3(){try{return typeof indexedDB=="object"}catch{return!1}}function i3(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const s3="FirebaseError";class Fi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=s3,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?a3(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Fi(a,d,i)}}function a3(r,e){return r.replace(o3,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const o3=/\{\$([^}]+)}/g;function l3(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Oa(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=r[a],c=e[a];if(X1(l)&&X1(c)){if(!Oa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function X1(r){return r!==null&&typeof r=="object"}function oc(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function u3(r,e){const t=new c3(r,e);return t.subscribe.bind(t)}class c3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");h3(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Ov),a.error===void 0&&(a.error=Ov),a.complete===void 0&&(a.complete=Ov);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h3(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Ov(){}function Nn(r){return r&&r._delegate?r._delegate:r}class Da{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _a="[DEFAULT]";class f3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new KL;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p3(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:d3(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d3(r){return r===_a?void 0:r}function p3(r){return r.instantiationMode==="EAGER"}class m3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new f3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Fe||(Fe={}));const g3={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},y3=Fe.INFO,v3={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},_3=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),a=v3[e];if(a)console[a](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class X0{constructor(e){this.name=e,this._logLevel=y3,this._logHandler=_3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const b3=(r,e)=>e.some(t=>r instanceof t);let W1,J1;function E3(){return W1||(W1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T3(){return J1||(J1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sO=new WeakMap,$_=new WeakMap,aO=new WeakMap,Dv=new WeakMap,W0=new WeakMap;function x3(r){const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(Is(r.result)),a()},c=()=>{i(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&sO.set(t,r)}).catch(()=>{}),W0.set(e,r),e}function S3(r){if($_.has(r))return;const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});$_.set(r,e)}let Y_={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return $_.get(r);if(e==="objectStoreNames")return r.objectStoreNames||aO.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Is(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function A3(r){Y_=r(Y_)}function w3(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Mv(this),e,...t);return aO.set(i,e.sort?e.sort():[e]),Is(i)}:T3().includes(r)?function(...e){return r.apply(Mv(this),e),Is(sO.get(this))}:function(...e){return Is(r.apply(Mv(this),e))}}function R3(r){return typeof r=="function"?w3(r):(r instanceof IDBTransaction&&S3(r),b3(r,E3())?new Proxy(r,Y_):r)}function Is(r){if(r instanceof IDBRequest)return x3(r);if(Dv.has(r))return Dv.get(r);const e=R3(r);return e!==r&&(Dv.set(r,e),W0.set(e,r)),e}const Mv=r=>W0.get(r);function C3(r,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),d=Is(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Is(c.result),m.oldVersion,m.newVersion,Is(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const I3=["get","getKey","getAll","getAllKeys","count"],N3=["put","add","delete","clear"],jv=new Map;function Z1(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jv.get(e))return jv.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=N3.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||I3.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&m.done]))[0]};return jv.set(e,l),l}A3(r=>({...r,get:(e,t,i)=>Z1(e,t)||r.get(e,t,i),has:(e,t)=>!!Z1(e,t)||r.has(e,t)}));class O3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(D3(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function D3(r){return r.getComponent()?.type==="VERSION"}const Q_="@firebase/app",eR="0.14.7";const Pi=new X0("@firebase/app"),M3="@firebase/app-compat",j3="@firebase/analytics-compat",k3="@firebase/analytics",V3="@firebase/app-check-compat",P3="@firebase/app-check",L3="@firebase/auth",U3="@firebase/auth-compat",q3="@firebase/database",z3="@firebase/data-connect",B3="@firebase/database-compat",F3="@firebase/functions",H3="@firebase/functions-compat",G3="@firebase/installations",K3="@firebase/installations-compat",$3="@firebase/messaging",Y3="@firebase/messaging-compat",Q3="@firebase/performance",X3="@firebase/performance-compat",W3="@firebase/remote-config",J3="@firebase/remote-config-compat",Z3="@firebase/storage",e6="@firebase/storage-compat",t6="@firebase/firestore",n6="@firebase/ai",r6="@firebase/firestore-compat",i6="firebase",s6="12.8.0";const X_="[DEFAULT]",a6={[Q_]:"fire-core",[M3]:"fire-core-compat",[k3]:"fire-analytics",[j3]:"fire-analytics-compat",[P3]:"fire-app-check",[V3]:"fire-app-check-compat",[L3]:"fire-auth",[U3]:"fire-auth-compat",[q3]:"fire-rtdb",[z3]:"fire-data-connect",[B3]:"fire-rtdb-compat",[F3]:"fire-fn",[H3]:"fire-fn-compat",[G3]:"fire-iid",[K3]:"fire-iid-compat",[$3]:"fire-fcm",[Y3]:"fire-fcm-compat",[Q3]:"fire-perf",[X3]:"fire-perf-compat",[W3]:"fire-rc",[J3]:"fire-rc-compat",[Z3]:"fire-gcs",[e6]:"fire-gcs-compat",[t6]:"fire-fst",[r6]:"fire-fst-compat",[n6]:"fire-vertex","fire-js":"fire-js",[i6]:"fire-js-all"};const yf=new Map,o6=new Map,W_=new Map;function tR(r,e){try{r.container.addComponent(e)}catch(t){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function $o(r){const e=r.name;if(W_.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;W_.set(e,r);for(const t of yf.values())tR(t,r);for(const t of o6.values())tR(t,r);return!0}function J0(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Tr(r){return r==null?!1:r.settings!==void 0}const l6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new ac("app","Firebase",l6);class u6{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}const ll=s6;function oO(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:X_,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Ns.create("bad-app-name",{appName:String(a)});if(t||(t=tO()),!t)throw Ns.create("no-options");const l=yf.get(a);if(l){if(Oa(t,l.options)&&Oa(i,l.config))return l;throw Ns.create("duplicate-app",{appName:a})}const c=new m3(a);for(const m of W_.values())c.addComponent(m);const d=new u6(t,i,c);return yf.set(a,d),d}function lO(r=X_){const e=yf.get(r);if(!e&&r===X_&&tO())return oO();if(!e)throw Ns.create("no-app",{appName:r});return e}function Os(r,e,t){let i=a6[r]??r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(c.join(" "));return}$o(new Da(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const c6="firebase-heartbeat-database",h6=1,Fu="firebase-heartbeat-store";let kv=null;function uO(){return kv||(kv=C3(c6,h6,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Fu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ns.create("idb-open",{originalErrorMessage:r.message})})),kv}async function f6(r){try{const t=(await uO()).transaction(Fu),i=await t.objectStore(Fu).get(cO(r));return await t.done,i}catch(e){if(e instanceof Fi)Pi.warn(e.message);else{const t=Ns.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(t.message)}}}async function nR(r,e){try{const i=(await uO()).transaction(Fu,"readwrite");await i.objectStore(Fu).put(e,cO(r)),await i.done}catch(t){if(t instanceof Fi)Pi.warn(t.message);else{const i=Ns.create("idb-set",{originalErrorMessage:t?.message});Pi.warn(i.message)}}}function cO(r){return`${r.name}!${r.options.appId}`}const d6=1024,p6=30;class m6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new y6(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=rR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>p6){const a=v6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rR(),{heartbeatsToSend:t,unsentEntries:i}=g6(this._heartbeatsCache.heartbeats),a=gf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Pi.warn(e),""}}}function rR(){return new Date().toISOString().substring(0,10)}function g6(r,e=d6){const t=[];let i=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),iR(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),iR(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class y6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return r3()?i3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await f6(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return nR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return nR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function iR(r){return gf(JSON.stringify({version:2,heartbeats:r})).length}function v6(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}function _6(r){$o(new Da("platform-logger",e=>new O3(e),"PRIVATE")),$o(new Da("heartbeat",e=>new m6(e),"PRIVATE")),Os(Q_,eR,r),Os(Q_,eR,"esm2020"),Os("fire-js","")}_6("");function hO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b6=hO,fO=new ac("auth","Firebase",hO());const vf=new X0("@firebase/auth");function E6(r,...e){vf.logLevel<=Fe.WARN&&vf.warn(`Auth (${ll}): ${r}`,...e)}function Zh(r,...e){vf.logLevel<=Fe.ERROR&&vf.error(`Auth (${ll}): ${r}`,...e)}function ai(r,...e){throw eb(r,...e)}function Ar(r,...e){return eb(r,...e)}function Z0(r,e,t){const i={...b6(),[e]:t};return new ac("auth","Firebase",i).create(e,{appName:r.name})}function Ca(r){return Z0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T6(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&ai(r,"argument-error"),Z0(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eb(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return fO.create(r,...e)}function Re(r,e,...t){if(!r)throw eb(e,...t)}function Ni(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Zh(e),new Error(e)}function Li(r,e){r||Ni(e)}function J_(){return typeof self<"u"&&self.location?.href||""}function x6(){return sR()==="http:"||sR()==="https:"}function sR(){return typeof self<"u"&&self.location?.protocol||null}function S6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x6()||ZL()||"connection"in navigator)?navigator.onLine:!0}function A6(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class lc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Li(t>e,"Short delay should be less than long delay!"),this.isMobile=XL()||e3()}get(){return S6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tb(r,e){Li(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class dO{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const w6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const R6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],C6=new lc(3e4,6e4);function nb(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ul(r,e,t,i,a={}){return pO(r,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=oc({key:r.config.apiKey,...c}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:m,...l};return JL()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ol(r.emulatorConfig.host)&&(g.credentials="include"),dO.fetch()(await mO(r,r.config.apiHost,t,d),g)})}async function pO(r,e,t){r._canInitEmulator=!1;const i={...w6,...e};try{const a=new N6(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Hh(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hh(r,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Hh(r,"email-already-in-use",c);if(m==="USER_DISABLED")throw Hh(r,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Z0(r,v,g);ai(r,v)}}catch(a){if(a instanceof Fi)throw a;ai(r,"network-request-failed",{message:String(a)})}}async function I6(r,e,t,i,a={}){const l=await ul(r,e,t,i,a);return"mfaPendingCredential"in l&&ai(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function mO(r,e,t,i){const a=`${e}${t}?${i}`,l=r,c=l.config.emulator?tb(r.config,a):`${r.config.apiScheme}://${a}`;return R6.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class N6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ar(this.auth,"network-request-failed")),C6.get())})}}function Hh(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Ar(r,e,i);return a.customData._tokenResponse=t,a}async function O6(r,e){return ul(r,"POST","/v1/accounts:delete",e)}async function _f(r,e){return ul(r,"POST","/v1/accounts:lookup",e)}function ku(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D6(r,e=!1){const t=Nn(r),i=await t.getIdToken(e),a=rb(i);Re(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:ku(Vv(a.auth_time)),issuedAtTime:ku(Vv(a.iat)),expirationTime:ku(Vv(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Vv(r){return Number(r)*1e3}function rb(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Zh("JWT malformed, contained fewer than 3 sections"),null;try{const a=ZN(t);return a?JSON.parse(a):(Zh("Failed to decode base64 JWT payload"),null)}catch(a){return Zh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function aR(r){const e=rb(r);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Hu(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Fi&&M6(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function M6({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class j6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Z_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bf(r){const e=r.auth,t=await r.getIdToken(),i=await Hu(r,_f(e,{idToken:t}));Re(i?.users.length,e,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=a.providerUserInfo?.length?gO(a.providerUserInfo):[],c=V6(r.providerData,l),d=r.isAnonymous,m=!(r.email&&a.passwordHash)&&!c?.length,g=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Z_(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function k6(r){const e=Nn(r);await bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function V6(r,e){return[...r.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function gO(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function P6(r,e){const t=await pO(r,{},async()=>{const i=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,c=await mO(r,a,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return r.emulatorConfig&&ol(r.emulatorConfig.host)&&(m.credentials="include"),dO.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function L6(r,e){return ul(r,"POST","/v2/accounts:revokeToken",nb(r,e))}class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=aR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await P6(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Lo;return i&&(Re(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return Ni("not implemented")}}function Ts(r,e){Re(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class xr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new j6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Z_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Hu(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return D6(this,e)}reload(){return k6(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await bf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(Ca(this.auth));const e=await this.getIdToken();return await Hu(this,O6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:A,providerData:k,stsTokenManager:L}=t;Re(b&&L,e,"internal-error");const j=Lo.fromJSON(this.name,L);Re(typeof b=="string",e,"internal-error"),Ts(i,e.name),Ts(a,e.name),Re(typeof x=="boolean",e,"internal-error"),Re(typeof A=="boolean",e,"internal-error"),Ts(l,e.name),Ts(c,e.name),Ts(d,e.name),Ts(m,e.name),Ts(g,e.name),Ts(v,e.name);const H=new xr({uid:b,auth:e,email:a,emailVerified:x,displayName:i,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:j,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(H.providerData=k.map(B=>({...B}))),m&&(H._redirectEventId=m),H}static async _fromIdTokenResponse(e,t,i=!1){const a=new Lo;a.updateFromServerResponse(t);const l=new xr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await bf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?gO(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Lo;d.updateFromIdToken(i);const m=new xr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Z_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const oR=new Map;function Oi(r){Li(r instanceof Function,"Expected a class definition");let e=oR.get(r);return e?(Li(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,oR.set(r,e),e)}class yO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yO.type="NONE";const lR=yO;function ef(r,e,t){return`firebase:${r}:${e}:${t}`}class Uo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=ef(this.userKey,a.apiKey,l),this.fullPersistenceKey=ef("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await _f(this.auth,{idToken:e}).catch(()=>{});return t?xr._fromGetAccountInfoResponse(this.auth,t,e):null}return xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Uo(Oi(lR),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Oi(lR);const c=ef(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const x=await _f(e,{idToken:v}).catch(()=>{});if(!x)break;b=await xr._fromGetAccountInfoResponse(e,x,v)}else b=xr._fromJSON(e,v);g!==l&&(d=b),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Uo(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Uo(l,e,i))}}function uR(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xO(e))return"Blackberry";if(SO(e))return"Webos";if(_O(e))return"Safari";if((e.includes("chrome/")||bO(e))&&!e.includes("edge/"))return"Chrome";if(TO(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function vO(r=gn()){return/firefox\//i.test(r)}function _O(r=gn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bO(r=gn()){return/crios\//i.test(r)}function EO(r=gn()){return/iemobile/i.test(r)}function TO(r=gn()){return/android/i.test(r)}function xO(r=gn()){return/blackberry/i.test(r)}function SO(r=gn()){return/webos/i.test(r)}function ib(r=gn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function U6(r=gn()){return ib(r)&&!!window.navigator?.standalone}function q6(){return t3()&&document.documentMode===10}function AO(r=gn()){return ib(r)||TO(r)||SO(r)||xO(r)||/windows phone/i.test(r)||EO(r)}function wO(r,e=[]){let t;switch(r){case"Browser":t=uR(gn());break;case"Worker":t=`${uR(gn())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ll}/${i}`}class z6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function B6(r,e={}){return ul(r,"GET","/v2/passwordPolicy",nb(r,e))}const F6=6;class H6{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??F6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class G6{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cR(this),this.idTokenSubscription=new cR(this),this.beforeStateQueue=new z6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _f(this,{idToken:e}),i=await xr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Tr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(Ca(this));const t=e?Nn(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await B6(this),t=new H6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ac("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await L6(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Oi(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[Oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&E6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ud(r){return Nn(r)}class cR{constructor(e){this.auth=e,this.observer=null,this.addObserver=u3(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function K6(r){sb=r}function $6(r){return sb.loadJS(r)}function Y6(){return sb.gapiScript}function Q6(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function X6(r,e){const t=J0(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Oa(l,e??{}))return a;ai(a,"already-initialized")}return t.initialize({options:e})}function W6(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Oi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function J6(r,e,t){const i=ud(r);Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=RO(e),{host:c,port:d}=Z6(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Re(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Re(Oa(g,i.config.emulator)&&Oa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,ol(c)?(rO(`${l}//${c}${m}`),iO("Auth",!0)):eU()}function RO(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Z6(r){const e=RO(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:hR(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:hR(c)}}}function hR(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function eU(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class CO{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function qo(r,e){return I6(r,"POST","/v1/accounts:signInWithIdp",nb(r,e))}const tU="http://localhost";class Ma extends CO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ai("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new Ma(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return qo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,qo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qo(e,t)}buildRequest(){const e={requestUri:tU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=oc(t)}return e}}class ab{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uc extends ab{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ss extends uc{constructor(){super("facebook.com")}static credential(e){return Ma._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";class Ii extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ma._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ii.credential(t,i)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";class As extends uc{constructor(){super("github.com")}static credential(e){return Ma._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";class ws extends uc{constructor(){super("twitter.com")}static credential(e,t){return Ma._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ws.credential(t,i)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";class Yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await xr._fromIdTokenResponse(e,i,a),c=fR(i);return new Yo({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=fR(i);return new Yo({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function fR(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ef extends Fi{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Ef.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Ef(e,t,i,a)}}function IO(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ef._fromErrorAndOperation(r,l,e,i):l})}async function nU(r,e,t=!1){const i=await Hu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Yo._forOperation(r,"link",i)}async function rU(r,e,t=!1){const{auth:i}=r;if(Tr(i.app))return Promise.reject(Ca(i));const a="reauthenticate";try{const l=await Hu(r,IO(i,a,e,r),t);Re(l.idToken,i,"internal-error");const c=rb(l.idToken);Re(c,i,"internal-error");const{sub:d}=c;return Re(r.uid===d,i,"user-mismatch"),Yo._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ai(i,"user-mismatch"),l}}async function iU(r,e,t=!1){if(Tr(r.app))return Promise.reject(Ca(r));const i="signIn",a=await IO(r,i,e),l=await Yo._fromIdTokenResponse(r,i,a);return t||await r._updateCurrentUser(l.user),l}function sU(r,e,t,i){return Nn(r).onIdTokenChanged(e,t,i)}function aU(r,e,t){return Nn(r).beforeAuthStateChanged(e,t)}function ob(r,e,t,i){return Nn(r).onAuthStateChanged(e,t,i)}function oU(r){return Nn(r).signOut()}const Tf="__sak";class NO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tf,"1"),this.storage.removeItem(Tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const lU=1e3,uU=10;class OO extends NO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);q6()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,uU):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},lU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}OO.type="LOCAL";const cU=OO;class DO extends NO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}DO.type="SESSION";const MO=DO;function hU(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new cd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await hU(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cd.receivers=[];function lb(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}class fU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=lb("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const x=b;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(x.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ni(){return window}function dU(r){ni().location.href=r}function jO(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function pU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mU(){return navigator?.serviceWorker?.controller||null}function gU(){return jO()?self:null}const kO="firebaseLocalStorageDb",yU=1,xf="firebaseLocalStorage",VO="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hd(r,e){return r.transaction([xf],e?"readwrite":"readonly").objectStore(xf)}function vU(){const r=indexedDB.deleteDatabase(kO);return new cc(r).toPromise()}function e0(){const r=indexedDB.open(kO,yU);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(xf,{keyPath:VO})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(xf)?e(i):(i.close(),await vU(),e(await e0()))})})}async function dR(r,e,t){const i=hd(r,!0).put({[VO]:e,value:t});return new cc(i).toPromise()}async function _U(r,e){const t=hd(r,!1).get(e),i=await new cc(t).toPromise();return i===void 0?null:i.value}function pR(r,e){const t=hd(r,!0).delete(e);return new cc(t).toPromise()}const bU=800,EU=3;class PO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await e0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>EU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cd._getInstance(gU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pU(),!this.activeServiceWorker)return;this.sender=new fU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await e0();return await dR(e,Tf,"1"),await pR(e,Tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>dR(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>_U(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=hd(a,!1).getAll();return new cc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PO.type="LOCAL";const TU=PO;new lc(3e4,6e4);function LO(r,e){return e?Oi(e):(Re(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ub extends CO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xU(r){return iU(r.auth,new ub(r),r.bypassAuthState)}function SU(r){const{auth:e,user:t}=r;return Re(t,e,"internal-error"),rU(t,new ub(r),r.bypassAuthState)}async function AU(r){const{auth:e,user:t}=r;return Re(t,e,"internal-error"),nU(t,new ub(r),r.bypassAuthState)}class UO{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xU;case"linkViaPopup":case"linkViaRedirect":return AU;case"reauthViaPopup":case"reauthViaRedirect":return SU;default:ai(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wU=new lc(2e3,1e4);async function qO(r,e,t){if(Tr(r.app))return Promise.reject(Ar(r,"operation-not-supported-in-this-environment"));const i=ud(r);T6(r,e,ab);const a=LO(i,t);return new Ea(i,"signInViaPopup",e,a).executeNotNull()}class Ea extends UO{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=lb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wU.get())};e()}}Ea.currentPopupAction=null;const RU="pendingRedirect",tf=new Map;class CU extends UO{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=tf.get(this.auth._key());if(!e){try{const i=await IU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}tf.set(this.auth._key(),e)}return this.bypassAuthState||tf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IU(r,e){const t=DU(e),i=OU(r);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function NU(r,e){tf.set(r._key(),e)}function OU(r){return Oi(r._redirectPersistence)}function DU(r){return ef(RU,r.config.apiKey,r.name)}async function MU(r,e,t=!1){if(Tr(r.app))return Promise.reject(Ca(r));const i=ud(r),a=LO(i,e),c=await new CU(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const jU=600*1e3;class kU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!zO(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ar(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jU&&this.cachedEventUids.clear(),this.cachedEventUids.has(mR(e))}saveEventToCache(e){this.cachedEventUids.add(mR(e)),this.lastProcessedEventTime=Date.now()}}function mR(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function zO({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function VU(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zO(r);default:return!1}}async function PU(r,e={}){return ul(r,"GET","/v1/projects",e)}const LU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UU=/^https?/;async function qU(r){if(r.config.emulator)return;const{authorizedDomains:e}=await PU(r);for(const t of e)try{if(zU(t))return}catch{}ai(r,"unauthorized-domain")}function zU(r){const e=J_(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!UU.test(t))return!1;if(LU.test(r))return i===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const BU=new lc(3e4,6e4);function gR(){const r=ni().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function FU(r){return new Promise((e,t)=>{function i(){gR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gR(),t(Ar(r,"network-request-failed"))},timeout:BU.get()})}if(ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ni().gapi?.load)i();else{const a=Q6("iframefcb");return ni()[a]=()=>{gapi.load?i():t(Ar(r,"network-request-failed"))},$6(`${Y6()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw nf=null,e})}let nf=null;function HU(r){return nf=nf||FU(r),nf}const GU=new lc(5e3,15e3),KU="__/auth/iframe",$U="emulator/auth/iframe",YU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XU(r){const e=r.config;Re(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?tb(e,$U):`https://${r.config.authDomain}/${KU}`,i={apiKey:e.apiKey,appName:r.name,v:ll},a=QU.get(r.config.apiHost);a&&(i.eid=a);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${oc(i).slice(1)}`}async function WU(r){const e=await HU(r),t=ni().gapi;return Re(t,r,"internal-error"),e.open({where:document.body,url:XU(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YU,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ar(r,"network-request-failed"),d=ni().setTimeout(()=>{l(c)},GU.get());function m(){ni().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const JU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZU=500,e5=600,t5="_blank",n5="http://localhost";class yR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r5(r,e,t,i=ZU,a=e5){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...JU,width:i.toString(),height:a.toString(),top:l,left:c},g=gn().toLowerCase();t&&(d=bO(g)?t5:t),vO(g)&&(e=e||n5,m.scrollbars="yes");const v=Object.entries(m).reduce((x,[A,k])=>`${x}${A}=${k},`,"");if(U6(g)&&d!=="_self")return i5(e||"",d),new yR(null);const b=window.open(e||"",d,v);Re(b,r,"popup-blocked");try{b.focus()}catch{}return new yR(b)}function i5(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const s5="__/auth/handler",a5="emulator/auth/handler",o5=encodeURIComponent("fac");async function vR(r,e,t,i,a,l){Re(r.config.authDomain,r,"auth-domain-config-required"),Re(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:ll,eventId:a};if(e instanceof ab){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",l3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof uc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await r._getAppCheckToken(),g=m?`#${o5}=${encodeURIComponent(m)}`:"";return`${l5(r)}?${oc(d).slice(1)}${g}`}function l5({config:r}){return r.emulator?tb(r,a5):`https://${r.authDomain}/${s5}`}const Pv="webStorageSupport";class u5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MO,this._completeRedirectFn=MU,this._overrideRedirectResult=NU}async _openPopup(e,t,i,a){Li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await vR(e,t,i,J_(),a);return r5(e,l,lb())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await vR(e,t,i,J_(),a);return dU(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Li(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await WU(e),i=new kU(e);return t.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pv,{type:Pv},a=>{const l=a?.[0]?.[Pv];l!==void 0&&t(!!l),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=qU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return AO()||_O()||ib()}}const c5=u5;var _R="@firebase/auth",bR="1.12.0";class h5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function f5(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d5(r){$o(new Da("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wO(r)},g=new G6(i,a,l,m);return W6(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),$o(new Da("auth-internal",e=>{const t=ud(e.getProvider("auth").getImmediate());return(i=>new h5(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Os(_R,bR,f5(r)),Os(_R,bR,"esm2020")}const p5=300,m5=nO("authIdTokenMaxAge")||p5;let ER=null;const g5=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>m5)return;const a=t?.token;ER!==a&&(ER=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function y5(r=lO()){const e=J0(r,"auth");if(e.isInitialized())return e.getImmediate();const t=X6(r,{popupRedirectResolver:c5,persistence:[TU,cU,MO]}),i=nO("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=g5(l.toString());aU(t,c,()=>c(t.currentUser)),sU(t,d=>c(d))}}const a=eO("auth");return a&&J6(t,`http://${a}`),t}function v5(){return document.getElementsByTagName("head")?.[0]??document}K6({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=a=>{const l=Ar("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",v5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d5("Browser");var _5="firebase",b5="12.8.0";Os(_5,b5,"app");var TR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ds,BO;(function(){var r;function e(C,R){function O(){}O.prototype=R.prototype,C.F=R.prototype,C.prototype=new O,C.prototype.constructor=C,C.D=function(V,M,q){for(var N=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)N[Se-2]=arguments[Se];return R.prototype[M].apply(V,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,R,O){O||(O=0);const V=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)V[M]=R.charCodeAt(O++)|R.charCodeAt(O++)<<8|R.charCodeAt(O++)<<16|R.charCodeAt(O++)<<24;else for(M=0;M<16;++M)V[M]=R[O++]|R[O++]<<8|R[O++]<<16|R[O++]<<24;R=C.g[0],O=C.g[1],M=C.g[2];let q=C.g[3],N;N=R+(q^O&(M^q))+V[0]+3614090360&4294967295,R=O+(N<<7&4294967295|N>>>25),N=q+(M^R&(O^M))+V[1]+3905402710&4294967295,q=R+(N<<12&4294967295|N>>>20),N=M+(O^q&(R^O))+V[2]+606105819&4294967295,M=q+(N<<17&4294967295|N>>>15),N=O+(R^M&(q^R))+V[3]+3250441966&4294967295,O=M+(N<<22&4294967295|N>>>10),N=R+(q^O&(M^q))+V[4]+4118548399&4294967295,R=O+(N<<7&4294967295|N>>>25),N=q+(M^R&(O^M))+V[5]+1200080426&4294967295,q=R+(N<<12&4294967295|N>>>20),N=M+(O^q&(R^O))+V[6]+2821735955&4294967295,M=q+(N<<17&4294967295|N>>>15),N=O+(R^M&(q^R))+V[7]+4249261313&4294967295,O=M+(N<<22&4294967295|N>>>10),N=R+(q^O&(M^q))+V[8]+1770035416&4294967295,R=O+(N<<7&4294967295|N>>>25),N=q+(M^R&(O^M))+V[9]+2336552879&4294967295,q=R+(N<<12&4294967295|N>>>20),N=M+(O^q&(R^O))+V[10]+4294925233&4294967295,M=q+(N<<17&4294967295|N>>>15),N=O+(R^M&(q^R))+V[11]+2304563134&4294967295,O=M+(N<<22&4294967295|N>>>10),N=R+(q^O&(M^q))+V[12]+1804603682&4294967295,R=O+(N<<7&4294967295|N>>>25),N=q+(M^R&(O^M))+V[13]+4254626195&4294967295,q=R+(N<<12&4294967295|N>>>20),N=M+(O^q&(R^O))+V[14]+2792965006&4294967295,M=q+(N<<17&4294967295|N>>>15),N=O+(R^M&(q^R))+V[15]+1236535329&4294967295,O=M+(N<<22&4294967295|N>>>10),N=R+(M^q&(O^M))+V[1]+4129170786&4294967295,R=O+(N<<5&4294967295|N>>>27),N=q+(O^M&(R^O))+V[6]+3225465664&4294967295,q=R+(N<<9&4294967295|N>>>23),N=M+(R^O&(q^R))+V[11]+643717713&4294967295,M=q+(N<<14&4294967295|N>>>18),N=O+(q^R&(M^q))+V[0]+3921069994&4294967295,O=M+(N<<20&4294967295|N>>>12),N=R+(M^q&(O^M))+V[5]+3593408605&4294967295,R=O+(N<<5&4294967295|N>>>27),N=q+(O^M&(R^O))+V[10]+38016083&4294967295,q=R+(N<<9&4294967295|N>>>23),N=M+(R^O&(q^R))+V[15]+3634488961&4294967295,M=q+(N<<14&4294967295|N>>>18),N=O+(q^R&(M^q))+V[4]+3889429448&4294967295,O=M+(N<<20&4294967295|N>>>12),N=R+(M^q&(O^M))+V[9]+568446438&4294967295,R=O+(N<<5&4294967295|N>>>27),N=q+(O^M&(R^O))+V[14]+3275163606&4294967295,q=R+(N<<9&4294967295|N>>>23),N=M+(R^O&(q^R))+V[3]+4107603335&4294967295,M=q+(N<<14&4294967295|N>>>18),N=O+(q^R&(M^q))+V[8]+1163531501&4294967295,O=M+(N<<20&4294967295|N>>>12),N=R+(M^q&(O^M))+V[13]+2850285829&4294967295,R=O+(N<<5&4294967295|N>>>27),N=q+(O^M&(R^O))+V[2]+4243563512&4294967295,q=R+(N<<9&4294967295|N>>>23),N=M+(R^O&(q^R))+V[7]+1735328473&4294967295,M=q+(N<<14&4294967295|N>>>18),N=O+(q^R&(M^q))+V[12]+2368359562&4294967295,O=M+(N<<20&4294967295|N>>>12),N=R+(O^M^q)+V[5]+4294588738&4294967295,R=O+(N<<4&4294967295|N>>>28),N=q+(R^O^M)+V[8]+2272392833&4294967295,q=R+(N<<11&4294967295|N>>>21),N=M+(q^R^O)+V[11]+1839030562&4294967295,M=q+(N<<16&4294967295|N>>>16),N=O+(M^q^R)+V[14]+4259657740&4294967295,O=M+(N<<23&4294967295|N>>>9),N=R+(O^M^q)+V[1]+2763975236&4294967295,R=O+(N<<4&4294967295|N>>>28),N=q+(R^O^M)+V[4]+1272893353&4294967295,q=R+(N<<11&4294967295|N>>>21),N=M+(q^R^O)+V[7]+4139469664&4294967295,M=q+(N<<16&4294967295|N>>>16),N=O+(M^q^R)+V[10]+3200236656&4294967295,O=M+(N<<23&4294967295|N>>>9),N=R+(O^M^q)+V[13]+681279174&4294967295,R=O+(N<<4&4294967295|N>>>28),N=q+(R^O^M)+V[0]+3936430074&4294967295,q=R+(N<<11&4294967295|N>>>21),N=M+(q^R^O)+V[3]+3572445317&4294967295,M=q+(N<<16&4294967295|N>>>16),N=O+(M^q^R)+V[6]+76029189&4294967295,O=M+(N<<23&4294967295|N>>>9),N=R+(O^M^q)+V[9]+3654602809&4294967295,R=O+(N<<4&4294967295|N>>>28),N=q+(R^O^M)+V[12]+3873151461&4294967295,q=R+(N<<11&4294967295|N>>>21),N=M+(q^R^O)+V[15]+530742520&4294967295,M=q+(N<<16&4294967295|N>>>16),N=O+(M^q^R)+V[2]+3299628645&4294967295,O=M+(N<<23&4294967295|N>>>9),N=R+(M^(O|~q))+V[0]+4096336452&4294967295,R=O+(N<<6&4294967295|N>>>26),N=q+(O^(R|~M))+V[7]+1126891415&4294967295,q=R+(N<<10&4294967295|N>>>22),N=M+(R^(q|~O))+V[14]+2878612391&4294967295,M=q+(N<<15&4294967295|N>>>17),N=O+(q^(M|~R))+V[5]+4237533241&4294967295,O=M+(N<<21&4294967295|N>>>11),N=R+(M^(O|~q))+V[12]+1700485571&4294967295,R=O+(N<<6&4294967295|N>>>26),N=q+(O^(R|~M))+V[3]+2399980690&4294967295,q=R+(N<<10&4294967295|N>>>22),N=M+(R^(q|~O))+V[10]+4293915773&4294967295,M=q+(N<<15&4294967295|N>>>17),N=O+(q^(M|~R))+V[1]+2240044497&4294967295,O=M+(N<<21&4294967295|N>>>11),N=R+(M^(O|~q))+V[8]+1873313359&4294967295,R=O+(N<<6&4294967295|N>>>26),N=q+(O^(R|~M))+V[15]+4264355552&4294967295,q=R+(N<<10&4294967295|N>>>22),N=M+(R^(q|~O))+V[6]+2734768916&4294967295,M=q+(N<<15&4294967295|N>>>17),N=O+(q^(M|~R))+V[13]+1309151649&4294967295,O=M+(N<<21&4294967295|N>>>11),N=R+(M^(O|~q))+V[4]+4149444226&4294967295,R=O+(N<<6&4294967295|N>>>26),N=q+(O^(R|~M))+V[11]+3174756917&4294967295,q=R+(N<<10&4294967295|N>>>22),N=M+(R^(q|~O))+V[2]+718787259&4294967295,M=q+(N<<15&4294967295|N>>>17),N=O+(q^(M|~R))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+q&4294967295}i.prototype.v=function(C,R){R===void 0&&(R=C.length);const O=R-this.blockSize,V=this.C;let M=this.h,q=0;for(;q<R;){if(M==0)for(;q<=O;)a(this,C,q),q+=this.blockSize;if(typeof C=="string"){for(;q<R;)if(V[M++]=C.charCodeAt(q++),M==this.blockSize){a(this,V),M=0;break}}else for(;q<R;)if(V[M++]=C[q++],M==this.blockSize){a(this,V),M=0;break}}this.h=M,this.o+=R},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var O=C.length-8;O<C.length;++O)C[O]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,O=0;O<4;++O)for(let V=0;V<32;V+=8)C[R++]=this.g[O]>>>V&255;return C};function l(C,R){var O=d;return Object.prototype.hasOwnProperty.call(O,C)?O[C]:O[C]=R(C)}function c(C,R){this.h=R;const O=[];let V=!0;for(let M=C.length-1;M>=0;M--){const q=C[M]|0;V&&q==R||(O[M]=q,V=!1)}this.g=O}var d={};function m(C){return-128<=C&&C<128?l(C,function(R){return new c([R|0],R<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return j(g(-C));const R=[];let O=1;for(let V=0;C>=O;V++)R[V]=C/O|0,O*=4294967296;return new c(R,0)}function v(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return j(v(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=g(Math.pow(R,8));let V=b;for(let q=0;q<C.length;q+=8){var M=Math.min(8,C.length-q);const N=parseInt(C.substring(q,q+M),R);M<8?(M=g(Math.pow(R,M)),V=V.j(M).add(g(N))):(V=V.j(O),V=V.add(g(N)))}return V}var b=m(0),x=m(1),A=m(16777216);r=c.prototype,r.m=function(){if(L(this))return-j(this).m();let C=0,R=1;for(let O=0;O<this.g.length;O++){const V=this.i(O);C+=(V>=0?V:4294967296+V)*R,R*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(k(this))return"0";if(L(this))return"-"+j(this).toString(C);const R=g(Math.pow(C,6));var O=this;let V="";for(;;){const M=oe(O,R).g;O=H(O,M.j(R));let q=((O.g.length>0?O.g[0]:O.h)>>>0).toString(C);if(O=M,k(O))return q+V;for(;q.length<6;)q="0"+q;V=q+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function k(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function L(C){return C.h==-1}r.l=function(C){return C=H(this,C),L(C)?-1:k(C)?0:1};function j(C){const R=C.g.length,O=[];for(let V=0;V<R;V++)O[V]=~C.g[V];return new c(O,~C.h).add(x)}r.abs=function(){return L(this)?j(this):this},r.add=function(C){const R=Math.max(this.g.length,C.g.length),O=[];let V=0;for(let M=0;M<=R;M++){let q=V+(this.i(M)&65535)+(C.i(M)&65535),N=(q>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);V=N>>>16,q&=65535,N&=65535,O[M]=N<<16|q}return new c(O,O[O.length-1]&-2147483648?-1:0)};function H(C,R){return C.add(j(R))}r.j=function(C){if(k(this)||k(C))return b;if(L(this))return L(C)?j(this).j(j(C)):j(j(this).j(C));if(L(C))return j(this.j(j(C)));if(this.l(A)<0&&C.l(A)<0)return g(this.m()*C.m());const R=this.g.length+C.g.length,O=[];for(var V=0;V<2*R;V++)O[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<C.g.length;M++){const q=this.i(V)>>>16,N=this.i(V)&65535,Se=C.i(M)>>>16,Ce=C.i(M)&65535;O[2*V+2*M]+=N*Ce,B(O,2*V+2*M),O[2*V+2*M+1]+=q*Ce,B(O,2*V+2*M+1),O[2*V+2*M+1]+=N*Se,B(O,2*V+2*M+1),O[2*V+2*M+2]+=q*Se,B(O,2*V+2*M+2)}for(C=0;C<R;C++)O[C]=O[2*C+1]<<16|O[2*C];for(C=R;C<2*R;C++)O[C]=0;return new c(O,0)};function B(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function W(C,R){this.g=C,this.h=R}function oe(C,R){if(k(R))throw Error("division by zero");if(k(C))return new W(b,b);if(L(C))return R=oe(j(C),R),new W(j(R.g),j(R.h));if(L(R))return R=oe(C,j(R)),new W(j(R.g),R.h);if(C.g.length>30){if(L(C)||L(R))throw Error("slowDivide_ only works with positive integers.");for(var O=x,V=R;V.l(C)<=0;)O=ue(O),V=ue(V);var M=le(O,1),q=le(V,1);for(V=le(V,2),O=le(O,2);!k(V);){var N=q.add(V);N.l(C)<=0&&(M=M.add(O),q=N),V=le(V,1),O=le(O,1)}return R=H(C,M.j(R)),new W(M,R)}for(M=b;C.l(R)>=0;){for(O=Math.max(1,Math.floor(C.m()/R.m())),V=Math.ceil(Math.log(O)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),q=g(O),N=q.j(R);L(N)||N.l(C)>0;)O-=V,q=g(O),N=q.j(R);k(q)&&(q=x),M=M.add(q),C=H(C,N)}return new W(M,C)}r.B=function(C){return oe(this,C).h},r.and=function(C){const R=Math.max(this.g.length,C.g.length),O=[];for(let V=0;V<R;V++)O[V]=this.i(V)&C.i(V);return new c(O,this.h&C.h)},r.or=function(C){const R=Math.max(this.g.length,C.g.length),O=[];for(let V=0;V<R;V++)O[V]=this.i(V)|C.i(V);return new c(O,this.h|C.h)},r.xor=function(C){const R=Math.max(this.g.length,C.g.length),O=[];for(let V=0;V<R;V++)O[V]=this.i(V)^C.i(V);return new c(O,this.h^C.h)};function ue(C){const R=C.g.length+1,O=[];for(let V=0;V<R;V++)O[V]=C.i(V)<<1|C.i(V-1)>>>31;return new c(O,C.h)}function le(C,R){const O=R>>5;R%=32;const V=C.g.length-O,M=[];for(let q=0;q<V;q++)M[q]=R>0?C.i(q+O)>>>R|C.i(q+O+1)<<32-R:C.i(q+O);return new c(M,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,BO=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Ds=c}).apply(typeof TR<"u"?TR:typeof self<"u"?self:typeof window<"u"?window:{});var Gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var FO,Ru,HO,rf,t0,GO,KO,$O;(function(){var r,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gh=="object"&&Gh];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function a(h,_){if(_)e:{var T=i;h=h.split(".");for(var w=0;w<h.length-1;w++){var K=h[w];if(!(K in T))break e;T=T[K]}h=h[h.length-1],w=T[h],_=_(w),_!=w&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var T=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&T.push([w,_[w]]);return T}});var l=l||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,T){return h.call.apply(h.bind,arguments)}function g(h,_,T){return g=m,g.apply(null,arguments)}function v(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var w=T.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function b(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(w,K,X){for(var de=Array(arguments.length-2),De=2;De<arguments.length;De++)de[De-2]=arguments[De];return _.prototype[K].apply(w,de)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const _=h.length;if(_>0){const T=Array(_);for(let w=0;w<_;w++)T[w]=h[w];return T}return[]}function k(h,_){for(let w=1;w<arguments.length;w++){const K=arguments[w];var T=typeof K;if(T=T!="object"?T:K?Array.isArray(K)?"array":T:"null",T=="array"||T=="object"&&typeof K.length=="number"){T=h.length||0;const X=K.length||0;h.length=T+X;for(let de=0;de<X;de++)h[T+de]=K[de]}else h.push(K)}}class L{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function j(h){c.setTimeout(()=>{throw h},0)}function H(){var h=C;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,T){const w=W.get();w.set(_,T),this.h?this.h.next=w:this.g=w,this.h=w}}var W=new L(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,le=!1,C=new B,R=()=>{const h=Promise.resolve(void 0);ue=()=>{h.then(O)}};function O(){for(var h;h=H();){try{h.h.call(h.g)}catch(T){j(T)}var _=W;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}le=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Se(h,_){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(Se,M),Se.prototype.init=function(h,_){const T=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ce(h,_,T,w,K){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!w,this.ha=K,this.key=++Z,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function je(h,_,T){for(const w in h)_.call(T,h[w],w,h)}function Ve(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function I(h){const _={};for(const T in h)_[T]=h[T];return _}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(h,_){let T,w;for(let K=1;K<arguments.length;K++){w=arguments[K];for(T in w)h[T]=w[T];for(let X=0;X<U.length;X++)T=U[X],Object.prototype.hasOwnProperty.call(w,T)&&(h[T]=w[T])}}function se(h){this.src=h,this.g={},this.h=0}se.prototype.add=function(h,_,T,w,K){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const de=fe(h,_,w,K);return de>-1?(_=h[de],T||(_.fa=!1)):(_=new ce(_,this.src,X,!!w,K),_.fa=T,h.push(_)),_};function he(h,_){const T=_.type;if(T in h.g){var w=h.g[T],K=Array.prototype.indexOf.call(w,_,void 0),X;(X=K>=0)&&Array.prototype.splice.call(w,K,1),X&&(ge(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function fe(h,_,T,w){for(let K=0;K<h.length;++K){const X=h[K];if(!X.da&&X.listener==_&&X.capture==!!T&&X.ha==w)return K}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),be={};function we(h,_,T,w,K){if(Array.isArray(_)){for(let X=0;X<_.length;X++)we(h,_[X],T,w,K);return null}return T=Kn(T),h&&h[Ce]?h.J(_,T,d(w)?!!w.capture:!1,K):et(h,_,T,!1,w,K)}function et(h,_,T,w,K,X){if(!_)throw Error("Invalid event type");const de=d(K)?!!K.capture:!!K;let De=Gn(h);if(De||(h[_e]=De=new se(h)),T=De.add(_,T,w,de,X),T.proxy)return T;if(w=yn(),T.proxy=w,w.src=h,w.listener=T,h.addEventListener)q||(K=de),K===void 0&&(K=!1),h.addEventListener(_.toString(),w,K);else if(h.attachEvent)h.attachEvent(Hn(_.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return T}function yn(){function h(T){return _.call(h.src,h.listener,T)}const _=Qe;return h}function Tt(h,_,T,w,K){if(Array.isArray(_))for(var X=0;X<_.length;X++)Tt(h,_[X],T,w,K);else w=d(w)?!!w.capture:!!w,T=Kn(T),h&&h[Ce]?(h=h.i,X=String(_).toString(),X in h.g&&(_=h.g[X],T=fe(_,T,w,K),T>-1&&(ge(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[X],h.h--)))):h&&(h=Gn(h))&&(_=h.g[_.toString()],h=-1,_&&(h=fe(_,T,w,K)),(T=h>-1?_[h]:null)&&En(T))}function En(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Ce])he(_.i,h);else{var T=h.type,w=h.proxy;_.removeEventListener?_.removeEventListener(T,w,h.capture):_.detachEvent?_.detachEvent(Hn(T),w):_.addListener&&_.removeListener&&_.removeListener(w),(T=Gn(_))?(he(T,h),T.h==0&&(T.src=null,_[_e]=null)):ge(h)}}}function Hn(h){return h in be?be[h]:be[h]="on"+h}function Qe(h,_){if(h.da)h=!0;else{_=new Se(_,this);const T=h.listener,w=h.ha||h.src;h.fa&&En(h),h=T.call(w,_)}return h}function Gn(h){return h=h[_e],h instanceof se?h:null}var Ke="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kn(h){return typeof h=="function"?h:(h[Ke]||(h[Ke]=function(_){return h.handleEvent(_)}),h[Ke])}function ut(){V.call(this),this.i=new se(this),this.M=this,this.G=null}b(ut,V),ut.prototype[Ce]=!0,ut.prototype.removeEventListener=function(h,_,T,w){Tt(this,h,_,T,w)};function xt(h,_){var T,w=h.G;if(w)for(T=[];w;w=w.G)T.push(w);if(h=h.M,w=_.type||_,typeof _=="string")_=new M(_,h);else if(_ instanceof M)_.target=_.target||h;else{var K=_;_=new M(w,h),ae(_,K)}K=!0;let X,de;if(T)for(de=T.length-1;de>=0;de--)X=_.g=T[de],K=On(X,w,!0,_)&&K;if(X=_.g=h,K=On(X,w,!0,_)&&K,K=On(X,w,!1,_)&&K,T)for(de=0;de<T.length;de++)X=_.g=T[de],K=On(X,w,!1,_)&&K}ut.prototype.N=function(){if(ut.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let w=0;w<T.length;w++)ge(T[w]);delete h.g[_],h.h--}}this.G=null},ut.prototype.J=function(h,_,T,w){return this.i.add(String(h),_,!1,T,w)},ut.prototype.K=function(h,_,T,w){return this.i.add(String(h),_,!0,T,w)};function On(h,_,T,w){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let K=!0;for(let X=0;X<_.length;++X){const de=_[X];if(de&&!de.da&&de.capture==T){const De=de.listener,At=de.ha||de.src;de.fa&&he(h.i,de),K=De.call(At,w)!==!1&&K}}return K&&!w.defaultPrevented}function $n(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function Ht(h){h.g=$n(()=>{h.g=null,h.i&&(h.i=!1,Ht(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class It extends V{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ht(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(h){V.call(this),this.h=h,this.g={}}b(Yn,V);var zs=[];function Hi(h){je(h.g,function(_,T){this.g.hasOwnProperty(T)&&En(_)},h),h.g={}}Yn.prototype.N=function(){Yn.Z.N.call(this),Hi(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=c.JSON.stringify,Ha=c.JSON.parse,Bs=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ga(){}function Fs(){}var Nt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ft(){M.call(this,"d")}b(ft,M);function Qn(){M.call(this,"c")}b(Qn,M);var St={},yc=null;function Ka(){return yc=yc||new ut}St.Ia="serverreachability";function vc(h){M.call(this,St.Ia,h)}b(vc,M);function Dr(h){const _=Ka();xt(_,new vc(_))}St.STAT_EVENT="statevent";function Hs(h,_){M.call(this,St.STAT_EVENT,h),this.stat=_}b(Hs,M);function Ot(h){const _=Ka();xt(_,new Hs(_,h))}St.Ja="timingevent";function Mr(h,_){M.call(this,St.Ja,h),this.size=_}b(Mr,M);function jr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function hr(){this.g=!0}hr.prototype.ua=function(){this.g=!1};function Rd(h,_,T,w,K,X){h.info(function(){if(h.g)if(X){var de="",De=X.split("&");for(let Je=0;Je<De.length;Je++){var At=De[Je].split("=");if(At.length>1){const gt=At[0];At=At[1];const Zn=gt.split("_");de=Zn.length>=2&&Zn[1]=="type"?de+(gt+"="+At+"&"):de+(gt+"=redacted&")}}}else de=null;else de=X;return"XMLHTTP REQ ("+w+") [attempt "+K+"]: "+_+`
`+T+`
`+de})}function _c(h,_,T,w,K,X,de){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+K+"]: "+_+`
`+T+`
`+X+" "+de})}function kr(h,_,T,w){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Cd(h,T)+(w?" "+w:"")})}function Gs(h,_){h.info(function(){return"TIMEOUT: "+_})}hr.prototype.info=function(){};function Cd(h,_){if(!h.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var T=X[h];if(!(T.length<2)){var w=T[1];if(Array.isArray(w)&&!(w.length<1)){var K=w[0];if(K!="noop"&&K!="stop"&&K!="close")for(let de=1;de<w.length;de++)w[de]=""}}}}return vn(X)}catch{return _}}var Ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vl;function $s(){}b($s,Ga),$s.prototype.g=function(){return new XMLHttpRequest},vl=new $s;function ui(h){return encodeURIComponent(String(h))}function bc(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function fr(h,_,T,w){this.j=h,this.i=_,this.l=T,this.S=w||1,this.V=new Yn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dr}function dr(){this.i=null,this.g="",this.h=!1}var Dt={},Yt={};function Vr(h,_,T){h.M=1,h.A=Ys(jt(_)),h.u=T,h.R=!0,$a(h,null)}function $a(h,_){h.F=Date.now(),Pr(h),h.B=jt(h.A);var T=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Wa(T.i,"t",w),h.C=0,T=h.j.L,h.h=new dr,h.g=kc(h.j,T?_:null,!h.u),h.P>0&&(h.O=new It(g(h.Y,h,h.g),h.P)),_=h.V,T=h.g,w=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(zs[0]=K.toString()),K=zs);for(let X=0;X<K.length;X++){const de=we(T,K[X],w||_.handleEvent,!1,_.h||_);if(!de)break;_.g[de.key]=de}_=h.J?I(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Dr(),Rd(h.i,h.v,h.B,h.l,h.S,h.u)}fr.prototype.ba=function(h){h=h.target;const _=this.O;_&&gr(h)==3?_.j():this.Y(h)},fr.prototype.Y=function(h){try{if(h==this.g)e:{const De=gr(this.g),At=this.g.ya(),Je=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||De!=4||At==7||(At==8||Je<=0?Dr(3):Dr(2)),Lr(this);var _=this.g.ca();this.X=_;var T=Id(this);if(this.o=_==200,_c(this.i,this.v,this.B,this.l,this.S,De,_),this.o){if(this.U&&!this.L){t:{if(this.g){var w,K=this.g;if((w=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var X=w;break t}}X=null}if(h=X)kr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ur(this,h);else{this.o=!1,this.m=3,Ot(12),Dn(this),Xn(this);break e}}if(this.R){h=!0;let gt;for(;!this.K&&this.C<T.length;)if(gt=Tc(this,T),gt==Yt){De==4&&(this.m=4,Ot(14),h=!1),kr(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Dt){this.m=4,Ot(15),kr(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else kr(this.i,this.l,gt,null),Ur(this,gt);if(Ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||T.length!=0||this.h.h||(this.m=1,Ot(16),h=!1),this.o=this.o&&h,!h)kr(this.i,this.l,T,"[Invalid Chunked Response]"),Dn(this),Xn(this);else if(T.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ml(de),de.P=!0,Ot(11))}}else kr(this.i,this.l,T,null),Ur(this,T);De==4&&Dn(this),this.o&&!this.K&&(De==4?Oc(this.j,this):(this.o=!1,Pr(this)))}else hi(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),Dn(this),Xn(this)}}}catch{}};function Id(h){if(!Ec(h))return h.g.la();const _=Zt(h.g);if(_==="")return"";let T="";const w=_.length,K=gr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Dn(h),Xn(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<w;X++)h.h.h=!0,T+=h.h.i.decode(_[X],{stream:!(K&&X==w-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function Ec(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Tc(h,_){var T=h.C,w=_.indexOf(`
`,T);return w==-1?Yt:(T=Number(_.substring(T,w)),isNaN(T)?Dt:(w+=1,w+T>_.length?Yt:(_=_.slice(w,w+T),h.C=w+T,_)))}fr.prototype.cancel=function(){this.K=!0,Dn(this)};function Pr(h){h.T=Date.now()+h.H,Ya(h,h.H)}function Ya(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=jr(g(h.aa,h),_)}function Lr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}fr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Gs(this.i,this.B),this.M!=2&&(Dr(),Ot(17)),Dn(this),this.m=2,Xn(this)):Ya(this,this.T-h)};function Xn(h){h.j.I==0||h.K||Oc(h.j,h)}function Dn(h){Lr(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Hi(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Ur(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||zr(T.h,h))){if(!h.L&&zr(T.h,h)&&T.I==3){try{var w=T.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var K=w;if(K[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)no(T),Ji(T);else break e;ta(T),Ot(18)}}else T.xa=K[1],0<T.xa-T.K&&K[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=jr(g(T.Va,T),6e3));qr(T.h)<=1&&T.ta&&(T.ta=void 0)}else $r(T,11)}else if((h.L||T.g==h)&&no(T),!N(_))for(K=T.Ba.g.parse(_),_=0;_<K.length;_++){let Je=K[_];const gt=Je[0];if(!(gt<=T.K))if(T.K=gt,Je=Je[1],T.I==2)if(Je[0]=="c"){T.M=Je[1],T.ba=Je[2];const Zn=Je[3];Zn!=null&&(T.ka=Zn,T.j.info("VER="+T.ka));const Yr=Je[4];Yr!=null&&(T.za=Yr,T.j.info("SVER="+T.za));const yr=Je[5];yr!=null&&typeof yr=="number"&&yr>0&&(w=1.5*yr,T.O=w,T.j.info("backChannelRequestTimeoutMs_="+w)),w=T;const vr=h.g;if(vr){const na=vr.g?vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var X=w.h;X.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(El(X,X.h),X.h=null))}if(w.G){const ro=vr.g?vr.g.getResponseHeader("X-HTTP-Session-Id"):null;ro&&(w.wa=ro,nt(w.J,w.G,ro))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),w=T;var de=h;if(w.na=jc(w,w.L?w.ba:null,w.W),de.L){Tl(w.h,de);var De=de,At=w.O;At&&(De.H=At),De.D&&(Lr(De),Pr(De)),w.g=de}else Ic(w);T.i.length>0&&Kr(T)}else Je[0]!="stop"&&Je[0]!="close"||$r(T,7);else T.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?$r(T,7):Ol(T):Je[0]!="noop"&&T.l&&T.l.qa(Je),T.A=0)}}Dr(4)}catch{}}var Mt=class{constructor(h,_){this.g=h,this.map=_}};function _l(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function qr(h){return h.h?1:h.g?h.g.size:0}function zr(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function El(h,_){h.g?h.g.add(_):h.h=_}function Tl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}_l.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function xl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return A(h.i)}var xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qa(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const w=h[T].indexOf("=");let K,X=null;w>=0?(K=h[T].substring(0,w),X=h[T].substring(w+1)):K=h[T],_(K,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Mn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Mn?(this.l=h.l,Qt(this,h.j),this.o=h.o,this.g=h.g,Gi(this,h.u),this.h=h.h,Sl(this,Rc(h.i)),this.m=h.m):h&&(_=String(h).match(xc))?(this.l=!1,Qt(this,_[1]||"",!0),this.o=Br(_[2]||""),this.g=Br(_[3]||"",!0),Gi(this,_[4]),this.h=Br(_[5]||"",!0),Sl(this,_[6]||"",!0),this.m=Br(_[7]||"")):(this.l=!1,this.i=new $i(null,this.l))}Mn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Qs(_,Xa,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Qs(_,Xa,!0),"@"),h.push(ui(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Qs(T,T.charAt(0)=="/"?Al:Sc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Qs(T,Ac)),h.join("")},Mn.prototype.resolve=function(h){const _=jt(this);let T=!!h.j;T?Qt(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var w=h.h;if(T)Gi(_,h.u);else if(T=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var K=_.h.lastIndexOf("/");K!=-1&&(w=_.h.slice(0,K+1)+w)}if(K=w,K==".."||K==".")w="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){w=K.lastIndexOf("/",0)==0,K=K.split("/");const X=[];for(let de=0;de<K.length;){const De=K[de++];De=="."?w&&de==K.length&&X.push(""):De==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),w&&de==K.length&&X.push("")):(X.push(De),w=!0)}w=X.join("/")}else w=K}return T?_.h=w:T=h.i.toString()!=="",T?Sl(_,Rc(h.i)):T=!!h.m,T&&(_.m=h.m),_};function jt(h){return new Mn(h)}function Qt(h,_,T){h.j=T?Br(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Gi(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Sl(h,_,T){_ instanceof $i?(h.i=_,Ja(h.i,h.l)):(T||(_=Qs(_,Ki)),h.i=new $i(_,h.l))}function nt(h,_,T){h.i.set(_,T)}function Ys(h){return nt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Br(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Qs(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,Tn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Tn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Xa=/[#\/\?@]/g,Sc=/[#\?:]/g,Al=/[#\?]/g,Ki=/[#\?@]/g,Ac=/#/g;function $i(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function xn(h){h.g||(h.g=new Map,h.h=0,h.i&&Qa(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}r=$i.prototype,r.add=function(h,_){xn(this),this.i=null,h=Yi(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function wc(h,_){xn(h),_=Yi(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function wl(h,_){return xn(h),_=Yi(h,_),h.g.has(_)}r.forEach=function(h,_){xn(this),this.g.forEach(function(T,w){T.forEach(function(K){h.call(_,K,w,this)},this)},this)};function Rl(h,_){xn(h);let T=[];if(typeof _=="string")wl(h,_)&&(T=T.concat(h.g.get(Yi(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}r.set=function(h,_){return xn(this),this.i=null,h=Yi(this,h),wl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},r.get=function(h,_){return h?(h=Rl(this,h),h.length>0?String(h[0]):_):_};function Wa(h,_,T){wc(h,_),T.length>0&&(h.i=null,h.g.set(Yi(h,_),A(T)),h.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var T=_[w];const K=ui(T);T=Rl(this,T);for(let X=0;X<T.length;X++){let de=K;T[X]!==""&&(de+="="+ui(T[X])),h.push(de)}}return this.i=h.join("&")};function Rc(h){const _=new $i;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Yi(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ja(h,_){_&&!h.j&&(xn(h),h.i=null,h.g.forEach(function(T,w){const K=w.toLowerCase();w!=K&&(wc(this,w),Wa(this,K,T))},h)),h.j=_}function pr(h,_){const T=new hr;if(c.Image){const w=new Image;w.onload=v(Wn,T,"TestLoadImage: loaded",!0,_,w),w.onerror=v(Wn,T,"TestLoadImage: error",!1,_,w),w.onabort=v(Wn,T,"TestLoadImage: abort",!1,_,w),w.ontimeout=v(Wn,T,"TestLoadImage: timeout",!1,_,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else _(!1)}function Cl(h,_){const T=new hr,w=new AbortController,K=setTimeout(()=>{w.abort(),Wn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:w.signal}).then(X=>{clearTimeout(K),X.ok?Wn(T,"TestPingServer: ok",!0,_):Wn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),Wn(T,"TestPingServer: error",!1,_)})}function Wn(h,_,T,w,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),w(T)}catch{}}function Qi(){this.g=new Bs}function Fr(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Fr,Ga),Fr.prototype.g=function(){return new Xs(this.i,this.h)};function Xs(h,_){ut.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Xs,ut),r=Xs.prototype,r.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,mr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xi(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Za(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Za(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Xi(this):mr(this),this.readyState==3&&Za(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,Xi(this))},r.Na=function(h){this.g&&(this.response=h,Xi(this))},r.ga=function(){this.g&&Xi(this)};function Xi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,mr(h)}r.setRequestHeader=function(h,_){this.A.append(h,_)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function mr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Jn(h){let _="";return je(h,function(T,w){_+=w,_+=":",_+=T,_+=`\r
`}),_}function Ws(h,_,T){e:{for(w in T){var w=!1;break e}w=!0}w||(T=Jn(T),typeof h=="string"?T!=null&&ui(T):nt(h,_,T))}function st(h){ut.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(st,ut);var Hr=/^https?$/i,Il=["POST","PUT"];r=st.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,_,T,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vl.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(X){Js(this,X);return}if(h=T||"",T=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var K in w)T.set(K,w[K]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const X of w.keys())T.set(X,w.get(X));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),K=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Il,_,void 0)>=0)||w||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of T)this.g.setRequestHeader(X,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){Js(this,X)}};function Js(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Nl(h),ci(h)}function Nl(h){h.A||(h.A=!0,xt(h,"complete"),xt(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,xt(this,"complete"),xt(this,"abort"),ci(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ci(this,!0)),st.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Zs(this):this.Xa())},r.Xa=function(){Zs(this)};function Zs(h){if(h.h&&typeof l<"u"){if(h.v&&gr(h)==4)setTimeout(h.Ca.bind(h),0);else if(xt(h,"readystatechange"),gr(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var w;if(w=X===0){let de=String(h.D).match(xc)[1]||null;!de&&c.self&&c.self.location&&(de=c.self.location.protocol.slice(0,-1)),w=!Hr.test(de?de.toLowerCase():"")}T=w}if(T)xt(h,"complete"),xt(h,"success");else{h.o=6;try{var K=gr(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",Nl(h)}}finally{ci(h)}}}}function ci(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||xt(h,"ready");try{T.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function gr(h){return h.g?h.g.readyState:0}r.ca=function(){try{return gr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Ha(_)}};function Zt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function hi(h){const _={};h=(h.g&&gr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(N(h[w]))continue;var T=bc(h[w]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=_[K]||[];_[K]=X,X.push(T)}Ve(_,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Wi(h){this.za=0,this.i=[],this.j=new hr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gr("baseRetryDelayMs",5e3,h),this.Za=Gr("retryDelaySeedMs",1e4,h),this.Ta=Gr("forwardChannelMaxRetries",2,h),this.va=Gr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new _l(h&&h.concurrentRequestLimit),this.Ba=new Qi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Wi.prototype,r.ka=8,r.I=1,r.connect=function(h,_,T,w){Ot(0),this.W=h,this.H=_||{},T&&w!==void 0&&(this.H.OSID=T,this.H.OAID=w),this.F=this.X,this.J=jc(this,null,this.W),Kr(this)};function Ol(h){if(eo(h),h.I==3){var _=h.V++,T=jt(h.J);if(nt(T,"SID",h.M),nt(T,"RID",_),nt(T,"TYPE","terminate"),ea(h,T),_=new fr(h,h.j,_),_.M=2,_.A=Ys(jt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=kc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Pr(_)}Mc(h)}function Ji(h){h.g&&(Ml(h),h.g.cancel(),h.g=null)}function eo(h){Ji(h),h.v&&(c.clearTimeout(h.v),h.v=null),no(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Kr(h){if(!bl(h.h)&&!h.m){h.m=!0;var _=h.Ea;ue||R(),le||(ue(),le=!0),C.add(_,h),h.D=0}}function to(h,_){return qr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=jr(g(h.Ea,h,_),Dc(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new fr(this,this.j,h);let X=this.o;if(this.U&&(X?(X=I(X),ae(X,this.U)):X=this.U),this.u!==null||this.R||(K.J=X,X=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var w=this.i[T];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Cc(this,K,_),T=jt(this.J),nt(T,"RID",h),nt(T,"CVER",22),this.G&&nt(T,"X-HTTP-Session-Id",this.G),ea(this,T),X&&(this.R?_="headers="+ui(Jn(X))+"&"+_:this.u&&Ws(T,this.u,X)),El(this.h,K),this.Ra&&nt(T,"TYPE","init"),this.S?(nt(T,"$req",_),nt(T,"SID","null"),K.U=!0,Vr(K,T,null)):Vr(K,T,_),this.I=2}}else this.I==3&&(h?Dl(this,h):this.i.length==0||bl(this.h)||Dl(this))};function Dl(h,_){var T;_?T=_.l:T=h.V++;const w=jt(h.J);nt(w,"SID",h.M),nt(w,"RID",T),nt(w,"AID",h.K),ea(h,w),h.u&&h.o&&Ws(w,h.u,h.o),T=new fr(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Cc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),El(h.h,T),Vr(T,w,_)}function ea(h,_){h.H&&je(h.H,function(T,w){nt(_,w,T)}),h.l&&je({},function(T,w){nt(_,w,T)})}function Cc(h,_,T){T=Math.min(h.i.length,T);const w=h.l?g(h.l.Ka,h.l,h):null;e:{var K=h.i;let De=-1;for(;;){const At=["count="+T];De==-1?T>0?(De=K[0].g,At.push("ofs="+De)):De=0:At.push("ofs="+De);let Je=!0;for(let gt=0;gt<T;gt++){var X=K[gt].g;const Zn=K[gt].map;if(X-=De,X<0)De=Math.max(0,K[gt].g-100),Je=!1;else try{X="req"+X+"_"||"";try{var de=Zn instanceof Map?Zn:Object.entries(Zn);for(const[Yr,yr]of de){let vr=yr;d(yr)&&(vr=vn(yr)),At.push(X+Yr+"="+encodeURIComponent(vr))}}catch(Yr){throw At.push(X+"type="+encodeURIComponent("_badmap")),Yr}}catch{w&&w(Zn)}}if(Je){de=At.join("&");break e}}de=void 0}return h=h.i.splice(0,T),_.G=h,de}function Ic(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ue||R(),le||(ue(),le=!0),C.add(_,h),h.A=0}}function ta(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=jr(g(h.Da,h),Dc(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,Nc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=jr(g(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),Ji(this),Nc(this))};function Ml(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Nc(h){h.g=new fr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=jt(h.na);nt(_,"RID","rpc"),nt(_,"SID",h.M),nt(_,"AID",h.K),nt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&nt(_,"TO",h.ia),nt(_,"TYPE","xmlhttp"),ea(h,_),h.u&&h.o&&Ws(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Ys(jt(_)),T.u=null,T.R=!0,$a(T,h)}r.Va=function(){this.C!=null&&(this.C=null,Ji(this),ta(this),Ot(19))};function no(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Oc(h,_){var T=null;if(h.g==_){no(h),Ml(h),h.g=null;var w=2}else if(zr(h.h,_))T=_.G,Tl(h.h,_),w=1;else return;if(h.I!=0){if(_.o)if(w==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var K=h.D;w=Ka(),xt(w,new Mr(w,T)),Kr(h)}else Ic(h);else if(K=_.m,K==3||K==0&&_.X>0||!(w==1&&to(h,_)||w==2&&ta(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),K){case 1:$r(h,5);break;case 4:$r(h,10);break;case 3:$r(h,6);break;default:$r(h,2)}}}function Dc(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function $r(h,_){if(h.j.info("Error code "+_),_==2){var T=g(h.bb,h),w=h.Ua;const K=!w;w=new Mn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Qt(w,"https"),Ys(w),K?pr(w.toString(),T):Cl(w.toString(),T)}else Ot(2);h.I=0,h.l&&h.l.pa(_),Mc(h),eo(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Mc(h){if(h.I=0,h.ja=[],h.l){const _=xl(h.h);(_.length!=0||h.i.length!=0)&&(k(h.ja,_),k(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function jc(h,_,T){var w=T instanceof Mn?jt(T):new Mn(T);if(w.g!="")_&&(w.g=_+"."+w.g),Gi(w,w.u);else{var K=c.location;w=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;const X=new Mn(null);w&&Qt(X,w),_&&(X.g=_),K&&Gi(X,K),T&&(X.h=T),w=X}return T=h.G,_=h.wa,T&&_&&nt(w,T,_),nt(w,"VER",h.ka),ea(h,w),w}function kc(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new st(new Fr({ab:T})):new st(h.ma),_.Fa(h.L),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vc(){}r=Vc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Zi(){}Zi.prototype.g=function(h,_){return new _n(h,_)};function _n(h,_){ut.call(this),this.g=new Wi(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!N(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new fi(this)}b(_n,ut),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Ol(this.g)},_n.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=vn(h),h=T);_.i.push(new Mt(_.Ya++,h)),_.I==3&&Kr(_)},_n.prototype.N=function(){this.g.l=null,delete this.j,Ol(this.g),delete this.g,_n.Z.N.call(this)};function Pc(h){ft.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(Pc,ft);function Lc(){Qn.call(this),this.status=1}b(Lc,Qn);function fi(h){this.g=h}b(fi,Vc),fi.prototype.ra=function(){xt(this.g,"a")},fi.prototype.qa=function(h){xt(this.g,new Pc(h))},fi.prototype.pa=function(h){xt(this.g,new Lc)},fi.prototype.oa=function(){xt(this.g,"b")},Zi.prototype.createWebChannel=Zi.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,$O=function(){return new Zi},KO=function(){return Ka()},GO=St,t0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ks.NO_ERROR=0,Ks.TIMEOUT=8,Ks.HTTP_ERROR=6,rf=Ks,yl.COMPLETE="complete",HO=yl,Fs.EventType=Nt,Nt.OPEN="a",Nt.CLOSE="b",Nt.ERROR="c",Nt.MESSAGE="d",ut.prototype.listen=ut.prototype.J,Ru=Fs,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,FO=st}).apply(typeof Gh<"u"?Gh:typeof self<"u"?self:typeof window<"u"?window:{});class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let cl="12.8.0";function E5(r){cl=r}const ja=new X0("@firebase/firestore");function jo(){return ja.logLevel}function me(r,...e){if(ja.logLevel<=Fe.DEBUG){const t=e.map(cb);ja.debug(`Firestore (${cl}): ${r}`,...t)}}function Ui(r,...e){if(ja.logLevel<=Fe.ERROR){const t=e.map(cb);ja.error(`Firestore (${cl}): ${r}`,...t)}}function Qo(r,...e){if(ja.logLevel<=Fe.WARN){const t=e.map(cb);ja.warn(`Firestore (${cl}): ${r}`,...t)}}function cb(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function Ae(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,YO(r,i,t)}function YO(r,e,t){let i=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ui(i),new Error(i)}function tt(r,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,r||YO(e,a,i)}function Oe(r,e){return r}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class QO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(fn.UNAUTHENTICATED)))}shutdown(){}}class x5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class S5{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mi,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mi)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new QO(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class A5{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class w5{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new A5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tt(this.o===void 0,3512);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new xR(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function C5(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class hb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=C5(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function He(r,e){return r<e?-1:r>e?1:0}function n0(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const a=r.charAt(i),l=e.charAt(i);if(a!==l)return Lv(a)===Lv(l)?He(a,l):Lv(a)?1:-1}return He(r.length,e.length)}const I5=55296,N5=57343;function Lv(r){const e=r.charCodeAt(0);return e>=I5&&e<=N5}function Xo(r,e,t){return r.length===e.length&&r.every(((i,a)=>t(i,e[a])))}const SR="__name__";class Zr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ae(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Zr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Zr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return He(e.length,t.length)}static compareSegments(e,t){const i=Zr.isNumericId(e),a=Zr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Zr.extractNumericId(e).compare(Zr.extractNumericId(t)):n0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ds.fromString(e.substring(4,e.length-2))}}class ht extends Zr{construct(e,t,i){return new ht(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new ht(t)}static emptyPath(){return new ht([])}}const O5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Zr{construct(e,t,i){return new an(e,t,i)}static isValidIdentifier(e){return O5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SR}static keyField(){return new an([SR])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ht.fromString(e))}static fromName(e){return new Te(ht.fromString(e).popFirst(5))}static empty(){return new Te(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ht(e.slice()))}}function XO(r,e,t){if(!t)throw new pe(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function D5(r,e,t,i){if(e===!0&&i===!0)throw new pe(ne.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function AR(r){if(!Te.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function wR(r){if(Te.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function WO(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function fd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae(12329,{type:typeof r})}function qi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fd(r);throw new pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function M5(r,e){if(e<=0)throw new pe(ne.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function zt(r,e){const t={typeString:r};return e&&(t.value=e),t}function hc(r,e){if(!WO(r))throw new pe(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const c=r[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new pe(ne.INVALID_ARGUMENT,t);return!0}const RR=-62135596800,CR=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*CR);return new mt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<RR)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CR}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hc(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-RR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:zt("string",mt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new mt(0,0))}static max(){return new Ie(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gu=-1;function j5(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(i===1e9?new mt(t+1,0):new mt(t,i));return new js(a,Te.empty(),e)}function k5(r){return new js(r.readTime,r.key,Gu)}class js{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new js(Ie.min(),Te.empty(),Gu)}static max(){return new js(Ie.max(),Te.empty(),Gu)}}function V5(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(r.documentKey,e.documentKey),t!==0?t:He(r.largestBatchId,e.largestBatchId))}const P5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function hl(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==P5)throw r;me("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,i)=>{t(e)}))}static reject(e){return new ie(((t,i)=>{i(e)}))}static waitFor(e){return new ie(((t,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(m=>i(m)))})),c=!0,l===a&&t()}))}static or(e){let t=ie.resolve(!1);for(const i of e)t=t.next((a=>a?ie.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new ie(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next((v=>{c[g]=v,++d,d===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new ie(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}function U5(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fl(r){return r.name==="IndexedDbTransactionError"}class dd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dd.ce=-1;const fb=-1;function pd(r){return r==null}function Sf(r){return r===0&&1/r==-1/0}function q5(r){return typeof r=="number"&&Number.isInteger(r)&&!Sf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const JO="";function z5(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=IR(e)),e=B5(r.get(t),e);return IR(e)}function B5(r,e){let t=e;const i=r.length;for(let a=0;a<i;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case JO:t+="";break;default:t+=l}}return t}function IR(r){return r+JO+""}function NR(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function qa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function ZO(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class _t{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kh(this.root,e,this.comparator,!0)}}class Kh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??sn.RED,this.left=a??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new sn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return sn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new OR(this.data.getIterator())}getIteratorFrom(e){return new OR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class OR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sr{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Sr([])}unionWith(e){let t=new $t(an.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class e2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new e2("Invalid base64 string: "+l):l}})(e);return new on(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new on(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const F5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(r){if(tt(!!r,39018),typeof r=="string"){let e=0;const t=F5.exec(r);if(tt(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ct(r.seconds),nanos:Ct(r.nanos)}}function Ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vs(r){return typeof r=="string"?on.fromBase64String(r):on.fromUint8Array(r)}const t2="server_timestamp",n2="__type__",r2="__previous_value__",i2="__local_write_time__";function db(r){return(r?.mapValue?.fields||{})[n2]?.stringValue===t2}function md(r){const e=r.mapValue.fields[r2];return db(e)?md(e):e}function Ku(r){const e=ks(r.mapValue.fields[i2].timestampValue);return new mt(e.seconds,e.nanos)}class H5{constructor(e,t,i,a,l,c,d,m,g,v,b){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=b}}const Af="(default)";class $u{constructor(e,t){this.projectId=e,this.database=t||Af}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===Af}isEqual(e){return e instanceof $u&&e.projectId===this.projectId&&e.database===this.database}}function G5(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(r.options.projectId,e)}const s2="__type__",K5="__max__",$h={mapValue:{}},a2="__vector__",wf="value";function Ps(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?db(r)?4:Y5(r)?9007199254740991:$5(r)?10:11:Ae(28295,{value:r})}function oi(r,e){if(r===e)return!0;const t=Ps(r);if(t!==Ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ku(r).isEqual(Ku(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ks(a.timestampValue),d=ks(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return Vs(a.bytesValue).isEqual(Vs(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ct(a.geoPointValue.latitude)===Ct(l.geoPointValue.latitude)&&Ct(a.geoPointValue.longitude)===Ct(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ct(a.integerValue)===Ct(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ct(a.doubleValue),d=Ct(l.doubleValue);return c===d?Sf(c)===Sf(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return Xo(r.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(NR(c)!==NR(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!oi(c[m],d[m])))return!1;return!0})(r,e);default:return Ae(52216,{left:r})}}function Yu(r,e){return(r.values||[]).find((t=>oi(t,e)))!==void 0}function Wo(r,e){if(r===e)return 0;const t=Ps(r),i=Ps(e);if(t!==i)return He(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Ct(l.integerValue||l.doubleValue),m=Ct(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(r,e);case 3:return DR(r.timestampValue,e.timestampValue);case 4:return DR(Ku(r),Ku(e));case 5:return n0(r.stringValue,e.stringValue);case 6:return(function(l,c){const d=Vs(l),m=Vs(c);return d.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=He(d[g],m[g]);if(v!==0)return v}return He(d.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=He(Ct(l.latitude),Ct(c.latitude));return d!==0?d:He(Ct(l.longitude),Ct(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return MR(r.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},g=d[wf]?.arrayValue,v=m[wf]?.arrayValue,b=He(g?.values?.length||0,v?.values?.length||0);return b!==0?b:MR(g,v)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===$h.mapValue&&c===$h.mapValue)return 0;if(l===$h.mapValue)return 1;if(c===$h.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const x=n0(m[b],v[b]);if(x!==0)return x;const A=Wo(d[m[b]],g[v[b]]);if(A!==0)return A}return He(m.length,v.length)})(r.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function DR(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return He(r,e);const t=ks(r),i=ks(e),a=He(t.seconds,i.seconds);return a!==0?a:He(t.nanos,i.nanos)}function MR(r,e){const t=r.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Wo(t[a],i[a]);if(l)return l}return He(t.length,i.length)}function Jo(r){return r0(r)}function r0(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=ks(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Vs(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Te.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=r0(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${r0(t.fields[c])}`;return a+"}"})(r.mapValue):Ae(61005,{value:r})}function sf(r){switch(Ps(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=md(r);return e?16+sf(e):16;case 5:return 2*r.stringValue.length;case 6:return Vs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+sf(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let a=0;return qa(i.fields,((l,c)=>{a+=l.length+sf(c)})),a})(r.mapValue);default:throw Ae(13486,{value:r})}}function jR(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function i0(r){return!!r&&"integerValue"in r}function pb(r){return!!r&&"arrayValue"in r}function kR(r){return!!r&&"nullValue"in r}function VR(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function af(r){return!!r&&"mapValue"in r}function $5(r){return(r?.mapValue?.fields||{})[s2]?.stringValue===a2}function Vu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return qa(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Vu(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vu(r.arrayValue.values[t]);return e}return{...r}}function Y5(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===K5}class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!af(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vu(t)}setAll(e){let t=an.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=Vu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());af(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];af(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){qa(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new lr(Vu(this.value))}}function o2(r){const e=[];return qa(r.fields,((t,i)=>{const a=new an([t]);if(af(i)){const l=o2(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Sr(e)}class dn{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,Ie.min(),Ie.min(),Ie.min(),lr.empty(),0)}static newFoundDocument(e,t,i,a){return new dn(e,1,t,Ie.min(),i,a,0)}static newNoDocument(e,t){return new dn(e,2,t,Ie.min(),Ie.min(),lr.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Ie.min(),Ie.min(),lr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rf{constructor(e,t){this.position=e,this.inclusive=t}}function PR(r,e,t){let i=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?i=Te.comparator(Te.fromName(c.referenceValue),t.key):i=Wo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function LR(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!oi(r.position[t],e.position[t]))return!1;return!0}class Qu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Q5(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class l2{}class qt extends l2{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new W5(e,t,i):t==="array-contains"?new eq(e,i):t==="in"?new tq(e,i):t==="not-in"?new nq(e,i):t==="array-contains-any"?new rq(e,i):new qt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new J5(e,i):new Z5(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Wo(t,this.value)):t!==null&&Ps(this.value)===Ps(t)&&this.matchesComparison(Wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends l2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ir(e,t)}matches(e){return u2(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function u2(r){return r.op==="and"}function c2(r){return X5(r)&&u2(r)}function X5(r){for(const e of r.filters)if(e instanceof Ir)return!1;return!0}function s0(r){if(r instanceof qt)return r.field.canonicalString()+r.op.toString()+Jo(r.value);if(c2(r))return r.filters.map((e=>s0(e))).join(",");{const e=r.filters.map((t=>s0(t))).join(",");return`${r.op}(${e})`}}function h2(r,e){return r instanceof qt?(function(i,a){return a instanceof qt&&i.op===a.op&&i.field.isEqual(a.field)&&oi(i.value,a.value)})(r,e):r instanceof Ir?(function(i,a){return a instanceof Ir&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&h2(c,a.filters[d])),!0):!1})(r,e):void Ae(19439)}function f2(r){return r instanceof qt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Jo(t.value)}`})(r):r instanceof Ir?(function(t){return t.op.toString()+" {"+t.getFilters().map(f2).join(" ,")+"}"})(r):"Filter"}class W5 extends qt{constructor(e,t,i){super(e,t,i),this.key=Te.fromName(i.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class J5 extends qt{constructor(e,t){super(e,"in",t),this.keys=d2("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Z5 extends qt{constructor(e,t){super(e,"not-in",t),this.keys=d2("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function d2(r,e){return(e.arrayValue?.values||[]).map((t=>Te.fromName(t.referenceValue)))}class eq extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pb(t)&&Yu(t.arrayValue,this.value)}}class tq extends qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yu(this.value.arrayValue,t)}}class nq extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yu(this.value.arrayValue,t)}}class rq extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pb(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Yu(this.value.arrayValue,i)))}}class iq{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function UR(r,e=null,t=[],i=[],a=null,l=null,c=null){return new iq(r,e,t,i,a,l,c)}function mb(r){const e=Oe(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>s0(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),pd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Jo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Jo(i))).join(",")),e.Te=t}return e.Te}function gb(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Q5(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!h2(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!LR(r.startAt,e.startAt)&&LR(r.endAt,e.endAt)}function a0(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class dl{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function sq(r,e,t,i,a,l,c,d){return new dl(r,e,t,i,a,l,c,d)}function yb(r){return new dl(r)}function qR(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function aq(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function p2(r){return r.collectionGroup!==null}function Pu(r){const e=Oe(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new $t(an.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Qu(l,i))})),t.has(an.keyField().canonicalString())||e.Ie.push(new Qu(an.keyField(),i))}return e.Ie}function ri(r){const e=Oe(r);return e.Ee||(e.Ee=oq(e,Pu(r))),e.Ee}function oq(r,e){if(r.limitType==="F")return UR(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Qu(a.field,l)}));const t=r.endAt?new Rf(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Rf(r.startAt.position,r.startAt.inclusive):null;return UR(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function o0(r,e){const t=r.filters.concat([e]);return new dl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function lq(r,e){const t=r.explicitOrderBy.concat([e]);return new dl(r.path,r.collectionGroup,t,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Cf(r,e,t){return new dl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function gd(r,e){return gb(ri(r),ri(e))&&r.limitType===e.limitType}function m2(r){return`${mb(ri(r))}|lt:${r.limitType}`}function ko(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>f2(a))).join(", ")}]`),pd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Jo(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Jo(a))).join(",")),`Target(${i})`})(ri(r))}; limitType=${r.limitType})`}function yd(r,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Te.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,a){for(const l of Pu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,m){const g=PR(c,d,m);return c.inclusive?g<=0:g<0})(i.startAt,Pu(i),a)||i.endAt&&!(function(c,d,m){const g=PR(c,d,m);return c.inclusive?g>=0:g>0})(i.endAt,Pu(i),a))})(r,e)}function uq(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function g2(r){return(e,t)=>{let i=!1;for(const a of Pu(r)){const l=cq(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function cq(r,e,t){const i=r.field.isKeyField()?Te.comparator(e.key,t.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Wo(m,g):Ae(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Ae(19790,{direction:r.dir})}}class za{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){qa(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return ZO(this.inner)}size(){return this.innerSize}}const hq=new _t(Te.comparator);function zi(){return hq}const y2=new _t(Te.comparator);function Cu(...r){let e=y2;for(const t of r)e=e.insert(t.key,t);return e}function v2(r){let e=y2;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Ta(){return Lu()}function _2(){return Lu()}function Lu(){return new za((r=>r.toString()),((r,e)=>r.isEqual(e)))}const fq=new _t(Te.comparator),dq=new $t(Te.comparator);function Ge(...r){let e=dq;for(const t of r)e=e.add(t);return e}const pq=new $t(He);function mq(){return pq}function vb(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(e)?"-0":e}}function b2(r){return{integerValue:""+r}}function gq(r,e){return q5(e)?b2(e):vb(r,e)}class vd{constructor(){this._=void 0}}function yq(r,e,t){return r instanceof If?(function(a,l){const c={fields:{[n2]:{stringValue:t2},[i2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&db(l)&&(l=md(l)),l&&(c.fields[r2]=l),{mapValue:c}})(t,e):r instanceof Xu?T2(r,e):r instanceof Wu?x2(r,e):(function(a,l){const c=E2(a,l),d=zR(c)+zR(a.Ae);return i0(c)&&i0(a.Ae)?b2(d):vb(a.serializer,d)})(r,e)}function vq(r,e,t){return r instanceof Xu?T2(r,e):r instanceof Wu?x2(r,e):t}function E2(r,e){return r instanceof Nf?(function(i){return i0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class If extends vd{}class Xu extends vd{constructor(e){super(),this.elements=e}}function T2(r,e){const t=S2(e);for(const i of r.elements)t.some((a=>oi(a,i)))||t.push(i);return{arrayValue:{values:t}}}class Wu extends vd{constructor(e){super(),this.elements=e}}function x2(r,e){let t=S2(e);for(const i of r.elements)t=t.filter((a=>!oi(a,i)));return{arrayValue:{values:t}}}class Nf extends vd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function zR(r){return Ct(r.integerValue||r.doubleValue)}function S2(r){return pb(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function _q(r,e){return r.field.isEqual(e.field)&&(function(i,a){return i instanceof Xu&&a instanceof Xu||i instanceof Wu&&a instanceof Wu?Xo(i.elements,a.elements,oi):i instanceof Nf&&a instanceof Nf?oi(i.Ae,a.Ae):i instanceof If&&a instanceof If})(r.transform,e.transform)}class bq{constructor(e,t){this.version=e,this.transformResults=t}}class wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function of(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _d{}function A2(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new _b(r.key,wr.none()):new fc(r.key,r.data,wr.none());{const t=r.data,i=lr.empty();let a=new $t(an.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ba(r.key,i,new Sr(a.toArray()),wr.none())}}function Eq(r,e,t){r instanceof fc?(function(a,l,c){const d=a.value.clone(),m=FR(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,t):r instanceof Ba?(function(a,l,c){if(!of(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=FR(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(w2(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(r,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Uu(r,e,t,i){return r instanceof fc?(function(l,c,d,m){if(!of(l.precondition,c))return d;const g=l.value.clone(),v=HR(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(r,e,t,i):r instanceof Ba?(function(l,c,d,m){if(!of(l.precondition,c))return d;const g=HR(l.fieldTransforms,m,c),v=c.data;return v.setAll(w2(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(r,e,t,i):(function(l,c,d){return of(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,t)}function Tq(r,e){let t=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),l=E2(i.transform,a||null);l!=null&&(t===null&&(t=lr.empty()),t.set(i.field,l))}return t||null}function BR(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Xo(i,a,((l,c)=>_q(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fc extends _d{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ba extends _d{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function w2(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function FR(r,e,t){const i=new Map;tt(r.length===t.length,32656,{Ve:t.length,de:r.length});for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,vq(c,d,t[a]))}return i}function HR(r,e,t){const i=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);i.set(a.field,yq(l,c,e))}return i}class _b extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xq extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sq{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Eq(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Uu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Uu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=_2();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=A2(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ie.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,((t,i)=>BR(t,i)))&&Xo(this.baseMutations,e.baseMutations,((t,i)=>BR(t,i)))}}class bb{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){tt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return fq})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new bb(e,t,i,a)}}class Aq{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wq{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ut,Ye;function Rq(r){switch(r){case ne.OK:return Ae(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ae(15467,{code:r})}}function R2(r){if(r===void 0)return Ui("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Ut.OK:return ne.OK;case Ut.CANCELLED:return ne.CANCELLED;case Ut.UNKNOWN:return ne.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return ne.INTERNAL;case Ut.UNAVAILABLE:return ne.UNAVAILABLE;case Ut.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ut.NOT_FOUND:return ne.NOT_FOUND;case Ut.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ut.ABORTED:return ne.ABORTED;case Ut.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ut.DATA_LOSS:return ne.DATA_LOSS;default:return Ae(39323,{code:r})}}(Ye=Ut||(Ut={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function Cq(){return new TextEncoder}const Iq=new Ds([4294967295,4294967295],0);function GR(r){const e=Cq().encode(r),t=new BO;return t.update(e),new Uint8Array(t.digest())}function KR(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ds([t,i],0),new Ds([a,l],0)]}class Eb{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Iu(`Invalid padding: ${t}`);if(i<0)throw new Iu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ds.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(Ds.fromNumber(i)));return a.compare(Iq)===1&&(a=new Ds([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=GR(e),[i,a]=KR(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Eb(l,a,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=GR(e),[i,a]=KR(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bd{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new bd(Ie.min(),a,new _t(He),zi(),Ge())}}class dc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new dc(i,t,Ge(),Ge(),Ge())}}class lf{constructor(e,t,i,a){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=a}}class C2{constructor(e,t){this.targetId=e,this.Ce=t}}class I2{constructor(e,t,i=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class $R{constructor(){this.ve=0,this.Fe=YR(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),t=Ge(),i=Ge();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ae(38017,{changeType:l})}})),new dc(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=YR()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Nq{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.He=Yh(),this.Je=Yh(),this.Ze=new _t(He)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(a0(l))if(i===0){const c=new Te(l.path);this.et(t,c,dn.newNoDocument(c,Ie.min()))}else tt(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Vs(i).toUint8Array()}catch(m){if(m instanceof e2)return Qo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Eb(c,a,l)}catch(m){return Qo(m instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&a0(d.target)){const m=new Te(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,dn.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let i=Ge();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new bd(e,t,this.Ze,this.je,i);return this.je=zi(),this.He=Yh(),this.Je=Yh(),this.Ze=new _t(He),a}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new $R,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new $t(He),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new $t(He),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $R),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Yh(){return new _t(Te.comparator)}function YR(){return new _t(Te.comparator)}const Oq={asc:"ASCENDING",desc:"DESCENDING"},Dq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mq={and:"AND",or:"OR"};class jq{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function l0(r,e){return r.useProto3Json||pd(e)?e:{value:e}}function Of(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N2(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kq(r,e){return Of(r,e.toTimestamp())}function ii(r){return tt(!!r,49232),Ie.fromTimestamp((function(t){const i=ks(t);return new mt(i.seconds,i.nanos)})(r))}function Tb(r,e){return u0(r,e).canonicalString()}function u0(r,e){const t=(function(a){return new ht(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function O2(r){const e=ht.fromString(r);return tt(V2(e),10190,{key:e.toString()}),e}function c0(r,e){return Tb(r.databaseId,e.path)}function Uv(r,e){const t=O2(e);if(t.get(1)!==r.databaseId.projectId)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Te(M2(t))}function D2(r,e){return Tb(r.databaseId,e)}function Vq(r){const e=O2(r);return e.length===4?ht.emptyPath():M2(e)}function h0(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function M2(r){return tt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function QR(r,e,t){return{name:c0(r,e),fields:t.value.mapValue.fields}}function Pq(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(tt(v===void 0||typeof v=="string",58123),on.fromBase64String(v||"")):(tt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),on.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?ne.UNKNOWN:R2(g.code);return new pe(v,g.message||"")})(c);t=new I2(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Uv(r,i.document.name),l=ii(i.document.updateTime),c=i.document.createTime?ii(i.document.createTime):Ie.min(),d=new lr({mapValue:{fields:i.document.fields}}),m=dn.newFoundDocument(a,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new lf(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Uv(r,i.document),l=i.readTime?ii(i.readTime):Ie.min(),c=dn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new lf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Uv(r,i.document),l=i.removedTargetIds||[];t=new lf([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new wq(a,l),d=i.targetId;t=new C2(d,c)}}return t}function Lq(r,e){let t;if(e instanceof fc)t={update:QR(r,e.key,e.value)};else if(e instanceof _b)t={delete:c0(r,e.key)};else if(e instanceof Ba)t={update:QR(r,e.key,e.data),updateMask:$q(e.fieldMask)};else{if(!(e instanceof xq))return Ae(16599,{dt:e.type});t={verify:c0(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof If)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Nf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ae(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:kq(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)})(r,e.precondition)),t}function Uq(r,e){return r&&r.length>0?(tt(e!==void 0,14353),r.map((t=>(function(a,l){let c=a.updateTime?ii(a.updateTime):ii(l);return c.isEqual(Ie.min())&&(c=ii(l)),new bq(c,a.transformResults||[])})(t,e)))):[]}function qq(r,e){return{documents:[D2(r,e.path)]}}function zq(r,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=D2(r,a);const l=(function(g){if(g.length!==0)return k2(Ir.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(x){return{field:Vo(x.field),direction:Hq(x.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=l0(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function Bq(r){let e=Vq(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){tt(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(b){const x=j2(b);return x instanceof Ir&&c2(x)?x.getFilters():[x]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((x=>(function(k){return new Qu(Po(k.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(x)))})(t.orderBy));let d=null;t.limit&&(d=(function(b){let x;return x=typeof b=="object"?b.value:b,pd(x)?null:x})(t.limit));let m=null;t.startAt&&(m=(function(b){const x=!!b.before,A=b.values||[];return new Rf(A,x)})(t.startAt));let g=null;return t.endAt&&(g=(function(b){const x=!b.before,A=b.values||[];return new Rf(A,x)})(t.endAt)),sq(e,a,c,l,d,"F",m,g)}function Fq(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function j2(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Po(t.unaryFilter.field);return qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Po(t.unaryFilter.field);return qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Po(t.unaryFilter.field);return qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Po(t.unaryFilter.field);return qt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(r):r.fieldFilter!==void 0?(function(t){return qt.create(Po(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Ir.create(t.compositeFilter.filters.map((i=>j2(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(t.compositeFilter.op))})(r):Ae(30097,{filter:r})}function Hq(r){return Oq[r]}function Gq(r){return Dq[r]}function Kq(r){return Mq[r]}function Vo(r){return{fieldPath:r.canonicalString()}}function Po(r){return an.fromServerFormat(r.fieldPath)}function k2(r){return r instanceof qt?(function(t){if(t.op==="=="){if(VR(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NAN"}};if(kR(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(VR(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NAN"}};if(kR(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(t.field),op:Gq(t.op),value:t.value}}})(r):r instanceof Ir?(function(t){const i=t.getFilters().map((a=>k2(a)));return i.length===1?i[0]:{compositeFilter:{op:Kq(t.op),filters:i}}})(r):Ae(54877,{filter:r})}function $q(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function V2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function P2(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Cs{constructor(e,t,i,a,l=Ie.min(),c=Ie.min(),d=on.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Yq{constructor(e){this.yt=e}}function Qq(r){const e=Bq({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Cf(e,e.limit,"L"):e}class Xq{constructor(){this.Sn=new Wq}addToCollectionParentIndex(e,t){return this.Sn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(js.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(js.min())}updateCollectionGroup(e,t,i){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class Wq{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new $t(ht.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new $t(ht.comparator)).toArray()}}const XR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L2=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(L2,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class Zo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Zo(0)}static ar(){return new Zo(-1)}}const WR="LruGarbageCollector",Jq=1048576;function JR([r,e],[t,i]){const a=He(r,t);return a===0?He(e,i):a}class Zq{constructor(e){this.Pr=e,this.buffer=new $t(JR),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();JR(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class e9{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(WR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fl(t)?me(WR,"Ignoring IndexedDB error during garbage collection: ",t):await hl(t)}await this.Ar(3e5)}))}}class t9{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(dd.ce);const i=new Zq(t);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(XR)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XR):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,a,l,c,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,d=Date.now(),this.removeTargets(e,i,t)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(g=Date.now(),jo()<=Fe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function n9(r,e){return new t9(r,e)}class r9{constructor(){this.changes=new za((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ie.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class i9{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class s9{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&Uu(i.mutation,a,Sr.empty(),mt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ge()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ge()){const a=Ta();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=Cu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Ta();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ge())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,a){let l=zi();const c=Lu(),d=(function(){return Lu()})();return t.forEach(((m,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Ba)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Uu(v.mutation,g,v.mutation.getFieldMask(),mt.now())):c.set(g.key,Sr.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>d.set(g,new i9(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=Lu();let a=new _t(((c,d)=>c-d)),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let v=i.get(m)||Sr.empty();v=d.applyToLocalView(g,v),i.set(m,v);const b=(a.get(d.batchId)||Ge()).add(m);a=a.insert(d.batchId,b)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,b=_2();v.forEach((x=>{if(!l.has(x)){const A=A2(t.get(x),i.get(x));A!==null&&b.set(x,A),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ie.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return aq(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):p2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ie.resolve(Ta());let d=Gu,m=l;return c.next((g=>ie.forEach(g,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((x=>{m=m.insert(v,x)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Ge()))).next((v=>({batchId:d,changes:v2(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next((i=>{let a=Cu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Cu();return this.indexManager.getCollectionParents(e,l).next((d=>ie.forEach(d,(m=>{const g=(function(b,x){return new dl(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((v=>{v.forEach(((b,x)=>{c=c.insert(b,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,dn.newInvalidDocument(v)))}));let d=Cu();return c.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&Uu(v.mutation,g,Sr.empty(),mt.now()),yd(t,g)&&(d=d.insert(m,g))})),d}))}}class a9{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ie.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:ii(a.createTime)}})(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:Qq(a.bundledQuery),readTime:ii(a.readTime)}})(t)),ie.resolve()}}class o9{constructor(){this.overlays=new _t(Te.comparator),this.Lr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ta();return ie.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.bt(e,t,l)})),ie.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),ie.resolve()}getOverlaysForCollection(e,t,i){const a=Ta(),l=t.length+1,c=new Te(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new _t(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=Ta(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Ta(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return ie.resolve(d)}bt(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Aq(t,i));let l=this.Lr.get(t);l===void 0&&(l=Ge(),this.Lr.set(t,l)),this.Lr.set(t,l.add(i.key))}}class l9{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}class xb{constructor(){this.kr=new $t(Wt.Kr),this.qr=new $t(Wt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new Wt(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new Wt(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new Te(new ht([])),i=new Wt(t,e),a=new Wt(t,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Te(new ht([])),i=new Wt(t,e),a=new Wt(t,e+1);let l=Ge();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Wt(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Wt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Te.comparator(e.key,t.key)||He(e.Hr,t.Hr)}static Ur(e,t){return He(e.Hr,t.Hr)||Te.comparator(e.key,t.key)}}class u9{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new $t(Wt.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Sq(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Wt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,t){return ie.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Xr(i),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?fb:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Wt(t,0),a=new Wt(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $t(He);return t.forEach((a=>{const l=new Wt(a,0),c=new Wt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{i=i.add(d.Hr)}))})),ie.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Te.isDocumentKey(l)||(l=l.child(""));const c=new Wt(new Te(l),0);let d=new $t(He);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Hr)),!0)}),c),ie.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){tt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ie.forEach(t.mutations,(a=>{const l=new Wt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new Wt(t,0),a=this.Jr.firstAfterOrEqual(i);return ie.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class c9{constructor(e){this.ti=e,this.docs=(function(){return new _t(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ie.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let i=zi();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():dn.newInvalidDocument(a))})),ie.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=zi();const c=t.path,d=new Te(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||V5(k5(v),i)<=0||(a.has(v.key)||yd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Ae(9500)}ni(e,t){return ie.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new h9(this)}getSize(e){return ie.resolve(this.size)}}class h9 extends r9{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),ie.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class f9{constructor(e){this.persistence=e,this.ri=new za((t=>mb(t)),gb),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ii=0,this.si=new xb,this.targetCount=0,this.oi=Zo._r()}forEachTarget(e,t){return this.ri.forEach(((i,a)=>t(a))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),ie.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Zo(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.lr(t),ie.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ie.waitFor(l).next((()=>a))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return ie.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),ie.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return ie.resolve(i)}containsKey(e,t){return ie.resolve(this.si.containsKey(t))}}class U2{constructor(e,t){this._i={},this.overlays={},this.ai=new dd(0),this.ui=!1,this.ui=!0,this.ci=new l9,this.referenceDelegate=e(this),this.li=new f9(this),this.indexManager=new Xq,this.remoteDocumentCache=(function(a){return new c9(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new Yq(t),this.Pi=new a9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new o9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new u9(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){me("MemoryPersistence","Starting transaction:",e);const a=new d9(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return ie.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class d9 extends L5{constructor(e){super(),this.currentSequenceNumber=e}}class Sb{constructor(e){this.persistence=e,this.Ri=new xb,this.Ai=null}static Vi(e){return new Sb(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),ie.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(i=>{const a=Te.fromPath(i);return this.mi(e,a).next((l=>{l||t.removeEntry(a,Ie.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ie.or([()=>ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Df{constructor(e,t){this.persistence=e,this.fi=new za((i=>z5(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=n9(this,t)}static Vi(e,t){return new Df(e,t)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return ie.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?ie.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,t).next((d=>{d||(i++,l.removeEntry(c,Ie.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ie.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sf(e.data.value)),t}wr(e,t,i){return ie.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return ie.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ab{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=a}static Es(e,t){let i=Ge(),a=Ge();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ab(e,t.fromCache,i,a)}}class p9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class m9{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return n3()?8:U5(gn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new p9;return this.ys(e,t,c).next((d=>{if(l.result=d,this.As)return this.ws(e,t,c,d.size)}))})).next((()=>l.result))}ws(e,t,i,a){return i.documentReadCount<this.Vs?(jo()<=Fe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(jo()<=Fe.DEBUG&&me("QueryEngine","Query:",ko(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(jo()<=Fe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(t))):ie.resolve())}gs(e,t){if(qR(t))return ie.resolve(null);let i=ri(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Cf(t,null,"F"),i=ri(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ge(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.bs(t,d);return this.Ss(t,g,c,m.readTime)?this.gs(e,Cf(t,null,"F")):this.Ds(e,g,t,m)}))))})))))}ps(e,t,i,a){return qR(t)||a.isEqual(Ie.min())?ie.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,i,a)?ie.resolve(null):(jo()<=Fe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ko(t)),this.Ds(e,c,t,j5(a,Gu)).next((d=>d)))}))}bs(e,t){let i=new $t(g2(e));return t.forEach(((a,l)=>{yd(e,l)&&(i=i.add(l))})),i}Ss(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,i){return jo()<=Fe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",ko(t)),this.fs.getDocumentsMatchingQuery(e,t,js.min(),i)}Ds(e,t,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const wb="LocalStore",g9=3e8;class y9{constructor(e,t,i,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new _t(He),this.Fs=new za((l=>mb(l)),gb),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s9(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function v9(r,e,t,i){return new y9(r,e,t,i)}async function q2(r,e){const t=Oe(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let m=Ge();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(i,m).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function _9(r,e){const t=Oe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,v){const b=g.batch,x=b.keys();let A=ie.resolve();return x.forEach((k=>{A=A.next((()=>v.getEntry(m,k))).next((L=>{const j=g.docVersions.get(k);tt(j!==null,48541),L.version.compareTo(j)<0&&(b.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),v.addEntry(L)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(m,b)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let m=Ge();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function z2(r){const e=Oe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function b9(r,e){const t=Oe(r),i=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const d=[];e.targetChanges.forEach(((v,b)=>{const x=a.get(b);if(!x)return;d.push(t.li.removeMatchingKeys(l,v.removedDocuments,b).next((()=>t.li.addMatchingKeys(l,v.addedDocuments,b))));let A=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken(on.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),a=a.insert(b,A),(function(L,j,H){return L.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=g9?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(x,A,v)&&d.push(t.li.updateTargetData(l,A))}));let m=zi(),g=Ge();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(E9(l,c,e.documentUpdates).next((v=>{m=v.Bs,g=v.Ls}))),!i.isEqual(Ie.min())){const v=t.li.getLastRemoteSnapshotVersion(l).next((b=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return ie.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(t.vs=a,l)))}function E9(r,e,t){let i=Ge(),a=Ge();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let c=zi();return t.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):me(wb,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function T9(r,e){const t=Oe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=fb),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function x9(r,e){const t=Oe(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.li.getTargetData(i,e).next((l=>l?(a=l,ie.resolve(a)):t.li.allocateTargetId(i).next((c=>(a=new Cs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function f0(r,e,t){const i=Oe(r),a=i.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!fl(c))throw c;me(wb,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function ZR(r,e,t){const i=Oe(r);let a=Ie.min(),l=Ge();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,v){const b=Oe(m),x=b.Fs.get(v);return x!==void 0?ie.resolve(b.vs.get(x)):b.li.getTargetData(g,v)})(i,c,ri(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,t?a:Ie.min(),t?l:Ge()))).next((d=>(S9(i,uq(e),d),{documents:d,ks:l})))))}function S9(r,e,t){let i=r.Ms.get(e)||Ie.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Ms.set(e,i)}class eC{constructor(){this.activeTargetIds=mq()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A9{constructor(){this.vo=new eC,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new eC,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class w9{Mo(e){}shutdown(){}}const tC="ConnectivityMonitor";class nC{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(tC,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(tC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qh=null;function d0(){return Qh===null?Qh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qh++,"0x"+Qh.toString(16)}const qv="RestConnection",R9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class C9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Af?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,t,i,a,l){const c=d0(),d=this.Qo(e,t.toUriEncodedString());me(qv,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:g}=new URL(d),v=ol(g);return this.zo(e,d,m,i,v).then((b=>(me(qv,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Qo(qv,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",i),b}))}jo(e,t,i,a,l,c){return this.Wo(e,t,i,a,l)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const i=R9[e];let a=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class I9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const cn="WebChannelConnection",Tu=(r,e,t)=>{r.listen(e,(i=>{try{t(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class zo extends C9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!zo.c_){const e=KO();Tu(e,GO.STAT_EVENT,(t=>{t.stat===t0.PROXY?me(cn,"STAT_EVENT: detected buffering proxy"):t.stat===t0.NOPROXY&&me(cn,"STAT_EVENT: detected no buffering proxy")})),zo.c_=!0}}zo(e,t,i,a,l){const c=d0();return new Promise(((d,m)=>{const g=new FO;g.setWithCredentials(!0),g.listenOnce(HO.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case rf.NO_ERROR:const b=g.getResponseJson();me(cn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case rf.TIMEOUT:me(cn,`RPC '${e}' ${c} timed out`),m(new pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case rf.HTTP_ERROR:const x=g.getStatus();if(me(cn,`RPC '${e}' ${c} failed with status:`,x,"response text:",g.getResponseText()),x>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const k=A?.error;if(k&&k.status&&k.message){const L=(function(H){const B=H.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(B)>=0?B:ne.UNKNOWN})(k.status);m(new pe(L,k.message))}else m(new pe(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new pe(ne.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(cn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);me(cn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,i,15)}))}T_(e,t,i){const a=d0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const g=l.join("");me(cn,`Creating RPC '${e}' stream ${a}: ${g}`,d);const v=c.createWebChannel(g,d);this.I_(v);let b=!1,x=!1;const A=new I9({Ho:k=>{x?me(cn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(b||(me(cn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),me(cn,`RPC '${e}' stream ${a} sending:`,k),v.send(k))},Jo:()=>v.close()});return Tu(v,Ru.EventType.OPEN,(()=>{x||(me(cn,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),Tu(v,Ru.EventType.CLOSE,(()=>{x||(x=!0,me(cn,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(v))})),Tu(v,Ru.EventType.ERROR,(k=>{x||(x=!0,Qo(cn,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),A.o_(new pe(ne.UNAVAILABLE,"The operation could not be completed")))})),Tu(v,Ru.EventType.MESSAGE,(k=>{if(!x){const L=k.data[0];tt(!!L,16349);const j=L,H=j?.error||j[0]?.error;if(H){me(cn,`RPC '${e}' stream ${a} received error:`,H);const B=H.status;let W=(function(le){const C=Ut[le];if(C!==void 0)return R2(C)})(B),oe=H.message;W===void 0&&(W=ne.INTERNAL,oe="Unknown error status: "+B+" with message "+H.message),x=!0,A.o_(new pe(W,oe)),v.close()}else me(cn,`RPC '${e}' stream ${a} received:`,L),A.__(L)}})),zo.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return $O()}}function N9(r){return new zo(r)}function zv(){return typeof document<"u"?document:null}function Ed(r){return new jq(r,!0)}zo.c_=!1;class B2{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const rC="PersistentStream";class F2{constructor(e,t,i,a,l,c,d,m){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new B2(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Ui(t.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new pe(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(rC,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(me(rC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class O9 extends F2{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Pq(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ie.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?ii(c.readTime):Ie.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=h0(this.serializer),t.addTarget=(function(l,c){let d;const m=c.target;if(d=a0(m)?{documents:qq(l,m)}:{query:zq(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=N2(l,c.resumeToken);const g=l0(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Of(l,c.snapshotVersion.toTimestamp());const g=l0(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const i=Fq(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=h0(this.serializer),t.removeTarget=e,this.K_(t)}}class D9 extends F2{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Uq(e.writeResults,e.commitTime),i=ii(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=h0(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>Lq(this.serializer,i)))};this.K_(t)}}class M9{}class j9 extends M9{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,u0(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(ne.UNKNOWN,l.toString())}))}jo(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,u0(t,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function k9(r,e,t,i){return new j9(r,e,t,i)}class V9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ui(t),this.aa=!1):me("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ka="RemoteStore";class P9{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{Fa(this)&&(me(ka,"Restarting streams for network reachability change."),await(async function(m){const g=Oe(m);g.Ea.add(4),await pc(g),g.Va.set("Unknown"),g.Ea.delete(4),await Td(g)})(this))}))})),this.Va=new V9(i,a)}}async function Td(r){if(Fa(r))for(const e of r.Ra)await e(!0)}async function pc(r){for(const e of r.Ra)await e(!1)}function H2(r,e){const t=Oe(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Nb(t)?Ib(t):pl(t).O_()&&Cb(t,e))}function Rb(r,e){const t=Oe(r),i=pl(t);t.Ia.delete(e),i.O_()&&G2(t,e),t.Ia.size===0&&(i.O_()?i.L_():Fa(t)&&t.Va.set("Unknown"))}function Cb(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pl(r).Z_(e)}function G2(r,e){r.da.$e(e),pl(r).X_(e)}function Ib(r){r.da=new Nq({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),pl(r).start(),r.Va.ua()}function Nb(r){return Fa(r)&&!pl(r).x_()&&r.Ia.size>0}function Fa(r){return Oe(r).Ea.size===0}function K2(r){r.da=void 0}async function L9(r){r.Va.set("Online")}async function U9(r){r.Ia.forEach(((e,t)=>{Cb(r,e)}))}async function q9(r,e){K2(r),Nb(r)?(r.Va.ha(e),Ib(r)):r.Va.set("Unknown")}async function z9(r,e,t){if(r.Va.set("Online"),e instanceof I2&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(r,e)}catch(i){me(ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Mf(r,i)}else if(e instanceof lf?r.da.Xe(e):e instanceof C2?r.da.st(e):r.da.tt(e),!t.isEqual(Ie.min()))try{const i=await z2(r.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(on.EMPTY_BYTE_STRING,v.snapshotVersion)),G2(l,m);const b=new Cs(v.target,m,g,v.sequenceNumber);Cb(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(i){me(ka,"Failed to raise snapshot:",i),await Mf(r,i)}}async function Mf(r,e,t){if(!fl(e))throw e;r.Ea.add(1),await pc(r),r.Va.set("Offline"),t||(t=()=>z2(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{me(ka,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Td(r)}))}function $2(r,e){return e().catch((t=>Mf(r,t,e)))}async function xd(r){const e=Oe(r),t=Ls(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fb;for(;B9(e);)try{const a=await T9(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,F9(e,a)}catch(a){await Mf(e,a)}Y2(e)&&Q2(e)}function B9(r){return Fa(r)&&r.Ta.length<10}function F9(r,e){r.Ta.push(e);const t=Ls(r);t.O_()&&t.Y_&&t.ea(e.mutations)}function Y2(r){return Fa(r)&&!Ls(r).x_()&&r.Ta.length>0}function Q2(r){Ls(r).start()}async function H9(r){Ls(r).ra()}async function G9(r){const e=Ls(r);for(const t of r.Ta)e.ea(t.mutations)}async function K9(r,e,t){const i=r.Ta.shift(),a=bb.from(i,e,t);await $2(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await xd(r)}async function $9(r,e){e&&Ls(r).Y_&&await(async function(i,a){if((function(c){return Rq(c)&&c!==ne.ABORTED})(a.code)){const l=i.Ta.shift();Ls(i).B_(),await $2(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await xd(i)}})(r,e),Y2(r)&&Q2(r)}async function iC(r,e){const t=Oe(r);t.asyncQueue.verifyOperationInProgress(),me(ka,"RemoteStore received new credentials");const i=Fa(t);t.Ea.add(3),await pc(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Td(t)}async function Y9(r,e){const t=Oe(r);e?(t.Ea.delete(2),await Td(t)):e||(t.Ea.add(2),await pc(t),t.Va.set("Unknown"))}function pl(r){return r.ma||(r.ma=(function(t,i,a){const l=Oe(t);return l.sa(),new O9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Zo:L9.bind(null,r),Yo:U9.bind(null,r),t_:q9.bind(null,r),J_:z9.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Nb(r)?Ib(r):r.Va.set("Unknown")):(await r.ma.stop(),K2(r))}))),r.ma}function Ls(r){return r.fa||(r.fa=(function(t,i,a){const l=Oe(t);return l.sa(),new D9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:H9.bind(null,r),t_:$9.bind(null,r),ta:G9.bind(null,r),na:K9.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await xd(r)):(await r.fa.stop(),r.Ta.length>0&&(me(ka,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ob{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Ob(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Db(r,e){if(Ui("AsyncQueue",`${e}: ${r}`),fl(r))return new pe(ne.UNAVAILABLE,`${e}: ${r}`);throw r}class Bo{static emptySet(e){return new Bo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Te.comparator(t.key,i.key):(t,i)=>Te.comparator(t.key,i.key),this.keyedMap=Cu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Bo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class sC{constructor(){this.ga=new _t(Te.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class el{constructor(e,t,i,a,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new el(e,t,Bo.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class Q9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class X9{constructor(){this.queries=aC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Oe(t),l=a.queries;a.queries=aC(),l.forEach(((c,d)=>{for(const m of d.ba)m.onError(i)}))})(this,new pe(ne.ABORTED,"Firestore shutting down"))}}function aC(){return new za((r=>m2(r)),gd)}async function X2(r,e){const t=Oe(r);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new Q9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Db(c,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Mb(t)}async function W2(r,e){const t=Oe(r),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function W9(r,e){const t=Oe(r);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(i=!0);c.wa=a}}i&&Mb(t)}function J9(r,e,t){const i=Oe(r),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(t);i.queries.delete(e)}function Mb(r){r.Ca.forEach((e=>{e.next()}))}var p0,oC;(oC=p0||(p0={})).Ma="default",oC.Cache="cache";class J2{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new el(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==p0.Cache}}class Z2{constructor(e){this.key=e}}class eD{constructor(e){this.key=e}}class Z9{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ge(),this.mutatedKeys=Ge(),this.eu=g2(e),this.tu=new Bo(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new sC,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const x=a.get(v),A=yd(this.query,b)?b:null,k=!!x&&this.mutatedKeys.has(x.key),L=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let j=!1;x&&A?x.data.isEqual(A.data)?k!==L&&(i.track({type:3,doc:A}),j=!0):this.su(x,A)||(i.track({type:2,doc:A}),j=!0,(m&&this.eu(A,m)>0||g&&this.eu(A,g)<0)&&(d=!0)):!x&&A?(i.track({type:0,doc:A}),j=!0):x&&!A&&(i.track({type:1,doc:x}),j=!0,(m||g)&&(d=!0)),j&&(A?(c=c.add(A),l=L?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Ss:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(A,k){const L=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:j})}};return L(A)-L(k)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,g=m!==this.Xa;return this.Xa=m,c.length!==0||g?{snapshot:new el(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sC,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ge(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new eD(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new Z2(i))})),t}cu(e){this.Za=e.ks,this.Ya=Ge();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const jb="SyncEngine";class ez{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class tz{constructor(e){this.key=e,this.hu=!1}}class nz{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new za((d=>m2(d)),gd),this.Iu=new Map,this.Eu=new Set,this.Ru=new _t(Te.comparator),this.Au=new Map,this.Vu=new xb,this.du={},this.mu=new Map,this.fu=Zo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rz(r,e,t=!0){const i=aD(r);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await tD(i,e,t,!0),a}async function iz(r,e){const t=aD(r);await tD(t,e,!0,!1)}async function tD(r,e,t,i){const a=await x9(r.localStore,ri(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await sz(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&H2(r.remoteStore,a),d}async function sz(r,e,t,i,a){r.pu=(b,x,A)=>(async function(L,j,H,B){let W=j.view.ru(H);W.Ss&&(W=await ZR(L.localStore,j.query,!1).then((({documents:C})=>j.view.ru(C,W))));const oe=B&&B.targetChanges.get(j.targetId),ue=B&&B.targetMismatches.get(j.targetId)!=null,le=j.view.applyChanges(W,L.isPrimaryClient,oe,ue);return uC(L,j.targetId,le.au),le.snapshot})(r,b,x,A);const l=await ZR(r.localStore,e,!0),c=new Z9(e,l.ks),d=c.ru(l.documents),m=dc.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",a),g=c.applyChanges(d,r.isPrimaryClient,m);uC(r,t,g.au);const v=new ez(e,t,c);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function az(r,e,t){const i=Oe(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!gd(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await f0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Rb(i.remoteStore,a.targetId),m0(i,a.targetId)})).catch(hl)):(m0(i,a.targetId),await f0(i.localStore,a.targetId,!0))}async function oz(r,e){const t=Oe(r),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Rb(t.remoteStore,i.targetId))}async function lz(r,e,t){const i=mz(r);try{const a=await(function(c,d){const m=Oe(c),g=mt.now(),v=d.reduce(((A,k)=>A.add(k.key)),Ge());let b,x;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let k=zi(),L=Ge();return m.xs.getEntries(A,v).next((j=>{k=j,k.forEach(((H,B)=>{B.isValidDocument()||(L=L.add(H))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,k))).next((j=>{b=j;const H=[];for(const B of d){const W=Tq(B,b.get(B.key).overlayedDocument);W!=null&&H.push(new Ba(B.key,W,o2(W.value.mapValue),wr.exists(!0)))}return m.mutationQueue.addMutationBatch(A,g,H,d)})).next((j=>{x=j;const H=j.applyToLocalDocumentSet(b,L);return m.documentOverlayCache.saveOverlays(A,j.batchId,H)}))})).then((()=>({batchId:x.batchId,changes:v2(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let g=c.du[c.currentUser.toKey()];g||(g=new _t(He)),g=g.insert(d,m),c.du[c.currentUser.toKey()]=g})(i,a.batchId,t),await mc(i,a.changes),await xd(i.remoteStore)}catch(a){const l=Db(a,"Failed to persist write");t.reject(l)}}async function nD(r,e){const t=Oe(r);try{const i=await b9(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?tt(c.hu,14607):a.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await mc(t,i,e)}catch(i){await hl(i)}}function lC(r,e,t){const i=Oe(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Oe(c);m.onlineState=d;let g=!1;m.queries.forEach(((v,b)=>{for(const x of b.ba)x.va(d)&&(g=!0)})),g&&Mb(m)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function uz(r,e,t){const i=Oe(r);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new _t(Te.comparator);c=c.insert(l,dn.newNoDocument(l,Ie.min()));const d=Ge().add(l),m=new bd(Ie.min(),new Map,new _t(He),c,d);await nD(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(e),kb(i)}else await f0(i.localStore,e,!1).then((()=>m0(i,e,t))).catch(hl)}async function cz(r,e){const t=Oe(r),i=e.batch.batchId;try{const a=await _9(t.localStore,e);iD(t,i,null),rD(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await mc(t,a)}catch(a){await hl(a)}}async function hz(r,e,t){const i=Oe(r);try{const a=await(function(c,d){const m=Oe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next((b=>(tt(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(g,b)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(i.localStore,e);iD(i,e,t),rD(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await mc(i,a)}catch(a){await hl(a)}}function rD(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function iD(r,e,t){const i=Oe(r);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function m0(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||sD(r,i)}))}function sD(r,e){r.Eu.delete(e.path.canonicalString());const t=r.Ru.get(e);t!==null&&(Rb(r.remoteStore,t),r.Ru=r.Ru.remove(e),r.Au.delete(t),kb(r))}function uC(r,e,t){for(const i of t)i instanceof Z2?(r.Vu.addReference(i.key,e),fz(r,i)):i instanceof eD?(me(jb,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||sD(r,i.key)):Ae(19791,{wu:i})}function fz(r,e){const t=e.key,i=t.path.canonicalString();r.Ru.get(t)||r.Eu.has(i)||(me(jb,"New document in limbo: "+t),r.Eu.add(i),kb(r))}function kb(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Te(ht.fromString(e)),i=r.fu.next();r.Au.set(i,new tz(t)),r.Ru=r.Ru.insert(t,i),H2(r.remoteStore,new Cs(ri(yb(t.path)),i,"TargetPurposeLimboResolution",dd.ce))}}async function mc(r,e,t){const i=Oe(r),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,m)=>{c.push(i.pu(m,e,t).then((g=>{if((g||t)&&i.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){a.push(g);const v=Ab.Es(m.targetId,g);l.push(v)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(m,g){const v=Oe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ie.forEach(g,(x=>ie.forEach(x.Ts,(A=>v.persistence.referenceDelegate.addReference(b,x.targetId,A))).next((()=>ie.forEach(x.Is,(A=>v.persistence.referenceDelegate.removeReference(b,x.targetId,A)))))))))}catch(b){if(!fl(b))throw b;me(wb,"Failed to update sequence numbers: "+b)}for(const b of g){const x=b.targetId;if(!b.fromCache){const A=v.vs.get(x),k=A.snapshotVersion,L=A.withLastLimboFreeSnapshotVersion(k);v.vs=v.vs.insert(x,L)}}})(i.localStore,l))}async function dz(r,e){const t=Oe(r);if(!t.currentUser.isEqual(e)){me(jb,"User change. New user:",e.toKey());const i=await q2(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new pe(ne.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await mc(t,i.Ns)}}function pz(r,e){const t=Oe(r),i=t.Au.get(e);if(i&&i.hu)return Ge().add(i.key);{let a=Ge();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function aD(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=nD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uz.bind(null,e),e.Pu.J_=W9.bind(null,e.eventManager),e.Pu.yu=J9.bind(null,e.eventManager),e}function mz(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hz.bind(null,e),e}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return v9(this.persistence,new m9,e.initialUser,this.serializer)}Cu(e){return new U2(Sb.Vi,this.serializer)}Du(e){return new A9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class gz extends jf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){tt(this.persistence.referenceDelegate instanceof Df,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new e9(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new U2((i=>Df.Vi(i,t)),this.serializer)}}class g0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>lC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=dz.bind(null,this.syncEngine),await Y9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new X9})()}createDatastore(e){const t=Ed(e.databaseInfo.databaseId),i=N9(e.databaseInfo);return k9(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,d){return new P9(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>lC(this.syncEngine,t,0)),(function(){return nC.v()?new nC:new w9})())}createSyncEngine(e,t){return(function(a,l,c,d,m,g,v){const b=new nz(a,l,c,d,m,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Oe(t);me(ka,"RemoteStore shutting down."),i.Ea.add(5),await pc(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}g0.provider={build:()=>new g0};class oD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Us="FirestoreClient";class yz{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=a,this.user=fn.UNAUTHENTICATED,this.clientId=hb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{me(Us,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(me(Us,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Db(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Bv(r,e){r.asyncQueue.verifyOperationInProgress(),me(Us,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async a=>{i.isEqual(a)||(await q2(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function cC(r,e){r.asyncQueue.verifyOperationInProgress();const t=await vz(r);me(Us,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>iC(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,a)=>iC(e.remoteStore,a))),r._onlineComponents=e}async function vz(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me(Us,"Using user provided OfflineComponentProvider");try{await Bv(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Qo("Error using user provided cache. Falling back to memory cache: "+t),await Bv(r,new jf)}}else me(Us,"Using default OfflineComponentProvider"),await Bv(r,new gz(void 0));return r._offlineComponents}async function lD(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me(Us,"Using user provided OnlineComponentProvider"),await cC(r,r._uninitializedComponentsProvider._online)):(me(Us,"Using default OnlineComponentProvider"),await cC(r,new g0))),r._onlineComponents}function _z(r){return lD(r).then((e=>e.syncEngine))}async function uD(r){const e=await lD(r),t=e.eventManager;return t.onListen=rz.bind(null,e.syncEngine),t.onUnlisten=az.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=oz.bind(null,e.syncEngine),t}function bz(r,e,t={}){const i=new Mi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const v=new oD({next:x=>{v.Nu(),c.enqueueAndForget((()=>W2(l,b)));const A=x.docs.has(d);!A&&x.fromCache?g.reject(new pe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&x.fromCache&&m&&m.source==="server"?g.reject(new pe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),b=new J2(yb(d.path),v,{includeMetadataChanges:!0,Ka:!0});return X2(l,b)})(await uD(r),r.asyncQueue,e,t,i))),i.promise}function Ez(r,e,t={}){const i=new Mi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const v=new oD({next:x=>{v.Nu(),c.enqueueAndForget((()=>W2(l,b))),x.fromCache&&m.source==="server"?g.reject(new pe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),b=new J2(d,v,{includeMetadataChanges:!0,Ka:!0});return X2(l,b)})(await uD(r),r.asyncQueue,e,t,i))),i.promise}function Tz(r,e){const t=new Mi;return r.asyncQueue.enqueueAndForget((async()=>lz(await _z(r),e,t))),t.promise}function cD(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const xz="ComponentProvider",hC=new Map;function Sz(r,e,t,i,a){return new H5(r,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,cD(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const hD="firestore.googleapis.com",fC=!0;class dC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hD,this.ssl=fC}else this.host=e.host,this.ssl=e.ssl??fC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=L2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Jq)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cD(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sd{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new T5;switch(i.type){case"firstParty":return new w5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=hC.get(t);i&&(me(xz,"Removing Datastore"),hC.delete(t),i.terminate())})(this),Promise.resolve()}}function Az(r,e,t,i={}){r=qi(r,Sd);const a=ol(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;a&&(rO(`https://${d}`),iO("Firestore",!0)),l.host!==hD&&l.host!==d&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!Oa(m,c)&&(r._setSettings(m),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=fn.MOCK_USER;else{g=$L(i.mockUserToken,r._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new pe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new fn(b)}r._authCredentials=new x5(new QO(g,v))}}class qs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class Bt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(hc(t,Bt._jsonSchema))return new Bt(e,i||null,new Te(ht.fromString(t.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:zt("string",Bt._jsonSchemaVersion),referencePath:zt("string")};class Ms extends qs{constructor(e,t,i){super(e,t,yb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new Te(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function Vb(r,e,...t){if(r=Nn(r),XO("collection","path",e),r instanceof Sd){const i=ht.fromString(e,...t);return wR(i),new Ms(r,null,i)}{if(!(r instanceof Bt||r instanceof Ms))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ht.fromString(e,...t));return wR(i),new Ms(r.firestore,null,i)}}function Ad(r,e,...t){if(r=Nn(r),arguments.length===1&&(e=hb.newId()),XO("doc","path",e),r instanceof Sd){const i=ht.fromString(e,...t);return AR(i),new Bt(r,null,new Te(i))}{if(!(r instanceof Bt||r instanceof Ms))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ht.fromString(e,...t));return AR(i),new Bt(r.firestore,r instanceof Ms?r.converter:null,new Te(i))}}const pC="AsyncQueue";class mC{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new B2(this,"async_queue_retry"),this._c=()=>{const i=zv();i&&me(pC,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=zv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=zv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Mi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;me(pC,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ui("INTERNAL UNHANDLED ERROR: ",gC(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Ob.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ae(47125,{Pc:gC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function gC(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ml extends Sd{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new mC,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mC(e),this._firestoreClient=void 0,await e}}}function wz(r,e){const t=typeof r=="object"?r:lO(),i=typeof r=="string"?r:Af,a=J0(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=GL("firestore");l&&Az(a,...l)}return a}function Pb(r){if(r._terminated)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Rz(r),r._firestoreClient}function Rz(r){const e=r._freezeSettings(),t=Sz(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new yz(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(r._componentsProvider))}class ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ur(on.fromBase64String(e))}catch(t){throw new pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ur(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hc(e,ur._jsonSchema))return ur.fromBase64String(e.bytes)}}ur._jsonSchemaVersion="firestore/bytes/1.0",ur._jsonSchema={type:zt("string",ur._jsonSchemaVersion),bytes:zt("string")};class fD{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dD{constructor(e){this._methodName=e}}class si{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(e){if(hc(e,si._jsonSchema))return new si(e.latitude,e.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:zt("string",si._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class Rr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hc(e,Rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Rr(e.vectorValues);throw new pe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rr._jsonSchemaVersion="firestore/vectorValue/1.0",Rr._jsonSchema={type:zt("string",Rr._jsonSchemaVersion),vectorValues:zt("object")};const Cz=/^__.*__$/;class Iz{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new fc(e,this.data,t,this.fieldTransforms)}}function pD(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:r})}}class Lb{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Lb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return kf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(pD(this.dataSource)&&Cz.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Nz{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ed(e)}createContext(e,t,i,a=!1){return new Lb({dataSource:e,methodName:t,targetDoc:i,path:an.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ub(r){const e=r._freezeSettings(),t=Ed(r._databaseId);return new Nz(r._databaseId,!!e.ignoreUndefinedProperties,t)}function mD(r,e,t,i,a,l={}){const c=r.createContext(l.merge||l.mergeFields?2:0,e,t,a);vD("Data must be an object, but it was:",c,i);const d=gD(i,c);let m,g;if(l.merge)m=new Sr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const x=wd(e,b,t);if(!c.contains(x))throw new pe(ne.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);jz(v,x)||v.push(x)}m=new Sr(v),g=c.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,g=c.fieldTransforms;return new Iz(new lr(d),m,g)}function Oz(r,e,t,i=!1){return qb(t,r.createContext(i?4:3,e))}function qb(r,e){if(yD(r=Nn(r)))return vD("Unsupported field value:",e,r),gD(r,e);if(r instanceof dD)return(function(i,a){if(!pD(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let m=qb(d,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(r,e)}return(function(i,a){if((i=Nn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return gq(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=mt.fromDate(i);return{timestampValue:Of(a.serializer,l)}}if(i instanceof mt){const l=new mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Of(a.serializer,l)}}if(i instanceof si)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ur)return{bytesValue:N2(a.serializer,i._byteString)};if(i instanceof Bt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Tb(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Rr)return(function(c,d){const m=c instanceof Rr?c.toArray():c;return{mapValue:{fields:{[s2]:{stringValue:a2},[wf]:{arrayValue:{values:m.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return vb(d.serializer,v)}))}}}}}})(i,a);if(P2(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${fd(i)}`)})(r,e)}function gD(r,e){const t={};return ZO(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qa(r,((i,a)=>{const l=qb(a,e.childContextForField(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function yD(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof mt||r instanceof si||r instanceof ur||r instanceof Bt||r instanceof dD||r instanceof Rr||P2(r))}function vD(r,e,t){if(!yD(t)||!WO(t)){const i=fd(t);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function wd(r,e,t){if((e=Nn(e))instanceof fD)return e._internalPath;if(typeof e=="string")return Mz(r,e);throw kf("Field path arguments must be of type string or ",r,!1,void 0,t)}const Dz=new RegExp("[~\\*/\\[\\]]");function Mz(r,e,t){if(e.search(Dz)>=0)throw kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new fD(...e.split("."))._internalPath}catch{throw kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function kf(r,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new pe(ne.INVALID_ARGUMENT,d+r+m)}function jz(r,e){return r.some((t=>t.isEqual(e)))}class kz{convertValue(e,t="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return qa(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[wf].arrayValue?.values?.map((i=>Ct(i.doubleValue)));return new Rr(t)}convertGeoPoint(e){return new si(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=md(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ku(e));default:return null}}convertTimestamp(e){const t=ks(e);return new mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ht.fromString(e);tt(V2(i),9688,{name:e});const a=new $u(i.get(1),i.get(3)),l=new Te(i.popFirst(5));return a.isEqual(t)||Ui(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class _D extends kz{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,t)}}const yC="@firebase/firestore",vC="4.10.0";class bD{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Vz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(wd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Vz extends bD{data(){return super.data()}}function Pz(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zb{}class Bb extends zb{}function Fb(r,e,...t){let i=[];e instanceof zb&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((m=>m instanceof Gb)).length,d=l.filter((m=>m instanceof Hb)).length;if(c>1||c>0&&d>0)throw new pe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)r=a._apply(r);return r}class Hb extends Bb{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Hb(e,t,i)}_apply(e){const t=this._parse(e);return ED(e._query,t),new qs(e.firestore,e.converter,o0(e._query,t))}_parse(e){const t=Ub(e.firestore);return(function(l,c,d,m,g,v,b){let x;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){bC(b,v);const k=[];for(const L of b)k.push(_C(m,l,L));x={arrayValue:{values:k}}}else x=_C(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||bC(b,v),x=Oz(d,c,b,v==="in"||v==="not-in");return qt.create(g,v,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Gb extends zb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gb(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)ED(c,m),c=o0(c,m)})(e._query,t),new qs(e.firestore,e.converter,o0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kb extends Bb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Kb(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new pe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new pe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qu(l,c)})(e._query,this._field,this._direction);return new qs(e.firestore,e.converter,lq(e._query,t))}}function $b(r,e="asc"){const t=e,i=wd("orderBy",r);return Kb._create(i,t)}class Yb extends Bb{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Yb(e,t,i)}_apply(e){return new qs(e.firestore,e.converter,Cf(e._query,this._limit,this._limitType))}}function Qb(r){return M5("limit",r),Yb._create("limit",r,"F")}function _C(r,e,t){if(typeof(t=Nn(t))=="string"){if(t==="")throw new pe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p2(e)&&t.indexOf("/")!==-1)throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ht.fromString(t));if(!Te.isDocumentKey(i))throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return jR(r,new Te(i))}if(t instanceof Bt)return jR(r,t._key);throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(t)}.`)}function bC(r,e){if(!Array.isArray(r)||r.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ED(r,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function TD(r,e,t){let i;return i=r?r.toFirestore(e):e,i}class Nu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ia extends bD{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(wd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ia._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:zt("string",Ia._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class uf extends Ia{data(e={}){return super.data(e)}}class Fo{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Nu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new uf(this._firestore,this._userDataWriter,i.key,i,new Nu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new uf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Nu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new uf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Nu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:Lz(d.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Lz(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:r})}}Fo._jsonSchemaVersion="firestore/querySnapshot/1.0",Fo._jsonSchema={type:zt("string",Fo._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};function xD(r){r=qi(r,Bt);const e=qi(r.firestore,ml),t=Pb(e);return bz(t,r._key).then((i=>qz(e,r,i)))}function Xb(r){r=qi(r,qs);const e=qi(r.firestore,ml),t=Pb(e),i=new _D(e);return Pz(r._query),Ez(t,r._query).then((a=>new Fo(e,i,r,a)))}function Uz(r,e,t){r=qi(r,Bt);const i=qi(r.firestore,ml),a=TD(r.converter,e),l=Ub(i);return Wb(i,[mD(l,"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,wr.none())])}function SD(r){return Wb(qi(r.firestore,ml),[new _b(r._key,wr.none())])}function AD(r,e){const t=qi(r.firestore,ml),i=Ad(r),a=TD(r.converter,e),l=Ub(r.firestore);return Wb(t,[mD(l,"addDoc",i._key,a,r.converter!==null,{}).toMutation(i._key,wr.exists(!1))]).then((()=>i))}function Wb(r,e){const t=Pb(r);return Tz(t,e)}function qz(r,e,t){const i=t.docs.get(e._key),a=new _D(r);return new Ia(r,a,e._key,i,new Nu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){E5(ll),$o(new Da("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new ml(new S5(i.getProvider("auth-internal")),new R5(c,i.getProvider("app-check-internal")),G5(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Os(yC,vC,e),Os(yC,vC,"esm2020")})();const zz={apiKey:"AIzaSyDXya7ukJ5P7pR2MVidcqxrWYWhK-VP8tY",authDomain:"completionist-state.firebaseapp.com",projectId:"completionist-state",storageBucket:"completionist-state.firebasestorage.app",messagingSenderId:"319558268180",appId:"1:319558268180:web:332ac473de29adf0b0fe01",measurementId:"G-78MMCXL994"},wD=oO(zz),Cr=y5(wD),RD=new Ii,tl=wz(wD),CD=({onAuthChange:r})=>{const[e,t]=F.useState(null),[i,a]=F.useState(!0);F.useEffect(()=>{const d=ob(Cr,m=>{t(m),a(!1),r&&r(m)});return()=>d()},[r]);const l=async()=>{try{await qO(Cr,RD),window.location.reload()}catch(d){console.error("Error signing in:",d)}},c=async()=>{try{await oU(Cr),window.location.reload()}catch(d){console.error("Error signing out:",d)}};return i?y.jsx(Vi,{className:"text-gray-400"}):e?y.jsxs("button",{onClick:c,className:"flex items-center w-full px-2 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors rounded-md",title:`Sign out (${e.email})`,children:[y.jsx(tN,{className:"mr-2 text-red-500 text-xl"}),"Sign Out"]}):y.jsxs("button",{onClick:l,className:"flex items-center w-full px-2 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors rounded-md",title:"Sign in with Google",children:[y.jsx(eN,{className:"mr-2 text-gray-400 text-xl"}),"Sign in with Google"]})};CD.propTypes={onAuthChange:D.func};const Na=25,EC=4e5,Bz=60*1e3;let qu=0,y0=null;const Fz=()=>qu,TC=r=>r?r.gameConfig&&Object.keys(r.gameConfig).length>0||r.todoItems&&Object.keys(r.todoItems).length>0:!1,Hz=async()=>{const r=localStorage.getItem("state");let e;try{e=(r?JSON.parse(r):void 0)||void 0}catch(t){console.error("Error parsing localStorage state:",t),localStorage.removeItem("state"),localStorage.removeItem("state_cloud_synced")}try{const t=Cr.currentUser;if(!t)return e;const i=Ad(tl,"users",t.uid,"data","state"),a=await xD(i);if(a.exists()){const l=a.data().state||void 0,c=a.data().updatedAt;return TC(e)&&TC(l)?localStorage.getItem("state_cloud_synced")==="true"?l:{_conflict:!0,cloudState:l,localState:e,cloudUpdated:c?.toDate?.()||c}:l}else return e!==void 0?(await Ci(e),e):void 0}catch(t){return console.error("Error loading state:",t),t.code==="permission-denied"?{_error:!0,errorType:"permission-denied",errorMessage:"Failed to load cloud data due to insufficient permissions. Check Firestore security rules.",localState:e}:void 0}},Ci=async r=>{if(r===void 0)return;const e=JSON.stringify(r);localStorage.setItem("state",e);try{const t=Cr.currentUser;if(!t){localStorage.removeItem("state_cloud_synced");return}const i=new Blob([e]).size;if(i>EC){console.error(`State too large: ${i} bytes (max ${EC})`),alert(`Your data is too large (${Math.round(i/1024)}KB). Please reduce todo items or checked items.`);return}const a=new Date,l=Ad(tl,"users",t.uid,"data","state");await Uz(l,{state:r,updatedAt:a}),localStorage.setItem("state_cloud_synced","true");const c=a.getTime()-qu,d=e;if(y0!==d&&(qu===0||c>=Bz)){qu=a.getTime(),y0=d;const v=Vb(tl,"users",t.uid,"data","state","history");await AD(v,{state:r,savedAt:a});const b=Fb(v,$b("savedAt","desc"),Qb(Na+1)),x=await Xb(b);if(x.size>Na){const A=[];x.docs.forEach((k,L)=>{L>=Na&&A.push(SD(k.ref))}),await Promise.all(A)}}}catch(t){console.error("âŒ Error saving state to cloud:",t),console.error("Error code:",t.code),console.error("Error message:",t.message),t.code==="permission-denied"&&(console.error("ðŸš« PERMISSION DENIED during save"),alert("Failed to save to cloud due to permission error. Your data is saved locally."))}},Gz=async()=>{try{const r=Cr.currentUser;if(!r)return[];const e=Vb(tl,"users",r.uid,"data","state","history"),t=Fb(e,$b("savedAt","desc"),Qb(Na));return(await Xb(t)).docs.map(a=>({id:a.id,state:a.data().state,savedAt:a.data().savedAt?.toDate?.()||a.data().savedAt}))}catch(r){return console.error("Error loading version history:",r),[]}},Kz=async()=>{try{const r=Cr.currentUser;if(!r)return console.error("âŒ ForceSaveToHistory - No user authenticated"),!1;const e=localStorage.getItem("state");if(!e)return console.error("âŒ ForceSaveToHistory - No state in localStorage"),!1;const t=JSON.parse(e),i=new Date;console.log("ðŸ’¾ ForceSaveToHistory - Saving to history...");const a=Vb(tl,"users",r.uid,"data","state","history");await AD(a,{state:t,savedAt:i}),qu=i.getTime(),y0=e,console.log("âœ… ForceSaveToHistory - Successfully saved to history");const l=Fb(a,$b("savedAt","desc"),Qb(Na+1)),c=await Xb(l);if(c.size>Na){const d=[];c.docs.forEach((m,g)=>{g>=Na&&d.push(SD(m.ref))}),await Promise.all(d)}return!0}catch(r){return console.error("âŒ Error force saving to history:",r),console.error("Error code:",r.code),console.error("Error message:",r.message),!1}},$z=async r=>{try{const e=Cr.currentUser;if(!e)return console.error("âŒ RestoreVersion - No user authenticated"),null;const t=Ad(tl,"users",e.uid,"data","state","history",r),i=await xD(t);if(i.exists()){const a=i.data().state;return await Ci(a),a}return console.error("âŒ RestoreVersion - Version document not found"),null}catch(e){return console.error("âŒ Error restoring version:",e),console.error("Error code:",e.code),console.error("Error message:",e.message),null}},ID=({open:r,onClose:e,onRestore:t})=>{const[i,a]=F.useState([]),[l,c]=F.useState(!0),[d,m]=F.useState(null);F.useEffect(()=>{r&&g()},[r]);const g=async()=>{c(!0);const A=await Gz();a(A),c(!1)},v=async A=>{m(A);const k=await $z(A);k&&t&&t(k),m(null),e(),window.location.reload()},b=A=>A?new Date(A).toLocaleString():"Unknown",x=A=>{let k=0;A.gameConfig&&Object.values(A.gameConfig).forEach(j=>{typeof j=="object"&&Object.values(j).forEach(H=>{typeof H=="object"&&(k+=Object.keys(H).length)})});const L=A.todoItems?Object.keys(A.todoItems).length:0;return`${k} items, ${L} todo`};return r?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-11/12 md:w-3/4 overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh] text-left",children:[y.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-gray-100 rounded-lg text-gray-600",children:y.jsx(D0,{className:"text-2xl"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Version History (Last 25)"})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(pn,{className:"text-gray-400 text-2xl"})})]}),y.jsx("div",{className:"grow overflow-y-auto p-6",children:l?y.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[y.jsx(Vi,{className:"mb-4"}),y.jsx("p",{children:"Loading versions..."})]}):i.length===0?y.jsx("div",{className:"text-center py-12 text-gray-500",children:y.jsx("p",{children:"No version history available yet. Versions are saved when you make changes while signed in."})}):y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left text-lg",children:[y.jsx("thead",{className:"text-base text-gray-500 uppercase tracking-wider bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-2 font-semibold",children:"Date & Time"}),y.jsx("th",{className:"px-4 py-2 font-semibold",children:"Summary"}),y.jsx("th",{className:"px-4 py-2 font-semibold text-right",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-100",children:i.map((A,k)=>y.jsxs("tr",{className:k===0?"bg-green-50/30":"",children:[y.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center gap-2",children:[k===0&&y.jsx(mn,{className:"text-green-500"}),y.jsx("span",{className:k===0?"font-bold text-gray-900":"text-gray-700",children:b(A.savedAt)}),k===0&&y.jsx("span",{className:"text-base text-green-500 font-medium",children:"(Current)"})]})}),y.jsx("td",{className:"px-4 py-3 text-gray-500",children:x(A.state)}),y.jsx("td",{className:"px-4 py-3 text-right",children:k===0?y.jsx("span",{className:"text-gray-400 italic",children:"Current Version"}):y.jsxs("button",{disabled:d!==null,onClick:()=>v(A.id),className:"inline-flex items-center gap-1.5 px-3 py-1 bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50 transition-colors shadow-sm text-base font-bold",children:[d===A.id?y.jsx(Vi,{}):y.jsx(rN,{}),"Restore"]})})]},A.id))})]})})}),y.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex justify-end",children:y.jsx("button",{onClick:e,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 text-gray-700 font-bold transition-colors shadow-sm text-lg",children:"Close"})})]})}):null};ID.propTypes={open:D.bool.isRequired,onClose:D.func.isRequired,onRestore:D.func};let ND=class extends Kt.Component{constructor(e){super(e),this.state={isCloudUser:!1,showVersionHistory:!1,isSavingHistory:!1,settingsOpened:!1},this.handleFileUploadClick=this.handleFileUploadClick.bind(this),this.handleFileUpload=this.handleFileUpload.bind(this),this.handleVersionHistoryOpen=this.handleVersionHistoryOpen.bind(this),this.handleVersionHistoryClose=this.handleVersionHistoryClose.bind(this),this.handleForceSaveToHistory=this.handleForceSaveToHistory.bind(this),this.settingsRef=Kt.createRef(),this.fileInput=Kt.createRef(),this.handleClickOutside=this.handleClickOutside.bind(this)}componentDidMount(){this.unsubscribe=ob(Cr,e=>{this.setState({isCloudUser:!!e})}),document.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){this.unsubscribe&&this.unsubscribe(),document.removeEventListener("mousedown",this.handleClickOutside)}handleClickOutside(e){this.settingsRef.current&&!this.settingsRef.current.contains(e.target)&&this.setState({settingsOpened:!1})}handleVisibilityToggle(){return()=>{const e=this.props.visibilityFilter===Jt.SHOW_ALL?Jt.SHOW_ACTIVE:Jt.SHOW_ALL;this.props.setVisibilityFilter(e)}}handleSearchFilterChange(){return e=>{this.props.setSearchValue(e.target.value)}}handleClearFilter(){return()=>{this.props.setSearchValue("")}}handleFileUploadClick(e){e.preventDefault(),this.setState({settingsOpened:!1}),this.fileInput.current.value&&(this.fileInput.current.value=null),this.fileInput.current.click()}handleFileUpload(e){if(e.preventDefault(),!this.fileInput.current.files||!this.fileInput.current.files.length||this.fileInput.current.files.length!==1)return;const t=this.fileInput.current.files[0];if(t.type!=="application/json"||t.size>200*1024)return;const i=new FileReader;i.onload=a=>{const l=a.target.result,c=JSON.parse(l);return this.props.uploadState(c)},i.readAsText(t)}handleVersionHistoryOpen(){this.setState({showVersionHistory:!0,settingsOpened:!1})}handleVersionHistoryClose(){this.setState({showVersionHistory:!1})}async handleSignIn(){try{await qO(Cr,RD),window.location.reload()}catch(e){console.error("Error signing in:",e)}}async handleForceSaveToHistory(){this.setState({isSavingHistory:!0});const e=await Kz();this.setState({isSavingHistory:!1}),e?this.forceUpdate():alert("Failed to save to history. Check console for details.")}getCloudTooltip(){const e=Fz();return e===0?"Click to save current state to history":`Click to save current state to history
Last saved: ${new Date(e).toLocaleString()}`}render(){return y.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 ml-auto",children:[y.jsxs("div",{className:"relative flex items-center group text-gray-400 mr-4",children:[y.jsx("input",{type:"text",placeholder:"Filter...",value:this.props.searchFilter,onChange:this.handleSearchFilterChange(),className:"pl-3 pr-10 py-1 w-32 sm:w-48 text-sm bg-transparent focus:outline-none transition-all"}),y.jsx(WI,{className:"transition-colors text-lg pointer-events-none roup-focus-within:text-gray-900"}),this.props.searchFilter&&y.jsx("button",{onClick:this.handleClearFilter(),className:"absolute right-7 top-1/2 -translate-y-1/2 p-0.5 hover:bg-gray-200 rounded-full transition-colors",children:y.jsx(pn,{className:"text-red-600 text-xs"})})]}),y.jsx("button",{onClick:this.handleVisibilityToggle(),title:"Hide Marked",className:`p-1 cursor-pointer transition-colors ${this.props.visibilityFilter!==Jt.SHOW_ALL?"text-red-600":"text-gray-700 hover:text-gray-900"}`,children:y.jsx(pf,{className:"text-lg"})}),y.jsx(Bu,{to:"/info",title:"Info",className:"p-1 text-gray-700 hover:text-gray-900 transition-colors [&.active]:text-black",children:y.jsx(Hf,{className:"text-lg"})}),y.jsx("button",{onClick:this.state.isCloudUser?()=>this.handleForceSaveToHistory():()=>this.handleSignIn(),title:this.state.isCloudUser?this.getCloudTooltip():"Sign in with Google",className:`p-1 cursor-pointer transition-all ${this.state.isCloudUser?"text-sky-700 hover:opacity-80":"text-gray-400 hover:text-gray-600"}`,children:y.jsx(Du,{className:`text-lg ${this.state.isSavingHistory?"animate-pulse":""}`})}),y.jsxs("div",{className:"relative",ref:this.settingsRef,children:[y.jsx("button",{onClick:()=>this.setState(e=>({settingsOpened:!e.settingsOpened})),className:"p-1 text-gray-700 hover:text-gray-900 transition-colors cursor-pointer",children:y.jsx(ec,{className:"text-lg"})}),this.state.settingsOpened&&y.jsxs("div",{className:"absolute right-0 mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[y.jsx("div",{className:"px-3 py-1.5 text-base font-semibold text-gray-500 uppercase tracking-wider",children:"Settings"}),y.jsxs("button",{onClick:()=>{this.props.downloadState(),this.setState({settingsOpened:!1})},className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(JI,{className:"mr-2 text-gray-400 text-xl"}),"Download state"]}),y.jsxs("button",{onClick:this.handleFileUploadClick,className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(ZI,{className:"mr-2 text-gray-400 text-xl"}),"Upload state"]}),y.jsx("input",{type:"file",ref:this.fileInput,hidden:!0,onChange:this.handleFileUpload}),this.state.isCloudUser&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"border-t border-gray-100 my-1"}),y.jsxs("button",{onClick:()=>this.handleVersionHistoryOpen(),className:"flex items-center w-full px-3 py-2 text-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(D0,{className:"mr-2 text-gray-400 text-xl"}),"Version History"]})]}),y.jsx("div",{className:"border-t border-gray-100 my-1"}),y.jsx("div",{className:"px-2 py-1",children:y.jsx(CD,{})})]})]}),y.jsx(ID,{open:this.state.showVersionHistory,onClose:this.handleVersionHistoryClose})]})}};ND.propTypes={downloadState:D.func.isRequired,uploadState:D.func.isRequired,setVisibilityFilter:D.func.isRequired,visibilityFilter:D.string.isRequired,setSearchValue:D.func.isRequired,searchFilter:D.string.isRequired};var cf={exports:{}},Yz=cf.exports,xC;function Qz(){return xC||(xC=1,(function(r,e){(function(t,i){i()})(Yz,function(){function t(g,v){return typeof v>"u"?v={autoBom:!1}:typeof v!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),v={autoBom:!v}),v.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function i(g,v,b){var x=new XMLHttpRequest;x.open("GET",g),x.responseType="blob",x.onload=function(){m(x.response,v,b)},x.onerror=function(){console.error("could not download file")},x.send()}function a(g){var v=new XMLHttpRequest;v.open("HEAD",g,!1);try{v.send()}catch{}return 200<=v.status&&299>=v.status}function l(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(v)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Rs=="object"&&Rs.global===Rs?Rs:void 0,d=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),m=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(g,v,b){var x=c.URL||c.webkitURL,A=document.createElement("a");v=v||g.name||"download",A.download=v,A.rel="noopener",typeof g=="string"?(A.href=g,A.origin===location.origin?l(A):a(A.href)?i(g,v,b):l(A,A.target="_blank")):(A.href=x.createObjectURL(g),setTimeout(function(){x.revokeObjectURL(A.href)},4e4),setTimeout(function(){l(A)},0))}:"msSaveOrOpenBlob"in navigator?function(g,v,b){if(v=v||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(t(g,b),v);else if(a(g))i(g,v,b);else{var x=document.createElement("a");x.href=g,x.target="_blank",setTimeout(function(){l(x)})}}:function(g,v,b,x){if(x=x||open("","_blank"),x&&(x.document.title=x.document.body.innerText="downloading..."),typeof g=="string")return i(g,v,b);var A=g.type==="application/octet-stream",k=/constructor/i.test(c.HTMLElement)||c.safari,L=/CriOS\/[\d]+/.test(navigator.userAgent);if((L||A&&k||d)&&typeof FileReader<"u"){var j=new FileReader;j.onloadend=function(){var W=j.result;W=L?W:W.replace(/^data:[^;]*;/,"data:attachment/file;"),x?x.location.href=W:location=W,x=null},j.readAsDataURL(g)}else{var H=c.URL||c.webkitURL,B=H.createObjectURL(g);x?x.location=B:location.href=B,x=null,setTimeout(function(){H.revokeObjectURL(B)},4e4)}});c.saveAs=m.saveAs=m,r.exports=m})})(cf)),cf.exports}var Xz=Qz();const OD=Ft(Xz),Wz=r=>({visibilityFilter:r.visibilityFilter,searchFilter:r.searchFilter,gameConfig:r.gameConfig,fullState:r}),Jz=r=>({uploadState:e=>r(RP(e)),setVisibilityFilter:e=>r(AP(e)),setSearchValue:e=>r(SP(e))}),Zz=(r,e,t)=>({...t,visibilityFilter:r.visibilityFilter,searchFilter:r.searchFilter,gameConfig:r.gameConfig,...e,downloadState:()=>{const i=new Blob([JSON.stringify(r.fullState,null,2)],{type:"text/json;charset=utf-8"});OD.saveAs(i,"state.json")}}),eB=sP(Wz,Jz,Zz)(ND),DD=({configs:r,children:e})=>{const[t,i]=F.useState(!1),a=F.useRef(null),l=Bi();F.useEffect(()=>{const g=v=>{a.current&&!a.current.contains(v.target)&&t&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[t]);const c=()=>{i(!t)},d=r.find(g=>l.pathname.startsWith(`/${g.name}`)),m=d?d.title:"Select Game";return y.jsxs("div",{className:"min-h-screen bg-white",children:[y.jsx("header",{className:"sticky top-0 z-40 w-full bg-white border-b border-gray-200",children:y.jsxs("div",{className:"px-3 h-11 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:c,className:"p-1 hover:bg-gray-100 rounded-md transition-colors text-gray-500",title:"Menu",children:y.jsx(XI,{className:"text-lg"})}),y.jsx("span",{className:"text-gray-900 font-bold text-lg truncate",children:m})]}),y.jsx("div",{className:"flex items-center",children:y.jsx(eB,{})})]})}),y.jsx("div",{className:`fixed inset-0 bg-black/20 backdrop-blur-[1px] z-[60] duration-300 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>i(!1)}),y.jsx("div",{ref:a,className:`fixed inset-y-0 left-0 w-64 bg-white shadow-2xl z-[70] transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"-translate-x-full"}`,children:y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsxs("div",{className:"px-4 py-4 border-b border-gray-100 flex items-center justify-between",children:[y.jsx("span",{className:"font-bold text-xl text-gray-900",children:"Completionist"}),y.jsx("button",{onClick:()=>i(!1),className:"p-1 hover:bg-gray-100 rounded-md transition-colors text-gray-400 hover:text-gray-600",children:y.jsx(pn,{className:"text-xl"})})]}),y.jsxs("div",{className:"grow overflow-y-auto py-2",children:[y.jsx("div",{className:"px-4 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest border-b border-gray-50 mb-1",children:"Select Game"}),r.map(g=>y.jsx(Bu,{to:`/${g.name}`,onClick:()=>i(!1),className:"flex items-center px-4 py-2.5 text-base text-gray-700 hover:bg-gray-50 transition-colors [&.active]:bg-gray-100 [&.active]:text-black [&.active]:font-bold border-l-4 border-transparent [&.active]:border-black",children:g.title},g.name))]}),y.jsx("div",{className:"py-2 border-t border-gray-100",children:y.jsxs(Bu,{to:"/info",onClick:()=>i(!1),className:"flex items-center px-4 py-2.5 text-base text-gray-700 hover:bg-gray-50 transition-colors [&.active]:bg-gray-100 [&.active]:text-black [&.active]:font-bold border-l-4 border-transparent [&.active]:border-black",children:[y.jsx(Hf,{className:"mr-2 text-xl"}),"Info / Credits"]})})]})}),y.jsx("main",{className:"max-w-7xl mx-auto px-2",children:e})]})};DD.propTypes={children:D.node,configs:D.array.isRequired};const Vf=({configs:r})=>{const e=r[0]?.name;return y.jsx(Kk,{children:y.jsx(DD,{configs:r,children:y.jsxs(VI,{children:[y.jsx(xa,{path:"/info",element:y.jsx(VL,{})}),y.jsx(xa,{path:"/:gameName/*",element:y.jsx(XN,{configs:r})}),y.jsx(xa,{path:"/",element:y.jsx(U_,{to:`/${e}`,replace:!0})})]})})})};Vf.propTypes={configs:D.arrayOf(D.shape({name:D.string.isRequired,title:D.string.isRequired}))};var Fv={exports:{}},xu={},Hv={exports:{}},Gv={};var SC;function tB(){return SC||(SC=1,(function(r){function e(Z,ce){var ge=Z.length;Z.push(ce);e:for(;0<ge;){var je=ge-1>>>1,Ve=Z[je];if(0<a(Ve,ce))Z[je]=ce,Z[ge]=Ve,ge=je;else break e}}function t(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var ce=Z[0],ge=Z.pop();if(ge!==ce){Z[0]=ge;e:for(var je=0,Ve=Z.length,I=Ve>>>1;je<I;){var U=2*(je+1)-1,ae=Z[U],se=U+1,he=Z[se];if(0>a(ae,ge))se<Ve&&0>a(he,ae)?(Z[je]=he,Z[se]=ge,je=se):(Z[je]=ae,Z[U]=ge,je=U);else if(se<Ve&&0>a(he,ge))Z[je]=he,Z[se]=ge,je=se;else break e}}return ce}function a(Z,ce){var ge=Z.sortIndex-ce.sortIndex;return ge!==0?ge:Z.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,b=null,x=3,A=!1,k=!1,L=!1,j=!1,H=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function oe(Z){for(var ce=t(g);ce!==null;){if(ce.callback===null)i(g);else if(ce.startTime<=Z)i(g),ce.sortIndex=ce.expirationTime,e(m,ce);else break;ce=t(g)}}function ue(Z){if(L=!1,oe(Z),!k)if(t(m)!==null)k=!0,le||(le=!0,q());else{var ce=t(g);ce!==null&&Ce(ue,ce.startTime-Z)}}var le=!1,C=-1,R=5,O=-1;function V(){return j?!0:!(r.unstable_now()-O<R)}function M(){if(j=!1,le){var Z=r.unstable_now();O=Z;var ce=!0;try{e:{k=!1,L&&(L=!1,B(C),C=-1),A=!0;var ge=x;try{t:{for(oe(Z),b=t(m);b!==null&&!(b.expirationTime>Z&&V());){var je=b.callback;if(typeof je=="function"){b.callback=null,x=b.priorityLevel;var Ve=je(b.expirationTime<=Z);if(Z=r.unstable_now(),typeof Ve=="function"){b.callback=Ve,oe(Z),ce=!0;break t}b===t(m)&&i(m),oe(Z)}else i(m);b=t(m)}if(b!==null)ce=!0;else{var I=t(g);I!==null&&Ce(ue,I.startTime-Z),ce=!1}}break e}finally{b=null,x=ge,A=!1}ce=void 0}}finally{ce?q():le=!1}}}var q;if(typeof W=="function")q=function(){W(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Se=N.port2;N.port1.onmessage=M,q=function(){Se.postMessage(null)}}else q=function(){H(M,0)};function Ce(Z,ce){C=H(function(){Z(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(Z){switch(x){case 1:case 2:case 3:var ce=3;break;default:ce=x}var ge=x;x=ce;try{return Z()}finally{x=ge}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(Z,ce){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ge=x;x=Z;try{return ce()}finally{x=ge}},r.unstable_scheduleCallback=function(Z,ce,ge){var je=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?je+ge:je):ge=je,Z){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=ge+Ve,Z={id:v++,callback:ce,priorityLevel:Z,startTime:ge,expirationTime:Ve,sortIndex:-1},ge>je?(Z.sortIndex=ge,e(g,Z),t(m)===null&&Z===t(g)&&(L?(B(C),C=-1):L=!0,Ce(ue,ge-je))):(Z.sortIndex=Ve,e(m,Z),k||A||(k=!0,le||(le=!0,q()))),Z},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Z){var ce=x;return function(){var ge=x;x=ce;try{return Z.apply(this,arguments)}finally{x=ge}}}})(Gv)),Gv}var AC;function nB(){return AC||(AC=1,Hv.exports=tB()),Hv.exports}var wC;function rB(){if(wC)return xu;wC=1;var r=nB(),e=Lf(),t=nV();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(l(n)!==n)throw Error(i(188))}function g(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),n;if(p===u)return m(f),s;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=p;else{for(var E=!1,S=f.child;S;){if(S===o){E=!0,o=f,u=p;break}if(S===u){E=!0,u=f,o=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===o){E=!0,o=p,u=f;break}if(S===u){E=!0,u=p,o=f;break}S=S.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),W=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function q(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function Se(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case L:return"Fragment";case H:return"Profiler";case j:return"StrictMode";case ue:return"Suspense";case le:return"SuspenseList";case O:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case k:return"Portal";case W:return n.displayName||"Context";case B:return(n._context.displayName||"Context")+".Consumer";case oe:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return s=n.displayName||null,s!==null?s:Se(n.type)||"Memo";case R:s=n._payload,n=n._init;try{return Se(n(s))}catch{}}return null}var Ce=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},je=[],Ve=-1;function I(n){return{current:n}}function U(n){0>Ve||(n.current=je[Ve],je[Ve]=null,Ve--)}function ae(n,s){Ve++,je[Ve]=n.current,n.current=s}var se=I(null),he=I(null),fe=I(null),_e=I(null);function be(n,s){switch(ae(fe,s),ae(he,n),ae(se,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Hx(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Hx(s),n=Gx(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}U(se),ae(se,n)}function we(){U(se),U(he),U(fe)}function et(n){n.memoizedState!==null&&ae(_e,n);var s=se.current,o=Gx(s,n.type);s!==o&&(ae(he,n),ae(se,o))}function yn(n){he.current===n&&(U(se),U(he)),_e.current===n&&(U(_e),fu._currentValue=ge)}var Tt,En;function Hn(n){if(Tt===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Tt=s&&s[1]||"",En=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tt+n+En}var Qe=!1;function Gn(n,s){if(!n||Qe)return"";Qe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(J){var Q=J}Reflect.construct(n,[],re)}else{try{re.call()}catch(J){Q=J}n.call(re.prototype)}}else{try{throw Error()}catch(J){Q=J}(re=n())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var P=E.split(`
`),Y=S.split(`
`);for(f=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(u===P.length||f===Y.length)for(u=P.length-1,f=Y.length-1;1<=u&&0<=f&&P[u]!==Y[f];)f--;for(;1<=u&&0<=f;u--,f--)if(P[u]!==Y[f]){if(u!==1||f!==1)do if(u--,f--,0>f||P[u]!==Y[f]){var ee=`
`+P[u].replace(" at new "," at ");return n.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",n.displayName)),ee}while(1<=u&&0<=f);break}}}finally{Qe=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Hn(o):""}function Ke(n,s){switch(n.tag){case 26:case 27:case 5:return Hn(n.type);case 16:return Hn("Lazy");case 13:return n.child!==s&&s!==null?Hn("Suspense Fallback"):Hn("Suspense");case 19:return Hn("SuspenseList");case 0:case 15:return Gn(n.type,!1);case 11:return Gn(n.type.render,!1);case 1:return Gn(n.type,!0);case 31:return Hn("Activity");default:return""}}function Kn(n){try{var s="",o=null;do s+=Ke(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ut=Object.prototype.hasOwnProperty,xt=r.unstable_scheduleCallback,On=r.unstable_cancelCallback,$n=r.unstable_shouldYield,Ht=r.unstable_requestPaint,It=r.unstable_now,Yn=r.unstable_getCurrentPriorityLevel,zs=r.unstable_ImmediatePriority,Hi=r.unstable_UserBlockingPriority,vn=r.unstable_NormalPriority,Ha=r.unstable_LowPriority,Bs=r.unstable_IdlePriority,Ga=r.log,Fs=r.unstable_setDisableYieldValue,Nt=null,ft=null;function Qn(n){if(typeof Ga=="function"&&Fs(n),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Nt,n)}catch{}}var St=Math.clz32?Math.clz32:vc,yc=Math.log,Ka=Math.LN2;function vc(n){return n>>>=0,n===0?32:31-(yc(n)/Ka|0)|0}var Dr=256,Hs=262144,Ot=4194304;function Mr(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function jr(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?f=Mr(u):(E&=S,E!==0?f=Mr(E):o||(o=S&~n,o!==0&&(f=Mr(o))))):(S=u&~p,S!==0?f=Mr(S):E!==0?f=Mr(E):o||(o=u&~n,o!==0&&(f=Mr(o)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:f}function hr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Rd(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _c(){var n=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),n}function kr(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Gs(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Cd(n,s,o,u,f,p){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var S=n.entanglements,P=n.expirationTimes,Y=n.hiddenUpdates;for(o=E&~o;0<o;){var ee=31-St(o),re=1<<ee;S[ee]=0,P[ee]=-1;var Q=Y[ee];if(Q!==null)for(Y[ee]=null,ee=0;ee<Q.length;ee++){var J=Q[ee];J!==null&&(J.lane&=-536870913)}o&=~re}u!==0&&Ks(n,u,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~s))}function Ks(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-St(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function yl(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-St(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function vl(n,s){var o=s&-s;return o=(o&42)!==0?1:$s(o),(o&(n.suspendedLanes|s))!==0?0:o}function $s(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ui(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function bc(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:pS(n.type))}function fr(n,s){var o=ce.p;try{return ce.p=n,s()}finally{ce.p=o}}var dr=Math.random().toString(36).slice(2),Dt="__reactFiber$"+dr,Yt="__reactProps$"+dr,Vr="__reactContainer$"+dr,$a="__reactEvents$"+dr,Id="__reactListeners$"+dr,Ec="__reactHandles$"+dr,Tc="__reactResources$"+dr,Pr="__reactMarker$"+dr;function Ya(n){delete n[Dt],delete n[Yt],delete n[$a],delete n[Id],delete n[Ec]}function Lr(n){var s=n[Dt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Vr]||o[Dt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=Jx(n);n!==null;){if(o=n[Dt])return o;n=Jx(n)}return s}n=o,o=n.parentNode}return null}function Xn(n){if(n=n[Dt]||n[Vr]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Dn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Ur(n){var s=n[Tc];return s||(s=n[Tc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Mt(n){n[Pr]=!0}var _l=new Set,bl={};function qr(n,s){zr(n,s),zr(n+"Capture",s)}function zr(n,s){for(bl[n]=s,n=0;n<s.length;n++)_l.add(s[n])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},xl={};function xc(n){return ut.call(xl,n)?!0:ut.call(Tl,n)?!1:El.test(n)?xl[n]=!0:(Tl[n]=!0,!1)}function Qa(n,s,o){if(xc(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function Mn(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function jt(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function Qt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Gi(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Sl(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,p=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,p.call(this,E)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function nt(n){if(!n._valueTracker){var s=Gi(n)?"checked":"value";n._valueTracker=Sl(n,s,""+n[s])}}function Ys(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Gi(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Br(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Qs=/[\n"\\]/g;function Tn(n){return n.replace(Qs,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Xa(n,s,o,u,f,p,E,S){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Qt(s)):n.value!==""+Qt(s)&&(n.value=""+Qt(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?Al(n,E,Qt(s)):o!=null?Al(n,E,Qt(o)):u!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Qt(S):n.removeAttribute("name")}function Sc(n,s,o,u,f,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){nt(n);return}o=o!=null?""+Qt(o):"",s=s!=null?""+Qt(s):o,S||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),nt(n)}function Al(n,s,o){s==="number"&&Br(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Ki(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Qt(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Ac(n,s,o){if(s!=null&&(s=""+Qt(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+Qt(o):""}function $i(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(Ce(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Qt(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),nt(n)}function xn(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||wc.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Rl(n,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&wl(n,f,u)}else for(var p in s)s.hasOwnProperty(p)&&wl(n,p,s[p])}function Wa(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(n){return Yi.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function pr(){}var Cl=null;function Wn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Qi=null,Fr=null;function Xs(n){var s=Xn(n);if(s&&(n=s.stateNode)){var o=n[Yt]||null;e:switch(n=s.stateNode,s.type){case"input":if(Xa(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Tn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[Yt]||null;if(!f)throw Error(i(90));Xa(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Ys(u)}break e;case"textarea":Ac(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ki(n,!!o.multiple,s,!1)}}}var Za=!1;function Xi(n,s,o){if(Za)return n(s,o);Za=!0;try{var u=n(s);return u}finally{if(Za=!1,(Qi!==null||Fr!==null)&&(bh(),Qi&&(s=Qi,n=Fr,Fr=Qi=null,Xs(s),n)))for(s=0;s<n.length;s++)Xs(n[s])}}function mr(n,s){var o=n.stateNode;if(o===null)return null;var u=o[Yt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ws=!1;if(Jn)try{var st={};Object.defineProperty(st,"passive",{get:function(){Ws=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{Ws=!1}var Hr=null,Il=null,Js=null;function Nl(){if(Js)return Js;var n,s=Il,o=s.length,u,f="value"in Hr?Hr.value:Hr.textContent,p=f.length;for(n=0;n<o&&s[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&s[o-u]===f[p-u];u++);return Js=f.slice(n,1<u?1-u:void 0)}function Zs(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ci(){return!0}function gr(){return!1}function Zt(n){function s(o,u,f,p,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(o=n[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ci:gr,this.isPropagationStopped=gr,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),s}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gr=Zt(hi),Wi=b({},hi,{view:0,detail:0}),Ol=Zt(Wi),Ji,eo,Kr,to=b({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zi,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Kr&&(Kr&&n.type==="mousemove"?(Ji=n.screenX-Kr.screenX,eo=n.screenY-Kr.screenY):eo=Ji=0,Kr=n),Ji)},movementY:function(n){return"movementY"in n?n.movementY:eo}}),Dl=Zt(to),ea=b({},to,{dataTransfer:0}),Cc=Zt(ea),Ic=b({},Wi,{relatedTarget:0}),ta=Zt(Ic),Ml=b({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Nc=Zt(Ml),no=b({},hi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Oc=Zt(no),Dc=b({},hi,{data:0}),$r=Zt(Dc),Mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=kc[n])?!!s[n]:!1}function Zi(){return Vc}var _n=b({},Wi,{key:function(n){if(n.key){var s=Mc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Zs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?jc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zi,charCode:function(n){return n.type==="keypress"?Zs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Zs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Pc=Zt(_n),Lc=b({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fi=Zt(Lc),h=b({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zi}),_=Zt(h),T=b({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Zt(T),K=b({},to,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Zt(K),de=b({},hi,{newState:0,oldState:0}),De=Zt(de),At=[9,13,27,32],Je=Jn&&"CompositionEvent"in window,gt=null;Jn&&"documentMode"in document&&(gt=document.documentMode);var Zn=Jn&&"TextEvent"in window&&!gt,Yr=Jn&&(!Je||gt&&8<gt&&11>=gt),yr=" ",vr=!1;function na(n,s){switch(n){case"keyup":return At.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var io=!1;function $D(n,s){switch(n){case"compositionend":return ro(s);case"keypress":return s.which!==32?null:(vr=!0,yr);case"textInput":return n=s.data,n===yr&&vr?null:n;default:return null}}function YD(n,s){if(io)return n==="compositionend"||!Je&&na(n,s)?(n=Nl(),Js=Il=Hr=null,io=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yr&&s.locale!=="ko"?null:s.data;default:return null}}var QD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tE(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!QD[n.type]:s==="textarea"}function nE(n,s,o,u){Qi?Fr?Fr.push(u):Fr=[u]:Qi=u,s=Rh(s,"onChange"),0<s.length&&(o=new Gr("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var jl=null,kl=null;function XD(n){Lx(n,0)}function Uc(n){var s=Dn(n);if(Ys(s))return n}function rE(n,s){if(n==="change")return s}var iE=!1;if(Jn){var Nd;if(Jn){var Od="oninput"in document;if(!Od){var sE=document.createElement("div");sE.setAttribute("oninput","return;"),Od=typeof sE.oninput=="function"}Nd=Od}else Nd=!1;iE=Nd&&(!document.documentMode||9<document.documentMode)}function aE(){jl&&(jl.detachEvent("onpropertychange",oE),kl=jl=null)}function oE(n){if(n.propertyName==="value"&&Uc(kl)){var s=[];nE(s,kl,n,Wn(n)),Xi(XD,s)}}function WD(n,s,o){n==="focusin"?(aE(),jl=s,kl=o,jl.attachEvent("onpropertychange",oE)):n==="focusout"&&aE()}function JD(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Uc(kl)}function ZD(n,s){if(n==="click")return Uc(s)}function eM(n,s){if(n==="input"||n==="change")return Uc(s)}function tM(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var jn=typeof Object.is=="function"?Object.is:tM;function Vl(n,s){if(jn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!ut.call(s,f)||!jn(n[f],s[f]))return!1}return!0}function lE(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function uE(n,s){var o=lE(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=lE(o)}}function cE(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?cE(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function hE(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Br(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Br(n.document)}return s}function Dd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var nM=Jn&&"documentMode"in document&&11>=document.documentMode,so=null,Md=null,Pl=null,jd=!1;function fE(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;jd||so==null||so!==Br(u)||(u=so,"selectionStart"in u&&Dd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pl&&Vl(Pl,u)||(Pl=u,u=Rh(Md,"onSelect"),0<u.length&&(s=new Gr("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=so)))}function ra(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var ao={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},kd={},dE={};Jn&&(dE=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function ia(n){if(kd[n])return kd[n];if(!ao[n])return n;var s=ao[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in dE)return kd[n]=s[o];return n}var pE=ia("animationend"),mE=ia("animationiteration"),gE=ia("animationstart"),rM=ia("transitionrun"),iM=ia("transitionstart"),sM=ia("transitioncancel"),yE=ia("transitionend"),vE=new Map,Vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vd.push("scrollEnd");function _r(n,s){vE.set(n,s),qr(s,[n])}var qc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},er=[],oo=0,Pd=0;function zc(){for(var n=oo,s=Pd=oo=0;s<n;){var o=er[s];er[s++]=null;var u=er[s];er[s++]=null;var f=er[s];er[s++]=null;var p=er[s];if(er[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}p!==0&&_E(o,f,p)}}function Bc(n,s,o,u){er[oo++]=n,er[oo++]=s,er[oo++]=o,er[oo++]=u,Pd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Ld(n,s,o,u){return Bc(n,s,o,u),Fc(n)}function sa(n,s){return Bc(n,null,null,s),Fc(n)}function _E(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=n.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&s!==null&&(f=31-St(o),n=p.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),p):null}function Fc(n){if(50<su)throw su=0,$p=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var lo={};function aM(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(n,s,o,u){return new aM(n,s,o,u)}function Ud(n){return n=n.prototype,!(!n||!n.isReactComponent)}function di(n,s){var o=n.alternate;return o===null?(o=kn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function bE(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Hc(n,s,o,u,f,p){var E=0;if(u=n,typeof n=="function")Ud(n)&&(E=1);else if(typeof n=="string")E=hj(n,o,se.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case O:return n=kn(31,o,s,f),n.elementType=O,n.lanes=p,n;case L:return aa(o.children,f,p,s);case j:E=8,f|=24;break;case H:return n=kn(12,o,s,f|2),n.elementType=H,n.lanes=p,n;case ue:return n=kn(13,o,s,f),n.elementType=ue,n.lanes=p,n;case le:return n=kn(19,o,s,f),n.elementType=le,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case W:E=10;break e;case B:E=9;break e;case oe:E=11;break e;case C:E=14;break e;case R:E=16,u=null;break e}E=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=kn(E,o,s,f),s.elementType=n,s.type=u,s.lanes=p,s}function aa(n,s,o,u){return n=kn(7,n,u,s),n.lanes=o,n}function qd(n,s,o){return n=kn(6,n,null,s),n.lanes=o,n}function EE(n){var s=kn(18,null,null,0);return s.stateNode=n,s}function zd(n,s,o){return s=kn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var TE=new WeakMap;function tr(n,s){if(typeof n=="object"&&n!==null){var o=TE.get(n);return o!==void 0?o:(s={value:n,source:s,stack:Kn(s)},TE.set(n,s),s)}return{value:n,source:s,stack:Kn(s)}}var uo=[],co=0,Gc=null,Ll=0,nr=[],rr=0,es=null,Qr=1,Xr="";function pi(n,s){uo[co++]=Ll,uo[co++]=Gc,Gc=n,Ll=s}function xE(n,s,o){nr[rr++]=Qr,nr[rr++]=Xr,nr[rr++]=es,es=n;var u=Qr;n=Xr;var f=32-St(u)-1;u&=~(1<<f),o+=1;var p=32-St(s)+f;if(30<p){var E=f-f%5;p=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Qr=1<<32-St(s)+f|o<<f|u,Xr=p+n}else Qr=1<<p|o<<f|u,Xr=n}function Bd(n){n.return!==null&&(pi(n,1),xE(n,1,0))}function Fd(n){for(;n===Gc;)Gc=uo[--co],uo[co]=null,Ll=uo[--co],uo[co]=null;for(;n===es;)es=nr[--rr],nr[rr]=null,Xr=nr[--rr],nr[rr]=null,Qr=nr[--rr],nr[rr]=null}function SE(n,s){nr[rr++]=Qr,nr[rr++]=Xr,nr[rr++]=es,Qr=s.id,Xr=s.overflow,es=n}var en=null,dt=null,$e=!1,ts=null,ir=!1,Hd=Error(i(519));function ns(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(tr(s,n)),Hd}function AE(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Dt]=n,s[Yt]=u,o){case"dialog":Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":case"embed":Ue("load",s);break;case"video":case"audio":for(o=0;o<ou.length;o++)Ue(ou[o],s);break;case"source":Ue("error",s);break;case"img":case"image":case"link":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"input":Ue("invalid",s),Sc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ue("invalid",s);break;case"textarea":Ue("invalid",s),$i(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Bx(s.textContent,o)?(u.popover!=null&&(Ue("beforetoggle",s),Ue("toggle",s)),u.onScroll!=null&&Ue("scroll",s),u.onScrollEnd!=null&&Ue("scrollend",s),u.onClick!=null&&(s.onclick=pr),s=!0):s=!1,s||ns(n,!0)}function wE(n){for(en=n.return;en;)switch(en.tag){case 5:case 31:case 13:ir=!1;return;case 27:case 3:ir=!0;return;default:en=en.return}}function ho(n){if(n!==en)return!1;if(!$e)return wE(n),$e=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||lm(n.type,n.memoizedProps)),o=!o),o&&dt&&ns(n),wE(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));dt=Wx(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));dt=Wx(n)}else s===27?(s=dt,gs(n.type)?(n=dm,dm=null,dt=n):dt=s):dt=en?ar(n.stateNode.nextSibling):null;return!0}function oa(){dt=en=null,$e=!1}function Gd(){var n=ts;return n!==null&&(Rn===null?Rn=n:Rn.push.apply(Rn,n),ts=null),n}function Ul(n){ts===null?ts=[n]:ts.push(n)}var Kd=I(null),la=null,mi=null;function rs(n,s,o){ae(Kd,s._currentValue),s._currentValue=o}function gi(n){n._currentValue=Kd.current,U(Kd)}function $d(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Yd(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=f;for(var P=0;P<s.length;P++)if(S.context===s[P]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),$d(p.return,o,n),u||(E=null);break e}p=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),$d(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function fo(n,s,o,u){n=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var S=f.type;jn(f.pendingProps.value,E.value)||(n!==null?n.push(S):n=[S])}}else if(f===_e.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(fu):n=[fu])}f=f.return}n!==null&&Yd(s,n,o,u),s.flags|=262144}function Kc(n){for(n=n.firstContext;n!==null;){if(!jn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ua(n){la=n,mi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function tn(n){return RE(la,n)}function $c(n,s){return la===null&&ua(n),RE(n,s)}function RE(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},mi===null){if(n===null)throw Error(i(308));mi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else mi=mi.next=s;return o}var oM=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},lM=r.unstable_scheduleCallback,uM=r.unstable_NormalPriority,kt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qd(){return{controller:new oM,data:new Map,refCount:0}}function ql(n){n.refCount--,n.refCount===0&&lM(uM,function(){n.controller.abort()})}var zl=null,Xd=0,po=0,mo=null;function cM(n,s){if(zl===null){var o=zl=[];Xd=0,po=Zp(),mo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Xd++,s.then(CE,CE),s}function CE(){if(--Xd===0&&zl!==null){mo!==null&&(mo.status="fulfilled");var n=zl;zl=null,po=0,mo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function hM(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var IE=Z.S;Z.S=function(n,s){fx=It(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&cM(n,s),IE!==null&&IE(n,s)};var ca=I(null);function Wd(){var n=ca.current;return n!==null?n:ct.pooledCache}function Yc(n,s){s===null?ae(ca,ca.current):ae(ca,s.pool)}function NE(){var n=Wd();return n===null?null:{parent:kt._currentValue,pool:n}}var go=Error(i(460)),Jd=Error(i(474)),Qc=Error(i(542)),Xc={then:function(){}};function OE(n){return n=n.status,n==="fulfilled"||n==="rejected"}function DE(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(pr,pr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,jE(n),n;default:if(typeof s.status=="string")s.then(pr,pr);else{if(n=ct,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,jE(n),n}throw fa=s,go}}function ha(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(fa=o,go):o}}var fa=null;function ME(){if(fa===null)throw Error(i(459));var n=fa;return fa=null,n}function jE(n){if(n===go||n===Qc)throw Error(i(483))}var yo=null,Bl=0;function Wc(n){var s=Bl;return Bl+=1,yo===null&&(yo=[]),DE(yo,n,s)}function Fl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Jc(n,s){throw s.$$typeof===x?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function kE(n){function s(G,z){if(n){var $=G.deletions;$===null?(G.deletions=[z],G.flags|=16):$.push(z)}}function o(G,z){if(!n)return null;for(;z!==null;)s(G,z),z=z.sibling;return null}function u(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function f(G,z){return G=di(G,z),G.index=0,G.sibling=null,G}function p(G,z,$){return G.index=$,n?($=G.alternate,$!==null?($=$.index,$<z?(G.flags|=67108866,z):$):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function E(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function S(G,z,$,te){return z===null||z.tag!==6?(z=qd($,G.mode,te),z.return=G,z):(z=f(z,$),z.return=G,z)}function P(G,z,$,te){var Ee=$.type;return Ee===L?ee(G,z,$.props.children,te,$.key):z!==null&&(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&ha(Ee)===z.type)?(z=f(z,$.props),Fl(z,$),z.return=G,z):(z=Hc($.type,$.key,$.props,null,G.mode,te),Fl(z,$),z.return=G,z)}function Y(G,z,$,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==$.containerInfo||z.stateNode.implementation!==$.implementation?(z=zd($,G.mode,te),z.return=G,z):(z=f(z,$.children||[]),z.return=G,z)}function ee(G,z,$,te,Ee){return z===null||z.tag!==7?(z=aa($,G.mode,te,Ee),z.return=G,z):(z=f(z,$),z.return=G,z)}function re(G,z,$){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=qd(""+z,G.mode,$),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return $=Hc(z.type,z.key,z.props,null,G.mode,$),Fl($,z),$.return=G,$;case k:return z=zd(z,G.mode,$),z.return=G,z;case R:return z=ha(z),re(G,z,$)}if(Ce(z)||q(z))return z=aa(z,G.mode,$,null),z.return=G,z;if(typeof z.then=="function")return re(G,Wc(z),$);if(z.$$typeof===W)return re(G,$c(G,z),$);Jc(G,z)}return null}function Q(G,z,$,te){var Ee=z!==null?z.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Ee!==null?null:S(G,z,""+$,te);if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return $.key===Ee?P(G,z,$,te):null;case k:return $.key===Ee?Y(G,z,$,te):null;case R:return $=ha($),Q(G,z,$,te)}if(Ce($)||q($))return Ee!==null?null:ee(G,z,$,te,null);if(typeof $.then=="function")return Q(G,z,Wc($),te);if($.$$typeof===W)return Q(G,z,$c(G,$),te);Jc(G,$)}return null}function J(G,z,$,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return G=G.get($)||null,S(z,G,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return G=G.get(te.key===null?$:te.key)||null,P(z,G,te,Ee);case k:return G=G.get(te.key===null?$:te.key)||null,Y(z,G,te,Ee);case R:return te=ha(te),J(G,z,$,te,Ee)}if(Ce(te)||q(te))return G=G.get($)||null,ee(z,G,te,Ee,null);if(typeof te.then=="function")return J(G,z,$,Wc(te),Ee);if(te.$$typeof===W)return J(G,z,$,$c(z,te),Ee);Jc(z,te)}return null}function ye(G,z,$,te){for(var Ee=null,Xe=null,ve=z,ke=z=0,ze=null;ve!==null&&ke<$.length;ke++){ve.index>ke?(ze=ve,ve=null):ze=ve.sibling;var We=Q(G,ve,$[ke],te);if(We===null){ve===null&&(ve=ze);break}n&&ve&&We.alternate===null&&s(G,ve),z=p(We,z,ke),Xe===null?Ee=We:Xe.sibling=We,Xe=We,ve=ze}if(ke===$.length)return o(G,ve),$e&&pi(G,ke),Ee;if(ve===null){for(;ke<$.length;ke++)ve=re(G,$[ke],te),ve!==null&&(z=p(ve,z,ke),Xe===null?Ee=ve:Xe.sibling=ve,Xe=ve);return $e&&pi(G,ke),Ee}for(ve=u(ve);ke<$.length;ke++)ze=J(ve,G,ke,$[ke],te),ze!==null&&(n&&ze.alternate!==null&&ve.delete(ze.key===null?ke:ze.key),z=p(ze,z,ke),Xe===null?Ee=ze:Xe.sibling=ze,Xe=ze);return n&&ve.forEach(function(Es){return s(G,Es)}),$e&&pi(G,ke),Ee}function xe(G,z,$,te){if($==null)throw Error(i(151));for(var Ee=null,Xe=null,ve=z,ke=z=0,ze=null,We=$.next();ve!==null&&!We.done;ke++,We=$.next()){ve.index>ke?(ze=ve,ve=null):ze=ve.sibling;var Es=Q(G,ve,We.value,te);if(Es===null){ve===null&&(ve=ze);break}n&&ve&&Es.alternate===null&&s(G,ve),z=p(Es,z,ke),Xe===null?Ee=Es:Xe.sibling=Es,Xe=Es,ve=ze}if(We.done)return o(G,ve),$e&&pi(G,ke),Ee;if(ve===null){for(;!We.done;ke++,We=$.next())We=re(G,We.value,te),We!==null&&(z=p(We,z,ke),Xe===null?Ee=We:Xe.sibling=We,Xe=We);return $e&&pi(G,ke),Ee}for(ve=u(ve);!We.done;ke++,We=$.next())We=J(ve,G,ke,We.value,te),We!==null&&(n&&We.alternate!==null&&ve.delete(We.key===null?ke:We.key),z=p(We,z,ke),Xe===null?Ee=We:Xe.sibling=We,Xe=We);return n&&ve.forEach(function(Tj){return s(G,Tj)}),$e&&pi(G,ke),Ee}function lt(G,z,$,te){if(typeof $=="object"&&$!==null&&$.type===L&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case A:e:{for(var Ee=$.key;z!==null;){if(z.key===Ee){if(Ee=$.type,Ee===L){if(z.tag===7){o(G,z.sibling),te=f(z,$.props.children),te.return=G,G=te;break e}}else if(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&ha(Ee)===z.type){o(G,z.sibling),te=f(z,$.props),Fl(te,$),te.return=G,G=te;break e}o(G,z);break}else s(G,z);z=z.sibling}$.type===L?(te=aa($.props.children,G.mode,te,$.key),te.return=G,G=te):(te=Hc($.type,$.key,$.props,null,G.mode,te),Fl(te,$),te.return=G,G=te)}return E(G);case k:e:{for(Ee=$.key;z!==null;){if(z.key===Ee)if(z.tag===4&&z.stateNode.containerInfo===$.containerInfo&&z.stateNode.implementation===$.implementation){o(G,z.sibling),te=f(z,$.children||[]),te.return=G,G=te;break e}else{o(G,z);break}else s(G,z);z=z.sibling}te=zd($,G.mode,te),te.return=G,G=te}return E(G);case R:return $=ha($),lt(G,z,$,te)}if(Ce($))return ye(G,z,$,te);if(q($)){if(Ee=q($),typeof Ee!="function")throw Error(i(150));return $=Ee.call($),xe(G,z,$,te)}if(typeof $.then=="function")return lt(G,z,Wc($),te);if($.$$typeof===W)return lt(G,z,$c(G,$),te);Jc(G,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,z!==null&&z.tag===6?(o(G,z.sibling),te=f(z,$),te.return=G,G=te):(o(G,z),te=qd($,G.mode,te),te.return=G,G=te),E(G)):o(G,z)}return function(G,z,$,te){try{Bl=0;var Ee=lt(G,z,$,te);return yo=null,Ee}catch(ve){if(ve===go||ve===Qc)throw ve;var Xe=kn(29,ve,null,G.mode);return Xe.lanes=te,Xe.return=G,Xe}}}var da=kE(!0),VE=kE(!1),is=!1;function Zd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ep(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ss(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function as(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ze&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Fc(n),_E(n,null,o),s}return Bc(n,u,s,o),Fc(n)}function Hl(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,yl(n,o)}}function tp(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?f=p=s:p=p.next=s}else f=p=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var np=!1;function Gl(){if(np){var n=mo;if(n!==null)throw n}}function Kl(n,s,o,u){np=!1;var f=n.updateQueue;is=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var P=S,Y=P.next;P.next=null,E===null?p=Y:E.next=Y,E=P;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==E&&(S===null?ee.firstBaseUpdate=Y:S.next=Y,ee.lastBaseUpdate=P))}if(p!==null){var re=f.baseState;E=0,ee=Y=P=null,S=p;do{var Q=S.lane&-536870913,J=Q!==S.lane;if(J?(qe&Q)===Q:(u&Q)===Q){Q!==0&&Q===po&&(np=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ye=n,xe=S;Q=s;var lt=o;switch(xe.tag){case 1:if(ye=xe.payload,typeof ye=="function"){re=ye.call(lt,re,Q);break e}re=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=xe.payload,Q=typeof ye=="function"?ye.call(lt,re,Q):ye,Q==null)break e;re=b({},re,Q);break e;case 2:is=!0}}Q=S.callback,Q!==null&&(n.flags|=64,J&&(n.flags|=8192),J=f.callbacks,J===null?f.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(Y=ee=J,P=re):ee=ee.next=J,E|=Q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;J=S,S=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);ee===null&&(P=re),f.baseState=P,f.firstBaseUpdate=Y,f.lastBaseUpdate=ee,p===null&&(f.shared.lanes=0),hs|=E,n.lanes=E,n.memoizedState=re}}function PE(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function LE(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)PE(o[n],s)}var vo=I(null),Zc=I(0);function UE(n,s){n=Ai,ae(Zc,n),ae(vo,s),Ai=n|s.baseLanes}function rp(){ae(Zc,Ai),ae(vo,vo.current)}function ip(){Ai=Zc.current,U(vo),U(Zc)}var Vn=I(null),sr=null;function os(n){var s=n.alternate;ae(wt,wt.current&1),ae(Vn,n),sr===null&&(s===null||vo.current!==null||s.memoizedState!==null)&&(sr=n)}function sp(n){ae(wt,wt.current),ae(Vn,n),sr===null&&(sr=n)}function qE(n){n.tag===22?(ae(wt,wt.current),ae(Vn,n),sr===null&&(sr=n)):ls()}function ls(){ae(wt,wt.current),ae(Vn,Vn.current)}function Pn(n){U(Vn),sr===n&&(sr=null),U(wt)}var wt=I(0);function eh(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||hm(o)||fm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var yi=0,Me=null,at=null,Vt=null,th=!1,_o=!1,pa=!1,nh=0,$l=0,bo=null,fM=0;function bt(){throw Error(i(321))}function ap(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!jn(n[o],s[o]))return!1;return!0}function op(n,s,o,u,f,p){return yi=p,Me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=n===null||n.memoizedState===null?xT:Tp,pa=!1,p=o(u,f),pa=!1,_o&&(p=BE(s,o,u,f)),zE(n),p}function zE(n){Z.H=Xl;var s=at!==null&&at.next!==null;if(yi=0,Vt=at=Me=null,th=!1,$l=0,bo=null,s)throw Error(i(300));n===null||Pt||(n=n.dependencies,n!==null&&Kc(n)&&(Pt=!0))}function BE(n,s,o,u){Me=n;var f=0;do{if(_o&&(bo=null),$l=0,_o=!1,25<=f)throw Error(i(301));if(f+=1,Vt=at=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Z.H=ST,p=s(o,u)}while(_o);return p}function dM(){var n=Z.H,s=n.useState()[0];return s=typeof s.then=="function"?Yl(s):s,n=n.useState()[0],(at!==null?at.memoizedState:null)!==n&&(Me.flags|=1024),s}function lp(){var n=nh!==0;return nh=0,n}function up(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function cp(n){if(th){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}th=!1}yi=0,Vt=at=Me=null,_o=!1,$l=nh=0,bo=null}function bn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Me.memoizedState=Vt=n:Vt=Vt.next=n,Vt}function Rt(){if(at===null){var n=Me.alternate;n=n!==null?n.memoizedState:null}else n=at.next;var s=Vt===null?Me.memoizedState:Vt.next;if(s!==null)Vt=s,at=n;else{if(n===null)throw Me.alternate===null?Error(i(467)):Error(i(310));at=n,n={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Vt===null?Me.memoizedState=Vt=n:Vt=Vt.next=n}return Vt}function rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(n){var s=$l;return $l+=1,bo===null&&(bo=[]),n=DE(bo,n,s),s=Me,(Vt===null?s.memoizedState:Vt.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?xT:Tp),n}function ih(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Yl(n);if(n.$$typeof===W)return tn(n)}throw Error(i(438,String(n)))}function hp(n){var s=null,o=Me.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Me.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=rh(),Me.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=V;return s.index++,o}function vi(n,s){return typeof s=="function"?s(n):s}function sh(n){var s=Rt();return fp(s,at,n)}function fp(n,s,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=n.baseQueue,p=u.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}s.baseQueue=f=p,u.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{s=f.next;var S=E=null,P=null,Y=s,ee=!1;do{var re=Y.lane&-536870913;if(re!==Y.lane?(qe&re)===re:(yi&re)===re){var Q=Y.revertLane;if(Q===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),re===po&&(ee=!0);else if((yi&Q)===Q){Y=Y.next,Q===po&&(ee=!0);continue}else re={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(S=P=re,E=p):P=P.next=re,Me.lanes|=Q,hs|=Q;re=Y.action,pa&&o(p,re),p=Y.hasEagerState?Y.eagerState:o(p,re)}else Q={lane:re,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(S=P=Q,E=p):P=P.next=Q,Me.lanes|=re,hs|=re;Y=Y.next}while(Y!==null&&Y!==s);if(P===null?E=p:P.next=S,!jn(p,n.memoizedState)&&(Pt=!0,ee&&(o=mo,o!==null)))throw o;n.memoizedState=p,n.baseState=E,n.baseQueue=P,u.lastRenderedState=p}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function dp(n){var s=Rt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,p=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do p=n(p,E.action),E=E.next;while(E!==f);jn(p,s.memoizedState)||(Pt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function FE(n,s,o){var u=Me,f=Rt(),p=$e;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!jn((at||f).memoizedState,o);if(E&&(f.memoizedState=o,Pt=!0),f=f.queue,gp(KE.bind(null,u,f,n),[n]),f.getSnapshot!==s||E||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,Eo(9,{destroy:void 0},GE.bind(null,u,f,o,s),null),ct===null)throw Error(i(349));p||(yi&127)!==0||HE(u,s,o)}return o}function HE(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Me.updateQueue,s===null?(s=rh(),Me.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function GE(n,s,o,u){s.value=o,s.getSnapshot=u,$E(s)&&YE(n)}function KE(n,s,o){return o(function(){$E(s)&&YE(n)})}function $E(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!jn(n,o)}catch{return!0}}function YE(n){var s=sa(n,2);s!==null&&Cn(s,n,2)}function pp(n){var s=bn();if(typeof n=="function"){var o=n;if(n=o(),pa){Qn(!0);try{o()}finally{Qn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:n},s}function QE(n,s,o,u){return n.baseState=o,fp(n,at,typeof u=="function"?u:vi)}function pM(n,s,o,u,f){if(lh(n))throw Error(i(485));if(n=s.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};Z.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,XE(s,p)):(p.next=o.next,s.pending=o.next=p)}}function XE(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var p=Z.T,E={};Z.T=E;try{var S=o(f,u),P=Z.S;P!==null&&P(E,S),WE(n,s,S)}catch(Y){mp(n,s,Y)}finally{p!==null&&E.types!==null&&(p.types=E.types),Z.T=p}}else try{p=o(f,u),WE(n,s,p)}catch(Y){mp(n,s,Y)}}function WE(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){JE(n,s,u)},function(u){return mp(n,s,u)}):JE(n,s,o)}function JE(n,s,o){s.status="fulfilled",s.value=o,ZE(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,XE(n,o)))}function mp(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,ZE(s),s=s.next;while(s!==u)}n.action=null}function ZE(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function eT(n,s){return s}function tT(n,s){if($e){var o=ct.formState;if(o!==null){e:{var u=Me;if($e){if(dt){t:{for(var f=dt,p=ir;f.nodeType!==8;){if(!p){f=null;break t}if(f=ar(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){dt=ar(f.nextSibling),u=f.data==="F!";break e}}ns(u)}u=!1}u&&(s=o[0])}}return o=bn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eT,lastRenderedState:s},o.queue=u,o=bT.bind(null,Me,u),u.dispatch=o,u=pp(!1),p=Ep.bind(null,Me,!1,u.queue),u=bn(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=pM.bind(null,Me,f,p,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function nT(n){var s=Rt();return rT(s,at,n)}function rT(n,s,o){if(s=fp(n,s,eT)[0],n=sh(vi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Yl(s)}catch(E){throw E===go?Qc:E}else u=s;s=Rt();var f=s.queue,p=f.dispatch;return o!==s.memoizedState&&(Me.flags|=2048,Eo(9,{destroy:void 0},mM.bind(null,f,o),null)),[u,p,n]}function mM(n,s){n.action=s}function iT(n){var s=Rt(),o=at;if(o!==null)return rT(s,o,n);Rt(),s=s.memoizedState,o=Rt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function Eo(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Me.updateQueue,s===null&&(s=rh(),Me.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function sT(){return Rt().memoizedState}function ah(n,s,o,u){var f=bn();Me.flags|=n,f.memoizedState=Eo(1|s,{destroy:void 0},o,u===void 0?null:u)}function oh(n,s,o,u){var f=Rt();u=u===void 0?null:u;var p=f.memoizedState.inst;at!==null&&u!==null&&ap(u,at.memoizedState.deps)?f.memoizedState=Eo(s,p,o,u):(Me.flags|=n,f.memoizedState=Eo(1|s,p,o,u))}function aT(n,s){ah(8390656,8,n,s)}function gp(n,s){oh(2048,8,n,s)}function gM(n){Me.flags|=4;var s=Me.updateQueue;if(s===null)s=rh(),Me.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function oT(n){var s=Rt().memoizedState;return gM({ref:s,nextImpl:n}),function(){if((Ze&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function lT(n,s){return oh(4,2,n,s)}function uT(n,s){return oh(4,4,n,s)}function cT(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function hT(n,s,o){o=o!=null?o.concat([n]):null,oh(4,4,cT.bind(null,s,n),o)}function yp(){}function fT(n,s){var o=Rt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&ap(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function dT(n,s){var o=Rt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&ap(s,u[1]))return u[0];if(u=n(),pa){Qn(!0);try{n()}finally{Qn(!1)}}return o.memoizedState=[u,s],u}function vp(n,s,o){return o===void 0||(yi&1073741824)!==0&&(qe&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=px(),Me.lanes|=n,hs|=n,o)}function pT(n,s,o,u){return jn(o,s)?o:vo.current!==null?(n=vp(n,o,u),jn(n,s)||(Pt=!0),n):(yi&42)===0||(yi&1073741824)!==0&&(qe&261930)===0?(Pt=!0,n.memoizedState=o):(n=px(),Me.lanes|=n,hs|=n,s)}function mT(n,s,o,u,f){var p=ce.p;ce.p=p!==0&&8>p?p:8;var E=Z.T,S={};Z.T=S,Ep(n,!1,s,o);try{var P=f(),Y=Z.S;if(Y!==null&&Y(S,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ee=hM(P,u);Ql(n,s,ee,qn(n))}else Ql(n,s,u,qn(n))}catch(re){Ql(n,s,{then:function(){},status:"rejected",reason:re},qn())}finally{ce.p=p,E!==null&&S.types!==null&&(E.types=S.types),Z.T=E}}function yM(){}function _p(n,s,o,u){if(n.tag!==5)throw Error(i(476));var f=gT(n).queue;mT(n,f,s,ge,o===null?yM:function(){return yT(n),o(u)})}function gT(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:ge},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function yT(n){var s=gT(n);s.next===null&&(s=n.alternate.memoizedState),Ql(n,s.next.queue,{},qn())}function bp(){return tn(fu)}function vT(){return Rt().memoizedState}function _T(){return Rt().memoizedState}function vM(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=qn();n=ss(o);var u=as(s,n,o);u!==null&&(Cn(u,s,o),Hl(u,s,o)),s={cache:Qd()},n.payload=s;return}s=s.return}}function _M(n,s,o){var u=qn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lh(n)?ET(s,o):(o=Ld(n,s,o,u),o!==null&&(Cn(o,n,u),TT(o,s,u)))}function bT(n,s,o){var u=qn();Ql(n,s,o,u)}function Ql(n,s,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(lh(n))ET(s,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,S=p(E,o);if(f.hasEagerState=!0,f.eagerState=S,jn(S,E))return Bc(n,s,f,0),ct===null&&zc(),!1}catch{}if(o=Ld(n,s,f,u),o!==null)return Cn(o,n,u),TT(o,s,u),!0}return!1}function Ep(n,s,o,u){if(u={lane:2,revertLane:Zp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},lh(n)){if(s)throw Error(i(479))}else s=Ld(n,o,u,2),s!==null&&Cn(s,n,2)}function lh(n){var s=n.alternate;return n===Me||s!==null&&s===Me}function ET(n,s){_o=th=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function TT(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,yl(n,o)}}var Xl={readContext:tn,use:ih,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};Xl.useEffectEvent=bt;var xT={readContext:tn,use:ih,useCallback:function(n,s){return bn().memoizedState=[n,s===void 0?null:s],n},useContext:tn,useEffect:aT,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,ah(4194308,4,cT.bind(null,s,n),o)},useLayoutEffect:function(n,s){return ah(4194308,4,n,s)},useInsertionEffect:function(n,s){ah(4,2,n,s)},useMemo:function(n,s){var o=bn();s=s===void 0?null:s;var u=n();if(pa){Qn(!0);try{n()}finally{Qn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=bn();if(o!==void 0){var f=o(s);if(pa){Qn(!0);try{o(s)}finally{Qn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=_M.bind(null,Me,n),[u.memoizedState,n]},useRef:function(n){var s=bn();return n={current:n},s.memoizedState=n},useState:function(n){n=pp(n);var s=n.queue,o=bT.bind(null,Me,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:yp,useDeferredValue:function(n,s){var o=bn();return vp(o,n,s)},useTransition:function(){var n=pp(!1);return n=mT.bind(null,Me,n.queue,!0,!1),bn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Me,f=bn();if($e){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ct===null)throw Error(i(349));(qe&127)!==0||HE(u,s,o)}f.memoizedState=o;var p={value:o,getSnapshot:s};return f.queue=p,aT(KE.bind(null,u,p,n),[n]),u.flags|=2048,Eo(9,{destroy:void 0},GE.bind(null,u,p,o,s),null),o},useId:function(){var n=bn(),s=ct.identifierPrefix;if($e){var o=Xr,u=Qr;o=(u&~(1<<32-St(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=nh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=fM++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:bp,useFormState:tT,useActionState:tT,useOptimistic:function(n){var s=bn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Ep.bind(null,Me,!0,o),o.dispatch=s,[n,s]},useMemoCache:hp,useCacheRefresh:function(){return bn().memoizedState=vM.bind(null,Me)},useEffectEvent:function(n){var s=bn(),o={impl:n};return s.memoizedState=o,function(){if((Ze&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Tp={readContext:tn,use:ih,useCallback:fT,useContext:tn,useEffect:gp,useImperativeHandle:hT,useInsertionEffect:lT,useLayoutEffect:uT,useMemo:dT,useReducer:sh,useRef:sT,useState:function(){return sh(vi)},useDebugValue:yp,useDeferredValue:function(n,s){var o=Rt();return pT(o,at.memoizedState,n,s)},useTransition:function(){var n=sh(vi)[0],s=Rt().memoizedState;return[typeof n=="boolean"?n:Yl(n),s]},useSyncExternalStore:FE,useId:vT,useHostTransitionStatus:bp,useFormState:nT,useActionState:nT,useOptimistic:function(n,s){var o=Rt();return QE(o,at,n,s)},useMemoCache:hp,useCacheRefresh:_T};Tp.useEffectEvent=oT;var ST={readContext:tn,use:ih,useCallback:fT,useContext:tn,useEffect:gp,useImperativeHandle:hT,useInsertionEffect:lT,useLayoutEffect:uT,useMemo:dT,useReducer:dp,useRef:sT,useState:function(){return dp(vi)},useDebugValue:yp,useDeferredValue:function(n,s){var o=Rt();return at===null?vp(o,n,s):pT(o,at.memoizedState,n,s)},useTransition:function(){var n=dp(vi)[0],s=Rt().memoizedState;return[typeof n=="boolean"?n:Yl(n),s]},useSyncExternalStore:FE,useId:vT,useHostTransitionStatus:bp,useFormState:iT,useActionState:iT,useOptimistic:function(n,s){var o=Rt();return at!==null?QE(o,at,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:hp,useCacheRefresh:_T};ST.useEffectEvent=oT;function xp(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:b({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Sp={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=qn(),f=ss(u);f.payload=s,o!=null&&(f.callback=o),s=as(n,f,u),s!==null&&(Cn(s,n,u),Hl(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=qn(),f=ss(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=as(n,f,u),s!==null&&(Cn(s,n,u),Hl(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=qn(),u=ss(o);u.tag=2,s!=null&&(u.callback=s),s=as(n,u,o),s!==null&&(Cn(s,n,o),Hl(s,n,o))}};function AT(n,s,o,u,f,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,E):s.prototype&&s.prototype.isPureReactComponent?!Vl(o,u)||!Vl(f,p):!0}function wT(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Sp.enqueueReplaceState(s,s.state,null)}function ma(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=b({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function RT(n){qc(n)}function CT(n){console.error(n)}function IT(n){qc(n)}function uh(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function NT(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ap(n,s,o){return o=ss(o),o.tag=3,o.payload={element:null},o.callback=function(){uh(n,s)},o}function OT(n){return n=ss(n),n.tag=3,n}function DT(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;n.payload=function(){return f(p)},n.callback=function(){NT(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){NT(s,o,u),typeof f!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function bM(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&fo(s,o,f,!0),o=Vn.current,o!==null){switch(o.tag){case 31:case 13:return sr===null?Eh():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Xc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Xp(n,u,f)),!1;case 22:return o.flags|=65536,u===Xc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Xp(n,u,f)),!1}throw Error(i(435,o.tag))}return Xp(n,u,f),Eh(),!1}if($e)return s=Vn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Hd&&(n=Error(i(422),{cause:u}),Ul(tr(n,o)))):(u!==Hd&&(s=Error(i(423),{cause:u}),Ul(tr(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=tr(u,o),f=Ap(n.stateNode,u,f),tp(n,f),Et!==4&&(Et=2)),!1;var p=Error(i(520),{cause:u});if(p=tr(p,o),iu===null?iu=[p]:iu.push(p),Et!==4&&(Et=2),s===null)return!0;u=tr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Ap(o.stateNode,u,n),tp(o,n),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(fs===null||!fs.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=OT(f),DT(f,n,o,u),tp(o,f),!1}o=o.return}while(o!==null);return!1}var wp=Error(i(461)),Pt=!1;function nn(n,s,o,u){s.child=n===null?VE(s,null,o,u):da(s,n.child,o,u)}function MT(n,s,o,u,f){o=o.render;var p=s.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return ua(s),u=op(n,s,o,E,p,f),S=lp(),n!==null&&!Pt?(up(n,s,f),_i(n,s,f)):($e&&S&&Bd(s),s.flags|=1,nn(n,s,u,f),s.child)}function jT(n,s,o,u,f){if(n===null){var p=o.type;return typeof p=="function"&&!Ud(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,kT(n,s,p,u,f)):(n=Hc(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!jp(n,f)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:Vl,o(E,u)&&n.ref===s.ref)return _i(n,s,f)}return s.flags|=1,n=di(p,u),n.ref=s.ref,n.return=s,s.child=n}function kT(n,s,o,u,f){if(n!==null){var p=n.memoizedProps;if(Vl(p,u)&&n.ref===s.ref)if(Pt=!1,s.pendingProps=u=p,jp(n,f))(n.flags&131072)!==0&&(Pt=!0);else return s.lanes=n.lanes,_i(n,s,f)}return Rp(n,s,o,u,f)}function VT(n,s,o,u){var f=u.children,p=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,n!==null){for(u=s.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~p}else u=0,s.child=null;return PT(n,s,p,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Yc(s,p!==null?p.cachePool:null),p!==null?UE(s,p):rp(),qE(s);else return u=s.lanes=536870912,PT(n,s,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(Yc(s,p.cachePool),UE(s,p),ls(),s.memoizedState=null):(n!==null&&Yc(s,null),rp(),ls());return nn(n,s,f,o),s.child}function Wl(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function PT(n,s,o,u,f){var p=Wd();return p=p===null?null:{parent:kt._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},n!==null&&Yc(s,null),rp(),qE(s),n!==null&&fo(n,s,u,!0),s.childLanes=f,null}function ch(n,s){return s=fh({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function LT(n,s,o){return da(s,n.child,null,o),n=ch(s,s.pendingProps),n.flags|=2,Pn(s),s.memoizedState=null,n}function EM(n,s,o){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if($e){if(u.mode==="hidden")return n=ch(s,u),s.lanes=536870912,Wl(null,n);if(sp(s),(n=dt)?(n=Xx(n,ir),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:es!==null?{id:Qr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},o=EE(n),o.return=s,s.child=o,en=s,dt=null)):n=null,n===null)throw ns(s);return s.lanes=536870912,null}return ch(s,u)}var p=n.memoizedState;if(p!==null){var E=p.dehydrated;if(sp(s),f)if(s.flags&256)s.flags&=-257,s=LT(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(Pt||fo(n,s,o,!1),f=(o&n.childLanes)!==0,Pt||f){if(u=ct,u!==null&&(E=vl(u,o),E!==0&&E!==p.retryLane))throw p.retryLane=E,sa(n,E),Cn(u,n,E),wp;Eh(),s=LT(n,s,o)}else n=p.treeContext,dt=ar(E.nextSibling),en=s,$e=!0,ts=null,ir=!1,n!==null&&SE(s,n),s=ch(s,u),s.flags|=4096;return s}return n=di(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function hh(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Rp(n,s,o,u,f){return ua(s),o=op(n,s,o,u,void 0,f),u=lp(),n!==null&&!Pt?(up(n,s,f),_i(n,s,f)):($e&&u&&Bd(s),s.flags|=1,nn(n,s,o,f),s.child)}function UT(n,s,o,u,f,p){return ua(s),s.updateQueue=null,o=BE(s,u,o,f),zE(n),u=lp(),n!==null&&!Pt?(up(n,s,p),_i(n,s,p)):($e&&u&&Bd(s),s.flags|=1,nn(n,s,o,p),s.child)}function qT(n,s,o,u,f){if(ua(s),s.stateNode===null){var p=lo,E=o.contextType;typeof E=="object"&&E!==null&&(p=tn(E)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Sp,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},Zd(s),E=o.contextType,p.context=typeof E=="object"&&E!==null?tn(E):lo,p.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(xp(s,o,E,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Sp.enqueueReplaceState(p,p.state,null),Kl(s,u,p,f),Gl(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){p=s.stateNode;var S=s.memoizedProps,P=ma(o,S);p.props=P;var Y=p.context,ee=o.contextType;E=lo,typeof ee=="object"&&ee!==null&&(E=tn(ee));var re=o.getDerivedStateFromProps;ee=typeof re=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,ee||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||Y!==E)&&wT(s,p,u,E),is=!1;var Q=s.memoizedState;p.state=Q,Kl(s,u,p,f),Gl(),Y=s.memoizedState,S||Q!==Y||is?(typeof re=="function"&&(xp(s,o,re,u),Y=s.memoizedState),(P=is||AT(s,o,P,u,Q,Y,E))?(ee||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Y),p.props=u,p.state=Y,p.context=E,u=P):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,ep(n,s),E=s.memoizedProps,ee=ma(o,E),p.props=ee,re=s.pendingProps,Q=p.context,Y=o.contextType,P=lo,typeof Y=="object"&&Y!==null&&(P=tn(Y)),S=o.getDerivedStateFromProps,(Y=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==re||Q!==P)&&wT(s,p,u,P),is=!1,Q=s.memoizedState,p.state=Q,Kl(s,u,p,f),Gl();var J=s.memoizedState;E!==re||Q!==J||is||n!==null&&n.dependencies!==null&&Kc(n.dependencies)?(typeof S=="function"&&(xp(s,o,S,u),J=s.memoizedState),(ee=is||AT(s,o,ee,u,Q,J,P)||n!==null&&n.dependencies!==null&&Kc(n.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,J,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,J,P)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=J),p.props=u,p.state=J,p.context=P,u=ee):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),u=!1)}return p=u,hh(n,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&u?(s.child=da(s,n.child,null,f),s.child=da(s,null,o,f)):nn(n,s,o,f),s.memoizedState=p.state,n=s.child):n=_i(n,s,f),n}function zT(n,s,o,u){return oa(),s.flags|=256,nn(n,s,o,u),s.child}var Cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ip(n){return{baseLanes:n,cachePool:NE()}}function Np(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Un),n}function BT(n,s,o){var u=s.pendingProps,f=!1,p=(s.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(wt.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if($e){if(f?os(s):ls(),(n=dt)?(n=Xx(n,ir),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:es!==null?{id:Qr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},o=EE(n),o.return=s,s.child=o,en=s,dt=null)):n=null,n===null)throw ns(s);return fm(n)?s.lanes=32:s.lanes=536870912,null}var S=u.children;return u=u.fallback,f?(ls(),f=s.mode,S=fh({mode:"hidden",children:S},f),u=aa(u,f,o,null),S.return=s,u.return=s,S.sibling=u,s.child=S,u=s.child,u.memoizedState=Ip(o),u.childLanes=Np(n,E,o),s.memoizedState=Cp,Wl(null,u)):(os(s),Op(s,S))}var P=n.memoizedState;if(P!==null&&(S=P.dehydrated,S!==null)){if(p)s.flags&256?(os(s),s.flags&=-257,s=Dp(n,s,o)):s.memoizedState!==null?(ls(),s.child=n.child,s.flags|=128,s=null):(ls(),S=u.fallback,f=s.mode,u=fh({mode:"visible",children:u.children},f),S=aa(S,f,o,null),S.flags|=2,u.return=s,S.return=s,u.sibling=S,s.child=u,da(s,n.child,null,o),u=s.child,u.memoizedState=Ip(o),u.childLanes=Np(n,E,o),s.memoizedState=Cp,s=Wl(null,u));else if(os(s),fm(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var Y=E.dgst;E=Y,u=Error(i(419)),u.stack="",u.digest=E,Ul({value:u,source:null,stack:null}),s=Dp(n,s,o)}else if(Pt||fo(n,s,o,!1),E=(o&n.childLanes)!==0,Pt||E){if(E=ct,E!==null&&(u=vl(E,o),u!==0&&u!==P.retryLane))throw P.retryLane=u,sa(n,u),Cn(E,n,u),wp;hm(S)||Eh(),s=Dp(n,s,o)}else hm(S)?(s.flags|=192,s.child=n.child,s=null):(n=P.treeContext,dt=ar(S.nextSibling),en=s,$e=!0,ts=null,ir=!1,n!==null&&SE(s,n),s=Op(s,u.children),s.flags|=4096);return s}return f?(ls(),S=u.fallback,f=s.mode,P=n.child,Y=P.sibling,u=di(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,Y!==null?S=di(Y,S):(S=aa(S,f,o,null),S.flags|=2),S.return=s,u.return=s,u.sibling=S,s.child=u,Wl(null,u),u=s.child,S=n.child.memoizedState,S===null?S=Ip(o):(f=S.cachePool,f!==null?(P=kt._currentValue,f=f.parent!==P?{parent:P,pool:P}:f):f=NE(),S={baseLanes:S.baseLanes|o,cachePool:f}),u.memoizedState=S,u.childLanes=Np(n,E,o),s.memoizedState=Cp,Wl(n.child,u)):(os(s),o=n.child,n=o.sibling,o=di(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=o,s.memoizedState=null,o)}function Op(n,s){return s=fh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function fh(n,s){return n=kn(22,n,null,s),n.lanes=0,n}function Dp(n,s,o){return da(s,n.child,null,o),n=Op(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function FT(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),$d(n.return,s,o)}function Mp(n,s,o,u,f,p){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:p}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=f,E.treeForkCount=p)}function HT(n,s,o){var u=s.pendingProps,f=u.revealOrder,p=u.tail;u=u.children;var E=wt.current,S=(E&2)!==0;if(S?(E=E&1|2,s.flags|=128):E&=1,ae(wt,E),nn(n,s,u,o),u=$e?Ll:0,!S&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&FT(n,o,s);else if(n.tag===19)FT(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&eh(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Mp(s,!1,f,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&eh(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Mp(s,!0,o,null,p,u);break;case"together":Mp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function _i(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),hs|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(fo(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,o=di(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=di(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function jp(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Kc(n)))}function TM(n,s,o){switch(s.tag){case 3:be(s,s.stateNode.containerInfo),rs(s,kt,n.memoizedState.cache),oa();break;case 27:case 5:et(s);break;case 4:be(s,s.stateNode.containerInfo);break;case 10:rs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,sp(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(os(s),s.flags|=128,null):(o&s.child.childLanes)!==0?BT(n,s,o):(os(s),n=_i(n,s,o),n!==null?n.sibling:null);os(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(fo(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return HT(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(wt,wt.current),u)break;return null;case 22:return s.lanes=0,VT(n,s,o,s.pendingProps);case 24:rs(s,kt,n.memoizedState.cache)}return _i(n,s,o)}function GT(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Pt=!0;else{if(!jp(n,o)&&(s.flags&128)===0)return Pt=!1,TM(n,s,o);Pt=(n.flags&131072)!==0}else Pt=!1,$e&&(s.flags&1048576)!==0&&xE(s,Ll,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=ha(s.elementType),s.type=n,typeof n=="function")Ud(n)?(u=ma(n,u),s.tag=1,s=qT(null,s,n,u,o)):(s.tag=0,s=Rp(null,s,n,u,o));else{if(n!=null){var f=n.$$typeof;if(f===oe){s.tag=11,s=MT(null,s,n,u,o);break e}else if(f===C){s.tag=14,s=jT(null,s,n,u,o);break e}}throw s=Se(n)||n,Error(i(306,s,""))}}return s;case 0:return Rp(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=ma(u,s.pendingProps),qT(n,s,u,f,o);case 3:e:{if(be(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var p=s.memoizedState;f=p.element,ep(n,s),Kl(s,u,null,o);var E=s.memoizedState;if(u=E.cache,rs(s,kt,u),u!==p.cache&&Yd(s,[kt],o,!0),Gl(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=zT(n,s,u,o);break e}else if(u!==f){f=tr(Error(i(424)),s),Ul(f),s=zT(n,s,u,o);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,dt=ar(n.firstChild),en=s,$e=!0,ts=null,ir=!0,o=VE(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(oa(),u===f){s=_i(n,s,o);break e}nn(n,s,u,o)}s=s.child}return s;case 26:return hh(n,s),n===null?(o=nS(s.type,null,s.pendingProps,null))?s.memoizedState=o:$e||(o=s.type,n=s.pendingProps,u=Ch(fe.current).createElement(o),u[Dt]=s,u[Yt]=n,rn(u,o,n),Mt(u),s.stateNode=u):s.memoizedState=nS(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return et(s),n===null&&$e&&(u=s.stateNode=Zx(s.type,s.pendingProps,fe.current),en=s,ir=!0,f=dt,gs(s.type)?(dm=f,dt=ar(u.firstChild)):dt=f),nn(n,s,s.pendingProps.children,o),hh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&$e&&((f=u=dt)&&(u=JM(u,s.type,s.pendingProps,ir),u!==null?(s.stateNode=u,en=s,dt=ar(u.firstChild),ir=!1,f=!0):f=!1),f||ns(s)),et(s),f=s.type,p=s.pendingProps,E=n!==null?n.memoizedProps:null,u=p.children,lm(f,p)?u=null:E!==null&&lm(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=op(n,s,dM,null,null,o),fu._currentValue=f),hh(n,s),nn(n,s,u,o),s.child;case 6:return n===null&&$e&&((n=o=dt)&&(o=ZM(o,s.pendingProps,ir),o!==null?(s.stateNode=o,en=s,dt=null,n=!0):n=!1),n||ns(s)),null;case 13:return BT(n,s,o);case 4:return be(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=da(s,null,u,o):nn(n,s,u,o),s.child;case 11:return MT(n,s,s.type,s.pendingProps,o);case 7:return nn(n,s,s.pendingProps,o),s.child;case 8:return nn(n,s,s.pendingProps.children,o),s.child;case 12:return nn(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,rs(s,s.type,u.value),nn(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ua(s),f=tn(f),u=u(f),s.flags|=1,nn(n,s,u,o),s.child;case 14:return jT(n,s,s.type,s.pendingProps,o);case 15:return kT(n,s,s.type,s.pendingProps,o);case 19:return HT(n,s,o);case 31:return EM(n,s,o);case 22:return VT(n,s,o,s.pendingProps);case 24:return ua(s),u=tn(kt),n===null?(f=Wd(),f===null&&(f=ct,p=Qd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),s.memoizedState={parent:u,cache:f},Zd(s),rs(s,kt,f)):((n.lanes&o)!==0&&(ep(n,s),Kl(s,null,null,o),Gl()),f=n.memoizedState,p=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),rs(s,kt,u)):(u=p.cache,rs(s,kt,u),u!==f.cache&&Yd(s,[kt],o,!0))),nn(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function bi(n){n.flags|=4}function kp(n,s,o,u,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(vx())n.flags|=8192;else throw fa=Xc,Jd}else n.flags&=-16777217}function KT(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!oS(s))if(vx())n.flags|=8192;else throw fa=Xc,Jd}function dh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?_c():536870912,n.lanes|=s,Ao|=s)}function Jl(n,s){if(!$e)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function pt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function xM(n,s,o){var u=s.pendingProps;switch(Fd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(s),null;case 1:return pt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),gi(kt),we(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ho(s)?bi(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Gd())),pt(s),null;case 26:var f=s.type,p=s.memoizedState;return n===null?(bi(s),p!==null?(pt(s),KT(s,p)):(pt(s),kp(s,f,null,u,o))):p?p!==n.memoizedState?(bi(s),pt(s),KT(s,p)):(pt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&bi(s),pt(s),kp(s,f,n,u,o)),null;case 27:if(yn(s),o=fe.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&bi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return pt(s),null}n=se.current,ho(s)?AE(s):(n=Zx(f,u,o),s.stateNode=n,bi(s))}return pt(s),null;case 5:if(yn(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&bi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return pt(s),null}if(p=se.current,ho(s))AE(s);else{var E=Ch(fe.current);switch(p){case 1:p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=E.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?E.createElement(f,{is:u.is}):E.createElement(f)}}p[Dt]=s,p[Yt]=u;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)p.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=p;e:switch(rn(p,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&bi(s)}}return pt(s),kp(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&bi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=fe.current,ho(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=en,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Dt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Bx(n.nodeValue,o)),n||ns(s,!0)}else n=Ch(n).createTextNode(u),n[Dt]=s,s.stateNode=n}return pt(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=ho(s),o!==null){if(n===null){if(!u)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Dt]=s}else oa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),n=!1}else o=Gd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(Pn(s),s):(Pn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return pt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ho(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Dt]=s}else oa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),f=!1}else f=Gd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Pn(s),s):(Pn(s),null)}return Pn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),dh(s,s.updateQueue),pt(s),null);case 4:return we(),n===null&&rm(s.stateNode.containerInfo),pt(s),null;case 10:return gi(s.type),pt(s),null;case 19:if(U(wt),u=s.memoizedState,u===null)return pt(s),null;if(f=(s.flags&128)!==0,p=u.rendering,p===null)if(f)Jl(u,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=eh(n),p!==null){for(s.flags|=128,Jl(u,!1),n=p.updateQueue,s.updateQueue=n,dh(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)bE(o,n),o=o.sibling;return ae(wt,wt.current&1|2),$e&&pi(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&It()>vh&&(s.flags|=128,f=!0,Jl(u,!1),s.lanes=4194304)}else{if(!f)if(n=eh(p),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,dh(s,n),Jl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!$e)return pt(s),null}else 2*It()-u.renderingStartTime>vh&&o!==536870912&&(s.flags|=128,f=!0,Jl(u,!1),s.lanes=4194304);u.isBackwards?(p.sibling=s.child,s.child=p):(n=u.last,n!==null?n.sibling=p:s.child=p,u.last=p)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=It(),n.sibling=null,o=wt.current,ae(wt,f?o&1|2:o&1),$e&&pi(s,u.treeForkCount),n):(pt(s),null);case 22:case 23:return Pn(s),ip(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(pt(s),s.subtreeFlags&6&&(s.flags|=8192)):pt(s),o=s.updateQueue,o!==null&&dh(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&U(ca),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),gi(kt),pt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function SM(n,s){switch(Fd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return gi(kt),we(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return yn(s),null;case 31:if(s.memoizedState!==null){if(Pn(s),s.alternate===null)throw Error(i(340));oa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Pn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));oa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return U(wt),null;case 4:return we(),null;case 10:return gi(s.type),null;case 22:case 23:return Pn(s),ip(),n!==null&&U(ca),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return gi(kt),null;case 25:return null;default:return null}}function $T(n,s){switch(Fd(s),s.tag){case 3:gi(kt),we();break;case 26:case 27:case 5:yn(s);break;case 4:we();break;case 31:s.memoizedState!==null&&Pn(s);break;case 13:Pn(s);break;case 19:U(wt);break;case 10:gi(s.type);break;case 22:case 23:Pn(s),ip(),n!==null&&U(ca);break;case 24:gi(kt)}}function Zl(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==f)}}catch(S){it(s,s.return,S)}}function us(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&n)===n){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=s;var P=o,Y=S;try{Y()}catch(ee){it(f,P,ee)}}}u=u.next}while(u!==p)}}catch(ee){it(s,s.return,ee)}}function YT(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{LE(s,o)}catch(u){it(n,n.return,u)}}}function QT(n,s,o){o.props=ma(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){it(n,s,u)}}function eu(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){it(n,s,f)}}function Wr(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){it(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){it(n,s,f)}else o.current=null}function XT(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){it(n,n.return,f)}}function Vp(n,s,o){try{var u=n.stateNode;KM(u,n.type,o,s),u[Yt]=s}catch(f){it(n,n.return,f)}}function WT(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&gs(n.type)||n.tag===4}function Pp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||WT(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&gs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Lp(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=pr));else if(u!==4&&(u===27&&gs(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Lp(n,s,o),n=n.sibling;n!==null;)Lp(n,s,o),n=n.sibling}function ph(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&gs(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(ph(n,s,o),n=n.sibling;n!==null;)ph(n,s,o),n=n.sibling}function JT(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);rn(s,u,o),s[Dt]=n,s[Yt]=o}catch(p){it(n,n.return,p)}}var Ei=!1,Lt=!1,Up=!1,ZT=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function AM(n,s){if(n=n.containerInfo,am=kh,n=hE(n),Dd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,S=-1,P=-1,Y=0,ee=0,re=n,Q=null;t:for(;;){for(var J;re!==o||f!==0&&re.nodeType!==3||(S=E+f),re!==p||u!==0&&re.nodeType!==3||(P=E+u),re.nodeType===3&&(E+=re.nodeValue.length),(J=re.firstChild)!==null;)Q=re,re=J;for(;;){if(re===n)break t;if(Q===o&&++Y===f&&(S=E),Q===p&&++ee===u&&(P=E),(J=re.nextSibling)!==null)break;re=Q,Q=re.parentNode}re=J}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(om={focusedElem:n,selectionRange:o},kh=!1,Xt=s;Xt!==null;)if(s=Xt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Xt=n;else for(;Xt!==null;){switch(s=Xt,p=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=s,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var ye=ma(o.type,f);n=u.getSnapshotBeforeUpdate(ye,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(xe){it(o,o.return,xe)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)cm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":cm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,Xt=n;break}Xt=s.return}}function ex(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:xi(n,o),u&4&&Zl(5,o);break;case 1:if(xi(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(E){it(o,o.return,E)}else{var f=ma(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){it(o,o.return,E)}}u&64&&YT(o),u&512&&eu(o,o.return);break;case 3:if(xi(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{LE(n,s)}catch(E){it(o,o.return,E)}}break;case 27:s===null&&u&4&&JT(o);case 26:case 5:xi(n,o),s===null&&u&4&&XT(o),u&512&&eu(o,o.return);break;case 12:xi(n,o);break;case 31:xi(n,o),u&4&&rx(n,o);break;case 13:xi(n,o),u&4&&ix(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=jM.bind(null,o),ej(n,o))));break;case 22:if(u=o.memoizedState!==null||Ei,!u){s=s!==null&&s.memoizedState!==null||Lt,f=Ei;var p=Lt;Ei=u,(Lt=s)&&!p?Si(n,o,(o.subtreeFlags&8772)!==0):xi(n,o),Ei=f,Lt=p}break;case 30:break;default:xi(n,o)}}function tx(n){var s=n.alternate;s!==null&&(n.alternate=null,tx(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ya(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var yt=null,Sn=!1;function Ti(n,s,o){for(o=o.child;o!==null;)nx(n,s,o),o=o.sibling}function nx(n,s,o){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Nt,o)}catch{}switch(o.tag){case 26:Lt||Wr(o,s),Ti(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Lt||Wr(o,s);var u=yt,f=Sn;gs(o.type)&&(yt=o.stateNode,Sn=!1),Ti(n,s,o),uu(o.stateNode),yt=u,Sn=f;break;case 5:Lt||Wr(o,s);case 6:if(u=yt,f=Sn,yt=null,Ti(n,s,o),yt=u,Sn=f,yt!==null)if(Sn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(o.stateNode)}catch(p){it(o,s,p)}else try{yt.removeChild(o.stateNode)}catch(p){it(o,s,p)}break;case 18:yt!==null&&(Sn?(n=yt,Yx(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Mo(n)):Yx(yt,o.stateNode));break;case 4:u=yt,f=Sn,yt=o.stateNode.containerInfo,Sn=!0,Ti(n,s,o),yt=u,Sn=f;break;case 0:case 11:case 14:case 15:us(2,o,s),Lt||us(4,o,s),Ti(n,s,o);break;case 1:Lt||(Wr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&QT(o,s,u)),Ti(n,s,o);break;case 21:Ti(n,s,o);break;case 22:Lt=(u=Lt)||o.memoizedState!==null,Ti(n,s,o),Lt=u;break;default:Ti(n,s,o)}}function rx(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Mo(n)}catch(o){it(s,s.return,o)}}}function ix(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Mo(n)}catch(o){it(s,s.return,o)}}function wM(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new ZT),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new ZT),s;default:throw Error(i(435,n.tag))}}function mh(n,s){var o=wM(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var f=kM.bind(null,n,u);u.then(f,f)}})}function An(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=n,E=s,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(gs(S.type)){yt=S.stateNode,Sn=!1;break e}break;case 5:yt=S.stateNode,Sn=!1;break e;case 3:case 4:yt=S.stateNode.containerInfo,Sn=!0;break e}S=S.return}if(yt===null)throw Error(i(160));nx(p,E,f),yt=null,Sn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)sx(s,n),s=s.sibling}var br=null;function sx(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:An(s,n),wn(n),u&4&&(us(3,n,n.return),Zl(3,n),us(5,n,n.return));break;case 1:An(s,n),wn(n),u&512&&(Lt||o===null||Wr(o,o.return)),u&64&&Ei&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=br;if(An(s,n),wn(n),u&512&&(Lt||o===null||Wr(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Pr]||p[Dt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),rn(p,u,o),p[Dt]=n,Mt(p),u=p;break e;case"link":var E=sS("link","href",f).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break t}}p=f.createElement(u),rn(p,u,o),f.head.appendChild(p);break;case"meta":if(E=sS("meta","content",f).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break t}}p=f.createElement(u),rn(p,u,o),f.head.appendChild(p);break;default:throw Error(i(468,u))}p[Dt]=n,Mt(p),u=p}n.stateNode=u}else aS(f,n.type,n.stateNode);else n.stateNode=iS(f,u,n.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?aS(f,n.type,n.stateNode):iS(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Vp(n,n.memoizedProps,o.memoizedProps)}break;case 27:An(s,n),wn(n),u&512&&(Lt||o===null||Wr(o,o.return)),o!==null&&u&4&&Vp(n,n.memoizedProps,o.memoizedProps);break;case 5:if(An(s,n),wn(n),u&512&&(Lt||o===null||Wr(o,o.return)),n.flags&32){f=n.stateNode;try{xn(f,"")}catch(ye){it(n,n.return,ye)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Vp(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Up=!0);break;case 6:if(An(s,n),wn(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(ye){it(n,n.return,ye)}}break;case 3:if(Oh=null,f=br,br=Ih(s.containerInfo),An(s,n),br=f,wn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Mo(s.containerInfo)}catch(ye){it(n,n.return,ye)}Up&&(Up=!1,ax(n));break;case 4:u=br,br=Ih(n.stateNode.containerInfo),An(s,n),wn(n),br=u;break;case 12:An(s,n),wn(n);break;case 31:An(s,n),wn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,mh(n,u)));break;case 13:An(s,n),wn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(yh=It()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,mh(n,u)));break;case 22:f=n.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,Y=Ei,ee=Lt;if(Ei=Y||f,Lt=ee||P,An(s,n),Lt=ee,Ei=Y,wn(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||P||Ei||Lt||ga(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){P=o=s;try{if(p=P.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=P.stateNode;var re=P.memoizedProps.style,Q=re!=null&&re.hasOwnProperty("display")?re.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ye){it(P,P.return,ye)}}}else if(s.tag===6){if(o===null){P=s;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(ye){it(P,P.return,ye)}}}else if(s.tag===18){if(o===null){P=s;try{var J=P.stateNode;f?Qx(J,!0):Qx(P.stateNode,!1)}catch(ye){it(P,P.return,ye)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,mh(n,o))));break;case 19:An(s,n),wn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,mh(n,u)));break;case 30:break;case 21:break;default:An(s,n),wn(n)}}function wn(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(WT(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,p=Pp(n);ph(n,p,f);break;case 5:var E=o.stateNode;o.flags&32&&(xn(E,""),o.flags&=-33);var S=Pp(n);ph(n,S,E);break;case 3:case 4:var P=o.stateNode.containerInfo,Y=Pp(n);Lp(n,Y,P);break;default:throw Error(i(161))}}catch(ee){it(n,n.return,ee)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function ax(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;ax(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function xi(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ex(n,s.alternate,s),s=s.sibling}function ga(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:us(4,s,s.return),ga(s);break;case 1:Wr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&QT(s,s.return,o),ga(s);break;case 27:uu(s.stateNode);case 26:case 5:Wr(s,s.return),ga(s);break;case 22:s.memoizedState===null&&ga(s);break;case 30:ga(s);break;default:ga(s)}n=n.sibling}}function Si(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,p=s,E=p.flags;switch(p.tag){case 0:case 11:case 15:Si(f,p,o),Zl(4,p);break;case 1:if(Si(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){it(u,u.return,Y)}if(u=p,f=u.updateQueue,f!==null){var S=u.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)PE(P[f],S)}catch(Y){it(u,u.return,Y)}}o&&E&64&&YT(p),eu(p,p.return);break;case 27:JT(p);case 26:case 5:Si(f,p,o),o&&u===null&&E&4&&XT(p),eu(p,p.return);break;case 12:Si(f,p,o);break;case 31:Si(f,p,o),o&&E&4&&rx(f,p);break;case 13:Si(f,p,o),o&&E&4&&ix(f,p);break;case 22:p.memoizedState===null&&Si(f,p,o),eu(p,p.return);break;case 30:break;default:Si(f,p,o)}s=s.sibling}}function qp(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&ql(o))}function zp(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ql(n))}function Er(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ox(n,s,o,u),s=s.sibling}function ox(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Er(n,s,o,u),f&2048&&Zl(9,s);break;case 1:Er(n,s,o,u);break;case 3:Er(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ql(n)));break;case 12:if(f&2048){Er(n,s,o,u),n=s.stateNode;try{var p=s.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(P){it(s,s.return,P)}}else Er(n,s,o,u);break;case 31:Er(n,s,o,u);break;case 13:Er(n,s,o,u);break;case 23:break;case 22:p=s.stateNode,E=s.alternate,s.memoizedState!==null?p._visibility&2?Er(n,s,o,u):tu(n,s):p._visibility&2?Er(n,s,o,u):(p._visibility|=2,To(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&qp(E,s);break;case 24:Er(n,s,o,u),f&2048&&zp(s.alternate,s);break;default:Er(n,s,o,u)}}function To(n,s,o,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=n,E=s,S=o,P=u,Y=E.flags;switch(E.tag){case 0:case 11:case 15:To(p,E,S,P,f),Zl(8,E);break;case 23:break;case 22:var ee=E.stateNode;E.memoizedState!==null?ee._visibility&2?To(p,E,S,P,f):tu(p,E):(ee._visibility|=2,To(p,E,S,P,f)),f&&Y&2048&&qp(E.alternate,E);break;case 24:To(p,E,S,P,f),f&&Y&2048&&zp(E.alternate,E);break;default:To(p,E,S,P,f)}s=s.sibling}}function tu(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:tu(o,u),f&2048&&qp(u.alternate,u);break;case 24:tu(o,u),f&2048&&zp(u.alternate,u);break;default:tu(o,u)}s=s.sibling}}var nu=8192;function xo(n,s,o){if(n.subtreeFlags&nu)for(n=n.child;n!==null;)lx(n,s,o),n=n.sibling}function lx(n,s,o){switch(n.tag){case 26:xo(n,s,o),n.flags&nu&&n.memoizedState!==null&&fj(o,br,n.memoizedState,n.memoizedProps);break;case 5:xo(n,s,o);break;case 3:case 4:var u=br;br=Ih(n.stateNode.containerInfo),xo(n,s,o),br=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=nu,nu=16777216,xo(n,s,o),nu=u):xo(n,s,o));break;default:xo(n,s,o)}}function ux(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function ru(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Xt=u,hx(u,n)}ux(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)cx(n),n=n.sibling}function cx(n){switch(n.tag){case 0:case 11:case 15:ru(n),n.flags&2048&&us(9,n,n.return);break;case 3:ru(n);break;case 12:ru(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,gh(n)):ru(n);break;default:ru(n)}}function gh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Xt=u,hx(u,n)}ux(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:us(8,s,s.return),gh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,gh(s));break;default:gh(s)}n=n.sibling}}function hx(n,s){for(;Xt!==null;){var o=Xt;switch(o.tag){case 0:case 11:case 15:us(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ql(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Xt=u;else e:for(o=n;Xt!==null;){u=Xt;var f=u.sibling,p=u.return;if(tx(u),u===o){Xt=null;break e}if(f!==null){f.return=p,Xt=f;break e}Xt=p}}}var RM={getCacheForType:function(n){var s=tn(kt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return tn(kt).controller.signal}},CM=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ct=null,Le=null,qe=0,rt=0,Ln=null,cs=!1,So=!1,Bp=!1,Ai=0,Et=0,hs=0,ya=0,Fp=0,Un=0,Ao=0,iu=null,Rn=null,Hp=!1,yh=0,fx=0,vh=1/0,_h=null,fs=null,Gt=0,ds=null,wo=null,wi=0,Gp=0,Kp=null,dx=null,su=0,$p=null;function qn(){return(Ze&2)!==0&&qe!==0?qe&-qe:Z.T!==null?Zp():bc()}function px(){if(Un===0)if((qe&536870912)===0||$e){var n=Hs;Hs<<=1,(Hs&3932160)===0&&(Hs=262144),Un=n}else Un=536870912;return n=Vn.current,n!==null&&(n.flags|=32),Un}function Cn(n,s,o){(n===ct&&(rt===2||rt===9)||n.cancelPendingCommit!==null)&&(Ro(n,0),ps(n,qe,Un,!1)),Gs(n,o),((Ze&2)===0||n!==ct)&&(n===ct&&((Ze&2)===0&&(ya|=o),Et===4&&ps(n,qe,Un,!1)),Jr(n))}function mx(n,s,o){if((Ze&6)!==0)throw Error(i(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||hr(n,s),f=u?OM(n,s):Qp(n,s,!0),p=u;do{if(f===0){So&&!u&&ps(n,s,0,!1);break}else{if(o=n.current.alternate,p&&!IM(o)){f=Qp(n,s,!1),p=!1;continue}if(f===2){if(p=s,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var S=n;f=iu;var P=S.current.memoizedState.isDehydrated;if(P&&(Ro(S,E).flags|=256),E=Qp(S,E,!1),E!==2){if(Bp&&!P){S.errorRecoveryDisabledLanes|=p,ya|=p,f=4;break e}p=Rn,Rn=f,p!==null&&(Rn===null?Rn=p:Rn.push.apply(Rn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Ro(n,0),ps(n,s,0,!0);break}e:{switch(u=n,p=f,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ps(u,s,Un,!cs);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=yh+300-It(),10<f)){if(ps(u,s,Un,!cs),jr(u,0,!0)!==0)break e;wi=s,u.timeoutHandle=Kx(gx.bind(null,u,o,Rn,_h,Hp,s,Un,ya,Ao,cs,p,"Throttled",-0,0),f);break e}gx(u,o,Rn,_h,Hp,s,Un,ya,Ao,cs,p,null,-0,0)}}break}while(!0);Jr(n)}function gx(n,s,o,u,f,p,E,S,P,Y,ee,re,Q,J){if(n.timeoutHandle=-1,re=s.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pr},lx(s,p,re);var ye=(p&62914560)===p?yh-It():(p&4194048)===p?fx-It():0;if(ye=dj(re,ye),ye!==null){wi=p,n.cancelPendingCommit=ye(Sx.bind(null,n,s,p,o,u,f,E,S,P,ee,re,null,Q,J)),ps(n,p,E,!Y);return}}Sx(n,s,p,o,u,f,E,S,P)}function IM(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!jn(p(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ps(n,s,o,u){s&=~Fp,s&=~ya,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var p=31-St(f),E=1<<p;u[p]=-1,f&=~E}o!==0&&Ks(n,o,s)}function bh(){return(Ze&6)===0?(au(0),!1):!0}function Yp(){if(Le!==null){if(rt===0)var n=Le.return;else n=Le,mi=la=null,cp(n),yo=null,Bl=0,n=Le;for(;n!==null;)$T(n.alternate,n),n=n.return;Le=null}}function Ro(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,QM(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),wi=0,Yp(),ct=n,Le=o=di(n.current,null),qe=s,rt=0,Ln=null,cs=!1,So=hr(n,s),Bp=!1,Ao=Un=Fp=ya=hs=Et=0,Rn=iu=null,Hp=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-St(u),p=1<<f;s|=n[f],u&=~p}return Ai=s,zc(),o}function yx(n,s){Me=null,Z.H=Xl,s===go||s===Qc?(s=ME(),rt=3):s===Jd?(s=ME(),rt=4):rt=s===wp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ln=s,Le===null&&(Et=1,uh(n,tr(s,n.current)))}function vx(){var n=Vn.current;return n===null?!0:(qe&4194048)===qe?sr===null:(qe&62914560)===qe||(qe&536870912)!==0?n===sr:!1}function _x(){var n=Z.H;return Z.H=Xl,n===null?Xl:n}function bx(){var n=Z.A;return Z.A=RM,n}function Eh(){Et=4,cs||(qe&4194048)!==qe&&Vn.current!==null||(So=!0),(hs&134217727)===0&&(ya&134217727)===0||ct===null||ps(ct,qe,Un,!1)}function Qp(n,s,o){var u=Ze;Ze|=2;var f=_x(),p=bx();(ct!==n||qe!==s)&&(_h=null,Ro(n,s)),s=!1;var E=Et;e:do try{if(rt!==0&&Le!==null){var S=Le,P=Ln;switch(rt){case 8:Yp(),E=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(s=!0);var Y=rt;if(rt=0,Ln=null,Co(n,S,P,Y),o&&So){E=0;break e}break;default:Y=rt,rt=0,Ln=null,Co(n,S,P,Y)}}NM(),E=Et;break}catch(ee){yx(n,ee)}while(!0);return s&&n.shellSuspendCounter++,mi=la=null,Ze=u,Z.H=f,Z.A=p,Le===null&&(ct=null,qe=0,zc()),E}function NM(){for(;Le!==null;)Ex(Le)}function OM(n,s){var o=Ze;Ze|=2;var u=_x(),f=bx();ct!==n||qe!==s?(_h=null,vh=It()+500,Ro(n,s)):So=hr(n,s);e:do try{if(rt!==0&&Le!==null){s=Le;var p=Ln;t:switch(rt){case 1:rt=0,Ln=null,Co(n,s,p,1);break;case 2:case 9:if(OE(p)){rt=0,Ln=null,Tx(s);break}s=function(){rt!==2&&rt!==9||ct!==n||(rt=7),Jr(n)},p.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:OE(p)?(rt=0,Ln=null,Tx(s)):(rt=0,Ln=null,Co(n,s,p,7));break;case 5:var E=null;switch(Le.tag){case 26:E=Le.memoizedState;case 5:case 27:var S=Le;if(E?oS(E):S.stateNode.complete){rt=0,Ln=null;var P=S.sibling;if(P!==null)Le=P;else{var Y=S.return;Y!==null?(Le=Y,Th(Y)):Le=null}break t}}rt=0,Ln=null,Co(n,s,p,5);break;case 6:rt=0,Ln=null,Co(n,s,p,6);break;case 8:Yp(),Et=6;break e;default:throw Error(i(462))}}DM();break}catch(ee){yx(n,ee)}while(!0);return mi=la=null,Z.H=u,Z.A=f,Ze=o,Le!==null?0:(ct=null,qe=0,zc(),Et)}function DM(){for(;Le!==null&&!$n();)Ex(Le)}function Ex(n){var s=GT(n.alternate,n,Ai);n.memoizedProps=n.pendingProps,s===null?Th(n):Le=s}function Tx(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=UT(o,s,s.pendingProps,s.type,void 0,qe);break;case 11:s=UT(o,s,s.pendingProps,s.type.render,s.ref,qe);break;case 5:cp(s);default:$T(o,s),s=Le=bE(s,Ai),s=GT(o,s,Ai)}n.memoizedProps=n.pendingProps,s===null?Th(n):Le=s}function Co(n,s,o,u){mi=la=null,cp(s),yo=null,Bl=0;var f=s.return;try{if(bM(n,f,s,o,qe)){Et=1,uh(n,tr(o,n.current)),Le=null;return}}catch(p){if(f!==null)throw Le=f,p;Et=1,uh(n,tr(o,n.current)),Le=null;return}s.flags&32768?($e||u===1?n=!0:So||(qe&536870912)!==0?n=!1:(cs=n=!0,(u===2||u===9||u===3||u===6)&&(u=Vn.current,u!==null&&u.tag===13&&(u.flags|=16384))),xx(s,n)):Th(s)}function Th(n){var s=n;do{if((s.flags&32768)!==0){xx(s,cs);return}n=s.return;var o=xM(s.alternate,s,Ai);if(o!==null){Le=o;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=n}while(s!==null);Et===0&&(Et=5)}function xx(n,s){do{var o=SM(n.alternate,n);if(o!==null){o.flags&=32767,Le=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Le=n;return}Le=n=o}while(n!==null);Et=6,Le=null}function Sx(n,s,o,u,f,p,E,S,P){n.cancelPendingCommit=null;do xh();while(Gt!==0);if((Ze&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=Pd,Cd(n,o,p,E,S,P),n===ct&&(Le=ct=null,qe=0),wo=s,ds=n,wi=o,Gp=p,Kp=f,dx=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,VM(vn,function(){return Ix(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=ce.p,ce.p=2,E=Ze,Ze|=4;try{AM(n,s,o)}finally{Ze=E,ce.p=f,Z.T=u}}Gt=1,Ax(),wx(),Rx()}}function Ax(){if(Gt===1){Gt=0;var n=ds,s=wo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=ce.p;ce.p=2;var f=Ze;Ze|=4;try{sx(s,n);var p=om,E=hE(n.containerInfo),S=p.focusedElem,P=p.selectionRange;if(E!==S&&S&&S.ownerDocument&&cE(S.ownerDocument.documentElement,S)){if(P!==null&&Dd(S)){var Y=P.start,ee=P.end;if(ee===void 0&&(ee=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(ee,S.value.length);else{var re=S.ownerDocument||document,Q=re&&re.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),ye=S.textContent.length,xe=Math.min(P.start,ye),lt=P.end===void 0?xe:Math.min(P.end,ye);!J.extend&&xe>lt&&(E=lt,lt=xe,xe=E);var G=uE(S,xe),z=uE(S,lt);if(G&&z&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==z.node||J.focusOffset!==z.offset)){var $=re.createRange();$.setStart(G.node,G.offset),J.removeAllRanges(),xe>lt?(J.addRange($),J.extend(z.node,z.offset)):($.setEnd(z.node,z.offset),J.addRange($))}}}}for(re=[],J=S;J=J.parentNode;)J.nodeType===1&&re.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<re.length;S++){var te=re[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}kh=!!am,om=am=null}finally{Ze=f,ce.p=u,Z.T=o}}n.current=s,Gt=2}}function wx(){if(Gt===2){Gt=0;var n=ds,s=wo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=ce.p;ce.p=2;var f=Ze;Ze|=4;try{ex(n,s.alternate,s)}finally{Ze=f,ce.p=u,Z.T=o}}Gt=3}}function Rx(){if(Gt===4||Gt===3){Gt=0,Ht();var n=ds,s=wo,o=wi,u=dx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Gt=5:(Gt=0,wo=ds=null,Cx(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(fs=null),ui(o),s=s.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Nt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,f=ce.p,ce.p=2,Z.T=null;try{for(var p=n.onRecoverableError,E=0;E<u.length;E++){var S=u[E];p(S.value,{componentStack:S.stack})}}finally{Z.T=s,ce.p=f}}(wi&3)!==0&&xh(),Jr(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===$p?su++:(su=0,$p=n):su=0,au(0)}}function Cx(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,ql(s)))}function xh(){return Ax(),wx(),Rx(),Ix()}function Ix(){if(Gt!==5)return!1;var n=ds,s=Gp;Gp=0;var o=ui(wi),u=Z.T,f=ce.p;try{ce.p=32>o?32:o,Z.T=null,o=Kp,Kp=null;var p=ds,E=wi;if(Gt=0,wo=ds=null,wi=0,(Ze&6)!==0)throw Error(i(331));var S=Ze;if(Ze|=4,cx(p.current),ox(p,p.current,E,o),Ze=S,au(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Nt,p)}catch{}return!0}finally{ce.p=f,Z.T=u,Cx(n,s)}}function Nx(n,s,o){s=tr(o,s),s=Ap(n.stateNode,s,2),n=as(n,s,2),n!==null&&(Gs(n,2),Jr(n))}function it(n,s,o){if(n.tag===3)Nx(n,n,o);else for(;s!==null;){if(s.tag===3){Nx(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(fs===null||!fs.has(u))){n=tr(o,n),o=OT(2),u=as(s,o,2),u!==null&&(DT(o,u,s,n),Gs(u,2),Jr(u));break}}s=s.return}}function Xp(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new CM;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Bp=!0,f.add(o),n=MM.bind(null,n,s,o),s.then(n,n))}function MM(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ct===n&&(qe&o)===o&&(Et===4||Et===3&&(qe&62914560)===qe&&300>It()-yh?(Ze&2)===0&&Ro(n,0):Fp|=o,Ao===qe&&(Ao=0)),Jr(n)}function Ox(n,s){s===0&&(s=_c()),n=sa(n,s),n!==null&&(Gs(n,s),Jr(n))}function jM(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),Ox(n,o)}function kM(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),Ox(n,o)}function VM(n,s){return xt(n,s)}var Sh=null,Io=null,Wp=!1,Ah=!1,Jp=!1,ms=0;function Jr(n){n!==Io&&n.next===null&&(Io===null?Sh=Io=n:Io=Io.next=n),Ah=!0,Wp||(Wp=!0,LM())}function au(n,s){if(!Jp&&Ah){Jp=!0;do for(var o=!1,u=Sh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var E=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-St(42|n)+1)-1,p&=f&~(E&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,kx(u,p))}else p=qe,p=jr(u,u===ct?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||hr(u,p)||(o=!0,kx(u,p));u=u.next}while(o);Jp=!1}}function PM(){Dx()}function Dx(){Ah=Wp=!1;var n=0;ms!==0&&YM()&&(n=ms);for(var s=It(),o=null,u=Sh;u!==null;){var f=u.next,p=Mx(u,s);p===0?(u.next=null,o===null?Sh=f:o.next=f,f===null&&(Io=o)):(o=u,(n!==0||(p&3)!==0)&&(Ah=!0)),u=f}Gt!==0&&Gt!==5||au(n),ms!==0&&(ms=0)}function Mx(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-St(p),S=1<<E,P=f[E];P===-1?((S&o)===0||(S&u)!==0)&&(f[E]=Rd(S,s)):P<=s&&(n.expiredLanes|=S),p&=~S}if(s=ct,o=qe,o=jr(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(rt===2||rt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&On(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||hr(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&On(u),ui(o)){case 2:case 8:o=Hi;break;case 32:o=vn;break;case 268435456:o=Bs;break;default:o=vn}return u=jx.bind(null,n),o=xt(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&On(u),n.callbackPriority=2,n.callbackNode=null,2}function jx(n,s){if(Gt!==0&&Gt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(xh()&&n.callbackNode!==o)return null;var u=qe;return u=jr(n,n===ct?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(mx(n,u,s),Mx(n,It()),n.callbackNode!=null&&n.callbackNode===o?jx.bind(null,n):null)}function kx(n,s){if(xh())return null;mx(n,s,!0)}function LM(){XM(function(){(Ze&6)!==0?xt(zs,PM):Dx()})}function Zp(){if(ms===0){var n=po;n===0&&(n=Dr,Dr<<=1,(Dr&261888)===0&&(Dr=256)),ms=n}return ms}function Vx(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ja(""+n)}function Px(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function UM(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var p=Vx((f[Yt]||null).action),E=u.submitter;E&&(s=(s=E[Yt]||null)?Vx(s.formAction):E.getAttribute("formAction"),s!==null&&(p=s,E=null));var S=new Gr("action","action",null,u,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ms!==0){var P=E?Px(f,E):new FormData(f);_p(o,{pending:!0,data:P,method:f.method,action:p},null,P)}}else typeof p=="function"&&(S.preventDefault(),P=E?Px(f,E):new FormData(f),_p(o,{pending:!0,data:P,method:f.method,action:p},p,P))},currentTarget:f}]})}}for(var em=0;em<Vd.length;em++){var tm=Vd[em],qM=tm.toLowerCase(),zM=tm[0].toUpperCase()+tm.slice(1);_r(qM,"on"+zM)}_r(pE,"onAnimationEnd"),_r(mE,"onAnimationIteration"),_r(gE,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(rM,"onTransitionRun"),_r(iM,"onTransitionStart"),_r(sM,"onTransitionCancel"),_r(yE,"onTransitionEnd"),zr("onMouseEnter",["mouseout","mouseover"]),zr("onMouseLeave",["mouseout","mouseover"]),zr("onPointerEnter",["pointerout","pointerover"]),zr("onPointerLeave",["pointerout","pointerover"]),qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ou));function Lx(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var E=u.length-1;0<=E;E--){var S=u[E],P=S.instance,Y=S.currentTarget;if(S=S.listener,P!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=Y;try{p(f)}catch(ee){qc(ee)}f.currentTarget=null,p=P}else for(E=0;E<u.length;E++){if(S=u[E],P=S.instance,Y=S.currentTarget,S=S.listener,P!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=Y;try{p(f)}catch(ee){qc(ee)}f.currentTarget=null,p=P}}}}function Ue(n,s){var o=s[$a];o===void 0&&(o=s[$a]=new Set);var u=n+"__bubble";o.has(u)||(Ux(s,n,2,!1),o.add(u))}function nm(n,s,o){var u=0;s&&(u|=4),Ux(o,n,u,s)}var wh="_reactListening"+Math.random().toString(36).slice(2);function rm(n){if(!n[wh]){n[wh]=!0,_l.forEach(function(o){o!=="selectionchange"&&(BM.has(o)||nm(o,!1,n),nm(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[wh]||(s[wh]=!0,nm("selectionchange",!1,s))}}function Ux(n,s,o,u){switch(pS(s)){case 2:var f=gj;break;case 8:f=yj;break;default:f=vm}o=f.bind(null,s,o,n),f=void 0,!Ws||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function im(n,s,o,u,f){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=u.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=Lr(S),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){u=p=E;continue e}S=S.parentNode}}u=u.return}Xi(function(){var Y=p,ee=Wn(o),re=[];e:{var Q=vE.get(n);if(Q!==void 0){var J=Gr,ye=n;switch(n){case"keypress":if(Zs(o)===0)break e;case"keydown":case"keyup":J=Pc;break;case"focusin":ye="focus",J=ta;break;case"focusout":ye="blur",J=ta;break;case"beforeblur":case"afterblur":J=ta;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=_;break;case pE:case mE:case gE:J=Nc;break;case yE:J=w;break;case"scroll":case"scrollend":J=Ol;break;case"wheel":J=X;break;case"copy":case"cut":case"paste":J=Oc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=fi;break;case"toggle":case"beforetoggle":J=De}var xe=(s&4)!==0,lt=!xe&&(n==="scroll"||n==="scrollend"),G=xe?Q!==null?Q+"Capture":null:Q;xe=[];for(var z=Y,$;z!==null;){var te=z;if($=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||$===null||G===null||(te=mr(z,G),te!=null&&xe.push(lu(z,te,$))),lt)break;z=z.return}0<xe.length&&(Q=new J(Q,ye,null,o,ee),re.push({event:Q,listeners:xe}))}}if((s&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",Q&&o!==Cl&&(ye=o.relatedTarget||o.fromElement)&&(Lr(ye)||ye[Vr]))break e;if((J||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(ye=o.relatedTarget||o.toElement,J=Y,ye=ye?Lr(ye):null,ye!==null&&(lt=l(ye),xe=ye.tag,ye!==lt||xe!==5&&xe!==27&&xe!==6)&&(ye=null)):(J=null,ye=Y),J!==ye)){if(xe=Dl,te="onMouseLeave",G="onMouseEnter",z="mouse",(n==="pointerout"||n==="pointerover")&&(xe=fi,te="onPointerLeave",G="onPointerEnter",z="pointer"),lt=J==null?Q:Dn(J),$=ye==null?Q:Dn(ye),Q=new xe(te,z+"leave",J,o,ee),Q.target=lt,Q.relatedTarget=$,te=null,Lr(ee)===Y&&(xe=new xe(G,z+"enter",ye,o,ee),xe.target=$,xe.relatedTarget=lt,te=xe),lt=te,J&&ye)t:{for(xe=FM,G=J,z=ye,$=0,te=G;te;te=xe(te))$++;te=0;for(var Ee=z;Ee;Ee=xe(Ee))te++;for(;0<$-te;)G=xe(G),$--;for(;0<te-$;)z=xe(z),te--;for(;$--;){if(G===z||z!==null&&G===z.alternate){xe=G;break t}G=xe(G),z=xe(z)}xe=null}else xe=null;J!==null&&qx(re,Q,J,xe,!1),ye!==null&&lt!==null&&qx(re,lt,ye,xe,!0)}}e:{if(Q=Y?Dn(Y):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var Xe=rE;else if(tE(Q))if(iE)Xe=eM;else{Xe=JD;var ve=WD}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&Wa(Y.elementType)&&(Xe=rE):Xe=ZD;if(Xe&&(Xe=Xe(n,Y))){nE(re,Xe,o,ee);break e}ve&&ve(n,Q,Y),n==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Al(Q,"number",Q.value)}switch(ve=Y?Dn(Y):window,n){case"focusin":(tE(ve)||ve.contentEditable==="true")&&(so=ve,Md=Y,Pl=null);break;case"focusout":Pl=Md=so=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,fE(re,o,ee);break;case"selectionchange":if(nM)break;case"keydown":case"keyup":fE(re,o,ee)}var ke;if(Je)e:{switch(n){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else io?na(n,o)&&(ze="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ze="onCompositionStart");ze&&(Yr&&o.locale!=="ko"&&(io||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&io&&(ke=Nl()):(Hr=ee,Il="value"in Hr?Hr.value:Hr.textContent,io=!0)),ve=Rh(Y,ze),0<ve.length&&(ze=new $r(ze,n,null,o,ee),re.push({event:ze,listeners:ve}),ke?ze.data=ke:(ke=ro(o),ke!==null&&(ze.data=ke)))),(ke=Zn?$D(n,o):YD(n,o))&&(ze=Rh(Y,"onBeforeInput"),0<ze.length&&(ve=new $r("onBeforeInput","beforeinput",null,o,ee),re.push({event:ve,listeners:ze}),ve.data=ke)),UM(re,n,Y,o,ee)}Lx(re,s)})}function lu(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Rh(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=mr(n,o),f!=null&&u.unshift(lu(n,f,p)),f=mr(n,s),f!=null&&u.push(lu(n,f,p))),n.tag===3)return u;n=n.return}return[]}function FM(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function qx(n,s,o,u,f){for(var p=s._reactName,E=[];o!==null&&o!==u;){var S=o,P=S.alternate,Y=S.stateNode;if(S=S.tag,P!==null&&P===u)break;S!==5&&S!==26&&S!==27||Y===null||(P=Y,f?(Y=mr(o,p),Y!=null&&E.unshift(lu(o,Y,P))):f||(Y=mr(o,p),Y!=null&&E.push(lu(o,Y,P)))),o=o.return}E.length!==0&&n.push({event:s,listeners:E})}var HM=/\r\n?/g,GM=/\u0000|\uFFFD/g;function zx(n){return(typeof n=="string"?n:""+n).replace(HM,`
`).replace(GM,"")}function Bx(n,s){return s=zx(s),zx(n)===s}function ot(n,s,o,u,f,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||xn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&xn(n,""+u);break;case"className":Mn(n,"class",u);break;case"tabIndex":Mn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(n,o,u);break;case"style":Rl(n,u,p);break;case"data":if(s!=="object"){Mn(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ja(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&ot(n,s,"name",f.name,f,null),ot(n,s,"formEncType",f.formEncType,f,null),ot(n,s,"formMethod",f.formMethod,f,null),ot(n,s,"formTarget",f.formTarget,f,null)):(ot(n,s,"encType",f.encType,f,null),ot(n,s,"method",f.method,f,null),ot(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ja(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=pr);break;case"onScroll":u!=null&&Ue("scroll",n);break;case"onScrollEnd":u!=null&&Ue("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Ja(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Ue("beforetoggle",n),Ue("toggle",n),Qa(n,"popover",u);break;case"xlinkActuate":jt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":jt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":jt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":jt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":jt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":jt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":jt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":jt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":jt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Qa(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Rc.get(o)||o,Qa(n,o,u))}}function sm(n,s,o,u,f,p){switch(o){case"style":Rl(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?xn(n,u):(typeof u=="number"||typeof u=="bigint")&&xn(n,""+u);break;case"onScroll":u!=null&&Ue("scroll",n);break;case"onScrollEnd":u!=null&&Ue("scrollend",n);break;case"onClick":u!=null&&(n.onclick=pr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),p=n[Yt]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(s,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Qa(n,o,u)}}}function rn(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",n),Ue("load",n);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ot(n,s,p,E,o,null)}}f&&ot(n,s,"srcSet",o.srcSet,o,null),u&&ot(n,s,"src",o.src,o,null);return;case"input":Ue("invalid",n);var S=p=E=f=null,P=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var ee=o[u];if(ee!=null)switch(u){case"name":f=ee;break;case"type":E=ee;break;case"checked":P=ee;break;case"defaultChecked":Y=ee;break;case"value":p=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:ot(n,s,u,ee,o,null)}}Sc(n,p,S,P,Y,E,f,!1);return;case"select":Ue("invalid",n),u=E=p=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:ot(n,s,f,S,o,null)}s=p,o=E,n.multiple=!!u,s!=null?Ki(n,!!u,s,!1):o!=null&&Ki(n,!!u,o,!0);return;case"textarea":Ue("invalid",n),p=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:ot(n,s,E,S,o,null)}$i(n,u,f,p);return;case"option":for(P in o)o.hasOwnProperty(P)&&(u=o[P],u!=null)&&(P==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":ot(n,s,P,u,o,null));return;case"dialog":Ue("beforetoggle",n),Ue("toggle",n),Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":Ue("load",n);break;case"video":case"audio":for(u=0;u<ou.length;u++)Ue(ou[u],n);break;case"image":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"embed":case"source":case"link":Ue("error",n),Ue("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ot(n,s,Y,u,o,null)}return;default:if(Wa(s)){for(ee in o)o.hasOwnProperty(ee)&&(u=o[ee],u!==void 0&&sm(n,s,ee,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&ot(n,s,S,u,o,null))}function KM(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,S=null,P=null,Y=null,ee=null;for(J in o){var re=o[J];if(o.hasOwnProperty(J)&&re!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":P=re;default:u.hasOwnProperty(J)||ot(n,s,J,null,u,re)}}for(var Q in u){var J=u[Q];if(re=o[Q],u.hasOwnProperty(Q)&&(J!=null||re!=null))switch(Q){case"type":p=J;break;case"name":f=J;break;case"checked":Y=J;break;case"defaultChecked":ee=J;break;case"value":E=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==re&&ot(n,s,Q,J,u,re)}}Xa(n,E,S,P,Y,ee,p,f);return;case"select":J=E=S=Q=null;for(p in o)if(P=o[p],o.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":J=P;default:u.hasOwnProperty(p)||ot(n,s,p,null,u,P)}for(f in u)if(p=u[f],P=o[f],u.hasOwnProperty(f)&&(p!=null||P!=null))switch(f){case"value":Q=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==P&&ot(n,s,f,p,u,P)}s=S,o=E,u=J,Q!=null?Ki(n,!!o,Q,!1):!!u!=!!o&&(s!=null?Ki(n,!!o,s,!0):Ki(n,!!o,o?[]:"",!1));return;case"textarea":J=Q=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ot(n,s,S,null,u,f)}for(E in u)if(f=u[E],p=o[E],u.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":Q=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==p&&ot(n,s,E,f,u,p)}Ac(n,Q,J);return;case"option":for(var ye in o)Q=o[ye],o.hasOwnProperty(ye)&&Q!=null&&!u.hasOwnProperty(ye)&&(ye==="selected"?n.selected=!1:ot(n,s,ye,null,u,Q));for(P in u)Q=u[P],J=o[P],u.hasOwnProperty(P)&&Q!==J&&(Q!=null||J!=null)&&(P==="selected"?n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":ot(n,s,P,Q,u,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)Q=o[xe],o.hasOwnProperty(xe)&&Q!=null&&!u.hasOwnProperty(xe)&&ot(n,s,xe,null,u,Q);for(Y in u)if(Q=u[Y],J=o[Y],u.hasOwnProperty(Y)&&Q!==J&&(Q!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:ot(n,s,Y,Q,u,J)}return;default:if(Wa(s)){for(var lt in o)Q=o[lt],o.hasOwnProperty(lt)&&Q!==void 0&&!u.hasOwnProperty(lt)&&sm(n,s,lt,void 0,u,Q);for(ee in u)Q=u[ee],J=o[ee],!u.hasOwnProperty(ee)||Q===J||Q===void 0&&J===void 0||sm(n,s,ee,Q,u,J);return}}for(var G in o)Q=o[G],o.hasOwnProperty(G)&&Q!=null&&!u.hasOwnProperty(G)&&ot(n,s,G,null,u,Q);for(re in u)Q=u[re],J=o[re],!u.hasOwnProperty(re)||Q===J||Q==null&&J==null||ot(n,s,re,Q,u,J)}function Fx(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $M(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],p=f.transferSize,E=f.initiatorType,S=f.duration;if(p&&S&&Fx(E)){for(E=0,S=f.responseEnd,u+=1;u<o.length;u++){var P=o[u],Y=P.startTime;if(Y>S)break;var ee=P.transferSize,re=P.initiatorType;ee&&Fx(re)&&(P=P.responseEnd,E+=ee*(P<S?1:(S-Y)/(P-Y)))}if(--u,s+=8*(p+E)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var am=null,om=null;function Ch(n){return n.nodeType===9?n:n.ownerDocument}function Hx(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gx(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function lm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var um=null;function YM(){var n=window.event;return n&&n.type==="popstate"?n===um?!1:(um=n,!0):(um=null,!1)}var Kx=typeof setTimeout=="function"?setTimeout:void 0,QM=typeof clearTimeout=="function"?clearTimeout:void 0,$x=typeof Promise=="function"?Promise:void 0,XM=typeof queueMicrotask=="function"?queueMicrotask:typeof $x<"u"?function(n){return $x.resolve(null).then(n).catch(WM)}:Kx;function WM(n){setTimeout(function(){throw n})}function gs(n){return n==="head"}function Yx(n,s){var o=s,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(f),Mo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")uu(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,uu(o);for(var p=o.firstChild;p;){var E=p.nextSibling,S=p.nodeName;p[Pr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=E}}else o==="body"&&uu(n.ownerDocument.body);o=f}while(o);Mo(s)}function Qx(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function cm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":cm(o),Ya(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function JM(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Pr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=ar(n.nextSibling),n===null)break}return null}function ZM(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=ar(n.nextSibling),n===null))return null;return n}function Xx(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=ar(n.nextSibling),n===null))return null;return n}function hm(n){return n.data==="$?"||n.data==="$~"}function fm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function ej(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function ar(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var dm=null;function Wx(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return ar(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function Jx(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function Zx(n,s,o){switch(s=Ch(o),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function uu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ya(n)}var or=new Map,eS=new Set;function Ih(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ri=ce.d;ce.d={f:tj,r:nj,D:rj,C:ij,L:sj,m:aj,X:lj,S:oj,M:uj};function tj(){var n=Ri.f(),s=bh();return n||s}function nj(n){var s=Xn(n);s!==null&&s.tag===5&&s.type==="form"?yT(s):Ri.r(n)}var No=typeof document>"u"?null:document;function tS(n,s,o){var u=No;if(u&&typeof s=="string"&&s){var f=Tn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),eS.has(f)||(eS.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),rn(s,"link",n),Mt(s),u.head.appendChild(s)))}}function rj(n){Ri.D(n),tS("dns-prefetch",n,null)}function ij(n,s){Ri.C(n,s),tS("preconnect",n,s)}function sj(n,s,o){Ri.L(n,s,o);var u=No;if(u&&n&&s){var f='link[rel="preload"][as="'+Tn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Tn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Tn(o.imageSizes)+'"]')):f+='[href="'+Tn(n)+'"]';var p=f;switch(s){case"style":p=Oo(n);break;case"script":p=Do(n)}or.has(p)||(n=b({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),or.set(p,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(cu(p))||s==="script"&&u.querySelector(hu(p))||(s=u.createElement("link"),rn(s,"link",n),Mt(s),u.head.appendChild(s)))}}function aj(n,s){Ri.m(n,s);var o=No;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Tn(u)+'"][href="'+Tn(n)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Do(n)}if(!or.has(p)&&(n=b({rel:"modulepreload",href:n},s),or.set(p,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(hu(p)))return}u=o.createElement("link"),rn(u,"link",n),Mt(u),o.head.appendChild(u)}}}function oj(n,s,o){Ri.S(n,s,o);var u=No;if(u&&n){var f=Ur(u).hoistableStyles,p=Oo(n);s=s||"default";var E=f.get(p);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(cu(p)))S.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":s},o),(o=or.get(p))&&pm(n,o);var P=E=u.createElement("link");Mt(P),rn(P,"link",n),P._p=new Promise(function(Y,ee){P.onload=Y,P.onerror=ee}),P.addEventListener("load",function(){S.loading|=1}),P.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Nh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(p,E)}}}function lj(n,s){Ri.X(n,s);var o=No;if(o&&n){var u=Ur(o).hoistableScripts,f=Do(n),p=u.get(f);p||(p=o.querySelector(hu(f)),p||(n=b({src:n,async:!0},s),(s=or.get(f))&&mm(n,s),p=o.createElement("script"),Mt(p),rn(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function uj(n,s){Ri.M(n,s);var o=No;if(o&&n){var u=Ur(o).hoistableScripts,f=Do(n),p=u.get(f);p||(p=o.querySelector(hu(f)),p||(n=b({src:n,async:!0,type:"module"},s),(s=or.get(f))&&mm(n,s),p=o.createElement("script"),Mt(p),rn(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function nS(n,s,o,u){var f=(f=fe.current)?Ih(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Oo(o.href),o=Ur(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Oo(o.href);var p=Ur(f).hoistableStyles,E=p.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=f.querySelector(cu(n)))&&!p._p&&(E.instance=p,E.state.loading=5),or.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},or.set(n,o),p||cj(f,n,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Do(o),o=Ur(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Oo(n){return'href="'+Tn(n)+'"'}function cu(n){return'link[rel="stylesheet"]['+n+"]"}function rS(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function cj(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),rn(s,"link",o),Mt(s),n.head.appendChild(s))}function Do(n){return'[src="'+Tn(n)+'"]'}function hu(n){return"script[async]"+n}function iS(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Tn(o.href)+'"]');if(u)return s.instance=u,Mt(u),u;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Mt(u),rn(u,"style",f),Nh(u,o.precedence,n),s.instance=u;case"stylesheet":f=Oo(o.href);var p=n.querySelector(cu(f));if(p)return s.state.loading|=4,s.instance=p,Mt(p),p;u=rS(o),(f=or.get(f))&&pm(u,f),p=(n.ownerDocument||n).createElement("link"),Mt(p);var E=p;return E._p=new Promise(function(S,P){E.onload=S,E.onerror=P}),rn(p,"link",u),s.state.loading|=4,Nh(p,o.precedence,n),s.instance=p;case"script":return p=Do(o.src),(f=n.querySelector(hu(p)))?(s.instance=f,Mt(f),f):(u=o,(f=or.get(p))&&(u=b({},o),mm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Mt(f),rn(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Nh(u,o.precedence,n));return s.instance}function Nh(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===s)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function pm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function mm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Oh=null;function sS(n,s,o){if(Oh===null){var u=new Map,f=Oh=new Map;f.set(o,u)}else f=Oh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var p=o[f];if(!(p[Pr]||p[Dt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(s)||"";E=n+E;var S=u.get(E);S?S.push(p):u.set(E,[p])}}return u}function aS(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function hj(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function oS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function fj(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Oo(u.href),p=s.querySelector(cu(f));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Dh.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=p,Mt(p);return}p=s.ownerDocument||s,u=rS(u),(f=or.get(f))&&pm(u,f),p=p.createElement("link"),Mt(p);var E=p;E._p=new Promise(function(S,P){E.onload=S,E.onerror=P}),rn(p,"link",u),o.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Dh.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var gm=0;function dj(n,s){return n.stylesheets&&n.count===0&&jh(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&jh(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+s);0<n.imgBytes&&gm===0&&(gm=62500*$M());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&jh(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>gm?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Mh=null;function jh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Mh=new Map,s.forEach(pj,n),Mh=null,Dh.call(n))}function pj(n,s){if(!(s.state.loading&4)){var o=Mh.get(n);if(o)var u=o.get(null);else{o=new Map,Mh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,f),o.set(E,f),this.count++,u=Dh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var fu={$$typeof:W,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function mj(n,s,o,u,f,p,E,S,P){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function lS(n,s,o,u,f,p,E,S,P,Y,ee,re){return n=new mj(n,s,o,E,P,Y,ee,re,S),s=1,p===!0&&(s|=24),p=kn(3,null,null,s),n.current=p,p.stateNode=n,s=Qd(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},Zd(p),n}function uS(n){return n?(n=lo,n):lo}function cS(n,s,o,u,f,p){f=uS(f),u.context===null?u.context=f:u.pendingContext=f,u=ss(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=as(n,u,s),o!==null&&(Cn(o,n,s),Hl(o,n,s))}function hS(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function ym(n,s){hS(n,s),(n=n.alternate)&&hS(n,s)}function fS(n){if(n.tag===13||n.tag===31){var s=sa(n,67108864);s!==null&&Cn(s,n,67108864),ym(n,67108864)}}function dS(n){if(n.tag===13||n.tag===31){var s=qn();s=$s(s);var o=sa(n,s);o!==null&&Cn(o,n,s),ym(n,s)}}var kh=!0;function gj(n,s,o,u){var f=Z.T;Z.T=null;var p=ce.p;try{ce.p=2,vm(n,s,o,u)}finally{ce.p=p,Z.T=f}}function yj(n,s,o,u){var f=Z.T;Z.T=null;var p=ce.p;try{ce.p=8,vm(n,s,o,u)}finally{ce.p=p,Z.T=f}}function vm(n,s,o,u){if(kh){var f=_m(u);if(f===null)im(n,s,u,Vh,o),mS(n,u);else if(_j(f,n,s,o,u))u.stopPropagation();else if(mS(n,u),s&4&&-1<vj.indexOf(n)){for(;f!==null;){var p=Xn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Mr(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var P=1<<31-St(E);S.entanglements[1]|=P,E&=~P}Jr(p),(Ze&6)===0&&(vh=It()+500,au(0))}}break;case 31:case 13:S=sa(p,2),S!==null&&Cn(S,p,2),bh(),ym(p,2)}if(p=_m(u),p===null&&im(n,s,u,Vh,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else im(n,s,u,null,o)}}function _m(n){return n=Wn(n),bm(n)}var Vh=null;function bm(n){if(Vh=null,n=Lr(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Vh=n,null}function pS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yn()){case zs:return 2;case Hi:return 8;case vn:case Ha:return 32;case Bs:return 268435456;default:return 32}default:return 32}}var Em=!1,ys=null,vs=null,_s=null,du=new Map,pu=new Map,bs=[],vj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mS(n,s){switch(n){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":du.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(s.pointerId)}}function mu(n,s,o,u,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},s!==null&&(s=Xn(s),s!==null&&fS(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function _j(n,s,o,u,f){switch(s){case"focusin":return ys=mu(ys,n,s,o,u,f),!0;case"dragenter":return vs=mu(vs,n,s,o,u,f),!0;case"mouseover":return _s=mu(_s,n,s,o,u,f),!0;case"pointerover":var p=f.pointerId;return du.set(p,mu(du.get(p)||null,n,s,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,pu.set(p,mu(pu.get(p)||null,n,s,o,u,f)),!0}return!1}function gS(n){var s=Lr(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,fr(n.priority,function(){dS(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,fr(n.priority,function(){dS(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ph(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=_m(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Cl=u,o.target.dispatchEvent(u),Cl=null}else return s=Xn(o),s!==null&&fS(s),n.blockedOn=o,!1;s.shift()}return!0}function yS(n,s,o){Ph(n)&&o.delete(s)}function bj(){Em=!1,ys!==null&&Ph(ys)&&(ys=null),vs!==null&&Ph(vs)&&(vs=null),_s!==null&&Ph(_s)&&(_s=null),du.forEach(yS),pu.forEach(yS)}function Lh(n,s){n.blockedOn===s&&(n.blockedOn=null,Em||(Em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bj)))}var Uh=null;function vS(n){Uh!==n&&(Uh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Uh===n&&(Uh=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(bm(u||o)===null)continue;break}var p=Xn(o);p!==null&&(n.splice(s,3),s-=3,_p(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Mo(n){function s(P){return Lh(P,n)}ys!==null&&Lh(ys,n),vs!==null&&Lh(vs,n),_s!==null&&Lh(_s,n),du.forEach(s),pu.forEach(s);for(var o=0;o<bs.length;o++){var u=bs[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<bs.length&&(o=bs[0],o.blockedOn===null);)gS(o),o.blockedOn===null&&bs.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],E=f[Yt]||null;if(typeof p=="function")E||vS(o);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[Yt]||null)S=E.formAction;else if(bm(f)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),vS(o)}}}function _S(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Tm(n){this._internalRoot=n}qh.prototype.render=Tm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=qn();cS(o,u,n,s,null,null)},qh.prototype.unmount=Tm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;cS(n.current,2,null,n,null,null),bh(),s[Vr]=null}};function qh(n){this._internalRoot=n}qh.prototype.unstable_scheduleHydration=function(n){if(n){var s=bc();n={blockedOn:null,target:n,priority:s};for(var o=0;o<bs.length&&s!==0&&s<bs[o].priority;o++);bs.splice(o,0,n),o===0&&gS(n)}};var bS=e.version;if(bS!=="19.2.3")throw Error(i(527,bS,"19.2.3"));ce.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var Ej={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{Nt=zh.inject(Ej),ft=zh}catch{}}return xu.createRoot=function(n,s){if(!a(n))throw Error(i(299));var o=!1,u="",f=RT,p=CT,E=IT;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=lS(n,1,!1,null,null,o,u,null,f,p,E,_S),n[Vr]=s.current,rm(n),new Tm(s)},xu.hydrateRoot=function(n,s,o){if(!a(n))throw Error(i(299));var u=!1,f="",p=RT,E=CT,S=IT,P=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(P=o.formState)),s=lS(n,1,!0,s,o??null,u,f,P,p,E,S,_S),s.context=uS(null),o=s.current,u=qn(),u=$s(u),f=ss(u),f.callback=null,as(o,f,u),o=u,s.current.lanes=o,Gs(s,o),Jr(s),n[Vr]=s.current,rm(n),new qh(s)},xu.version="19.2.3",xu}var RC;function iB(){if(RC)return Fv.exports;RC=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fv.exports=rB(),Fv.exports}var sB=iB();function hn(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var aB=typeof Symbol=="function"&&Symbol.observable||"@@observable",CC=aB,Kv=()=>Math.random().toString(36).substring(7).split("").join("."),oB={INIT:`@@redux/INIT${Kv()}`,REPLACE:`@@redux/REPLACE${Kv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kv()}`},Pf=oB;function lB(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function MD(r,e,t){if(typeof r!="function")throw new Error(hn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(hn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(hn(1));return t(MD)(r,e)}let i=r,a=e,l=new Map,c=l,d=0,m=!1;function g(){c===l&&(c=new Map,l.forEach((j,H)=>{c.set(H,j)}))}function v(){if(m)throw new Error(hn(3));return a}function b(j){if(typeof j!="function")throw new Error(hn(4));if(m)throw new Error(hn(5));let H=!0;g();const B=d++;return c.set(B,j),function(){if(H){if(m)throw new Error(hn(6));H=!1,g(),c.delete(B),l=null}}}function x(j){if(!lB(j))throw new Error(hn(7));if(typeof j.type>"u")throw new Error(hn(8));if(typeof j.type!="string")throw new Error(hn(17));if(m)throw new Error(hn(9));try{m=!0,a=i(a,j)}finally{m=!1}return(l=c).forEach(B=>{B()}),j}function A(j){if(typeof j!="function")throw new Error(hn(10));i=j,x({type:Pf.REPLACE})}function k(){const j=b;return{subscribe(H){if(typeof H!="object"||H===null)throw new Error(hn(11));function B(){const oe=H;oe.next&&oe.next(v())}return B(),{unsubscribe:j(B)}},[CC](){return this}}}return x({type:Pf.INIT}),{dispatch:x,subscribe:b,getState:v,replaceReducer:A,[CC]:k}}function Ho(r,e,t){return MD(r,e,t)}function uB(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:Pf.INIT})>"u")throw new Error(hn(12));if(typeof t(void 0,{type:Pf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hn(13))})}function cB(r){const e=Object.keys(r),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof r[c]=="function"&&(t[c]=r[c])}const i=Object.keys(t);let a;try{uB(t)}catch(l){a=l}return function(c={},d){if(a)throw a;let m=!1;const g={};for(let v=0;v<i.length;v++){const b=i[v],x=t[b],A=c[b],k=x(A,d);if(typeof k>"u")throw d&&d.type,new Error(hn(14));g[b]=k,m=m||k!==A}return m=m||i.length!==Object.keys(c).length,m?g:c}}var $v,IC;function hB(){if(IC)return $v;IC=1;function r(e,t){for(var i=-1,a=e==null?0:e.length;++i<a&&t(e[i],i,e)!==!1;);return e}return $v=r,$v}var Yv,NC;function gl(){if(NC)return Yv;NC=1;var r=Q0(),e=Kf();function t(i,a,l,c){var d=!l;l||(l={});for(var m=-1,g=a.length;++m<g;){var v=a[m],b=c?c(l[v],i[v],v,l,i):void 0;b===void 0&&(b=i[v]),d?e(l,v,b):r(l,v,b)}return l}return Yv=t,Yv}var Qv,OC;function fB(){if(OC)return Qv;OC=1;var r=gl(),e=Ua();function t(i,a){return i&&r(a,e(a),i)}return Qv=t,Qv}var Xv,DC;function dB(){if(DC)return Xv;DC=1;function r(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}return Xv=r,Xv}var Wv,MC;function pB(){if(MC)return Wv;MC=1;var r=cr(),e=P0(),t=dB(),i=Object.prototype,a=i.hasOwnProperty;function l(c){if(!r(c))return t(c);var d=e(c),m=[];for(var g in c)g=="constructor"&&(d||!a.call(c,g))||m.push(g);return m}return Wv=l,Wv}var Jv,jC;function gc(){if(jC)return Jv;jC=1;var r=vN(),e=pB(),t=sl();function i(a){return t(a)?r(a,!0):e(a)}return Jv=i,Jv}var Zv,kC;function mB(){if(kC)return Zv;kC=1;var r=gl(),e=gc();function t(i,a){return i&&r(a,e(a),i)}return Zv=t,Zv}var Ou={exports:{}};Ou.exports;var VC;function jD(){return VC||(VC=1,(function(r,e){var t=Or(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,l=a&&a.exports===i,c=l?t.Buffer:void 0,d=c?c.allocUnsafe:void 0;function m(g,v){if(v)return g.slice();var b=g.length,x=d?d(b):new g.constructor(b);return g.copy(x),x}r.exports=m})(Ou,Ou.exports)),Ou.exports}var e_,PC;function gB(){if(PC)return e_;PC=1;var r=gl(),e=z0();function t(i,a){return r(i,e(i),a)}return e_=t,e_}var t_,LC;function Jb(){if(LC)return t_;LC=1;var r=_N(),e=r(Object.getPrototypeOf,Object);return t_=e,t_}var n_,UC;function kD(){if(UC)return n_;UC=1;var r=nd(),e=Jb(),t=z0(),i=SN(),a=Object.getOwnPropertySymbols,l=a?function(c){for(var d=[];c;)r(d,t(c)),c=e(c);return d}:i;return n_=l,n_}var r_,qC;function yB(){if(qC)return r_;qC=1;var r=gl(),e=kD();function t(i,a){return r(i,e(i),a)}return r_=t,r_}var i_,zC;function VD(){if(zC)return i_;zC=1;var r=TN(),e=kD(),t=gc();function i(a){return r(a,t,e)}return i_=i,i_}var s_,BC;function vB(){if(BC)return s_;BC=1;var r=Object.prototype,e=r.hasOwnProperty;function t(i){var a=i.length,l=new i.constructor(a);return a&&typeof i[0]=="string"&&e.call(i,"index")&&(l.index=i.index,l.input=i.input),l}return s_=t,s_}var a_,FC;function Zb(){if(FC)return a_;FC=1;var r=EN();function e(t){var i=new t.constructor(t.byteLength);return new r(i).set(new r(t)),i}return a_=e,a_}var o_,HC;function _B(){if(HC)return o_;HC=1;var r=Zb();function e(t,i){var a=i?r(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}return o_=e,o_}var l_,GC;function bB(){if(GC)return l_;GC=1;var r=/\w*$/;function e(t){var i=new t.constructor(t.source,r.exec(t));return i.lastIndex=t.lastIndex,i}return l_=e,l_}var u_,KC;function EB(){if(KC)return u_;KC=1;var r=il(),e=r?r.prototype:void 0,t=e?e.valueOf:void 0;function i(a){return t?Object(t.call(a)):{}}return u_=i,u_}var c_,$C;function PD(){if($C)return c_;$C=1;var r=Zb();function e(t,i){var a=i?r(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}return c_=e,c_}var h_,YC;function TB(){if(YC)return h_;YC=1;var r=Zb(),e=_B(),t=bB(),i=EB(),a=PD(),l="[object Boolean]",c="[object Date]",d="[object Map]",m="[object Number]",g="[object RegExp]",v="[object Set]",b="[object String]",x="[object Symbol]",A="[object ArrayBuffer]",k="[object DataView]",L="[object Float32Array]",j="[object Float64Array]",H="[object Int8Array]",B="[object Int16Array]",W="[object Int32Array]",oe="[object Uint8Array]",ue="[object Uint8ClampedArray]",le="[object Uint16Array]",C="[object Uint32Array]";function R(O,V,M){var q=O.constructor;switch(V){case A:return r(O);case l:case c:return new q(+O);case k:return e(O,M);case L:case j:case H:case B:case W:case oe:case ue:case le:case C:return a(O,M);case d:return new q;case m:case b:return new q(O);case g:return t(O);case v:return new q;case x:return i(O)}}return h_=R,h_}var f_,QC;function xB(){if(QC)return f_;QC=1;var r=cr(),e=Object.create,t=(function(){function i(){}return function(a){if(!r(a))return{};if(e)return e(a);i.prototype=a;var l=new i;return i.prototype=void 0,l}})();return f_=t,f_}var d_,XC;function LD(){if(XC)return d_;XC=1;var r=xB(),e=Jb(),t=P0();function i(a){return typeof a.constructor=="function"&&!t(a)?r(e(a)):{}}return d_=i,d_}var p_,WC;function SB(){if(WC)return p_;WC=1;var r=rd(),e=li(),t="[object Map]";function i(a){return e(a)&&r(a)==t}return p_=i,p_}var m_,JC;function AB(){if(JC)return m_;JC=1;var r=SB(),e=Xf(),t=k0(),i=t&&t.isMap,a=i?e(i):r;return m_=a,m_}var g_,ZC;function wB(){if(ZC)return g_;ZC=1;var r=rd(),e=li(),t="[object Set]";function i(a){return e(a)&&r(a)==t}return g_=i,g_}var y_,eI;function RB(){if(eI)return y_;eI=1;var r=wB(),e=Xf(),t=k0(),i=t&&t.isSet,a=i?e(i):r;return y_=a,y_}var v_,tI;function UD(){if(tI)return v_;tI=1;var r=td(),e=hB(),t=Q0(),i=fB(),a=mB(),l=jD(),c=Y0(),d=gB(),m=yB(),g=AN(),v=VD(),b=rd(),x=vB(),A=TB(),k=LD(),L=ln(),j=Yf(),H=AB(),B=cr(),W=RB(),oe=Ua(),ue=gc(),le=1,C=2,R=4,O="[object Arguments]",V="[object Array]",M="[object Boolean]",q="[object Date]",N="[object Error]",Se="[object Function]",Ce="[object GeneratorFunction]",Z="[object Map]",ce="[object Number]",ge="[object Object]",je="[object RegExp]",Ve="[object Set]",I="[object String]",U="[object Symbol]",ae="[object WeakMap]",se="[object ArrayBuffer]",he="[object DataView]",fe="[object Float32Array]",_e="[object Float64Array]",be="[object Int8Array]",we="[object Int16Array]",et="[object Int32Array]",yn="[object Uint8Array]",Tt="[object Uint8ClampedArray]",En="[object Uint16Array]",Hn="[object Uint32Array]",Qe={};Qe[O]=Qe[V]=Qe[se]=Qe[he]=Qe[M]=Qe[q]=Qe[fe]=Qe[_e]=Qe[be]=Qe[we]=Qe[et]=Qe[Z]=Qe[ce]=Qe[ge]=Qe[je]=Qe[Ve]=Qe[I]=Qe[U]=Qe[yn]=Qe[Tt]=Qe[En]=Qe[Hn]=!0,Qe[N]=Qe[Se]=Qe[ae]=!1;function Gn(Ke,Kn,ut,xt,On,$n){var Ht,It=Kn&le,Yn=Kn&C,zs=Kn&R;if(ut&&(Ht=On?ut(Ke,xt,On,$n):ut(Ke)),Ht!==void 0)return Ht;if(!B(Ke))return Ke;var Hi=L(Ke);if(Hi){if(Ht=x(Ke),!It)return c(Ke,Ht)}else{var vn=b(Ke),Ha=vn==Se||vn==Ce;if(j(Ke))return l(Ke,It);if(vn==ge||vn==O||Ha&&!On){if(Ht=Yn||Ha?{}:k(Ke),!It)return Yn?m(Ke,a(Ht,Ke)):d(Ke,i(Ht,Ke))}else{if(!Qe[vn])return On?Ke:{};Ht=A(Ke,vn,It)}}$n||($n=new r);var Bs=$n.get(Ke);if(Bs)return Bs;$n.set(Ke,Ht),W(Ke)?Ke.forEach(function(Nt){Ht.add(Gn(Nt,Kn,ut,Nt,Ke,$n))}):H(Ke)&&Ke.forEach(function(Nt,ft){Ht.set(ft,Gn(Nt,Kn,ut,ft,Ke,$n))});var Ga=zs?Yn?v:g:Yn?ue:oe,Fs=Hi?void 0:Ga(Ke);return e(Fs||Ke,function(Nt,ft){Fs&&(ft=Nt,Nt=Ke[ft]),t(Ht,ft,Gn(Nt,Kn,ut,ft,Ke,$n))}),Ht}return v_=Gn,v_}var __,nI;function CB(){if(nI)return __;nI=1;var r=UD(),e=4;function t(i){return r(i,e)}return __=t,__}var IB=CB();const zn=Ft(IB);var b_,rI;function NB(){if(rI)return b_;rI=1;function r(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return b_=r,b_}var E_,iI;function OB(){if(iI)return E_;iI=1;function r(e,t,i){var a=-1,l=e.length;t<0&&(t=-t>l?0:l+t),i=i>l?l:i,i<0&&(i+=l),l=t>i?0:i-t>>>0,t>>>=0;for(var c=Array(l);++a<l;)c[a]=e[a+t];return c}return E_=r,E_}var T_,sI;function DB(){if(sI)return T_;sI=1;var r=sd(),e=OB();function t(i,a){return a.length<2?i:r(i,e(a,0,-1))}return T_=t,T_}var x_,aI;function qD(){if(aI)return x_;aI=1;var r=sc(),e=NB(),t=DB(),i=al(),a=Object.prototype,l=a.hasOwnProperty;function c(d,m){m=r(m,d);var g=-1,v=m.length;if(!v)return!0;for(var b=d==null||typeof d!="object"&&typeof d!="function";++g<v;){var x=m[g];if(typeof x=="string"){if(x==="__proto__"&&!l.call(d,"__proto__"))return!1;if(x==="constructor"&&g+1<v&&typeof m[g+1]=="string"&&m[g+1]==="prototype"){if(b&&g===0)continue;return!1}}}var A=t(d,m);return A==null||delete A[i(e(m))]}return x_=c,x_}var S_,oI;function MB(){if(oI)return S_;oI=1;var r=qD();function e(t,i){return t==null?!0:r(t,i)}return S_=e,S_}var jB=MB();const Xh=Ft(jB),kB=(r={},e)=>{switch(e.type){case"TOGGLE_ITEM":{const t=zn(r),i=e.game==="warframe"&&e.category==="resets";return Mu(t,[e.game,e.category,e.title])?Xh(t,[e.game,e.category,e.title]):ba(t,[e.game,e.category,e.title],i?Date.now():!0),t}case"CLEAR_ITEMS":{const t=zn(r);return e.titles&&e.titles.length&&e.titles.forEach(i=>{Mu(t,[e.game,e.category,i])&&Xh(t,[e.game,e.category,i])}),t}case"ADD_BUILD_ITEM":{const t=zn(r),i=e.item.id||e.item.title;return ba(t,[e.game,e.category,i],e.item),t}case"REMOVE_BUILD_ITEM":{const t=zn(r);return Xh(t,[e.game,e.category,e.title]),t}case"UPDATE_BUILD_ITEM":{const t=zn(r),i=e.title,a=e.item.id||e.item.title;return Mu(t,[e.game,e.category,i])&&(i!==a&&Xh(t,[e.game,e.category,i]),ba(t,[e.game,e.category,a],e.item)),t}case"UPLOAD_STATE":return e.state&&e.state.gameConfig?e.state.gameConfig:r;default:return r}},VB=(r=Jt.SHOW_ALL,e)=>e.type==="SET_VISIBILITY_FILTER"?e.filter:r,PB=(r=Jt.SHOW_ALL,e)=>e.type==="SET_RELIC_VISIBILITY"?e.filter:r,LB=(r="",e)=>e.type==="SET_SEARCH_VALUE"?e.value:r,UB=()=>{try{const r=localStorage.getItem("state");return r===null?void 0:JSON.parse(r)}catch{return}},qB=(r={state:"backup"},e)=>{if(e.type==="DOWNLOAD_STATE"){const t=new Blob([JSON.stringify(UB(),null," ")],{type:"text/json;charset=utf-8"});return OD.saveAs(t,"state.json"),r}else return r};var A_,lI;function zD(){if(lI)return A_;lI=1;var r=Pa(),e=Jb(),t=li(),i="[object Object]",a=Function.prototype,l=Object.prototype,c=a.toString,d=l.hasOwnProperty,m=c.call(Object);function g(v){if(!t(v)||r(v)!=i)return!1;var b=e(v);if(b===null)return!0;var x=d.call(b,"constructor")&&b.constructor;return typeof x=="function"&&x instanceof x&&c.call(x)==m}return A_=g,A_}var w_,uI;function zB(){if(uI)return w_;uI=1;var r=zD();function e(t){return r(t)?void 0:t}return w_=e,w_}var R_,cI;function BB(){if(cI)return R_;cI=1;var r=G0();function e(t){var i=t==null?0:t.length;return i?r(t,1):[]}return R_=e,R_}var C_,hI;function FB(){if(hI)return C_;hI=1;var r=BB(),e=kN(),t=VN();function i(a){return t(e(a,void 0,r),a+"")}return C_=i,C_}var I_,fI;function HB(){if(fI)return I_;fI=1;var r=id(),e=UD(),t=qD(),i=sc(),a=gl(),l=zB(),c=FB(),d=VD(),m=1,g=2,v=4,b=c(function(x,A){var k={};if(x==null)return k;var L=!1;A=r(A,function(H){return H=i(H,x),L||(L=H.length>1),H}),a(x,d(x),k),L&&(k=e(k,m|g|v,l));for(var j=A.length;j--;)t(k,A[j]);return k});return I_=b,I_}var GB=HB();const eE=Ft(GB);function Su(r){const e=r.item&&r.item.title?r.item.title:r.title;return`${r.game}-${r.category}-${e}`}const KB=(r={},e)=>{switch(e.type){case"ADD_ITEM":{const t=zn(r),i=e.item;return i.timestamp=Date.now(),t[Su(e)]=i,t}case"REMOVE_ITEM":{const t=zn(r);return eE(t,Su(e))}case"INCREMENT_ITEM":{const t=Su(e);if(!r[t])return r;const i=zn(r);return i[t].count=(r[t].count?r[t].count:0)+1,i}case"DECREMENT_ITEM":{const t=Su(e);if(!r[t])return r;const i=zn(r);return r[t].count>0&&(i[t].count=(r[t].count?r[t].count:0)-1),i}case"UPDATE_ITEM":{const t=Su(e);if(!r[t])return r;const i=zn(r);return i[t].notes=e.notes,e.count!==void 0&&(i[t].count=e.count),i}default:return r}};function dI(r){const e=r.item&&r.item.title?r.item.title:r.title;return`${r.game}-${r.category}-${e}`}const $B=(r={},e)=>{switch(e.type){case"ADD_VOID_ITEM":{const t=zn(r),i=e.item;return i.timestamp=Date.now(),t[dI(e)]=i,t}case"REMOVE_VOID_ITEM":{const t=zn(r);return eE(t,dI(e))}default:return r}};function YB(r){return r.relic&&r.relic.title?r.relic.title:r.title}const QB=(r={},e)=>{switch(e.type){case"TOGGLE_RELIC":{const t=zn(r),i=YB(e),a=e.relic;if(a.timestamp=Date.now(),!r[i])a.available=!0,t[i]=a;else if(r[i].available===!0)a.available=!1,t[i]=a;else return eE(t,i);return t}default:return r}},Go=cB({gameConfig:kB,visibilityFilter:VB,relicVisibility:PB,searchFilter:LB,stateBackup:qB,todoItems:KB,voidDrops:$B,markedRelics:QB}),BD=({open:r,onUseCloud:e,onUseLocal:t,onMerge:i,cloudUpdated:a,localUpdated:l})=>r?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-11/12 md:w-3/4 overflow-hidden animate-in fade-in zoom-in duration-200 text-left",children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:y.jsx(Du,{className:"text-2xl text-sky-700"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Sync Conflict Detected"})]}),y.jsxs("div",{className:"space-y-4 text-gray-600",children:[y.jsx("p",{children:"You have data both in the cloud and locally on this device. Which version would you like to use?"}),y.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2 border border-gray-100",children:[y.jsxs("div",{className:"flex justify-between items-center text-lg",children:[y.jsxs("span",{className:"font-medium text-gray-500 flex items-center gap-1.5",children:[y.jsx(Du,{className:"text-xl"})," Cloud data:"]}),y.jsx("span",{className:"text-gray-900",children:a?new Date(a).toLocaleString():"unknown"})]}),y.jsxs("div",{className:"flex justify-between items-center text-lg",children:[y.jsxs("span",{className:"font-medium text-gray-500 flex items-center gap-1.5",children:[y.jsx(H_,{className:"text-xl"})," Local data:"]}),y.jsx("span",{className:"text-gray-900",children:l?new Date(l).toLocaleString():"recently"})]})]})]})]}),y.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex flex-col gap-2",children:[y.jsxs("button",{onClick:i,className:"flex items-center justify-center gap-2 w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(nN,{className:"text-xl"})," Merge Both"]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[y.jsxs("button",{onClick:e,className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(Du,{className:"text-xl"})," Use Cloud"]}),y.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-2 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors shadow-sm text-lg",children:[y.jsx(H_,{className:"text-xl"})," Use Local"]})]})]})]})}):null;BD.propTypes={open:D.bool.isRequired,onUseCloud:D.func.isRequired,onUseLocal:D.func.isRequired,onMerge:D.func.isRequired,cloudUpdated:D.any,localUpdated:D.any};const FD=({errorType:r,errorMessage:e})=>y.jsxs("div",{className:"m-4 p-4 bg-amber-50 border border-amber-200 rounded-lg text-amber-900 shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(Bf,{className:"text-amber-600 text-xl"}),y.jsx("h3",{className:"text-lg font-bold",children:"Cloud Sync Unavailable"})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"font-semibold",children:"Unable to connect to cloud storage."}),y.jsxs("p",{children:["You're currently using ",y.jsx("strong",{children:"local storage only"}),". Your changes will be saved to this browser, but won't sync across devices until cloud access is restored."]}),y.jsx("p",{children:"For now, Sign Out to remove this banner and use local storage only."}),y.jsxs("div",{className:"pt-2",children:[y.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[y.jsx(Hf,{className:"text-xl"}),y.jsx("span",{children:"What this means:"})]}),y.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[y.jsx("li",{children:"You can continue using the app normally"}),y.jsx("li",{children:"Your data is saved locally in this browser"}),y.jsx("li",{className:"text-amber-800 font-medium",children:"Changes won't sync to the cloud or other devices"}),y.jsx("li",{className:"text-amber-800 font-medium",children:"Clearing browser data will delete your progress"})]})]}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-amber-200 text-sm text-amber-800/80 italic",children:[y.jsx("strong",{children:"Technical details:"})," ",r==="permission-denied"?"Cloud permissions need to be configured. Contact the app administrator.":e||"Connection to cloud storage failed."]})]})]});FD.propTypes={errorType:D.string,errorMessage:D.string};var N_,pI;function HD(){if(pI)return N_;pI=1;var r=Kf(),e=rc();function t(i,a,l){(l!==void 0&&!e(i[a],l)||l===void 0&&!(a in i))&&r(i,a,l)}return N_=t,N_}var O_,mI;function XB(){if(mI)return O_;mI=1;var r=sl(),e=li();function t(i){return e(i)&&r(i)}return O_=t,O_}var D_,gI;function GD(){if(gI)return D_;gI=1;function r(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}return D_=r,D_}var M_,yI;function WB(){if(yI)return M_;yI=1;var r=gl(),e=gc();function t(i){return r(i,e(i))}return M_=t,M_}var j_,vI;function JB(){if(vI)return j_;vI=1;var r=HD(),e=jD(),t=PD(),i=Y0(),a=LD(),l=$f(),c=ln(),d=XB(),m=Yf(),g=M0(),v=cr(),b=zD(),x=V0(),A=GD(),k=WB();function L(j,H,B,W,oe,ue,le){var C=A(j,B),R=A(H,B),O=le.get(R);if(O){r(j,B,O);return}var V=ue?ue(C,R,B+"",j,H,le):void 0,M=V===void 0;if(M){var q=c(R),N=!q&&m(R),Se=!q&&!N&&x(R);V=R,q||N||Se?c(C)?V=C:d(C)?V=i(C):N?(M=!1,V=e(R,!0)):Se?(M=!1,V=t(R,!0)):V=[]:b(R)||l(R)?(V=C,l(C)?V=k(C):(!v(C)||g(C))&&(V=a(R))):M=!1}M&&(le.set(R,V),oe(V,R,W,ue,le),le.delete(R)),r(j,B,V)}return j_=L,j_}var k_,_I;function ZB(){if(_I)return k_;_I=1;var r=td(),e=HD(),t=yN(),i=JB(),a=cr(),l=gc(),c=GD();function d(m,g,v,b,x){m!==g&&t(g,function(A,k){if(x||(x=new r),a(A))i(m,g,k,v,d,b,x);else{var L=b?b(c(m,k),A,k+"",m,g,x):void 0;L===void 0&&(L=A),e(m,k,L)}},l)}return k_=d,k_}var V_,bI;function e7(){if(bI)return V_;bI=1;var r=PN(),e=LN();function t(i){return r(function(a,l){var c=-1,d=l.length,m=d>1?l[d-1]:void 0,g=d>2?l[2]:void 0;for(m=i.length>3&&typeof m=="function"?(d--,m):void 0,g&&e(l[0],l[1],g)&&(m=d<3?void 0:m,d=1),a=Object(a);++c<d;){var v=l[c];v&&i(a,v,c,m)}return a})}return V_=t,V_}var P_,EI;function t7(){if(EI)return P_;EI=1;var r=ZB(),e=e7(),t=e(function(i,a,l){r(i,a,l)});return P_=t,P_}var n7=t7();const r7=Ft(n7),v0=[{name:"warframe",title:"Warframe",format:"yaml"},{name:"soulframe",title:"Soulframe",format:"yaml"},{name:"remnant",title:"Remnant: From the Ashes"},{name:"remnant2",title:"Remnant 2",format:"yaml"},{name:"nioh2",title:"Nioh 2"},{name:"ff7",title:"Final Fantasy VII Remake"},{name:"ff14",title:"Final Fantasy XIV"},{name:"desperadosiii",title:"Desperados III"},{name:"hades",title:"Hades"},{name:"riskofrain2",title:"Risk of Rain 2"},{name:"moonlighter",title:"Moonlighter"},{name:"demonsouls",title:"Demon's Souls"},{name:"d2",title:"Diablo 2"},{name:"eldenring",title:"Elden Ring"},{name:"lordsofthefallen",title:"Lords of the Fallen",format:"yaml"},{name:"shadowgambit",title:"Shadow Gambit: The Cursed Crew",format:"yaml"},{name:"seaofthieves",title:"Sea of Thieves",format:"yaml"},{name:"arcraiders",title:"Arc Raiders",format:"yaml"}],KD=({initialStore:r,conflictData:e})=>{const[t,i]=F.useState(r),[a,l]=F.useState(!!e),c=async()=>{const g=Ho(Go,e.cloudState||void 0);g.subscribe(()=>Ci(g.getState())),await Ci(e.cloudState),i(g),l(!1)},d=async()=>{const g=Ho(Go,e.localState||void 0);g.subscribe(()=>Ci(g.getState())),await Ci(e.localState),i(g),l(!1)},m=async()=>{const g=r7({},e.cloudState,e.localState),v=Ho(Go,g||void 0);v.subscribe(()=>Ci(v.getState())),await Ci(g),i(v),l(!1)};return y.jsxs(y.Fragment,{children:[a&&y.jsx(BD,{open:a,onUseCloud:c,onUseLocal:d,onMerge:m,cloudUpdated:e?.cloudUpdated,localUpdated:Date.now()}),y.jsx(F_,{store:t,children:y.jsx(Vf,{configs:v0})})]})};KD.propTypes={initialStore:D.object.isRequired,conflictData:D.shape({cloudState:D.object,localState:D.object,cloudUpdated:D.oneOfType([D.instanceOf(Date),D.number,D.string])})};const i7=async()=>{await new Promise(t=>{const i=ob(Cr,()=>{i(),t()})});const r=await Hz();if(r&&r._conflict){const t=Ho(Go,void 0);return{conflict:!0,conflictData:r,store:t}}if(r&&r._error){const t=Ho(Go,r.localState||void 0);return{error:!0,errorData:r,store:t}}const e=Ho(Go,r||void 0);return e.subscribe(()=>Ci(e.getState())),{store:e}};i7().then(r=>{const e=document.createElement("div");document.body.appendChild(e);const t=sB.createRoot(e);r.conflict?t.render(y.jsx(KD,{initialStore:r.store,conflictData:r.conflictData})):r.error?t.render(y.jsxs(F_,{store:r.store,children:[y.jsx(FD,{errorType:r.errorData.errorType,errorMessage:r.errorData.errorMessage}),y.jsx(Vf,{configs:v0})]})):t.render(y.jsx(F_,{store:r.store,children:y.jsx(Vf,{configs:v0})}))});
